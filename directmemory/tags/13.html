<h3><span class=" glyphicon glyphicon-tag"/>&nbspTestInitializer</h3><kbd>Allocates resources before the execution of the test cases</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.directmemory.memory.BaseTest </h4><pre class="type-7 type-13 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
- Allocates resources before the execution of the test cases
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@BeforeClass @AfterClass public static void setup(){
  rnd=new Random();
  logger.info("test - size: " + test.size());
  logger.info("test - errors: " + errors);
  logger.info("heap - max: " + Ram.inMb(Runtime.getRuntime().maxMemory()));
  logger.info("heap - allocated: " + Ram.inMb(Runtime.getRuntime().totalMemory()));
  logger.info("heap - free : " + Ram.inMb(Runtime.getRuntime().freeMemory()));
  logger.info("************************************************");
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void initMMS(){
  mem=new MemoryManagerServiceImpl();
  mem.init(1,1 * 1024 * 1024);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.directmemory.memory.BaseUnsafeTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void initMMS(){
  mem=new UnsafeMemoryManagerServiceImpl();
  mem.init(1,1 * 1024 * 1024);
}

</code></pre>

<br>
<pre class="type-7 type-13 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
- Allocates resources before the execution of the test cases
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@BeforeClass @AfterClass public static void setup(){
  logger.info("test - size: " + test.size());
  logger.info("test - errors: " + errors);
  logger.info("heap - max: " + Ram.inMb(Runtime.getRuntime().maxMemory()));
  logger.info("heap - allocated: " + Ram.inMb(Runtime.getRuntime().totalMemory()));
  logger.info("heap - free : " + Ram.inMb(Runtime.getRuntime().freeMemory()));
  logger.info("************************************************");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.directmemory.memory.ConcurrentTest </h4><pre class="type-7 type-13 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
- Allocates resources before the execution of the test cases
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@BeforeClass @AfterClass public static void dump(){
  logger.info("off-heap allocated: " + Ram.inMb(mem.capacity()));
  logger.info("off-heap used:      " + Ram.inMb(mem.used()));
  logger.info("heap - max: " + Ram.inMb(Runtime.getRuntime().maxMemory()));
  logger.info("heap - allocated: " + Ram.inMb(Runtime.getRuntime().totalMemory()));
  logger.info("heap - free : " + Ram.inMb(Runtime.getRuntime().freeMemory()));
  logger.info("************************************************");
  logger.info("entries: " + entries);
  logger.info("inserted: " + map.size());
  logger.info("reads: " + read);
  logger.info("count: " + count);
  logger.info("got: " + got);
  logger.info("missed: " + missed);
  logger.info("good: " + good);
  logger.info("bad: " + bad);
  logger.info("************************************************");
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void initMMS(){
  mem=new MemoryManagerServiceImpl();
  mem.init(1,512 * 1024 * 1024);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.directmemory.memory.MallocTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void initMMS(){
  mem=new MemoryManagerServiceImpl();
  mem.init(1,512 * 1024 * 1024);
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before(){
  mem.clear();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.directmemory.memory.MallocWithUnsafeTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void initMMS(){
  mem=new UnsafeMemoryManagerServiceImpl();
  mem.init(1,512 * 1024 * 1024);
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before(){
  mem.clear();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.directmemory.memory.RoundRobinAllocationPolicyTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void initAllocationPolicy(){
  allocators=new ArrayList<Allocator>();
  for (int i=0; i < NUMBER_OF_BUFFERS; i++) {
    allocators.add(new DummyByteBufferAllocator());
  }
  allocationPolicy=new RoundRobinAllocationPolicy();
  allocationPolicy.init(allocators);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.directmemory.preliminary.MicroBenchmark </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void cleanup(){
  dump("Before cleanup");
  logger.info("************************************************");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.directmemory.server.services.AbstractServletWithClientTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void initialize() throws Exception {
  tomcat=new Tomcat();
  tomcat.setBaseDir(System.getProperty("java.io.tmpdir"));
  tomcat.setPort(0);
  Context context=tomcat.addContext("/direct-memory",System.getProperty("java.io.tmpdir"));
  tomcat.addServlet(context,DirectMemoryServlet.class.getName(),new DirectMemoryServlet());
  context.addServletMapping("/DirectMemoryServlet/*",DirectMemoryServlet.class.getName());
  tomcat.start();
  port=tomcat.getConnector().getLocalPort();
  log.info("Tomcat started on port:" + port);
  DirectMemoryClientConfiguration configuration=new DirectMemoryClientConfiguration().setHost("localhost").setPort(port).setHttpPath("/direct-memory/DirectMemoryServlet").setSerializer(SerializerFactory.createNewSerializer()).setHttpClientClassName(httpClientClassName).setExchangeType(getExchangeType());
  client=DirectMemoryClientBuilder.newBuilder(configuration).buildClient();
  client=DirectMemoryClientBuilder.newBuilder().toHost("localhost").onPort(port).toHttpPath("/direct-memory/DirectMemoryServlet").withSerializer(SerializerFactory.createNewSerializer()).forExchangeType(getExchangeType()).withHttpClientClassName(httpClientClassName).buildClient();
  for (int i=0; i < 1000000; i++) {
    hugeStr.append("foo");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.directmemory.server.services.DirectMemoryServletTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void init() throws Exception {
  MockServletContext mockServletContext=new MockServletContext();
  mockServletContext.setContextPath("direct-memory");
  MockServletConfig mockServletConfig=new MockServletConfig(mockServletContext);
  directMemoryServlet.init(mockServletConfig);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.directmemory.solr.SolrOffHeapCacheTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  solrOffHeapCache=new SolrOffHeapCache();
  Map<String,String> args=new HashMap<String,String>();
  args.put("size","10000");
  args.put("initialSize","1000");
  args.put("serializerClassName",StandardSerializer.class.getName());
  try {
    solrOffHeapCache.init(args,null,null);
  }
 catch (  NoClassDefFoundError e) {
    log.error(e.getMessage(),e);
    throw e;
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.directmemory.utils.CacheValuesIterableTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  cache=new DirectMemory<String,Long>().setNumberOfBuffers(10).setSize(1000).setInitialCapacity(10000).setConcurrencyLevel(4).newCacheService();
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
