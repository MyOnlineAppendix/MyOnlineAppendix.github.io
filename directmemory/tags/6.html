<h3><span class=" glyphicon glyphicon-tag"/>&nbspExecutionTester</h3><kbd>Executes methods or other tests from the same test unit</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.directmemory.cache.CacheConcurrentTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=1000000,warmupRounds=0,concurrency=100) @Test public void retrieveCatchThemAll(){
  String key="test-" + (rndGen.nextInt(entries) + 1);
  get(key);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=50000,warmupRounds=0,concurrency=10) @Test public void write1Read8AndSomeDisposal(){
  String key="test-" + (rndGen.nextInt(entries * 2) + 1);
  int what=rndGen.nextInt(10);
switch (what) {
case 0:
    put(key);
  break;
case 1:
case 2:
case 3:
case 4:
case 5:
case 6:
case 7:
case 8:
get(key);
break;
default :
final int rndVal=rndGen.nextInt(1000);
if (rndVal > 995) {
disposals.incrementAndGet();
final long start=System.currentTimeMillis();
long howMany=MemoryManager.collectExpired();
final long end=System.currentTimeMillis();
logger.info("" + howMany + " disposed in "+ (end - start)+ " milliseconds");
}
}
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=10000,warmupRounds=0,concurrency=1000) @Test public void store(){
  final String key="test-" + count.incrementAndGet();
  put(key);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=1000000,warmupRounds=0,concurrency=100) @Test public void retrieveCatchHalfOfThem(){
  String key="test-" + (rndGen.nextInt(entries * 2) + 1);
  get(key);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=1000000,warmupRounds=0,concurrency=10) @Test public void write1Read9(){
  String key="test-" + (rndGen.nextInt(entries * 2) + 1);
  int what=rndGen.nextInt(10);
switch (what) {
case 0:
    put(key);
  break;
default :
get(key);
break;
}
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=1000000,warmupRounds=0,concurrency=10) @Test public void write3Read7(){
  String key="test-" + (rndGen.nextInt(entries * 2) + 1);
  int what=rndGen.nextInt(10);
switch (what) {
case 0:
case 1:
case 2:
    put(key);
  break;
default :
get(key);
break;
}
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=500,warmupRounds=0,concurrency=10) @Test public void storeSomeWithExpiry(){
  final String key="test-" + count.incrementAndGet();
  putWithExpiry(key);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.directmemory.cache.CacheLightConcurrentTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=100000,warmupRounds=0,concurrency=10) @Test public void write1Read9(){
  String key="test-" + (rndGen.nextInt(entries * 2) + 1);
  int what=rndGen.nextInt(10);
switch (what) {
case 0:
    put(key);
  break;
default :
getAndRetrieve(key);
break;
}
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=100000,warmupRounds=0,concurrency=100) @Test public void retrieveCatchHalfOfThem(){
  String key="test-" + (rndGen.nextInt(entries * 2) + 1);
  getAndRetrieve(key);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=50,warmupRounds=0,concurrency=10) @Test public void storeSomeWithExpiry(){
  final String key="test-" + count.incrementAndGet();
  putWithExpiry(key);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=1,warmupRounds=0,concurrency=1) @Test public void LFUEviction() throws Exception {
  Cache.collectAll();
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=100000,warmupRounds=0,concurrency=10) @Test public void write3Read7(){
  String key="test-" + (rndGen.nextInt(entries * 2) + 1);
  int what=rndGen.nextInt(10);
switch (what) {
case 0:
case 1:
case 2:
    put(key);
  break;
default :
getAndRetrieve(key);
break;
}
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=10000,warmupRounds=0,concurrency=100) @Test public void store(){
  final String key="test-" + count.incrementAndGet();
  put(key);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=100000,warmupRounds=0,concurrency=100) @Test public void retrieveCatchThemAll(){
  String key="test-" + (rndGen.nextInt(entries) + 1);
  getAndRetrieve(key);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=5000,warmupRounds=0,concurrency=10) @Test public void write1Read8AndSomeDisposal(){
  String key="test-" + (rndGen.nextInt(entries * 2) + 1);
  int what=rndGen.nextInt(10);
switch (what) {
case 0:
    put(key);
  break;
case 1:
case 2:
case 3:
case 4:
case 5:
case 6:
case 7:
case 8:
getAndRetrieve(key);
break;
default :
final int rndVal=rndGen.nextInt(100);
if (rndVal > 98) {
disposals.incrementAndGet();
final long start=System.currentTimeMillis();
long howMany=MemoryManager.collectExpired();
final long end=System.currentTimeMillis();
logger.info("" + howMany + " disposed in "+ (end - start)+ " milliseconds");
}
}
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.directmemory.memory.BaseTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=10000,warmupRounds=0,concurrency=10) @Test public void anyDuplicates(){
  String key="test" + rnd.nextInt(100000);
  if (test.containsKey(key)) {
    logger.error("key " + key + " has already been used");
    errors++;
  }
  test.put(key,(byte)0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.directmemory.memory.Concurrent2Test </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=1000000,warmupRounds=0,concurrency=100) @Test public void retrieveCatchThemAll(){
  String key="test-" + (rndGen.nextInt(entries) + 1);
  Pointer p=map.get(key);
  read.incrementAndGet();
  if (p != null) {
    got.incrementAndGet();
    byte[] payload=MemoryManager.retrieve(p);
    if (key.equals(new String(payload))) {
      good.incrementAndGet();
    }
 else {
      bad.incrementAndGet();
    }
  }
 else {
    logger.info("did not find key " + key);
    missed.incrementAndGet();
  }
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=1000000,warmupRounds=0,concurrency=10) @Test public void write3Read7(){
  String key="test-" + (rndGen.nextInt(entries * 2) + 1);
  int what=rndGen.nextInt(10);
switch (what) {
case 0:
case 1:
case 2:
    put(key);
  break;
default :
get(key);
break;
}
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=1000000,warmupRounds=0,concurrency=10) @Test public void write1Read9(){
  String key="test-" + (rndGen.nextInt(entries * 2) + 1);
  int what=rndGen.nextInt(10);
switch (what) {
case 0:
    put(key);
  break;
default :
get(key);
break;
}
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=1000000,warmupRounds=0,concurrency=100) @Test public void retrieveCatchHalfOfThem(){
  String key="test-" + (rndGen.nextInt(entries * 2) + 1);
  Pointer p=map.get(key);
  read.incrementAndGet();
  if (p != null) {
    got.incrementAndGet();
    byte[] payload=MemoryManager.retrieve(p);
    if (key.equals(new String(payload))) {
      good.incrementAndGet();
    }
 else {
      bad.incrementAndGet();
    }
  }
 else {
    missed.incrementAndGet();
  }
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=100000,warmupRounds=0,concurrency=100) @Test public void store(){
  final String key="test-" + count.incrementAndGet();
  put(key);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.directmemory.memory.Concurrent3Test </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=1000000,warmupRounds=0,concurrency=100) @Test public void retrieveCatchHalfOfThem(){
  String key="test-" + (rndGen.nextInt(entries * 2) + 1);
  get(key);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=100000,warmupRounds=0,concurrency=100) @Test public void store(){
  final String key="test-" + count.incrementAndGet();
  put(key);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=1000000,warmupRounds=0,concurrency=100) @Test public void retrieveCatchThemAll(){
  String key="test-" + (rndGen.nextInt(entries) + 1);
  get(key);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=50000,warmupRounds=0,concurrency=10) @Test public void write1Read8AndSomeDisposal(){
  String key="test-" + (rndGen.nextInt(entries * 2) + 1);
  int what=rndGen.nextInt(10);
switch (what) {
case 0:
    put(key);
  break;
case 1:
case 2:
case 3:
case 4:
case 5:
case 6:
case 7:
case 8:
get(key);
break;
default :
final int rndVal=rndGen.nextInt(1000);
if (rndVal > 995) {
disposals.incrementAndGet();
final long start=System.currentTimeMillis();
long howMany=MemoryManager.collectExpired();
final long end=System.currentTimeMillis();
logger.info("" + howMany + " disposed in "+ (end - start)+ " milliseconds");
}
}
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=1000000,warmupRounds=0,concurrency=10) @Test public void write1Read9(){
  String key="test-" + (rndGen.nextInt(entries * 2) + 1);
  int what=rndGen.nextInt(10);
switch (what) {
case 0:
    put(key);
  break;
default :
get(key);
break;
}
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=500,warmupRounds=0,concurrency=10) @Test public void storeSomeWithExpiry(){
  final String key="test-" + count.incrementAndGet();
  putWithExpiry(key);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=1000000,warmupRounds=0,concurrency=10) @Test public void write3Read7(){
  String key="test-" + (rndGen.nextInt(entries * 2) + 1);
  int what=rndGen.nextInt(10);
switch (what) {
case 0:
case 1:
case 2:
    put(key);
  break;
default :
get(key);
break;
}
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.directmemory.memory.ConcurrentTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=1000000,warmupRounds=0,concurrency=100) @Test public void retrieveCatchHalfOfThem(){
  String key="test-" + (rndGen.nextInt(entries * 2) + 1);
  Pointer p=map.get(key);
  read.incrementAndGet();
  if (p != null) {
    got.incrementAndGet();
    byte[] payload=mem.retrieve(p);
    if (key.equals(new String(payload))) {
      good.incrementAndGet();
    }
 else {
      bad.incrementAndGet();
    }
  }
 else {
    missed.incrementAndGet();
  }
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=1000000,warmupRounds=0,concurrency=100) @Test public void retrieveCatchThemAll(){
  String key="test-" + (rndGen.nextInt(entries) + 1);
  Pointer p=map.get(key);
  read.incrementAndGet();
  if (p != null) {
    got.incrementAndGet();
    byte[] payload=mem.retrieve(p);
    if (key.equals(new String(payload))) {
      good.incrementAndGet();
    }
 else {
      bad.incrementAndGet();
    }
  }
 else {
    logger.info("did not find key " + key);
    missed.incrementAndGet();
  }
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=1000000,warmupRounds=0,concurrency=10) @Test public void write3Read7(){
  String key="test-" + (rndGen.nextInt(entries * 2) + 1);
  int what=rndGen.nextInt(10);
switch (what) {
case 0:
case 1:
case 2:
    put(key);
  break;
default :
get(key);
break;
}
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=1000000,warmupRounds=0,concurrency=10) @Test public void write1Read9(){
  String key="test-" + (rndGen.nextInt(entries * 2) + 1);
  int what=rndGen.nextInt(10);
switch (what) {
case 0:
    put(key);
  break;
default :
get(key);
break;
}
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=100000,warmupRounds=0,concurrency=100) @Test public void store(){
  final String key="test-" + count.incrementAndGet();
  map.put(key,mem.store(key.getBytes()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.directmemory.memory.MallocTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void withMap(){
  ConcurrentMap<Long,Pointer> map=new MapMaker().concurrencyLevel(4).initialCapacity(500000).makeMap();
  String str="This is the string to store into the off-heap memory";
  int size=str.length();
  int howMany=1000000;
  byte[] payload=str.getBytes();
  logger.info("adding " + howMany + " strings of "+ size+ " bytes...");
  for (long i=0; i < howMany; i++) {
    Pointer p=mem.store(payload);
    map.put(i,p);
  }
  logger.info("...done");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.directmemory.memory.MallocWithUnsafeTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void withMap(){
  ConcurrentMap<Long,Pointer> map=new MapMaker().concurrencyLevel(4).initialCapacity(500000).makeMap();
  String str="This is the string to store into the off-heap memory";
  int size=str.length();
  int howMany=1000000;
  byte[] payload=str.getBytes();
  logger.info("adding " + howMany + " strings of "+ size+ " bytes...");
  for (long i=0; i < howMany; i++) {
    Pointer p=mem.store(payload);
    map.put(i,p);
  }
  logger.info("...done");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.directmemory.preliminary.MicroBenchmark </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void manySmallInHeapWithHashmap(){
  final Map<String,byte[]> test=Maps.newHashMap();
  final byte payload[]=new byte[450];
  long ops=many;
  for (int i=0; i < ops; i++) {
    final String key="test-" + i;
    test.put(key,payload.clone());
  }
  logger.info("many=" + ops);
  logger.info("payload.length=" + payload.length);
  logger.info("stored " + Ram.inMb(payload.length * ops));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void lessButLargerOffHeap(){
  final byte payload[]=new byte[5120];
  int ops=less;
  logger.info("less=" + ops);
  logger.info("payload.length=" + payload.length);
  pumpOffHeap(ops,payload);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void manySmallOffHeap(){
  final byte payload[]=new byte[450];
  int ops=many;
  logger.info("many=" + ops);
  logger.info("payload.length=" + payload.length);
  pumpOffHeap(ops,payload);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void lessButLargerInHeap(){
  final byte payload[]=new byte[5120];
  int ops=less;
  logger.info("less=" + ops);
  logger.info("payload.length=" + payload.length);
  pumpTheHeap(ops,payload);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void manySmallInHeapWithMapMaker(){
  final byte payload[]=new byte[450];
  int ops=many;
  logger.info("many=" + ops);
  logger.info("payload.length=" + payload.length);
  pumpTheHeap(ops,payload);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.directmemory.preliminary.PreliminarBenchmark </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=1,warmupRounds=0) @Test public void lessButLargerWithDirectBuffersOneAllocation(){
  logger.info("payload is " + payload.length + " bytes");
  final byte payload[]=new byte[2048];
  int ops=210000;
  pumpWithOneAllocation(ops,payload);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=5,warmupRounds=0) @Test public void withDirectBuffers180k(){
  logger.info("payload is " + payload.length + " bytes");
  int ops=180000;
  pump(ops);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=5,warmupRounds=0) @Test public void withDirectBuffers150k(){
  logger.info("payload is " + payload.length + " bytes");
  int ops=150000;
  pump(ops);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=5,warmupRounds=0) @Test public void withDirectBuffers100k(){
  logger.info("payload is " + payload.length + " bytes");
  int ops=100000;
  pump(ops);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=5,warmupRounds=0) @Test public void withDirectBuffers150kAgain(){
  logger.info("payload is " + payload.length + " bytes");
  int ops=150000;
  pump(ops);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=5,warmupRounds=0) @Test public void justMap(){
  final Map<String,byte[]> test=Maps.newHashMap();
  long ops=100000;
  for (int i=0; i < ops; i++) {
    final String key="test-" + i;
    test.put(key,payload.clone());
  }
  logger.info("stored " + Ram.inMb(payload.length * ops));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@BenchmarkOptions(benchmarkRounds=1,warmupRounds=0) @Test public void oneMillionSmallWithDirectBuffersOneAllocation(){
  logger.info("payload is " + payload.length + " bytes");
  final byte payload[]=new byte[500];
  int ops=1000000;
  pumpWithOneAllocation(ops,payload);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.directmemory.serialization.SerializerTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void StandardTest() throws IOException, ClassNotFoundException, InstantiationException, IllegalAccessException {
  testSerializer("java-serialization",new StandardSerializer(),Ram.Kb(1),20000);
  testSerializer("java-serialization",new StandardSerializer(),Ram.Kb(2),20000);
  testSerializer("java-serialization",new StandardSerializer(),Ram.Kb(3),20000);
  testSerializer("java-serialization",new StandardSerializer(),Ram.Kb(4),20000);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.directmemory.serialization.protostuff.ProtostuffTestCase </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void ProtostuffTest() throws IOException, ClassNotFoundException, InstantiationException, IllegalAccessException {
  testSerializer("protostuff-old",new ProtoStuffSerializerV1(),Ram.Kb(1),20000);
  testSerializer("protostuff-old",new ProtoStuffSerializerV1(),Ram.Kb(2),20000);
  testSerializer("protostuff-old",new ProtoStuffSerializerV1(),Ram.Kb(3),20000);
  testSerializer("protostuff-old",new ProtoStuffSerializerV1(),Ram.Kb(4),20000);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void ProtostuffV2Test() throws IOException, ClassNotFoundException, InstantiationException, IllegalAccessException {
  testSerializer("protostuff-new",new ProtoStuffWithLinkedBufferSerializer(),Ram.Kb(1),20000);
  testSerializer("protostuff-new",new ProtoStuffWithLinkedBufferSerializer(),Ram.Kb(2),20000);
  testSerializer("protostuff-new",new ProtoStuffWithLinkedBufferSerializer(),Ram.Kb(3),20000);
  testSerializer("protostuff-new",new ProtoStuffWithLinkedBufferSerializer(),Ram.Kb(4),20000);
  testSerializer("cinquantamila",new ProtoStuffWithLinkedBufferSerializer(),Ram.Kb(3),50000);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.directmemory.server.services.AsyncHttpClientTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRunAll(){
  JUnitCore core=new JUnitCore();
  core.run(ServletWithClientBinaryTypeTest.class);
  core.run(ServletWithClientTextPlainTypeTest.class);
  core.run(ServletWithClientJsonTypeTest.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.directmemory.solr.SolrOffHeapCacheTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testPut() throws Exception {
  MatchAllDocsQuery query=new MatchAllDocsQuery();
  QueryResultKey queryResultKey=new QueryResultKey(query,new ArrayList<Query>(),new Sort(),1);
  solrOffHeapCache.put(queryResultKey,new QueryValueSource(query,1));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.directmemory.test.AbstractSerializerTest </h4><pre class="type-15 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=SerializerNotFoundException.class) public void serialiazerNotFoundException() throws Exception {
  SerializerFactory.createNewSerializer("toto.titi");
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
