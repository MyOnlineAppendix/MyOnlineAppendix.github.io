<h3 style="margin:0px">Class: org.apache.directory.server.core.schema.SubschemaSubentryIT (19 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure"><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >UtilityVerifier&nbsp;(11)</kbd></button>&nbsp;<button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(9)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(7)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(5)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(5)</kbd></button>&nbsp;<button id="16"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('16')" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution"><kbd id="tag-16"class="label-info"style="display: inline-block;font-size:7pt" >ExceptionVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="12"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('12')" data-toggle="tooltip" title="Verifies assertions inside branch conditions"><kbd id="tag-12"class="label-info"style="display: inline-block;font-size:7pt" >BranchVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="10"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('10')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-10"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Allocates resources before the execution of the test cases"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >TestInitializer&nbsp;(1)</kbd></button>&nbsp;<button id="11"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('11')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-11"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Executes methods or other tests from the same test unit"><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >ExecutionTester&nbsp;(1)</kbd></button>&nbsp;<button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Is not executed with the test suite"><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >IgnoredMethod&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-12 type-9 type-4 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests a number of modify add, remove and replace operation combinations for
 * a syntaxChecker on the schema subentry.
 * @throws Exception on error
 */
@Test public void testAddRemoveReplaceSyntaxCheckers() throws Exception {
  enableSchema("nis");
  List<String> descriptions=new ArrayList<String>();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.0.10000 DESC 'bogus desc' FQCN " + OctetStringSyntaxChecker.class.getName() + " X-SCHEMA 'nis' )");
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.0.10001 DESC 'bogus desc' FQCN " + OctetStringSyntaxChecker.class.getName() + " X-SCHEMA 'nis' )");
  modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"syntaxCheckers");
  checkSyntaxCheckerPresent(getService().getSchemaManager(),"1.3.6.1.4.1.18060.0.4.1.0.10000","nis",true);
  checkSyntaxCheckerPresent(getService().getSchemaManager(),"1.3.6.1.4.1.18060.0.4.1.0.10001","nis",true);
  modify(ModificationOperation.REMOVE_ATTRIBUTE,descriptions,"syntaxCheckers");
  checkSyntaxCheckerPresent(getService().getSchemaManager(),"1.3.6.1.4.1.18060.0.4.1.0.10000","nis",false);
  checkSyntaxCheckerPresent(getService().getSchemaManager(),"1.3.6.1.4.1.18060.0.4.1.0.10001","nis",false);
  try {
    modify(ModificationOperation.REPLACE_ATTRIBUTE,descriptions,"syntaxCheckers");
    fail("modify REPLACE operations should not be allowed");
  }
 catch (  LdapException e) {
  }
  descriptions.clear();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.0.10002 DESC 'bogus desc' FQCN org.apache.directory.api.ldap.model.schema.syntaxCheckers.DummySyntaxChecker BYTECODE " + getByteCode("DummySyntaxChecker.bytecode") + " X-SCHEMA 'nis' )");
  modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"syntaxCheckers");
  checkSyntaxCheckerPresent(getService().getSchemaManager(),"1.3.6.1.4.1.18060.0.4.1.0.10002","nis",true);
  modify(ModificationOperation.REMOVE_ATTRIBUTE,descriptions,"syntaxCheckers");
  checkSyntaxCheckerPresent(getService().getSchemaManager(),"1.3.6.1.4.1.18060.0.4.1.0.10002","nis",false);
  descriptions.clear();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.0.10002 DESC 'bogus desc' FQCN org.apache.directory.api.ldap.model.schema.syntaxCheckers.DummySyntaxChecker BYTECODE " + getByteCode("DummySyntaxChecker.bytecode") + " )");
  modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"syntaxCheckers");
  checkSyntaxCheckerPresent(getService().getSchemaManager(),"1.3.6.1.4.1.18060.0.4.1.0.10002","other",true);
  if (getService().getChangeLog().getLatest() != null) {
    assertEquals(getService().getChangeLog().getLatest().getRevision() + 6,getService().getChangeLog().getCurrentRevision());
  }
}

</code></pre>

<pre class="type-6 type-4 type-5 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests the addition of a new attributeType via a modify ADD on the SSSE to enabled schema.
 * @throws Exception on error
 */
@Test public void testAddAttributeTypeOnEnabledSchema() throws Exception {
  enableSchema("nis");
  Dn dn=new Dn(subschemaSubentryDn);
  String substrate="( 1.3.6.1.4.1.18060.0.4.0.2.10000 NAME ( 'bogus' 'bogusName' ) " + "DESC 'bogus description' SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 SUP name SINGLE-VALUE X-SCHEMA 'nis' )";
  Modification mod=new DefaultModification(ModificationOperation.ADD_ATTRIBUTE,new DefaultAttribute("attributeTypes",substrate));
  connection.modify(dn,mod);
  updateSSSE();
  Attribute attributeTypes=subschemaSubentry.get("attributeTypes");
  AttributeType attributeType=null;
  for (  Value<?> value : attributeTypes) {
    String desc=value.getString();
    if (desc.indexOf("1.3.6.1.4.1.18060.0.4.0.2.10000") != -1) {
      attributeType=ATTRIBUTE_TYPE_DESCRIPTION_SCHEMA_PARSER.parseAttributeTypeDescription(desc);
      break;
    }
  }
  assertNotNull(attributeType);
  assertEquals(true,attributeType.isSingleValued());
  assertEquals(false,attributeType.isCollective());
  assertEquals(false,attributeType.isObsolete());
  assertEquals(true,attributeType.isUserModifiable());
  assertEquals("bogus description",attributeType.getDescription());
  assertEquals("bogus",attributeType.getNames().get(0));
  assertEquals("bogusName",attributeType.getNames().get(1));
  assertEquals("name",attributeType.getSuperiorOid());
  Entry entry=connection.lookup("m-oid=1.3.6.1.4.1.18060.0.4.0.2.10000,ou=attributeTypes,cn=nis,ou=schema");
  assertNotNull(entry);
  SchemaEntityFactory factory=new SchemaEntityFactory();
  AttributeType at=factory.getAttributeType(getService().getSchemaManager(),entry,getService().getSchemaManager().getRegistries(),"nis");
  assertEquals("1.3.6.1.4.1.18060.0.4.0.2.10000",at.getOid());
  assertEquals("name",at.getSuperiorOid());
  assertEquals("bogus description",at.getDescription());
  assertEquals("bogus",at.getNames().get(0));
  assertEquals("bogusName",at.getNames().get(1));
  assertEquals(true,at.isUserModifiable());
  assertEquals(false,at.isCollective());
  assertEquals(false,at.isObsolete());
  assertEquals(true,at.isSingleValued());
}

</code></pre>

<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * Tests a number of modify add, remove and replace operation combinations for
 * comparators on the schema subentry.
 * @throws Exception on error
 */
@Test public void testAddRemoveReplaceComparators() throws Exception {
  enableSchema("nis");
  List<String> descriptions=new ArrayList<String>();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.0.10002 DESC 'bogus desc' FQCN " + BooleanComparator.class.getName() + " X-SCHEMA 'nis' )");
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.0.10001 DESC 'bogus desc' FQCN " + BooleanComparator.class.getName() + " X-SCHEMA 'nis' )");
  modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"comparators");
  checkComparatorPresent("1.3.6.1.4.1.18060.0.4.1.0.10002","nis",true);
  checkComparatorPresent("1.3.6.1.4.1.18060.0.4.1.0.10001","nis",true);
  modify(ModificationOperation.REMOVE_ATTRIBUTE,descriptions,"comparators");
  checkComparatorPresent("1.3.6.1.4.1.18060.0.4.1.0.10002","nis",false);
  checkComparatorPresent("1.3.6.1.4.1.18060.0.4.1.0.10001","nis",false);
  try {
    modify(ModificationOperation.REPLACE_ATTRIBUTE,descriptions,"comparators");
    fail("modify REPLACE operations should not be allowed");
  }
 catch (  LdapException e) {
  }
  descriptions.clear();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.0.1.100000 DESC 'bogus desc' FQCN org.apache.directory.api.ldap.model.schema.comparators.DummyComparator BYTECODE " + getByteCode("DummyComparator.bytecode") + " X-SCHEMA 'nis' )");
  modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"comparators");
  checkComparatorPresent("1.3.6.1.4.1.18060.0.4.0.1.100000","nis",true);
  modify(ModificationOperation.REMOVE_ATTRIBUTE,descriptions,"comparators");
  checkComparatorPresent("1.3.6.1.4.1.18060.0.4.0.1.100000","nis",false);
  descriptions.clear();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.0.1.100000 DESC 'bogus desc' FQCN org.apache.directory.api.ldap.model.schema.comparators.DummyComparator BYTECODE " + getByteCode("DummyComparator.bytecode") + " )");
  modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"comparators");
  checkComparatorPresent("1.3.6.1.4.1.18060.0.4.0.1.100000","other",true);
}

</code></pre>

<pre class="type-6 type-4 type-5 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests the addition of a new attributeType via a modify ADD on the SSSE to disabled schema.
 * @throws Exception on error
 */
@Test public void testAddAttributeTypeOnDisabledSchema() throws Exception {
  disableSchema("nis");
  Dn dn=new Dn(subschemaSubentryDn);
  String substrate="( 1.3.6.1.4.1.18060.0.4.0.2.10000 NAME ( 'bogus' 'bogusName' ) " + "DESC 'bogus description' SUP name SYNTAX '1.3.6.1.4.1.1466.115.121.1.15' SINGLE-VALUE X-SCHEMA 'nis' )";
  Modification mod=new DefaultModification(ModificationOperation.ADD_ATTRIBUTE,new DefaultAttribute("attributeTypes",substrate));
  connection.modify(dn,mod);
  Attribute attributeTypes=subschemaSubentry.get("attributeTypes");
  AttributeType attributeType=null;
  for (  Value<?> value : attributeTypes) {
    String desc=value.getString();
    if (desc.indexOf("1.3.6.1.4.1.18060.0.4.0.2.10000") != -1) {
      attributeType=ATTRIBUTE_TYPE_DESCRIPTION_SCHEMA_PARSER.parseAttributeTypeDescription(desc);
      break;
    }
  }
  assertNull(attributeType);
  Entry entry=connection.lookup("m-oid=1.3.6.1.4.1.18060.0.4.0.2.10000,ou=attributeTypes,cn=nis,ou=schema");
  assertNotNull(entry);
  SchemaEntityFactory factory=new SchemaEntityFactory();
  AttributeType at=factory.getAttributeType(getService().getSchemaManager(),entry,getService().getSchemaManager().getRegistries(),"nis");
  assertEquals("1.3.6.1.4.1.18060.0.4.0.2.10000",at.getOid());
  assertEquals("name",at.getSuperiorOid());
  assertEquals("bogus description",at.getDescription());
  assertEquals("bogus",at.getName());
  assertEquals("bogusName",at.getNames().get(1));
  assertEquals(true,at.isUserModifiable());
  assertEquals(false,at.isCollective());
  assertEquals(false,at.isObsolete());
  assertEquals(true,at.isSingleValued());
}

</code></pre>

<pre class="type-10 type-6 type-11 type-4 type-5 type-1 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * This method checks the modifiersName, and the modifyTimestamp on the schema
 * subentry then modifies a schema.  It then checks it again to make sure these
 * values have been updated properly to reflect the modification time and the
 * modifier.
 * @throws InterruptedException on error
 * @throws NamingException on error
 */
@Test @Ignore("The test is failing when run in conjonction with other tests") public void testTimestampAndModifierUpdates() throws Exception, InterruptedException {
  TimeZone tz=TimeZone.getTimeZone("GMT");
  Attribute creatorsNameAttr=subschemaSubentry.get("creatorsName");
  Attribute createTimestampAttr=subschemaSubentry.get("createTimestamp");
  assertNotNull(creatorsNameAttr);
  assertNotNull(createTimestampAttr);
  Attribute modifiersNameAttr=subschemaSubentry.get("modifiersName");
  Attribute modifyTimestampAttr=subschemaSubentry.get("modifyTimestamp");
  assertNotNull(modifiersNameAttr);
  Dn expectedDn=new Dn(getService().getSchemaManager(),"uid=admin,ou=system");
  assertEquals(expectedDn.getName(),modifiersNameAttr.get());
  assertNotNull(modifyTimestampAttr);
  Calendar cal=Calendar.getInstance(tz);
  String modifyTimestampStr=modifyTimestampAttr.getString();
  Date modifyTimestamp=DateUtils.getDate(modifyTimestampStr);
  Date currentTimestamp=cal.getTime();
  assertFalse(modifyTimestamp.after(currentTimestamp));
  enableSchema("nis");
  Dn dn=new Dn(subschemaSubentryDn);
  String substrate="( 1.3.6.1.4.1.18060.0.4.0.2.10000 NAME ( 'bogus' 'bogusName' ) " + "DESC 'bogus description' SUP name SINGLE-VALUE X-SCHEMA 'nis' )";
  Modification mod=new DefaultModification(ModificationOperation.ADD_ATTRIBUTE,new DefaultAttribute("attributeTypes",substrate));
  connection.modify(dn,mod);
  Attribute creatorsNameAttrAfter=subschemaSubentry.get("creatorsName");
  Attribute createTimestampAttrAfter=subschemaSubentry.get("createTimestamp");
  assertNotNull(creatorsNameAttrAfter);
  assertNotNull(createTimestampAttrAfter);
  Attribute modifiersNameAttrAfter=subschemaSubentry.get("modifiersName");
  Attribute modifiersTimestampAttrAfter=subschemaSubentry.get("modifyTimestamp");
  assertNotNull(modifiersNameAttrAfter);
  expectedDn=new Dn(getService().getSchemaManager(),"uid=admin,ou=system");
  assertEquals(expectedDn.getName(),modifiersNameAttrAfter.get());
  assertNotNull(modifiersTimestampAttrAfter);
  cal=Calendar.getInstance(tz);
  Date modifyTimestampAfter=DateUtils.getDate(modifiersTimestampAttrAfter.getString());
  assertTrue(modifyTimestampAfter.getTime() <= cal.getTime().getTime());
  assertTrue(modifyTimestampAfter.getTime() >= modifyTimestamp.getTime());
  Entry user=new DefaultEntry("cn=bogus user,ou=system","objectClass: person","sn: bogus","cn: bogus user","userPassword: secret");
  connection.add(user);
}

</code></pre>

<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * Tests a number of modify add, remove and replace operation combinations for
 * normalizers on the schema subentry.
 * @throws Exception on error
 */
@Test public void testAddRemoveReplaceNormalizers() throws Exception {
  enableSchema("nis");
  List<String> descriptions=new ArrayList<String>();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.0.10002 DESC 'bogus desc' FQCN " + DeepTrimNormalizer.class.getName() + " X-SCHEMA 'nis' )");
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.0.10001 DESC 'bogus desc' FQCN " + DeepTrimNormalizer.class.getName() + " X-SCHEMA 'nis' )");
  modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"normalizers");
  checkNormalizerPresent("1.3.6.1.4.1.18060.0.4.1.0.10002","nis",true);
  checkNormalizerPresent("1.3.6.1.4.1.18060.0.4.1.0.10001","nis",true);
  modify(ModificationOperation.REMOVE_ATTRIBUTE,descriptions,"normalizers");
  checkNormalizerPresent("1.3.6.1.4.1.18060.0.4.1.0.10002","nis",false);
  checkNormalizerPresent("1.3.6.1.4.1.18060.0.4.1.0.10001","nis",false);
  try {
    modify(ModificationOperation.REPLACE_ATTRIBUTE,descriptions,"normalizers");
    fail("modify REPLACE operations should not be allowed");
  }
 catch (  LdapException e) {
  }
  descriptions.clear();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.0.1.100000 DESC 'bogus desc' FQCN org.apache.directory.api.ldap.model.schema.normalizers.DummyNormalizer BYTECODE " + getByteCode("DummyNormalizer.bytecode") + " X-SCHEMA 'nis' )");
  modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"normalizers");
  checkNormalizerPresent("1.3.6.1.4.1.18060.0.4.0.1.100000","nis",true);
  modify(ModificationOperation.REMOVE_ATTRIBUTE,descriptions,"normalizers");
  checkNormalizerPresent("1.3.6.1.4.1.18060.0.4.0.1.100000","nis",false);
  descriptions.clear();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.0.1.100000 DESC 'bogus desc' FQCN org.apache.directory.api.ldap.model.schema.normalizers.DummyNormalizer BYTECODE " + getByteCode("DummyNormalizer.bytecode") + " )");
  modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"normalizers");
  checkNormalizerPresent("1.3.6.1.4.1.18060.0.4.0.1.100000","other",true);
}

</code></pre>

<pre class="type-9 type-16 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests the rejection of an add operation for the SubschemaSubentry (SSSE).
 * @throws NamingException on error
 */
@Test(expected=LdapException.class) public void testSSSEAddRejection() throws Exception {
  connection.add(subschemaSubentry);
  fail("You are not allowed to add the global schema subentry which exists by default");
}

</code></pre>

<pre class="type-9 type-16 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests the rejection of rename (modifyDn) operation for the SubschemaSubentry (SSSE).
 * @throws NamingException on error
 */
@Test(expected=LdapException.class) public void testSSSERenameRejection() throws Exception {
  connection.rename(subschemaSubentryDn,"cn=schema,ou=system");
  fail("You are not allowed to rename the global schema subentry which is fixed");
}

</code></pre>

<pre class="type-16 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests the addition of a new attributeType with some
 * underscores via a modify ADD on the SSSE to enabled schema.
 * @throws Exception on error
 */
@Test(expected=LdapInvalidAttributeValueException.class) public void testAddAttributeTypeWithUnderscoresOnEnabledSchema() throws Exception {
  enableSchema("nis");
  Dn dn=new Dn(subschemaSubentryDn);
  String substrate="( 1.3.6.1.4.1.18060.0.4.0.2.10000 NAME ( 'bogus' 'bogus_microsoft_name' ) " + "DESC 'bogus description' SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 SUP name SINGLE-VALUE X-SCHEMA 'nis' )";
  Modification mod=new DefaultModification(ModificationOperation.ADD_ATTRIBUTE,new DefaultAttribute("attributeTypes",substrate));
  connection.modify(dn,mod);
}

</code></pre>

<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void init() throws Exception {
  connection=IntegrationUtils.getAdminConnection(getService());
  Entry rootDse=connection.lookup("",SUBSCHEMA_SUBENTRY);
  Attribute subschemaSubentryAT=rootDse.get(SUBSCHEMA_SUBENTRY);
  subschemaSubentryDn=subschemaSubentryAT.getString();
  updateSSSE();
}

</code></pre>

<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * Tests a number of modify add, remove and replace operation combinations for
 * syntaxes on the schema subentry.
 * @throws Exception on error
 */
@Test public void testAddRemoveReplaceSyntaxes() throws Exception {
  enableSchema("nis");
  List<String> descriptions=new ArrayList<String>();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.0.10000 DESC 'bogus desc' X-SCHEMA 'nis' )");
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.0.10001 DESC 'bogus desc' X-SCHEMA 'nis' )");
  try {
    modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"ldapSyntaxes");
    fail("should not be able to add syntaxes without their syntaxCheckers");
  }
 catch (  LdapException e) {
  }
  checkSyntaxPresent("1.3.6.1.4.1.18060.0.4.1.0.10000","nis",false);
  checkSyntaxPresent("1.3.6.1.4.1.18060.0.4.1.0.10001","nis",false);
  descriptions.clear();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.0.10000 DESC 'bogus desc' FQCN " + OctetStringSyntaxChecker.class.getName() + " X-SCHEMA 'nis' )");
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.0.10001 DESC 'bogus desc' FQCN " + OctetStringSyntaxChecker.class.getName() + " X-SCHEMA 'nis' )");
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.0.10002 DESC 'bogus desc' FQCN " + OctetStringSyntaxChecker.class.getName() + " X-SCHEMA 'nis' )");
  modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"syntaxCheckers");
  checkSyntaxCheckerPresent(getService().getSchemaManager(),"1.3.6.1.4.1.18060.0.4.1.0.10000","nis",true);
  checkSyntaxCheckerPresent(getService().getSchemaManager(),"1.3.6.1.4.1.18060.0.4.1.0.10001","nis",true);
  checkSyntaxCheckerPresent(getService().getSchemaManager(),"1.3.6.1.4.1.18060.0.4.1.0.10002","nis",true);
  descriptions.clear();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.0.10000 DESC 'bogus desc' X-SCHEMA 'nis' )");
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.0.10001 DESC 'bogus desc' X-SCHEMA 'nis' )");
  modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"ldapSyntaxes");
  checkSyntaxPresent("1.3.6.1.4.1.18060.0.4.1.0.10000","nis",true);
  checkSyntaxPresent("1.3.6.1.4.1.18060.0.4.1.0.10001","nis",true);
  modify(ModificationOperation.REMOVE_ATTRIBUTE,descriptions,"ldapSyntaxes");
  checkSyntaxPresent("1.3.6.1.4.1.18060.0.4.1.0.10000","nis",false);
  checkSyntaxPresent("1.3.6.1.4.1.18060.0.4.1.0.10001","nis",false);
  try {
    modify(ModificationOperation.REPLACE_ATTRIBUTE,descriptions,"ldapSyntaxes");
    fail("modify REPLACE operations should not be allowed");
  }
 catch (  LdapException e) {
  }
  descriptions.clear();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.0.10002 DESC 'bogus desc' )");
  modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"ldapSyntaxes");
  checkSyntaxPresent("1.3.6.1.4.1.18060.0.4.1.0.10002","other",true);
}

</code></pre>

<pre class="type-6 type-4 type-5 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests the addition of a new attributeType where the DESC contains only spaces
 */
@Test public void testAddAttributeTypeWithSpaceDesc() throws Exception {
  enableSchema("nis");
  Dn dn=new Dn(subschemaSubentryDn);
  String substrate="( 1.3.6.1.4.1.18060.0.4.0.2.10000 NAME ( 'bogus' 'bogusName' ) " + "DESC '  ' SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 SUP name SINGLE-VALUE X-SCHEMA 'nis' )";
  Modification mod=new DefaultModification(ModificationOperation.ADD_ATTRIBUTE,new DefaultAttribute("attributeTypes",substrate));
  connection.modify(dn,mod);
  updateSSSE();
  Attribute attributeTypes=subschemaSubentry.get("attributeTypes");
  AttributeType attributeType=null;
  for (  Value<?> value : attributeTypes) {
    String desc=value.getString();
    if (desc.indexOf("1.3.6.1.4.1.18060.0.4.0.2.10000") != -1) {
      attributeType=ATTRIBUTE_TYPE_DESCRIPTION_SCHEMA_PARSER.parseAttributeTypeDescription(desc);
      break;
    }
  }
  assertNotNull(attributeType);
  assertEquals(true,attributeType.isSingleValued());
  assertEquals(false,attributeType.isCollective());
  assertEquals(false,attributeType.isObsolete());
  assertEquals(true,attributeType.isUserModifiable());
  assertEquals("  ",attributeType.getDescription());
  assertEquals("bogus",attributeType.getNames().get(0));
  assertEquals("bogusName",attributeType.getNames().get(1));
  assertEquals("name",attributeType.getSuperiorOid());
  Entry entry=connection.lookup("m-oid=1.3.6.1.4.1.18060.0.4.0.2.10000,ou=attributeTypes,cn=nis,ou=schema");
  assertNotNull(entry);
  SchemaEntityFactory factory=new SchemaEntityFactory();
  AttributeType at=factory.getAttributeType(getService().getSchemaManager(),entry,getService().getSchemaManager().getRegistries(),"nis");
  assertEquals("1.3.6.1.4.1.18060.0.4.0.2.10000",at.getOid());
  assertEquals("name",at.getSuperiorOid());
  assertEquals("  ",at.getDescription());
  assertEquals("bogus",at.getNames().get(0));
  assertEquals("bogusName",at.getNames().get(1));
  assertEquals(true,at.isUserModifiable());
  assertEquals(false,at.isCollective());
  assertEquals(false,at.isObsolete());
  assertEquals(true,at.isSingleValued());
}

</code></pre>

<pre class="type-4 type-5 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Make sure the global subschemaSubentry is where it is expected to be.
 * @throws NamingException on error
 */
@Test public void testRootDseSubschemaSubentry() throws Exception {
  assertEquals(GLOBAL_SUBSCHEMA_DN,subschemaSubentryDn);
  assertNotNull(subschemaSubentry);
}

</code></pre>

<pre class="type-9 type-16 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests the rejection of a delete operation on the SubschemaSubentry (SSSE).
 * @throws NamingException on error
 */
@Test(expected=LdapException.class) public void testSSSEDeleteRejection() throws Exception {
  connection.delete(subschemaSubentryDn);
  fail("You are not allowed to delete the global schema subentry");
}

</code></pre>

<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * Tests a number of modify add, remove and replace operation combinations for
 * attributeTypes on the schema subentry.
 * @throws Exception on error
 */
@Test public void testAddRemoveReplaceAttributeTypes() throws Exception {
  enableSchema("nis");
  List<String> descriptions=new ArrayList<String>();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.2.10000 DESC 'bogus desc' " + "SYNTAX 1.2.3.4 X-SCHEMA 'nis' )");
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.2.10001 DESC 'bogus desc' " + "SYNTAX 1.2.3.4 X-SCHEMA 'nis' )");
  try {
    modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"attributeTypes");
    fail("Cannot add attributeType with bogus non-existant syntax");
  }
 catch (  LdapException e) {
  }
  checkAttributeTypePresent("1.3.6.1.4.1.18060.0.4.1.2.10000","nis",false);
  checkAttributeTypePresent("1.3.6.1.4.1.18060.0.4.1.2.10001","nis",false);
  descriptions.clear();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.2.10000 " + "SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 SUP 1.2.3.4 X-SCHEMA 'nis' )");
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.2.10001 " + "SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 SUP 1.2.3.4 X-SCHEMA 'nis' )");
  try {
    modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"attributeTypes");
    fail("Cannot add attributeType with bogus non-existant syntax");
  }
 catch (  LdapException e) {
  }
  checkAttributeTypePresent("1.3.6.1.4.1.18060.0.4.1.2.10000","nis",false);
  checkAttributeTypePresent("1.3.6.1.4.1.18060.0.4.1.2.10001","nis",false);
  descriptions.clear();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.2.10000 " + "SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 EQUALITY 1.2.3.4 X-SCHEMA 'nis' )");
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.2.10001 " + "SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 EQUALITY 1.2.3.4 X-SCHEMA 'nis' )");
  try {
    modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"attributeTypes");
    fail("Cannot add attributeType with bogus non-existant equality MatchingRule");
  }
 catch (  LdapException e) {
  }
  checkAttributeTypePresent("1.3.6.1.4.1.18060.0.4.1.2.10000","nis",false);
  checkAttributeTypePresent("1.3.6.1.4.1.18060.0.4.1.2.10001","nis",false);
  descriptions.clear();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.2.10000 " + "SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 ORDERING 1.2.3.4 X-SCHEMA 'nis' )");
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.2.10001 " + "SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 ORDERING 1.2.3.4 X-SCHEMA 'nis' )");
  try {
    modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"attributeTypes");
    fail("Cannot add attributeType with bogus non-existant ordering MatchingRule");
  }
 catch (  LdapException e) {
  }
  checkAttributeTypePresent("1.3.6.1.4.1.18060.0.4.1.2.10000","nis",false);
  checkAttributeTypePresent("1.3.6.1.4.1.18060.0.4.1.2.10001","nis",false);
  descriptions.clear();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.2.10000 " + "SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 SUBSTR 1.2.3.4 X-SCHEMA 'nis' )");
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.2.10001 " + "SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 SUBSTR 1.2.3.4 X-SCHEMA 'nis' )");
  try {
    modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"attributeTypes");
    fail("Cannot add attributeType with bogus non-existant substrings MatchingRule");
  }
 catch (  LdapException e) {
  }
  checkAttributeTypePresent("1.3.6.1.4.1.18060.0.4.1.2.10000","nis",false);
  checkAttributeTypePresent("1.3.6.1.4.1.18060.0.4.1.2.10001","nis",false);
  descriptions.clear();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.2.10000 " + "SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 SUP 2.5.4.41 X-SCHEMA 'nis' )");
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.2.10001 " + "SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 SUP 2.5.4.41 X-SCHEMA 'nis' )");
  modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"attributeTypes");
  checkAttributeTypePresent("1.3.6.1.4.1.18060.0.4.1.2.10000","nis",true);
  checkAttributeTypePresent("1.3.6.1.4.1.18060.0.4.1.2.10001","nis",true);
  modify(ModificationOperation.REMOVE_ATTRIBUTE,descriptions,"attributeTypes");
  descriptions.clear();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.2.10000 NAME 'type0' " + "SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 SUP 2.5.4.41 X-SCHEMA 'nis' )");
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.2.10001 NAME ( 'type1' 'altName' ) " + "SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 SUP 2.5.4.41 X-SCHEMA 'nis' )");
  modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"attributeTypes");
  checkAttributeTypePresent("1.3.6.1.4.1.18060.0.4.1.2.10000","nis",true);
  checkAttributeTypePresent("1.3.6.1.4.1.18060.0.4.1.2.10001","nis",true);
  modify(ModificationOperation.REMOVE_ATTRIBUTE,descriptions,"attributeTypes");
  descriptions.clear();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.2.10000 NAME 'type0' " + "OBSOLETE SUP 2.5.4.41 " + "EQUALITY caseExactIA5Match "+ "ORDERING octetStringOrderingMatch "+ "SUBSTR caseExactIA5SubstringsMatch COLLECTIVE "+ "SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 "+ "USAGE userApplications X-SCHEMA 'nis' )");
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.2.10001 NAME ( 'type1' 'altName' ) " + "SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 SUP 2.5.4.41 " + "USAGE userApplications X-SCHEMA 'nis' )");
  modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"attributeTypes");
  checkAttributeTypePresent("1.3.6.1.4.1.18060.0.4.1.2.10000","nis",true);
  checkAttributeTypePresent("1.3.6.1.4.1.18060.0.4.1.2.10001","nis",true);
  modify(ModificationOperation.REMOVE_ATTRIBUTE,descriptions,"attributeTypes");
  checkMatchingRulePresent("1.3.6.1.4.1.18060.0.4.1.2.10000","nis",false);
  checkMatchingRulePresent("1.3.6.1.4.1.18060.0.4.1.2.10001","nis",false);
  try {
    modify(ModificationOperation.REPLACE_ATTRIBUTE,descriptions,"attributeTypes");
    fail("modify REPLACE operations should not be allowed");
  }
 catch (  LdapException e) {
  }
  descriptions.clear();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.2.10000 NAME 'type0' " + "OBSOLETE SUP 2.5.4.41 " + "EQUALITY caseExactIA5Match "+ "ORDERING octetStringOrderingMatch "+ "SUBSTR caseExactIA5SubstringsMatch COLLECTIVE "+ "SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 "+ "USAGE userApplications )");
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.2.10001 NAME ( 'type1' 'altName' ) " + "SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 SUP 2.5.4.41 " + "USAGE userApplications )");
  modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"attributeTypes");
  checkAttributeTypePresent("1.3.6.1.4.1.18060.0.4.1.2.10000","other",true);
  checkAttributeTypePresent("1.3.6.1.4.1.18060.0.4.1.2.10001","other",true);
}

</code></pre>

<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * Tests a number of modify add, remove and replace operation combinations for
 * objectClasses on the schema subentry.
 * @throws Exception on error
 */
@Test public void testAddRemoveReplaceObjectClasses() throws Exception {
  enableSchema("nis");
  List<String> descriptions=new ArrayList<String>();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.3.10000 SUP 1.2.3 X-SCHEMA 'nis' )");
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.3.10001 SUP ( 1.2.3 $ 4.5.6 ) X-SCHEMA 'nis' )");
  try {
    modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"objectClasses");
    fail("Cannot add objectClass with bogus non-existant super");
  }
 catch (  LdapException e) {
  }
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10000","nis",false);
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10001","nis",false);
  descriptions.clear();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.3.10000 " + "SUP 2.5.6.0 X-SCHEMA 'nis' )");
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.3.10001 " + "SUP 2.5.6.0 X-SCHEMA 'nis' )");
  modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"objectClasses");
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10000","nis",true);
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10001","nis",true);
  modify(ModificationOperation.REMOVE_ATTRIBUTE,descriptions,"objectClasses");
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10000","nis",false);
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10001","nis",false);
  descriptions.clear();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.3.10000 " + "NAME ( 'blah0' 'altname0' ) SUP 2.5.6.0 X-SCHEMA 'nis' )");
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.3.10001 " + "NAME ( 'blah1' 'altname1' ) SUP 2.5.6.0 X-SCHEMA 'nis' )");
  modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"objectClasses");
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10000","nis",true);
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10001","nis",true);
  modify(ModificationOperation.REMOVE_ATTRIBUTE,descriptions,"objectClasses");
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10000","nis",false);
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10001","nis",false);
  descriptions.clear();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.3.10000 " + "NAME ( 'blah0' 'altname0' ) DESC 'bogus' SUP 2.5.6.0 X-SCHEMA 'nis' )");
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.3.10001 " + "NAME ( 'blah1' 'altname1' ) DESC 'bogus' SUP 2.5.6.0 X-SCHEMA 'nis' )");
  modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"objectClasses");
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10000","nis",true);
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10001","nis",true);
  modify(ModificationOperation.REMOVE_ATTRIBUTE,descriptions,"objectClasses");
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10000","nis",false);
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10001","nis",false);
  descriptions.clear();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.3.10000 " + "NAME ( 'blah0' 'altname0' ) DESC 'bogus' SUP ( 2.5.6.0 $ dynamicObject ) AUXILIARY X-SCHEMA 'nis' )");
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.3.10001 " + "NAME ( 'blah1' 'altname1' ) DESC 'bogus' SUP ( 2.5.6.0 $ domain ) X-SCHEMA 'nis' )");
  modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"objectClasses");
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10000","nis",true);
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10001","nis",true);
  modify(ModificationOperation.REMOVE_ATTRIBUTE,descriptions,"objectClasses");
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10000","nis",false);
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10001","nis",false);
  descriptions.clear();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.3.10000 " + "NAME ( 'blah0' 'altname0' ) DESC 'bogus' SUP ( 2.5.6.0 $ dynamicObject ) " + "MAY ( blah0 $ cn ) X-SCHEMA 'nis' )");
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.3.10001 " + "NAME ( 'blah1' 'altname1' ) DESC 'bogus' SUP ( 2.5.6.0 $ domain ) " + "MAY ( sn $ blah1 ) X-SCHEMA 'nis' )");
  try {
    modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"objectClasses");
    fail("Cannot add objectClass with bogus non-existant attributeTypes");
  }
 catch (  LdapException e) {
  }
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10000","nis",false);
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10001","nis",false);
  descriptions.clear();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.3.10000 " + "NAME ( 'blah0' 'altname0' ) DESC 'bogus' SUP ( 2.5.6.0 $ dynamicObject ) " + "MUST ( blah0 $ cn ) X-SCHEMA 'nis' )");
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.3.10001 " + "NAME ( 'blah1' 'altname1' ) DESC 'bogus' SUP ( 2.5.6.0 $ domain ) " + "MUST ( sn $ blah1 ) X-SCHEMA 'nis' )");
  try {
    modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"objectClasses");
    fail("Cannot add objectClass with bogus non-existant attributeTypes");
  }
 catch (  LdapException e) {
  }
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10000","nis",false);
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10001","nis",false);
  descriptions.clear();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.3.10000 " + "NAME ( 'blah0' 'altname0' ) DESC 'bogus' SUP ( 2.5.6.0 $ dynamicObject ) AUXILIARY " + "MAY ( sn $ cn ) X-SCHEMA 'nis' )");
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.3.10001 " + "NAME ( 'blah1' 'altname1' ) DESC 'bogus' SUP ( 2.5.6.0 $ domain ) " + "MAY ( sn $ ou ) X-SCHEMA 'nis' )");
  modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"objectClasses");
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10000","nis",true);
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10001","nis",true);
  modify(ModificationOperation.REMOVE_ATTRIBUTE,descriptions,"objectClasses");
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10000","nis",false);
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10001","nis",false);
  descriptions.clear();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.3.10000 " + "NAME ( 'blah0' 'altname0' ) DESC 'bogus' SUP ( 2.5.6.0 $ dynamicObject ) AUXILIARY " + "MUST ( sn $ cn ) X-SCHEMA 'nis' )");
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.3.10001 " + "NAME ( 'blah1' 'altname1' ) DESC 'bogus' SUP ( 2.5.6.0 $ domain ) " + "MUST ( sn $ ou ) X-SCHEMA 'nis' )");
  modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"objectClasses");
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10000","nis",true);
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10001","nis",true);
  modify(ModificationOperation.REMOVE_ATTRIBUTE,descriptions,"objectClasses");
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10000","nis",false);
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10001","nis",false);
  descriptions.clear();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.3.10000 " + "NAME ( 'blah0' 'altname0' ) DESC 'bogus' OBSOLETE SUP ( 2.5.6.0 $ dynamicObject ) AUXILIARY " + "MUST ( sn $ cn ) "+ "MAY ( gn $ ou ) "+ "X-SCHEMA 'nis' ) ");
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.3.10001 " + "NAME ( 'blah1' 'altname1' ) DESC 'bogus' OBSOLETE SUP ( 2.5.6.0 $ domain ) STRUCTURAL " + "MUST ( sn $ ou ) "+ "MAY ( cn $ gn ) "+ "X-SCHEMA 'nis' )");
  modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"objectClasses");
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10000","nis",true);
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10001","nis",true);
  modify(ModificationOperation.REMOVE_ATTRIBUTE,descriptions,"objectClasses");
  checkMatchingRulePresent("1.3.6.1.4.1.18060.0.4.1.3.10000","nis",false);
  checkMatchingRulePresent("1.3.6.1.4.1.18060.0.4.1.3.10001","nis",false);
  try {
    modify(ModificationOperation.REPLACE_ATTRIBUTE,descriptions,"objectClasses");
    fail("modify REPLACE operations should not be allowed");
  }
 catch (  LdapException e) {
  }
  descriptions.clear();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.3.10000 " + "NAME ( 'blah0' 'altname0' ) DESC 'bogus' OBSOLETE SUP ( 2.5.6.0 $ dynamicObject ) AUXILIARY " + "MUST ( sn $ cn ) "+ "MAY ( gn $ ou ) )");
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.3.10001 " + "NAME ( 'blah1' 'altname1' ) DESC 'bogus' OBSOLETE SUP ( 2.5.6.0 $ domain ) STRUCTURAL " + "MUST ( sn $ ou ) "+ "MAY ( gn $ cn ) )");
  modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"objectClasses");
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10000","other",true);
  checkObjectClassPresent("1.3.6.1.4.1.18060.0.4.1.3.10001","other",true);
}

</code></pre>

<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * Tests the rejection of move operation for the SubschemaSubentry (SSSE).
 * @throws NamingException on error
 */
@Test public void testSSSEMoveRejection() throws Exception {
  try {
    connection.rename(subschemaSubentryDn,"cn=blah,ou=schema");
    fail("You are not allowed to move the global schema subentry which is fixed");
  }
 catch (  LdapException e) {
  }
  try {
    connection.rename(subschemaSubentryDn,"cn=schema,ou=schema");
    fail("You are not allowed to move the global schema subentry which is fixed");
  }
 catch (  LdapException e) {
  }
}

</code></pre>

<pre class="type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for DIRSHARED-60.
 * It is allowed to add an attribute type description without any matching rule.
 * Adding it via ou=schema partition worked. Adding it via the subschema subentry failed.
 */
@Test public void testAddAttributeTypeWithoutMatchingRule() throws Exception {
  ModifyRequest modRequest=new ModifyRequestImpl();
  modRequest.setName(new Dn(GLOBAL_SUBSCHEMA_DN));
  modRequest.add("attributeTypes","( 2.5.4.58 NAME 'attributeCertificateAttribute' " + " DESC 'attribute certificate use ;binary' SYNTAX 1.3.6.1.4.1.1466.115.121.1.8 )");
  ModifyResponse response=connection.modify(modRequest);
  assertEquals(ResultCodeEnum.SUCCESS,response.getLdapResult().getResultCode());
}

</code></pre>

<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * Tests a number of modify add, remove and replace operation combinations for
 * matchingRules on the schema subentry.
 * @throws Exception on error
 */
@Test public void testAddRemoveReplaceMatchingRules() throws Exception {
  enableSchema("nis");
  List<String> descriptions=new ArrayList<String>();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.1.10000 DESC 'bogus desc' SYNTAX 1.2.3.4 X-SCHEMA 'nis' )");
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.1.10001 DESC 'bogus desc' SYNTAX 1.2.3.4 X-SCHEMA 'nis' )");
  try {
    modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"matchingRules");
    fail("Cannot add matchingRule with bogus non-existant syntax");
  }
 catch (  LdapException e) {
  }
  checkMatchingRulePresent("1.3.6.1.4.1.18060.0.4.1.1.10000","nis",false);
  checkMatchingRulePresent("1.3.6.1.4.1.18060.0.4.1.1.10001","nis",false);
  descriptions.clear();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.1.10000 " + "SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 X-SCHEMA 'nis' )");
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.1.10001 " + "SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 X-SCHEMA 'nis' )");
  modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"matchingRules");
  checkMatchingRulePresent("1.3.6.1.4.1.18060.0.4.1.1.10000","nis",true);
  checkMatchingRulePresent("1.3.6.1.4.1.18060.0.4.1.1.10001","nis",true);
  modify(ModificationOperation.REMOVE_ATTRIBUTE,descriptions,"matchingRules");
  checkMatchingRulePresent("1.3.6.1.4.1.18060.0.4.1.1.10000","nis",false);
  checkMatchingRulePresent("1.3.6.1.4.1.18060.0.4.1.1.10001","nis",false);
  descriptions.clear();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.1.10000 DESC 'bogus desc' " + "SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 X-SCHEMA 'nis' )");
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.1.10001 DESC 'bogus desc' " + "SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 X-SCHEMA 'nis' )");
  modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"matchingRules");
  checkMatchingRulePresent("1.3.6.1.4.1.18060.0.4.1.1.10000","nis",true);
  checkMatchingRulePresent("1.3.6.1.4.1.18060.0.4.1.1.10001","nis",true);
  modify(ModificationOperation.REMOVE_ATTRIBUTE,descriptions,"matchingRules");
  checkMatchingRulePresent("1.3.6.1.4.1.18060.0.4.1.1.10000","nis",false);
  checkMatchingRulePresent("1.3.6.1.4.1.18060.0.4.1.1.10001","nis",false);
  descriptions.clear();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.1.10000 NAME 'blah0' DESC 'bogus desc' " + "SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 X-SCHEMA 'nis' )");
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.1.10001 NAME ( 'blah1' 'othername1' ) DESC 'bogus desc' " + "SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 X-SCHEMA 'nis' )");
  modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"matchingRules");
  checkMatchingRulePresent("1.3.6.1.4.1.18060.0.4.1.1.10000","nis",true);
  checkMatchingRulePresent("1.3.6.1.4.1.18060.0.4.1.1.10001","nis",true);
  modify(ModificationOperation.REMOVE_ATTRIBUTE,descriptions,"matchingRules");
  checkMatchingRulePresent("1.3.6.1.4.1.18060.0.4.1.1.10000","nis",false);
  checkMatchingRulePresent("1.3.6.1.4.1.18060.0.4.1.1.10001","nis",false);
  descriptions.clear();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.1.10000 NAME 'blah0' DESC 'bogus desc' " + "OBSOLETE SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 X-SCHEMA 'nis' )");
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.1.10001 NAME ( 'blah1' 'othername1' ) DESC 'bogus desc' " + "OBSOLETE SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 X-SCHEMA 'nis' )");
  modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"matchingRules");
  checkMatchingRulePresent("1.3.6.1.4.1.18060.0.4.1.1.10000","nis",true);
  checkMatchingRulePresent("1.3.6.1.4.1.18060.0.4.1.1.10001","nis",true);
  modify(ModificationOperation.REMOVE_ATTRIBUTE,descriptions,"matchingRules");
  checkMatchingRulePresent("1.3.6.1.4.1.18060.0.4.1.1.10000","nis",false);
  checkMatchingRulePresent("1.3.6.1.4.1.18060.0.4.1.1.10001","nis",false);
  try {
    modify(ModificationOperation.REPLACE_ATTRIBUTE,descriptions,"matchingRules");
    fail("modify REPLACE operations should not be allowed");
  }
 catch (  LdapException e) {
  }
  descriptions.clear();
  descriptions.add("( 1.3.6.1.4.1.18060.0.4.1.1.10002 DESC 'bogus desc' " + "SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 )");
  modify(ModificationOperation.ADD_ATTRIBUTE,descriptions,"matchingRules");
  checkMatchingRulePresent("1.3.6.1.4.1.18060.0.4.1.1.10002","other",true);
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
