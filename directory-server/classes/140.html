<h3 style="margin:0px">Class: org.apache.directory.server.core.operations.search.SearchIT (55 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(39)</kbd></button>&nbsp;<button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(38)</kbd></button>&nbsp;<button id="11"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('11')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-11"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(34)</kbd></button>&nbsp;<button id="10"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('10')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-10"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(24)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(18)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure"><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >UtilityVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="12"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('12')" data-toggle="tooltip" title="Verifies assertions inside branch conditions"><kbd id="tag-12"class="label-info"style="display: inline-block;font-size:7pt" >BranchVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Allocates resources before the execution of the test cases"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >TestInitializer&nbsp;(1)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Executes methods or other tests from the same test unit"><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >ExecutionTester&nbsp;(1)</kbd></button>&nbsp;<button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Is not executed with the test suite"><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >IgnoredMethod&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for DIRSERVER-1922
 */
@Test public void testNotEvaluator() throws Exception {
  LdapConnection con=new LdapCoreSessionConnection(service.getAdminSession());
  EntryCursor cursor=con.search("ou=groups,ou=system","(!(gidNumber=00001))",SearchScope.ONELEVEL,SchemaConstants.ALL_ATTRIBUTES_ARRAY);
  int count=0;
  while (cursor.next()) {
    count++;
  }
  cursor.close();
  assertEquals(5,count);
}

</code></pre>

<pre class="type-11 type-4 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFilterExpansion4() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.SUBTREE_SCOPE);
  controls.setDerefLinkFlag(false);
  sysRoot.addToEnvironment(JndiPropertyConstants.JNDI_LDAP_DAP_DEREF_ALIASES,AliasDerefMode.NEVER_DEREF_ALIASES.getJndiValue());
  HashMap<String,Attributes> map=new HashMap<String,Attributes>();
  NamingEnumeration<SearchResult> list=sysRoot.search("","(name=testing*)",controls);
  while (list.hasMore()) {
    SearchResult result=list.next();
    map.put(result.getName(),result.getAttributes());
  }
  list.close();
  assertEquals("size of results",6,map.size());
  assertTrue("contains ou=testing00,ou=system",map.containsKey("ou=testing00,ou=system"));
  assertTrue("contains ou=testing01,ou=system",map.containsKey("ou=testing01,ou=system"));
  assertTrue("contains ou=testing02,ou=system",map.containsKey("ou=testing02,ou=system"));
  assertTrue("contains ou=testing03,ou=system",map.containsKey("ou=testing03,ou=system"));
  assertTrue("contains ou=testing04,ou=system",map.containsKey("ou=testing04,ou=system"));
  assertTrue("contains ou=testing05,ou=system",map.containsKey("ou=testing05,ou=system"));
}

</code></pre>

<pre class="type-6 type-11 type-4 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * DIRSERVER-1961
 * @throws Exception
 */
@Test public void testSearchRootDSEOneLevel() throws Exception {
  LdapConnection conn=getAdminConnection(service);
  EntryCursor cursor=conn.search("ou=schema","(|(objectClass=*)(cn=x))",SearchScope.OBJECT,"*");
  assertTrue(cursor.next());
  cursor.close();
  cursor=conn.search("ou=schema","(objectClass=person)",SearchScope.OBJECT,"*");
  assertFalse(cursor.next());
  cursor.close();
  cursor=conn.search("","(objectClass=person)",SearchScope.ONELEVEL,"*");
  assertFalse(cursor.next());
  cursor.close();
  cursor=conn.search("","(objectClass=person)",SearchScope.SUBTREE,"*");
  int count=0;
  while (cursor.next()) {
    count++;
  }
  assertEquals(3,count);
  cursor.close();
}

</code></pre>

<pre class="type-10 type-4 type-5 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSearchWithEscapedCharsInFilter() throws Exception {
  Attributes vicious=LdifUtils.createJndiAttributes("objectClass: top","objectClass: person","cn: Sid Vicious","sn: Vicious","description: (sex*pis\\tols)");
  DirContext ctx=sysRoot.createSubcontext("cn=Sid Vicious",vicious);
  assertNotNull(ctx);
  ctx=(DirContext)sysRoot.lookup("cn=Sid Vicious");
  assertNotNull(ctx);
  Attributes attributes=ctx.getAttributes("");
  assertEquals("(sex*pis\\tols)",attributes.get("description").get());
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.SUBTREE_SCOPE);
  controls.setDerefLinkFlag(false);
  controls.setReturningAttributes(new String[]{"*"});
  sysRoot.addToEnvironment(JndiPropertyConstants.JNDI_LDAP_DAP_DEREF_ALIASES,AliasDerefMode.NEVER_DEREF_ALIASES.getJndiValue());
  HashMap<String,Attributes> map=new HashMap<String,Attributes>();
  NamingEnumeration<SearchResult> list=sysRoot.search("","(description=\\28sex\\2Apis\\5Ctols\\29)",controls);
  while (list.hasMore()) {
    SearchResult result=list.next();
    map.put(result.getName(),result.getAttributes());
  }
  list.close();
  assertEquals("Expected number of results returned was incorrect!",1,map.size());
  Attributes attrs=map.get("cn=Sid Vicious,ou=system");
  assertNotNull(attrs.get("objectClass"));
  assertNotNull(attrs.get("cn"));
}

</code></pre>

<pre class="type-10 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
"></span><br>
@Test public void testSearchOrGidNumber() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.SUBTREE_SCOPE);
  controls.setDerefLinkFlag(false);
  controls.setReturningAttributes(new String[]{"*","+"});
  LdapContext nullRootCtx=getRootContext(getService());
  NamingEnumeration<SearchResult> list=nullRootCtx.search("","(|(&(objectclass=posixGroup)(|(gidnumber=1)(gidnumber=1)))(objectClass=posixGroupp))",controls);
  Attributes rootDse=null;
  while (list.hasMore()) {
    SearchResult result=list.next();
    rootDse=result.getAttributes();
  }
  list.close();
  assertNotNull(rootDse);
}

</code></pre>

<pre class="type-11 type-4 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSearchSubTreeLevel() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.SUBTREE_SCOPE);
  controls.setDerefLinkFlag(false);
  sysRoot.addToEnvironment(JndiPropertyConstants.JNDI_LDAP_DAP_DEREF_ALIASES,AliasDerefMode.NEVER_DEREF_ALIASES.getJndiValue());
  HashMap<String,Attributes> map=new HashMap<String,Attributes>();
  NamingEnumeration<SearchResult> list=sysRoot.search("","(ou=*)",controls);
  while (list.hasMore()) {
    SearchResult result=list.next();
    map.put(result.getName(),result.getAttributes());
  }
  list.close();
  assertEquals("Expected number of results returned was incorrect",14,map.size());
  assertTrue(map.containsKey("ou=system"));
  assertTrue(map.containsKey("ou=testing00,ou=system"));
  assertTrue(map.containsKey("ou=testing01,ou=system"));
  assertTrue(map.containsKey("ou=testing02,ou=system"));
  assertTrue(map.containsKey("ou=subtest,ou=testing01,ou=system"));
}

</code></pre>

<pre class="type-10 type-4 type-5 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSearchAllAttr() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.ONELEVEL_SCOPE);
  controls.setDerefLinkFlag(false);
  controls.setReturningAttributes(new String[]{"+","*"});
  sysRoot.addToEnvironment(JndiPropertyConstants.JNDI_LDAP_DAP_DEREF_ALIASES,AliasDerefMode.NEVER_DEREF_ALIASES.getJndiValue());
  HashMap<String,Attributes> map=new HashMap<String,Attributes>();
  NamingEnumeration<SearchResult> list=sysRoot.search("","(ou=testing01)",controls);
  while (list.hasMore()) {
    SearchResult result=list.next();
    map.put(result.getName(),result.getAttributes());
  }
  list.close();
  assertEquals("Expected number of results returned was incorrect!",1,map.size());
  Attributes attrs=map.get("ou=testing01,ou=system");
  assertNotNull(attrs.get("createTimestamp"));
  assertNotNull(attrs.get("creatorsName"));
  assertNotNull(attrs.get("objectClass"));
  assertNotNull(attrs.get("ou"));
}

</code></pre>

<pre class="type-11 type-4 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFilterExpansion0() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.SUBTREE_SCOPE);
  controls.setDerefLinkFlag(false);
  sysRoot.addToEnvironment(JndiPropertyConstants.JNDI_LDAP_DAP_DEREF_ALIASES,AliasDerefMode.NEVER_DEREF_ALIASES.getJndiValue());
  HashMap<String,Attributes> map=new HashMap<String,Attributes>();
  NamingEnumeration<SearchResult> list=sysRoot.search("","(name=testing00)",controls);
  while (list.hasMore()) {
    SearchResult result=list.next();
    map.put(result.getName(),result.getAttributes());
  }
  list.close();
  assertEquals("size of results",1,map.size());
  assertTrue("contains ou=testing00,ou=system",map.containsKey("ou=testing00,ou=system"));
}

</code></pre>

<pre class="type-10 type-4 type-5 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * operational attributes with no values must be returned
 */
@Test public void testSearchTypesOnlyWithNoAttrAndOperationalAttr() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.ONELEVEL_SCOPE);
  controls.setDerefLinkFlag(false);
  controls.setReturningAttributes(new String[]{"1.1","+"});
  sysRoot.addToEnvironment(JndiPropertyConstants.JNDI_LDAP_DAP_DEREF_ALIASES,AliasDerefMode.NEVER_DEREF_ALIASES.getJndiValue());
  sysRoot.addToEnvironment("java.naming.ldap.typesOnly","true");
  HashMap<String,Attributes> map=new HashMap<String,Attributes>();
  NamingEnumeration<SearchResult> list=sysRoot.search("","(ou=testing01)",controls);
  while (list.hasMore()) {
    SearchResult result=list.next();
    map.put(result.getName(),result.getAttributes());
  }
  list.close();
  assertEquals("Expected number of results returned was incorrect!",1,map.size());
  Attributes attrs=map.get("ou=testing01,ou=system");
  assertNotNull(attrs.get(SchemaConstants.ENTRY_UUID_AT));
  assertNotNull(attrs.get(SchemaConstants.CREATORS_NAME_AT));
  assertEquals(0,attrs.get(SchemaConstants.ENTRY_UUID_AT).size());
  assertEquals(0,attrs.get(SchemaConstants.CREATORS_NAME_AT).size());
}

</code></pre>

<pre class="type-10 type-4 type-5 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSearchOperationalAttr() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.ONELEVEL_SCOPE);
  controls.setDerefLinkFlag(false);
  controls.setReturningAttributes(new String[]{"+"});
  sysRoot.addToEnvironment(JndiPropertyConstants.JNDI_LDAP_DAP_DEREF_ALIASES,AliasDerefMode.NEVER_DEREF_ALIASES.getJndiValue());
  HashMap<String,Attributes> map=new HashMap<String,Attributes>();
  NamingEnumeration<SearchResult> list=sysRoot.search("","(ou=testing01)",controls);
  while (list.hasMore()) {
    SearchResult result=list.next();
    map.put(result.getName(),result.getAttributes());
  }
  list.close();
  assertEquals("Expected number of results returned was incorrect!",1,map.size());
  Attributes attrs=map.get("ou=testing01,ou=system");
  assertNotNull(attrs.get("createTimestamp"));
  assertNotNull(attrs.get("creatorsName"));
  assertNull(attrs.get("objectClass"));
  assertNull(attrs.get("ou"));
}

</code></pre>

<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSearchEmptyDNWithSubLevelScope() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.SUBTREE_SCOPE);
  controls.setDerefLinkFlag(false);
  LdapContext nullRootCtx=getRootContext(getService());
  NamingEnumeration<SearchResult> list=nullRootCtx.search("","(objectClass=organizationalUnit)",controls);
  HashMap<String,Attributes> map=new HashMap<String,Attributes>();
  while (list.hasMore()) {
    SearchResult result=list.next();
    map.put(result.getName(),result.getAttributes());
  }
  list.close();
  assertTrue(map.size() > 2);
  assertTrue(map.containsKey("ou=system"));
  assertTrue(map.containsKey("ou=schema"));
}

</code></pre>

<pre class="type-11 type-4 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSearchOneLevel() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.ONELEVEL_SCOPE);
  controls.setDerefLinkFlag(false);
  sysRoot.addToEnvironment(JndiPropertyConstants.JNDI_LDAP_DAP_DEREF_ALIASES,AliasDerefMode.NEVER_DEREF_ALIASES.getJndiValue());
  HashMap<String,Attributes> map=new HashMap<String,Attributes>();
  NamingEnumeration<SearchResult> list=sysRoot.search("","(ou=*)",controls);
  while (list.hasMore()) {
    SearchResult result=list.next();
    map.put(result.getName(),result.getAttributes());
  }
  list.close();
  assertEquals("Expected number of results returned was incorrect!",9,map.size());
  assertTrue(map.containsKey("ou=testing00,ou=system"));
  assertTrue(map.containsKey("ou=testing01,ou=system"));
  assertTrue(map.containsKey("ou=testing02,ou=system"));
}

</code></pre>

<pre class="type-11 type-4 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSearchEmptyDNWithOneLevelScopeAndNoObjectClassPresenceFilter() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.ONELEVEL_SCOPE);
  controls.setDerefLinkFlag(false);
  LdapContext nullRootCtx=getRootContext(getService());
  NamingEnumeration<SearchResult> list=nullRootCtx.search("","(cn=*)",controls);
  HashMap<String,Attributes> map=new HashMap<String,Attributes>();
  while (list.hasMore()) {
    SearchResult result=list.next();
    map.put(result.getName(),result.getAttributes());
  }
  list.close();
  assertEquals(0,map.size());
  assertFalse(map.containsKey("ou=system"));
  assertFalse(map.containsKey("ou=schema"));
}

</code></pre>

<pre class="type-11 type-4 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSearchDN() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.SUBTREE_SCOPE);
  controls.setDerefLinkFlag(false);
  sysRoot.addToEnvironment(JndiPropertyConstants.JNDI_LDAP_DAP_DEREF_ALIASES,AliasDerefMode.NEVER_DEREF_ALIASES.getJndiValue());
  HashMap<String,Attributes> map=new HashMap<String,Attributes>();
  NamingEnumeration<SearchResult> list=sysRoot.search("","(manager=cn=Heather Nova, ou=system)",controls);
  while (list.hasMore()) {
    SearchResult result=list.next();
    map.put(result.getName(),result.getAttributes());
  }
  list.close();
  assertEquals("Expected number of results returned was incorrect",1,map.size());
  assertTrue(map.containsKey("cn=with-dn, ou=system") || map.containsKey("cn=with-dn,ou=system"));
}

</code></pre>

<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
/** 
 * @param sysRoot the system root to add entries to
 * @throws NamingException on errors
 */
@Before public void init() throws Exception {
  sysRoot=getSystemContext(getService());
}

</code></pre>

<pre class="type-10 type-11 type-4 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOpAttrDenormalizationOff() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.ONELEVEL_SCOPE);
  controls.setDerefLinkFlag(false);
  controls.setReturningAttributes(new String[]{"creatorsName"});
  sysRoot.addToEnvironment(JndiPropertyConstants.JNDI_LDAP_DAP_DEREF_ALIASES,AliasDerefMode.NEVER_DEREF_ALIASES.getJndiValue());
  HashMap<String,Attributes> map=new HashMap<String,Attributes>();
  NamingEnumeration<SearchResult> list=sysRoot.search("","(ou=testing00)",controls);
  while (list.hasMore()) {
    SearchResult result=list.next();
    map.put(result.getName(),result.getAttributes());
  }
  list.close();
  assertEquals("Expected number of results returned was incorrect!",1,map.size());
  assertTrue(map.containsKey("ou=testing00,ou=system"));
  Attributes attrs=map.get("ou=testing00,ou=system");
  assertEquals("normalized creator's name","0.9.2342.19200300.100.1.1=admin,2.5.4.11=system",attrs.get("creatorsName").get());
}

</code></pre>

<pre class="type-11 type-4 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSearchFilterWithBadAttributeType() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.ONELEVEL_SCOPE);
  controls.setDerefLinkFlag(false);
  sysRoot.addToEnvironment(JndiPropertyConstants.JNDI_LDAP_DAP_DEREF_ALIASES,AliasDerefMode.NEVER_DEREF_ALIASES.getJndiValue());
  HashMap<String,Attributes> map=new HashMap<String,Attributes>();
  NamingEnumeration<SearchResult> list=sysRoot.search("","(|(badAttr={0})(ou={1}))",new Object[]{"testing00","testing01"},controls);
  while (list.hasMore()) {
    SearchResult result=list.next();
    map.put(result.getName(),result.getAttributes());
  }
  list.close();
  assertEquals("Expected number of results returned was incorrect!",1,map.size());
  assertTrue(map.containsKey("ou=testing01,ou=system"));
}

</code></pre>

<pre class="type-11 type-4 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSearchFilterArgs() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.ONELEVEL_SCOPE);
  controls.setDerefLinkFlag(false);
  sysRoot.addToEnvironment(JndiPropertyConstants.JNDI_LDAP_DAP_DEREF_ALIASES,AliasDerefMode.NEVER_DEREF_ALIASES.getJndiValue());
  HashMap<String,Attributes> map=new HashMap<String,Attributes>();
  NamingEnumeration<SearchResult> list=sysRoot.search("","(|(ou={0})(ou={1}))",new Object[]{"testing00","testing01"},controls);
  while (list.hasMore()) {
    SearchResult result=list.next();
    map.put(result.getName(),result.getAttributes());
  }
  list.close();
  assertEquals("Expected number of results returned was incorrect!",2,map.size());
  assertTrue(map.containsKey("ou=testing00,ou=system"));
  assertTrue(map.containsKey("ou=testing01,ou=system"));
}

</code></pre>

<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Added to test correct comparison of integer attribute types when searching.
 * testGreaterThanSearch and testLesserThanSearch fail to detect the problem using values less than 10.
 * Ref. DIRSERVER-1296
 * @throws Exception
 */
@Test public void testIntegerComparison2() throws Exception {
  Set<String> results=searchUnits("(&(objectClass=organizationalUnit)(integerAttribute>=3))",null);
  assertFalse(results.contains("ou=testing00,ou=system"));
  assertFalse(results.contains("ou=testing01,ou=system"));
  assertFalse(results.contains("ou=testing02,ou=system"));
  assertTrue(results.contains("ou=testing03,ou=system"));
  assertTrue(results.contains("ou=testing04,ou=system"));
  assertTrue(results.contains("ou=testing05,ou=system"));
}

</code></pre>

<pre class="type-10 type-11 type-4 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSearchSubTreeLevelNoAttributes() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.SUBTREE_SCOPE);
  controls.setDerefLinkFlag(false);
  controls.setReturningAttributes(new String[]{"1.1"});
  sysRoot.addToEnvironment(JndiPropertyConstants.JNDI_LDAP_DAP_DEREF_ALIASES,AliasDerefMode.NEVER_DEREF_ALIASES.getJndiValue());
  HashMap<String,Attributes> map=new HashMap<String,Attributes>();
  NamingEnumeration<SearchResult> list=sysRoot.search("","(ou=testing02)",controls);
  while (list.hasMore()) {
    SearchResult result=list.next();
    map.put(result.getName(),result.getAttributes());
  }
  list.close();
  assertEquals("Expected number of results returned was incorrect",1,map.size());
  assertTrue(map.containsKey("ou=testing02,ou=system"));
  Attributes attrs=map.get("ou=testing02,ou=system");
  assertEquals(0,attrs.size());
}

</code></pre>

<pre class="type-10 type-4 type-5 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSearchRootDSE() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.OBJECT_SCOPE);
  controls.setDerefLinkFlag(false);
  controls.setReturningAttributes(new String[]{"*","+"});
  LdapContext nullRootCtx=getRootContext(getService());
  NamingEnumeration<SearchResult> list=nullRootCtx.search("","(objectClass=*)",controls);
  Attributes rootDse=null;
  while (list.hasMore()) {
    SearchResult result=list.next();
    rootDse=result.getAttributes();
  }
  list.close();
  assertNotNull(rootDse);
  assertEquals(10,rootDse.size());
  assertNotNull(rootDse.get("objectClass"));
  assertNotNull(rootDse.get("entryUUID"));
  assertNotNull(rootDse.get("namingContexts"));
  assertNotNull(rootDse.get("subschemaSubentry"));
  assertNotNull(rootDse.get("supportedControl"));
  assertNotNull(rootDse.get("supportedExtension"));
  assertNotNull(rootDse.get("supportedFeatures"));
  assertNotNull(rootDse.get("supportedLDAPVersion"));
  assertNotNull(rootDse.get("vendorName"));
  assertNotNull(rootDse.get("vendorVersion"));
}

</code></pre>

<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCsnLessEqualitySearch() throws Exception {
  LdapConnection connection=IntegrationUtils.getAdminConnection(getService());
  Dn dn=new Dn("cn=testLowerCsnAdd,ou=system");
  Entry entry=new DefaultEntry(dn);
  entry.add("objectClass",SchemaConstants.PERSON_OC);
  entry.add("cn","testLowerCsnAdd_cn");
  entry.add("sn","testLowerCsnAdd_sn");
  connection.add(entry);
  Dn dn2=new Dn("cn=testHigherCsnAdd,ou=system");
  Entry entry2=new DefaultEntry(dn2,"objectClass :person","cn: testHigherCsnAdd_cn","sn: testHigherCsnAdd_sn");
  connection.add(entry2);
  entry=connection.lookup(dn.getName(),"+");
  entry2=connection.lookup(dn2.getName(),"+");
  String lowerCsn=entry.get("entryCsn").getString();
  String higherCsn=entry2.get("entryCsn").getString();
  testUseCases(lowerCsn,new String[]{lowerCsn},connection,1);
  testUseCases(higherCsn,new String[]{higherCsn,lowerCsn},connection,1);
  testUseCases(higherCsn,new String[]{higherCsn},connection,2);
  testUseCases(lowerCsn,new String[]{higherCsn,lowerCsn},connection,2);
}

</code></pre>

<pre class="type-11 type-4 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testComplexFilter() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.SUBTREE_SCOPE);
  controls.setDerefLinkFlag(false);
  sysRoot.addToEnvironment(JndiPropertyConstants.JNDI_LDAP_DAP_DEREF_ALIASES,AliasDerefMode.NEVER_DEREF_ALIASES.getJndiValue());
  Attributes attrs=LdifUtils.createJndiAttributes("objectClass: top","objectClass: groupOfUniqueNames","cn: testGroup3","uniqueMember: uid=admin,ou=system");
  getSystemContext(getService()).createSubcontext("cn=testGroup3,ou=groups",attrs);
  HashMap<String,Attributes> map=new HashMap<String,Attributes>();
  String filter="(|(&(|(2.5.4.0=posixgroup)(2.5.4.0=groupofuniquenames)(2.5.4.0=groupofnames)(2.5.4.0=group))(!(|(2.5.4.50=uid=admin,ou=system)(2.5.4.31=0.9.2342.19200300.100.1.1=admin,2.5.4.11=system))))(objectClass=referral))";
  NamingEnumeration<SearchResult> list=sysRoot.search("",filter,controls);
  while (list.hasMore()) {
    SearchResult result=list.next();
    map.put(result.getName(),result.getAttributes());
  }
  list.close();
  assertEquals("size of results",5,map.size());
  assertTrue(map.containsKey("cn=testGroup0,ou=groups,ou=system"));
  assertTrue(map.containsKey("cn=testGroup1,ou=groups,ou=system"));
  assertTrue(map.containsKey("cn=testGroup2,ou=groups,ou=system"));
  assertTrue(map.containsKey("cn=testGroup4,ou=groups,ou=system"));
  assertTrue(map.containsKey("cn=testGroup5,ou=groups,ou=system"));
  assertFalse(map.containsKey("cn=testGroup3,ou=groups,ou=system"));
}

</code></pre>

<pre class="type-10 type-4 type-5 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSearchUserAttrAndOpAttr() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.ONELEVEL_SCOPE);
  controls.setDerefLinkFlag(false);
  controls.setReturningAttributes(new String[]{"*","creatorsName"});
  sysRoot.addToEnvironment(JndiPropertyConstants.JNDI_LDAP_DAP_DEREF_ALIASES,AliasDerefMode.NEVER_DEREF_ALIASES.getJndiValue());
  HashMap<String,Attributes> map=new HashMap<String,Attributes>();
  NamingEnumeration<SearchResult> list=sysRoot.search("","(ou=testing01)",controls);
  while (list.hasMore()) {
    SearchResult result=list.next();
    map.put(result.getName(),result.getAttributes());
  }
  list.close();
  assertEquals("Expected number of results returned was incorrect!",1,map.size());
  Attributes attrs=map.get("ou=testing01,ou=system");
  assertNotNull(attrs.get("objectClass"));
  assertNotNull(attrs.get("ou"));
  assertNotNull(attrs.get("creatorsName"));
  assertNull(attrs.get("createTimestamp"));
}

</code></pre>

<pre class="type-9 type-11 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test a search with a bad filter : there is a missing closing ')'
 */
@Test public void testBadFilter() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.SUBTREE_SCOPE);
  controls.setDerefLinkFlag(false);
  sysRoot.addToEnvironment(JndiPropertyConstants.JNDI_LDAP_DAP_DEREF_ALIASES,AliasDerefMode.NEVER_DEREF_ALIASES.getJndiValue());
  try {
    sysRoot.search("","(|(name=testing00)(name=testing01)",controls);
    fail();
  }
 catch (  InvalidSearchFilterException isfe) {
    assertTrue(true);
  }
}

</code></pre>

<pre class="type-10 type-4 type-5 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSearchUserAttr() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.ONELEVEL_SCOPE);
  controls.setDerefLinkFlag(false);
  controls.setReturningAttributes(new String[]{"*"});
  sysRoot.addToEnvironment(JndiPropertyConstants.JNDI_LDAP_DAP_DEREF_ALIASES,AliasDerefMode.NEVER_DEREF_ALIASES.getJndiValue());
  HashMap<String,Attributes> map=new HashMap<String,Attributes>();
  NamingEnumeration<SearchResult> list=sysRoot.search("","(ou=testing01)",controls);
  while (list.hasMore()) {
    SearchResult result=list.next();
    map.put(result.getName(),result.getAttributes());
  }
  list.close();
  assertEquals("Expected number of results returned was incorrect!",1,map.size());
  Attributes attrs=map.get("ou=testing01,ou=system");
  assertNotNull(attrs.get("objectClass"));
  assertNotNull(attrs.get("ou"));
  assertNull(attrs.get("createTimestamp"));
  assertNull(attrs.get("creatorsName"));
}

</code></pre>

<pre class="type-10 type-4 type-5 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSubstringSearchWithEscapedCharsInFilter() throws Exception {
  Attributes vicious=LdifUtils.createJndiAttributes("objectClass: top","objectClass: person","cn: Sid Vicious","sn: Vicious","description: (sex*pis\\\\tols)");
  DirContext ctx=sysRoot.createSubcontext("cn=Sid Vicious",vicious);
  assertNotNull(ctx);
  ctx=(DirContext)sysRoot.lookup("cn=Sid Vicious");
  assertNotNull(ctx);
  Attributes attributes=ctx.getAttributes("");
  assertEquals("(sex*pis\\\\tols)",attributes.get("description").get());
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.SUBTREE_SCOPE);
  controls.setDerefLinkFlag(false);
  controls.setReturningAttributes(new String[]{"*"});
  sysRoot.addToEnvironment(JndiPropertyConstants.JNDI_LDAP_DAP_DEREF_ALIASES,AliasDerefMode.NEVER_DEREF_ALIASES.getJndiValue());
  String[] filters=new String[]{"(description=*\\5C*)"};
  for (  String filter : filters) {
    HashMap<String,Attributes> map=new HashMap<String,Attributes>();
    NamingEnumeration<SearchResult> list=sysRoot.search("",filter,controls);
    while (list.hasMore()) {
      SearchResult result=list.next();
      map.put(result.getName(),result.getAttributes());
    }
    list.close();
    assertEquals("Expected number of results returned was incorrect!",1,map.size());
    Attributes attrs=map.get("cn=Sid Vicious,ou=system");
    assertNotNull(attrs.get("objectClass"));
    assertNotNull(attrs.get("cn"));
  }
}

</code></pre>

<pre class="type-11 type-4 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSearchTelephoneNumber() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.ONELEVEL_SCOPE);
  HashMap<String,Attributes> map=new HashMap<String,Attributes>();
  NamingEnumeration<SearchResult> list=sysRoot.search("","(telephoneNumber=18015551212)",controls);
  while (list.hasMore()) {
    SearchResult result=list.next();
    map.put(result.getName(),result.getAttributes());
  }
  list.close();
  assertEquals("Expected number of results returned was incorrect!",2,map.size());
  assertTrue(map.containsKey("cn=Heather Nova, ou=system") || map.containsKey("cn=Heather Nova,ou=system"));
}

</code></pre>

<pre class="type-11 type-4 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFilterExpansion2() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.SUBTREE_SCOPE);
  controls.setDerefLinkFlag(false);
  sysRoot.addToEnvironment(JndiPropertyConstants.JNDI_LDAP_DAP_DEREF_ALIASES,AliasDerefMode.NEVER_DEREF_ALIASES.getJndiValue());
  HashMap<String,Attributes> map=new HashMap<String,Attributes>();
  NamingEnumeration<SearchResult> list=sysRoot.search("","(|(name=testing00)(name=testing01))",controls);
  while (list.hasMore()) {
    SearchResult result=list.next();
    map.put(result.getName(),result.getAttributes());
  }
  list.close();
  assertEquals("size of results",2,map.size());
  assertTrue("contains ou=testing00,ou=system",map.containsKey("ou=testing00,ou=system"));
  assertTrue("contains ou=testing01,ou=system",map.containsKey("ou=testing01,ou=system"));
}

</code></pre>

<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Added to test correct comparison of integer attribute types when searching.
 * testGreaterThanSearch and testLesserThanSearch fail to detect the problem using values less than 10.
 * Ref. DIRSERVER-1296
 * @throws Exception
 */
@Test public void testIntegerComparison() throws Exception {
  Set<String> results=searchUnits("(&(objectClass=organizationalUnit)(integerAttribute<=2))",null);
  assertTrue(results.contains("ou=testing00,ou=system"));
  assertTrue(results.contains("ou=testing01,ou=system"));
  assertTrue(results.contains("ou=testing02,ou=system"));
  assertFalse(results.contains("ou=testing03,ou=system"));
  assertFalse(results.contains("ou=testing04,ou=system"));
  assertFalse(results.contains("ou=testing05,ou=system"));
}

</code></pre>

<pre class="type-10 type-11 type-4 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSubstringSearchWithEscapedAsterisksInFilter_DIRSERVER_1181() throws Exception {
  Attributes vicious=LdifUtils.createJndiAttributes("objectClass: top","objectClass: person","cn: x*y*z*","sn: x*y*z*","description: (sex*pis\\tols)");
  sysRoot.createSubcontext("cn=x*y*z*",vicious);
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.ONELEVEL_SCOPE);
  controls.setReturningAttributes(new String[]{"cn"});
  NamingEnumeration<SearchResult> res;
  res=sysRoot.search("","(cn=*x\\2Ay\\2Az\\2A*)",controls);
  assertTrue(res.hasMore());
  assertEquals("x*y*z*",res.next().getAttributes().get("cn").get());
  assertFalse(res.hasMore());
  res.close();
  res=sysRoot.search("","(cn=*{0}*)",new String[]{"x*y*z*"},controls);
  assertTrue(res.hasMore());
  assertEquals("x*y*z*",res.next().getAttributes().get("cn").get());
  assertFalse(res.hasMore());
  res.close();
}

</code></pre>

<pre class="type-10 type-4 type-5 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSearchNoAttr() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.ONELEVEL_SCOPE);
  controls.setDerefLinkFlag(false);
  controls.setReturningAttributes(new String[]{"1.1"});
  sysRoot.addToEnvironment(JndiPropertyConstants.JNDI_LDAP_DAP_DEREF_ALIASES,AliasDerefMode.NEVER_DEREF_ALIASES.getJndiValue());
  HashMap<String,Attributes> map=new HashMap<String,Attributes>();
  NamingEnumeration<SearchResult> list=sysRoot.search("","(ou=testing01)",controls);
  while (list.hasMore()) {
    SearchResult result=list.next();
    map.put(result.getName(),result.getAttributes());
  }
  list.close();
  assertEquals("Expected number of results returned was incorrect!",1,map.size());
  Attributes attrs=map.get("ou=testing01,ou=system");
  assertNull(attrs.get("objectClass"));
  assertNull(attrs.get("ou"));
  assertNull(attrs.get("creatorsName"));
  assertNull(attrs.get("createTimestamp"));
}

</code></pre>

<pre class="type-10 type-12 type-9 type-4 type-5 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Search an entry and fetch an attribute and all its subtypes
 * @throws NamingException if there are errors
 */
@Test public void testSearchFetchAttributeAndSubTypes() throws Exception {
  SearchControls ctls=new SearchControls();
  ctls.setSearchScope(SearchControls.OBJECT_SCOPE);
  ctls.setReturningAttributes(new String[]{"name"});
  NamingEnumeration<SearchResult> result=sysRoot.search(RDN,FILTER,ctls);
  if (result.hasMore()) {
    SearchResult entry=result.next();
    Attributes attrs=entry.getAttributes();
    assertEquals(2,attrs.size());
    Attribute cn=attrs.get("cn");
    assertNotNull(cn);
    assertEquals("Heather Nova",cn.get().toString());
    Attribute sn=attrs.get("sn");
    assertNotNull(sn);
    assertEquals("Nova",sn.get().toString());
  }
 else {
    fail("entry " + RDN + " not found");
  }
  result.close();
}

</code></pre>

<pre class="type-10 type-11 type-4 type-5 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBinaryAttributesInFilter() throws Exception {
  byte[] certData=new byte[]{0x34,0x56,0x4e,0x5f};
  Attributes attrs=getPersonAttributes("Bush","Kate Bush");
  attrs.put("userCertificate",certData);
  Attribute objectClasses=attrs.get("objectClass");
  objectClasses.add("strongAuthenticationUser");
  sysRoot.createSubcontext("cn=Kate Bush",attrs);
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.ONELEVEL_SCOPE);
  NamingEnumeration<SearchResult> enm=sysRoot.search("","(cn=Kate Bush)",controls);
  assertTrue(enm.hasMore());
  SearchResult sr=enm.next();
  assertNotNull(sr);
  assertFalse(enm.hasMore());
  enm.close();
  assertEquals("cn=Kate Bush,ou=system",sr.getName());
  enm=sysRoot.search("","(userCertificate=\\34\\56\\4E\\5F)",controls);
  assertTrue(enm.hasMore());
  sr=enm.next();
  assertNotNull(sr);
  assertFalse(enm.hasMore());
  assertEquals("cn=Kate Bush,ou=system",sr.getName());
  enm.close();
}

</code></pre>

<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGreaterThanSearch() throws Exception {
  Set<String> results=searchGroups("(gidNumber>=0)");
  assertTrue(results.contains("cn=testGroup0,ou=groups,ou=system"));
  assertTrue(results.contains("cn=testGroup1,ou=groups,ou=system"));
  assertTrue(results.contains("cn=testGroup2,ou=groups,ou=system"));
  assertFalse(results.contains("cn=testGroup3,ou=groups,ou=system"));
  assertTrue(results.contains("cn=testGroup4,ou=groups,ou=system"));
  assertTrue(results.contains("cn=testGroup5,ou=groups,ou=system"));
  results=searchGroups("(gidNumber>=1)");
  assertFalse(results.contains("cn=testGroup0,ou=groups,ou=system"));
  assertTrue(results.contains("cn=testGroup1,ou=groups,ou=system"));
  assertTrue(results.contains("cn=testGroup2,ou=groups,ou=system"));
  assertFalse(results.contains("cn=testGroup3,ou=groups,ou=system"));
  assertTrue(results.contains("cn=testGroup4,ou=groups,ou=system"));
  assertTrue(results.contains("cn=testGroup5,ou=groups,ou=system"));
  results=searchGroups("(gidNumber>=3)");
  assertFalse(results.contains("cn=testGroup0,ou=groups,ou=system"));
  assertFalse(results.contains("cn=testGroup1,ou=groups,ou=system"));
  assertFalse(results.contains("cn=testGroup2,ou=groups,ou=system"));
  assertFalse(results.contains("cn=testGroup3,ou=groups,ou=system"));
  assertTrue(results.contains("cn=testGroup4,ou=groups,ou=system"));
  assertTrue(results.contains("cn=testGroup5,ou=groups,ou=system"));
  results=searchGroups("(gidNumber>=6)");
  assertFalse(results.contains("cn=testGroup0,ou=groups,ou=system"));
  assertFalse(results.contains("cn=testGroup1,ou=groups,ou=system"));
  assertFalse(results.contains("cn=testGroup2,ou=groups,ou=system"));
  assertFalse(results.contains("cn=testGroup3,ou=groups,ou=system"));
  assertFalse(results.contains("cn=testGroup4,ou=groups,ou=system"));
  assertFalse(results.contains("cn=testGroup5,ou=groups,ou=system"));
}

</code></pre>

<pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * NO attributes should be returned
 */
@Test public void testSearchTypesOnlyAndNoAttr() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.ONELEVEL_SCOPE);
  controls.setDerefLinkFlag(false);
  controls.setReturningAttributes(new String[]{"1.1"});
  sysRoot.addToEnvironment(JndiPropertyConstants.JNDI_LDAP_DAP_DEREF_ALIASES,AliasDerefMode.NEVER_DEREF_ALIASES.getJndiValue());
  sysRoot.addToEnvironment("java.naming.ldap.typesOnly","true");
  HashMap<String,Attributes> map=new HashMap<String,Attributes>();
  NamingEnumeration<SearchResult> list=sysRoot.search("","(ou=testing01)",controls);
  while (list.hasMore()) {
    SearchResult result=list.next();
    map.put(result.getName(),result.getAttributes());
  }
  list.close();
  assertEquals("Expected number of results returned was incorrect!",1,map.size());
  Attributes attrs=map.get("ou=testing01,ou=system");
  assertEquals(0,attrs.size());
}

</code></pre>

<pre class="type-10 type-12 type-9 type-4 type-5 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Search an entry and fetch an attribute with twice the same attributeType
 * @throws NamingException if there are errors
 */
@Test public void testSearchFetchTwiceSameAttribute() throws Exception {
  SearchControls ctls=new SearchControls();
  ctls.setSearchScope(SearchControls.OBJECT_SCOPE);
  ctls.setReturningAttributes(new String[]{"cn","cn"});
  NamingEnumeration<SearchResult> result=sysRoot.search(RDN,FILTER,ctls);
  if (result.hasMore()) {
    SearchResult entry=result.next();
    Attributes attrs=entry.getAttributes();
    Attribute cn=attrs.get("cn");
    assertNotNull(cn);
    assertEquals("Heather Nova",cn.get().toString());
  }
 else {
    fail("entry " + RDN + " not found");
  }
  result.close();
}

</code></pre>

<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSetup() throws Exception {
  Set<String> results=searchGroups("(objectClass=posixGroup)");
  assertTrue(results.contains("cn=testGroup0,ou=groups,ou=system"));
  assertTrue(results.contains("cn=testGroup1,ou=groups,ou=system"));
  assertTrue(results.contains("cn=testGroup2,ou=groups,ou=system"));
  assertFalse(results.contains("cn=testGroup3,ou=groups,ou=system"));
  assertTrue(results.contains("cn=testGroup4,ou=groups,ou=system"));
  assertTrue(results.contains("cn=testGroup5,ou=groups,ou=system"));
}

</code></pre>

<pre class="type-11 type-4 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSearchEmptyDNWithObjectScopeAndNoObjectClassPresenceFilter() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.OBJECT_SCOPE);
  controls.setDerefLinkFlag(false);
  LdapContext nullRootCtx=getRootContext(getService());
  NamingEnumeration<SearchResult> list=nullRootCtx.search("","(objectClass=domain)",controls);
  HashMap<String,Attributes> map=new HashMap<String,Attributes>();
  while (list.hasMore()) {
    SearchResult result=list.next();
    map.put(result.getName(),result.getAttributes());
  }
  list.close();
  assertEquals(0,map.size());
  assertFalse(map.containsKey("ou=system"));
  assertFalse(map.containsKey("ou=schema"));
}

</code></pre>

<pre class="type-10 type-11 type-5 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests to make sure undefined attributes in filter assertions are pruned and do not
 * result in exceptions.
 */
@Test public void testBogusAttributeInSearchFilter() throws Exception {
  boolean oldSetAllowAnnonymousAccess=getService().isAllowAnonymousAccess();
  getService().setAllowAnonymousAccess(true);
  SearchControls cons=new SearchControls();
  NamingEnumeration<SearchResult> e=sysRoot.search("","(bogusAttribute=abc123)",cons);
  assertNotNull(e);
  e.close();
  e=sysRoot.search("","(!(bogusAttribute=abc123))",cons);
  assertNotNull(e);
  assertFalse(e.hasMore());
  e.close();
  e=sysRoot.search("","(|(bogusAttribute=abc123)(bogusAttribute=abc123))",cons);
  assertNotNull(e);
  assertFalse(e.hasMore());
  e.close();
  e=sysRoot.search("","(|(bogusAttribute=abc123)(ou=abc123))",cons);
  assertNotNull(e);
  assertFalse(e.hasMore());
  e.close();
  e=sysRoot.search("","(OBJECTclass=*)",cons);
  assertNotNull(e);
  assertTrue(e.hasMore());
  e.close();
  e=sysRoot.search("","(objectclass=*)",cons);
  assertNotNull(e);
  e.close();
  getService().setAllowAnonymousAccess(oldSetAllowAnnonymousAccess);
}

</code></pre>

<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Added to test correct comparison of integer attribute types when searching.
 * testGreaterThanSearch and testLesserThanSearch fail to detect the problem using values less than 10.
 * Ref. DIRSERVER-1296
 * @throws Exception
 */
@Test public void testIntegerComparison3() throws Exception {
  Set<String> results=searchUnits("(&(objectClass=organizationalUnit)(integerAttribute<=42))",null);
  assertTrue(results.contains("ou=testing00,ou=system"));
  assertTrue(results.contains("ou=testing01,ou=system"));
  assertTrue(results.contains("ou=testing02,ou=system"));
  assertTrue(results.contains("ou=testing03,ou=system"));
  assertTrue(results.contains("ou=testing04,ou=system"));
  assertTrue(results.contains("ou=testing05,ou=system"));
}

</code></pre>

<pre class="type-10 type-4 type-5 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSearchUserAttrAndNoAttr() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.ONELEVEL_SCOPE);
  controls.setDerefLinkFlag(false);
  controls.setReturningAttributes(new String[]{"1.1","ou"});
  sysRoot.addToEnvironment(JndiPropertyConstants.JNDI_LDAP_DAP_DEREF_ALIASES,AliasDerefMode.NEVER_DEREF_ALIASES.getJndiValue());
  HashMap<String,Attributes> map=new HashMap<String,Attributes>();
  NamingEnumeration<SearchResult> list=sysRoot.search("","(ou=testing01)",controls);
  while (list.hasMore()) {
    SearchResult result=list.next();
    map.put(result.getName(),result.getAttributes());
  }
  list.close();
  assertEquals("Expected number of results returned was incorrect!",1,map.size());
  Attributes attrs=map.get("ou=testing01,ou=system");
  assertNull(attrs.get("objectClass"));
  assertNotNull(attrs.get("ou"));
  assertNull(attrs.get("creatorsName"));
  assertNull(attrs.get("createTimestamp"));
}

</code></pre>

<pre class="type-11 type-4 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFilterExpansion5() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.SUBTREE_SCOPE);
  controls.setDerefLinkFlag(false);
  sysRoot.addToEnvironment(JndiPropertyConstants.JNDI_LDAP_DAP_DEREF_ALIASES,AliasDerefMode.NEVER_DEREF_ALIASES.getJndiValue());
  HashMap<String,Attributes> map=new HashMap<String,Attributes>();
  String filter="(|(2.5.4.11.1=testing*)(2.5.4.54=testing*)(2.5.4.10=testing*)" + "(2.5.4.6=testing*)(2.5.4.43=testing*)(2.5.4.7.1=testing*)(2.5.4.10.1=testing*)" + "(2.5.4.44=testing*)(2.5.4.11=testing*)(2.5.4.4=testing*)(2.5.4.8.1=testing*)"+ "(2.5.4.12=testing*)(1.3.6.1.4.1.18060.0.4.1.2.3=testing*)"+ "(2.5.4.7=testing*)(2.5.4.3=testing*)(2.5.4.8=testing*)(2.5.4.42=testing*))";
  NamingEnumeration<SearchResult> list=sysRoot.search("",filter,controls);
  while (list.hasMore()) {
    SearchResult result=list.next();
    map.put(result.getName(),result.getAttributes());
  }
  list.close();
  assertEquals("size of results",6,map.size());
  assertTrue("contains ou=testing00,ou=system",map.containsKey("ou=testing00,ou=system"));
  assertTrue("contains ou=testing01,ou=system",map.containsKey("ou=testing01,ou=system"));
  assertTrue("contains ou=testing02,ou=system",map.containsKey("ou=testing02,ou=system"));
  assertTrue("contains ou=testing03,ou=system",map.containsKey("ou=testing03,ou=system"));
  assertTrue("contains ou=testing04,ou=system",map.containsKey("ou=testing04,ou=system"));
  assertTrue("contains ou=testing05,ou=system",map.containsKey("ou=testing05,ou=system"));
}

</code></pre>

<pre class="type-11 type-4 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSearchSubstringSubTreeLevel() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.SUBTREE_SCOPE);
  controls.setDerefLinkFlag(false);
  sysRoot.addToEnvironment(JndiPropertyConstants.JNDI_LDAP_DAP_DEREF_ALIASES,AliasDerefMode.NEVER_DEREF_ALIASES.getJndiValue());
  HashMap<String,Attributes> map=new HashMap<String,Attributes>();
  NamingEnumeration<SearchResult> list=sysRoot.search("","(objectClass=organ*)",controls);
  while (list.hasMore()) {
    SearchResult result=list.next();
    map.put(result.getName(),result.getAttributes());
  }
  list.close();
  assertEquals("Expected number of results returned was incorrect",17,map.size());
  assertTrue(map.containsKey("ou=system"));
  assertTrue(map.containsKey("ou=configuration,ou=system"));
  assertTrue(map.containsKey("ou=interceptors,ou=configuration,ou=system"));
  assertTrue(map.containsKey("ou=partitions,ou=configuration,ou=system"));
  assertTrue(map.containsKey("ou=services,ou=configuration,ou=system"));
  assertTrue(map.containsKey("ou=groups,ou=system"));
  assertTrue(map.containsKey("ou=testing00,ou=system"));
  assertTrue(map.containsKey("ou=testing01,ou=system"));
  assertTrue(map.containsKey("ou=subtest,ou=testing01,ou=system"));
  assertTrue(map.containsKey("ou=testing02,ou=system"));
  assertTrue(map.containsKey("ou=users,ou=system"));
  assertTrue(map.containsKey("prefNodeName=sysPrefRoot,ou=system"));
  assertTrue(map.containsKey("uid=admin,ou=system"));
}

</code></pre>

<pre class="type-10 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testNotOperatorSubtree() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.SUBTREE_SCOPE);
  Set<String> results=searchGroups("(!(gidNumber=4))",controls);
  assertTrue(results.contains("cn=testGroup0,ou=groups,ou=system"));
  assertTrue(results.contains("cn=testGroup1,ou=groups,ou=system"));
  assertTrue(results.contains("cn=testGroup2,ou=groups,ou=system"));
  assertFalse(results.contains("cn=testGroup3,ou=groups,ou=system"));
  assertFalse(results.contains("cn=testGroup4,ou=groups,ou=system"));
  assertTrue(results.contains("cn=testGroup5,ou=groups,ou=system"));
}

</code></pre>

<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testNotOperator() throws Exception {
  Set<String> results=searchGroups("(!(gidNumber=4))");
  assertTrue(results.contains("cn=testGroup0,ou=groups,ou=system"));
  assertTrue(results.contains("cn=testGroup1,ou=groups,ou=system"));
  assertTrue(results.contains("cn=testGroup2,ou=groups,ou=system"));
  assertFalse(results.contains("cn=testGroup3,ou=groups,ou=system"));
  assertFalse(results.contains("cn=testGroup4,ou=groups,ou=system"));
  assertTrue(results.contains("cn=testGroup5,ou=groups,ou=system"));
}

</code></pre>

<pre class="type-11 type-4 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFilterExpansion1() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.SUBTREE_SCOPE);
  controls.setDerefLinkFlag(false);
  sysRoot.addToEnvironment(JndiPropertyConstants.JNDI_LDAP_DAP_DEREF_ALIASES,AliasDerefMode.NEVER_DEREF_ALIASES.getJndiValue());
  HashMap<String,Attributes> map=new HashMap<String,Attributes>();
  NamingEnumeration<SearchResult> list=sysRoot.search("","(name=*)",controls);
  while (list.hasMore()) {
    SearchResult result=list.next();
    map.put(result.getName(),result.getAttributes());
  }
  list.close();
  assertEquals("size of results",23,map.size());
  assertTrue("contains ou=testing00,ou=system",map.containsKey("ou=testing00,ou=system"));
  assertTrue("contains ou=testing01,ou=system",map.containsKey("ou=testing01,ou=system"));
  assertTrue("contains ou=testing02,ou=system",map.containsKey("ou=testing01,ou=system"));
  assertTrue("contains ou=configuration,ou=system",map.containsKey("ou=configuration,ou=system"));
  assertTrue("contains ou=groups,ou=system",map.containsKey("ou=groups,ou=system"));
  assertTrue("contains ou=interceptors,ou=configuration,ou=system",map.containsKey("ou=interceptors,ou=configuration,ou=system"));
  assertTrue("contains ou=partitions,ou=configuration,ou=system",map.containsKey("ou=partitions,ou=configuration,ou=system"));
  assertTrue("contains ou=services,ou=configuration,ou=system",map.containsKey("ou=services,ou=configuration,ou=system"));
  assertTrue("contains ou=subtest,ou=testing01,ou=system",map.containsKey("ou=subtest,ou=testing01,ou=system"));
  assertTrue("contains ou=system",map.containsKey("ou=system"));
  assertTrue("contains ou=users,ou=system",map.containsKey("ou=users,ou=system"));
  assertTrue("contains uid=admin,ou=system",map.containsKey("uid=admin,ou=system"));
  assertTrue("contains cn=administrators,ou=groups,ou=system",map.containsKey("cn=Administrators,ou=groups,ou=system"));
}

</code></pre>

<pre class="type-10 type-4 type-5 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * all user attributes with no values must be returned
 */
@Test public void testSearchTypesOnlyWithNullReturnAttr() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.ONELEVEL_SCOPE);
  controls.setDerefLinkFlag(false);
  sysRoot.addToEnvironment(JndiPropertyConstants.JNDI_LDAP_DAP_DEREF_ALIASES,AliasDerefMode.NEVER_DEREF_ALIASES.getJndiValue());
  sysRoot.addToEnvironment("java.naming.ldap.typesOnly","true");
  HashMap<String,Attributes> map=new HashMap<String,Attributes>();
  NamingEnumeration<SearchResult> list=sysRoot.search("","(ou=testing01)",controls);
  while (list.hasMore()) {
    SearchResult result=list.next();
    map.put(result.getName(),result.getAttributes());
  }
  list.close();
  assertEquals("Expected number of results returned was incorrect!",1,map.size());
  Attributes attrs=map.get("ou=testing01,ou=system");
  assertNotNull(attrs.get(SchemaConstants.OU_AT));
  assertNotNull(attrs.get("integerAttribute"));
  assertEquals(0,attrs.get(SchemaConstants.OU_AT).size());
  assertEquals(0,attrs.get("integerAttribute").size());
  assertNull(attrs.get(SchemaConstants.ENTRY_UUID_AT));
  assertNull(attrs.get(SchemaConstants.CREATORS_NAME_AT));
}

</code></pre>

<pre class="type-11 type-4 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSearchEmptyDNWithOneLevelScope() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.ONELEVEL_SCOPE);
  controls.setDerefLinkFlag(false);
  LdapContext nullRootCtx=getRootContext(getService());
  NamingEnumeration<SearchResult> list=nullRootCtx.search("","(objectClass=*)",controls);
  HashMap<String,Attributes> map=new HashMap<String,Attributes>();
  while (list.hasMore()) {
    SearchResult result=list.next();
    map.put(result.getName(),result.getAttributes());
  }
  list.close();
  assertEquals(2,map.size());
  assertTrue(map.containsKey("ou=system"));
  assertTrue(map.containsKey("ou=schema"));
}

</code></pre>

<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testLessThanSearch() throws Exception {
  Set<String> results=searchGroups("(gidNumber<=5)");
  assertTrue(results.contains("cn=testGroup0,ou=groups,ou=system"));
  assertTrue(results.contains("cn=testGroup1,ou=groups,ou=system"));
  assertTrue(results.contains("cn=testGroup2,ou=groups,ou=system"));
  assertFalse(results.contains("cn=testGroup3,ou=groups,ou=system"));
  assertTrue(results.contains("cn=testGroup4,ou=groups,ou=system"));
  assertTrue(results.contains("cn=testGroup5,ou=groups,ou=system"));
  results=searchGroups("(gidNumber<=4)");
  assertTrue(results.contains("cn=testGroup0,ou=groups,ou=system"));
  assertTrue(results.contains("cn=testGroup1,ou=groups,ou=system"));
  assertTrue(results.contains("cn=testGroup2,ou=groups,ou=system"));
  assertFalse(results.contains("cn=testGroup3,ou=groups,ou=system"));
  assertTrue(results.contains("cn=testGroup4,ou=groups,ou=system"));
  assertFalse(results.contains("cn=testGroup5,ou=groups,ou=system"));
  results=searchGroups("(gidNumber<=3)");
  assertTrue(results.contains("cn=testGroup0,ou=groups,ou=system"));
  assertTrue(results.contains("cn=testGroup1,ou=groups,ou=system"));
  assertTrue(results.contains("cn=testGroup2,ou=groups,ou=system"));
  assertFalse(results.contains("cn=testGroup3,ou=groups,ou=system"));
  assertFalse(results.contains("cn=testGroup4,ou=groups,ou=system"));
  assertFalse(results.contains("cn=testGroup5,ou=groups,ou=system"));
  results=searchGroups("(gidNumber<=0)");
  assertTrue(results.contains("cn=testGroup0,ou=groups,ou=system"));
  assertFalse(results.contains("cn=testGroup1,ou=groups,ou=system"));
  assertFalse(results.contains("cn=testGroup2,ou=groups,ou=system"));
  assertFalse(results.contains("cn=testGroup3,ou=groups,ou=system"));
  assertFalse(results.contains("cn=testGroup4,ou=groups,ou=system"));
  assertFalse(results.contains("cn=testGroup5,ou=groups,ou=system"));
  results=searchGroups("(gidNumber<=-1)");
  assertFalse(results.contains("cn=testGroup0,ou=groups,ou=system"));
  assertFalse(results.contains("cn=testGroup1,ou=groups,ou=system"));
  assertFalse(results.contains("cn=testGroup2,ou=groups,ou=system"));
  assertFalse(results.contains("cn=testGroup3,ou=groups,ou=system"));
  assertFalse(results.contains("cn=testGroup4,ou=groups,ou=system"));
  assertFalse(results.contains("cn=testGroup5,ou=groups,ou=system"));
}

</code></pre>

<pre class="type-10 type-11 type-4 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOpAttrDenormalizationOn() throws Exception {
  getService().setDenormalizeOpAttrsEnabled(true);
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.ONELEVEL_SCOPE);
  controls.setDerefLinkFlag(false);
  controls.setReturningAttributes(new String[]{"creatorsName"});
  sysRoot.addToEnvironment(JndiPropertyConstants.JNDI_LDAP_DAP_DEREF_ALIASES,AliasDerefMode.NEVER_DEREF_ALIASES.getJndiValue());
  HashMap<String,Attributes> map=new HashMap<String,Attributes>();
  NamingEnumeration<SearchResult> list=sysRoot.search("","(ou=testing00)",controls);
  while (list.hasMore()) {
    SearchResult result=list.next();
    map.put(result.getName(),result.getAttributes());
  }
  list.close();
  assertEquals("Expected number of results returned was incorrect!",1,map.size());
  assertTrue(map.containsKey("ou=testing00,ou=system"));
  Attributes attrs=map.get("ou=testing00,ou=system");
  assertEquals("normalized creator's name","uid=admin,ou=system",attrs.get("creatorsName").get());
}

</code></pre>

<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Added to test correct comparison of integer attribute types when searching.
 * testGreaterThanSearch and testLesserThanSearch fail to detect the problem using values less than 10.
 * Ref. DIRSERVER-1296
 * @throws Exception
 */
@Test public void testIntegerComparison4() throws Exception {
  Set<String> results=searchUnits("(&(objectClass=organizationalUnit)(|(integerAttribute<=1)(integerAttribute>=5)))",null);
  assertTrue(results.contains("ou=testing00,ou=system"));
  assertTrue(results.contains("ou=testing01,ou=system"));
  assertFalse(results.contains("ou=testing02,ou=system"));
  assertFalse(results.contains("ou=testing03,ou=system"));
  assertFalse(results.contains("ou=testing04,ou=system"));
  assertTrue(results.contains("ou=testing05,ou=system"));
}

</code></pre>

<pre class="type-10 type-12 type-9 type-4 type-5 type-1 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Search an entry and fetch an attribute with unknown option
 * @throws NamingException if there are errors
 */
@Test @Ignore("We don't support options") public void testSearchFetchNonExistingAttributeOption() throws Exception {
  SearchControls ctls=new SearchControls();
  ctls.setSearchScope(SearchControls.OBJECT_SCOPE);
  ctls.setReturningAttributes(new String[]{"cn","sn;unknownOption","badAttr"});
  NamingEnumeration<SearchResult> result=sysRoot.search(RDN,FILTER,ctls);
  if (result.hasMore()) {
    SearchResult entry=result.next();
    Attributes attrs=entry.getAttributes();
    Attribute cn=attrs.get("cn");
    assertNotNull(cn);
    assertEquals("Heather Nova",cn.get().toString());
    Attribute sn=attrs.get("sn");
    assertNull(sn);
  }
 else {
    fail("entry " + RDN + " not found");
  }
  result.close();
}

</code></pre>

<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSearchFilterBadAttributeType() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.ONELEVEL_SCOPE);
  controls.setDerefLinkFlag(false);
  sysRoot.addToEnvironment(JndiPropertyConstants.JNDI_LDAP_DAP_DEREF_ALIASES,AliasDerefMode.NEVER_DEREF_ALIASES.getJndiValue());
  HashMap<String,Attributes> map=new HashMap<String,Attributes>();
  NamingEnumeration<SearchResult> list=sysRoot.search("","(badAttr=*)",controls);
  while (list.hasMore()) {
    SearchResult result=list.next();
    map.put(result.getName(),result.getAttributes());
  }
  list.close();
  assertEquals("Expected number of results returned was incorrect!",0,map.size());
}

</code></pre>

<pre class="type-10 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
"></span><br>
@Test public void testSearchRootDSESubtree() throws Exception {
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.SUBTREE_SCOPE);
  controls.setDerefLinkFlag(false);
  controls.setReturningAttributes(new String[]{"*","+"});
  LdapContext nullRootCtx=getRootContext(getService());
  NamingEnumeration<SearchResult> list=nullRootCtx.search("","(ou=testing01)",controls);
  Attributes rootDse=null;
  while (list.hasMore()) {
    SearchResult result=list.next();
    rootDse=result.getAttributes();
  }
  list.close();
  assertNotNull(rootDse);
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
