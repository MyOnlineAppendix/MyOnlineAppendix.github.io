<h3 style="margin:0px">Class: org.apache.commons.jexl3.JexlTest (37 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Executes methods or other tests from the same test unit"><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >ExecutionTester&nbsp;(27)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(7)</kbd></button>&nbsp;<button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(6)</kbd></button>&nbsp;<button id="8"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('8')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-8"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="13"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('13')" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure"><kbd id="tag-13"class="label-info"style="display: inline-block;font-size:7pt" >UtilityVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCoercionWithComparisionOperators() throws Exception {
  JexlContext jc=new MapContext();
  assertExpression(jc,"'2' > 1",Boolean.TRUE);
  assertExpression(jc,"'2' >= 1",Boolean.TRUE);
  assertExpression(jc,"'2' >= 2",Boolean.TRUE);
  assertExpression(jc,"'2' < 1",Boolean.FALSE);
  assertExpression(jc,"'2' <= 1",Boolean.FALSE);
  assertExpression(jc,"'2' <= 2",Boolean.TRUE);
  assertExpression(jc,"2 > '1'",Boolean.TRUE);
  assertExpression(jc,"2 >= '1'",Boolean.TRUE);
  assertExpression(jc,"2 >= '2'",Boolean.TRUE);
  assertExpression(jc,"2 < '1'",Boolean.FALSE);
  assertExpression(jc,"2 <= '1'",Boolean.FALSE);
  assertExpression(jc,"2 <= '2'",Boolean.TRUE);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * test some simple conditions
 */
@Test public void testConditions() throws Exception {
  JexlEvalContext jc=new JexlEvalContext();
  jc.set("foo",new Integer(2));
  jc.set("aFloat",new Float(1));
  jc.set("aDouble",new Double(2));
  jc.set("aChar",new Character('A'));
  jc.set("aBool",Boolean.TRUE);
  StringBuilder buffer=new StringBuilder("abc");
  List list=new ArrayList();
  List list2=new LinkedList();
  jc.set("aBuffer",buffer);
  jc.set("aList",list);
  jc.set("bList",list2);
  assertExpression(jc,"foo == 2",Boolean.TRUE);
  assertExpression(jc,"2 == 3",Boolean.FALSE);
  assertExpression(jc,"3 == foo",Boolean.FALSE);
  assertExpression(jc,"3 != foo",Boolean.TRUE);
  assertExpression(jc,"foo != 2",Boolean.FALSE);
  assertExpression(jc,"aFloat eq aDouble",Boolean.FALSE);
  assertExpression(jc,"aFloat ne aDouble",Boolean.TRUE);
  assertExpression(jc,"aFloat == aDouble",Boolean.FALSE);
  assertExpression(jc,"aFloat != aDouble",Boolean.TRUE);
  assertExpression(jc,"foo == aChar",Boolean.FALSE);
  assertExpression(jc,"foo != aChar",Boolean.TRUE);
  assertExpression(jc,"aBool == 'true'",Boolean.TRUE);
  assertExpression(jc,"aBool == 'false'",Boolean.FALSE);
  assertExpression(jc,"aBool != 'false'",Boolean.TRUE);
  jc.setStrict(false);
  assertExpression(jc,"aBool == notThere",Boolean.FALSE);
  assertExpression(jc,"aBool != notThere",Boolean.TRUE);
  jc.setStrict(true);
  assertExpression(jc,"aBuffer == 'abc'",Boolean.TRUE);
  assertExpression(jc,"aBuffer != 'abc'",Boolean.FALSE);
  assertExpression(jc,"aList == bList",Boolean.TRUE);
  assertExpression(jc,"aList != bList",Boolean.FALSE);
}

</code></pre>

<pre class="type-1 type-8 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * test a simple property expression
 */
@Test public void testProperty() throws Exception {
  JexlExpression e=JEXL.createExpression("foo.bar");
  JexlContext jc=new MapContext();
  jc.set("foo",new Foo());
  Object o=e.evaluate(jc);
  Assert.assertTrue("o not instanceof String",o instanceof String);
  Assert.assertEquals("o incorrect",GET_METHOD_STRING,o);
}

</code></pre>

<pre class="type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Test that 'or' only evaluates the second item if needed
 * @throws Exception if there are errors
 */
@Test public void testBooleanShortCircuitOr() throws Exception {
  Foo tester=new Foo();
  JexlContext jc=new MapContext();
  jc.set("first",Boolean.FALSE);
  jc.set("foo",tester);
  JexlExpression expr=JEXL.createExpression("first or foo.trueAndModify");
  expr.evaluate(jc);
  Assert.assertTrue("Short circuit failure: rhs not evaluated when lhs FALSE",tester.getModified());
  tester=new Foo();
  jc.set("first",Boolean.TRUE);
  jc.set("foo",tester);
  expr.evaluate(jc);
  Assert.assertTrue("Short circuit failure: rhs evaluated when lhs TRUE",!tester.getModified());
}

</code></pre>

<pre class="type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@SuppressWarnings("boxing") @Test public void testDuck() throws Exception {
  JexlEngine jexl=JEXL;
  JexlContext jc=new MapContext();
  jc.set("duck",new Duck());
  JexlExpression expr;
  Object result;
  expr=jexl.createExpression("duck.zero");
  result=expr.evaluate(jc);
  Assert.assertEquals(expr.toString(),0,result);
  expr=jexl.createExpression("duck.one");
  result=expr.evaluate(jc);
  Assert.assertEquals(expr.toString(),1,result);
  expr=jexl.createExpression("duck.user = 20");
  result=expr.evaluate(jc);
  Assert.assertEquals(expr.toString(),20,result);
  expr=jexl.createExpression("duck.user");
  result=expr.evaluate(jc);
  Assert.assertEquals(expr.toString(),20,result);
  expr=jexl.createExpression("duck.user = 'zero'");
  result=expr.evaluate(jc);
  Assert.assertEquals(expr.toString(),"zero",result);
  expr=jexl.createExpression("duck.user");
  result=expr.evaluate(jc);
  Assert.assertEquals(expr.toString(),0,result);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExpression() throws Exception {
  JexlContext jc=new MapContext();
  jc.set("foo",new Foo());
  jc.set("a",Boolean.TRUE);
  jc.set("b",Boolean.FALSE);
  jc.set("num",new Integer(5));
  jc.set("now",Calendar.getInstance().getTime());
  GregorianCalendar gc=new GregorianCalendar(5000,11,20);
  jc.set("now2",gc.getTime());
  jc.set("bdec",new BigDecimal("7"));
  jc.set("bint",new BigInteger("7"));
  assertExpression(jc,"a == b",Boolean.FALSE);
  assertExpression(jc,"a==true",Boolean.TRUE);
  assertExpression(jc,"a==false",Boolean.FALSE);
  assertExpression(jc,"true==false",Boolean.FALSE);
  assertExpression(jc,"2 < 3",Boolean.TRUE);
  assertExpression(jc,"num < 5",Boolean.FALSE);
  assertExpression(jc,"num < num",Boolean.FALSE);
  assertExpression(jc,"num < null",Boolean.FALSE);
  assertExpression(jc,"num < 2.5",Boolean.FALSE);
  assertExpression(jc,"now2 < now",Boolean.FALSE);
  assertExpression(jc,"'6' <= '5'",Boolean.FALSE);
  assertExpression(jc,"num <= 5",Boolean.TRUE);
  assertExpression(jc,"num <= num",Boolean.TRUE);
  assertExpression(jc,"num <= null",Boolean.FALSE);
  assertExpression(jc,"num <= 2.5",Boolean.FALSE);
  assertExpression(jc,"now2 <= now",Boolean.FALSE);
  assertExpression(jc,"'6' >= '5'",Boolean.TRUE);
  assertExpression(jc,"num >= 5",Boolean.TRUE);
  assertExpression(jc,"num >= num",Boolean.TRUE);
  assertExpression(jc,"num >= null",Boolean.FALSE);
  assertExpression(jc,"num >= 2.5",Boolean.TRUE);
  assertExpression(jc,"now2 >= now",Boolean.TRUE);
  assertExpression(jc,"'6' > '5'",Boolean.TRUE);
  assertExpression(jc,"num > 4",Boolean.TRUE);
  assertExpression(jc,"num > num",Boolean.FALSE);
  assertExpression(jc,"num > null",Boolean.FALSE);
  assertExpression(jc,"num > 2.5",Boolean.TRUE);
  assertExpression(jc,"now2 > now",Boolean.TRUE);
  assertExpression(jc,"\"foo\" + \"bar\" == \"foobar\"",Boolean.TRUE);
  assertExpression(jc,"bdec > num",Boolean.TRUE);
  assertExpression(jc,"bdec >= num",Boolean.TRUE);
  assertExpression(jc,"num <= bdec",Boolean.TRUE);
  assertExpression(jc,"num < bdec",Boolean.TRUE);
  assertExpression(jc,"bint > num",Boolean.TRUE);
  assertExpression(jc,"bint == bdec",Boolean.TRUE);
  assertExpression(jc,"bint >= num",Boolean.TRUE);
  assertExpression(jc,"num <= bint",Boolean.TRUE);
  assertExpression(jc,"num < bint",Boolean.TRUE);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * test some blank strings
 */
@Test public void testLogicExpressions() throws Exception {
  JexlContext jc=new MapContext();
  jc.set("foo","abc");
  jc.set("bar","def");
  assertExpression(jc,"foo == 'abc' || bar == 'abc'",Boolean.TRUE);
  assertExpression(jc,"foo == 'abc' or bar == 'abc'",Boolean.TRUE);
  assertExpression(jc,"foo == 'abc' && bar == 'abc'",Boolean.FALSE);
  assertExpression(jc,"foo == 'abc' and bar == 'abc'",Boolean.FALSE);
  assertExpression(jc,"foo == 'def' || bar == 'abc'",Boolean.FALSE);
  assertExpression(jc,"foo == 'def' or bar == 'abc'",Boolean.FALSE);
  assertExpression(jc,"foo == 'abc' && bar == 'def'",Boolean.TRUE);
  assertExpression(jc,"foo == 'abc' and bar == 'def'",Boolean.TRUE);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Simple test of '+' as a string concatenation operator
 * @throws Exception
 */
@Test public void testStringConcatenation() throws Exception {
  JexlContext jc=new MapContext();
  jc.set("first","Hello");
  jc.set("second","World");
  assertExpression(jc,"first + ' ' + second","Hello World");
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAntPropertiesWithMethods() throws Exception {
  JexlContext jc=new MapContext();
  String value="Stinky Cheese";
  jc.set("maven.bob.food",value);
  assertExpression(jc,"maven.bob.food.length()",new Integer(value.length()));
  assertExpression(jc,"empty(maven.bob.food)",Boolean.FALSE);
  assertExpression(jc,"size(maven.bob.food)",new Integer(value.length()));
  assertExpression(jc,"maven.bob.food + ' is good'",value + " is good");
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUnicodeSupport() throws Exception {
  JexlContext jc=new MapContext();
  assertExpression(jc,"'x' == '\\u0032?ytkownik'",Boolean.FALSE);
  assertExpression(jc,"'c:\\some\\windows\\path'","c:\\some\\windows\\path");
  assertExpression(jc,"'foo\\u0020bar'","foo\u0020bar");
  assertExpression(jc,"'foo\\u0020\\u0020bar'","foo\u0020\u0020bar");
  assertExpression(jc,"'\\u0020foobar\\u0020'","\u0020foobar\u0020");
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSize() throws Exception {
  JexlEvalContext jc=new JexlEvalContext();
  jc.setStrict(false);
  jc.set("s","five!");
  jc.set("array",new Object[5]);
  Map<String,Integer> map=new HashMap<String,Integer>();
  map.put("1",new Integer(1));
  map.put("2",new Integer(2));
  map.put("3",new Integer(3));
  map.put("4",new Integer(4));
  map.put("5",new Integer(5));
  jc.set("map",map);
  List<String> list=new ArrayList<String>();
  list.add("1");
  list.add("2");
  list.add("3");
  list.add("4");
  list.add("5");
  jc.set("list",list);
  Set<String> set=new HashSet<String>();
  set.addAll(list);
  set.add("1");
  jc.set("set",set);
  BitSet bitset=new BitSet(5);
  jc.set("bitset",bitset);
  assertExpression(jc,"list.get(list.size() - 1)","5");
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests string literals
 */
@Test public void testStringLiterals() throws Exception {
  JexlContext jc=new MapContext();
  jc.set("foo","bar");
  assertExpression(jc,"foo == \"bar\"",Boolean.TRUE);
  assertExpression(jc,"foo == 'bar'",Boolean.TRUE);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * test some null conditions
 */
@Test public void testNull() throws Exception {
  JexlEvalContext jc=new JexlEvalContext();
  jc.setStrict(false);
  jc.set("bar",new Integer(2));
  assertExpression(jc,"empty foo",Boolean.TRUE);
  assertExpression(jc,"bar == null",Boolean.FALSE);
  assertExpression(jc,"foo == null",Boolean.TRUE);
  assertExpression(jc,"bar != null",Boolean.TRUE);
  assertExpression(jc,"foo != null",Boolean.FALSE);
  assertExpression(jc,"empty(bar)",Boolean.FALSE);
  assertExpression(jc,"empty(foo)",Boolean.TRUE);
}

</code></pre>

<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * Make sure bad syntax throws ParseException
 * @throws Exception on errors
 */
@Test public void testBadParse() throws Exception {
  try {
    assertExpression(new MapContext(),"empty()",null);
    Assert.fail("Bad expression didn't throw ParseException");
  }
 catch (  JexlException pe) {
  }
}

</code></pre>

<pre class="type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Test that 'and' only evaluates the second item if needed
 * @throws Exception if there are errors
 */
@Test public void testBooleanShortCircuitAnd() throws Exception {
  Foo tester=new Foo();
  JexlContext jc=new MapContext();
  jc.set("first",Boolean.FALSE);
  jc.set("foo",tester);
  JexlExpression expr=JEXL.createExpression("first and foo.trueAndModify");
  expr.evaluate(jc);
  Assert.assertTrue("Short circuit failure: rhs evaluated when lhs FALSE",!tester.getModified());
  tester=new Foo();
  jc.set("first",Boolean.TRUE);
  jc.set("foo",tester);
  expr.evaluate(jc);
  Assert.assertTrue("Short circuit failure: rhs not evaluated when lhs TRUE",tester.getModified());
}

</code></pre>

<pre class="type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@SuppressWarnings("boxing") @Test public void testArray() throws Exception {
  int[] array={100,101,102};
  JexlEngine jexl=JEXL;
  JexlContext jc=new MapContext();
  jc.set("array",array);
  JexlExpression expr;
  Object result;
  expr=jexl.createExpression("array.1");
  result=expr.evaluate(jc);
  Assert.assertEquals(expr.toString(),101,result);
  expr=jexl.createExpression("array[1] = 1010");
  result=expr.evaluate(jc);
  Assert.assertEquals(expr.toString(),1010,result);
  expr=jexl.createExpression("array.0");
  result=expr.evaluate(jc);
  Assert.assertEquals(expr.toString(),100,result);
}

</code></pre>

<pre class="type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * test the use of an int based property
 */
@Test public void testIntProperty() throws Exception {
  Foo foo=new Foo();
  Assert.assertEquals(4,foo.square(2));
  Assert.assertEquals(4,foo.square(-2));
  JexlContext jc=new MapContext();
  jc.set("foo",foo);
  assertExpression(jc,"foo.count",new Integer(5));
  assertExpression(jc,"foo.square(2)",new Integer(4));
  assertExpression(jc,"foo.square(-2)",new Integer(4));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * test quoting in strings
 */
@Test public void testStringQuoting() throws Exception {
  JexlContext jc=new MapContext();
  assertExpression(jc,"'\"Hello\"'","\"Hello\"");
  assertExpression(jc,"\"I'm testing\"","I'm testing");
}

</code></pre>

<pre class="type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test assignment.
 * @throws Exception
 */
@Test public void testAssignment() throws Exception {
  JexlContext jc=new MapContext();
  jc.set("aString","Hello");
  Foo foo=new Foo();
  jc.set("foo",foo);
  Parser parser=new Parser(new StringReader(";"));
  parser.parse(null,"aString = 'World';",null,false,false);
  assertExpression(jc,"hello = 'world'","world");
  Assert.assertEquals("hello variable not changed","world",jc.get("hello"));
  assertExpression(jc,"result = 1 + 1",new Integer(2));
  Assert.assertEquals("result variable not changed",new Integer(2),jc.get("result"));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * test some blank strings
 */
@Test public void testBlankStrings() throws Exception {
  JexlContext jc=new MapContext();
  jc.set("bar","");
  assertExpression(jc,"bar == ''",Boolean.TRUE);
  assertExpression(jc,"empty bar",Boolean.TRUE);
  assertExpression(jc,"bar.length() == 0",Boolean.TRUE);
  assertExpression(jc,"size(bar) == 0",Boolean.TRUE);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Test the ## comment in a string
 * @throws Exception
 */
@Test public void testComment() throws Exception {
  assertExpression(new MapContext(),"## double or nothing\n 1 + 1",Integer.valueOf("2"));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * test some simple mathematical calculations
 */
@Test public void testCalculations() throws Exception {
  JexlEvalContext jc=new JexlEvalContext();
  jc.setStrict(false);
  jc.set("stringy","thingy");
  assertExpression(jc,"stringy + 2","thingy2");
  jc.set("imanull",null);
  assertExpression(jc,"imanull + 2",new Integer(2));
  assertExpression(jc,"imanull + imanull",new Integer(0));
  jc.set("n",new Integer(0));
  assertExpression(jc,"n != null && n != 0",Boolean.FALSE);
}

</code></pre>

<pre class="type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testToString() throws Exception {
  String code="abcd";
  JexlExpression expr=JEXL.createExpression(code);
  Assert.assertEquals("Bad expression value",code,expr.toString());
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testBoolean() throws Exception {
  JexlContext jc=new MapContext();
  jc.set("foo",new Foo());
  jc.set("a",Boolean.TRUE);
  jc.set("b",Boolean.FALSE);
  assertExpression(jc,"foo.convertBoolean(a==b)","Boolean : false");
  assertExpression(jc,"foo.convertBoolean(a==true)","Boolean : true");
  assertExpression(jc,"foo.convertBoolean(a==false)","Boolean : false");
  assertExpression(jc,"foo.convertBoolean(true==false)","Boolean : false");
  assertExpression(jc,"true eq false",Boolean.FALSE);
  assertExpression(jc,"true ne false",Boolean.TRUE);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * test some simple conditions
 */
@Test public void testComparisons() throws Exception {
  JexlContext jc=new MapContext();
  jc.set("foo","the quick and lazy fox");
  assertExpression(jc,"foo.indexOf('quick') > 0",Boolean.TRUE);
  assertExpression(jc,"foo.indexOf('bar') >= 0",Boolean.FALSE);
  assertExpression(jc,"foo.indexOf('bar') < 0",Boolean.TRUE);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * test the -1 comparison bug
 */
@Test public void testNegativeIntComparison() throws Exception {
  JexlContext jc=new MapContext();
  Foo foo=new Foo();
  jc.set("foo",foo);
  assertExpression(jc,"foo.count != -1",Boolean.TRUE);
  assertExpression(jc,"foo.count == 5",Boolean.TRUE);
  assertExpression(jc,"foo.count == -1",Boolean.FALSE);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEmptySubListOfMap() throws Exception {
  JexlContext jc=new MapContext();
  Map<String,ArrayList<?>> m=new HashMap<String,ArrayList<?>>();
  m.put("aList",new ArrayList());
  jc.set("aMap",m);
  assertExpression(jc,"empty( aMap.aList )",Boolean.TRUE);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testStringLit() throws Exception {
  JexlContext jc=new MapContext();
  jc.set("foo",new Foo());
  assertExpression(jc,"foo.get(\"woogie\")","Repeat : woogie");
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * test some simple conditions
 */
@Test public void testNotConditions() throws Exception {
  JexlContext jc=new MapContext();
  Foo foo=new Foo();
  jc.set("x",Boolean.TRUE);
  jc.set("foo",foo);
  jc.set("bar","true");
  assertExpression(jc,"!x",Boolean.FALSE);
  assertExpression(jc,"x",Boolean.TRUE);
  assertExpression(jc,"!bar",Boolean.FALSE);
  assertExpression(jc,"!foo.isSimple()",Boolean.FALSE);
  assertExpression(jc,"foo.isSimple()",Boolean.TRUE);
  assertExpression(jc,"!foo.simple",Boolean.FALSE);
  assertExpression(jc,"foo.simple",Boolean.TRUE);
  assertExpression(jc,"foo.getCheeseList().size() == 3",Boolean.TRUE);
  assertExpression(jc,"foo.cheeseList.size() == 3",Boolean.TRUE);
  jc.set("string","");
  assertExpression(jc,"not empty string",Boolean.FALSE);
  assertExpression(jc,"not(empty string)",Boolean.FALSE);
  assertExpression(jc,"not empty(string)",Boolean.FALSE);
  assertExpression(jc,"! empty string",Boolean.FALSE);
  assertExpression(jc,"!(empty string)",Boolean.FALSE);
  assertExpression(jc,"! empty(string)",Boolean.FALSE);
}

</code></pre>

<pre class="type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * test the new function e.g constructor invocation
 */
@Test public void testNew() throws Exception {
  JexlContext jc=new MapContext();
  jc.set("double",Double.class);
  jc.set("foo","org.apache.commons.jexl3.Foo");
  JexlExpression expr;
  Object value;
  expr=JEXL.createExpression("new(double, 1)");
  value=expr.evaluate(jc);
  Assert.assertEquals(expr.toString(),new Double(1.0),value);
  expr=JEXL.createExpression("new('java.lang.Float', 100)");
  value=expr.evaluate(jc);
  Assert.assertEquals(expr.toString(),new Float(100.0),value);
  expr=JEXL.createExpression("new(foo).quux");
  value=expr.evaluate(jc);
  Assert.assertEquals(expr.toString(),"Repeat : quux",value);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Attempts to recreate bug http://jira.werken.com/ViewIssue.jspa?key=JELLY-8
 */
@Test public void testCharAtBug() throws Exception {
  JexlEvalContext jc=new JexlEvalContext();
  jc.setSilent(true);
  jc.set("foo","abcdef");
  assertExpression(jc,"foo.substring(2,4)","cd");
  assertExpression(jc,"foo.charAt(2)",new Character('c'));
  assertExpression(jc,"foo.charAt(-2)",null);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEmptyDottedVariableName() throws Exception {
  JexlContext jc=new MapContext();
  jc.set("this.is.a.test","");
  assertExpression(jc,"empty(this.is.a.test)",Boolean.TRUE);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * test the use of dot notation to lookup map entries
 */
@Test public void testMapDot() throws Exception {
  Map<String,String> foo=new HashMap<String,String>();
  foo.put("bar","123");
  JexlContext jc=new MapContext();
  jc.set("foo",foo);
  assertExpression(jc,"foo.bar","123");
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEmpty() throws Exception {
  JexlEvalContext jc=new JexlEvalContext();
  jc.setStrict(false);
  jc.set("string","");
  jc.set("array",new Object[0]);
  jc.set("map",new HashMap<Object,Object>());
  jc.set("list",new ArrayList());
  jc.set("set",(new HashMap<Object,Object>()).keySet());
  jc.set("longstring","thingthing");
  assertExpression(jc,"empty nullthing",Boolean.TRUE);
  assertExpression(jc,"empty string",Boolean.TRUE);
  assertExpression(jc,"empty array",Boolean.TRUE);
  assertExpression(jc,"empty map",Boolean.TRUE);
  assertExpression(jc,"empty set",Boolean.TRUE);
  assertExpression(jc,"empty list",Boolean.TRUE);
  assertExpression(jc,"empty longstring",Boolean.FALSE);
  assertExpression(jc,"not empty longstring",Boolean.TRUE);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSizeAsProperty() throws Exception {
  JexlContext jc=new MapContext();
  Map<String,Object> map=new HashMap<String,Object>();
  map.put("size","cheese");
  jc.set("map",map);
  jc.set("foo",new Foo());
  assertExpression(jc,"map['size']","cheese");
  assertExpression(jc,"foo.getSize()",new Integer(22));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * test some simple conditions
 */
@Test public void testNotConditionsWithDots() throws Exception {
  JexlContext jc=new MapContext();
  jc.set("x.a",Boolean.TRUE);
  jc.set("x.b",Boolean.FALSE);
  assertExpression(jc,"x.a",Boolean.TRUE);
  assertExpression(jc,"!x.a",Boolean.FALSE);
  assertExpression(jc,"!x.b",Boolean.TRUE);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * test variables with underscore names
 */
@Test public void testVariableNames() throws Exception {
  JexlContext jc=new MapContext();
  jc.set("foo_bar","123");
  assertExpression(jc,"foo_bar","123");
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
