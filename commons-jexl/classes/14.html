<h3 style="margin:0px">Class: org.apache.commons.jexl3.JXLTTest (40 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(34)</kbd></button>&nbsp;<button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(25)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(18)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(18)</kbd></button>&nbsp;<button id="8"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('8')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-8"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(13)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(8)</kbd></button>&nbsp;<button id="13"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('13')" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure"><kbd id="tag-13"class="label-info"style="display: inline-block;font-size:7pt" >UtilityVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Allocates resources before the execution of the test cases"><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >TestInitializer&nbsp;(1)</kbd></button>&nbsp;<button id="14"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('14')" data-toggle="tooltip" title="Releases resources used by the test cases"><kbd id="tag-14"class="label-info"style="display: inline-block;font-size:7pt" >TestCleaner&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-2 type-1 type-3 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReport() throws Exception {
  String rpt="<report>\n" + "\n" + "\n$$ var a = 1;"+ "\n$$ var x = 2;"+ "\n"+ "\n$$ var y = 9;"+ "\n"+ "\n        ${x + y}"+ "\n</report>\n";
  JxltEngine.Template t=JXLT.createTemplate("$$",new StringReader(rpt));
  StringWriter strw=new StringWriter();
  t.evaluate(context,strw);
  String output=strw.toString();
  String ctl="<report>\n\n\n\n\n        11\n</report>\n";
  Assert.assertEquals(ctl,output);
  TemplateDebugger td=new TemplateDebugger();
  String refactored=refactor(td,(TemplateScript)t);
  Assert.assertNotNull(refactored);
  Assert.assertEquals(rpt,refactored);
}

</code></pre>

<pre class="type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testStatement() throws Exception {
  Froboz froboz=new Froboz(32);
  context.set("froboz",froboz);
  JxltEngine.Expression check=JXLT.createExpression("${ froboz.plus10() }");
  Object o=check.evaluate(context);
  Assert.assertEquals("Result is not 32",new Integer(32),o);
  Assert.assertEquals("Result is not 42",42,froboz.getValue());
  Set<List<String>> evars=check.getVariables();
  Assert.assertEquals(1,evars.size());
}

</code></pre>

<pre class="type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOneLinerVar() throws Exception {
  JxltEngine.Template t=JXLT.createTemplate("$$",new StringReader("fourty-${x}"));
  StringWriter strw=new StringWriter();
  context.set("x","two");
  t.evaluate(context,strw);
  String output=strw.toString();
  Assert.assertEquals("fourty-two",output);
}

</code></pre>

<pre class="type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInterpolationLvsG2() throws Exception {
  String expr="user='Dimitri'; var user='Henrib'; `H\\`ello \n${user}`";
  Object value=JEXL.createScript(expr).execute(context);
  Assert.assertEquals(expr,"H`ello \nHenrib",value);
}

</code></pre>

<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWriter() throws Exception {
  Froboz froboz=new Froboz(42);
  Writer writer=new FrobozWriter(new StringWriter());
  JxltEngine.Template t=JXLT.createTemplate("$$",new StringReader("$$$jexl.print(froboz)"),"froboz");
  t.evaluate(context,writer,froboz);
  Assert.assertEquals("froboz{42}",writer.toString());
}

</code></pre>

<pre class="type-1 type-8 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testImmediate() throws Exception {
  JexlContext none=null;
  final String source="${'Hello ' + 'World!'}";
  JxltEngine.Expression expr=JXLT.createExpression(source);
  JxltEngine.Expression prepared=expr.prepare(none);
  Assert.assertEquals("prepare should return same expression","Hello World!",prepared.asString());
  Object o=expr.evaluate(none);
  Assert.assertTrue("expression should be immediate",expr.isImmediate());
  Assert.assertEquals("Hello World!",o);
  Assert.assertEquals(source,getSource(expr.toString()));
}

</code></pre>

<pre class="type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInterpolationLocal() throws Exception {
  String expr="var user='Henrib'; `Hello \n${user}`";
  Object value=JEXL.createScript(expr).execute(context);
  Assert.assertEquals(expr,"Hello \nHenrib",value);
}

</code></pre>

<pre class="type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInterpolationGlobal() throws Exception {
  String expr="user='Dimitri'; `Hello \n${user}`";
  Object value=JEXL.createScript(expr).execute(context);
  Assert.assertEquals(expr,"Hello \nDimitri",value);
}

</code></pre>

<pre class="type-2 type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNestedTemplate() throws Exception {
  final String source="#{${hi}+'.world'}";
  JxltEngine.Template expr=JXLT.createTemplate(source,"hi");
  context.set("greeting.world","Hello World!");
  StringWriter strw=new StringWriter();
  expr.evaluate(context,strw,"greeting");
  String o=strw.toString();
  Assert.assertEquals("Hello World!",o);
  Assert.assertEquals(source,getSource(expr.toString()));
}

</code></pre>

<pre class="type-1 type-8 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConstant() throws Exception {
  JexlContext none=null;
  final String source="Hello World!";
  JxltEngine.Expression expr=JXLT.createExpression(source);
  Assert.assertTrue("prepare should return same expression",expr.prepare(none) == expr);
  Object o=expr.evaluate(none);
  Assert.assertTrue("expression should be immediate",expr.isImmediate());
  Assert.assertEquals("Hello World!",o);
  Assert.assertEquals(source,getSource(expr.toString()));
}

</code></pre>

<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testMalformed() throws Exception {
  try {
    JxltEngine.Expression expr=JXLT.createExpression("${'world'");
    JexlContext none=null;
    expr.evaluate(none);
    Assert.fail("should be malformed");
  }
 catch (  JxltEngine.Exception xjexl) {
    String xmsg=xjexl.getMessage();
    LOG.warn(xmsg);
  }
}

</code></pre>

<pre class="type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEscape() throws Exception {
  JexlContext none=null;
  JxltEngine.Expression expr;
  Object o;
  expr=JXLT.createExpression("\\#{'world'}");
  o=expr.evaluate(none);
  Assert.assertEquals("#{'world'}",o);
  expr=JXLT.createExpression("\\${'world'}");
  o=expr.evaluate(none);
  Assert.assertEquals("${'world'}",o);
}

</code></pre>

<pre class="type-2 type-1 type-3 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTemplate0() throws Exception {
  String source="   $$ if(x) {\nx is ${x}\n   $$ } else {\n${'no x'}\n$$ }\n";
  StringWriter strw;
  String output;
  JxltEngine.Template t=JXLT.createTemplate(source);
  context.set("x",42);
  strw=new StringWriter();
  t.evaluate(context,strw);
  output=strw.toString();
  Assert.assertEquals("x is 42\n",output);
  strw=new StringWriter();
  context.set("x","");
  t.evaluate(context,strw);
  output=strw.toString();
  Assert.assertEquals("no x\n",output);
  String dstr=t.toString();
  Assert.assertNotNull(dstr);
}

</code></pre>

<pre class="type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCharAtBug() throws Exception {
  context.set("foo","abcdef");
  JxltEngine.Expression expr=JXLT.createExpression("${foo.substring(2,4)/*comment*/}");
  Object o=expr.evaluate(context);
  Assert.assertEquals("cd",o);
  context.set("bar","foo");
  try {
    context.setSilent(true);
    expr=JXLT.createExpression("#{${bar}+'.charAt(-2)'}");
    expr=expr.prepare(context);
    o=expr.evaluate(context);
    Assert.assertEquals(null,o);
  }
  finally {
    context.setSilent(false);
  }
}

</code></pre>

<pre class="type-1 type-8 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNested() throws Exception {
  final String source="#{${hi}+'.world'}";
  JxltEngine.Expression expr=JXLT.createExpression(source);
  Set<List<String>> evars=expr.getVariables();
  Assert.assertEquals(1,evars.size());
  Assert.assertTrue(contains(evars,Arrays.asList("hi")));
  context.set("hi","greeting");
  context.set("greeting.world","Hello World!");
  Assert.assertTrue("expression should be deferred",expr.isDeferred());
  Object o=expr.evaluate(context);
  Assert.assertEquals("Hello World!",o);
  Assert.assertEquals(source,getSource(expr.toString()));
}

</code></pre>

<pre class="type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEscapeString() throws Exception {
  JxltEngine.Expression expr=JXLT.createExpression("\\\"${'world\\'s finest'}\\\"");
  JexlContext none=null;
  Object o=expr.evaluate(none);
  Assert.assertEquals("\"world's finest\"",o);
}

</code></pre>

<pre class="type-2 type-1 type-3 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTemplate2() throws Exception {
  String source="The answer: ${x}";
  StringWriter strw;
  String output;
  JxltEngine.Template t=JXLT.createTemplate("$$",new StringReader(source),"x");
  String dstr=t.asString();
  Assert.assertNotNull(dstr);
  strw=new StringWriter();
  t.evaluate(context,strw,42);
  output=strw.toString();
  Assert.assertEquals("The answer: 42",output);
}

</code></pre>

<pre class="type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAssign() throws Exception {
  JxltEngine.Expression assign=JXLT.createExpression("${froboz.value = 10}");
  JxltEngine.Expression check=JXLT.createExpression("${froboz.value}");
  Object o=assign.evaluate(context);
  Assert.assertEquals("Result is not 10",new Integer(10),o);
  o=check.evaluate(context);
  Assert.assertEquals("Result is not 10",new Integer(10),o);
}

</code></pre>

<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testMalformedNested() throws Exception {
  try {
    JxltEngine.Expression expr=JXLT.createExpression("#{${hi} world}");
    JexlContext none=null;
    expr.evaluate(none);
    Assert.fail("should be malformed");
  }
 catch (  JxltEngine.Exception xjexl) {
    String xmsg=xjexl.getMessage();
    LOG.warn(xmsg);
  }
}

</code></pre>

<pre class="type-2 type-1 type-8 type-3 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTemplate10() throws Exception {
  String source="$$(x)->{ if(x) {\nx is ${x}\n$$ } else {\n${'no x'}\n$$ } }\n";
  StringWriter strw;
  String output;
  JxltEngine.Template t=JXLT.createTemplate("$$",new StringReader(source),(String[])null);
  String dstr=t.asString();
  Assert.assertNotNull(dstr);
  String[] ps=t.getParameters();
  Assert.assertTrue(Arrays.asList(ps).contains("x"));
  strw=new StringWriter();
  t.evaluate(context,strw,42);
  output=strw.toString();
  Assert.assertEquals("x is 42\n",output);
}

</code></pre>

<pre class="type-2 type-1 type-3 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTemplate1() throws Exception {
  String source="$$ if(x) {\nx is ${x}\n$$ } else {\n${'no x'}\n$$ }\n";
  StringWriter strw;
  String output;
  JxltEngine.Template t=JXLT.createTemplate("$$",new StringReader(source),"x");
  String dstr=t.asString();
  Assert.assertNotNull(dstr);
  strw=new StringWriter();
  t.evaluate(context,strw,42);
  output=strw.toString();
  Assert.assertEquals("x is 42\n",output);
  strw=new StringWriter();
  t.evaluate(context,strw,"");
  output=strw.toString();
  Assert.assertEquals("no x\n",output);
}

</code></pre>

<pre class="type-1 type-8 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testComposite() throws Exception {
  String source="Dear ${p} ${name};";
  JxltEngine.Expression expr=JXLT.createExpression(source);
  context.set("p","Mr");
  context.set("name","Doe");
  Assert.assertTrue("expression should be immediate",expr.isImmediate());
  Object o=expr.evaluate(context);
  Assert.assertEquals("Dear Mr Doe;",o);
  context.set("p","Ms");
  context.set("name","Jones");
  o=expr.evaluate(context);
  Assert.assertEquals("Dear Ms Jones;",o);
  Assert.assertEquals(source,getSource(expr.toString()));
}

</code></pre>

<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testMalformedNested2() throws Exception {
  try {
    JxltEngine.Expression expr=JXLT.createExpression("#{${hi} world}");
    JexlContext ctxt=new MapContext();
    ctxt.set("hi","hello");
    expr.evaluate(ctxt);
    Assert.fail("should be malformed");
  }
 catch (  JxltEngine.Exception xjexl) {
    String xmsg=xjexl.getMessage();
    LOG.warn(xmsg);
  }
}

</code></pre>

<pre class="type-2 type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInterpolation() throws Exception {
  context.set("user","Dimitri");
  String expr="`Hello \n${user}`";
  Object value=JEXL.createScript(expr).execute(context);
  Assert.assertEquals(expr,"Hello \nDimitri",value);
}

</code></pre>

<pre class="type-2 type-1 type-3 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test42() throws Exception {
  String test42="$$ for(var x : list) {\n" + "$$   if (x == 42) {\n" + "Life, the universe, and everything\n"+ "$$   } else if (x > 42) {\n"+ "The value ${x} is over fourty-two\n"+ "$$   } else {\n"+ "The value ${x} is under fourty-two\n"+ "$$   }\n"+ "$$ }\n";
  JxltEngine.Template t=JXLT.createTemplate("$$",new StringReader(test42),"list");
  StringWriter strw=new StringWriter();
  int[] list={1,3,5,42,169};
  t.evaluate(context,strw,list);
  String output=strw.toString();
  String out42="The value 1 is under fourty-two\n" + "The value 3 is under fourty-two\n" + "The value 5 is under fourty-two\n"+ "Life, the universe, and everything\n"+ "The value 169 is over fourty-two\n";
  Assert.assertEquals(out42,output);
  String dstr=t.asString();
  Assert.assertNotNull(dstr);
  TemplateDebugger td=new TemplateDebugger();
  String refactored=refactor(td,(TemplateScript)t);
  Assert.assertNotNull(refactored);
  Assert.assertEquals(test42,refactored);
}

</code></pre>

<pre class="type-1 type-8 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrepareEvaluate() throws Exception {
  final String source="Dear #{p} ${name};";
  JxltEngine.Expression expr=JXLT.createExpression("Dear #{p} ${name};");
  Assert.assertTrue("expression should be deferred",expr.isDeferred());
  Set<List<String>> evars=expr.getVariables();
  Assert.assertEquals(1,evars.size());
  Assert.assertTrue(contains(evars,Arrays.asList("name")));
  context.set("name","Doe");
  JxltEngine.Expression phase1=expr.prepare(context);
  String as=phase1.asString();
  Assert.assertEquals("Dear ${p} Doe;",as);
  Set<List<String>> evars1=phase1.getVariables();
  Assert.assertEquals(1,evars1.size());
  Assert.assertTrue(contains(evars1,Arrays.asList("p")));
  vars.clear();
  context.set("p","Mr");
  context.set("name","Should not be used in 2nd phase");
  Object o=phase1.evaluate(context);
  Assert.assertEquals("Dear Mr Doe;",o);
  String p1=getSource(phase1.toString());
  Assert.assertEquals(source,getSource(phase1.toString()));
  Assert.assertEquals(source,getSource(expr.toString()));
}

</code></pre>

<pre class="type-1 type-8 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConstant4() throws Exception {
  JexlContext none=null;
  final String source="#{ ${size({'1':2,'2': 3})} }";
  JxltEngine.Expression expr=JXLT.createExpression(source);
  Object o=expr.evaluate(none);
  Assert.assertTrue("expression should be deferred",expr.isDeferred());
  Assert.assertEquals(2,o);
  Assert.assertEquals(source,getSource(expr.toString()));
}

</code></pre>

<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testBadContextNested() throws Exception {
  try {
    JxltEngine.Expression expr=JXLT.createExpression("#{${hi}+'.world'}");
    JexlContext none=null;
    expr.evaluate(none);
    Assert.fail("should be malformed");
  }
 catch (  JxltEngine.Exception xjexl) {
    String xmsg=xjexl.getMessage();
    LOG.warn(xmsg);
  }
}

</code></pre>

<pre class="type-1 type-8 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeferred() throws Exception {
  JexlContext none=null;
  final String source="#{'world'}";
  JxltEngine.Expression expr=JXLT.createExpression(source);
  Assert.assertTrue("expression should be deferred",expr.isDeferred());
  String as=expr.prepare(none).asString();
  Assert.assertEquals("prepare should return immediate version","${'world'}",as);
  Object o=expr.evaluate(none);
  Assert.assertEquals("world",o);
  Assert.assertEquals(source,getSource(expr.toString()));
}

</code></pre>

<pre class="type-1 type-8 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConstant3() throws Exception {
  JexlContext none=null;
  final String source="#{size({'map':123,'map2':456})}";
  JxltEngine.Expression expr=JXLT.createExpression(source);
  Object o=expr.evaluate(none);
  Assert.assertTrue("expression should be deferred",expr.isDeferred());
  Assert.assertEquals(2,o);
  Assert.assertEquals(source,getSource(expr.toString()));
}

</code></pre>

<pre class="type-1 type-8 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConstant2() throws Exception {
  JexlContext none=null;
  final String source="${size({'map':123,'map2':456})}";
  JxltEngine.Expression expr=JXLT.createExpression(source);
  Object o=expr.evaluate(none);
  Assert.assertTrue("expression should be immediate",expr.isImmediate());
  Assert.assertEquals(2,o);
  Assert.assertEquals(source,getSource(expr.toString()));
}

</code></pre>

<pre class="type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
"></span><br>
@After @Override public void tearDown() throws Exception {
  debuggerCheck(ENGINE);
  super.tearDown();
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  java.util.logging.Logger.getLogger(org.apache.commons.jexl3.JexlEngine.class.getName()).setLevel(java.util.logging.Level.SEVERE);
  context=new JexlEvalContext(vars);
}

</code></pre>

<pre class="type-2 type-1 type-8 type-3 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrepareTemplate() throws Exception {
  String source="$$ for(var x : list) {\n" + "${l10n}=#{x}\n" + "$$ }\n";
  int[] args={42};
  JxltEngine.Template tl10n=JXLT.createTemplate(source,"list");
  String dstr=tl10n.asString();
  Assert.assertNotNull(dstr);
  Set<List<String>> vars=tl10n.getVariables();
  Assert.assertFalse(vars.isEmpty());
  context.set("l10n","valeur");
  JxltEngine.Template tpFR=tl10n.prepare(context);
  context.set("l10n","value");
  JxltEngine.Template tpEN=tl10n.prepare(context);
  context.set("l10n",null);
  StringWriter strw;
  strw=new StringWriter();
  tpFR.evaluate(context,strw,args);
  String outFR=strw.toString();
  Assert.assertEquals("valeur=42\n",outFR);
  context.set("l10n",null);
  strw=new StringWriter();
  tpEN.evaluate(context,strw,args);
  String outEN=strw.toString();
  Assert.assertEquals("value=42\n",outEN);
}

</code></pre>

<pre class="type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInterpolationLvsG() throws Exception {
  String expr="user='Dimitri'; var user='Henrib'; `H\\\"ello \n${user}`";
  Object value=JEXL.createScript(expr).execute(context);
  Assert.assertEquals(expr,"H\"ello \nHenrib",value);
}

</code></pre>

<pre class="type-2 type-8 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReport1() throws Exception {
  String rpt="<report>\n" + "this is ${x}\n" + "${x + 1}\n"+ "${x + 2}\n"+ "${x + 3}\n"+ "</report>\n";
  JxltEngine.Template t=JXLT.createTemplate("$$",new StringReader(rpt));
  StringWriter strw=new StringWriter();
  context.set("x",42);
  t.evaluate(context,strw,42);
  String output=strw.toString();
  int count=0;
  for (int i=0; i < output.length(); ++i) {
    char c=output.charAt(i);
    if ('\n' == c) {
      count+=1;
    }
  }
  Assert.assertEquals(6,count);
  Assert.assertTrue(output.indexOf("42") > 0);
  Assert.assertTrue(output.indexOf("43") > 0);
  Assert.assertTrue(output.indexOf("44") > 0);
  Assert.assertTrue(output.indexOf("45") > 0);
}

</code></pre>

<pre class="type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOneLiner() throws Exception {
  JxltEngine.Template t=JXLT.createTemplate("$$",new StringReader("fourty-two"));
  StringWriter strw=new StringWriter();
  t.evaluate(context,strw);
  String output=strw.toString();
  Assert.assertEquals("fourty-two",output);
}

</code></pre>

<pre class="type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNonEscapeString() throws Exception {
  JxltEngine.Expression expr=JXLT.createExpression("c:\\some\\windows\\path");
  JexlContext none=null;
  Object o=expr.evaluate(none);
  Assert.assertEquals("c:\\some\\windows\\path",o);
}

</code></pre>

<pre class="type-2 type-1 type-8 type-3 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReport2() throws Exception {
  String rpt="<report>\n" + "this is ${x}\n" + "${x + 1}\n"+ "${x + 2}\n"+ "${x + 3}\n"+ "</report>\n";
  JxltEngine.Template t=JXLT.createTemplate("$$",new StringReader(rpt),"x");
  StringWriter strw=new StringWriter();
  t.evaluate(context,strw,42);
  String output=strw.toString();
  int count=0;
  for (int i=0; i < output.length(); ++i) {
    char c=output.charAt(i);
    if ('\n' == c) {
      count+=1;
    }
  }
  Assert.assertEquals(6,count);
  Assert.assertTrue(output.indexOf("42") > 0);
  Assert.assertTrue(output.indexOf("43") > 0);
  Assert.assertTrue(output.indexOf("44") > 0);
  Assert.assertTrue(output.indexOf("45") > 0);
  TemplateDebugger td=new TemplateDebugger();
  String xxx=refactor(td,(TemplateScript)t);
  Assert.assertNotNull(xxx);
  Assert.assertEquals(rpt,xxx);
}

</code></pre>

<pre class="type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInterpolationParameter() throws Exception {
  String expr="(user)->{`Hello \n${user}`}";
  Object value=JEXL.createScript(expr).execute(context,"Henrib");
  Assert.assertEquals(expr,"Hello \nHenrib",value);
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
