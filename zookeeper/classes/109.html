<h3 style="margin:0px">Class: org.apache.zookeeper.test.FourLetterWordsTest (5 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Verifies assertions in iterations"><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >IterativeVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="8"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('8')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-8"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Executes methods or other tests from the same test unit"><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >ExecutionTester&nbsp;(1)</kbd></button>&nbsp;<button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-5 type-2 type-8 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetTraceMask() throws Exception {
  String gtmkResp=sendRequest("gtmk");
  Assert.assertNotNull(gtmkResp);
  gtmkResp=gtmkResp.trim();
  Assert.assertFalse(gtmkResp.isEmpty());
  long formerMask=Long.valueOf(gtmkResp);
  try {
    verify(buildSetTraceMaskRequest(0),"0");
    verify("gtmk","0");
  }
  finally {
    sendRequest(buildSetTraceMaskRequest(formerMask));
  }
}

</code></pre>

<pre class="type-9 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testValidateConsOutput() throws Exception {
  ZooKeeper zk1=createClient();
  ZooKeeper zk2=createClient();
  String resp=sendRequest("cons");
  BufferedReader in=new BufferedReader(new StringReader(resp));
  String line;
  int count=0;
  while ((line=in.readLine()) != null && line.length() > 0) {
    count++;
    Assert.assertTrue(line,Pattern.matches("^ /.*:\\d+\\[\\d+\\]\\(queued=\\d+,recved=\\d+,sent=\\d+.*\\)$",line));
  }
  Assert.assertTrue(count >= 2);
  zk1.close();
  zk2.close();
}

</code></pre>

<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test(timeout=60000) public void testValidateSocketTimeout() throws Exception {
  String resp=sendRequest("isro",2000);
  Assert.assertTrue(resp.contains("rw"));
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Test the various four letter words 
 */
@Test public void testFourLetterWords() throws Exception {
  verify("ruok","imok");
  verify("envi","java.version");
  verify("conf","clientPort");
  verify("stat","Outstanding");
  verify("srvr","Outstanding");
  verify("cons","queued");
  verify("dump","Session");
  verify("wchs","watches");
  verify("wchp","");
  verify("wchc","");
  verify("srst","reset");
  verify("crst","reset");
  verify("stat","Outstanding");
  verify("srvr","Outstanding");
  verify("cons","queued");
  verify("gtmk","306");
  verify("isro","rw");
  TestableZooKeeper zk=createClient();
  String sid=getHexSessionId(zk.getSessionId());
  verify("stat","queued");
  verify("srvr","Outstanding");
  verify("cons",sid);
  verify("dump",sid);
  verify("dirs","size");
  zk.getData("/",true,null);
  verify("stat","queued");
  verify("srvr","Outstanding");
  verify("cons",sid);
  verify("dump",sid);
  verify("wchs","watching 1");
  verify("wchp",sid);
  verify("wchc",sid);
  verify("dirs","size");
  zk.close();
  verify("ruok","imok");
  verify("envi","java.version");
  verify("conf","clientPort");
  verify("stat","Outstanding");
  verify("srvr","Outstanding");
  verify("cons","queued");
  verify("dump","Session");
  verify("wchs","watch");
  verify("wchp","");
  verify("wchc","");
  verify("srst","reset");
  verify("crst","reset");
  verify("stat","Outstanding");
  verify("srvr","Outstanding");
  verify("cons","queued");
  verify("mntr","zk_server_state\tstandalone");
  verify("mntr","num_alive_connections");
  verify("stat","Connections");
  verify("srvr","Connections");
  verify("dirs","size");
}

</code></pre>

<pre class="type-9 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testValidateStatOutput() throws Exception {
  ZooKeeper zk1=createClient();
  ZooKeeper zk2=createClient();
  String resp=sendRequest("stat");
  BufferedReader in=new BufferedReader(new StringReader(resp));
  String line;
  line=in.readLine();
  Assert.assertTrue(Pattern.matches("^.*\\s\\d+\\.\\d+\\.\\d+-.*$",line));
  Assert.assertTrue(Pattern.matches("^Clients:$",in.readLine()));
  int count=0;
  while ((line=in.readLine()).length() > 0) {
    count++;
    Assert.assertTrue(Pattern.matches("^ /.*:\\d+\\[\\d+\\]\\(queued=\\d+,recved=\\d+,sent=\\d+\\)$",line));
  }
  Assert.assertTrue(count >= 2);
  line=in.readLine();
  Assert.assertTrue(Pattern.matches("^Latency min/avg/max: \\d+/\\d+/\\d+$",line));
  line=in.readLine();
  Assert.assertTrue(Pattern.matches("^Received: \\d+$",line));
  line=in.readLine();
  Assert.assertTrue(Pattern.matches("^Sent: \\d+$",line));
  line=in.readLine();
  Assert.assertTrue(Pattern.matches("^Connections: \\d+$",line));
  line=in.readLine();
  Assert.assertTrue(Pattern.matches("^Outstanding: \\d+$",line));
  line=in.readLine();
  Assert.assertTrue(Pattern.matches("^Zxid: 0x[\\da-fA-F]+$",line));
  line=in.readLine();
  Assert.assertTrue(Pattern.matches("^Mode: .*$",line));
  line=in.readLine();
  Assert.assertTrue(Pattern.matches("^Node count: \\d+$",line));
  zk1.close();
  zk2.close();
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
