<h3><span class=" glyphicon glyphicon-tag"/>&nbspExecutionTester</h3><kbd>Executes methods or other tests from the same test unit</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.ambari.msi.ClusterProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResources() throws Exception {
  ClusterDefinition clusterDefinition=new ClusterDefinition(new TestStateProvider(),new TestClusterDefinitionProvider(),new TestHostInfoProvider());
  ClusterProvider provider=new ClusterProvider(clusterDefinition);
  provider.updateResources(PropertyHelper.getUpdateRequest(new HashMap<String,Object>(),null),null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.msi.ConfigurationProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testConfigurationProvider_init_method_file_exists() throws Exception {
  ClusterDefinition clusterDefinitionMock=createStrictMock(ClusterDefinition.class);
  PowerMock.suppress(PowerMock.methods(ConfigurationProvider.class,"initConfigurationResources"));
  StaxDriver staxDriver=PowerMock.createStrictMock(StaxDriver.class);
  XStream xstream=PowerMock.createStrictMock(XStream.class);
  PowerMock.mockStatic(ClassLoader.class);
  InputStream mockInputStream=createMock(InputStream.class);
  PowerMock.expectNew(StaxDriver.class).andReturn(staxDriver);
  PowerMock.expectNew(XStream.class,staxDriver).andReturn(xstream);
  xstream.alias("configuration",Map.class);
  expectLastCall();
  xstream.registerConverter(anyObject(ConfigurationProvider.ScomConfigConverter.class));
  expectLastCall();
  expect(ClassLoader.getSystemResourceAsStream(anyObject(String.class))).andReturn(mockInputStream).times(5);
  expect(xstream.fromXML(mockInputStream)).andReturn(new HashMap<String,String>()).times(5);
  PowerMock.replay(staxDriver,StaxDriver.class,xstream,XStream.class,ClassLoader.class);
  replay(clusterDefinitionMock,mockInputStream);
  new ConfigurationProvider(clusterDefinitionMock);
  PowerMock.verify(staxDriver,StaxDriver.class,xstream,XStream.class,ClassLoader.class);
  verify(clusterDefinitionMock,mockInputStream);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testConfigurationProvider_init_method_file_doesnt_exists() throws Exception {
  ClusterDefinition clusterDefinitionMock=createStrictMock(ClusterDefinition.class);
  PowerMock.suppress(PowerMock.methods(ConfigurationProvider.class,"initConfigurationResources"));
  StaxDriver staxDriver=PowerMock.createStrictMock(StaxDriver.class);
  XStream xstream=PowerMock.createStrictMock(XStream.class);
  PowerMock.expectNew(StaxDriver.class).andReturn(staxDriver);
  PowerMock.expectNew(XStream.class,staxDriver).andReturn(xstream);
  xstream.alias("configuration",Map.class);
  expectLastCall();
  xstream.registerConverter(anyObject(ConfigurationProvider.ScomConfigConverter.class));
  expectLastCall();
  PowerMock.replay(staxDriver,StaxDriver.class,xstream,XStream.class);
  replay(clusterDefinitionMock);
  new ConfigurationProvider(clusterDefinitionMock);
  PowerMock.verify(staxDriver,StaxDriver.class,xstream,XStream.class);
  verify(clusterDefinitionMock);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.msi.HostProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResources() throws Exception {
  ClusterDefinition clusterDefinition=new ClusterDefinition(new TestStateProvider(),new TestClusterDefinitionProvider(),new TestHostInfoProvider());
  HostProvider provider=new HostProvider(clusterDefinition);
  provider.updateResources(PropertyHelper.getUpdateRequest(new HashMap<String,Object>(),null),null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.msi.RequestProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResources() throws Exception {
  ClusterDefinition clusterDefinition=new ClusterDefinition(new TestStateProvider(),new TestClusterDefinitionProvider(),new TestHostInfoProvider());
  RequestProvider provider=new RequestProvider(clusterDefinition);
  provider.updateResources(PropertyHelper.getUpdateRequest(new HashMap<String,Object>(),null),null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.msi.TaskProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResources() throws Exception {
  ClusterDefinition clusterDefinition=new ClusterDefinition(new TestStateProvider(),new TestClusterDefinitionProvider(),new TestHostInfoProvider());
  TaskProvider provider=new TaskProvider(clusterDefinition);
  provider.updateResources(PropertyHelper.getUpdateRequest(new HashMap<String,Object>(),null),null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.scom.logging.JpaLoggerTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testThrowing() throws Exception {
  Logger logger=createNiceMock(Logger.class);
  Formatter formatter=createNiceMock(Formatter.class);
  Exception exception=new IllegalStateException("Something went wrong!");
  JpaLogger jpaLogger=new TestJpaLogger(logger,formatter);
  logger.error(null,exception);
  replay(logger,formatter);
  jpaLogger.throwing(exception);
  verify(logger,formatter);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testLog() throws Exception {
  Logger logger=createNiceMock(Logger.class);
  SessionLogEntry severeEntry=createNiceMock(SessionLogEntry.class);
  SessionLogEntry configEntry=createNiceMock(SessionLogEntry.class);
  SessionLogEntry finestEntry=createNiceMock(SessionLogEntry.class);
  Formatter formatter=createNiceMock(Formatter.class);
  JpaLogger jpaLogger=new TestJpaLogger(logger,formatter);
  expect(severeEntry.getLevel()).andReturn(SessionLog.SEVERE);
  expect(formatter.format((LogRecord)anyObject())).andReturn("severe log message");
  logger.error("severe log message");
  expect(configEntry.getLevel()).andReturn(SessionLog.CONFIG);
  expect(formatter.format((LogRecord)anyObject())).andReturn("config log message");
  logger.info("config log message");
  expect(finestEntry.getLevel()).andReturn(SessionLog.FINEST);
  expect(formatter.format((LogRecord)anyObject())).andReturn("finest log message");
  logger.debug("finest log message");
  replay(logger,severeEntry,configEntry,finestEntry,formatter);
  jpaLogger.log(severeEntry);
  jpaLogger.log(configEntry);
  jpaLogger.log(finestEntry);
  verify(logger,severeEntry,configEntry,finestEntry,formatter);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.actionmanager.TestActionScheduler </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAbortHolding(){
  UnitOfWork unitOfWork=EasyMock.createMock(UnitOfWork.class);
  ActionDBAccessor db=EasyMock.createMock(ActionDBAccessor.class);
  ActionQueue aq=new ActionQueue();
  Clusters fsm=EasyMock.createMock(Clusters.class);
  Configuration conf=new Configuration(new Properties());
  HostEntity hostEntity1=new HostEntity();
  hostEntity1.setHostName("h1");
  hostDAO.merge(hostEntity1);
  db.abortHostRole("h1",-1L,-1L,"AMBARI_SERVER_ACTION");
  EasyMock.expectLastCall();
  EasyMock.replay(db);
  ActionScheduler scheduler=new ActionScheduler(100,50,db,aq,fsm,3,new HostsMap((String)null),unitOfWork,null,conf);
  HostRoleCommand hrc1=hostRoleCommandFactory.create("h1",Role.NAMENODE,null,RoleCommand.EXECUTE);
  hrc1.setStatus(HostRoleStatus.COMPLETED);
  HostRoleCommand hrc3=hostRoleCommandFactory.create("h1",Role.AMBARI_SERVER_ACTION,null,RoleCommand.CUSTOM_COMMAND);
  hrc3.setStatus(HostRoleStatus.HOLDING);
  HostRoleCommand hrc4=hostRoleCommandFactory.create("h1",Role.FLUME_HANDLER,null,RoleCommand.EXECUTE);
  hrc4.setStatus(HostRoleStatus.PENDING);
  List<HostRoleCommand> hostRoleCommands=Arrays.asList(hrc1,hrc3,hrc4);
  scheduler.cancelHostRoleCommands(hostRoleCommands,"foo");
  EasyMock.verify(db);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.agent.TestHeartbeatHandler </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests that if there is an invalid cluster in heartbeat data, the heartbeat
 * doesn't fail.
 * @throws Exception
 */
@Test @SuppressWarnings("unchecked") public void testHeartBeatWithAlertAndInvalidCluster() throws Exception {
  ActionManager am=getMockActionManager();
  expect(am.getTasks(anyObject(List.class))).andReturn(new ArrayList<HostRoleCommand>());
  replay(am);
  Cluster cluster=getDummyCluster();
  Clusters fsm=clusters;
  Host hostObject=clusters.getHost(DummyHostname1);
  hostObject.setIPv4("ipv4");
  hostObject.setIPv6("ipv6");
  hostObject.setOsType(DummyOsType);
  ActionQueue aq=new ActionQueue();
  HeartBeatHandler handler=new HeartBeatHandler(fsm,aq,am,injector);
  Register reg=new Register();
  HostInfo hi=new HostInfo();
  hi.setHostName(DummyHostname1);
  hi.setOS(DummyOs);
  hi.setOSRelease(DummyOSRelease);
  reg.setHostname(DummyHostname1);
  reg.setHardwareProfile(hi);
  reg.setAgentVersion(metaInfo.getServerVersion());
  handler.handleRegistration(reg);
  hostObject.setState(HostState.UNHEALTHY);
  ExecutionCommand execCmd=new ExecutionCommand();
  execCmd.setRequestAndStage(2,34);
  execCmd.setHostname(DummyHostname1);
  aq.enqueue(DummyHostname1,new ExecutionCommand());
  HeartBeat hb=new HeartBeat();
  HostStatus hs=new HostStatus(Status.HEALTHY,DummyHostStatus);
  hb.setResponseId(0);
  hb.setNodeStatus(hs);
  hb.setHostname(DummyHostname1);
  Alert alert=new Alert("foo","bar","baz","foobar","foobarbaz",AlertState.OK);
  alert.setCluster("BADCLUSTER");
  List<Alert> alerts=Collections.singletonList(alert);
  hb.setAlerts(alerts);
  handler.handleHeartBeat(hb);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.api.AmbariCsrfProtectionFilterTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=WebApplicationException.class) public void testPostNoXRequestedBy(){
  AmbariCsrfProtectionFilter filter=new AmbariCsrfProtectionFilter();
  ContainerRequest containerRequest=createMock(ContainerRequest.class);
  InBoundHeaders headers=new InBoundHeaders();
  expect(containerRequest.getMethod()).andReturn("POST");
  expect(containerRequest.getRequestHeaders()).andReturn(headers);
  replay(containerRequest);
  filter.filter(containerRequest);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.api.predicate.QueryLexerTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidQueryException.class) public void testTokens_matchesRegexpInvalidQuery() throws InvalidQueryException {
  QueryLexer lexer=new QueryLexer();
  lexer.tokens("StackConfigurations/property_type.matches((.*USER.*)|(.*GROUP.*)");
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidQueryException.class) public void testTokens_matchesRegexpInvalidQuery2() throws InvalidQueryException {
  QueryLexer lexer=new QueryLexer();
  lexer.tokens("StackConfigurations/property_type.matches((.*USER.*)|(.*GROUP.*)|StackConfigurations/property_type.matches(.*GROUP.*)");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.api.query.QueryImplTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecute_RendererRequiresPropertyProviderInput() throws Exception {
  EasyMockSupport mockSupport=new EasyMockSupport();
  ResourceDefinition mockResourceDefinition=mockSupport.createMock(ResourceDefinition.class);
  SubResourceDefinition mockSubResourceDefinition=mockSupport.createMock(SubResourceDefinition.class);
  ClusterController mockClusterController=mockSupport.createMock(ClusterController.class);
  Renderer mockRenderer=mockSupport.createMock(Renderer.class);
  QueryResponse mockQueryResponse=mockSupport.createMock(QueryResponse.class);
  QueryResponse mockSubQueryResponse=mockSupport.createMock(QueryResponse.class);
  Resource mockResource=mockSupport.createMock(Resource.class);
  Schema mockSchema=mockSupport.createMock(Schema.class);
  expect(mockResourceDefinition.getType()).andReturn(Resource.Type.Host).atLeastOnce();
  expect(mockResourceDefinition.getSubResourceDefinitions()).andReturn(Collections.singleton(mockSubResourceDefinition)).atLeastOnce();
  expect(mockSubResourceDefinition.getType()).andReturn(Resource.Type.Configuration).atLeastOnce();
  expect(mockSubResourceDefinition.isCollection()).andReturn(false).atLeastOnce();
  expect(mockSchema.getKeyPropertyId(isA(Resource.Type.class))).andReturn("test-value").anyTimes();
  expect(mockSchema.getKeyTypes()).andReturn(Collections.<Resource.Type>emptySet()).anyTimes();
  mockRenderer.init(isA(SchemaFactory.class));
  expect(mockRenderer.requiresPropertyProviderInput()).andReturn(true).times(2);
  expect(mockRenderer.finalizeProperties(isA(TreeNode.class),eq(true))).andReturn(new TreeNodeImpl<Set<String>>(null,Collections.<String>emptySet(),"test-node"));
  expect(mockRenderer.finalizeResult(isA(Result.class))).andReturn(null);
  expect(mockClusterController.getSchema(Resource.Type.Host)).andReturn(mockSchema).anyTimes();
  expect(mockClusterController.getSchema(Resource.Type.Configuration)).andReturn(mockSchema).anyTimes();
  expect(mockClusterController.getResources(eq(Resource.Type.Host),isA(Request.class),(Predicate)eq(null))).andReturn(mockQueryResponse).atLeastOnce();
  expect(mockClusterController.getResources(eq(Resource.Type.Configuration),isA(Request.class),(Predicate)eq(null))).andReturn(mockSubQueryResponse).atLeastOnce();
  expect(mockClusterController.getIterable(eq(Resource.Type.Host),isA(QueryResponse.class),isA(Request.class),(Predicate)eq(null),(PageRequest)eq(null),(SortRequest)eq(null))).andReturn(Collections.singleton(mockResource)).atLeastOnce();
  expect(mockClusterController.getIterable(eq(Resource.Type.Configuration),isA(QueryResponse.class),isA(Request.class),(Predicate)eq(null),(PageRequest)eq(null),(SortRequest)eq(null))).andReturn(Collections.singleton(mockResource)).atLeastOnce();
  expect(mockClusterController.populateResources(eq(Resource.Type.Host),eq(Collections.singleton(mockResource)),isA(Request.class),(Predicate)eq(null))).andReturn(Collections.<Resource>emptySet()).times(1);
  expect(mockClusterController.populateResources(eq(Resource.Type.Configuration),eq(Collections.singleton(mockResource)),isA(Request.class),(Predicate)eq(null))).andReturn(Collections.<Resource>emptySet()).times(1);
  expect(mockQueryResponse.getResources()).andReturn(Collections.singleton(mockResource)).atLeastOnce();
  expect(mockSubQueryResponse.getResources()).andReturn(Collections.singleton(mockResource)).atLeastOnce();
  expect(mockResource.getType()).andReturn(Resource.Type.Host).atLeastOnce();
  Map<Resource.Type,String> mapIds=new HashMap<Resource.Type,String>();
  mockSupport.replayAll();
  QueryImpl instance=new QueryImpl(mapIds,mockResourceDefinition,mockClusterController);
  instance.setRenderer(mockRenderer);
  instance.ensureSubResources();
  instance.addProperty("*",null);
  instance.execute();
  mockSupport.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecute_RendererDoesNotRequirePropertyProviderInput() throws Exception {
  EasyMockSupport mockSupport=new EasyMockSupport();
  ResourceDefinition mockResourceDefinition=mockSupport.createMock(ResourceDefinition.class);
  SubResourceDefinition mockSubResourceDefinition=mockSupport.createMock(SubResourceDefinition.class);
  ClusterController mockClusterController=mockSupport.createMock(ClusterController.class);
  Renderer mockRenderer=mockSupport.createMock(Renderer.class);
  QueryResponse mockQueryResponse=mockSupport.createMock(QueryResponse.class);
  QueryResponse mockSubQueryResponse=mockSupport.createMock(QueryResponse.class);
  Resource mockResource=mockSupport.createMock(Resource.class);
  Schema mockSchema=mockSupport.createMock(Schema.class);
  expect(mockResourceDefinition.getType()).andReturn(Resource.Type.Host).atLeastOnce();
  expect(mockResourceDefinition.getSubResourceDefinitions()).andReturn(Collections.singleton(mockSubResourceDefinition)).atLeastOnce();
  expect(mockSubResourceDefinition.getType()).andReturn(Resource.Type.Configuration).atLeastOnce();
  expect(mockSubResourceDefinition.isCollection()).andReturn(false).atLeastOnce();
  expect(mockSchema.getKeyPropertyId(isA(Resource.Type.class))).andReturn("test-value").anyTimes();
  expect(mockSchema.getKeyTypes()).andReturn(Collections.<Resource.Type>emptySet()).anyTimes();
  mockRenderer.init(isA(SchemaFactory.class));
  expect(mockRenderer.requiresPropertyProviderInput()).andReturn(false).times(2);
  expect(mockRenderer.finalizeProperties(isA(TreeNode.class),eq(true))).andReturn(new TreeNodeImpl<Set<String>>(null,Collections.<String>emptySet(),"test-node"));
  expect(mockRenderer.finalizeResult(isA(Result.class))).andReturn(null);
  expect(mockClusterController.getSchema(Resource.Type.Host)).andReturn(mockSchema).anyTimes();
  expect(mockClusterController.getSchema(Resource.Type.Configuration)).andReturn(mockSchema).anyTimes();
  expect(mockClusterController.getResources(eq(Resource.Type.Host),isA(Request.class),(Predicate)eq(null))).andReturn(mockQueryResponse).atLeastOnce();
  expect(mockClusterController.getResources(eq(Resource.Type.Configuration),isA(Request.class),(Predicate)eq(null))).andReturn(mockSubQueryResponse).atLeastOnce();
  expect(mockClusterController.getIterable(eq(Resource.Type.Host),isA(QueryResponse.class),isA(Request.class),(Predicate)eq(null),(PageRequest)eq(null),(SortRequest)eq(null))).andReturn(Collections.singleton(mockResource)).atLeastOnce();
  expect(mockClusterController.getIterable(eq(Resource.Type.Configuration),isA(QueryResponse.class),isA(Request.class),(Predicate)eq(null),(PageRequest)eq(null),(SortRequest)eq(null))).andReturn(Collections.singleton(mockResource)).atLeastOnce();
  expect(mockQueryResponse.getResources()).andReturn(Collections.singleton(mockResource)).atLeastOnce();
  expect(mockSubQueryResponse.getResources()).andReturn(Collections.singleton(mockResource)).atLeastOnce();
  expect(mockResource.getType()).andReturn(Resource.Type.Host).atLeastOnce();
  Map<Resource.Type,String> mapIds=new HashMap<Resource.Type,String>();
  mockSupport.replayAll();
  QueryImpl instance=new QueryImpl(mapIds,mockResourceDefinition,mockClusterController);
  instance.setRenderer(mockRenderer);
  instance.ensureSubResources();
  instance.addProperty("*",null);
  instance.execute();
  mockSupport.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecute_SubResourcePropertyPredicate() throws Exception {
  ResourceDefinition resourceDefinition=new ClusterResourceDefinition();
  Map<Resource.Type,String> mapIds=new HashMap<Resource.Type,String>();
  mapIds.put(Resource.Type.Cluster,"c1");
  mapIds.put(Resource.Type.Host,"h1");
  ClusterController clusterController=createNiceMock(ClusterController.class);
  QueryResponse clusterResponse=createNiceMock(QueryResponse.class);
  QueryResponse hostResponse=createNiceMock(QueryResponse.class);
  Schema clusterSchema=createNiceMock("ClusterSchema",Schema.class);
  Schema hostSchema=createNiceMock("HostSchema",Schema.class);
  Renderer renderer=createNiceMock(Renderer.class);
  Resource clusterResource=createMock("ClusterResource",Resource.class);
  Resource hostResource=createMock("HostResource",Resource.class);
  Set<Resource> clusterResources=Collections.singleton(clusterResource);
  Set<Resource> hostResources=Collections.singleton(hostResource);
  Iterable<Resource> iterable=createNiceMock(Iterable.class);
  Iterator<Resource> iterator=createNiceMock(Iterator.class);
  expect(clusterController.getSchema(Resource.Type.Cluster)).andReturn(clusterSchema).anyTimes();
  expect(clusterController.getSchema(Resource.Type.Host)).andReturn(hostSchema).anyTimes();
  expect(clusterController.getResources(eq(Resource.Type.Cluster),anyObject(org.apache.ambari.server.controller.spi.Request.class),anyObject(Predicate.class))).andReturn(clusterResponse);
  expect(clusterController.getResources(eq(Resource.Type.Host),anyObject(org.apache.ambari.server.controller.spi.Request.class),anyObject(Predicate.class))).andReturn(hostResponse);
  expect(iterable.iterator()).andReturn(iterator).anyTimes();
  expect(iterator.hasNext()).andReturn(false).anyTimes();
  expect(clusterResponse.getResources()).andReturn(clusterResources).anyTimes();
  expect(hostResponse.getResources()).andReturn(hostResources).anyTimes();
  expect(clusterResource.getType()).andReturn(Resource.Type.Cluster).anyTimes();
  expect(hostResource.getType()).andReturn(Resource.Type.Host).anyTimes();
  expect(clusterSchema.getKeyPropertyId(Resource.Type.Cluster)).andReturn("Clusters/cluster_name").anyTimes();
  expect(clusterSchema.getKeyTypes()).andReturn(Collections.singleton(Resource.Type.Cluster)).anyTimes();
  expect(hostSchema.getKeyPropertyId(Resource.Type.Cluster)).andReturn(null).anyTimes();
  expect(hostSchema.getKeyPropertyId(Resource.Type.Host)).andReturn("Hosts/host_name").anyTimes();
  expect(hostSchema.getKeyTypes()).andReturn(Collections.singleton(Resource.Type.Host)).anyTimes();
  expect(clusterResource.getPropertyValue("Clusters/cluster_name")).andReturn("c1").anyTimes();
  TreeNode<Set<String>> treeNode=new TreeNodeImpl<Set<String>>(null,Collections.EMPTY_SET,null);
  expect(renderer.finalizeProperties(anyObject(TreeNode.class),anyBoolean())).andReturn(treeNode).anyTimes();
  expect(clusterController.getIterable(eq(Resource.Type.Cluster),anyObject(QueryResponse.class),anyObject(org.apache.ambari.server.controller.spi.Request.class),anyObject(Predicate.class),anyObject(PageRequest.class),anyObject(SortRequest.class))).andReturn(iterable).anyTimes();
  replay(clusterController,clusterResponse,clusterSchema,renderer,hostSchema,clusterResource,hostResource,hostResponse,iterable,iterator);
  QueryImpl query=new TestQuery(mapIds,resourceDefinition,clusterController);
  query.setUserPredicate(new PredicateBuilder().property("hosts/Hosts/host_name").equals("h1").and().property("metrics/boottime").equals("value").toPredicate());
  query.setRenderer(renderer);
  query.execute();
  verify(clusterController,clusterResponse,clusterSchema,renderer,hostSchema,clusterResource,hostResource,hostResponse,iterable,iterator);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.api.services.AmbariMetaInfoTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetStacks(){
  Collection<StackInfo> stacks=metaInfo.getStacks();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.api.services.BaseServiceTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testService() throws Exception {
  List<ServiceTestInvocation> listTestInvocations=getTestInvocations();
  for (  ServiceTestInvocation testInvocation : listTestInvocations) {
    testMethod(testInvocation);
    testMethod_bodyParseException(testInvocation);
    testMethod_resultInErrorState(testInvocation);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.api.services.KerberosServiceMetaInfoTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void test220Dependencies() throws Exception {
  testDependencies(new HashMap<String,Map<String,DependencyInfo>>(){
{
      put("KERBEROS_CLIENT",new HashMap<String,DependencyInfo>());
    }
  }
);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void test220Cardinality() throws Exception {
  testCardinality(new HashMap<String,String>(){
{
      put("KERBEROS_CLIENT","ALL");
    }
  }
);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void test220AutoDeploy() throws Exception {
  testAutoDeploy(new HashMap<String,AutoDeployInfo>(){
{
      put("KERBEROS_CLIENT",new AutoDeployInfo(){
{
          setEnabled(true);
          setCoLocate(null);
        }
      }
);
    }
  }
);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.api.services.PersistKeyValueImplTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testMultiThreaded() throws Exception {
  final PersistKeyValueImpl impl=injector.getInstance(PersistKeyValueImpl.class);
  Thread[] threads=new Thread[NUMB_THREADS];
  for (int i=0; i < NUMB_THREADS; ++i) {
    threads[i]=new Thread(){
      @Override public void run(){
        for (int i=0; i < 100; ++i) {
          impl.put("key1","value1");
          impl.put("key2","value2");
          impl.put("key3","value3");
          impl.put("key4","value4");
        }
      }
    }
;
  }
  for (int i=0; i < NUMB_THREADS; ++i) {
    threads[i].start();
  }
  for (int i=0; i < NUMB_THREADS; ++i) {
    threads[i].join();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.api.services.PersistenceManagerImplTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreate___NoBodyProps() throws Exception {
  ResourceInstance resource=createMock(ResourceInstance.class);
  ResourceDefinition resourceDefinition=createMock(ResourceDefinition.class);
  ClusterController controller=createMock(ClusterController.class);
  Schema schema=createMock(Schema.class);
  String clusterId="clusterId";
  String serviceId="serviceId";
  String componentId="componentId";
  Request serverRequest=createStrictMock(Request.class);
  RequestBody body=new RequestBody();
  Map<Resource.Type,String> mapResourceIds=new HashMap<Resource.Type,String>();
  mapResourceIds.put(Resource.Type.Cluster,"clusterId");
  mapResourceIds.put(Resource.Type.Service,"serviceId");
  mapResourceIds.put(Resource.Type.Component,"componentId");
  Set<Map<String,Object>> setExpected=new HashSet<Map<String,Object>>();
  Map<String,Object> mapExpected=new HashMap<String,Object>();
  mapExpected.put(clusterId,"clusterId");
  mapExpected.put(serviceId,"serviceId");
  mapExpected.put(componentId,"componentId");
  setExpected.add(mapExpected);
  expect(resource.getKeyValueMap()).andReturn(mapResourceIds);
  expect(resource.getResourceDefinition()).andReturn(resourceDefinition).atLeastOnce();
  expect(resourceDefinition.getType()).andReturn(Resource.Type.Component);
  expect(controller.getSchema(Resource.Type.Component)).andReturn(schema);
  expect(schema.getKeyPropertyId(Resource.Type.Cluster)).andReturn(clusterId);
  expect(schema.getKeyPropertyId(Resource.Type.Service)).andReturn(serviceId);
  expect(schema.getKeyPropertyId(Resource.Type.Component)).andReturn(componentId);
  expect(controller.createResources(Resource.Type.Component,serverRequest)).andReturn(new RequestStatusImpl(null));
  replay(resource,resourceDefinition,controller,schema,serverRequest);
  new TestPersistenceManager(controller,setExpected,serverRequest).create(resource,body);
  verify(resource,resourceDefinition,controller,schema,serverRequest);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreate() throws Exception {
  ResourceInstance resource=createMock(ResourceInstance.class);
  ResourceDefinition resourceDefinition=createMock(ResourceDefinition.class);
  ClusterController controller=createMock(ClusterController.class);
  Schema schema=createMock(Schema.class);
  String clusterId="clusterId";
  String serviceId="serviceId";
  Request serverRequest=createStrictMock(Request.class);
  RequestBody body=new RequestBody();
  Map<Resource.Type,String> mapResourceIds=new HashMap<Resource.Type,String>();
  mapResourceIds.put(Resource.Type.Cluster,"clusterId");
  mapResourceIds.put(Resource.Type.Service,"serviceId");
  Map<String,Object> mapProperties=new HashMap<String,Object>();
  mapProperties.put("componentId","id");
  mapProperties.put(PropertyHelper.getPropertyId("foo","bar"),"value");
  NamedPropertySet namedPropSet=new NamedPropertySet("",mapProperties);
  body.addPropertySet(namedPropSet);
  Set<Map<String,Object>> setExpected=new HashSet<Map<String,Object>>();
  Map<String,Object> mapExpected=new HashMap<String,Object>(mapProperties);
  mapExpected.put(clusterId,"clusterId");
  mapExpected.put(serviceId,"serviceId");
  setExpected.add(mapExpected);
  expect(resource.getKeyValueMap()).andReturn(mapResourceIds);
  expect(resource.getResourceDefinition()).andReturn(resourceDefinition).atLeastOnce();
  expect(resourceDefinition.getType()).andReturn(Resource.Type.Component);
  expect(controller.getSchema(Resource.Type.Component)).andReturn(schema);
  expect(schema.getKeyPropertyId(Resource.Type.Cluster)).andReturn(clusterId);
  expect(schema.getKeyPropertyId(Resource.Type.Service)).andReturn(serviceId);
  expect(controller.createResources(Resource.Type.Component,serverRequest)).andReturn(new RequestStatusImpl(null));
  replay(resource,resourceDefinition,controller,schema,serverRequest);
  new TestPersistenceManager(controller,setExpected,serverRequest).create(resource,body);
  verify(resource,resourceDefinition,controller,schema,serverRequest);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdate() throws Exception {
  ResourceInstance resource=createMock(ResourceInstance.class);
  ResourceDefinition resourceDefinition=createMock(ResourceDefinition.class);
  ClusterController controller=createMock(ClusterController.class);
  Schema schema=createMock(Schema.class);
  Request serverRequest=createStrictMock(Request.class);
  Query query=createMock(Query.class);
  Predicate predicate=createMock(Predicate.class);
  RequestBody body=new RequestBody();
  String clusterId="clusterId";
  String serviceId=null;
  Map<Resource.Type,String> mapResourceIds=new HashMap<Resource.Type,String>();
  mapResourceIds.put(Resource.Type.Cluster,clusterId);
  mapResourceIds.put(Resource.Type.Service,serviceId);
  Map<String,Object> mapProperties=new HashMap<String,Object>();
  mapProperties.put(PropertyHelper.getPropertyId("foo","bar"),"value");
  NamedPropertySet namedPropSet=new NamedPropertySet("",mapProperties);
  body.addPropertySet(namedPropSet);
  Set<Map<String,Object>> setExpected=new HashSet<Map<String,Object>>();
  setExpected.add(mapProperties);
  expect(resource.getKeyValueMap()).andReturn(mapResourceIds);
  expect(resource.getResourceDefinition()).andReturn(resourceDefinition).atLeastOnce();
  expect(controller.getSchema(Resource.Type.Component)).andReturn(schema);
  expect(resourceDefinition.getType()).andReturn(Resource.Type.Component);
  expect(resource.getQuery()).andReturn(query);
  expect(query.getPredicate()).andReturn(predicate);
  expect(schema.getKeyPropertyId(Resource.Type.Cluster)).andReturn(clusterId);
  expect(controller.updateResources(Resource.Type.Component,serverRequest,predicate)).andReturn(new RequestStatusImpl(null));
  replay(resource,resourceDefinition,controller,schema,serverRequest,query,predicate);
  new TestPersistenceManager(controller,setExpected,serverRequest).update(resource,body);
  verify(resource,resourceDefinition,controller,schema,serverRequest,query,predicate);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreate__MultipleResources() throws Exception {
  ResourceInstance resource=createMock(ResourceInstance.class);
  ResourceDefinition resourceDefinition=createMock(ResourceDefinition.class);
  ClusterController controller=createMock(ClusterController.class);
  Schema schema=createMock(Schema.class);
  Request serverRequest=createStrictMock(Request.class);
  RequestBody body=new RequestBody();
  String clusterId="clusterId";
  String serviceId="serviceId";
  Map<Resource.Type,String> mapResourceIds=new HashMap<Resource.Type,String>();
  mapResourceIds.put(Resource.Type.Cluster,"clusterId");
  mapResourceIds.put(Resource.Type.Service,"serviceId");
  Map<String,Object> mapResourceProps1=new HashMap<String,Object>();
  mapResourceProps1.put("componentId","id1");
  mapResourceProps1.put(PropertyHelper.getPropertyId("foo","bar"),"value");
  Map<String,Object> mapResourceProps2=new HashMap<String,Object>();
  mapResourceProps1.put("componentId","id2");
  mapResourceProps2.put(PropertyHelper.getPropertyId("foo","bar2"),"value2");
  NamedPropertySet namedPropSet1=new NamedPropertySet("",mapResourceProps1);
  NamedPropertySet namedPropSet2=new NamedPropertySet("",mapResourceProps2);
  body.addPropertySet(namedPropSet1);
  body.addPropertySet(namedPropSet2);
  Set<Map<String,Object>> setExpected=new HashSet<Map<String,Object>>();
  Map<String,Object> mapExpected1=new HashMap<String,Object>(mapResourceProps1);
  mapExpected1.put(clusterId,"clusterId");
  mapExpected1.put(serviceId,"serviceId");
  setExpected.add(mapExpected1);
  Map<String,Object> mapExpected2=new HashMap<String,Object>(mapResourceProps2);
  mapExpected2.put(clusterId,"clusterId");
  mapExpected2.put(serviceId,"serviceId");
  setExpected.add(mapExpected2);
  expect(resource.getKeyValueMap()).andReturn(mapResourceIds);
  expect(resource.getResourceDefinition()).andReturn(resourceDefinition);
  expect(resourceDefinition.getType()).andReturn(Resource.Type.Component);
  expect(controller.getSchema(Resource.Type.Component)).andReturn(schema);
  expect(schema.getKeyPropertyId(Resource.Type.Cluster)).andReturn(clusterId).times(2);
  expect(schema.getKeyPropertyId(Resource.Type.Service)).andReturn(serviceId).times(2);
  expect(controller.createResources(Resource.Type.Component,serverRequest)).andReturn(new RequestStatusImpl(null));
  replay(resource,resourceDefinition,controller,schema,serverRequest);
  new TestPersistenceManager(controller,setExpected,serverRequest).create(resource,body);
  verify(resource,resourceDefinition,controller,schema,serverRequest);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDelete() throws Exception {
  ResourceInstance resource=createNiceMock(ResourceInstance.class);
  ResourceDefinition resourceDefinition=createNiceMock(ResourceDefinition.class);
  ClusterController controller=createMock(ClusterController.class);
  Query query=createMock(Query.class);
  Predicate predicate=createMock(Predicate.class);
  RequestBody body=new RequestBody();
  expect(resource.getResourceDefinition()).andReturn(resourceDefinition).anyTimes();
  expect(resourceDefinition.getType()).andReturn(Resource.Type.Component).anyTimes();
  expect(resource.getQuery()).andReturn(query).anyTimes();
  expect(query.getPredicate()).andReturn(predicate).anyTimes();
  expect(controller.deleteResources(Resource.Type.Component,predicate)).andReturn(new RequestStatusImpl(null));
  replay(resource,resourceDefinition,controller,query,predicate);
  new TestPersistenceManager(controller,null,null).delete(resource,body);
  verify(resource,resourceDefinition,controller,query,predicate);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.api.services.stackadvisor.StackAdvisorRunnerTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=StackAdvisorRequestException.class) public void testRunScript_processExitCode1_returnFalse() throws Exception {
  String script="echo";
  StackAdvisorCommandType saCommandType=StackAdvisorCommandType.RECOMMEND_COMPONENT_LAYOUT;
  File actionDirectory=temp.newFolder("actionDir");
  ProcessBuilder processBuilder=createNiceMock(ProcessBuilder.class);
  Process process=createNiceMock(Process.class);
  StackAdvisorRunner saRunner=new StackAdvisorRunner();
  stub(PowerMock.method(StackAdvisorRunner.class,"prepareShellCommand")).toReturn(processBuilder);
  expect(processBuilder.start()).andReturn(process);
  expect(process.waitFor()).andReturn(1);
  replay(processBuilder,process);
  saRunner.runScript(script,saCommandType,actionDirectory);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=StackAdvisorException.class) public void testRunScript_processExitCode2_returnFalse() throws Exception {
  String script="echo";
  StackAdvisorCommandType saCommandType=StackAdvisorCommandType.RECOMMEND_COMPONENT_LAYOUT;
  File actionDirectory=temp.newFolder("actionDir");
  ProcessBuilder processBuilder=createNiceMock(ProcessBuilder.class);
  Process process=createNiceMock(Process.class);
  StackAdvisorRunner saRunner=new StackAdvisorRunner();
  stub(PowerMock.method(StackAdvisorRunner.class,"prepareShellCommand")).toReturn(processBuilder);
  expect(processBuilder.start()).andReturn(process);
  expect(process.waitFor()).andReturn(2);
  replay(processBuilder,process);
  saRunner.runScript(script,saCommandType,actionDirectory);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=StackAdvisorException.class) public void testRunScript_processStartThrowsException_returnFalse() throws Exception {
  String script="echo";
  StackAdvisorCommandType saCommandType=StackAdvisorCommandType.RECOMMEND_COMPONENT_LAYOUT;
  File actionDirectory=temp.newFolder("actionDir");
  ProcessBuilder processBuilder=createNiceMock(ProcessBuilder.class);
  StackAdvisorRunner saRunner=new StackAdvisorRunner();
  stub(PowerMock.method(StackAdvisorRunner.class,"prepareShellCommand")).toReturn(processBuilder);
  expect(processBuilder.start()).andThrow(new IOException());
  replay(processBuilder);
  saRunner.runScript(script,saCommandType,actionDirectory);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.configuration.ConfigurationTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test() public void testGetLocalDatabaseUrlThrowException(){
  Properties ambariProperties=new Properties();
  Configuration conf=new Configuration(ambariProperties);
  exception.expect(RuntimeException.class);
  exception.expectMessage("Server DB Name is not configured!");
  conf.getLocalDatabaseUrl();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.ActionRequestTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testToString(){
  ActionRequest r1=ActionRequest.getAllRequest();
  r1.toString();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.ActionResponseTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testToString(){
  ActionResponse r=new ActionResponse(null,null,null,null,null,null,null,null);
  r.toString();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.AmbariHandlerListTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testHandle() throws Exception {
  final WebAppContext handler=createNiceMock(WebAppContext.class);
  ViewRegistry viewRegistry=createNiceMock(ViewRegistry.class);
  ViewEntity viewEntity=createNiceMock(ViewEntity.class);
  ClassLoader classLoader=createNiceMock(ClassLoader.class);
  Request baseRequest=createNiceMock(Request.class);
  HttpServletRequest request=createNiceMock(HttpServletRequest.class);
  HttpServletResponse response=createNiceMock(HttpServletResponse.class);
  expect(viewRegistry.getDefinition("TEST","1.0.0")).andReturn(viewEntity).anyTimes();
  expect(viewEntity.getClassLoader()).andReturn(classLoader).anyTimes();
  expect(handler.isStarted()).andReturn(true).anyTimes();
  replay(handler,viewRegistry,viewEntity);
  handler.handle("/api/v1/views/TEST/versions/1.0.0/instances/INSTANCE_1/resources/test",baseRequest,request,response);
  AmbariHandlerList handlerList=getAmbariHandlerList(handler);
  handlerList.viewRegistry=viewRegistry;
  handlerList.start();
  handlerList.addHandler(handler);
  handlerList.handle("/api/v1/views/TEST/versions/1.0.0/instances/INSTANCE_1/resources/test",baseRequest,request,response);
  verify(handler,viewRegistry,viewEntity);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.AmbariManagementControllerImplTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Ensure that when the cluster security type updated from KERBEROS to NONE, KerberosHandler.toggleKerberos
 * IS invoked
 */
@Test public void testUpdateClustersToggleKerberosDisable_Default() throws Exception {
  testUpdateClustersToggleKerberosDisable(null);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRegisterRackChange() throws Exception {
  Injector injector=createStrictMock(Injector.class);
  Cluster cluster=createNiceMock(Cluster.class);
  Service service=createNiceMock(Service.class);
  ServiceComponent serviceComponent=createNiceMock(ServiceComponent.class);
  ServiceComponentHost serviceComponentHost=createNiceMock(ServiceComponentHost.class);
  StackId stackId=createNiceMock(StackId.class);
  Capture<AmbariManagementController> controllerCapture=new Capture<AmbariManagementController>();
  injector.injectMembers(capture(controllerCapture));
  expect(injector.getInstance(Gson.class)).andReturn(null);
  expect(injector.getInstance(MaintenanceStateHelper.class)).andReturn(null);
  expect(injector.getInstance(KerberosHelper.class)).andReturn(createNiceMock(KerberosHelper.class));
  RepositoryInfo dummyRepoInfo=new RepositoryInfo();
  dummyRepoInfo.setRepoName("repo_name");
  expect(clusters.getCluster("c1")).andReturn(cluster).anyTimes();
  expect(cluster.getCurrentStackVersion()).andReturn(stackId);
  expect(service.getName()).andReturn("HDFS").anyTimes();
  Map<String,ServiceComponent> serviceComponents=new HashMap<String,ServiceComponent>();
  serviceComponents.put("NAMENODE",serviceComponent);
  expect(service.getServiceComponents()).andReturn(serviceComponents).anyTimes();
  Map<String,ServiceComponentHost> schMap=new HashMap<String,ServiceComponentHost>();
  schMap.put("host1",serviceComponentHost);
  expect(serviceComponent.getServiceComponentHosts()).andReturn(schMap).anyTimes();
  serviceComponentHost.setRestartRequired(true);
  Set<String> services=new HashSet<String>();
  services.add("HDFS");
  expect(ambariMetaInfo.getRackSensitiveServicesNames(null,null)).andReturn(services);
  Map<String,Service> serviceMap=new HashMap<String,Service>();
  serviceMap.put("HDFS",service);
  expect(cluster.getServices()).andReturn(serviceMap).anyTimes();
  replay(injector,cluster,clusters,ambariMetaInfo,service,serviceComponent,serviceComponentHost,stackId);
  AmbariManagementController controller=new AmbariManagementControllerImpl(null,clusters,injector);
  setAmbariMetaInfo(ambariMetaInfo,controller);
  controller.registerRackChange("c1");
  verify(injector,cluster,clusters,ambariMetaInfo,service,serviceComponent,serviceComponentHost,stackId);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSynchronizeLdapUsersAndGroups() throws Exception {
  Set<String> userSet=new HashSet<String>();
  userSet.add("user1");
  Set<String> groupSet=new HashSet<String>();
  groupSet.add("group1");
  Injector injector=Guice.createInjector(Modules.override(new InMemoryDefaultTestModule()).with(new MockModule()));
  LdapBatchDto ldapBatchDto=createNiceMock(LdapBatchDto.class);
  Capture<LdapBatchDto> ldapBatchDtoCapture=new Capture<LdapBatchDto>();
  expect(ldapDataPopulator.synchronizeAllLdapUsers(capture(ldapBatchDtoCapture))).andReturn(ldapBatchDto);
  expect(ldapDataPopulator.synchronizeAllLdapGroups(capture(ldapBatchDtoCapture))).andReturn(ldapBatchDto);
  expect(ldapDataPopulator.synchronizeExistingLdapUsers(capture(ldapBatchDtoCapture))).andReturn(ldapBatchDto);
  expect(ldapDataPopulator.synchronizeExistingLdapGroups(capture(ldapBatchDtoCapture))).andReturn(ldapBatchDto);
  expect(ldapDataPopulator.synchronizeLdapUsers(eq(userSet),capture(ldapBatchDtoCapture))).andReturn(ldapBatchDto);
  expect(ldapDataPopulator.synchronizeLdapGroups(eq(groupSet),capture(ldapBatchDtoCapture))).andReturn(ldapBatchDto);
  users.processLdapSync(capture(ldapBatchDtoCapture));
  expectLastCall().anyTimes();
  replay(ldapDataPopulator,clusters,actionDBAccessor,ambariMetaInfo,users,ldapBatchDto);
  AmbariManagementControllerImpl controller=injector.getInstance(AmbariManagementControllerImpl.class);
  LdapSyncRequest userRequest=new LdapSyncRequest(LdapSyncSpecEntity.SyncType.ALL);
  LdapSyncRequest groupRequest=new LdapSyncRequest(LdapSyncSpecEntity.SyncType.ALL);
  controller.synchronizeLdapUsersAndGroups(userRequest,groupRequest);
  userRequest=new LdapSyncRequest(LdapSyncSpecEntity.SyncType.EXISTING);
  groupRequest=new LdapSyncRequest(LdapSyncSpecEntity.SyncType.EXISTING);
  controller.synchronizeLdapUsersAndGroups(userRequest,groupRequest);
  userRequest=new LdapSyncRequest(LdapSyncSpecEntity.SyncType.SPECIFIC,userSet);
  groupRequest=new LdapSyncRequest(LdapSyncSpecEntity.SyncType.SPECIFIC,groupSet);
  controller.synchronizeLdapUsersAndGroups(userRequest,groupRequest);
  verify(ldapDataPopulator,clusters,users,ldapBatchDto);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Ensure that when the cluster security type updated from KERBEROS to NONE, KerberosHandler.toggleKerberos
 * IS invoked and identities are managed
 */
@Test public void testUpdateClustersToggleKerberosDisable_ManageIdentities() throws Exception {
  testUpdateClustersToggleKerberosDisable(Boolean.TRUE);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Ensure that when the cluster security type updated from KERBEROS to NONE, KerberosHandler.toggleKerberos
 * IS invoked and identities are not managed
 */
@Test public void testUpdateClustersToggleKerberosDisable_NoManageIdentities() throws Exception {
  testUpdateClustersToggleKerberosDisable(Boolean.FALSE);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.AmbariManagementControllerTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@SuppressWarnings("serial") @Test public void testCreateActionsFailures() throws Exception {
  setupClusterWithHosts("c1","HDP-2.0.7",new ArrayList<String>(){
{
      add("h1");
    }
  }
,"centos5");
  Cluster cluster=clusters.getCluster("c1");
  cluster.setDesiredStackVersion(new StackId("HDP-2.0.7"));
  cluster.setCurrentStackVersion(new StackId("HDP-2.0.7"));
  ConfigFactory cf=injector.getInstance(ConfigFactory.class);
  Config config1=cf.createNew(cluster,"global",new HashMap<String,String>(){
{
      put("key1","value1");
    }
  }
,new HashMap<String,Map<String,String>>());
  config1.setTag("version1");
  Config config2=cf.createNew(cluster,"core-site",new HashMap<String,String>(){
{
      put("key1","value1");
    }
  }
,new HashMap<String,Map<String,String>>());
  config2.setTag("version1");
  config1.persist();
  config2.persist();
  cluster.addConfig(config1);
  cluster.addConfig(config2);
  cluster.addDesiredConfig("_test",Collections.singleton(config1));
  cluster.addDesiredConfig("_test",Collections.singleton(config2));
  Service hdfs=cluster.addService("HDFS");
  hdfs.persist();
  Service hive=cluster.addService("HIVE");
  hive.persist();
  hdfs.addServiceComponent(Role.HDFS_CLIENT.name()).persist();
  hdfs.addServiceComponent(Role.NAMENODE.name()).persist();
  hdfs.addServiceComponent(Role.DATANODE.name()).persist();
  hive.addServiceComponent(Role.HIVE_SERVER.name()).persist();
  hdfs.getServiceComponent(Role.HDFS_CLIENT.name()).addServiceComponentHost("h1").persist();
  hdfs.getServiceComponent(Role.NAMENODE.name()).addServiceComponentHost("h1").persist();
  hdfs.getServiceComponent(Role.DATANODE.name()).addServiceComponentHost("h1").persist();
  Map<String,String> params=new HashMap<String,String>(){
{
      put("test","test");
    }
  }
;
  RequestResourceFilter resourceFilter=new RequestResourceFilter("HDFS",null,null);
  ExecuteActionRequest actionRequest=new ExecuteActionRequest("c1","NON_EXISTENT_CHECK",params,false);
  actionRequest.getResourceFilters().add(resourceFilter);
  Map<String,String> requestProperties=new HashMap<String,String>();
  requestProperties.put(REQUEST_CONTEXT_PROPERTY,"Called from a test");
  expectActionCreationErrorWithMessage(actionRequest,requestProperties,"Unsupported action");
  actionRequest=new ExecuteActionRequest("c1","DECOMMISSION_DATANODE",params,false);
  actionRequest.getResourceFilters().add(resourceFilter);
  expectActionCreationErrorWithMessage(actionRequest,requestProperties,"Unsupported action DECOMMISSION_DATANODE for Service: HDFS and Component: null");
  resourceFilter=new RequestResourceFilter("HDFS","HDFS_CLIENT",null);
  List<RequestResourceFilter> resourceFilters=new ArrayList<RequestResourceFilter>();
  resourceFilters.add(resourceFilter);
  actionRequest=new ExecuteActionRequest("c1","DECOMMISSION",null,resourceFilters,null,params,false);
  expectActionCreationErrorWithMessage(actionRequest,requestProperties,"Unsupported action DECOMMISSION for Service: HDFS and Component: HDFS_CLIENT");
  resourceFilters.clear();
  resourceFilter=new RequestResourceFilter("HDFS",null,null);
  resourceFilters.add(resourceFilter);
  actionRequest=new ExecuteActionRequest("c1",null,"DECOMMISSION_DATANODE",resourceFilters,null,params,false);
  expectActionCreationErrorWithMessage(actionRequest,requestProperties,"Action DECOMMISSION_DATANODE does not exist");
  resourceFilters.clear();
  resourceFilter=new RequestResourceFilter("YARN","RESOURCEMANAGER",null);
  resourceFilters.add(resourceFilter);
  actionRequest=new ExecuteActionRequest("c1","DECOMMISSION",null,resourceFilters,null,params,false);
  expectActionCreationErrorWithMessage(actionRequest,requestProperties,"Service not found, clusterName=c1, serviceName=YARN");
  Map<String,String> params2=new HashMap<String,String>(){
{
      put("included_hosts","h1,h2");
      put("excluded_hosts","h1,h3");
    }
  }
;
  resourceFilters.clear();
  resourceFilter=new RequestResourceFilter("HDFS","NAMENODE",null);
  resourceFilters.add(resourceFilter);
  actionRequest=new ExecuteActionRequest("c1","DECOMMISSION",null,resourceFilters,null,params2,false);
  expectActionCreationErrorWithMessage(actionRequest,requestProperties,"Same host cannot be specified for inclusion as well as exclusion. Hosts: [h1]");
  params2=new HashMap<String,String>(){
{
      put("included_hosts"," h1,h2");
      put("excluded_hosts","h4, h3");
      put("slave_type","HDFS_CLIENT");
    }
  }
;
  resourceFilters.clear();
  resourceFilter=new RequestResourceFilter("HDFS","NAMENODE",null);
  resourceFilters.add(resourceFilter);
  actionRequest=new ExecuteActionRequest("c1","DECOMMISSION",null,resourceFilters,null,params2,false);
  expectActionCreationErrorWithMessage(actionRequest,requestProperties,"Component HDFS_CLIENT is not supported for decommissioning.");
  List<String> hosts=new ArrayList<String>();
  hosts.add("h6");
  resourceFilters.clear();
  resourceFilter=new RequestResourceFilter("HDFS","NAMENODE",hosts);
  resourceFilters.add(resourceFilter);
  actionRequest=new ExecuteActionRequest("c1","DECOMMISSION",null,resourceFilters,null,params2,false);
  expectActionCreationErrorWithMessage(actionRequest,requestProperties,"Decommission command cannot be issued with target host(s) specified.");
  hdfs.getServiceComponent(Role.DATANODE.name()).getServiceComponentHost("h1").setState(State.INSTALLED);
  params2=new HashMap<String,String>(){
{
      put("excluded_hosts","h1 ");
    }
  }
;
  resourceFilters.clear();
  resourceFilter=new RequestResourceFilter("HDFS","NAMENODE",null);
  resourceFilters.add(resourceFilter);
  actionRequest=new ExecuteActionRequest("c1","DECOMMISSION",null,resourceFilters,null,params2,false);
  expectActionCreationErrorWithMessage(actionRequest,requestProperties,"Component DATANODE on host h1 cannot be decommissioned as its not in STARTED state");
  params2=new HashMap<String,String>(){
{
      put("excluded_hosts","h1 ");
      put("mark_draining_only","true");
    }
  }
;
  actionRequest=new ExecuteActionRequest("c1","DECOMMISSION",null,resourceFilters,null,params2,false);
  expectActionCreationErrorWithMessage(actionRequest,requestProperties,"mark_draining_only is not a valid parameter for NAMENODE");
  controller.getAmbariMetaInfo().addActionDefinition(new ActionDefinition("a1",ActionType.SYSTEM,"test,dirName","","","Does file exist",TargetHostType.SPECIFIC,Short.valueOf("100")));
  controller.getAmbariMetaInfo().addActionDefinition(new ActionDefinition("a2",ActionType.SYSTEM,"","HDFS","DATANODE","Does file exist",TargetHostType.ANY,Short.valueOf("100")));
  controller.getAmbariMetaInfo().addActionDefinition(new ActionDefinition("update_repo",ActionType.SYSTEM,"","HDFS","DATANODE","Does file exist",TargetHostType.ANY,Short.valueOf("100")));
  controller.getAmbariMetaInfo().addActionDefinition(new ActionDefinition("a3",ActionType.SYSTEM,"","MAPREDUCE","MAPREDUCE_CLIENT","Does file exist",TargetHostType.ANY,Short.valueOf("100")));
  controller.getAmbariMetaInfo().addActionDefinition(new ActionDefinition("a4",ActionType.SYSTEM,"","HIVE","","Does file exist",TargetHostType.ANY,Short.valueOf("100")));
  actionRequest=new ExecuteActionRequest("c1",null,"a1",null,null,null,false);
  expectActionCreationErrorWithMessage(actionRequest,requestProperties,"Action a1 requires input 'test' that is not provided");
  actionRequest=new ExecuteActionRequest("c1",null,"a1",null,null,params,false);
  expectActionCreationErrorWithMessage(actionRequest,requestProperties,"Action a1 requires input 'dirName' that is not provided");
  params.put("dirName","dirName");
  actionRequest=new ExecuteActionRequest("c1",null,"a1",null,null,params,false);
  expectActionCreationErrorWithMessage(actionRequest,requestProperties,"Action a1 requires explicit target host(s)");
  resourceFilters.clear();
  resourceFilter=new RequestResourceFilter("HIVE",null,null);
  resourceFilters.add(resourceFilter);
  actionRequest=new ExecuteActionRequest("c1",null,"a2",resourceFilters,null,params,false);
  expectActionCreationErrorWithMessage(actionRequest,requestProperties,"Action a2 targets service HIVE that does not match with expected HDFS");
  resourceFilters.clear();
  resourceFilter=new RequestResourceFilter("HDFS","HDFS_CLIENT",null);
  resourceFilters.add(resourceFilter);
  actionRequest=new ExecuteActionRequest("c1",null,"a2",resourceFilters,null,params,false);
  expectActionCreationErrorWithMessage(actionRequest,requestProperties,"Action a2 targets component HDFS_CLIENT that does not match with expected DATANODE");
  resourceFilters.clear();
  resourceFilter=new RequestResourceFilter("HDFS2","HDFS_CLIENT",null);
  resourceFilters.add(resourceFilter);
  actionRequest=new ExecuteActionRequest("c1",null,"a1",resourceFilters,null,params,false);
  expectActionCreationErrorWithMessage(actionRequest,requestProperties,"Action a1 targets service HDFS2 that does not exist");
  resourceFilters.clear();
  resourceFilter=new RequestResourceFilter("HDFS","HDFS_CLIENT2",null);
  resourceFilters.add(resourceFilter);
  actionRequest=new ExecuteActionRequest("c1",null,"a1",resourceFilters,null,params,false);
  expectActionCreationErrorWithMessage(actionRequest,requestProperties,"Action a1 targets component HDFS_CLIENT2 that does not exist");
  resourceFilters.clear();
  resourceFilter=new RequestResourceFilter("","HDFS_CLIENT2",null);
  resourceFilters.add(resourceFilter);
  actionRequest=new ExecuteActionRequest("c1",null,"a1",resourceFilters,null,params,false);
  expectActionCreationErrorWithMessage(actionRequest,requestProperties,"Action a1 targets component HDFS_CLIENT2 without specifying the target service");
  resourceFilters.clear();
  resourceFilter=new RequestResourceFilter("","",null);
  resourceFilters.add(resourceFilter);
  actionRequest=new ExecuteActionRequest("c1",null,"a3",resourceFilters,null,params,false);
  expectActionCreationErrorWithMessage(actionRequest,requestProperties,"Action a3 targets service MAPREDUCE that does not exist");
  hosts=new ArrayList<String>();
  hosts.add("h6");
  resourceFilters.clear();
  resourceFilter=new RequestResourceFilter("","",hosts);
  resourceFilters.add(resourceFilter);
  actionRequest=new ExecuteActionRequest("c1",null,"a2",resourceFilters,null,params,false);
  expectActionCreationErrorWithMessage(actionRequest,requestProperties,"Request specifies host h6 but its not a valid host based on the target service=HDFS and component=DATANODE");
  hosts.clear();
  hosts.add("h1");
  resourceFilters.clear();
  resourceFilter=new RequestResourceFilter("","",hosts);
  resourceFilters.add(resourceFilter);
  params.put("success_factor","1r");
  actionRequest=new ExecuteActionRequest("c1",null,"update_repo",resourceFilters,null,params,false);
  expectActionCreationErrorWithMessage(actionRequest,requestProperties,"Failed to cast success_factor value to float!");
  resourceFilters.clear();
  resourceFilter=new RequestResourceFilter("HIVE","",null);
  resourceFilters.add(resourceFilter);
  actionRequest=new ExecuteActionRequest("c1",null,"a4",resourceFilters,null,params,false);
  expectActionCreationErrorWithMessage(actionRequest,requestProperties,"Suitable hosts not found, component=, service=HIVE, cluster=c1, actionName=a4");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testServiceUpdateRecursiveBadHostComponent() throws Exception {
  String clusterName="foo1";
  createCluster(clusterName);
  clusters.getCluster(clusterName).setDesiredStackVersion(new StackId("HDP-0.2"));
  String serviceName1="HDFS";
  createService(clusterName,serviceName1,null);
  String componentName1="NAMENODE";
  String componentName2="DATANODE";
  String componentName3="HDFS_CLIENT";
  createServiceComponent(clusterName,serviceName1,componentName1,State.INIT);
  createServiceComponent(clusterName,serviceName1,componentName2,State.INIT);
  createServiceComponent(clusterName,serviceName1,componentName3,State.INIT);
  String host1="h1";
  addHostToCluster(host1,clusterName);
  Set<ServiceComponentHostRequest> set1=new HashSet<ServiceComponentHostRequest>();
  ServiceComponentHostRequest r1=new ServiceComponentHostRequest(clusterName,serviceName1,componentName1,host1,State.INIT.toString());
  ServiceComponentHostRequest r2=new ServiceComponentHostRequest(clusterName,serviceName1,componentName2,host1,State.INIT.toString());
  ServiceComponentHostRequest r3=new ServiceComponentHostRequest(clusterName,serviceName1,componentName3,host1,State.INIT.toString());
  set1.add(r1);
  set1.add(r2);
  set1.add(r3);
  controller.createHostComponents(set1);
  Cluster c1=clusters.getCluster(clusterName);
  Service s1=c1.getService(serviceName1);
  ServiceComponent sc1=s1.getServiceComponent(componentName1);
  ServiceComponent sc2=s1.getServiceComponent(componentName2);
  ServiceComponent sc3=s1.getServiceComponent(componentName3);
  ServiceComponentHost sch1=sc1.getServiceComponentHost(host1);
  ServiceComponentHost sch2=sc2.getServiceComponentHost(host1);
  ServiceComponentHost sch3=sc3.getServiceComponentHost(host1);
  s1.setDesiredState(State.INSTALLED);
  sc1.setDesiredState(State.STARTED);
  sc2.setDesiredState(State.INIT);
  sc3.setDesiredState(State.INSTALLED);
  sch1.setDesiredState(State.INSTALLED);
  sch2.setDesiredState(State.INSTALLED);
  sch3.setDesiredState(State.INSTALLED);
  sch1.setState(State.INSTALLED);
  sch2.setState(State.UNKNOWN);
  sch3.setState(State.INSTALLED);
  ServiceRequest req=new ServiceRequest(clusterName,serviceName1,State.INSTALLED.toString());
  ServiceResourceProviderTest.updateServices(controller,Collections.singleton(req),Collections.<String,String>emptyMap(),true,false);
}

</code></pre>

<br>
<pre class="type-14 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Is not executed with the test suite
- Executes methods or other tests from the same test unit
"></span><br>
@Ignore @Test public void testUpdateClusterVersionCombinations() throws AmbariException, AuthorizationException {
  String clusterName="foo1";
  String pigServiceName="PIG";
  String mrServiceName="MAPREDUCE";
  String host1="h1";
  String host2="h2";
  String pigComponentName="PIG";
  String mrJobTrackerComp="JOBTRACKER";
  String mrTaskTrackerComp="TASKTRACKER";
  String mrClientComp="MAPREDUCE_CLIENT";
  String hdfsService="HDFS";
  String hdfsNameNode="NAMENODE";
  String hdfsDataNode="DATANODE";
  String hdfsClient="HDFS_CLIENT";
  StackId currentStackId=new StackId("HDP-0.1");
  StackId desiredStackId=new StackId("HDP-0.2");
  List<String> hosts=new ArrayList<String>();
  hosts.add(host1);
  hosts.add(host2);
  Map<String,String> mapRequestProps=new HashMap<String,String>();
  mapRequestProps.put("context","Called from a test");
  createCluster(clusterName);
  Cluster c=clusters.getCluster(clusterName);
  c.setDesiredStackVersion(currentStackId);
  createService(clusterName,pigServiceName,State.INIT);
  createServiceComponent(clusterName,pigServiceName,pigComponentName,null);
  addHostToCluster(host1,clusterName);
  addHostToCluster(host2,clusterName);
  createServiceComponentHost(clusterName,null,pigComponentName,host1,null);
  createServiceComponentHost(clusterName,null,pigComponentName,host2,null);
  resetServiceState(pigServiceName,currentStackId,c);
  ClusterRequest r=new ClusterRequest(c.getClusterId(),clusterName,"HDP-0.2",null);
  RequestStatusResponse trackAction=controller.updateClusters(Collections.singleton(r),mapRequestProps);
  List<Stage> stages=actionDB.getAllStages(trackAction.getRequestId());
  ExpectedUpgradeTasks expectedTasks=new ExpectedUpgradeTasks(hosts);
  expectedTasks.expectTask(Role.PIG,host1);
  expectedTasks.expectTask(Role.PIG,host2);
  expectedTasks.expectTask(Role.AMBARI_SERVER_ACTION);
  validateGeneratedStages(stages,2,expectedTasks);
  resetCluster(c,currentStackId);
  createService(clusterName,mrServiceName,State.INIT);
  createServiceComponent(clusterName,mrServiceName,mrJobTrackerComp,null);
  createServiceComponent(clusterName,mrServiceName,mrTaskTrackerComp,null);
  createServiceComponent(clusterName,mrServiceName,mrClientComp,null);
  createServiceComponentHost(clusterName,null,mrJobTrackerComp,host1,null);
  createServiceComponentHost(clusterName,null,mrTaskTrackerComp,host2,null);
  createServiceComponentHost(clusterName,null,mrClientComp,host2,null);
  resetServiceState(mrServiceName,currentStackId,c);
  actionDB.abortOperation(trackAction.getRequestId());
  r=new ClusterRequest(c.getClusterId(),clusterName,"HDP-0.2",null);
  trackAction=controller.updateClusters(Collections.singleton(r),mapRequestProps);
  stages=actionDB.getAllStages(trackAction.getRequestId());
  expectedTasks.expectTask(Role.JOBTRACKER,host1);
  expectedTasks.expectTask(Role.TASKTRACKER,host2);
  expectedTasks.expectTask(Role.MAPREDUCE_CLIENT,host2);
  validateGeneratedStages(stages,5,expectedTasks);
  actionDB.abortOperation(trackAction.getRequestId());
  trackAction=controller.updateClusters(Collections.singleton(r),mapRequestProps);
  stages=actionDB.getAllStages(trackAction.getRequestId());
  validateGeneratedStages(stages,5,expectedTasks);
  c.getService(pigServiceName).getServiceComponent(pigComponentName).getServiceComponentHost(host1).setState(State.INSTALLED);
  c.getService(pigServiceName).getServiceComponent(pigComponentName).getServiceComponentHost(host2).setState(State.INSTALLED);
  c.getService(pigServiceName).getServiceComponent(pigComponentName).getServiceComponentHost(host1).setStackVersion(desiredStackId);
  c.getService(pigServiceName).getServiceComponent(pigComponentName).getServiceComponentHost(host2).setStackVersion(desiredStackId);
  actionDB.abortOperation(trackAction.getRequestId());
  trackAction=controller.updateClusters(Collections.singleton(r),mapRequestProps);
  stages=actionDB.getAllStages(trackAction.getRequestId());
  validateGeneratedStages(stages,5,expectedTasks);
  c.getService(mrServiceName).getServiceComponent(mrJobTrackerComp).getServiceComponentHost(host1).setState(State.UPGRADING);
  c.getService(mrServiceName).getServiceComponent(mrTaskTrackerComp).getServiceComponentHost(host2).setState(State.UPGRADING);
  actionDB.abortOperation(trackAction.getRequestId());
  trackAction=controller.updateClusters(Collections.singleton(r),mapRequestProps);
  stages=actionDB.getAllStages(trackAction.getRequestId());
  validateGeneratedStages(stages,5,expectedTasks);
  createService(clusterName,hdfsService,State.INIT);
  createServiceComponent(clusterName,hdfsService,hdfsNameNode,null);
  createServiceComponent(clusterName,hdfsService,hdfsDataNode,null);
  createServiceComponent(clusterName,hdfsService,hdfsClient,null);
  createServiceComponentHost(clusterName,null,hdfsNameNode,host1,null);
  createServiceComponentHost(clusterName,null,hdfsDataNode,host1,null);
  createServiceComponentHost(clusterName,null,hdfsDataNode,host2,null);
  createServiceComponentHost(clusterName,null,hdfsClient,host2,null);
  resetServiceState(hdfsService,currentStackId,c);
  resetServiceState(mrServiceName,currentStackId,c);
  resetServiceState(pigServiceName,currentStackId,c);
  actionDB.abortOperation(trackAction.getRequestId());
  trackAction=controller.updateClusters(Collections.singleton(r),mapRequestProps);
  stages=actionDB.getAllStages(trackAction.getRequestId());
  expectedTasks.resetAll();
  expectedTasks.expectTask(Role.PIG,host1);
  expectedTasks.expectTask(Role.PIG,host2);
  expectedTasks.expectTask(Role.JOBTRACKER,host1);
  expectedTasks.expectTask(Role.TASKTRACKER,host2);
  expectedTasks.expectTask(Role.MAPREDUCE_CLIENT,host2);
  expectedTasks.expectTask(Role.DATANODE,host1);
  expectedTasks.expectTask(Role.DATANODE,host2);
  expectedTasks.expectTask(Role.NAMENODE,host1);
  expectedTasks.expectTask(Role.HDFS_CLIENT,host2);
  expectedTasks.expectTask(Role.AMBARI_SERVER_ACTION);
  validateGeneratedStages(stages,8,expectedTasks);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@SuppressWarnings("serial") @Test public void testUpdateUsers() throws Exception {
  createUser("user1");
  UserRequest request=new UserRequest("user1");
  controller.updateUsers(Collections.singleton(request));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.AmbariServerTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testConfigureCompression() throws Exception {
  final ServletContextHandler handler=EasyMock.createNiceMock(ServletContextHandler.class);
  final FilterHolder filter=EasyMock.createNiceMock(FilterHolder.class);
  EasyMock.expect(handler.addFilter(GzipFilter.class,"/*",EnumSet.of(DispatcherType.REQUEST))).andReturn(filter).once();
  filter.setInitParameter(anyObject(String.class),anyObject(String.class));
  EasyMock.expectLastCall().times(3);
  replay(handler,filter);
  injector.getInstance(AmbariServer.class).configureHandlerCompression(handler);
  EasyMock.verify(handler);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testConfigureSessionManager() throws Exception {
  AmbariServer ambariServer=new AmbariServer();
  Configuration configuration=createNiceMock(Configuration.class);
  SessionManager sessionManager=createNiceMock(SessionManager.class);
  SessionCookieConfig sessionCookieConfig=createNiceMock(SessionCookieConfig.class);
  ambariServer.configs=configuration;
  expect(sessionManager.getSessionCookieConfig()).andReturn(sessionCookieConfig).anyTimes();
  expect(configuration.getApiSSLAuthentication()).andReturn(false);
  sessionCookieConfig.setHttpOnly(true);
  expect(configuration.getApiSSLAuthentication()).andReturn(true);
  sessionCookieConfig.setHttpOnly(true);
  sessionCookieConfig.setSecure(true);
  replay(configuration,sessionManager,sessionCookieConfig);
  ambariServer.configureSessionManager(sessionManager);
  ambariServer.configureSessionManager(sessionManager);
  verify(configuration,sessionManager,sessionCookieConfig);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testConfigureRootHandler() throws Exception {
  final ServletContextHandler handler=EasyMock.createNiceMock(ServletContextHandler.class);
  final FilterHolder filter=EasyMock.createNiceMock(FilterHolder.class);
  handler.setMaxFormContentSize(-1);
  EasyMock.expectLastCall().once();
  EasyMock.expect(handler.addFilter(GzipFilter.class,"/*",EnumSet.of(DispatcherType.REQUEST))).andReturn(filter).once();
  replay(handler,filter);
  injector.getInstance(AmbariServer.class).configureRootHandler(handler);
  EasyMock.verify(handler);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.AmbariSessionManagerTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSetAttribute() throws Exception {
  HttpSession session=createNiceMock(HttpSession.class);
  AmbariSessionManager sessionManager=createMockBuilder(AmbariSessionManager.class).addMockedMethod("getHttpSession").createMock();
  expect(sessionManager.getHttpSession()).andReturn(session);
  session.setAttribute("foo","bar");
  replay(session,sessionManager);
  sessionManager.setAttribute("foo","bar");
  verify(session,sessionManager);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRemoveAttribute() throws Exception {
  HttpSession session=createNiceMock(HttpSession.class);
  AmbariSessionManager sessionManager=createMockBuilder(AmbariSessionManager.class).addMockedMethod("getHttpSession").createMock();
  expect(sessionManager.getHttpSession()).andReturn(session);
  session.removeAttribute("foo");
  replay(session,sessionManager);
  sessionManager.removeAttribute("foo");
  verify(session,sessionManager);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.AuthToLocalBuilderTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testAddNewRuleWithNoRealm(){
  AuthToLocalBuilder builder=new AuthToLocalBuilder();
  builder.addRule("someUser","hdfs");
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testAddNewRuleWithNoRealm2(){
  AuthToLocalBuilder builder=new AuthToLocalBuilder();
  builder.addRule("someUser/someHost","hdfs");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.ClusterRequestTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testToString(){
  ClusterRequest r1=new ClusterRequest(null,null,null,null,null,null);
  r1.toString();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.ClusterResponseTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testToString(){
  ClusterResponse r=new ClusterResponse(null,null,null,null,null,null,null,null);
  r.toString();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.KerberosHelperTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateTestIdentity_ManageIdentitiesTrue() throws Exception {
  testCreateTestIdentity(new PrincipalKeyCredential("principal","password"),Boolean.TRUE);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateTestIdentityNoCredentials_ManageIdentitiesFalse() throws Exception {
  testCreateTestIdentity(null,Boolean.FALSE);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=KerberosInvalidConfigurationException.class) public void testEnableKerberos_ManageIdentitiesTrueKdcNull() throws Exception {
  testEnableKerberos(new PrincipalKeyCredential("principal","password"),null,"true",true,false);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateTestIdentity_ManageIdentitiesFalse() throws Exception {
  testCreateTestIdentity(new PrincipalKeyCredential("principal","password"),Boolean.FALSE);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetActiveIdentities_SecurityTypeNone_All() throws Exception {
  testGetActiveIdentities_All(SecurityType.NONE);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRegenerateKeytabsValidateSkipInvalidHost() throws Exception {
  testRegenerateKeytabs(new PrincipalKeyCredential("principal","password"),true,true);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=KerberosMissingAdminCredentialsException.class) public void testCreateTestIdentityNoCredentials_ManageIdentitiesDefault() throws Exception {
  testCreateTestIdentity(null,null);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEnableKerberos_UpgradeFromAmbari170KerberizedCluster() throws Exception {
  testEnableKerberos_UpgradeFromAmbari170KerberizedCluster(new PrincipalKeyCredential("principal","password"),"mit-kdc","true",true,false);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEnsureIdentities() throws Exception {
  testEnsureIdentities(new PrincipalKeyCredential("principal","password"),null);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRegenerateKeytabsValidateRequestStageContainer() throws Exception {
  testRegenerateKeytabs(new PrincipalKeyCredential("principal","password"),true,false);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AmbariException.class) public void testEnableKerberos_ManageIdentitiesTrueKdcNone() throws Exception {
  testEnableKerberos(new PrincipalKeyCredential("principal","password"),"none","true",true,false);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AmbariException.class) public void testMissingKerberosEnvConf() throws Exception {
  KerberosHelper kerberosHelper=injector.getInstance(KerberosHelper.class);
  final Map<String,String> kerberosEnvProperties=createMock(Map.class);
  expect(kerberosEnvProperties.get("realm")).andReturn("EXAMPLE.COM").once();
  expect(kerberosEnvProperties.get("kdc_host")).andReturn("10.0.100.1").once();
  final Map<String,String> krb5ConfProperties=createMock(Map.class);
  expect(krb5ConfProperties.get("kadmin_host")).andReturn("10.0.100.1").once();
  final Config krb5ConfConfig=createMock(Config.class);
  expect(krb5ConfConfig.getProperties()).andReturn(krb5ConfProperties).once();
  final Cluster cluster=createNiceMock(Cluster.class);
  expect(cluster.getDesiredConfigByType("krb5-conf")).andReturn(krb5ConfConfig).once();
  replayAll();
  kerberosHelper.toggleKerberos(cluster,SecurityType.KERBEROS,null,true);
  verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEnableKerberos() throws Exception {
  testEnableKerberos(new PrincipalKeyCredential("principal","password"),"mit-kdc","true",true,false);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEnableKerberos_GetKerberosDescriptorFromStack() throws Exception {
  testEnableKerberos(new PrincipalKeyCredential("principal","password"),"mit-kdc","true",false,true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDisableKerberos() throws Exception {
  testDisableKerberos(new PrincipalKeyCredential("principal","password"),false,true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteTestIdentity() throws Exception {
  testDeleteTestIdentity(new PrincipalKeyCredential("principal","password"));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEnableKerberos_GetKerberosDescriptorFromCluster() throws Exception {
  testEnableKerberos(new PrincipalKeyCredential("principal","password"),"mit-kdc","true",true,false);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateTestIdentity_ManageIdentitiesDefault() throws Exception {
  testCreateTestIdentity(new PrincipalKeyCredential("principal","password"),null);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=KerberosMissingAdminCredentialsException.class) public void testCreateTestIdentityNoCredentials_ManageIdentitiesTrue() throws Exception {
  testCreateTestIdentity(null,Boolean.TRUE);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetActiveIdentities_SecurityTypeKerberos_All() throws Exception {
  testGetActiveIdentities_All(SecurityType.KERBEROS);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AmbariException.class) public void testMissingKrb5Conf() throws Exception {
  KerberosHelper kerberosHelper=injector.getInstance(KerberosHelper.class);
  final Map<String,String> kerberosEnvProperties=createMock(Map.class);
  expect(kerberosEnvProperties.get("ldap_url")).andReturn("").once();
  expect(kerberosEnvProperties.get("container_dn")).andReturn("").once();
  final Config kerberosEnvConfig=createMock(Config.class);
  expect(kerberosEnvConfig.getProperties()).andReturn(kerberosEnvProperties).once();
  final Cluster cluster=createNiceMock(Cluster.class);
  expect(cluster.getDesiredConfigByType("kerberos-env")).andReturn(kerberosEnvConfig).once();
  replayAll();
  kerberosHelper.toggleKerberos(cluster,SecurityType.KERBEROS,null,true);
  verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEnableKerberos_ManageIdentitiesFalseKdcNone() throws Exception {
  testEnableKerberos(new PrincipalKeyCredential("principal","password"),"none","false",true,false);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRegenerateKeytabs() throws Exception {
  testRegenerateKeytabs(new PrincipalKeyCredential("principal","password"),false,false);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEnsureIdentities_FilteredHosts() throws Exception {
  testEnsureIdentities(new PrincipalKeyCredential("principal","password"),Collections.singleton("hostA"));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteIdentities() throws Exception {
  testDeleteIdentities(new PrincipalKeyCredential("principal","password"));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AmbariException.class) public void testMissingClusterEnv() throws Exception {
  KerberosHelper kerberosHelper=injector.getInstance(KerberosHelper.class);
  Cluster cluster=createNiceMock(Cluster.class);
  RequestStageContainer requestStageContainer=createNiceMock(RequestStageContainer.class);
  replayAll();
  kerberosHelper.toggleKerberos(cluster,SecurityType.KERBEROS,requestStageContainer,true);
  verifyAll();
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testGetActiveIdentities_MissingCluster() throws Exception {
  testGetActiveIdentities(null,null,null,null,true,SecurityType.KERBEROS);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.MaintenanceStateHelperTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testisOperationAllowed() throws Exception {
  Injector injector=createStrictMock(Injector.class);
  Cluster cluster=createMock(Cluster.class);
  Method isOperationAllowed=MaintenanceStateHelper.class.getDeclaredMethod("isOperationAllowed",new Class[]{Cluster.class,Type.class,String.class,String.class,String.class});
  MaintenanceStateHelper maintenanceStateHelper=createMockBuilder(MaintenanceStateHelper.class).withConstructor(injector).addMockedMethod(isOperationAllowed).createNiceMock();
  RequestResourceFilter filter=createMock(RequestResourceFilter.class);
  RequestOperationLevel level=createMock(RequestOperationLevel.class);
  expect(level.getLevel()).andReturn(Type.Cluster);
  expect(maintenanceStateHelper.isOperationAllowed(anyObject(Cluster.class),anyObject(Type.class),anyObject(String.class),anyObject(String.class),anyObject(String.class))).andStubReturn(true);
  replay(cluster,maintenanceStateHelper,level);
  maintenanceStateHelper.isOperationAllowed(cluster,level,filter,"service","component","hostname");
  verify(maintenanceStateHelper,level);
  maintenanceStateHelper=createMockBuilder(MaintenanceStateHelper.class).withConstructor(injector).addMockedMethod(isOperationAllowed).addMockedMethod("guessOperationLevel").createNiceMock();
  expect(maintenanceStateHelper.guessOperationLevel(anyObject(RequestResourceFilter.class))).andReturn(Type.Cluster);
  expect(maintenanceStateHelper.isOperationAllowed(anyObject(Cluster.class),anyObject(Type.class),anyObject(String.class),anyObject(String.class),anyObject(String.class))).andStubReturn(true);
  replay(maintenanceStateHelper);
  maintenanceStateHelper.isOperationAllowed(cluster,null,filter,"service","component","hostname");
  verify(maintenanceStateHelper);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.ActiveWidgetLayoutResourceProviderTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testGetResources_NonAdministrator_Other() throws Exception {
  getResourcesTest(TestAuthenticationFactory.createClusterAdministrator("User1",2L),"User10");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResources_NonAdministrator_Self() throws Exception {
  updateResourcesTest(TestAuthenticationFactory.createClusterAdministrator("User1",2L),"User1");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResources_Administrator() throws Exception {
  updateResourcesTest(TestAuthenticationFactory.createAdministrator("admin"),"User1");
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=SystemException.class) public void testDeleteResources_NonAdministrator_Self() throws Exception {
  deleteResourcesTest(TestAuthenticationFactory.createClusterAdministrator("User1",2L),"User1");
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=SystemException.class) public void testCreateResources_Administrator() throws Exception {
  createResourcesTest(TestAuthenticationFactory.createAdministrator("admin"),"User1");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResources_NonAdministrator_Self() throws Exception {
  getResourcesTest(TestAuthenticationFactory.createClusterAdministrator("User1",2L),"User1");
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=SystemException.class) public void testCreateResources_NonAdministrator_Other() throws Exception {
  createResourcesTest(TestAuthenticationFactory.createClusterAdministrator("User1",2L),"User10");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResources_Administrator() throws Exception {
  getResourcesTest(TestAuthenticationFactory.createAdministrator("admin"),"User1");
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=SystemException.class) public void testCreateResources_NonAdministrator_Self() throws Exception {
  createResourcesTest(TestAuthenticationFactory.createClusterAdministrator("User1",2L),"User1");
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=SystemException.class) public void testDeleteResources_Administrator() throws Exception {
  deleteResourcesTest(TestAuthenticationFactory.createAdministrator("admin"),"User1");
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResources_NonAdministrator_Other() throws Exception {
  updateResourcesTest(TestAuthenticationFactory.createClusterAdministrator("User1",2L),"User10");
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=SystemException.class) public void testDeleteResources_NonAdministrator_Other() throws Exception {
  deleteResourcesTest(TestAuthenticationFactory.createClusterAdministrator("User1",2L),"User10");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.AlertDefinitionResourceProviderTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testDeleteResourcesAsViewUser() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetSingleResourceAsClusterUser() throws Exception {
  testGetSingleResource(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourcesAsViewUser() throws Exception {
  testCreateResources(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResourcesAsServiceAdministrator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteResourcesAsAdministrator() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetSingleResourceAsAdministrator() throws Exception {
  testGetSingleResource(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResourcesAsAdministrator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetSingleResourceAsServiceAdministrator() throws Exception {
  testGetSingleResource(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testDeleteResourcesAsServiceAdministrator() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResourcesAsAdministrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResourcesAsViewUser() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesClusterPredicateAsClusterAdministrator() throws Exception {
  testGetResourcesClusterPredicate(TestAuthenticationFactory.createClusterAdministrator(),true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetSingleResourceAsClusterAdministrator() throws Exception {
  testGetSingleResource(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourcesAsServiceAdministrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourcesAsClusterUser() throws Exception {
  testCreateResources(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesAssertSourceTypeAsAdministrator() throws Exception {
  testGetResourcesAssertSourceType(TestAuthenticationFactory.createAdministrator(),true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesClusterPredicateAsAdministrator() throws Exception {
  testGetResourcesClusterPredicate(TestAuthenticationFactory.createAdministrator(),true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesClusterPredicateAsServiceAdministrator() throws Exception {
  testGetResourcesClusterPredicate(TestAuthenticationFactory.createServiceAdministrator(),true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesAssertSourceTypeAsViewUser() throws Exception {
  testGetResourcesAssertSourceType(TestAuthenticationFactory.createViewUser(99L),false);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testGetSingleResourceAsViewUser() throws Exception {
  testGetSingleResource(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesAssertSourceTypeAsClusterAdministrator() throws Exception {
  testGetResourcesAssertSourceType(TestAuthenticationFactory.createClusterAdministrator(),true);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testDeleteResourcesAsClusterAdministrator() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesClusterPredicateAsClusterUser() throws Exception {
  testGetResourcesClusterPredicate(TestAuthenticationFactory.createClusterUser(),true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesAssertSourceTypeAsClusterUser() throws Exception {
  testGetResourcesAssertSourceType(TestAuthenticationFactory.createClusterUser(),true);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourcesAsClusterAdministrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesClusterPredicateAsViewUser() throws Exception {
  testGetResourcesClusterPredicate(TestAuthenticationFactory.createViewUser(99L),false);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResourcesAsClusterAdministrator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testDeleteResourcesAsClusterUser() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesAssertSourceTypeAsServiceAdministrator() throws Exception {
  testGetResourcesAssertSourceType(TestAuthenticationFactory.createServiceAdministrator(),true);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResourcesAsClusterUser() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.AlertGroupResourceProviderTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResourcesAsClusterUser() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesNoPredicateAsViewUser() throws Exception {
  testGetResourcesNoPredicate(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteResourcesAsAdministrator() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateDefaultGroupAsViewUser() throws Exception {
  testUpdateDefaultGroup(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetSingleResourceAsAdministrator() throws Exception {
  testGetSingleResource(TestAuthenticationFactory.createAdministrator(),true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResourcesAsAdministrator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteResourcesAsClusterAdministrator() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetSingleResourceAsClusterUser() throws Exception {
  testGetSingleResource(TestAuthenticationFactory.createClusterUser(),true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResourcesAsClusterAdministrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesNoPredicateAsServiceAdministrator() throws Exception {
  testGetResourcesNoPredicate(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesAllPropertiesAsAdministrator() throws Exception {
  testGetResourcesAllProperties(TestAuthenticationFactory.createAdministrator(),true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesAllPropertiesAsClusterAdministrator() throws Exception {
  testGetResourcesAllProperties(TestAuthenticationFactory.createClusterAdministrator(),true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesClusterPredicateAsAdministrator() throws Exception {
  testGetResourcesClusterPredicate(TestAuthenticationFactory.createAdministrator(),true);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateDefaultGroupAsClusterUser() throws Exception {
  testUpdateDefaultGroup(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testDeleteDefaultGroupAsClusterAdministrator() throws Exception {
  testDeleteDefaultGroup(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateDefaultGroupAsAdministrator() throws Exception {
  testUpdateDefaultGroup(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesAllPropertiesAsClusterUser() throws Exception {
  testGetResourcesAllProperties(TestAuthenticationFactory.createClusterUser(),true);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testDeleteDefaultGroupAsServiceAdministrator() throws Exception {
  testDeleteDefaultGroup(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetSingleResourceAsServiceAdministrator() throws Exception {
  testGetSingleResource(TestAuthenticationFactory.createServiceAdministrator(),true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesClusterPredicateAsClusterAdministrator() throws Exception {
  testGetResourcesClusterPredicate(TestAuthenticationFactory.createClusterAdministrator(),true);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResourcesAsServiceAdministrator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetSingleResourceAsClusterAdministrator() throws Exception {
  testGetSingleResource(TestAuthenticationFactory.createClusterAdministrator(),true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesAllPropertiesAsViewUser() throws Exception {
  testGetResourcesAllProperties(TestAuthenticationFactory.createViewUser(99L),false);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateDefaultGroupAsServiceAdministrator() throws Exception {
  testUpdateDefaultGroup(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testDeleteDefaultGroupAsViewUser() throws Exception {
  testDeleteDefaultGroup(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResourcesAsClusterAdministrator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesClusterPredicateAsServiceAdministrator() throws Exception {
  testGetResourcesClusterPredicate(TestAuthenticationFactory.createServiceAdministrator(),true);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testDeleteResourcesAsClusterUser() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testGetSingleResourceAsViewUser() throws Exception {
  testGetSingleResource(TestAuthenticationFactory.createViewUser(99L),false);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesNoPredicateAsClusterUser() throws Exception {
  testGetResourcesNoPredicate(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourcesAsClusterUser() throws Exception {
  testCreateResources(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesAllPropertiesAsServiceAdministrator() throws Exception {
  testGetResourcesAllProperties(TestAuthenticationFactory.createServiceAdministrator(),true);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResourcesAsViewUser() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResourcesAsAdministrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateDefaultGroupAsClusterAdministrator() throws Exception {
  testUpdateDefaultGroup(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteDefaultGroupAsAdministrator() throws Exception {
  testDeleteDefaultGroup(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesClusterPredicateAsViewUser() throws Exception {
  testGetResourcesClusterPredicate(TestAuthenticationFactory.createViewUser(99L),false);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesNoPredicateAsClusterAdministrator() throws Exception {
  testGetResourcesNoPredicate(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testDeleteDefaultGroupAsClusterUser() throws Exception {
  testDeleteDefaultGroup(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testDeleteResourcesAsServiceAdministrator() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourcesAsViewUser() throws Exception {
  testCreateResources(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testDeleteResourcesAsViewUser() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourcesAsServiceAdministrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesClusterPredicateAsClusterUser() throws Exception {
  testGetResourcesClusterPredicate(TestAuthenticationFactory.createClusterUser(),true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesNoPredicateAsAdministrator() throws Exception {
  testGetResourcesNoPredicate(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.AlertHistoryResourceProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesClusterPredicateAsClusterUser() throws Exception {
  testGetResourcesClusterPredicate(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesNoPredicateAsClusterUser() throws Exception {
  testGetResourcesNoPredicate(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testGetResourcesClusterPredicateAsViewUser() throws Exception {
  testGetResourcesClusterPredicate(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testGetSingleResourceAsViewUser() throws Exception {
  testGetSingleResource(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetSingleResourceAsAdministrator() throws Exception {
  testGetSingleResource(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesNoPredicateAsViewUser() throws Exception {
  testGetResourcesNoPredicate(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetSingleResourceAsClusterUser() throws Exception {
  testGetSingleResource(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesNoPredicateAsServiceAdministrator() throws Exception {
  testGetResourcesNoPredicate(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetSingleResourceAsClusterAdministrator() throws Exception {
  testGetSingleResource(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesClusterPredicateAsClusterAdministrator() throws Exception {
  testGetResourcesClusterPredicate(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetSingleResourceAsServiceAdministrator() throws Exception {
  testGetSingleResource(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesClusterPredicateAsAdministrator() throws Exception {
  testGetResourcesClusterPredicate(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesNoPredicateAsClusterAdministrator() throws Exception {
  testGetResourcesNoPredicate(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesNoPredicateAsAdministrator() throws Exception {
  testGetResourcesNoPredicate(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesClusterPredicateAsServiceAdministrator() throws Exception {
  testGetResourcesClusterPredicate(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.AlertNoticeResourceProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesNoPredicateAsViewUser() throws Exception {
  testGetResourcesNoPredicate(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesNoPredicateAsClusterAdministrator() throws Exception {
  testGetResourcesNoPredicate(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesNoPredicateAsClusterUser() throws Exception {
  testGetResourcesNoPredicate(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesNoPredicateAsServiceAdministrator() throws Exception {
  testGetResourcesNoPredicate(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetSingleResourceAsServiceAdministrator() throws Exception {
  testGetSingleResource(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesNoPredicateAsAdministrator() throws Exception {
  testGetResourcesNoPredicate(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesClusterPredicateAsClusterUser() throws Exception {
  testGetResourcesClusterPredicate(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testGetResourcesClusterPredicateAsViewUser() throws Exception {
  testGetResourcesClusterPredicate(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testGetSingleResourceAsViewUser() throws Exception {
  testGetSingleResource(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesClusterPredicateAsClusterAdministrator() throws Exception {
  testGetResourcesClusterPredicate(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetSingleResourceAsClusterAdministrator() throws Exception {
  testGetSingleResource(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetSingleResourceAsAdministrator() throws Exception {
  testGetSingleResource(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetSingleResourceAsClusterUser() throws Exception {
  testGetSingleResource(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesClusterPredicateAsServiceAdministrator() throws Exception {
  testGetResourcesClusterPredicate(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesClusterPredicateAsAdministrator() throws Exception {
  testGetResourcesClusterPredicate(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.AlertResourceProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetClusterAsClusterUser() throws Exception {
  testGetCluster(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetHostAsClusterAdministrator() throws Exception {
  testGetHost(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetClusterGroupedSummaryAsClusterUser() throws Exception {
  testGetClusterGroupedSummary(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testGetClusterAsViewOnlyUser() throws Exception {
  testGetCluster(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetClusterSummaryAsAdministrator() throws Exception {
  testGetClusterSummary(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Test for service
 */
@Test public void testGetServiceAsAdministrator() throws Exception {
  testGetService(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testGetClusterGroupedSummaryAsViewOnlyUser() throws Exception {
  testGetClusterGroupedSummary(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetHostAsClusterUser() throws Exception {
  testGetHost(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetClusterAsClusterAdministrator() throws Exception {
  testGetCluster(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testGetClusterSummaryAsViewOnlyUser() throws Exception {
  testGetClusterSummary(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testGetClusterGroupedSummaryMaintenanceCountsAsViewOnlyUser() throws Exception {
  testGetClusterGroupedSummaryMaintenanceCounts(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetServiceAsClusterAdministrator() throws Exception {
  testGetService(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testGetServiceAsViewOnlyUser() throws Exception {
  testGetService(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetClusterGroupedSummaryMaintenanceCountsAsClusterAdministrator() throws Exception {
  testGetClusterGroupedSummaryMaintenanceCounts(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Test for service
 */
@Test public void testGetHostAsAdministrator() throws Exception {
  testGetHost(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetClusterGroupedSummaryMaintenanceCountsAsClusterUser() throws Exception {
  testGetClusterGroupedSummaryMaintenanceCounts(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetClusterSummaryAsClusterAdministrator() throws Exception {
  testGetClusterSummary(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * @throws Exception
 */
@Test public void testGetClusterAsAdministrator() throws Exception {
  testGetCluster(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testGetHostAsViewOnlyUser() throws Exception {
  testGetHost(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetClusterGroupedSummaryAsAdministrator() throws Exception {
  testGetClusterGroupedSummary(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetClusterGroupedSummaryAsClusterAdministrator() throws Exception {
  testGetClusterGroupedSummary(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetServiceAsClusterUser() throws Exception {
  testGetService(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetClusterSummaryAsClusterUser() throws Exception {
  testGetClusterSummary(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetClusterGroupedSummaryMaintenanceCountsAsAdministrator() throws Exception {
  testGetClusterGroupedSummaryMaintenanceCounts(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.AlertTargetResourceProviderTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testOverwriteDirectiveAsViewUser() throws Exception {
  testOverwriteDirective(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourcesAsClusterUser() throws Exception {
  testCreateResources(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testOverwriteDirectiveAsServiceAdministrator() throws Exception {
  testOverwriteDirective(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetSingleResourceAsViewUser() throws Exception {
  testGetSingleResource(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourceWithRecipientArrayAsClusterAdministrator() throws Exception {
  testCreateResourceWithRecipientArray(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourceWithAlertStatesAsServiceAdministrator() throws Exception {
  testCreateResourceWithAlertStates(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testDeleteResourcesAsClusterUser() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResourcesAsServiceAdministrator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateGlobalTargetAsServiceAdministrator() throws Exception {
  testCreateGlobalTarget(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResourceWithAlertStatesAsAdministrator() throws Exception {
  testCreateResourceWithAlertStates(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResourcesWithGroupsAsServiceAdministrator() throws Exception {
  testUpdateResourcesWithGroups(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateGlobalTargetAsViewUser() throws Exception {
  testCreateGlobalTarget(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateGlobalTargetAsClusterUser() throws Exception {
  testCreateGlobalTarget(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourcesWithGroupsAsClusterAdministrator() throws Exception {
  testCreateResourcesWithGroups(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourceWithRecipientArrayAsServiceAdministrator() throws Exception {
  testCreateResourceWithRecipientArray(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourceWithAlertStatesAsClusterUser() throws Exception {
  testCreateResourceWithAlertStates(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResourcesWithGroupsAsAdministrator() throws Exception {
  testUpdateResourcesWithGroups(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResourcesAsClusterUser() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetSingleResourceAsClusterUser() throws Exception {
  testGetSingleResource(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesNoPredicateAsClusterUser() throws Exception {
  testGetResourcesNoPredicate(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testOverwriteDirectiveAsAdministrator() throws Exception {
  testOverwriteDirective(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourceWithRecipientArrayAsClusterUser() throws Exception {
  testCreateResourceWithRecipientArray(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResourcesWithGroupsAsClusterAdministrator() throws Exception {
  testUpdateResourcesWithGroups(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesNoPredicateAsViewUser() throws Exception {
  testGetResourcesNoPredicate(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResourcesWithGroupsAsClusterUser() throws Exception {
  testUpdateResourcesWithGroups(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourcesWithGroupsAsServiceAdministrator() throws Exception {
  testCreateResourcesWithGroups(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResourcesAsAdministrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testDeleteResourcesAsViewUser() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesNoPredicateAsServiceAdministrator() throws Exception {
  testGetResourcesNoPredicate(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourcesAsClusterAdministrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourcesAsServiceAdministrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testDeleteResourcesAsServiceAdministrator() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourcesAsViewUser() throws Exception {
  testCreateResources(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourceWithAlertStatesAsViewUser() throws Exception {
  testCreateResourceWithAlertStates(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResourcesAsAdministrator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateGlobalTargetAsAdministrator() throws Exception {
  testCreateGlobalTarget(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteResourcesAsAdministrator() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesNoPredicateAsClusterAdministrator() throws Exception {
  testGetResourcesNoPredicate(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetSingleResourceAsServiceAdministrator() throws Exception {
  testGetSingleResource(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourcesWithGroupsAsClusterUser() throws Exception {
  testCreateResourcesWithGroups(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetSingleResourceAsClusterAdministrator() throws Exception {
  testGetSingleResource(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateGlobalTargetAsClusterAdministrator() throws Exception {
  testCreateGlobalTarget(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourceWithAlertStatesAsClusterAdministrator() throws Exception {
  testCreateResourceWithAlertStates(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResourcesAsClusterAdministrator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResourcesWithGroupsAsViewUser() throws Exception {
  testUpdateResourcesWithGroups(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourcesWithRecipientArrayAsViewUser() throws Exception {
  testCreateResourceWithRecipientArray(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testDeleteResourcesAsClusterAdministrator() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testOverwriteDirectiveAsClusterAdministrator() throws Exception {
  testOverwriteDirective(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResourcesWithGroupsAsAdministrator() throws Exception {
  testCreateResourcesWithGroups(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResourceWithRecipientArrayAsAdministrator() throws Exception {
  testCreateResourceWithRecipientArray(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesNoPredicateAsAdministrator() throws Exception {
  testGetResourcesNoPredicate(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourcesWithGroupsAsViewUser() throws Exception {
  testCreateResourcesWithGroups(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResourcesAsViewUser() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createViewUser(99L));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetSingleResourceAsAdministrator() throws Exception {
  testGetSingleResource(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testOverwriteDirectiveAsClusterUser() throws Exception {
  testOverwriteDirective(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.AmbariPrivilegeResourceProviderTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testGetResources_NonAdministrator() throws Exception {
  getResourcesTest(TestAuthenticationFactory.createClusterAdministrator("User1",2L));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResource_Administrator_Self() throws Exception {
  getResourceTest(TestAuthenticationFactory.createAdministrator("admin"),"admin");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResources_Administrator_Self() throws Exception {
  updateResourcesTest(TestAuthenticationFactory.createAdministrator("admin"),"admin");
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testDeleteResources_NonAdministrator() throws Exception {
  deleteResourcesTest(TestAuthenticationFactory.createClusterAdministrator("User1",2L));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testGetResource_NonAdministrator_Self() throws Exception {
  getResourceTest(TestAuthenticationFactory.createClusterAdministrator("User1",2L),"User1");
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResources_NonAdministrator() throws Exception {
  createResourcesTest(TestAuthenticationFactory.createClusterAdministrator("User1",2L));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResources_Administrator_Other() throws Exception {
  updateResourcesTest(TestAuthenticationFactory.createAdministrator("admin"),"User1");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResource_Administrator_Other() throws Exception {
  getResourceTest(TestAuthenticationFactory.createAdministrator("admin"),"User1");
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testGetResource_NonAdministrator_Other() throws Exception {
  getResourceTest(TestAuthenticationFactory.createClusterAdministrator("User1",2L),"User10");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResources_Administrator() throws Exception {
  getResourcesTest(TestAuthenticationFactory.createAdministrator("admin"));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResources_Administrator() throws Exception {
  createResourcesTest(TestAuthenticationFactory.createAdministrator("admin"));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResources_NonAdministrator_Self() throws Exception {
  updateResourcesTest(TestAuthenticationFactory.createClusterAdministrator("User1",2L),"User1");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteResources_Administrator() throws Exception {
  deleteResourcesTest(TestAuthenticationFactory.createAdministrator("admin"));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResources_NonAdministrator_Other() throws Exception {
  updateResourcesTest(TestAuthenticationFactory.createClusterAdministrator("User1",2L),"User10");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.BlueprintResourceProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDecidePopulationStrategy_unsupportedSchema() throws Exception {
  Map<String,String> configMap=new HashMap<String,String>();
  configMap.put("global/properties/lot/foo_contact","foo@ffl.dsfds");
  expectedException.expect(IllegalArgumentException.class);
  expectedException.expectMessage(BlueprintResourceProvider.SCHEMA_IS_NOT_SUPPORTED_MESSAGE);
  provider.decidePopulationStrategy(configMap);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.ClusterControllerImplTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testPopulateResources_allTypes() throws Exception {
  TestProviderModule providerModule=new TestProviderModule();
  ClusterControllerImpl controller=new ClusterControllerImpl(providerModule);
  Request request=PropertyHelper.getReadRequest();
  Predicate predicate=new PredicateBuilder().property("c3/p6").equals(1).toPredicate();
  for (  Resource.Type type : Resource.Type.values()) {
    Resource resource=new ResourceImpl(type);
    controller.populateResources(type,Collections.singleton(resource),request,predicate);
  }
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests that when a {@link PageResponse} is present on the{@link Request}, in-memory paging is not performed.
 * @throws Exception
 */
@Test public void testResourceProviderResponse() throws Exception {
  ProviderModule providerModule=createNiceMock(ProviderModule.class);
  ResourceProvider resourceProvider=createNiceMock(ResourceProvider.class);
  expect(providerModule.getResourceProvider(Resource.Type.AlertHistory)).andReturn(resourceProvider).anyTimes();
  expect(resourceProvider.checkPropertyIds(Collections.singleton(AlertHistoryResourceProvider.ALERT_HISTORY_HOSTNAME))).andReturn(Collections.<String>emptySet()).anyTimes();
  expect(resourceProvider.getResources(anyObject(Request.class),anyObject(Predicate.class))).andReturn(Collections.<Resource>emptySet()).anyTimes();
  expect(resourceProvider.checkPropertyIds(EasyMock.anyObject(Set.class))).andReturn(new HashSet<String>()).anyTimes();
  PageRequest pageRequest=EasyMock.createStrictMock(PageRequest.class);
  SortRequest sortRequest=EasyMock.createStrictMock(SortRequest.class);
  expect(sortRequest.getPropertyIds()).andReturn(new ArrayList<String>()).atLeastOnce();
  replay(providerModule,resourceProvider,pageRequest,sortRequest);
  ClusterControllerImpl controller=new ClusterControllerImpl(providerModule);
  Set<String> propertyIds=new HashSet<String>();
  propertyIds.add(AlertHistoryResourceProvider.ALERT_HISTORY_HOSTNAME);
  Set<Resource> providerResources=new LinkedHashSet<Resource>();
  providerResources.add(new ResourceImpl(Resource.Type.AlertHistory));
  Request request=PropertyHelper.getReadRequest(propertyIds,null,null,pageRequest,sortRequest);
  Predicate predicate=new PredicateBuilder().property(AlertHistoryResourceProvider.ALERT_HISTORY_HOSTNAME).equals("c6401.ambari.apache.org").toPredicate();
  PageResponse pageResponse=controller.getPage(Resource.Type.AlertHistory,new QueryResponseImpl(providerResources,true,true,0),request,predicate,pageRequest,sortRequest);
  verify(providerModule,resourceProvider,pageRequest,sortRequest);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.ClusterPrivilegeResourceProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResource_Administrator_Self() throws Exception {
  getResourceTest(TestAuthenticationFactory.createAdministrator("admin"),"admin");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResources_Administrator_Self() throws Exception {
  updateResourcesTest(TestAuthenticationFactory.createAdministrator("admin"),"admin");
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testDeleteResources_NonAdministrator() throws Exception {
  deleteResourcesTest(TestAuthenticationFactory.createClusterAdministrator("User1",2L));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResources_NonAdministrator_Self() throws Exception {
  updateResourcesTest(TestAuthenticationFactory.createClusterAdministrator("User1",2L),"User1");
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResources_NonAdministrator() throws Exception {
  createResourcesTest(TestAuthenticationFactory.createClusterAdministrator("User1",2L));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResources_Administrator() throws Exception {
  getResourcesTest(TestAuthenticationFactory.createAdministrator("admin"));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testGetResource_NonAdministrator_Other() throws Exception {
  getResourceTest(TestAuthenticationFactory.createClusterAdministrator("User1",2L),"User10");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteResources_Administrator() throws Exception {
  deleteResourcesTest(TestAuthenticationFactory.createAdministrator("admin"));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResources_NonAdministrator_Other() throws Exception {
  updateResourcesTest(TestAuthenticationFactory.createClusterAdministrator("User1",2L),"User10");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResources_Administrator() throws Exception {
  createResourcesTest(TestAuthenticationFactory.createAdministrator("admin"));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testGetResource_NonAdministrator_Self() throws Exception {
  getResourceTest(TestAuthenticationFactory.createClusterAdministrator("User1",2L),"User1");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResources_Administrator_Other() throws Exception {
  updateResourcesTest(TestAuthenticationFactory.createAdministrator("admin"),"User1");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResource_Administrator_Other() throws Exception {
  getResourceTest(TestAuthenticationFactory.createAdministrator("admin"),"User1");
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testGetResources_NonAdministrator() throws Exception {
  getResourcesTest(TestAuthenticationFactory.createClusterAdministrator("User1",2L));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.ClusterResourceProviderTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResourcesAsServiceOperator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createServiceOperator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testDeleteResourcesAsNonAdministrator() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testCreateResource_blueprint_withInvalidSecurityConfiguration() throws Exception {
  Set<Map<String,Object>> requestProperties=createBlueprintRequestProperties(CLUSTER_NAME,BLUEPRINT_NAME);
  Map<String,Object> properties=requestProperties.iterator().next();
  Map<String,String> requestInfoProperties=new HashMap<String,String>();
  requestInfoProperties.put(Request.REQUEST_INFO_BODY_PROPERTY,"{\"security\" : {\n\"type\" : \"NONE\"," + "\n\"kerberos_descriptor_reference\" : " + "\"testRef\"\n}}");
  SecurityConfiguration blueprintSecurityConfiguration=new SecurityConfiguration(SecurityType.KERBEROS,"testRef",null);
  SecurityConfiguration securityConfiguration=new SecurityConfiguration(SecurityType.NONE,null,null);
  expect(request.getProperties()).andReturn(requestProperties).anyTimes();
  expect(request.getRequestInfoProperties()).andReturn(requestInfoProperties).anyTimes();
  expect(securityFactory.createSecurityConfigurationFromRequest(anyObject(HashMap.class),anyBoolean())).andReturn(securityConfiguration).once();
  expect(topologyFactory.createProvisionClusterRequest(properties,securityConfiguration)).andReturn(topologyRequest).once();
  expect(topologyRequest.getBlueprint()).andReturn(blueprint).anyTimes();
  expect(blueprint.getSecurity()).andReturn(blueprintSecurityConfiguration).anyTimes();
  expect(requestStatusResponse.getRequestId()).andReturn(5150L).anyTimes();
  replayAll();
  SecurityContextHolder.getContext().setAuthentication(TestAuthenticationFactory.createAdministrator());
  RequestStatus requestStatus=provider.createResources(request);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResourcesAsClusterAdministrator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesAsNonAdministrator() throws Exception {
  testGetResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResourcesAsAdministrator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResource_blueprint__NonAdministrator() throws Exception {
  testCreateResource_blueprint(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesAsAdministrator() throws Exception {
  testGetResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResource_blueprint_asAdministrator() throws Exception {
  testCreateResource_blueprint(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateWithConfigurationAsServiceOperator() throws Exception {
  testUpdateWithConfiguration(TestAuthenticationFactory.createServiceOperator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testCreateResource_blueprint__InvalidRequest() throws Exception {
  Set<Map<String,Object>> requestProperties=createBlueprintRequestProperties(CLUSTER_NAME,BLUEPRINT_NAME);
  Map<String,Object> properties=requestProperties.iterator().next();
  expect(request.getProperties()).andReturn(requestProperties).anyTimes();
  expect(topologyFactory.createProvisionClusterRequest(properties,null)).andThrow(new InvalidTopologyException("test"));
  replayAll();
  SecurityContextHolder.getContext().setAuthentication(TestAuthenticationFactory.createAdministrator());
  provider.createResources(request);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResourcesAsAdministrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourcesAsNonAdministrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateWithConfigurationAsAdministrator() throws Exception {
  testUpdateWithConfiguration(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateWithConfigurationAsClusterAdministrator() throws Exception {
  testUpdateWithConfiguration(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteResourcesAsAdministrator() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.ComponentResourceProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSuccessDeleteResourcesAsAdministrator() throws Exception {
  testSuccessDeleteResources(TestAuthenticationFactory.createAdministrator(),State.INSTALLED);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesAsServiceAdministrator() throws Exception {
  testGetResources(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSuccessDeleteResourcesAsClusterAdministrator() throws Exception {
  testSuccessDeleteResources(TestAuthenticationFactory.createClusterAdministrator(),State.INSTALLED);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteResourcesWithEmptyClusterComponentNamesAsAdministrator() throws Exception {
  testDeleteResourcesWithEmptyClusterComponentNames(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourcesAsServiceAdministrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=SystemException.class) public void testDeleteResourcesWithStartedHostComponentState() throws Exception {
  testSuccessDeleteResources(TestAuthenticationFactory.createAdministrator(),State.STARTED);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResourcesAsClusterAdministrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesAsClusterAdministrator() throws Exception {
  testGetResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResourcesAsClusterAdministrator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResourcesAsAdministrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesAsAdministrator() throws Exception {
  testGetResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteResourcesWithEmptyClusterComponentNamesAsClusterAdministrator() throws Exception {
  testDeleteResourcesWithEmptyClusterComponentNames(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResourcesAsAdministrator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testDeleteResourcesWithEmptyClusterComponentNamesAsServiceAdministrator() throws Exception {
  testDeleteResourcesWithEmptyClusterComponentNames(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResourcesAsServiceAdministrator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testDeleteResourcesAsServiceAdministrator() throws Exception {
  testSuccessDeleteResources(TestAuthenticationFactory.createServiceAdministrator(),State.INSTALLED);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.ConfigGroupResourceProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateConfigGroup() throws Exception {
  AmbariManagementController managementController=createMock(AmbariManagementController.class);
  RequestStatusResponse response=createNiceMock(RequestStatusResponse.class);
  ConfigHelper configHelper=createNiceMock(ConfigHelper.class);
  Clusters clusters=createNiceMock(Clusters.class);
  Cluster cluster=createNiceMock(Cluster.class);
  Host h1=createNiceMock(Host.class);
  Host h2=createNiceMock(Host.class);
  HostEntity hostEntity1=createMock(HostEntity.class);
  HostEntity hostEntity2=createMock(HostEntity.class);
  final ConfigGroup configGroup=createNiceMock(ConfigGroup.class);
  ConfigGroupResponse configGroupResponse=createNiceMock(ConfigGroupResponse.class);
  expect(cluster.isConfigTypeExists("core-site")).andReturn(true).anyTimes();
  expect(managementController.getClusters()).andReturn(clusters).anyTimes();
  expect(managementController.getAuthName()).andReturn("admin").anyTimes();
  expect(clusters.getCluster("Cluster100")).andReturn(cluster).anyTimes();
  expect(clusters.getHost("h1")).andReturn(h1);
  expect(clusters.getHost("h2")).andReturn(h2);
  expect(hostDAO.findByName("h1")).andReturn(hostEntity1).anyTimes();
  expect(hostDAO.findById(1L)).andReturn(hostEntity1).anyTimes();
  expect(hostDAO.findByName("h2")).andReturn(hostEntity2).anyTimes();
  expect(hostDAO.findById(2L)).andReturn(hostEntity2).anyTimes();
  expect(hostEntity1.getHostId()).andReturn(1L).atLeastOnce();
  expect(hostEntity2.getHostId()).andReturn(2L).atLeastOnce();
  expect(h1.getHostId()).andReturn(1L).anyTimes();
  expect(h2.getHostId()).andReturn(2L).anyTimes();
  expect(configGroup.getName()).andReturn("test-1").anyTimes();
  expect(configGroup.getId()).andReturn(25L).anyTimes();
  expect(configGroup.getTag()).andReturn("tag-1").anyTimes();
  expect(configGroup.convertToResponse()).andReturn(configGroupResponse).anyTimes();
  expect(configGroupResponse.getClusterName()).andReturn("Cluster100").anyTimes();
  expect(configGroupResponse.getId()).andReturn(25L).anyTimes();
  expect(cluster.getConfigGroups()).andStubAnswer(new IAnswer<Map<Long,ConfigGroup>>(){
    @Override public Map<Long,ConfigGroup> answer() throws Throwable {
      Map<Long,ConfigGroup> configGroupMap=new HashMap<Long,ConfigGroup>();
      configGroupMap.put(configGroup.getId(),configGroup);
      return configGroupMap;
    }
  }
);
  expect(managementController.getConfigHelper()).andReturn(configHelper).once();
  configHelper.invalidateStaleConfigsCache();
  expectLastCall().once();
  replay(managementController,clusters,cluster,configGroup,response,configGroupResponse,configHelper,hostDAO,hostEntity1,hostEntity2,h1,h2);
  ResourceProvider provider=getConfigGroupResourceProvider(managementController);
  Map<String,Object> properties=new LinkedHashMap<String,Object>();
  Set<Map<String,Object>> hostSet=new HashSet<Map<String,Object>>();
  Map<String,Object> host1=new HashMap<String,Object>();
  host1.put(ConfigGroupResourceProvider.CONFIGGROUP_HOSTNAME_PROPERTY_ID,"h1");
  hostSet.add(host1);
  Map<String,Object> host2=new HashMap<String,Object>();
  host2.put(ConfigGroupResourceProvider.CONFIGGROUP_HOSTNAME_PROPERTY_ID,"h2");
  hostSet.add(host2);
  Set<Map<String,Object>> configSet=new HashSet<Map<String,Object>>();
  Map<String,String> configMap=new HashMap<String,String>();
  Map<String,Object> configs=new HashMap<String,Object>();
  configs.put("type","core-site");
  configs.put("tag","version100");
  configMap.put("key1","value1");
  configs.put("properties",configMap);
  configSet.add(configs);
  properties.put(ConfigGroupResourceProvider.CONFIGGROUP_CLUSTER_NAME_PROPERTY_ID,"Cluster100");
  properties.put(ConfigGroupResourceProvider.CONFIGGROUP_NAME_PROPERTY_ID,"test-1");
  properties.put(ConfigGroupResourceProvider.CONFIGGROUP_TAG_PROPERTY_ID,"tag-1");
  properties.put(ConfigGroupResourceProvider.CONFIGGROUP_HOSTS_PROPERTY_ID,hostSet);
  properties.put(ConfigGroupResourceProvider.CONFIGGROUP_CONFIGS_PROPERTY_ID,configSet);
  Map<String,String> mapRequestProps=new HashMap<String,String>();
  mapRequestProps.put("context","Called from a test");
  Request request=PropertyHelper.getUpdateRequest(properties,mapRequestProps);
  Predicate predicate=new PredicateBuilder().property(ConfigGroupResourceProvider.CONFIGGROUP_CLUSTER_NAME_PROPERTY_ID).equals("Cluster100").and().property(ConfigGroupResourceProvider.CONFIGGROUP_ID_PROPERTY_ID).equals(25L).toPredicate();
  provider.updateResources(request,predicate);
  verify(managementController,clusters,cluster,configGroup,response,configGroupResponse,configHelper,hostDAO,hostEntity1,hostEntity2,h1,h2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.ConfigurationResourceProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResources() throws Exception {
  AmbariManagementController managementController=createMock(AmbariManagementController.class);
  RequestStatusResponse response=createNiceMock(RequestStatusResponse.class);
  managementController.createConfiguration(AbstractResourceProviderTest.Matcher.getConfigurationRequest("Cluster100","type","tag",new HashMap<String,String>(),null));
  expectLastCall().andReturn(null);
  replay(managementController,response);
  ConfigurationResourceProvider provider=new ConfigurationResourceProvider(managementController);
  Set<Map<String,Object>> propertySet=new LinkedHashSet<Map<String,Object>>();
  Map<String,Object> properties=new LinkedHashMap<String,Object>();
  properties.put(ConfigurationResourceProvider.CONFIGURATION_CLUSTER_NAME_PROPERTY_ID,"Cluster100");
  properties.put(ConfigurationResourceProvider.CONFIGURATION_CONFIG_TAG_PROPERTY_ID,"tag");
  properties.put(ConfigurationResourceProvider.CONFIGURATION_CONFIG_TYPE_PROPERTY_ID,"type");
  propertySet.add(properties);
  Request request=PropertyHelper.getCreateRequest(propertySet,null);
  provider.createResources(request);
  verify(managementController,response);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateAttributesResources() throws Exception {
  AmbariManagementController managementController=createMock(AmbariManagementController.class);
  RequestStatusResponse response=createNiceMock(RequestStatusResponse.class);
  managementController.createConfiguration(AbstractResourceProviderTest.Matcher.getConfigurationRequest("Cluster100","type","tag",new HashMap<String,String>(){
{
      put("a","b");
    }
  }
,new HashMap<String,Map<String,String>>(){
{
      put("final",new HashMap<String,String>(){
{
          put("a","true");
        }
      }
);
    }
  }
));
  expectLastCall().andReturn(null);
  replay(managementController,response);
  ConfigurationResourceProvider provider=new ConfigurationResourceProvider(managementController);
  Set<Map<String,Object>> propertySet=new LinkedHashSet<Map<String,Object>>();
  Map<String,Object> properties=new LinkedHashMap<String,Object>();
  properties.put(ConfigurationResourceProvider.CONFIGURATION_CLUSTER_NAME_PROPERTY_ID,"Cluster100");
  properties.put(ConfigurationResourceProvider.CONFIGURATION_CONFIG_TAG_PROPERTY_ID,"tag");
  properties.put(ConfigurationResourceProvider.CONFIGURATION_CONFIG_TYPE_PROPERTY_ID,"type");
  properties.put("properties/a","b");
  properties.put("properties_attributes/final/a","true");
  propertySet.add(properties);
  Request request=PropertyHelper.getCreateRequest(propertySet,null);
  provider.createResources(request);
  verify(managementController,response);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.CredentialResourceProviderTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testGetResourcesWithPredicateAsServiceAdministrator() throws Exception {
  testGetResourcesWithPredicate(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteResourcesAsClusterAdministrator() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResourcesResourceNotFoundAsServiceAdministrator() throws Exception {
  testUpdateResourcesResourceNotFound(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesWithoutPredicateAsClusterAdministrator() throws Exception {
  testGetResourcesWithoutPredicate(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testGetResourcesWithoutPredicateAsServiceAdministrator() throws Exception {
  testGetResourcesWithoutPredicate(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResourcesAsClusterAdministrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testGetResourcesWithPredicateNoResultsAsServiceAdministrator() throws Exception {
  testGetResourcesWithPredicateNoResults(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testGetResourcesAsServiceAdministrator() throws Exception {
  testGetResources(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesWithPredicateAsClusterAdministrator() throws Exception {
  testGetResourcesWithPredicate(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesAsClusterAdministrator() throws Exception {
  testGetResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesAsAdministrator() throws Exception {
  testGetResources(TestAuthenticationFactory.createAdministrator("admin"));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResourcesResourceNotFoundAsAdministrator() throws Exception {
  testUpdateResourcesResourceNotFound(TestAuthenticationFactory.createAdministrator("admin"));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResourcesAsAdministrator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createAdministrator("admin"));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResourcesAsClusterAdministrator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResourcesAsServiceAdministrator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteResourcesAsAdministrator() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createAdministrator("admin"));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesWithPredicateNoResultsAsAdministrator() throws Exception {
  testGetResourcesWithPredicateNoResults(TestAuthenticationFactory.createAdministrator("admin"));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourcesAsServiceAdministrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResourcesAsAdministrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createAdministrator("admin"));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesWithoutPredicateAsAdministrator() throws Exception {
  testGetResourcesWithoutPredicate(TestAuthenticationFactory.createAdministrator("admin"));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testDeleteResourcesAsServiceAdministrator() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResourcesResourceNotFoundAsClusterAdministrator() throws Exception {
  testUpdateResourcesResourceNotFound(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesWithPredicateAsAdministrator() throws Exception {
  testGetResourcesWithPredicate(TestAuthenticationFactory.createAdministrator("admin"));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesWithPredicateNoResultsAsClusterAdministrator() throws Exception {
  testGetResourcesWithPredicateNoResults(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.FeedResourceProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResources() throws Exception {
  IvoryService service=createMock(IvoryService.class);
  Set<Map<String,Object>> propertySet=new HashSet<Map<String,Object>>();
  Map<String,Object> properties=new HashMap<String,Object>();
  properties.put(FeedResourceProvider.FEED_NAME_PROPERTY_ID,"Feed1");
  properties.put(FeedResourceProvider.FEED_DESCRIPTION_PROPERTY_ID,"desc");
  properties.put(FeedResourceProvider.FEED_SCHEDULE_PROPERTY_ID,"sched");
  properties.put(FeedResourceProvider.FEED_STATUS_PROPERTY_ID,"SUBMITTED");
  properties.put(FeedResourceProvider.FEED_SOURCE_CLUSTER_NAME_PROPERTY_ID,"source");
  properties.put(FeedResourceProvider.FEED_TARGET_CLUSTER_NAME_PROPERTY_ID,"target");
  service.submitFeed(FeedResourceProvider.getFeed("Feed1",properties));
  replay(service);
  propertySet.add(properties);
  Request request=PropertyHelper.getCreateRequest(propertySet,Collections.<String,String>emptyMap());
  FeedResourceProvider provider=new FeedResourceProvider(service,PropertyHelper.getPropertyIds(Resource.Type.DRFeed),PropertyHelper.getKeyPropertyIds(Resource.Type.DRFeed));
  provider.createResources(request);
  verify(service);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteResources() throws Exception {
  IvoryService service=createMock(IvoryService.class);
  List<String> feedNames=new LinkedList<String>();
  feedNames.add("Feed1");
  Map<String,String> props=new HashMap<String,String>();
  Feed feed1=new Feed("Feed1","d","s","sch","source","st","end","l","a","target","st","end","l","a",props);
  expect(service.getFeedNames()).andReturn(feedNames);
  expect(service.getFeed("Feed1")).andReturn(feed1);
  service.deleteFeed("Feed1");
  replay(service);
  FeedResourceProvider provider=new FeedResourceProvider(service,PropertyHelper.getPropertyIds(Resource.Type.DRFeed),PropertyHelper.getKeyPropertyIds(Resource.Type.DRFeed));
  Predicate predicate=new PredicateBuilder().property(FeedResourceProvider.FEED_NAME_PROPERTY_ID).equals("Feed1").toPredicate();
  provider.deleteResources(predicate);
  verify(service);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResources() throws Exception {
  IvoryService service=createMock(IvoryService.class);
  Set<Map<String,Object>> propertySet=new HashSet<Map<String,Object>>();
  Map<String,Object> properties=new HashMap<String,Object>();
  properties.put(FeedResourceProvider.FEED_NAME_PROPERTY_ID,"Feed1");
  properties.put(FeedResourceProvider.FEED_DESCRIPTION_PROPERTY_ID,"desc");
  properties.put(FeedResourceProvider.FEED_SCHEDULE_PROPERTY_ID,"sched");
  properties.put(FeedResourceProvider.FEED_STATUS_PROPERTY_ID,"WAITING");
  properties.put(FeedResourceProvider.FEED_SOURCE_CLUSTER_NAME_PROPERTY_ID,"source");
  properties.put(FeedResourceProvider.FEED_TARGET_CLUSTER_NAME_PROPERTY_ID,"target");
  List<String> feedNames=new LinkedList<String>();
  feedNames.add("Feed1");
  Map<String,String> props=new HashMap<String,String>();
  Feed feed1=new Feed("Feed1","desc","WAITING","sched","source","st","end","l","a","target","st","end","l","a",props);
  expect(service.getFeedNames()).andReturn(feedNames);
  expect(service.getFeed("Feed1")).andReturn(feed1);
  service.updateFeed(feed1);
  replay(service);
  propertySet.add(properties);
  Request request=PropertyHelper.getCreateRequest(propertySet,Collections.<String,String>emptyMap());
  FeedResourceProvider provider=new FeedResourceProvider(service,PropertyHelper.getPropertyIds(Resource.Type.DRFeed),PropertyHelper.getKeyPropertyIds(Resource.Type.DRFeed));
  provider.updateResources(request,null);
  verify(service);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.GroupResourceProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResources_Adminstrator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createAdministrator("admin"));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResources_Administrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createAdministrator("admin"));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteResources_Administrator() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createAdministrator("admin"));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResources_Administrator() throws Exception {
  testGetResources(TestAuthenticationFactory.createAdministrator("admin"));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResources_ClusterAdministrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createClusterAdministrator("User1",2L));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testDeleteResources_ClusterAdministrator() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createClusterAdministrator("User1",2L));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testGetResources_ClusterAdministrator() throws Exception {
  testGetResources(TestAuthenticationFactory.createClusterAdministrator("User1",2L));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResources_ClusterAdminstrator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createClusterAdministrator("User1",2L));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.HostComponentResourceProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResourcesAsClusterAdministrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResourcesAsAdministrator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteResourcesAsAdministrator() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteResourcesAsClusterAdministrator() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResourcesAsClusterAdministrator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesAsClusterAdministrator() throws Exception {
  testGetResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesAsAdministrator() throws Exception {
  testGetResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesAsServiceAdministrator() throws Exception {
  testGetResources(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourcesAsServiceAdministrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResourcesAsServiceAdministrator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResourcesAsAdministrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testDeleteResourcesAsServiceAdministrator() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.HostKerberosIdentityResourceProviderTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=org.apache.ambari.server.controller.spi.SystemException.class) public void testUpdateResources() throws Exception {
  AmbariManagementController managementController=createMock(AmbariManagementController.class);
  Map<String,String> mapRequestProps=new HashMap<String,String>();
  mapRequestProps.put("context","Called from a test");
  ResourceProvider provider=new HostKerberosIdentityResourceProvider(managementController);
  Map<String,Object> properties=new LinkedHashMap<String,Object>();
  properties.put(HostKerberosIdentityResourceProvider.KERBEROS_IDENTITY_CLUSTER_NAME_PROPERTY_ID,"Cluster100");
  properties.put(HostKerberosIdentityResourceProvider.KERBEROS_IDENTITY_HOST_NAME_PROPERTY_ID,"Host100");
  properties.put(HostKerberosIdentityResourceProvider.KERBEROS_IDENTITY_PRINCIPAL_NAME_PROPERTY_ID,"principal@REALM");
  properties.put(HostKerberosIdentityResourceProvider.KERBEROS_IDENTITY_PRINCIPAL_LOCAL_USERNAME_PROPERTY_ID,"userA");
  Request request=PropertyHelper.getUpdateRequest(properties,mapRequestProps);
  Predicate predicate=new PredicateBuilder().property(HostKerberosIdentityResourceProvider.KERBEROS_IDENTITY_CLUSTER_NAME_PROPERTY_ID).equals("Cluster100").and().property(HostKerberosIdentityResourceProvider.KERBEROS_IDENTITY_HOST_NAME_PROPERTY_ID).equals("Host100").and().property(HostKerberosIdentityResourceProvider.KERBEROS_IDENTITY_PRINCIPAL_NAME_PROPERTY_ID).equals("principal@REALM").toPredicate();
  provider.updateResources(request,predicate);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=org.apache.ambari.server.controller.spi.SystemException.class) public void testCreateResources() throws Exception {
  AmbariManagementController managementController=createMock(AmbariManagementController.class);
  ResourceProvider provider=new HostKerberosIdentityResourceProvider(managementController);
  Set<Map<String,Object>> propertySet=Collections.singleton(Collections.<String,Object>emptyMap());
  Request request=PropertyHelper.getCreateRequest(propertySet,null);
  provider.createResources(request);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=org.apache.ambari.server.controller.spi.SystemException.class) public void testDeleteResources() throws Exception {
  AmbariManagementController managementController=createMock(AmbariManagementController.class);
  ResourceProvider provider=new HostKerberosIdentityResourceProvider(managementController);
  AbstractResourceProviderTest.TestObserver observer=new AbstractResourceProviderTest.TestObserver();
  ((ObservableResourceProvider)provider).addObserver(observer);
  Predicate predicate=new PredicateBuilder().property(HostKerberosIdentityResourceProvider.KERBEROS_IDENTITY_CLUSTER_NAME_PROPERTY_ID).equals("Cluster100").and().property(HostKerberosIdentityResourceProvider.KERBEROS_IDENTITY_HOST_NAME_PROPERTY_ID).equals("Host100").and().property(HostKerberosIdentityResourceProvider.KERBEROS_IDENTITY_PRINCIPAL_NAME_PROPERTY_ID).equals("principal@REALM").toPredicate();
  provider.deleteResources(predicate);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.HostResourceProviderTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateDesiredConfigAsServiceOperator() throws Exception {
  testUpdateDesiredConfig(TestAuthenticationFactory.createServiceOperator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResourcesAsServiceAdministrator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetRecoveryReportAsClusterAdministrator() throws Exception {
  testGetRecoveryReport(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetHostsAsServiceAdministrator() throws Exception {
  testGetHosts(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResourcesAsClusterAdministrator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResourcesAsAdministrator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteResourcesAsAdministrator() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetHostsAsServiceOperator() throws Exception {
  testGetHosts(TestAuthenticationFactory.createServiceOperator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateDesiredConfigAsServiceAdministrator() throws Exception {
  testUpdateDesiredConfig(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourcesAsServiceAdministrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetRecoveryReportAsServiceAdministrator() throws Exception {
  testGetRecoveryReport(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetRecoveryReportAsAdministrator() throws Exception {
  testGetRecoveryReport(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetHostsAsAdministrator() throws Exception {
  testGetHosts(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testDeleteResourcesAsServiceAdministrator() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResourcesAsClusterAdministrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesAsServiceAdministrator() throws Exception {
  testGetResources(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteResourcesAsClusterAdministrator() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateDesiredConfigAsClusterAdministrator() throws Exception {
  testUpdateDesiredConfig(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetHostsAsClusterAdministrator() throws Exception {
  testGetHosts(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesAsClusterAdministrator() throws Exception {
  testGetResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateDesiredConfigAsAdministrator() throws Exception {
  testUpdateDesiredConfig(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResourcesAsAdministrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesAsAdministrator() throws Exception {
  testGetResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.HostStackVersionResourceProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResources() throws Exception {
  Resource.Type type=Resource.Type.HostStackVersion;
  AmbariManagementController managementController=createMock(AmbariManagementController.class);
  Clusters clusters=createNiceMock(Clusters.class);
  Cluster cluster=createNiceMock(Cluster.class);
  StackId stackId=new StackId("HDP","2.0.1");
  final Host host1=createNiceMock("host1",Host.class);
  expect(host1.getHostName()).andReturn("host1").anyTimes();
  expect(host1.getOsFamily()).andReturn("redhat6").anyTimes();
  replay(host1);
  Map<String,Host> hostsForCluster=new HashMap<String,Host>(){
{
      put(host1.getHostName(),host1);
    }
  }
;
  ServiceComponentHost sch=createMock(ServiceComponentHost.class);
  List<ServiceComponentHost> schs=Collections.singletonList(sch);
  RepositoryVersionEntity repoVersion=new RepositoryVersionEntity();
  repoVersion.setOperatingSystems(operatingSystemsJson);
  final ServiceOsSpecific.Package hivePackage=new ServiceOsSpecific.Package();
  hivePackage.setName("hive");
  final ServiceOsSpecific.Package mysqlPackage=new ServiceOsSpecific.Package();
  mysqlPackage.setName("mysql");
  mysqlPackage.setSkipUpgrade(Boolean.TRUE);
  List<ServiceOsSpecific.Package> packages=new ArrayList<ServiceOsSpecific.Package>(){
{
      add(hivePackage);
      add(mysqlPackage);
    }
  }
;
  ActionManager actionManager=createNiceMock(ActionManager.class);
  RequestStatusResponse response=createNiceMock(RequestStatusResponse.class);
  ResourceProviderFactory resourceProviderFactory=createNiceMock(ResourceProviderFactory.class);
  ResourceProvider csvResourceProvider=createNiceMock(ClusterStackVersionResourceProvider.class);
  HostVersionEntity hostVersionEntityMock=createNiceMock(HostVersionEntity.class);
  AbstractControllerResourceProvider.init(resourceProviderFactory);
  Map<String,Map<String,String>> hostConfigTags=new HashMap<String,Map<String,String>>();
  expect(configHelper.getEffectiveDesiredTags(anyObject(ClusterImpl.class),anyObject(String.class))).andReturn(hostConfigTags);
  expect(managementController.getClusters()).andReturn(clusters).anyTimes();
  expect(managementController.getAmbariMetaInfo()).andReturn(ambariMetaInfo).anyTimes();
  expect(managementController.getActionManager()).andReturn(actionManager).anyTimes();
  expect(managementController.getJdkResourceUrl()).andReturn("/JdkResourceUrl").anyTimes();
  expect(managementController.getPackagesForServiceHost(anyObject(ServiceInfo.class),(Map<String,String>)anyObject(List.class),anyObject(String.class))).andReturn(packages).anyTimes();
  expect(resourceProviderFactory.getHostResourceProvider(anyObject(Set.class),anyObject(Map.class),eq(managementController))).andReturn(csvResourceProvider).anyTimes();
  expect(clusters.getCluster(anyObject(String.class))).andReturn(cluster);
  expect(clusters.getHost(anyObject(String.class))).andReturn(host1);
  expect(cluster.getHosts()).andReturn(hostsForCluster.values()).atLeastOnce();
  expect(cluster.getServices()).andReturn(new HashMap<String,Service>()).anyTimes();
  expect(cluster.getCurrentStackVersion()).andReturn(stackId);
  expect(cluster.getServiceComponentHosts(anyObject(String.class))).andReturn(schs).anyTimes();
  expect(sch.getServiceName()).andReturn("HIVE").anyTimes();
  expect(repositoryVersionDAOMock.findByStackAndVersion(anyObject(StackId.class),anyObject(String.class))).andReturn(repoVersion);
  expect(hostVersionDAOMock.findByClusterStackVersionAndHost(anyObject(String.class),anyObject(StackId.class),anyObject(String.class),anyObject(String.class))).andReturn(hostVersionEntityMock);
  expect(hostVersionEntityMock.getState()).andReturn(RepositoryVersionState.INSTALL_FAILED).anyTimes();
  expect(actionManager.getRequestTasks(anyLong())).andReturn(Collections.<HostRoleCommand>emptyList()).anyTimes();
  TopologyManager topologyManager=injector.getInstance(TopologyManager.class);
  StageUtils.setTopologyManager(topologyManager);
  replay(managementController,response,clusters,resourceProviderFactory,csvResourceProvider,cluster,repositoryVersionDAOMock,configHelper,sch,actionManager,hostVersionEntityMock,hostVersionDAOMock);
  ResourceProvider provider=AbstractControllerResourceProvider.getResourceProvider(type,PropertyHelper.getPropertyIds(type),PropertyHelper.getKeyPropertyIds(type),managementController);
  injector.injectMembers(provider);
  Set<Map<String,Object>> propertySet=new LinkedHashSet<Map<String,Object>>();
  Map<String,Object> properties=new LinkedHashMap<String,Object>();
  properties.put(HostStackVersionResourceProvider.HOST_STACK_VERSION_CLUSTER_NAME_PROPERTY_ID,"Cluster100");
  properties.put(HostStackVersionResourceProvider.HOST_STACK_VERSION_REPO_VERSION_PROPERTY_ID,"2.2.0.1-885");
  properties.put(HostStackVersionResourceProvider.HOST_STACK_VERSION_STACK_PROPERTY_ID,"HDP");
  properties.put(HostStackVersionResourceProvider.HOST_STACK_VERSION_VERSION_PROPERTY_ID,"2.0.1");
  properties.put(HostStackVersionResourceProvider.HOST_STACK_VERSION_HOST_NAME_PROPERTY_ID,"host1");
  propertySet.add(properties);
  Request request=PropertyHelper.getCreateRequest(propertySet,null);
  provider.createResources(request);
  verify(managementController,response,clusters);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResources_in_out_of_sync_state() throws Exception {
  Resource.Type type=Resource.Type.HostStackVersion;
  AmbariManagementController managementController=createMock(AmbariManagementController.class);
  Clusters clusters=createNiceMock(Clusters.class);
  Cluster cluster=createNiceMock(Cluster.class);
  StackId stackId=new StackId("HDP","2.0.1");
  final Host host1=createNiceMock("host1",Host.class);
  expect(host1.getHostName()).andReturn("host1").anyTimes();
  expect(host1.getOsFamily()).andReturn("redhat6").anyTimes();
  replay(host1);
  Map<String,Host> hostsForCluster=new HashMap<String,Host>(){
{
      put(host1.getHostName(),host1);
    }
  }
;
  ServiceComponentHost sch=createMock(ServiceComponentHost.class);
  List<ServiceComponentHost> schs=Collections.singletonList(sch);
  RepositoryVersionEntity repoVersion=new RepositoryVersionEntity();
  repoVersion.setOperatingSystems(operatingSystemsJson);
  ServiceOsSpecific.Package hivePackage=new ServiceOsSpecific.Package();
  hivePackage.setName("hive");
  List<ServiceOsSpecific.Package> packages=Collections.singletonList(hivePackage);
  ActionManager actionManager=createNiceMock(ActionManager.class);
  RequestStatusResponse response=createNiceMock(RequestStatusResponse.class);
  ResourceProviderFactory resourceProviderFactory=createNiceMock(ResourceProviderFactory.class);
  ResourceProvider csvResourceProvider=createNiceMock(ClusterStackVersionResourceProvider.class);
  HostVersionEntity hostVersionEntityMock=createNiceMock(HostVersionEntity.class);
  AbstractControllerResourceProvider.init(resourceProviderFactory);
  Map<String,Map<String,String>> hostConfigTags=new HashMap<String,Map<String,String>>();
  expect(configHelper.getEffectiveDesiredTags(anyObject(ClusterImpl.class),anyObject(String.class))).andReturn(hostConfigTags);
  expect(managementController.getClusters()).andReturn(clusters).anyTimes();
  expect(managementController.getAmbariMetaInfo()).andReturn(ambariMetaInfo).anyTimes();
  expect(managementController.getActionManager()).andReturn(actionManager).anyTimes();
  expect(managementController.getJdkResourceUrl()).andReturn("/JdkResourceUrl").anyTimes();
  expect(managementController.getPackagesForServiceHost(anyObject(ServiceInfo.class),(Map<String,String>)anyObject(List.class),anyObject(String.class))).andReturn(packages).anyTimes();
  expect(resourceProviderFactory.getHostResourceProvider(anyObject(Set.class),anyObject(Map.class),eq(managementController))).andReturn(csvResourceProvider).anyTimes();
  expect(clusters.getCluster(anyObject(String.class))).andReturn(cluster);
  expect(clusters.getHost(anyObject(String.class))).andReturn(host1);
  expect(cluster.getHosts()).andReturn(hostsForCluster.values()).atLeastOnce();
  expect(cluster.getServices()).andReturn(new HashMap<String,Service>()).anyTimes();
  expect(cluster.getCurrentStackVersion()).andReturn(stackId);
  expect(cluster.getServiceComponentHosts(anyObject(String.class))).andReturn(schs).anyTimes();
  expect(sch.getServiceName()).andReturn("HIVE").anyTimes();
  expect(repositoryVersionDAOMock.findByStackAndVersion(anyObject(StackId.class),anyObject(String.class))).andReturn(repoVersion);
  expect(hostVersionDAOMock.findByClusterStackVersionAndHost(anyObject(String.class),anyObject(StackId.class),anyObject(String.class),anyObject(String.class))).andReturn(hostVersionEntityMock);
  expect(hostVersionEntityMock.getState()).andReturn(RepositoryVersionState.OUT_OF_SYNC).anyTimes();
  expect(actionManager.getRequestTasks(anyLong())).andReturn(Collections.<HostRoleCommand>emptyList()).anyTimes();
  TopologyManager topologyManager=injector.getInstance(TopologyManager.class);
  StageUtils.setTopologyManager(topologyManager);
  replay(managementController,response,clusters,resourceProviderFactory,csvResourceProvider,cluster,repositoryVersionDAOMock,configHelper,sch,actionManager,hostVersionEntityMock,hostVersionDAOMock);
  ResourceProvider provider=AbstractControllerResourceProvider.getResourceProvider(type,PropertyHelper.getPropertyIds(type),PropertyHelper.getKeyPropertyIds(type),managementController);
  injector.injectMembers(provider);
  Set<Map<String,Object>> propertySet=new LinkedHashSet<Map<String,Object>>();
  Map<String,Object> properties=new LinkedHashMap<String,Object>();
  properties.put(HostStackVersionResourceProvider.HOST_STACK_VERSION_CLUSTER_NAME_PROPERTY_ID,"Cluster100");
  properties.put(HostStackVersionResourceProvider.HOST_STACK_VERSION_REPO_VERSION_PROPERTY_ID,"2.2.0.1-885");
  properties.put(HostStackVersionResourceProvider.HOST_STACK_VERSION_STACK_PROPERTY_ID,"HDP");
  properties.put(HostStackVersionResourceProvider.HOST_STACK_VERSION_VERSION_PROPERTY_ID,"2.0.1");
  properties.put(HostStackVersionResourceProvider.HOST_STACK_VERSION_HOST_NAME_PROPERTY_ID,"host1");
  propertySet.add(properties);
  Request request=PropertyHelper.getCreateRequest(propertySet,null);
  provider.createResources(request);
  verify(managementController,response,clusters);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.InstanceResourceProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteResources() throws Exception {
  IvoryService service=createMock(IvoryService.class);
  Instance instance1=new Instance("Feed1","Instance1","SUBMITTED","start","end","details","log");
  expect(service.getFeedNames()).andReturn(Collections.singletonList("Feed1"));
  expect(service.getInstances("Feed1")).andReturn(Collections.singletonList(instance1));
  service.killInstance("Feed1","Instance1");
  replay(service);
  InstanceResourceProvider provider=new InstanceResourceProvider(service,PropertyHelper.getPropertyIds(Resource.Type.DRInstance),PropertyHelper.getKeyPropertyIds(Resource.Type.DRInstance));
  Predicate predicate=new PredicateBuilder().property(InstanceResourceProvider.INSTANCE_ID_PROPERTY_ID).equals("Instance1").toPredicate();
  provider.deleteResources(predicate);
  verify(service);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResources() throws Exception {
  IvoryService service=createMock(IvoryService.class);
  Set<Map<String,Object>> propertySet=new HashSet<Map<String,Object>>();
  Map<String,Object> properties=new HashMap<String,Object>();
  properties.put(InstanceResourceProvider.INSTANCE_FEED_NAME_PROPERTY_ID,"Feed1");
  properties.put(InstanceResourceProvider.INSTANCE_ID_PROPERTY_ID,"Instance1");
  properties.put(InstanceResourceProvider.INSTANCE_STATUS_PROPERTY_ID,"SUSPEND");
  properties.put(InstanceResourceProvider.INSTANCE_START_TIME_PROPERTY_ID,"ST");
  properties.put(InstanceResourceProvider.INSTANCE_END_TIME_PROPERTY_ID,"ET");
  properties.put(InstanceResourceProvider.INSTANCE_DETAILS_PROPERTY_ID,"DETAILS");
  properties.put(InstanceResourceProvider.INSTANCE_LOG_PROPERTY_ID,"log");
  List<Instance> instances=new LinkedList<Instance>();
  expect(service.getFeedNames()).andReturn(Collections.singletonList("Feed1"));
  expect(service.getInstances("Feed1")).andReturn(instances);
  replay(service);
  propertySet.add(properties);
  Request request=PropertyHelper.getCreateRequest(propertySet,Collections.<String,String>emptyMap());
  InstanceResourceProvider provider=new InstanceResourceProvider(service,PropertyHelper.getPropertyIds(Resource.Type.DRInstance),PropertyHelper.getKeyPropertyIds(Resource.Type.DRInstance));
  provider.updateResources(request,null);
  verify(service);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.KerberosDescriptorResourceProviderTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=UnsupportedPropertyException.class) public void testCreateShouldThrowExceptionWhenNoDescriptorProvided() throws Exception {
  EasyMock.expect(request.getProperties()).andReturn(requestPropertySet(KERBEROS_DESCRIPTORS_KERBEROS_DESCRIPTOR_NAME,TEST_KERBEROS_DESCRIPTOR_NAME)).times(3);
  EasyMock.expect(request.getRequestInfoProperties()).andReturn(requestInfoPropertyMap("","")).times(2);
  EasyMock.replay(request);
  kerberosDescriptorResourceProvider=new KerberosDescriptorResourceProvider(kerberosDescriptorDAO,kerberosDescriptorFactory,Collections.EMPTY_SET,Collections.EMPTY_MAP,null);
  kerberosDescriptorResourceProvider.createResources(request);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=UnsupportedPropertyException.class) public void testCreateShouldThrowExceptionWhenNoNameProvided() throws Exception {
  EasyMock.expect(request.getProperties()).andReturn(emptyRequestPropertySet()).times(2);
  EasyMock.replay(request);
  kerberosDescriptorResourceProvider=new KerberosDescriptorResourceProvider(kerberosDescriptorDAO,kerberosDescriptorFactory,Collections.EMPTY_SET,Collections.EMPTY_MAP,null);
  kerberosDescriptorResourceProvider.createResources(request);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.MemberResourceProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResources_Administrator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createAdministrator("admin"));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testDeleteResources_ClusterAdministrator() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createClusterAdministrator("User1",2L));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResources_Administrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createAdministrator("admin"));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteResources_Administrator() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createAdministrator("admin"));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResources_ClusterAdministrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createClusterAdministrator("User1",2L));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testGetResources_ClusterAdministrator() throws Exception {
  testGetResources(TestAuthenticationFactory.createClusterAdministrator("User1",2L));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResources_ClusterAdministrator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createClusterAdministrator("User1",2L));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResources_Administrator() throws Exception {
  testGetResources(TestAuthenticationFactory.createAdministrator("admin"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.ProvisionClusterRequestTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidTopologyTemplateException.class) public void testInvalidPredicateProperty() throws Exception {
  reset(hostResourceProvider);
  expect(hostResourceProvider.checkPropertyIds(Collections.singleton("Hosts/host_name"))).andReturn(Collections.singleton("Hosts/host_name"));
  replay(hostResourceProvider);
  new ProvisionClusterRequest(createBlueprintRequestProperties(CLUSTER_NAME,BLUEPRINT_NAME),null);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidTopologyTemplateException.class) public void testHostNameAndCountSpecified() throws Exception {
  reset(hostResourceProvider);
  replay(hostResourceProvider);
  Map<String,Object> properties=createBlueprintRequestPropertiesNameOnly(CLUSTER_NAME,BLUEPRINT_NAME);
  ((Map)((List)properties.get("host_groups")).iterator().next()).put("host_count","5");
  new ProvisionClusterRequest(properties,null);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidTopologyTemplateException.class) public void test_NoHostNameOrHostCount() throws Exception {
  Map<String,Object> properties=createBlueprintRequestProperties(CLUSTER_NAME,BLUEPRINT_NAME);
  for (  Map<String,Object> groupProps : (Collection<Map<String,Object>>)properties.get("host_groups")) {
    Collection<Map<String,Object>> hostInfo=(Collection<Map<String,Object>>)groupProps.get("hosts");
    Map<String,Object> next=hostInfo.iterator().next();
    if (next.containsKey("fqdn")) {
      next.remove("fqdn");
      break;
    }
  }
  reset(hostResourceProvider);
  replay(hostResourceProvider);
  new ProvisionClusterRequest(properties,null);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidTopologyTemplateException.class) public void test_NoHostGroupInfo() throws Exception {
  Map<String,Object> properties=createBlueprintRequestProperties(CLUSTER_NAME,BLUEPRINT_NAME);
  ((Collection)properties.get("host_groups")).clear();
  reset(hostResourceProvider);
  replay(hostResourceProvider);
  new ProvisionClusterRequest(properties,null);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidTopologyTemplateException.class) public void test_NoHostsInfo() throws Exception {
  Map<String,Object> properties=createBlueprintRequestProperties(CLUSTER_NAME,BLUEPRINT_NAME);
  ((Collection<Map<String,Object>>)properties.get("host_groups")).iterator().next().remove("hosts");
  reset(hostResourceProvider);
  replay(hostResourceProvider);
  new ProvisionClusterRequest(properties,null);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidTopologyTemplateException.class) public void test_GroupInfoMissingName() throws Exception {
  Map<String,Object> properties=createBlueprintRequestProperties(CLUSTER_NAME,BLUEPRINT_NAME);
  ((Collection<Map<String,Object>>)properties.get("host_groups")).iterator().next().remove("name");
  reset(hostResourceProvider);
  replay(hostResourceProvider);
  new ProvisionClusterRequest(properties,null);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidTopologyTemplateException.class) public void testHostNameAndPredicateSpecified() throws Exception {
  reset(hostResourceProvider);
  replay(hostResourceProvider);
  Map<String,Object> properties=createBlueprintRequestPropertiesNameOnly(CLUSTER_NAME,BLUEPRINT_NAME);
  ((Map)((List)properties.get("host_groups")).iterator().next()).put("host_predicate","Hosts/host_name=myTestHost");
  new ProvisionClusterRequest(properties,null);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidTopologyTemplateException.class) public void test_CreditentialsInvalidType() throws Exception {
  Map<String,Object> properties=createBlueprintRequestProperties(CLUSTER_NAME,BLUEPRINT_NAME);
  HashMap<String,String> credentialHashMap=new HashMap<>();
  credentialHashMap.put("alias","testAlias");
  credentialHashMap.put("principal","testPrincipal");
  credentialHashMap.put("key","testKey");
  credentialHashMap.put("type","testType");
  Set<Map<String,String>> credentialsSet=new HashSet<>();
  credentialsSet.add(credentialHashMap);
  properties.put("credentials",credentialsSet);
  ProvisionClusterRequest provisionClusterRequest=new ProvisionClusterRequest(properties,null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.RepositoryResourceProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResources() throws Exception {
  Resource.Type type=Resource.Type.Repository;
  AmbariManagementController managementController=EasyMock.createMock(AmbariManagementController.class);
  RepositoryResponse rr=new RepositoryResponse(VAL_BASE_URL,VAL_OS,VAL_REPO_ID,VAL_REPO_NAME,null,null,null);
  Set<RepositoryResponse> allResponse=new HashSet<RepositoryResponse>();
  allResponse.add(rr);
  expect(managementController.getRepositories(EasyMock.<Set<RepositoryRequest>>anyObject())).andReturn(allResponse).times(1);
  managementController.updateRepositories(EasyMock.<Set<RepositoryRequest>>anyObject());
  replay(managementController);
  ResourceProvider provider=new RepositoryResourceProvider(managementController);
  Map<String,Object> properties=new LinkedHashMap<String,Object>();
  properties.put(RepositoryResourceProvider.REPOSITORY_BASE_URL_PROPERTY_ID,"http://garbage.eu.co");
  Request request=PropertyHelper.getUpdateRequest(properties,null);
  Predicate predicate=new PredicateBuilder().property(RepositoryResourceProvider.REPOSITORY_STACK_NAME_PROPERTY_ID).equals(VAL_STACK_NAME).and().property(RepositoryResourceProvider.REPOSITORY_STACK_VERSION_PROPERTY_ID).equals(VAL_STACK_VERSION).toPredicate();
  provider.updateResources(request,predicate);
  verify(managementController);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.RepositoryVersionResourceProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResourcesAsAdministrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesAsClusterAdministrator() throws Exception {
  testGetResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesAsAdministrator() throws Exception {
  testGetResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourcesAsClusterAdministrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteResourcesAsAdministrator() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testDeleteResourcesAsClusterAdministrator() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResourcesAsClusterAdministrator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResourcesAsAdministrator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.RequestResourceProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResourcesForCommandsWithParamsAsServiceOperator() throws Exception {
  testCreateResourcesForCommandsWithParams(TestAuthenticationFactory.createServiceOperator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResourcesForCommandsWithOpLvlAsClusterAdministrator() throws Exception {
  testCreateResourcesForCommandsWithOpLvl(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResourcesForCommandsWithParamsAsServiceAdministrator() throws Exception {
  testCreateResourcesForCommandsWithParams(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResourcesForCommandsWithOpLvlAsServiceOperator() throws Exception {
  testCreateResourcesForCommandsWithOpLvl(TestAuthenticationFactory.createServiceOperator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourcesForCommandsWithOpLvlAsClusterUser() throws Exception {
  testCreateResourcesForCommandsWithOpLvl(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResourcesForCommandsWithParamsAsClusterAdministrator() throws Exception {
  testCreateResourcesForCommandsWithParams(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesWithRequestInfo() throws Exception {
  Resource.Type type=Resource.Type.Request;
  expect(requestDAO.findByPks(Collections.<Long>emptyList(),true)).andReturn(Collections.<RequestEntity>emptyList()).anyTimes();
  replay(requestDAO);
  ActionManager actionManager=createNiceMock(ActionManager.class);
  Cluster cluster=createNiceMock(Cluster.class);
  expect(cluster.getClusterId()).andReturn(1L).anyTimes();
  expect(cluster.getResourceId()).andReturn(4L).anyTimes();
  Clusters clusters=createNiceMock(Clusters.class);
  expect(clusters.getCluster("foo_cluster")).andReturn(cluster).anyTimes();
  AmbariManagementController managementController=createMock(AmbariManagementController.class);
  expect(managementController.getActionManager()).andReturn(actionManager).anyTimes();
  expect(managementController.getClusters()).andReturn(clusters).anyTimes();
  replay(managementController,clusters,cluster);
  ResourceProvider provider=AbstractControllerResourceProvider.getResourceProvider(type,PropertyHelper.getPropertyIds(type),PropertyHelper.getKeyPropertyIds(type),managementController);
  Map<String,String> requestInfoProperties=new HashMap<String,String>();
  Request request;
  Predicate predicate=new PredicateBuilder().property(RequestResourceProvider.REQUEST_CLUSTER_NAME_PROPERTY_ID).equals("foo_cluster").and().property(RequestResourceProvider.REQUEST_ID_PROPERTY_ID).equals(null).and().property(RequestResourceProvider.REQUEST_STATUS_PROPERTY_ID).equals(null).toPredicate();
  request=PropertyHelper.getReadRequest(new HashSet<String>(),requestInfoProperties,null,null,null);
  expect(actionManager.getRequestsByStatus(null,BaseRequest.DEFAULT_PAGE_SIZE,false)).andReturn(Collections.<Long>emptyList());
  replay(actionManager);
  provider.getResources(request,predicate);
  verify(actionManager);
  reset(actionManager);
  requestInfoProperties.put(BaseRequest.PAGE_SIZE_PROPERTY_KEY,"20");
  request=PropertyHelper.getReadRequest(new HashSet<String>(),requestInfoProperties,null,null,null);
  expect(actionManager.getRequestsByStatus(null,20,false)).andReturn(Collections.<Long>emptyList());
  replay(actionManager);
  provider.getResources(request,predicate);
  verify(actionManager);
  reset(actionManager);
  requestInfoProperties.put(BaseRequest.ASC_ORDER_PROPERTY_KEY,"true");
  request=PropertyHelper.getReadRequest(new HashSet<String>(),requestInfoProperties,null,null,null);
  expect(actionManager.getRequestsByStatus(null,20,true)).andReturn(Collections.<Long>emptyList());
  replay(actionManager);
  provider.getResources(request,predicate);
  verify(actionManager);
  reset(actionManager);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourcesForCommandsAsClusterUser() throws Exception {
  testCreateResourcesForCommands(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResourcesForCommandsWithOpLvlAsAdministrator() throws Exception {
  testCreateResourcesForCommandsWithOpLvl(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResourcesForCommandsAsAdministrator() throws Exception {
  testCreateResourcesForCommands(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResourcesForCommandsAsClusterAdministrator() throws Exception {
  testCreateResourcesForCommands(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResourcesForCommandsWithParamsAsAdministrator() throws Exception {
  testCreateResourcesForCommandsWithParams(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourcesForCommandsWithParamsAsClusterUser() throws Exception {
  testCreateResourcesForCommandsWithParams(TestAuthenticationFactory.createClusterUser());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResourcesForCommandsAsServiceOperator() throws Exception {
  testCreateResourcesForCommands(TestAuthenticationFactory.createServiceOperator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResourcesForCommandsAsServiceAdministrator() throws Exception {
  testCreateResourcesForCommands(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResourcesForCommandsWithOpLvlAsServiceAdministrator() throws Exception {
  testCreateResourcesForCommandsWithOpLvl(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.RequestScheduleResourceProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateRequestSchedule() throws Exception {
  AmbariManagementController managementController=createMock(AmbariManagementController.class);
  RequestStatusResponse response=createNiceMock(RequestStatusResponse.class);
  Clusters clusters=createNiceMock(Clusters.class);
  Cluster cluster=createNiceMock(Cluster.class);
  final RequestExecution requestExecution=createNiceMock(RequestExecution.class);
  RequestScheduleResponse requestScheduleResponse=createNiceMock(RequestScheduleResponse.class);
  ExecutionScheduleManager executionScheduleManager=createNiceMock(ExecutionScheduleManager.class);
  expect(managementController.getClusters()).andReturn(clusters).anyTimes();
  expect(clusters.getCluster("Cluster100")).andReturn(cluster).anyTimes();
  expect(managementController.getAuthName()).andReturn("admin").anyTimes();
  expect(managementController.getExecutionScheduleManager()).andReturn(executionScheduleManager).anyTimes();
  expect(requestExecution.getId()).andReturn(25L).anyTimes();
  expect(requestExecution.convertToResponse()).andReturn(requestScheduleResponse).anyTimes();
  expect(requestExecution.convertToResponseWithBody()).andReturn(requestScheduleResponse).anyTimes();
  expect(requestScheduleResponse.getId()).andReturn(25L).anyTimes();
  expect(requestScheduleResponse.getClusterName()).andReturn("Cluster100").anyTimes();
  expect(cluster.getAllRequestExecutions()).andStubAnswer(new IAnswer<Map<Long,RequestExecution>>(){
    @Override public Map<Long,RequestExecution> answer() throws Throwable {
      Map<Long,RequestExecution> requestExecutionMap=new HashMap<Long,RequestExecution>();
      requestExecutionMap.put(requestExecution.getId(),requestExecution);
      return requestExecutionMap;
    }
  }
);
  replay(managementController,clusters,cluster,requestExecution,response,requestScheduleResponse,executionScheduleManager);
  RequestScheduleResourceProvider resourceProvider=getResourceProvider(managementController);
  Map<String,Object> properties=new LinkedHashMap<String,Object>();
  properties.put(RequestScheduleResourceProvider.REQUEST_SCHEDULE_CLUSTER_NAME_PROPERTY_ID,"Cluster100");
  properties.put(RequestScheduleResourceProvider.REQUEST_SCHEDULE_DESC_PROPERTY_ID,"some description");
  properties.put(RequestScheduleResourceProvider.SCHEDULE_DAY_OF_WEEK_PROPERTY_ID,"MON");
  properties.put(RequestScheduleResourceProvider.SCHEDULE_MINUTES_PROPERTY_ID,"2");
  properties.put(RequestScheduleResourceProvider.SCHEDULE_END_TIME_PROPERTY_ID,"2013-11-18T14:29:29-08:00");
  properties.put(RequestScheduleResourceProvider.SCHEDULE_DAYS_OF_MONTH_PROPERTY_ID,"*");
  HashSet<Map<String,Object>> batch=new HashSet<Map<String,Object>>();
  Map<String,Object> batchSettings=new HashMap<String,Object>();
  batchSettings.put(RequestScheduleResourceProvider.REQUEST_SCHEDULE_BATCH_SEPARATION_PROPERTY_ID,"15");
  Map<String,Object> batchRequests=new HashMap<String,Object>();
  HashSet<Map<String,Object>> requestSet=new HashSet<Map<String,Object>>();
  Map<String,Object> request1=new HashMap<String,Object>();
  Map<String,Object> request2=new HashMap<String,Object>();
  request1.put(RequestScheduleResourceProvider.BATCH_REQUEST_TYPE_PROPERTY_ID,BatchRequest.Type.PUT.name());
  request1.put(RequestScheduleResourceProvider.BATCH_REQUEST_ORDER_ID_PROPERTY_ID,"20");
  request1.put(RequestScheduleResourceProvider.BATCH_REQUEST_URI_PROPERTY_ID,"SomeUpdateUri");
  request1.put(RequestScheduleResourceProvider.BATCH_REQUEST_BODY_PROPERTY_ID,"data1");
  request2.put(RequestScheduleResourceProvider.BATCH_REQUEST_TYPE_PROPERTY_ID,BatchRequest.Type.DELETE.name());
  request2.put(RequestScheduleResourceProvider.BATCH_REQUEST_ORDER_ID_PROPERTY_ID,"22");
  request2.put(RequestScheduleResourceProvider.BATCH_REQUEST_URI_PROPERTY_ID,"SomeDeleteUri");
  requestSet.add(request1);
  requestSet.add(request2);
  batchRequests.put(RequestScheduleResourceProvider.REQUEST_SCHEDULE_BATCH_REQUESTS_PROPERTY_ID,requestSet);
  batch.add(batchSettings);
  batch.add(batchRequests);
  properties.put(RequestScheduleResourceProvider.REQUEST_SCHEDULE_BATCH_PROPERTY_ID,batch);
  Map<String,String> mapRequestProps=new HashMap<String,String>();
  mapRequestProps.put("context","Called from a test");
  Request request=PropertyHelper.getUpdateRequest(properties,mapRequestProps);
  Predicate predicate=new PredicateBuilder().property(RequestScheduleResourceProvider.REQUEST_SCHEDULE_CLUSTER_NAME_PROPERTY_ID).equals("Cluster100").and().property(RequestScheduleResourceProvider.REQUEST_SCHEDULE_ID_PROPERTY_ID).equals(25L).toPredicate();
  resourceProvider.updateResources(request,predicate);
  verify(managementController,clusters,cluster,requestExecution,response,requestScheduleResponse,executionScheduleManager);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.RequestStageContainerTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testPersist() throws AmbariException {
  ActionManager actionManager=createStrictMock(ActionManager.class);
  RequestFactory requestFactory=createStrictMock(RequestFactory.class);
  Request request=createStrictMock(Request.class);
  Stage stage1=createNiceMock(Stage.class);
  Stage stage2=createNiceMock(Stage.class);
  List<Stage> stages=new ArrayList<Stage>();
  stages.add(stage1);
  stages.add(stage2);
  expect(requestFactory.createNewFromStages(stages)).andReturn(request);
  expect(request.getStages()).andReturn(stages).anyTimes();
  actionManager.sendActions(request,null);
  replay(actionManager,requestFactory,request,stage1,stage2);
  RequestStageContainer requestStages=new RequestStageContainer(1L,stages,requestFactory,actionManager);
  requestStages.persist();
  verify(actionManager,requestFactory,request,stage1,stage2);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testPersist_noStages() throws AmbariException {
  ActionManager actionManager=createStrictMock(ActionManager.class);
  RequestFactory requestFactory=createStrictMock(RequestFactory.class);
  replay(actionManager,requestFactory);
  RequestStageContainer requestStages=new RequestStageContainer(1L,null,requestFactory,actionManager);
  requestStages.persist();
  verify(actionManager,requestFactory);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.RoleAuthorizationResourceProviderTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=org.apache.ambari.server.controller.spi.SystemException.class) public void testUpdateResources() throws Exception {
  replayAll();
  AmbariManagementController managementController=injector.getInstance(AmbariManagementController.class);
  RoleAuthorizationResourceProvider provider=new RoleAuthorizationResourceProvider(managementController);
  provider.updateResources(createNiceMock(Request.class),null);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=org.apache.ambari.server.controller.spi.SystemException.class) public void testDeleteResources() throws Exception {
  replayAll();
  AmbariManagementController managementController=injector.getInstance(AmbariManagementController.class);
  RoleAuthorizationResourceProvider provider=new RoleAuthorizationResourceProvider(managementController);
  provider.deleteResources(null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.RootServiceHostComponentResourceProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResources() throws Exception {
  Resource.Type type=Resource.Type.RootServiceHostComponent;
  AmbariManagementController managementController=createMock(AmbariManagementController.class);
  Clusters clusters=createNiceMock(Clusters.class);
  Cluster cluster=createNiceMock(Cluster.class);
  Host host1=createNiceMock(Host.class);
  HostHealthStatus healthStatus=createNiceMock(HostHealthStatus.class);
  HostResponse hostResponse1=createNiceMock(HostResponse.class);
  RootServiceHostComponentResponse response=createNiceMock(RootServiceHostComponentResponse.class);
  AbstractRootServiceResponseFactory factory=createNiceMock(AbstractRootServiceResponseFactory.class);
  List<Host> hosts=new LinkedList<Host>();
  hosts.add(host1);
  Set<Cluster> clusterSet=new HashSet<Cluster>();
  clusterSet.add(cluster);
  Set<RootServiceHostComponentResponse> responseSet=new HashSet<RootServiceHostComponentResponse>();
  responseSet.add(response);
  expect(managementController.getRootServiceResponseFactory()).andReturn(factory).anyTimes();
  expect(managementController.getClusters()).andReturn(clusters).anyTimes();
  expect(clusters.getHosts()).andReturn(hosts).anyTimes();
  expect(factory.getRootServiceHostComponent((RootServiceHostComponentRequest)anyObject(),(Set<HostResponse>)anyObject())).andReturn(responseSet).anyTimes();
  expect(clusters.getCluster("Cluster100")).andReturn(cluster).anyTimes();
  expect(clusters.getClustersForHost("Host100")).andReturn(clusterSet).anyTimes();
  expect(host1.getHostName()).andReturn("Host100").anyTimes();
  expect(host1.convertToResponse()).andReturn(hostResponse1).anyTimes();
  expect(hostResponse1.getClusterName()).andReturn("Cluster100").anyTimes();
  expect(hostResponse1.getHostname()).andReturn("Host100").anyTimes();
  expect(hostResponse1.getHealthStatus()).andReturn(healthStatus).anyTimes();
  expect(healthStatus.getHealthStatus()).andReturn(HostHealthStatus.HealthStatus.HEALTHY).anyTimes();
  expect(healthStatus.getHealthReport()).andReturn("HEALTHY").anyTimes();
  replay(managementController,clusters,cluster,host1,hostResponse1,healthStatus,factory,response);
  ResourceProvider provider=AbstractControllerResourceProvider.getResourceProvider(type,PropertyHelper.getPropertyIds(type),PropertyHelper.getKeyPropertyIds(type),managementController);
  Set<String> propertyIds=new HashSet<String>();
  propertyIds.add(RootServiceHostComponentResourceProvider.SERVICE_NAME_PROPERTY_ID);
  propertyIds.add(RootServiceHostComponentResourceProvider.HOST_NAME_PROPERTY_ID);
  propertyIds.add(RootServiceHostComponentResourceProvider.COMPONENT_NAME_PROPERTY_ID);
  propertyIds.add(RootServiceHostComponentResourceProvider.COMPONENT_STATE_PROPERTY_ID);
  propertyIds.add(RootServiceHostComponentResourceProvider.PROPERTIES_PROPERTY_ID);
  propertyIds.add(RootServiceHostComponentResourceProvider.COMPONENT_VERSION_PROPERTY_ID);
  Request request=PropertyHelper.getReadRequest(propertyIds);
  provider.getResources(request,null);
  verify(managementController,clusters,cluster,host1,hostResponse1,healthStatus,factory,response);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.ScaleClusterRequestTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidTopologyTemplateException.class) public void testInvalidPredicateProperty() throws Exception {
  reset(hostResourceProvider);
  expect(hostResourceProvider.checkPropertyIds(Collections.singleton("test/prop"))).andReturn(Collections.singleton("test/prop"));
  replay(hostResourceProvider);
  new ScaleClusterRequest(Collections.singleton(createScaleClusterPropertiesGroup1_HostCountAndPredicate(CLUSTER_NAME,BLUEPRINT_NAME)));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidTopologyTemplateException.class) public void test_NoHostNameOrHostCount() throws Exception {
  Map<String,Object> properties=createScaleClusterPropertiesGroup1_HostName(CLUSTER_NAME,BLUEPRINT_NAME);
  properties.remove("host_name");
  reset(hostResourceProvider);
  replay(hostResourceProvider);
  new ScaleClusterRequest(Collections.singleton(properties));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidTopologyTemplateException.class) public void testMultipleBlueprints() throws Exception {
  reset(hostResourceProvider);
  replay(hostResourceProvider);
  Set<Map<String,Object>> propertySet=new LinkedHashSet<Map<String,Object>>();
  propertySet.add(createScaleClusterPropertiesGroup1_HostName(CLUSTER_NAME,BLUEPRINT_NAME));
  propertySet.add(createScaleClusterPropertiesGroup1_HostName2(CLUSTER_NAME,"OTHER_BLUEPRINT"));
  new ScaleClusterRequest(propertySet);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidTopologyTemplateException.class) public void test_GroupInfoMissingName() throws Exception {
  Map<String,Object> properties=createScaleClusterPropertiesGroup1_HostName(CLUSTER_NAME,BLUEPRINT_NAME);
  properties.remove("host_group");
  reset(hostResourceProvider);
  replay(hostResourceProvider);
  new ScaleClusterRequest(Collections.singleton(properties));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.ServiceResourceProviderTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testDeleteResourcesAsServiceAdministrator() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourcesAsServiceAdministrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesAsServiceAdministrator() throws Exception {
  testGetResources(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesAsAdministrator() throws Exception {
  testGetResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testReconfigureClientsFlagAsServiceAdministrator() throws Exception {
  testReconfigureClientsFlag(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResourcesAsClusterAdministrator() throws Exception {
  testGetResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testReconfigureClientsFlagAsAdministrator() throws Exception {
  testReconfigureClientsFlag(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteResourcesAsAdministrator() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResourcesAsAdministrator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResourcesAsServiceAdministrator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createServiceAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResourcesAsAdministrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResourcesAsClusterAdministrator() throws Exception {
  testUpdateResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testReconfigureClientsFlagAsClusterAdministrator() throws Exception {
  testReconfigureClientsFlag(TestAuthenticationFactory.createAdministrator("clusterAdmin"));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResourcesAsClusterAdministrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteResourcesAsClusterAdministrator() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.SettingResourceProviderTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testGetResources_collection_noAuth() throws Exception {
  mockControl.replay();
  Request request=PropertyHelper.getReadRequest(SETTING_NAME_PROPERTY_ID,SETTING_CONTENT_PROPERTY_ID,SETTING_SETTING_TYPE_PROPERTY_ID,SETTING_UPDATED_BY_PROPERTY_ID,SETTING_UPDATE_TIMESTAMP_PROPERTY_ID);
  resourceProvider.getResources(request,null);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testGetResources_instance_noAuth() throws Exception {
  getResources_instance(newEntity("motd"),readRequest());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteResources() throws Exception {
  setupAuthenticationForAdmin();
  String name="motd";
  PredicateBuilder pb=new PredicateBuilder();
  Predicate predicate=pb.begin().property(SETTING_NAME_PROPERTY_ID).equals(name).end().toPredicate();
  dao.removeByName(name);
  mockControl.replay();
  resourceProvider.deleteResources(predicate);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=ResourceAlreadyExistsException.class) public void testCreateDuplicateResource() throws Exception {
  setupAuthenticationForAdmin();
  SettingEntity entity=newEntity("motd");
  Request request=createRequest(entity);
  expect(dao.findByName(entity.getName())).andReturn(entity);
  mockControl.replay();
  resourceProvider.createResources(request);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResource_noAuth() throws Exception {
  mockControl.replay();
  resourceProvider.createResources(createRequest(newEntity("moted")));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResources_clusterUser() throws Exception {
  setupAuthenticationForClusterUser();
  mockControl.replay();
  resourceProvider.updateResources(updateRequest(newEntity("motd")),null);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResource_clusterUser() throws Exception {
  setupAuthenticationForClusterUser();
  mockControl.replay();
  resourceProvider.createResources(createRequest(newEntity("motd")));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testDeleteResources_noAuth() throws Exception {
  mockControl.replay();
  resourceProvider.deleteResources(null);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResources_noAuth() throws Exception {
  mockControl.replay();
  resourceProvider.updateResources(updateRequest(newEntity("motd")),null);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testDeleteResources_clusterUser() throws Exception {
  setupAuthenticationForClusterUser();
  mockControl.replay();
  resourceProvider.deleteResources(null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.StackDefinedPropertyProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testStackDefinedPropertyProviderAsAdministrator() throws Exception {
  SecurityContextHolder.getContext().setAuthentication(TestAuthenticationFactory.createAdministrator("Admin"));
  testPopulateHostComponentResources();
  testCustomProviders();
  testPopulateResources_HDP2();
  testPopulateResources_HDP2_params();
  testPopulateResources_HDP2_params_singleProperty();
  testPopulateResources_HDP2_params_category();
  testPopulateResources_HDP2_params_category2();
  testPopulateResources_jmx_JournalNode();
  testPopulateResources_jmx_Storm();
  testPopulateResources_NoRegionServer();
  testPopulateResources_HBaseMaster2();
  testPopulateResources_params_category5();
  testPopulateResources_ganglia_JournalNode();
  testPopulateResources_resourcemanager_clustermetrics();
  testPopulateResourcesWithAggregateFunctionMetrics();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testStackDefinedPropertyProviderAsClusterAdministrator() throws Exception {
  SecurityContextHolder.getContext().setAuthentication(TestAuthenticationFactory.createClusterAdministrator("ClusterAdmin",2L));
  testPopulateHostComponentResources();
  testCustomProviders();
  testPopulateResources_HDP2();
  testPopulateResources_HDP2_params();
  testPopulateResources_HDP2_params_singleProperty();
  testPopulateResources_HDP2_params_category();
  testPopulateResources_HDP2_params_category2();
  testPopulateResources_jmx_JournalNode();
  testPopulateResources_jmx_Storm();
  testPopulateResources_NoRegionServer();
  testPopulateResources_HBaseMaster2();
  testPopulateResources_params_category5();
  testPopulateResources_ganglia_JournalNode();
  testPopulateResources_resourcemanager_clustermetrics();
  testPopulateResourcesWithAggregateFunctionMetrics();
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testStackDefinedPropertyProviderAsViewUser() throws Exception {
  SecurityContextHolder.getContext().setAuthentication(TestAuthenticationFactory.createViewUser("ViewUser",2L));
  testPopulateHostComponentResources();
  testCustomProviders();
  testPopulateResources_HDP2();
  testPopulateResources_HDP2_params();
  testPopulateResources_HDP2_params_singleProperty();
  testPopulateResources_HDP2_params_category();
  testPopulateResources_HDP2_params_category2();
  testPopulateResources_jmx_JournalNode();
  testPopulateResources_jmx_Storm();
  testPopulateResources_NoRegionServer();
  testPopulateResources_HBaseMaster2();
  testPopulateResources_params_category5();
  testPopulateResources_ganglia_JournalNode();
  testPopulateResources_resourcemanager_clustermetrics();
  testPopulateResourcesWithAggregateFunctionMetrics();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testStackDefinedPropertyProviderAsServiceAdministrator() throws Exception {
  SecurityContextHolder.getContext().setAuthentication(TestAuthenticationFactory.createServiceAdministrator("ServiceAdmin",2L));
  testPopulateHostComponentResources();
  testCustomProviders();
  testPopulateResources_HDP2();
  testPopulateResources_HDP2_params();
  testPopulateResources_HDP2_params_singleProperty();
  testPopulateResources_HDP2_params_category();
  testPopulateResources_HDP2_params_category2();
  testPopulateResources_jmx_JournalNode();
  testPopulateResources_jmx_Storm();
  testPopulateResources_NoRegionServer();
  testPopulateResources_HBaseMaster2();
  testPopulateResources_params_category5();
  testPopulateResources_ganglia_JournalNode();
  testPopulateResources_resourcemanager_clustermetrics();
  testPopulateResourcesWithAggregateFunctionMetrics();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.StageResourceProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResources() throws Exception {
  StageResourceProvider provider=new StageResourceProvider(managementController);
  Request request=createNiceMock(Request.class);
  Predicate predicate=createNiceMock(Predicate.class);
  expect(clusters.getClusterById(anyLong())).andReturn(cluster).anyTimes();
  expect(request.getProperties()).andReturn(Collections.<Map<String,Object>>emptySet());
  replay(clusters,cluster,request,predicate);
  provider.updateResources(request,predicate);
  verify(clusters,cluster);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateStageStatus_aborted() throws Exception {
  StageResourceProvider provider=new StageResourceProvider(managementController);
  ActionManager actionManager=createNiceMock(ActionManager.class);
  Predicate predicate=new PredicateBuilder().property(StageResourceProvider.STAGE_STAGE_ID).equals(2L).and().property(StageResourceProvider.STAGE_REQUEST_ID).equals(1L).toPredicate();
  Map<String,Object> requestProps=new HashMap<String,Object>();
  requestProps.put(StageResourceProvider.STAGE_STATUS,HostRoleStatus.ABORTED.name());
  Request request=PropertyHelper.getUpdateRequest(requestProps,null);
  List<StageEntity> entities=getStageEntities(HostRoleStatus.HOLDING);
  expect(dao.findAll(request,predicate)).andReturn(entities);
  expect(managementController.getActionManager()).andReturn(actionManager).anyTimes();
  dao.updateStageStatus(entities.get(0),HostRoleStatus.ABORTED,actionManager);
  EasyMock.expectLastCall().atLeastOnce();
  replay(dao,clusters,cluster,actionManager,managementController);
  provider.updateResources(request,predicate);
  verify(dao,clusters,cluster,actionManager,managementController);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.TargetClusterResourceProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResources() throws Exception {
  IvoryService service=createMock(IvoryService.class);
  Set<Map<String,Object>> propertySet=new HashSet<Map<String,Object>>();
  Map<String,Object> properties=new HashMap<String,Object>();
  properties.put(TargetClusterResourceProvider.CLUSTER_NAME_PROPERTY_ID,"Cluster1");
  properties.put(TargetClusterResourceProvider.CLUSTER_COLO_PROPERTY_ID,"Colo");
  properties.put(TargetClusterResourceProvider.CLUSTER_INTERFACES_PROPERTY_ID,Collections.singleton(interfaces));
  properties.put(TargetClusterResourceProvider.CLUSTER_LOCATIONS_PROPERTY_ID,Collections.singleton(locations));
  properties.put(TargetClusterResourceProvider.CLUSTER_PROPERTIES_PROPERTY_ID + "/P1","V1");
  List<String> targetClusterNames=new LinkedList<String>();
  targetClusterNames.add("Cluster1");
  Set<Cluster.Interface> interfaceSet=Collections.singleton(interface1);
  Set<Cluster.Location> locationSet=Collections.singleton(location1);
  Cluster targetCluster1=new Cluster("Cluster1","Colo",interfaceSet,locationSet,Collections.singletonMap("P1","V1"));
  expect(service.getClusterNames()).andReturn(targetClusterNames);
  expect(service.getCluster("Cluster1")).andReturn(targetCluster1);
  service.updateCluster(targetCluster1);
  replay(service);
  propertySet.add(properties);
  Request request=PropertyHelper.getCreateRequest(propertySet,Collections.<String,String>emptyMap());
  TargetClusterResourceProvider provider=new TargetClusterResourceProvider(service,PropertyHelper.getPropertyIds(Resource.Type.DRTargetCluster),PropertyHelper.getKeyPropertyIds(Resource.Type.DRTargetCluster));
  provider.updateResources(request,null);
  verify(service);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteResources() throws Exception {
  IvoryService service=createMock(IvoryService.class);
  List<String> targetClusterNames=new LinkedList<String>();
  targetClusterNames.add("Cluster1");
  Cluster.Interface interface1=new Cluster.Interface("type","endpoint","version");
  Cluster.Location location1=new Cluster.Location("name","path");
  Cluster targetCluster1=new Cluster("Cluster1","Colo",Collections.singleton(interface1),Collections.singleton(location1),Collections.singletonMap("P1","V1"));
  expect(service.getClusterNames()).andReturn(targetClusterNames);
  expect(service.getCluster("Cluster1")).andReturn(targetCluster1);
  service.deleteCluster("Cluster1");
  replay(service);
  TargetClusterResourceProvider provider=new TargetClusterResourceProvider(service,PropertyHelper.getPropertyIds(Resource.Type.DRTargetCluster),PropertyHelper.getKeyPropertyIds(Resource.Type.DRTargetCluster));
  Predicate predicate=new PredicateBuilder().property(TargetClusterResourceProvider.CLUSTER_NAME_PROPERTY_ID).equals("Cluster1").toPredicate();
  provider.deleteResources(predicate);
  verify(service);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResources() throws Exception {
  IvoryService service=createMock(IvoryService.class);
  Set<Map<String,Object>> propertySet=new HashSet<Map<String,Object>>();
  Map<String,Object> properties=new HashMap<String,Object>();
  properties.put(TargetClusterResourceProvider.CLUSTER_NAME_PROPERTY_ID,"Cluster1");
  properties.put(TargetClusterResourceProvider.CLUSTER_COLO_PROPERTY_ID,"Colo");
  properties.put(TargetClusterResourceProvider.CLUSTER_INTERFACES_PROPERTY_ID,Collections.singleton(interfaces));
  properties.put(TargetClusterResourceProvider.CLUSTER_LOCATIONS_PROPERTY_ID,Collections.singleton(locations));
  properties.put(TargetClusterResourceProvider.CLUSTER_PROPERTIES_PROPERTY_ID,Collections.singletonMap("P1","V1"));
  service.submitCluster(TargetClusterResourceProvider.getCluster("Cluster1",properties));
  replay(service);
  propertySet.add(properties);
  Request request=PropertyHelper.getCreateRequest(propertySet,Collections.<String,String>emptyMap());
  TargetClusterResourceProvider provider=new TargetClusterResourceProvider(service,PropertyHelper.getPropertyIds(Resource.Type.DRTargetCluster),PropertyHelper.getKeyPropertyIds(Resource.Type.DRTargetCluster));
  provider.createResources(request);
  verify(service);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.UserAuthorizationResourceProviderTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=SystemException.class) public void testCreateResources() throws Exception {
  Injector injector=createInjector();
  replayAll();
  SecurityContextHolder.getContext().setAuthentication(TestAuthenticationFactory.createClusterAdministrator("user1",2L));
  AmbariManagementController managementController=injector.getInstance(AmbariManagementController.class);
  UserAuthorizationResourceProvider provider=new UserAuthorizationResourceProvider(managementController);
  provider.createResources(createNiceMock(Request.class));
  verifyAll();
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=SystemException.class) public void testDeleteResources() throws Exception {
  Injector injector=createInjector();
  replayAll();
  SecurityContextHolder.getContext().setAuthentication(TestAuthenticationFactory.createClusterAdministrator("user1",2L));
  AmbariManagementController managementController=injector.getInstance(AmbariManagementController.class);
  UserAuthorizationResourceProvider provider=new UserAuthorizationResourceProvider(managementController);
  provider.deleteResources(null);
  verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResources_NonAdministrator_Self() throws Exception {
  getResourcesTest(TestAuthenticationFactory.createClusterAdministrator("User1",2L),"User1");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResources_Administrator() throws Exception {
  getResourcesTest(TestAuthenticationFactory.createAdministrator("admin"),"User1");
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=SystemException.class) public void testUpdateResources() throws Exception {
  Injector injector=createInjector();
  replayAll();
  SecurityContextHolder.getContext().setAuthentication(TestAuthenticationFactory.createClusterAdministrator("user1",2L));
  AmbariManagementController managementController=injector.getInstance(AmbariManagementController.class);
  UserAuthorizationResourceProvider provider=new UserAuthorizationResourceProvider(managementController);
  provider.updateResources(createNiceMock(Request.class),null);
  verifyAll();
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testGetResources_NonAdministrator_Other() throws Exception {
  getResourcesTest(TestAuthenticationFactory.createClusterAdministrator("User1",2L),"User10");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.UserPrivilegeResourceProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResources_Administrator() throws Exception {
  getResourcesTest(TestAuthenticationFactory.createAdministrator("admin"),"User1");
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testGetResources_NonAdministrator_Other() throws Exception {
  getResourcesTest(TestAuthenticationFactory.createClusterAdministrator("User1",2L),"User10");
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=SystemException.class) public void testUpdateResources() throws Exception {
  SecurityContextHolder.getContext().setAuthentication(TestAuthenticationFactory.createClusterAdministrator("user1",2L));
  UserPrivilegeResourceProvider resourceProvider=new UserPrivilegeResourceProvider();
  resourceProvider.updateResources(createNiceMock(Request.class),createNiceMock(Predicate.class));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResources_NonAdministrator_Self() throws Exception {
  getResourcesTest(TestAuthenticationFactory.createClusterAdministrator("User1",2L),"User1");
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=SystemException.class) public void testDeleteResources() throws Exception {
  SecurityContextHolder.getContext().setAuthentication(TestAuthenticationFactory.createClusterAdministrator("user1",2L));
  UserPrivilegeResourceProvider resourceProvider=new UserPrivilegeResourceProvider();
  resourceProvider.deleteResources(createNiceMock(Predicate.class));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=SystemException.class) public void testCreateResources() throws Exception {
  SecurityContextHolder.getContext().setAuthentication(TestAuthenticationFactory.createClusterAdministrator("user1",2L));
  UserPrivilegeResourceProvider resourceProvider=new UserPrivilegeResourceProvider();
  resourceProvider.createResources(createNiceMock(Request.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.UserResourceProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResources_Administrator() throws Exception {
  createResourcesTest(TestAuthenticationFactory.createAdministrator("admin"));
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResources_SetAdmin_NonAdministrator_Other() throws Exception {
  updateResources_SetAdmin(TestAuthenticationFactory.createClusterAdministrator("User1",2L),"User100");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResources_Administrator() throws Exception {
  getResourcesTest(TestAuthenticationFactory.createAdministrator("admin"));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteResource_Administrator_Other() throws Exception {
  deleteResourcesTest(TestAuthenticationFactory.createAdministrator("admin"),"User100");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResources_SetPassword_NonAdministrator_Self() throws Exception {
  updateResources_SetPassword(TestAuthenticationFactory.createClusterAdministrator("User1",2L),"User1");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResources_SetAdmin_Administrator_Self() throws Exception {
  updateResources_SetAdmin(TestAuthenticationFactory.createAdministrator("admin"),"User100");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResources_SetPassword_Administrator_Self() throws Exception {
  updateResources_SetPassword(TestAuthenticationFactory.createAdministrator("admin"),"User100");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResources_NonAdministrator() throws Exception {
  getResourcesTest(TestAuthenticationFactory.createClusterAdministrator("User1",2L));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteResource_Administrator_Self() throws Exception {
  deleteResourcesTest(TestAuthenticationFactory.createAdministrator("admin"),"User100");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResources_SetActive_Administrator_Other() throws Exception {
  updateResources_SetActive(TestAuthenticationFactory.createAdministrator("admin"),"User100");
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResources_SetActive_NonAdministrator_Other() throws Exception {
  updateResources_SetActive(TestAuthenticationFactory.createClusterAdministrator("User1",2L),"User100");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResources_SetPassword_Administrator_Other() throws Exception {
  updateResources_SetPassword(TestAuthenticationFactory.createAdministrator("admin"),"User100");
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testDeleteResource_NonAdministrator_Self() throws Exception {
  deleteResourcesTest(TestAuthenticationFactory.createClusterAdministrator("User1",2L),"User1");
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResources_SetAdmin_NonAdministrator_Self() throws Exception {
  updateResources_SetAdmin(TestAuthenticationFactory.createClusterAdministrator("User1",2L),"User1");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResource_Administrator_Self() throws Exception {
  getResourceTest(TestAuthenticationFactory.createAdministrator("admin"),"admin");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResource_Administrator_Other() throws Exception {
  getResourceTest(TestAuthenticationFactory.createAdministrator("admin"),"User1");
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testDeleteResource_NonAdministrator_Other() throws Exception {
  deleteResourcesTest(TestAuthenticationFactory.createClusterAdministrator("User1",2L),"User100");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResources_SetAdmin_Administrator_Other() throws Exception {
  updateResources_SetAdmin(TestAuthenticationFactory.createAdministrator("admin"),"User100");
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testGetResource_NonAdministrator_Other() throws Exception {
  getResourceTest(TestAuthenticationFactory.createClusterAdministrator("User1",2L),"User100");
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResources_SetActive_NonAdministrator_Self() throws Exception {
  updateResources_SetActive(TestAuthenticationFactory.createClusterAdministrator("User1",2L),"User1");
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResources_NonAdministrator() throws Exception {
  createResourcesTest(TestAuthenticationFactory.createClusterAdministrator("User1",2L));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateResources_SetActive_Administrator_Self() throws Exception {
  updateResources_SetActive(TestAuthenticationFactory.createAdministrator("admin"),"User100");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetResource_NonAdministrator_Self() throws Exception {
  getResourceTest(TestAuthenticationFactory.createClusterAdministrator("User1",2L),"User1");
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testUpdateResources_SetPassword_NonAdministrator_Other() throws Exception {
  updateResources_SetPassword(TestAuthenticationFactory.createClusterAdministrator("User1",2L),"User100");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.ViewInstanceResourceProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteResourcesAsAdministrator() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateResourcesAsAdministrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testDeleteResourcesAsClusterAdministrator() throws Exception {
  testDeleteResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testCreateResourcesAsClusterAdministrator() throws Exception {
  testCreateResources(TestAuthenticationFactory.createClusterAdministrator());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.internal.WidgetResourceProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testScopePrivilegeCheck() throws Exception {
  AmbariManagementController amc=createMock(AmbariManagementController.class);
  Clusters clusters=createMock(Clusters.class);
  Cluster cluster=createMock(Cluster.class);
  expect(amc.getClusters()).andReturn(clusters).atLeastOnce();
  expect(clusters.getCluster((String)anyObject())).andReturn(cluster).atLeastOnce();
  expect(cluster.getClusterId()).andReturn(Long.valueOf(1)).atLeastOnce();
  WidgetResourceProvider widgetResourceProvider=PowerMock.createPartialMock(WidgetResourceProvider.class,"isScopeAllowedForUser");
  PowerMock.expectPrivate(widgetResourceProvider,"isScopeAllowedForUser","CLUSTER").andReturn(false);
  Capture<WidgetEntity> entityCapture=new Capture<WidgetEntity>();
  dao.create(capture(entityCapture));
  expectLastCall();
  replay(amc,clusters,cluster,dao);
  PowerMock.replayAll();
  Map<String,Object> requestProps=new HashMap<String,Object>();
  requestProps.put(WidgetResourceProvider.WIDGET_CLUSTER_NAME_PROPERTY_ID,"c1");
  requestProps.put(WidgetResourceProvider.WIDGET_WIDGET_NAME_PROPERTY_ID,"widget name");
  requestProps.put(WidgetResourceProvider.WIDGET_WIDGET_TYPE_PROPERTY_ID,"GAUGE");
  requestProps.put(WidgetResourceProvider.WIDGET_AUTHOR_PROPERTY_ID,"admin");
  requestProps.put(WidgetResourceProvider.WIDGET_SCOPE_PROPERTY_ID,"CLUSTER");
  Request request=PropertyHelper.getCreateRequest(Collections.singleton(requestProps),null);
  try {
    widgetResourceProvider.createResources(request);
  }
 catch (  AccessDeniedException ex) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.metrics.JMXPropertyProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testJMXPropertyProviderAsAdministrator() throws Exception {
  SecurityContextHolder.getContext().setAuthentication(TestAuthenticationFactory.createAdministrator("Admin"));
  testPopulateResources();
  testPopulateResources_singleProperty();
  testPopulateResources_category();
  testPopulateResourcesWithUnknownPort();
  testPopulateResourcesUnhealthyResource();
  testPopulateResourcesMany();
  testPopulateResourcesTimeout();
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testJMXPropertyProviderAsViewUser() throws Exception {
  SecurityContextHolder.getContext().setAuthentication(TestAuthenticationFactory.createViewUser("ViewUser",2L));
  testPopulateResources();
  testPopulateResources_singleProperty();
  testPopulateResources_category();
  testPopulateResourcesWithUnknownPort();
  testPopulateResourcesUnhealthyResource();
  testPopulateResourcesMany();
  testPopulateResourcesTimeout();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testJMXPropertyProviderAsServiceAdministrator() throws Exception {
  SecurityContextHolder.getContext().setAuthentication(TestAuthenticationFactory.createServiceAdministrator("ServiceAdmin",2L));
  testPopulateResources();
  testPopulateResources_singleProperty();
  testPopulateResources_category();
  testPopulateResourcesWithUnknownPort();
  testPopulateResourcesUnhealthyResource();
  testPopulateResourcesMany();
  testPopulateResourcesTimeout();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testJMXPropertyProviderAsClusterAdministrator() throws Exception {
  SecurityContextHolder.getContext().setAuthentication(TestAuthenticationFactory.createClusterAdministrator("ClusterAdmin",2L));
  testPopulateResources();
  testPopulateResources_singleProperty();
  testPopulateResources_category();
  testPopulateResourcesWithUnknownPort();
  testPopulateResourcesUnhealthyResource();
  testPopulateResourcesMany();
  testPopulateResourcesTimeout();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.metrics.RestMetricsPropertyProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRestMetricsPropertyProviderAsAdministrator() throws Exception {
  SecurityContextHolder.getContext().setAuthentication(TestAuthenticationFactory.createAdministrator("Admin"));
  testPopulateResources();
  testPopulateResources_singleProperty();
  testPopulateResources_category();
  testPopulateResourcesUnhealthyResource();
  testPopulateResourcesMany();
  testPopulateResourcesTimeout();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRestMetricsPropertyProviderAsServiceAdministrator() throws Exception {
  SecurityContextHolder.getContext().setAuthentication(TestAuthenticationFactory.createServiceAdministrator("ServiceAdmin",2L));
  testPopulateResources();
  testPopulateResources_singleProperty();
  testPopulateResources_category();
  testPopulateResourcesUnhealthyResource();
  testPopulateResourcesMany();
  testPopulateResourcesTimeout();
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testRestMetricsPropertyProviderAsViewUser() throws Exception {
  SecurityContextHolder.getContext().setAuthentication(TestAuthenticationFactory.createViewUser("ViewUser",2L));
  testPopulateResources();
  testPopulateResources_singleProperty();
  testPopulateResources_category();
  testPopulateResourcesUnhealthyResource();
  testPopulateResourcesMany();
  testPopulateResourcesTimeout();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRestMetricsPropertyProviderAsClusterAdministrator() throws Exception {
  SecurityContextHolder.getContext().setAuthentication(TestAuthenticationFactory.createClusterAdministrator("ClusterAdmin",2L));
  testPopulateResources();
  testPopulateResources_singleProperty();
  testPopulateResources_category();
  testPopulateResourcesUnhealthyResource();
  testPopulateResourcesMany();
  testPopulateResourcesTimeout();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.metrics.ganglia.GangliaPropertyProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGangliaPropertyProviderAsAdministrator() throws Exception {
  SecurityContextHolder.getContext().setAuthentication(TestAuthenticationFactory.createAdministrator("Admin"));
  testPopulateResources();
  testPopulateResources_checkHostComponent();
  testPopulateResources_checkHost();
  testPopulateManyResources();
  testPopulateResources__LargeNumberOfHostResources();
  testPopulateResources_params();
  testPopulateResources_paramsMixed();
  testPopulateResources_paramsAll();
  testPopulateResources_params_category1();
  testPopulateResources_params_category2();
  testPopulateResources_params_category3();
  testPopulateResources_params_category4();
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testGangliaPropertyProviderAsViewUser() throws Exception {
  SecurityContextHolder.getContext().setAuthentication(TestAuthenticationFactory.createViewUser("ViewUser",2L));
  testPopulateResources();
  testPopulateResources_checkHostComponent();
  testPopulateResources_checkHost();
  testPopulateManyResources();
  testPopulateResources__LargeNumberOfHostResources();
  testPopulateResources_params();
  testPopulateResources_paramsMixed();
  testPopulateResources_paramsAll();
  testPopulateResources_params_category1();
  testPopulateResources_params_category2();
  testPopulateResources_params_category3();
  testPopulateResources_params_category4();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGangliaPropertyProviderAsClusterAdministrator() throws Exception {
  SecurityContextHolder.getContext().setAuthentication(TestAuthenticationFactory.createClusterAdministrator("ClusterAdmin",2L));
  testPopulateResources();
  testPopulateResources_checkHostComponent();
  testPopulateResources_checkHost();
  testPopulateManyResources();
  testPopulateResources__LargeNumberOfHostResources();
  testPopulateResources_params();
  testPopulateResources_paramsMixed();
  testPopulateResources_paramsAll();
  testPopulateResources_params_category1();
  testPopulateResources_params_category2();
  testPopulateResources_params_category3();
  testPopulateResources_params_category4();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGangliaPropertyProviderAsServiceAdministrator() throws Exception {
  SecurityContextHolder.getContext().setAuthentication(TestAuthenticationFactory.createServiceAdministrator("ServiceAdmin",2L));
  testPopulateResources();
  testPopulateResources_checkHostComponent();
  testPopulateResources_checkHost();
  testPopulateManyResources();
  testPopulateResources__LargeNumberOfHostResources();
  testPopulateResources_params();
  testPopulateResources_paramsMixed();
  testPopulateResources_paramsAll();
  testPopulateResources_params_category1();
  testPopulateResources_params_category2();
  testPopulateResources_params_category3();
  testPopulateResources_params_category4();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.metrics.timeline.AMSPropertyProviderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAMSPropertyProviderAsAdministrator() throws Exception {
  SecurityContextHolder.getContext().setAuthentication(TestAuthenticationFactory.createAdministrator("Admin"));
  testPopulateResourcesForSingleHostMetric();
  testPopulateResourcesForSingleHostMetricPointInTime();
  testPopulateResourcesForMultipleHostMetricscPointInTime();
  testPopulateResourcesForMultipleHostMetrics();
  testPopulateResourcesForRegexpMetrics();
  testPopulateResourcesForSingleComponentMetric();
  testPopulateMetricsForEmbeddedHBase();
  testAggregateFunctionForComponentMetrics();
  testFilterOutOfBandMetricData();
  testPopulateResourcesForHostComponentHostMetrics();
  testPopulateResourcesForHostComponentMetricsForMultipleHosts();
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AuthorizationException.class) public void testAMSPropertyProviderAsViewUser() throws Exception {
  SecurityContextHolder.getContext().setAuthentication(TestAuthenticationFactory.createViewUser("ViewUser",2L));
  testPopulateResourcesForSingleHostMetric();
  testPopulateResourcesForSingleHostMetricPointInTime();
  testPopulateResourcesForMultipleHostMetricscPointInTime();
  testPopulateResourcesForMultipleHostMetrics();
  testPopulateResourcesForRegexpMetrics();
  testPopulateResourcesForSingleComponentMetric();
  testPopulateMetricsForEmbeddedHBase();
  testAggregateFunctionForComponentMetrics();
  testFilterOutOfBandMetricData();
  testPopulateResourcesForHostComponentHostMetrics();
  testPopulateResourcesForHostComponentMetricsForMultipleHosts();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAMSPropertyProviderAsServiceAdministrator() throws Exception {
  SecurityContextHolder.getContext().setAuthentication(TestAuthenticationFactory.createServiceAdministrator("ServiceAdmin",2L));
  testPopulateResourcesForSingleHostMetric();
  testPopulateResourcesForSingleHostMetricPointInTime();
  testPopulateResourcesForMultipleHostMetricscPointInTime();
  testPopulateResourcesForMultipleHostMetrics();
  testPopulateResourcesForRegexpMetrics();
  testPopulateResourcesForSingleComponentMetric();
  testPopulateMetricsForEmbeddedHBase();
  testAggregateFunctionForComponentMetrics();
  testFilterOutOfBandMetricData();
  testPopulateResourcesForHostComponentHostMetrics();
  testPopulateResourcesForHostComponentMetricsForMultipleHosts();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAMSPropertyProviderAsClusterAdministrator() throws Exception {
  SecurityContextHolder.getContext().setAuthentication(TestAuthenticationFactory.createClusterAdministrator("ClusterAdmin",2L));
  SecurityContextHolder.getContext();
  testPopulateResourcesForSingleHostMetric();
  testPopulateResourcesForSingleHostMetricPointInTime();
  testPopulateResourcesForMultipleHostMetricscPointInTime();
  testPopulateResourcesForMultipleHostMetrics();
  testPopulateResourcesForRegexpMetrics();
  testPopulateResourcesForSingleComponentMetric();
  testPopulateMetricsForEmbeddedHBase();
  testAggregateFunctionForComponentMetrics();
  testFilterOutOfBandMetricData();
  testPopulateResourcesForHostComponentHostMetrics();
  testPopulateResourcesForHostComponentMetricsForMultipleHosts();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.metrics.timeline.MetricsRequestHelperTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testFetchTimelineMetrics() throws Exception {
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final long now=System.currentTimeMillis();
  TimelineMetrics metrics=new TimelineMetrics();
  TimelineMetric timelineMetric=new TimelineMetric();
  timelineMetric.setMetricName("cpu_user");
  timelineMetric.setAppId("app1");
  TreeMap<Long,Double> metricValues=new TreeMap<Long,Double>();
  metricValues.put(now + 100,1.0);
  metricValues.put(now + 200,2.0);
  metricValues.put(now + 300,3.0);
  timelineMetric.setMetricValues(metricValues);
  metrics.getMetrics().add(timelineMetric);
  ObjectMapper mapper=new ObjectMapper();
  AnnotationIntrospector introspector=new JaxbAnnotationIntrospector();
  mapper.setAnnotationIntrospector(introspector);
  ObjectWriter writer=mapper.writerWithDefaultPrettyPrinter();
  String metricsResponse=writer.writeValueAsString(metrics);
  InputStream inputStream=IOUtils.toInputStream(metricsResponse);
  HttpURLConnection httpURLConnectionMock=createMock(HttpURLConnection.class);
  expect(httpURLConnectionMock.getInputStream()).andReturn(inputStream).once();
  expect(httpURLConnectionMock.getResponseCode()).andReturn(HttpStatus.SC_OK).once();
  URLStreamProvider urlStreamProviderMock=createMock(URLStreamProvider.class);
  expect(urlStreamProviderMock.processURL(EasyMock.isA(String.class),EasyMock.isA(String.class),isNull(String.class),EasyMock.isA(Map.class))).andReturn(httpURLConnectionMock).once();
  replay(httpURLConnectionMock,urlStreamProviderMock);
  String randomSpec="http://localhost:6188/ws/v1/timeline/metrics?metricNames=cpu_wio&hostname=host1&appId=HOST" + "&startTime=1447912834&endTime=1447990034&precision=SECONDS";
  MetricsRequestHelper metricsRequestHelper=new MetricsRequestHelper(urlStreamProviderMock);
  metricsRequestHelper.fetchTimelineMetrics(new URIBuilder(randomSpec),now,now + 300);
  easyMockSupport.verifyAll();
  String metricsPrecisionErrorResponse="{\"exception\": \"PrecisionLimitExceededException\",\n" + "\"message\": \"Requested precision (SECONDS) for given time range causes result set size of 169840, " + "which exceeds the limit - 15840. Please request higher precision.\",\n"+ "\"javaClassName\": \"org.apache.hadoop.metrics2.sink.timeline.PrecisionLimitExceededException\"\n"+ "}";
  InputStream errorStream=IOUtils.toInputStream(metricsPrecisionErrorResponse);
  inputStream=IOUtils.toInputStream(metricsResponse);
  httpURLConnectionMock=createMock(HttpURLConnection.class);
  expect(httpURLConnectionMock.getErrorStream()).andReturn(errorStream).once();
  expect(httpURLConnectionMock.getInputStream()).andReturn(inputStream).once();
  expect(httpURLConnectionMock.getResponseCode()).andReturn(HttpStatus.SC_BAD_REQUEST).once().andReturn(HttpStatus.SC_OK).once();
  urlStreamProviderMock=createMock(URLStreamProvider.class);
  expect(urlStreamProviderMock.processURL(EasyMock.isA(String.class),EasyMock.isA(String.class),isNull(String.class),EasyMock.isA(Map.class))).andReturn(httpURLConnectionMock).times(2);
  replay(httpURLConnectionMock,urlStreamProviderMock);
  metricsRequestHelper=new MetricsRequestHelper(urlStreamProviderMock);
  metricsRequestHelper.fetchTimelineMetrics(new URIBuilder(randomSpec),now,now + 300);
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.utilities.DatabaseCheckerTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AmbariException.class) public void testCheckDBVersionInvalid() throws Exception {
  MetainfoDAO metainfoDAO=createMock(MetainfoDAO.class);
  MetainfoEntity metainfoEntity=new MetainfoEntity();
  metainfoEntity.setMetainfoName(Configuration.SERVER_VERSION_KEY);
  metainfoEntity.setMetainfoValue("0.0.0");
  expect(metainfoDAO.findByKey(Configuration.SERVER_VERSION_KEY)).andReturn(metainfoEntity);
  replay(metainfoDAO);
  DatabaseChecker.metainfoDAO=metainfoDAO;
  DatabaseChecker.ambariMetaInfo=ambariMetaInfo;
  DatabaseChecker.checkDBVersion();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.controller.utilities.KerberosCheckerTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AmbariException.class) public void testCheckFailed() throws Exception {
  Configuration config=createMock(Configuration.class);
  LoginContext lc=createMock(LoginContext.class);
  expect(config.isKerberosJaasConfigurationCheckEnabled()).andReturn(true).once();
  expectNew(LoginContext.class,new Class<?>[]{String.class,CallbackHandler.class},isA(String.class),isA(CallbackHandler.class)).andReturn(lc);
  lc.login();
  expectLastCall().andThrow(new LoginException()).once();
  replay(config,LoginContext.class,lc);
  KerberosChecker.config=config;
  KerberosChecker.checkJaasConfiguration();
  verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCheckPassed() throws Exception {
  Configuration config=createMock(Configuration.class);
  LoginContext lc=createMock(LoginContext.class);
  expect(config.isKerberosJaasConfigurationCheckEnabled()).andReturn(true).once();
  expectNew(LoginContext.class,new Class<?>[]{String.class,CallbackHandler.class},isA(String.class),isA(CallbackHandler.class)).andReturn(lc);
  lc.login();
  expectLastCall().once();
  lc.logout();
  expectLastCall().once();
  replay(config,LoginContext.class,lc);
  KerberosChecker.config=config;
  KerberosChecker.checkJaasConfiguration();
  verifyAll();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.events.listeners.upgrade.AlertMaintenanceModeListenerTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests that only the host alert has its maintenance mode changed.
 * @throws Exception
 */
@Test public void testHostMaintenanceMode() throws Exception {
  List<AlertCurrentEntity> alerts=getMockAlerts("HOST");
  AlertCurrentEntity hostAlert=alerts.get(0);
  AlertCurrentEntity serviceAlert=alerts.get(1);
  AlertCurrentEntity componentAlert=alerts.get(2);
  EasyMock.expect(hostAlert.getMaintenanceState()).andReturn(MaintenanceState.OFF).atLeastOnce();
  hostAlert.setMaintenanceState(MaintenanceState.ON);
  EasyMock.expectLastCall().once();
  EasyMock.expect(m_alertsDAO.merge(hostAlert)).andReturn(hostAlert).once();
  Host host=EasyMock.createNiceMock(Host.class);
  EasyMock.expect(host.getHostName()).andReturn(HOSTNAME).atLeastOnce();
  EasyMock.replay(hostAlert,serviceAlert,componentAlert,host,m_alertsDAO);
  MaintenanceModeEvent hostEvent=new MaintenanceModeEvent(MaintenanceState.ON,host);
  m_eventPublisher.publish(hostEvent);
  EasyMock.verify(hostAlert,serviceAlert,componentAlert,host,m_alertsDAO);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testServiceMaintenanceMode() throws Exception {
  List<AlertCurrentEntity> alerts=getMockAlerts("SERVICE");
  AlertCurrentEntity hostAlert=alerts.get(0);
  AlertCurrentEntity serviceAlert=alerts.get(1);
  AlertCurrentEntity componentAlert=alerts.get(2);
  EasyMock.expect(serviceAlert.getMaintenanceState()).andReturn(MaintenanceState.OFF).atLeastOnce();
  serviceAlert.setMaintenanceState(MaintenanceState.ON);
  EasyMock.expectLastCall().once();
  EasyMock.expect(m_alertsDAO.merge(serviceAlert)).andReturn(serviceAlert).once();
  Service service=EasyMock.createNiceMock(Service.class);
  EasyMock.expect(service.getName()).andReturn(SERVICE).atLeastOnce();
  EasyMock.replay(hostAlert,serviceAlert,componentAlert,service,m_alertsDAO);
  MaintenanceModeEvent serviceEvent=new MaintenanceModeEvent(MaintenanceState.ON,service);
  m_eventPublisher.publish(serviceEvent);
  EasyMock.verify(hostAlert,serviceAlert,componentAlert,service,m_alertsDAO);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testComponentMaintenanceMode() throws Exception {
  List<AlertCurrentEntity> alerts=getMockAlerts("SCH");
  AlertCurrentEntity hostAlert=alerts.get(0);
  AlertCurrentEntity serviceAlert=alerts.get(1);
  AlertCurrentEntity componentAlert=alerts.get(2);
  EasyMock.expect(componentAlert.getMaintenanceState()).andReturn(MaintenanceState.OFF).atLeastOnce();
  componentAlert.setMaintenanceState(MaintenanceState.ON);
  EasyMock.expectLastCall().once();
  EasyMock.expect(m_alertsDAO.merge(componentAlert)).andReturn(componentAlert).once();
  ServiceComponentHost serviceComponentHost=EasyMock.createNiceMock(ServiceComponentHost.class);
  EasyMock.expect(serviceComponentHost.getHostName()).andReturn(HOSTNAME).atLeastOnce();
  EasyMock.expect(serviceComponentHost.getServiceName()).andReturn(SERVICE).atLeastOnce();
  EasyMock.expect(serviceComponentHost.getServiceComponentName()).andReturn(COMPONENT).atLeastOnce();
  EasyMock.replay(hostAlert,serviceAlert,componentAlert,serviceComponentHost,m_alertsDAO);
  MaintenanceModeEvent serviceComponentHostEvent=new MaintenanceModeEvent(MaintenanceState.ON,serviceComponentHost);
  m_eventPublisher.publish(serviceComponentHostEvent);
  EasyMock.verify(hostAlert,serviceAlert,componentAlert,serviceComponentHost,m_alertsDAO);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.events.listeners.upgrade.HostVersionOutOfSyncListenerTest </h4><pre class="type-19 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests that when a host is removed, the {@link HostRemovedEvent} fires and
 * eventually calls to recalculate the cluster state.
 */
@Test public void testOnHostRemovedEvent() throws AmbariException {
  addHost("h2");
  clusters.mapHostToCluster("h2","c1");
  clusters.getHost("h2").setState(HostState.HEALTHY);
  clusters.getHost("h2").persist();
  StackId stackId=new StackId(this.stackId);
  RepositoryVersionEntity repositoryVersionEntity=helper.getOrCreateRepositoryVersion(stackId,"2.2.9-9999");
  c1.createClusterVersion(stackId,"2.2.9-9999","admin",RepositoryVersionState.INSTALLING);
  c1.setCurrentStackVersion(stackId);
  c1.recalculateAllClusterVersionStates();
  for (  ClusterVersionEntity cve : c1.getAllClusterVersions()) {
    System.out.println(cve.getRepositoryVersion().getDisplayName());
  }
  assertRepoVersionState(stackId.getStackId(),"2.2.0",RepositoryVersionState.CURRENT);
  assertRepoVersionState(stackId.getStackId(),"2.2.9-9999",RepositoryVersionState.INSTALLING);
  HostVersionEntity hv1=helper.createHostVersion("h1",repositoryVersionEntity,RepositoryVersionState.INSTALLED);
  HostVersionEntity hv2=helper.createHostVersion("h2",repositoryVersionEntity,RepositoryVersionState.INSTALLED);
  c1.recalculateAllClusterVersionStates();
  assertRepoVersionState(stackId.getStackId(),"2.2.0",RepositoryVersionState.CURRENT);
  assertRepoVersionState(stackId.getStackId(),"2.2.9-9999",RepositoryVersionState.INSTALLED);
  hv1.setState(RepositoryVersionState.UPGRADED);
  hv2.setState(RepositoryVersionState.UPGRADING);
  hostVersionDAO.merge(hv1);
  hostVersionDAO.merge(hv2);
  c1.recalculateAllClusterVersionStates();
  assertRepoVersionState(stackId.getStackId(),"2.2.0",RepositoryVersionState.CURRENT);
  assertRepoVersionState(stackId.getStackId(),"2.2.9-9999",RepositoryVersionState.UPGRADING);
  injector.getInstance(UnitOfWork.class).begin();
  clusters.deleteHost("h2");
  injector.getInstance(UnitOfWork.class).end();
  assertRepoVersionState(stackId.getStackId(),"2.2.0",RepositoryVersionState.CURRENT);
  assertRepoVersionState(stackId.getStackId(),"2.2.9-9999",RepositoryVersionState.UPGRADED);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.events.listeners.upgrade.StackVersionListenerTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testOnAmbariEvent() throws Exception {
  VersionEventPublisher publisher=createNiceMock(VersionEventPublisher.class);
  Cluster cluster=createNiceMock(Cluster.class);
  ServiceComponentHost sch=createNiceMock(ServiceComponentHost.class);
  RepositoryVersionEntity repositoryVersionEntity=createNiceMock(RepositoryVersionEntity.class);
  expect(cluster.getClusterId()).andReturn(99L);
  expect(sch.recalculateHostVersionState()).andReturn(repositoryVersionEntity).atLeastOnce();
  cluster.recalculateClusterVersionState(repositoryVersionEntity);
  EasyMock.expectLastCall().atLeastOnce();
  replay(cluster,sch);
  HostComponentVersionEvent event=new HostComponentVersionEvent(cluster,sch);
  StackVersionListener listener=new StackVersionListener(publisher);
  listener.onAmbariEvent(event);
  verify(cluster,sch);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.metadata.RoleCommandOrderTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testInitializeDefault() throws IOException {
  RoleCommandOrder rco=injector.getInstance(RoleCommandOrder.class);
  ClusterImpl cluster=createMock(ClusterImpl.class);
  expect(cluster.getService("GLUSTERFS")).andReturn(null);
  Service hdfsService=createMock(Service.class);
  expect(cluster.getService("HDFS")).andReturn(hdfsService).atLeastOnce();
  expect(cluster.getService("YARN")).andReturn(null);
  expect(hdfsService.getServiceComponent("JOURNALNODE")).andReturn(null);
  expect(cluster.getCurrentStackVersion()).andReturn(new StackId("HDP","2.0.5"));
  replay(cluster);
  replay(hdfsService);
  rco.initialize(cluster);
  verify(cluster);
  verify(hdfsService);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.notifications.dispatchers.AlertScriptDispatcherTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests a successfull invocation of the script.
 * @throws Exception
 */
@Test public void testProcessBuilderInvocation() throws Exception {
  DispatchCallback callback=EasyMock.createNiceMock(DispatchCallback.class);
  AlertNotification notification=new AlertNotification();
  notification.Callback=callback;
  notification.CallbackIds=Collections.singletonList(UUID.randomUUID().toString());
  callback.onSuccess(notification.CallbackIds);
  EasyMock.expectLastCall().once();
  AlertScriptDispatcher dispatcher=(AlertScriptDispatcher)m_dispatchFactory.getDispatcher(TargetType.ALERT_SCRIPT.name());
  m_injector.injectMembers(dispatcher);
  ProcessBuilder powerMockProcessBuilder=m_injector.getInstance(ProcessBuilder.class);
  EasyMock.expect(dispatcher.getProcessBuilder(SCRIPT_CONFIG_VALUE,notification)).andReturn(powerMockProcessBuilder).once();
  EasyMock.replay(callback,dispatcher);
  dispatcher.dispatch(notification);
  EasyMock.verify(callback,dispatcher);
  PowerMock.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests that we will pickup the correct script when its specified on the
 * notification.
 */
@Test public void testCustomScriptConfiguration() throws Exception {
  final String customScriptKey="foo.bar.key";
  final String customScriptValue="/foo/bar/foobar.py";
  m_configuration.setProperty(AlertScriptDispatcher.SCRIPT_CONFIG_DEFAULT_KEY,null);
  m_configuration.setProperty(customScriptKey,customScriptValue);
  DispatchCallback callback=EasyMock.createNiceMock(DispatchCallback.class);
  AlertNotification notification=new AlertNotification();
  notification.Callback=callback;
  notification.CallbackIds=Collections.singletonList(UUID.randomUUID().toString());
  notification.DispatchProperties=new HashMap<String,String>();
  notification.DispatchProperties.put(AlertScriptDispatcher.DISPATCH_PROPERTY_SCRIPT_CONFIG_KEY,customScriptKey);
  callback.onSuccess(notification.CallbackIds);
  EasyMock.expectLastCall().once();
  AlertScriptDispatcher dispatcher=(AlertScriptDispatcher)m_dispatchFactory.getDispatcher(TargetType.ALERT_SCRIPT.name());
  m_injector.injectMembers(dispatcher);
  ProcessBuilder powerMockProcessBuilder=m_injector.getInstance(ProcessBuilder.class);
  EasyMock.expect(dispatcher.getProcessBuilder(customScriptValue,notification)).andReturn(powerMockProcessBuilder).once();
  EasyMock.replay(callback,dispatcher);
  dispatcher.dispatch(notification);
  EasyMock.verify(callback,dispatcher);
  PowerMock.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests that a missing script property results in a callback failure.
 */
@Test public void testMissingScriptConfiguration() throws Exception {
  m_configuration.setProperty(AlertScriptDispatcher.SCRIPT_CONFIG_DEFAULT_KEY,null);
  DispatchCallback callback=EasyMock.createNiceMock(DispatchCallback.class);
  AlertNotification notification=new AlertNotification();
  notification.Callback=callback;
  notification.CallbackIds=Collections.singletonList(UUID.randomUUID().toString());
  callback.onFailure(notification.CallbackIds);
  EasyMock.expectLastCall().once();
  EasyMock.replay(callback);
  NotificationDispatcher dispatcher=m_dispatchFactory.getDispatcher(TargetType.ALERT_SCRIPT.name());
  dispatcher.dispatch(notification);
  EasyMock.verify(callback);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests that a process with an error code of 255 causes the failure callback
 * to be invoked.
 * @throws Exception
 */
@Test public void testFailedProcess() throws Exception {
  DispatchCallback callback=EasyMock.createNiceMock(DispatchCallback.class);
  AlertNotification notification=new AlertNotification();
  notification.Callback=callback;
  notification.CallbackIds=Collections.singletonList(UUID.randomUUID().toString());
  callback.onFailure(notification.CallbackIds);
  EasyMock.expectLastCall().once();
  AlertScriptDispatcher dispatcher=(AlertScriptDispatcher)m_dispatchFactory.getDispatcher(TargetType.ALERT_SCRIPT.name());
  m_injector.injectMembers(dispatcher);
  ProcessBuilder powerMockProcessBuilder=m_injector.getInstance(ProcessBuilder.class);
  EasyMock.expect(dispatcher.getProcessBuilder(SCRIPT_CONFIG_VALUE,notification)).andReturn(powerMockProcessBuilder).once();
  Process mockProcess=powerMockProcessBuilder.start();
  EasyMock.expect(mockProcess.exitValue()).andReturn(255).anyTimes();
  EasyMock.replay(callback,dispatcher,mockProcess);
  dispatcher.dispatch(notification);
  EasyMock.verify(callback,dispatcher);
  PowerMock.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests that a callback error happens when the notification is not an{@link AlertNotification}.
 */
@Test public void testNonAlertNotification() throws Exception {
  DispatchCallback callback=EasyMock.createNiceMock(DispatchCallback.class);
  Notification notification=EasyMock.createNiceMock(Notification.class);
  notification.Callback=callback;
  notification.CallbackIds=Collections.singletonList(UUID.randomUUID().toString());
  callback.onFailure(notification.CallbackIds);
  EasyMock.expectLastCall().once();
  EasyMock.replay(callback,notification);
  NotificationDispatcher dispatcher=m_dispatchFactory.getDispatcher(TargetType.ALERT_SCRIPT.name());
  dispatcher.dispatch(notification);
  EasyMock.verify(callback,notification);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.notifications.dispatchers.EmailDispatcherTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests that an email without recipients causes a callback error.
 */
@Test public void testNoRecipients(){
  Notification notification=new Notification();
  DispatchCallback callback=EasyMock.createMock(DispatchCallback.class);
  notification.Callback=callback;
  List<String> callbackIds=new ArrayList<String>();
  callbackIds.add(UUID.randomUUID().toString());
  notification.CallbackIds=callbackIds;
  callback.onFailure(callbackIds);
  EasyMock.expectLastCall();
  EasyMock.replay(callback);
  NotificationDispatcher dispatcher=m_dispatchFactory.getDispatcher(TargetType.EMAIL.name());
  dispatcher.dispatch(notification);
  EasyMock.verify(callback);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests that an email without properties causes a callback error.
 */
@Test public void testNoEmailPropeties(){
  Notification notification=new Notification();
  DispatchCallback callback=EasyMock.createMock(DispatchCallback.class);
  notification.Callback=callback;
  notification.Recipients=new ArrayList<Recipient>();
  Recipient recipient=new Recipient();
  recipient.Identifier="foo";
  notification.Recipients.add(recipient);
  List<String> callbackIds=new ArrayList<String>();
  callbackIds.add(UUID.randomUUID().toString());
  notification.CallbackIds=callbackIds;
  callback.onFailure(callbackIds);
  EasyMock.expectLastCall();
  EasyMock.replay(callback);
  NotificationDispatcher dispatcher=m_dispatchFactory.getDispatcher(TargetType.EMAIL.name());
  dispatcher.dispatch(notification);
  EasyMock.verify(callback);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.notifications.dispatchers.SNMPDispatcherTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDispatch_nullProperties() throws Exception {
  SNMPDispatcher dispatcher=new SNMPDispatcher();
  Notification notification=mock(Notification.class);
  notification.Callback=mock(DispatchCallback.class);
  notification.CallbackIds=mock(List.class);
  dispatcher.dispatch(notification);
  verify(notification.Callback).onFailure(notification.CallbackIds);
  verify(notification.Callback,never()).onSuccess(notification.CallbackIds);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDispatch_notDefinedProperties() throws Exception {
  SNMPDispatcher dispatcher=new SNMPDispatcher();
  Notification notification=mock(Notification.class);
  notification.Callback=mock(DispatchCallback.class);
  notification.CallbackIds=mock(List.class);
  notification.DispatchProperties=new HashMap<String,String>();
  dispatcher.dispatch(notification);
  verify(notification.Callback).onFailure(notification.CallbackIds);
  verify(notification.Callback,never()).onSuccess(notification.CallbackIds);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=SNMPDispatcher.InvalidSnmpConfigurationException.class) public void testSendTraps_v3_incorrectSecurityLevelVersion() throws Exception {
  SNMPDispatcher.SnmpVersion snmpVersion=SNMPDispatcher.SnmpVersion.SNMPv3;
  Snmp snmp=mock(Snmp.class);
  SNMPDispatcher dispatcher=spy(new SNMPDispatcher(snmp));
  PDU trap=mock(PDU.class);
  Notification notification=new Notification();
  Map<String,String> properties=new HashMap<String,String>();
  properties.put(SNMPDispatcher.PORT_PROPERTY,"162");
  properties.put(SNMPDispatcher.SNMP_VERSION_PROPERTY,"SNMPv3");
  properties.put(SNMPDispatcher.TRAP_OID_PROPERTY,"1.3.6.1.6.3.1.1.5.4");
  properties.put(SNMPDispatcher.SECURITY_USERNAME_PROPERTY,"USER");
  properties.put(SNMPDispatcher.SECURITY_AUTH_PASSPHRASE_PROPERTY,"PASSPHRASE1");
  properties.put(SNMPDispatcher.SECURITY_PRIV_PASSPHRASE_PROPERTY,"PASSPHRASE2");
  properties.put(SNMPDispatcher.SECURITY_LEVEL_PROPERTY,"INCORRECT");
  notification.DispatchProperties=properties;
  Recipient rec1=new Recipient();
  rec1.Identifier="192.168.0.2";
  notification.Recipients=Arrays.asList(rec1);
  doReturn(trap).when(dispatcher).prepareTrap(notification,snmpVersion);
  dispatcher.sendTraps(notification,snmpVersion);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDispatch_incorrectSnmpVersion() throws Exception {
  SNMPDispatcher dispatcher=spy(new SNMPDispatcher());
  Notification notification=mock(Notification.class);
  notification.Callback=mock(DispatchCallback.class);
  notification.CallbackIds=mock(List.class);
  Map<String,String> properties=new HashMap<String,String>();
  properties.put(SNMPDispatcher.SUBJECT_OID_PROPERTY,"1");
  properties.put(SNMPDispatcher.BODY_OID_PROPERTY,"2");
  properties.put(SNMPDispatcher.PORT_PROPERTY,"3");
  properties.put(SNMPDispatcher.COMMUNITY_PROPERTY,"4");
  properties.put(SNMPDispatcher.SNMP_VERSION_PROPERTY,"SNMPv11");
  properties.put(SNMPDispatcher.TRAP_OID_PROPERTY,"1.3.6.1.6.3.1.1.5.4");
  notification.DispatchProperties=properties;
  notification.Body="body";
  notification.Subject="subject";
  notification.Recipients=Arrays.asList(new Recipient());
  dispatcher.dispatch(notification);
  verify(notification.Callback).onFailure(notification.CallbackIds);
  verify(notification.Callback,never()).onSuccess(notification.CallbackIds);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDispatch_sendTrapError() throws Exception {
  SNMPDispatcher dispatcher=spy(new SNMPDispatcher());
  Notification notification=mock(Notification.class);
  notification.Callback=mock(DispatchCallback.class);
  notification.CallbackIds=mock(List.class);
  Map<String,String> properties=new HashMap<String,String>();
  properties.put(SNMPDispatcher.SUBJECT_OID_PROPERTY,"1");
  properties.put(SNMPDispatcher.BODY_OID_PROPERTY,"2");
  properties.put(SNMPDispatcher.PORT_PROPERTY,"3");
  properties.put(SNMPDispatcher.COMMUNITY_PROPERTY,"4");
  properties.put(SNMPDispatcher.SNMP_VERSION_PROPERTY,"SNMPv1");
  properties.put(SNMPDispatcher.TRAP_OID_PROPERTY,"1.3.6.1.6.3.1.1.5.4");
  notification.DispatchProperties=properties;
  notification.Body="body";
  notification.Subject="subject";
  notification.Recipients=Arrays.asList(new Recipient());
  doThrow(new RuntimeException()).when(dispatcher).sendTraps(eq(notification),any(SNMPDispatcher.SnmpVersion.class));
  dispatcher.dispatch(notification);
  verify(notification.Callback).onFailure(notification.CallbackIds);
  verify(notification.Callback,never()).onSuccess(notification.CallbackIds);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDispatch_successful_v1() throws Exception {
  SNMPDispatcher dispatcher=spy(new SNMPDispatcher());
  SNMPDispatcher.SnmpVersion snmpVersion=SNMPDispatcher.SnmpVersion.SNMPv1;
  Notification notification=mock(Notification.class);
  notification.Callback=mock(DispatchCallback.class);
  notification.CallbackIds=mock(List.class);
  Map<String,String> properties=new HashMap<String,String>();
  properties.put(SNMPDispatcher.SUBJECT_OID_PROPERTY,"1");
  properties.put(SNMPDispatcher.BODY_OID_PROPERTY,"2");
  properties.put(SNMPDispatcher.PORT_PROPERTY,"3");
  properties.put(SNMPDispatcher.COMMUNITY_PROPERTY,"4");
  properties.put(SNMPDispatcher.SNMP_VERSION_PROPERTY,"SNMPv1");
  properties.put(SNMPDispatcher.TRAP_OID_PROPERTY,"1.3.6.1.6.3.1.1.5.4");
  notification.DispatchProperties=properties;
  notification.Body="body";
  notification.Subject="subject";
  notification.Recipients=Arrays.asList(new Recipient());
  doNothing().when(dispatcher).sendTraps(notification,snmpVersion);
  dispatcher.dispatch(notification);
  verify(notification.Callback,never()).onFailure(notification.CallbackIds);
  verify(notification.Callback).onSuccess(notification.CallbackIds);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDispatch_successful_v2() throws Exception {
  SNMPDispatcher dispatcher=spy(new SNMPDispatcher());
  SNMPDispatcher.SnmpVersion snmpVersion=SNMPDispatcher.SnmpVersion.SNMPv2c;
  Notification notification=mock(Notification.class);
  notification.Callback=mock(DispatchCallback.class);
  notification.CallbackIds=mock(List.class);
  Map<String,String> properties=new HashMap<String,String>();
  properties.put(SNMPDispatcher.SUBJECT_OID_PROPERTY,"1");
  properties.put(SNMPDispatcher.BODY_OID_PROPERTY,"2");
  properties.put(SNMPDispatcher.PORT_PROPERTY,"3");
  properties.put(SNMPDispatcher.COMMUNITY_PROPERTY,"4");
  properties.put(SNMPDispatcher.SNMP_VERSION_PROPERTY,"SNMPv2c");
  properties.put(SNMPDispatcher.TRAP_OID_PROPERTY,"1.3.6.1.6.3.1.1.5.4");
  notification.DispatchProperties=properties;
  notification.Body="body";
  notification.Subject="subject";
  notification.Recipients=Arrays.asList(new Recipient());
  doNothing().when(dispatcher).sendTraps(notification,snmpVersion);
  dispatcher.dispatch(notification);
  verify(notification.Callback,never()).onFailure(notification.CallbackIds);
  verify(notification.Callback).onSuccess(notification.CallbackIds);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDispatch_nullRecipients() throws Exception {
  SNMPDispatcher dispatcher=new SNMPDispatcher();
  Notification notification=mock(Notification.class);
  notification.Callback=mock(DispatchCallback.class);
  notification.CallbackIds=mock(List.class);
  Map<String,String> properties=new HashMap<String,String>();
  properties.put(SNMPDispatcher.SUBJECT_OID_PROPERTY,"1");
  properties.put(SNMPDispatcher.BODY_OID_PROPERTY,"2");
  properties.put(SNMPDispatcher.PORT_PROPERTY,"3");
  properties.put(SNMPDispatcher.COMMUNITY_PROPERTY,"4");
  properties.put(SNMPDispatcher.SNMP_VERSION_PROPERTY,"SNMPv1");
  properties.put(SNMPDispatcher.TRAP_OID_PROPERTY,"1.3.6.1.6.3.1.1.5.4");
  notification.DispatchProperties=properties;
  notification.Body="body";
  notification.Subject="subject";
  dispatcher.dispatch(notification);
  verify(notification.Callback).onFailure(notification.CallbackIds);
  verify(notification.Callback,never()).onSuccess(notification.CallbackIds);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDispatch_successful_v3() throws Exception {
  SNMPDispatcher dispatcher=new SNMPDispatcher();
  Notification notification=new Notification();
  notification.Callback=mock(DispatchCallback.class);
  notification.CallbackIds=mock(List.class);
  notification.Body="body";
  notification.Subject="subject";
  Map<String,String> properties=new HashMap<String,String>();
  properties.put(SNMPDispatcher.SUBJECT_OID_PROPERTY,"1");
  properties.put(SNMPDispatcher.BODY_OID_PROPERTY,"2");
  properties.put(SNMPDispatcher.PORT_PROPERTY,"162");
  properties.put(SNMPDispatcher.COMMUNITY_PROPERTY,"public");
  properties.put(SNMPDispatcher.SNMP_VERSION_PROPERTY,"SNMPv3");
  properties.put(SNMPDispatcher.TRAP_OID_PROPERTY,"1.3.6.1.6.3.1.1.5.4");
  properties.put(SNMPDispatcher.SECURITY_USERNAME_PROPERTY,"USER");
  properties.put(SNMPDispatcher.SECURITY_AUTH_PASSPHRASE_PROPERTY,"PASSPHRASE1");
  properties.put(SNMPDispatcher.SECURITY_PRIV_PASSPHRASE_PROPERTY,"PASSPHRASE2");
  properties.put(SNMPDispatcher.SECURITY_LEVEL_PROPERTY,"AUTH_NOPRIV");
  notification.DispatchProperties=properties;
  Recipient recipient=new Recipient();
  recipient.Identifier="192.168.0.2";
  notification.Recipients=Arrays.asList(recipient);
  dispatcher.dispatch(notification);
  verify(notification.Callback,never()).onFailure(notification.CallbackIds);
  verify(notification.Callback).onSuccess(notification.CallbackIds);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDispatch_noRecipients() throws Exception {
  SNMPDispatcher dispatcher=new SNMPDispatcher();
  Notification notification=mock(Notification.class);
  notification.Callback=mock(DispatchCallback.class);
  notification.CallbackIds=mock(List.class);
  Map<String,String> properties=new HashMap<String,String>();
  properties.put(SNMPDispatcher.SUBJECT_OID_PROPERTY,"1");
  properties.put(SNMPDispatcher.BODY_OID_PROPERTY,"2");
  properties.put(SNMPDispatcher.PORT_PROPERTY,"3");
  properties.put(SNMPDispatcher.COMMUNITY_PROPERTY,"4");
  properties.put(SNMPDispatcher.SNMP_VERSION_PROPERTY,"SNMPv1");
  properties.put(SNMPDispatcher.TRAP_OID_PROPERTY,"1.3.6.1.6.3.1.1.5.4");
  notification.DispatchProperties=properties;
  notification.Body="body";
  notification.Subject="subject";
  notification.Recipients=new ArrayList<Recipient>();
  dispatcher.dispatch(notification);
  verify(notification.Callback).onFailure(notification.CallbackIds);
  verify(notification.Callback,never()).onSuccess(notification.CallbackIds);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.orm.DBAccessorImplTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAddPKConstraint() throws Exception {
  String tableName=getFreeTableName();
  DBAccessorImpl dbAccessor=injector.getInstance(DBAccessorImpl.class);
  List<DBColumnInfo> columns=new ArrayList<DBColumnInfo>();
  columns.add(new DBColumnInfo("id",Long.class,null,null,false));
  columns.add(new DBColumnInfo("sid",Long.class,null,null,false));
  columns.add(new DBColumnInfo("data",char[].class,null,null,true));
  dbAccessor.createTable(tableName,columns);
  dbAccessor.addPKConstraint(tableName,"PK_sid","sid");
  try {
  }
  finally {
    dbAccessor.dropTable(tableName);
  }
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testModifyColumn() throws Exception {
  String tableName=getFreeTableName();
  createMyTable(tableName);
  DBAccessorImpl dbAccessor=injector.getInstance(DBAccessorImpl.class);
  dbAccessor.executeQuery("insert into " + tableName + "(id, name, time) values(1, 'Bob', 1234567)");
  dbAccessor.alterColumn(tableName,new DBColumnInfo("name",String.class,25000));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.orm.JdbcPropertyTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testNormal() throws Exception {
  injector=Guice.createInjector(new ControllerModule(properties));
  injector.getInstance(GuiceJpaInitializer.class);
  injector.getInstance(Clusters.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.orm.TestOrmImpl </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Transaction marked for rollback should not be allowed for commit
 * @throws Throwable
 */
@Test(expected=RollbackException.class) public void testRollbackException() throws Throwable {
  injector.getInstance(OrmTestHelper.class).performTransactionMarkedForRollback();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.orm.dao.BlueprintDAOTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRemove(){
  BlueprintEntity entity=new BlueprintEntity();
  BlueprintEntity entity2=new BlueprintEntity();
  expect(entityManager.merge(eq(entity))).andReturn(entity2);
  entityManager.remove(eq(entity2));
  replay(entityManager);
  BlueprintDAO dao=new BlueprintDAO();
  dao.entityManagerProvider=entityManagerProvider;
  dao.remove(entity);
  verify(entityManagerProvider,entityManager);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRemoveByName(){
  BlueprintEntity entity=new BlueprintEntity();
  BlueprintDAO dao=new BlueprintDAO();
  dao.entityManagerProvider=entityManagerProvider;
  expect(entityManager.find(eq(BlueprintEntity.class),eq("test"))).andReturn(entity);
  entityManager.remove(entity);
  expectLastCall();
  replay(entityManager);
  dao.removeByName("test");
  verify(entityManager);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRefresh(){
  BlueprintEntity entity=new BlueprintEntity();
  entityManager.refresh(eq(entity));
  replay(entityManager);
  BlueprintDAO dao=new BlueprintDAO();
  dao.entityManagerProvider=entityManagerProvider;
  dao.refresh(entity);
  verify(entityManagerProvider,entityManager);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreate(){
  BlueprintEntity entity=new BlueprintEntity();
  entityManager.persist(eq(entity));
  replay(entityManager);
  BlueprintDAO dao=new BlueprintDAO();
  dao.entityManagerProvider=entityManagerProvider;
  dao.create(entity);
  verify(entityManagerProvider,entityManager);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.orm.dao.HostComponentDesiredStateDAOTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRemove() throws Exception {
  Provider<EntityManager> entityManagerProvider=createNiceMock(Provider.class);
  EntityManager entityManager=createNiceMock(EntityManager.class);
  HostDAO hostDAO=createNiceMock(HostDAO.class);
  HostEntity hostEntity=createNiceMock(HostEntity.class);
  HostComponentDesiredStateEntity hostComponentDesiredStateEntity=createNiceMock(HostComponentDesiredStateEntity.class);
  expect(hostComponentDesiredStateEntity.getHostEntity()).andReturn(hostEntity);
  expect(entityManagerProvider.get()).andReturn(entityManager).anyTimes();
  expect(entityManager.merge(hostComponentDesiredStateEntity)).andReturn(hostComponentDesiredStateEntity).anyTimes();
  entityManager.remove(hostComponentDesiredStateEntity);
  hostEntity.removeHostComponentDesiredStateEntity(hostComponentDesiredStateEntity);
  expect(hostDAO.merge(hostEntity)).andReturn(hostEntity).anyTimes();
  replay(entityManagerProvider,entityManager,hostDAO,hostEntity,hostComponentDesiredStateEntity);
  HostComponentDesiredStateDAO dao=new HostComponentDesiredStateDAO();
  dao.entityManagerProvider=entityManagerProvider;
  dao.hostDAO=hostDAO;
  dao.remove(hostComponentDesiredStateEntity);
  verify(entityManagerProvider,entityManager,hostDAO,hostEntity,hostComponentDesiredStateEntity);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.orm.dao.HostComponentStateDAOTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRemove() throws Exception {
  Provider<EntityManager> entityManagerProvider=createNiceMock(Provider.class);
  EntityManager entityManager=createNiceMock(EntityManager.class);
  HostDAO hostDAO=createNiceMock(HostDAO.class);
  HostEntity hostEntity=createNiceMock(HostEntity.class);
  HostComponentStateEntity hostComponentStateEntity=createNiceMock(HostComponentStateEntity.class);
  expect(hostComponentStateEntity.getHostName()).andReturn("host1");
  expect(hostDAO.findByName("host1")).andReturn(hostEntity);
  expect(entityManagerProvider.get()).andReturn(entityManager).anyTimes();
  expect(entityManager.merge(hostComponentStateEntity)).andReturn(hostComponentStateEntity).anyTimes();
  entityManager.remove(hostComponentStateEntity);
  hostEntity.removeHostComponentStateEntity(hostComponentStateEntity);
  expect(hostDAO.merge(hostEntity)).andReturn(hostEntity).anyTimes();
  replay(entityManagerProvider,entityManager,hostDAO,hostEntity,hostComponentStateEntity);
  HostComponentStateDAO dao=new HostComponentStateDAO();
  dao.entityManagerProvider=entityManagerProvider;
  dao.hostDAO=hostDAO;
  dao.remove(hostComponentStateEntity);
  verify(entityManagerProvider,entityManager,hostDAO,hostEntity,hostComponentStateEntity);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.orm.dao.HostConfigMappingDAOTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreate() throws Exception {
  createEntity(1L,"h1","global","v1");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.orm.dao.TopologyRequestDAOTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAndFindAll() throws Exception {
  create();
  testRequestEntity(requestDAO.findAll());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testFindByClusterId() throws Exception {
  create();
  testRequestEntity(requestDAO.findByClusterId(clusterId));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.orm.dao.ViewInstanceDAOTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRemoveData() throws Exception {
  ViewInstanceDataEntity entity=new ViewInstanceDataEntity();
  ViewInstanceDataEntity entity2=new ViewInstanceDataEntity();
  expect(entityManager.merge(eq(entity))).andReturn(entity2);
  entityManager.remove(eq(entity2));
  replay(entityManager);
  ViewInstanceDAO dao=new ViewInstanceDAO();
  dao.entityManagerProvider=entityManagerProvider;
  dao.removeData(entity);
  verify(entityManagerProvider,entityManager);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.orm.entities.ViewInstanceEntityTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testValidate() throws Exception {
  Properties properties=new Properties();
  properties.put("p1","v1");
  Configuration ambariConfig=new Configuration(properties);
  ViewConfig config=ViewConfigTest.getConfig(xml_valid_instance);
  ViewEntity viewEntity=ViewRegistryTest.getViewEntity(config,ambariConfig,getClass().getClassLoader(),"");
  ViewInstanceEntity viewInstanceEntity=ViewRegistryTest.getViewInstanceEntity(viewEntity,config.getInstances().get(0));
  viewInstanceEntity.validate(viewEntity,Validator.ValidationContext.PRE_CREATE);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testValidateWithClusterConfig() throws Exception {
  Properties properties=new Properties();
  properties.put("p1","v1");
  Configuration ambariConfig=new Configuration(properties);
  ViewConfig config=ViewConfigTest.getConfig(XML_CONFIG_INSTANCE);
  ViewEntity viewEntity=ViewRegistryTest.getViewEntity(config,ambariConfig,getClass().getClassLoader(),"");
  ViewInstanceEntity viewInstanceEntity=ViewRegistryTest.getViewInstanceEntity(viewEntity,config.getInstances().get(0));
  viewInstanceEntity.validate(viewEntity,Validator.ValidationContext.PRE_CREATE);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testValidateWithValidator() throws Exception {
  Properties properties=new Properties();
  properties.put("p1","v1");
  Configuration ambariConfig=new Configuration(properties);
  ViewConfig config=ViewConfigTest.getConfig(xml_valid_instance);
  ViewEntity viewEntity=ViewRegistryTest.getViewEntity(config,ambariConfig,getClass().getClassLoader(),"");
  ViewInstanceEntity viewInstanceEntity=ViewRegistryTest.getViewInstanceEntity(viewEntity,config.getInstances().get(0));
  ViewEntityTest.TestValidator validator=new ViewEntityTest.TestValidator();
  validator.result=new ValidationResultImpl(true,"detail");
  viewEntity.setValidator(validator);
  viewInstanceEntity.validate(viewEntity,Validator.ValidationContext.PRE_CREATE);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.proxy.ProxyServiceTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEscapedURL() throws Exception {
  ProxyService ps=new ProxyService();
  URLStreamProvider streamProviderMock=PowerMock.createNiceMock(URLStreamProvider.class);
  MultivaluedMap<String,String> queryParams=new MultivaluedMapImpl();
  MultivaluedMap<String,String> headerParams=new MultivaluedMapImpl();
  HttpURLConnection urlConnectionMock=createMock(HttpURLConnection.class);
  URI uri=UriBuilder.fromUri("http://dev01.hortonworks.com:8080/proxy?url=http%3a%2f%2fserver%3a8188%2fws%2fv1%2f" + "timeline%2fHIVE_QUERY_ID%3ffields=events%2cprimaryfilters%26limit=10%26primaryFilter=user%3ahiveuser1").build();
  Map<String,List<String>> headerParamsToForward=new HashMap<String,List<String>>();
  InputStream is=new ByteArrayInputStream("test".getBytes());
  List<String> userRemoteParams=new LinkedList<String>();
  userRemoteParams.add("testuser");
  headerParams.add("AmbariProxy-User-Remote","testuser");
  headerParams.add("Content-Type","testtype");
  headerParamsToForward.put("User-Remote",userRemoteParams);
  expect(getHttpHeaders().getRequestHeaders()).andReturn(headerParams);
  expect(getHttpHeaders().getRequestHeader("AmbariProxy-User-Remote")).andReturn(userRemoteParams);
  expect(getUriInfo().getRequestUri()).andReturn(uri);
  expect(getUriInfo().getQueryParameters()).andReturn(queryParams);
  expect(urlConnectionMock.getResponseCode()).andReturn(200);
  expect(urlConnectionMock.getContentType()).andReturn("text/plain");
  expect(urlConnectionMock.getInputStream()).andReturn(is);
  PowerMock.expectNew(URLStreamProvider.class,20000,15000,null,null,null).andReturn(streamProviderMock);
  expect(streamProviderMock.processURL("http://server:8188/ws/v1/timeline/HIVE_QUERY_ID?fields=events,primary" + "filters&limit=10&primaryFilter=user:hiveuser1","GET",(InputStream)null,headerParamsToForward)).andReturn(urlConnectionMock);
  PowerMock.replay(streamProviderMock,URLStreamProvider.class);
  replay(getUriInfo(),urlConnectionMock,getHttpHeaders());
  ps.processGetRequestForwarding(getHttpHeaders(),getUriInfo());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.scheduler.ExecutionScheduleManagerTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateBatchRequest() throws Exception {
  Clusters clustersMock=createMock(Clusters.class);
  Cluster clusterMock=createMock(Cluster.class);
  RequestExecution requestExecutionMock=createMock(RequestExecution.class);
  Configuration configurationMock=createNiceMock(Configuration.class);
  ExecutionScheduler executionSchedulerMock=createMock(ExecutionScheduler.class);
  InternalTokenStorage tokenStorageMock=createMock(InternalTokenStorage.class);
  ActionDBAccessor actionDBAccessorMock=createMock(ActionDBAccessor.class);
  Gson gson=new Gson();
  BatchRequest batchRequestMock=createMock(BatchRequest.class);
  long executionId=11L;
  long batchId=1L;
  long requestId=5L;
  String clusterName="mycluster";
  Map<Long,RequestExecution> executionMap=new HashMap<Long,RequestExecution>();
  executionMap.put(executionId,requestExecutionMock);
  BatchRequestResponse batchRequestResponse=new BatchRequestResponse();
  batchRequestResponse.setStatus(HostRoleStatus.IN_PROGRESS.toString());
  batchRequestResponse.setRequestId(requestId);
  batchRequestResponse.setReturnCode(202);
  EasyMock.expect(configurationMock.getApiSSLAuthentication()).andReturn(Boolean.FALSE);
  EasyMock.replay(configurationMock);
  ExecutionScheduleManager scheduleManager=createMockBuilder(ExecutionScheduleManager.class).withConstructor(configurationMock,executionSchedulerMock,tokenStorageMock,clustersMock,actionDBAccessorMock,gson).addMockedMethods("performApiRequest").createNiceMock();
  expect(clustersMock.getCluster(clusterName)).andReturn(clusterMock).anyTimes();
  expect(clusterMock.getAllRequestExecutions()).andReturn(executionMap).anyTimes();
  requestExecutionMock.updateBatchRequest(eq(batchId),eq(batchRequestResponse),eq(true));
  expectLastCall().once();
  replay(clusterMock,clustersMock,requestExecutionMock,executionSchedulerMock,tokenStorageMock,batchRequestMock,scheduleManager);
  scheduleManager.updateBatchRequest(executionId,batchId,clusterName,batchRequestResponse,true);
  verify(clusterMock,clustersMock,configurationMock,requestExecutionMock,executionSchedulerMock,tokenStorageMock,batchRequestMock,scheduleManager);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@SuppressWarnings("unchecked") @Test public void testFinalizeBatch() throws Exception {
  Clusters clustersMock=createMock(Clusters.class);
  Cluster clusterMock=createMock(Cluster.class);
  Configuration configurationMock=createNiceMock(Configuration.class);
  ExecutionScheduler executionSchedulerMock=createMock(ExecutionScheduler.class);
  InternalTokenStorage tokenStorageMock=createMock(InternalTokenStorage.class);
  ActionDBAccessor actionDBAccessorMock=createMock(ActionDBAccessor.class);
  Gson gson=new Gson();
  RequestExecution requestExecutionMock=createMock(RequestExecution.class);
  Batch batchMock=createMock(Batch.class);
  JobDetail jobDetailMock=createMock(JobDetail.class);
  final BatchRequest batchRequestMock=createMock(BatchRequest.class);
  final Trigger triggerMock=createNiceMock(Trigger.class);
  final List<Trigger> triggers=new ArrayList<Trigger>(){
{
      add(triggerMock);
    }
  }
;
  long executionId=11L;
  String clusterName="c1";
  Date pastDate=new Date(new Date().getTime() - 2);
  Map<Long,RequestExecution> executionMap=new HashMap<Long,RequestExecution>();
  executionMap.put(executionId,requestExecutionMock);
  EasyMock.expect(configurationMock.getApiSSLAuthentication()).andReturn(Boolean.FALSE);
  EasyMock.replay(configurationMock);
  ExecutionScheduleManager scheduleManager=createMockBuilder(ExecutionScheduleManager.class).withConstructor(configurationMock,executionSchedulerMock,tokenStorageMock,clustersMock,actionDBAccessorMock,gson).createMock();
  expect(clustersMock.getCluster(clusterName)).andReturn(clusterMock).anyTimes();
  expect(clusterMock.getAllRequestExecutions()).andReturn(executionMap).anyTimes();
  expect(requestExecutionMock.getBatch()).andReturn(batchMock).anyTimes();
  expect(batchMock.getBatchRequests()).andReturn(new ArrayList<BatchRequest>(){
{
      add(batchRequestMock);
    }
  }
);
  expect(batchRequestMock.getOrderId()).andReturn(1L).anyTimes();
  expect(executionSchedulerMock.getJobDetail((JobKey)anyObject())).andReturn(jobDetailMock).anyTimes();
  expect((List<Trigger>)executionSchedulerMock.getTriggersForJob((JobKey)anyObject())).andReturn(triggers).anyTimes();
  expect(triggerMock.mayFireAgain()).andReturn(true).anyTimes();
  expect(triggerMock.getFinalFireTime()).andReturn(pastDate).anyTimes();
  requestExecutionMock.updateStatus(RequestExecution.Status.COMPLETED);
  expectLastCall();
  replay(clustersMock,clusterMock,requestExecutionMock,executionSchedulerMock,scheduleManager,batchMock,batchRequestMock,triggerMock,jobDetailMock,actionDBAccessorMock);
  scheduleManager.finalizeBatch(executionId,clusterName);
  verify(clustersMock,clusterMock,configurationMock,requestExecutionMock,executionSchedulerMock,scheduleManager,batchMock,batchRequestMock,triggerMock,jobDetailMock,actionDBAccessorMock);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecuteBatchRequest() throws Exception {
  Clusters clustersMock=createMock(Clusters.class);
  Cluster clusterMock=createMock(Cluster.class);
  RequestExecution requestExecutionMock=createMock(RequestExecution.class);
  Configuration configurationMock=createNiceMock(Configuration.class);
  ExecutionScheduler executionSchedulerMock=createMock(ExecutionScheduler.class);
  InternalTokenStorage tokenStorageMock=createMock(InternalTokenStorage.class);
  ActionDBAccessor actionDBAccessorMock=createMock(ActionDBAccessor.class);
  Gson gson=new Gson();
  BatchRequest batchRequestMock=createMock(BatchRequest.class);
  long executionId=11L;
  long batchId=1L;
  long requestId=5L;
  String clusterName="mycluster";
  String uri="clusters";
  String type="post";
  String body="body";
  Map<Long,RequestExecution> executionMap=new HashMap<Long,RequestExecution>();
  executionMap.put(executionId,requestExecutionMock);
  BatchRequestResponse batchRequestResponse=new BatchRequestResponse();
  batchRequestResponse.setStatus(HostRoleStatus.IN_PROGRESS.toString());
  batchRequestResponse.setRequestId(requestId);
  batchRequestResponse.setReturnCode(202);
  EasyMock.expect(configurationMock.getApiSSLAuthentication()).andReturn(Boolean.FALSE);
  EasyMock.replay(configurationMock);
  ExecutionScheduleManager scheduleManager=createMockBuilder(ExecutionScheduleManager.class).withConstructor(configurationMock,executionSchedulerMock,tokenStorageMock,clustersMock,actionDBAccessorMock,gson).addMockedMethods("performApiRequest","updateBatchRequest").createNiceMock();
  expect(clustersMock.getCluster(clusterName)).andReturn(clusterMock).anyTimes();
  expect(clusterMock.getAllRequestExecutions()).andReturn(executionMap).anyTimes();
  expect(requestExecutionMock.getBatchRequest(eq(batchId))).andReturn(batchRequestMock).once();
  expect(requestExecutionMock.getRequestBody(eq(batchId))).andReturn(body).once();
  expect(batchRequestMock.getUri()).andReturn(uri).once();
  expect(batchRequestMock.getType()).andReturn(type).once();
  expect(scheduleManager.performApiRequest(eq(uri),eq(body),eq(type))).andReturn(batchRequestResponse).once();
  scheduleManager.updateBatchRequest(eq(executionId),eq(batchId),eq(clusterName),eq(batchRequestResponse),eq(false));
  expectLastCall().once();
  actionDBAccessorMock.setSourceScheduleForRequest(eq(requestId),eq(executionId));
  expectLastCall().once();
  replay(clusterMock,clustersMock,requestExecutionMock,executionSchedulerMock,tokenStorageMock,batchRequestMock,scheduleManager,actionDBAccessorMock);
  scheduleManager.executeBatchRequest(executionId,batchId,clusterName);
  verify(clusterMock,clustersMock,configurationMock,requestExecutionMock,executionSchedulerMock,tokenStorageMock,batchRequestMock,scheduleManager,actionDBAccessorMock);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.security.authorization.AmbariAuthorizationFilterTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDoFilter_clusterViewerAccess() throws Exception {
  final Table<String,String,Boolean> urlTests=HashBasedTable.create();
  urlTests.put("/api/v1/clusters/cluster","GET",true);
  urlTests.put("/api/v1/clusters/cluster","POST",true);
  urlTests.put("/api/v1/views","GET",true);
  urlTests.put("/api/v1/views","POST",true);
  urlTests.put("/api/v1/persist/SomeValue","GET",true);
  urlTests.put("/api/v1/persist/SomeValue","POST",false);
  urlTests.put("/api/v1/clusters/c1/credentials/ambari.credential","POST",true);
  urlTests.put("/api/v1/clusters/c1/credentials/ambari.credential","PUT",true);
  urlTests.put("/api/v1/clusters/c1/credentials/ambari.credential","GET",true);
  urlTests.put("/api/v1/clusters/c1/credentials/ambari.credential","DELETE",true);
  urlTests.put("/api/v1/clusters/c1/credentials/cluster.credential","POST",true);
  urlTests.put("/api/v1/clusters/c1/credentials/cluster.credential","PUT",true);
  urlTests.put("/api/v1/clusters/c1/credentials/cluster.credential","GET",true);
  urlTests.put("/api/v1/clusters/c1/credentials/cluster.credential","DELETE",true);
  urlTests.put("/views/AllowedView/SomeVersion/SomeInstance","GET",true);
  urlTests.put("/views/AllowedView/SomeVersion/SomeInstance","POST",true);
  urlTests.put("/views/DeniedView/AnotherVersion/AnotherInstance","GET",true);
  urlTests.put("/views/DeniedView/AnotherVersion/AnotherInstance","POST",true);
  urlTests.put("/api/v1/users/user1","GET",true);
  urlTests.put("/api/v1/users/user1","POST",true);
  urlTests.put("/api/v1/users/user2","GET",true);
  urlTests.put("/api/v1/users/user2","POST",true);
  urlTests.put("/api/v1/groups","GET",true);
  urlTests.put("/api/v1/ldap_sync_events","GET",false);
  urlTests.put("/any/other/URL","GET",true);
  urlTests.put("/any/other/URL","POST",false);
  performGeneralDoFilterTest(TestAuthenticationFactory.createClusterUser(),urlTests,false);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDoFilter_adminAccess() throws Exception {
  final Table<String,String,Boolean> urlTests=HashBasedTable.create();
  urlTests.put("/api/v1/clusters/cluster","GET",true);
  urlTests.put("/api/v1/clusters/cluster","POST",true);
  urlTests.put("/api/v1/views","GET",true);
  urlTests.put("/api/v1/views","POST",true);
  urlTests.put("/api/v1/persist/SomeValue","GET",true);
  urlTests.put("/api/v1/persist/SomeValue","POST",true);
  urlTests.put("/api/v1/clusters/c1/credentials/ambari.credential","POST",true);
  urlTests.put("/api/v1/clusters/c1/credentials/ambari.credential","PUT",true);
  urlTests.put("/api/v1/clusters/c1/credentials/ambari.credential","GET",true);
  urlTests.put("/api/v1/clusters/c1/credentials/ambari.credential","DELETE",true);
  urlTests.put("/api/v1/clusters/c1/credentials/cluster.credential","POST",true);
  urlTests.put("/api/v1/clusters/c1/credentials/cluster.credential","PUT",true);
  urlTests.put("/api/v1/clusters/c1/credentials/cluster.credential","GET",true);
  urlTests.put("/api/v1/clusters/c1/credentials/cluster.credential","DELETE",true);
  urlTests.put("/views/AllowedView/SomeVersion/SomeInstance","GET",true);
  urlTests.put("/views/AllowedView/SomeVersion/SomeInstance","POST",true);
  urlTests.put("/views/DeniedView/AnotherVersion/AnotherInstance","GET",true);
  urlTests.put("/views/DeniedView/AnotherVersion/AnotherInstance","POST",true);
  urlTests.put("/api/v1/users/user1","GET",true);
  urlTests.put("/api/v1/users/user1","POST",true);
  urlTests.put("/api/v1/users/user2","GET",true);
  urlTests.put("/api/v1/users/user2","POST",true);
  urlTests.put("/api/v1/groups","GET",true);
  urlTests.put("/api/v1/ldap_sync_events","GET",true);
  urlTests.put("/any/other/URL","GET",true);
  urlTests.put("/any/other/URL","POST",true);
  performGeneralDoFilterTest(TestAuthenticationFactory.createAdministrator(),urlTests,false);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDoFilter_userNoPermissionsAccess() throws Exception {
  final Table<String,String,Boolean> urlTests=HashBasedTable.create();
  urlTests.put("/api/v1/clusters/cluster","GET",true);
  urlTests.put("/api/v1/clusters/cluster","POST",true);
  urlTests.put("/api/v1/views","GET",true);
  urlTests.put("/api/v1/views","POST",true);
  urlTests.put("/api/v1/persist/SomeValue","GET",true);
  urlTests.put("/api/v1/persist/SomeValue","POST",false);
  urlTests.put("/api/v1/clusters/c1/credentials/ambari.credential","POST",true);
  urlTests.put("/api/v1/clusters/c1/credentials/ambari.credential","PUT",true);
  urlTests.put("/api/v1/clusters/c1/credentials/ambari.credential","GET",true);
  urlTests.put("/api/v1/clusters/c1/credentials/ambari.credential","DELETE",true);
  urlTests.put("/api/v1/clusters/c1/credentials/cluster.credential","POST",true);
  urlTests.put("/api/v1/clusters/c1/credentials/cluster.credential","PUT",true);
  urlTests.put("/api/v1/clusters/c1/credentials/cluster.credential","GET",true);
  urlTests.put("/api/v1/clusters/c1/credentials/cluster.credential","DELETE",true);
  urlTests.put("/views/AllowedView/SomeVersion/SomeInstance","GET",true);
  urlTests.put("/views/AllowedView/SomeVersion/SomeInstance","POST",true);
  urlTests.put("/views/DeniedView/AnotherVersion/AnotherInstance","GET",true);
  urlTests.put("/views/DeniedView/AnotherVersion/AnotherInstance","POST",true);
  urlTests.put("/api/v1/users/user1","GET",true);
  urlTests.put("/api/v1/users/user1","POST",true);
  urlTests.put("/api/v1/users/user2","GET",true);
  urlTests.put("/api/v1/users/user2","POST",true);
  urlTests.put("/any/other/URL","GET",true);
  urlTests.put("/any/other/URL","POST",false);
  performGeneralDoFilterTest(TestAuthenticationFactory.createViewUser(null),urlTests,false);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDoFilter_viewUserAccess() throws Exception {
  final Table<String,String,Boolean> urlTests=HashBasedTable.create();
  urlTests.put("/api/v1/clusters/cluster","GET",true);
  urlTests.put("/api/v1/clusters/cluster","POST",true);
  urlTests.put("/api/v1/views","GET",true);
  urlTests.put("/api/v1/views","POST",true);
  urlTests.put("/api/v1/persist/SomeValue","GET",true);
  urlTests.put("/api/v1/persist/SomeValue","POST",false);
  urlTests.put("/api/v1/clusters/c1/credentials/ambari.credential","POST",true);
  urlTests.put("/api/v1/clusters/c1/credentials/ambari.credential","PUT",true);
  urlTests.put("/api/v1/clusters/c1/credentials/ambari.credential","GET",true);
  urlTests.put("/api/v1/clusters/c1/credentials/ambari.credential","DELETE",true);
  urlTests.put("/api/v1/clusters/c1/credentials/cluster.credential","POST",true);
  urlTests.put("/api/v1/clusters/c1/credentials/cluster.credential","PUT",true);
  urlTests.put("/api/v1/clusters/c1/credentials/cluster.credential","GET",true);
  urlTests.put("/api/v1/clusters/c1/credentials/cluster.credential","DELETE",true);
  urlTests.put("/views/AllowedView/SomeVersion/SomeInstance","GET",true);
  urlTests.put("/views/AllowedView/SomeVersion/SomeInstance","POST",true);
  urlTests.put("/views/DeniedView/AnotherVersion/AnotherInstance","GET",true);
  urlTests.put("/views/DeniedView/AnotherVersion/AnotherInstance","POST",true);
  urlTests.put("/api/v1/users/user1","GET",true);
  urlTests.put("/api/v1/users/user1","POST",true);
  urlTests.put("/api/v1/users/user2","GET",true);
  urlTests.put("/api/v1/users/user2","POST",true);
  urlTests.put("/api/v1/groups","GET",true);
  urlTests.put("/api/v1/ldap_sync_events","GET",false);
  urlTests.put("/any/other/URL","GET",true);
  urlTests.put("/any/other/URL","POST",false);
  performGeneralDoFilterTest(TestAuthenticationFactory.createViewUser(99L),urlTests,false);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDoFilter_viewNotLoggedIn() throws Exception {
  final Table<String,String,Boolean> urlTests=HashBasedTable.create();
  urlTests.put("/views/SomeView/SomeVersion/SomeInstance","GET",false);
  urlTests.put("/views/SomeView/SomeVersion/SomeInstance?foo=bar","GET",false);
  performGeneralDoFilterTest(null,urlTests,true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDoFilter_stackAdvisorCalls() throws Exception {
  final Table<String,String,Boolean> urlTests=HashBasedTable.create();
  urlTests.put("/api/v1/stacks/HDP/versions/2.3/validations","POST",true);
  urlTests.put("/api/v1/stacks/HDP/versions/2.3/recommendations","POST",true);
  performGeneralDoFilterTest(TestAuthenticationFactory.createClusterAdministrator(),urlTests,false);
  performGeneralDoFilterTest(TestAuthenticationFactory.createClusterUser(),urlTests,false);
  performGeneralDoFilterTest(TestAuthenticationFactory.createAdministrator(),urlTests,false);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDoFilter_clusterOperatorAccess() throws Exception {
  final Table<String,String,Boolean> urlTests=HashBasedTable.create();
  urlTests.put("/api/v1/clusters/cluster","GET",true);
  urlTests.put("/api/v1/clusters/cluster","POST",true);
  urlTests.put("/api/v1/views","GET",true);
  urlTests.put("/api/v1/views","POST",true);
  urlTests.put("/api/v1/persist/SomeValue","GET",true);
  urlTests.put("/api/v1/persist/SomeValue","POST",true);
  urlTests.put("/api/v1/clusters/c1/credentials/ambari.credential","POST",true);
  urlTests.put("/api/v1/clusters/c1/credentials/ambari.credential","PUT",true);
  urlTests.put("/api/v1/clusters/c1/credentials/ambari.credential","GET",true);
  urlTests.put("/api/v1/clusters/c1/credentials/ambari.credential","DELETE",true);
  urlTests.put("/api/v1/clusters/c1/credentials/cluster.credential","POST",true);
  urlTests.put("/api/v1/clusters/c1/credentials/cluster.credential","PUT",true);
  urlTests.put("/api/v1/clusters/c1/credentials/cluster.credential","GET",true);
  urlTests.put("/api/v1/clusters/c1/credentials/cluster.credential","DELETE",true);
  urlTests.put("/views/AllowedView/SomeVersion/SomeInstance","GET",true);
  urlTests.put("/views/AllowedView/SomeVersion/SomeInstance","POST",true);
  urlTests.put("/views/DeniedView/AnotherVersion/AnotherInstance","GET",true);
  urlTests.put("/views/DeniedView/AnotherVersion/AnotherInstance","POST",true);
  urlTests.put("/api/v1/users/user1","GET",true);
  urlTests.put("/api/v1/users/user1","POST",true);
  urlTests.put("/api/v1/users/user2","GET",true);
  urlTests.put("/api/v1/users/user2","POST",true);
  urlTests.put("/api/v1/groups","GET",true);
  urlTests.put("/api/v1/ldap_sync_events","GET",false);
  urlTests.put("/any/other/URL","GET",true);
  urlTests.put("/any/other/URL","POST",false);
  performGeneralDoFilterTest(TestAuthenticationFactory.createClusterAdministrator(),urlTests,false);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDoFilter_postPersist_hasNoOperatePermission() throws Exception {
  FilterChain chain=createNiceMock(FilterChain.class);
  HttpServletRequest request=createNiceMock(HttpServletRequest.class);
  HttpServletResponse response=createNiceMock(HttpServletResponse.class);
  AmbariAuthorizationFilter filter=createMockBuilder(AmbariAuthorizationFilter.class).addMockedMethod("getSecurityContext").withConstructor().createMock();
  SecurityContext securityContext=createNiceMock(SecurityContext.class);
  Authentication authentication=createNiceMock(Authentication.class);
  AmbariGrantedAuthority authority=createNiceMock(AmbariGrantedAuthority.class);
  PrivilegeEntity privilegeEntity=createNiceMock(PrivilegeEntity.class);
  PermissionEntity permission=createNiceMock(PermissionEntity.class);
  FilterConfig filterConfig=createNiceMock(FilterConfig.class);
  expect(filterConfig.getInitParameter("realm")).andReturn("AuthFilter");
  expect(authentication.isAuthenticated()).andReturn(true);
  expect(request.getRequestURI()).andReturn("/api/v1/persist/some_val");
  expect(authority.getPrivilegeEntity()).andReturn(privilegeEntity);
  expect(privilegeEntity.getPermission()).andReturn(permission);
  EasyMock.<Collection<? extends GrantedAuthority>>expect(authentication.getAuthorities()).andReturn(Collections.singletonList(authority));
  expect(filter.getSecurityContext()).andReturn(securityContext);
  expect(securityContext.getAuthentication()).andReturn(authentication);
  expect(request.getMethod()).andReturn("POST").anyTimes();
  expect(permission.getId()).andReturn(PermissionEntity.VIEW_USER_PERMISSION);
  response.setHeader("WWW-Authenticate","Basic realm=\"AuthFilter\"");
  response.sendError(HttpServletResponse.SC_FORBIDDEN,"You do not have permissions to access this resource.");
  response.flushBuffer();
  replay(request,response,chain,filter,securityContext,authentication,authority,privilegeEntity,permission,filterConfig);
  filter.init(filterConfig);
  filter.doFilter(request,response,chain);
  verify(request,response,chain,filter,securityContext,authentication,authority,privilegeEntity,permission,filterConfig);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.security.authorization.AmbariLdapAuthenticationProviderForDNWithSpaceTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=BadCredentialsException.class) public void testBadCredential() throws Exception {
  Authentication authentication=new UsernamePasswordAuthenticationToken("notFound","wrong");
  authenticationProvider.authenticate(authentication);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.security.authorization.AmbariLdapAuthenticationProviderTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=BadCredentialsException.class) public void testBadCredential() throws Exception {
  Authentication authentication=new UsernamePasswordAuthenticationToken("notFound","wrong");
  authenticationProvider.authenticate(authentication);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.security.authorization.AmbariLocalUserDetailsServiceTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=UsernameNotFoundException.class) public void testUsernameNotFound() throws Exception {
  userDetailsService.loadUserByUsername("notExists_123123123");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.security.authorization.TestAmbariLdapAuthoritiesPopulator </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetGrantedAuthorities_mappingEnabled() throws Exception {
  AmbariLdapAuthoritiesPopulator populator=createMockBuilder(AmbariLdapAuthoritiesPopulator.class).withConstructor(helper,userDAO,memberDAO,privilegeDAO).createMock();
  expect(userEntity.getPrincipal()).andReturn(principalEntity).anyTimes();
  expect(userEntity.getActive()).andReturn(true);
  expect(memberDAO.findAllMembersByUser(userEntity)).andReturn(Collections.singletonList(memberEntity)).anyTimes();
  expect(memberEntity.getGroup()).andReturn(groupEntity).anyTimes();
  expect(groupEntity.getPrincipal()).andReturn(groupPrincipalEntity).anyTimes();
  List<PrincipalEntity> principalEntityList=new LinkedList<PrincipalEntity>();
  principalEntityList.add(principalEntity);
  principalEntityList.add(groupPrincipalEntity);
  expect(privilegeDAO.findAllByPrincipal(principalEntityList)).andReturn(Collections.singletonList(privilegeEntity)).anyTimes();
  expect(userDAO.findLdapUserByName(EasyMock.<String>anyObject())).andReturn(null).andReturn(userEntity).once();
  replayAll();
  populator.getGrantedAuthorities(userData,"admin");
  populator.getGrantedAuthorities(userData,"user");
  verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetGrantedAuthorities_mappingDisabled() throws Exception {
  String username="user";
  AmbariLdapAuthoritiesPopulator populator=createMockBuilder(AmbariLdapAuthoritiesPopulator.class).withConstructor(helper,userDAO,memberDAO,privilegeDAO).createMock();
  expect(userEntity.getPrincipal()).andReturn(principalEntity);
  expect(userEntity.getActive()).andReturn(true);
  expect(memberDAO.findAllMembersByUser(userEntity)).andReturn(Collections.singletonList(memberEntity));
  expect(memberEntity.getGroup()).andReturn(groupEntity);
  expect(groupEntity.getPrincipal()).andReturn(groupPrincipalEntity);
  List<PrincipalEntity> principalEntityList=new LinkedList<PrincipalEntity>();
  principalEntityList.add(principalEntity);
  principalEntityList.add(groupPrincipalEntity);
  expect(privilegeDAO.findAllByPrincipal(principalEntityList)).andReturn(Collections.singletonList(privilegeEntity));
  expect(userDAO.findLdapUserByName(username)).andReturn(userEntity);
  replayAll();
  populator.getGrantedAuthorities(userData,username);
  verifyAll();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.security.authorization.TestUsers </h4><pre class="type-14 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Is not executed with the test suite
- Executes methods or other tests from the same test unit
"></span><br>
@Test @Ignore public void testCreateUserDefaultParams() throws Exception {
  final Users spy=Mockito.spy(users);
  spy.createUser("user","user");
  Mockito.verify(spy).createUser("user","user",true,false,false);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AmbariException.class) public void testCreateUserDuplicate() throws Exception {
  users.createUser("user","user");
  users.createUser("user","user");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.security.encryption.CredentialStoreServiceImplTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AmbariException.class) public void testFailToReinitialize_Temporary() throws Exception {
  credentialStoreService.initializeTemporaryCredentialStore(1,TimeUnit.MINUTES,false);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AmbariException.class) public void testFailToReinitialize_Persisted() throws Exception {
  credentialStoreService.initializePersistedCredentialStore(null,null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.security.encryption.CredentialStoreTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testInMemoryCredentialStoreService_AddCredentialToStoreWithPersistMaster() throws Exception {
  addCredentialToStoreWithPersistMasterTest(new InMemoryCredentialStoreServiceFactory(),new DefaultMasterKeyServiceFactory());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testInMemoryCredentialStoreService_GetCredential() throws Exception {
  getCredentialTest(new InMemoryCredentialStoreServiceFactory(),new DefaultMasterKeyServiceFactory());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testInMemoryCredentialStoreService_RemoveCredential() throws Exception {
  removeCredentialTest(new InMemoryCredentialStoreServiceFactory(),new DefaultMasterKeyServiceFactory());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testInMemoryCredentialStoreService_AddCredentialToStore() throws Exception {
  addCredentialToStoreTest(new InMemoryCredentialStoreServiceFactory(),new DefaultMasterKeyServiceFactory());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testFileBasedCredentialStoreService_AddCredentialToStoreWithPersistMaster() throws Exception {
  addCredentialToStoreWithPersistMasterTest(new FileBasedCredentialStoreServiceFactory(),new DefaultMasterKeyServiceFactory());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testInMemoryCredentialStoreService_CredentialExpired() throws Exception {
  getExpiredCredentialTest(new InMemoryCredentialStoreServiceFactory(),new DefaultMasterKeyServiceFactory());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testFileBasedCredentialStoreService_AddCredentialToStore() throws Exception {
  addCredentialToStoreTest(new FileBasedCredentialStoreServiceFactory(),new DefaultMasterKeyServiceFactory());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testFileBasedCredentialStoreService_GetCredential() throws Exception {
  getCredentialTest(new FileBasedCredentialStoreServiceFactory(),new DefaultMasterKeyServiceFactory());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testFileBasedCredentialStoreService_RemoveCredential() throws Exception {
  removeCredentialTest(new FileBasedCredentialStoreServiceFactory(),new DefaultMasterKeyServiceFactory());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.security.ldap.AmbariLdapDataPopulatorTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AmbariException.class) public void testSynchronizeLdapUsers_absent() throws Exception {
  Configuration configuration=createNiceMock(Configuration.class);
  Users users=createNiceMock(Users.class);
  LdapTemplate ldapTemplate=createNiceMock(LdapTemplate.class);
  LdapServerProperties ldapServerProperties=createNiceMock(LdapServerProperties.class);
  replay(ldapTemplate,ldapServerProperties,users,configuration);
  AmbariLdapDataPopulatorTestInstance populator=createMockBuilder(AmbariLdapDataPopulatorTestInstance.class).addMockedMethod("getLdapUsers").withConstructor(configuration,users).createNiceMock();
  LdapUserDto externalUser1=createNiceMock(LdapUserDto.class);
  LdapUserDto externalUser2=createNiceMock(LdapUserDto.class);
  LdapUserDto externalUser3=createNiceMock(LdapUserDto.class);
  LdapUserDto externalUser4=createNiceMock(LdapUserDto.class);
  expect(externalUser1.getUserName()).andReturn("user1").anyTimes();
  expect(externalUser2.getUserName()).andReturn("user2").anyTimes();
  expect(externalUser3.getUserName()).andReturn("xuser3").anyTimes();
  expect(externalUser4.getUserName()).andReturn("xuser4").anyTimes();
  replay(externalUser1,externalUser2,externalUser3,externalUser4);
  expect(populator.getLdapUsers("xuser*")).andReturn(createSet(externalUser3,externalUser4));
  expect(populator.getLdapUsers("user1")).andReturn(Collections.singleton(externalUser1));
  expect(populator.getLdapUsers("user2")).andReturn(Collections.EMPTY_SET);
  replay(populator);
  populator.setLdapTemplate(ldapTemplate);
  populator.setLdapServerProperties(ldapServerProperties);
  populator.synchronizeLdapUsers(createSet("user1","user2","xuser*"),new LdapBatchDto());
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AmbariException.class) public void testSynchronizeLdapGroups_absent() throws Exception {
  Group group1=createNiceMock(Group.class);
  Group group2=createNiceMock(Group.class);
  Group group3=createNiceMock(Group.class);
  Group group4=createNiceMock(Group.class);
  expect(group1.getGroupName()).andReturn("group1").anyTimes();
  expect(group2.getGroupName()).andReturn("group2").anyTimes();
  expect(group3.getGroupName()).andReturn("group3").anyTimes();
  expect(group4.getGroupName()).andReturn("group4").anyTimes();
  expect(group1.isLdapGroup()).andReturn(false).anyTimes();
  expect(group2.isLdapGroup()).andReturn(true).anyTimes();
  expect(group3.isLdapGroup()).andReturn(true).anyTimes();
  expect(group4.isLdapGroup()).andReturn(false).anyTimes();
  List<Group> groupList=Arrays.asList(group1,group2,group3,group4);
  Configuration configuration=createNiceMock(Configuration.class);
  Users users=createNiceMock(Users.class);
  LdapTemplate ldapTemplate=createNiceMock(LdapTemplate.class);
  LdapServerProperties ldapServerProperties=createNiceMock(LdapServerProperties.class);
  expect(users.getAllGroups()).andReturn(groupList);
  expect(users.getAllUsers()).andReturn(Collections.EMPTY_LIST);
  replay(ldapTemplate,ldapServerProperties,users,configuration);
  replay(group1,group2,group3,group4);
  AmbariLdapDataPopulatorTestInstance populator=createMockBuilder(AmbariLdapDataPopulatorTestInstance.class).addMockedMethod("getLdapGroups").addMockedMethod("refreshGroupMembers").withConstructor(configuration,users).createNiceMock();
  LdapGroupDto externalGroup1=createNiceMock(LdapGroupDto.class);
  LdapGroupDto externalGroup2=createNiceMock(LdapGroupDto.class);
  LdapGroupDto externalGroup3=createNiceMock(LdapGroupDto.class);
  LdapGroupDto externalGroup4=createNiceMock(LdapGroupDto.class);
  expect(externalGroup1.getGroupName()).andReturn("group1").anyTimes();
  expect(externalGroup2.getGroupName()).andReturn("group2").anyTimes();
  expect(externalGroup3.getGroupName()).andReturn("xgroup1").anyTimes();
  expect(externalGroup4.getGroupName()).andReturn("xgroup2").anyTimes();
  replay(externalGroup1,externalGroup2,externalGroup3,externalGroup4);
  LdapBatchDto batchInfo=new LdapBatchDto();
  Set<LdapGroupDto> externalGroups=createSet(externalGroup3,externalGroup4);
  expect(populator.getLdapGroups("x*")).andReturn(externalGroups);
  expect(populator.getLdapGroups("group1")).andReturn(Collections.EMPTY_SET);
  expect(populator.getLdapGroups("group2")).andReturn(Collections.singleton(externalGroup2));
  replay(populator);
  populator.setLdapTemplate(ldapTemplate);
  populator.setLdapServerProperties(ldapServerProperties);
  populator.synchronizeLdapGroups(createSet("x*","group1","group2"),batchInfo);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testReferralMethod(){
  final Configuration configuration=createNiceMock(Configuration.class);
  final Users users=createNiceMock(Users.class);
  LdapContextSource ldapContextSource=createNiceMock(LdapContextSource.class);
  List<String> ldapUrls=Collections.singletonList("url");
  LdapTemplate ldapTemplate=createNiceMock(LdapTemplate.class);
  LdapServerProperties ldapServerProperties=createNiceMock(LdapServerProperties.class);
  expect(configuration.getLdapServerProperties()).andReturn(ldapServerProperties).anyTimes();
  expect(ldapServerProperties.getLdapUrls()).andReturn(ldapUrls).anyTimes();
  expect(ldapServerProperties.getReferralMethod()).andReturn("follow");
  ldapContextSource.setReferral("follow");
  ldapTemplate.setIgnorePartialResultException(true);
  replay(ldapTemplate,configuration,ldapServerProperties,ldapContextSource);
  final TestAmbariLdapDataPopulator populator=new TestAmbariLdapDataPopulator(configuration,users);
  populator.setLdapContextSource(ldapContextSource);
  populator.setLdapTemplate(ldapTemplate);
  populator.setLdapServerProperties(ldapServerProperties);
  populator.loadLdapTemplate();
  verify(ldapTemplate,configuration,ldapServerProperties,ldapContextSource);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.security.ldap.LdapPerformanceTest </h4><pre class="type-19 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testLdapSync() throws AmbariException, InterruptedException {
  long time=System.currentTimeMillis();
  Set<LdapGroupDto> groups=populator.getExternalLdapGroupInfo();
  Set<LdapUserDto> users=populator.getExternalLdapUserInfo();
  Set<String> userNames=new HashSet<String>();
  for (  LdapUserDto user : users) {
    userNames.add(user.getUserName());
  }
  Set<String> groupNames=new HashSet<String>();
  for (  LdapGroupDto group : groups) {
    groupNames.add(group.getGroupName());
  }
  System.out.println("Data fetch: " + (System.currentTimeMillis() - time));
  time=System.currentTimeMillis();
  LdapBatchDto batchDto=new LdapBatchDto();
  populator.synchronizeLdapUsers(userNames,batchDto);
  populator.synchronizeLdapGroups(groupNames,batchDto);
  this.users.processLdapSync(batchDto);
  System.out.println("Initial sync: " + (System.currentTimeMillis() - time));
  time=System.currentTimeMillis();
  batchDto=new LdapBatchDto();
  populator.synchronizeLdapUsers(userNames,batchDto);
  populator.synchronizeLdapGroups(groupNames,batchDto);
  this.users.processLdapSync(batchDto);
  System.out.println("Subsequent sync: " + (System.currentTimeMillis() - time));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.serveraction.kerberos.ADKerberosOperationHandlerTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=KerberosAdminAuthenticationException.class) public void testTestAdministratorCredentialsIncorrectAdminPrincipal() throws Exception {
  PrincipalKeyCredential kc=new PrincipalKeyCredential("wrong",DEFAULT_ADMIN_PASSWORD);
  Map<String,String> kerberosEnvMap=new HashMap<String,String>(){
{
      put(ADKerberosOperationHandler.KERBEROS_ENV_LDAP_URL,DEFAULT_LDAP_URL);
      put(ADKerberosOperationHandler.KERBEROS_ENV_PRINCIPAL_CONTAINER_DN,DEFAULT_PRINCIPAL_CONTAINER_DN);
    }
  }
;
  ADKerberosOperationHandler handler=createMockBuilder(ADKerberosOperationHandler.class).addMockedMethod(ADKerberosOperationHandler.class.getDeclaredMethod("createInitialLdapContext",Properties.class,Control[].class)).createNiceMock();
  expect(handler.createInitialLdapContext(anyObject(Properties.class),anyObject(Control[].class))).andAnswer(new IAnswer<LdapContext>(){
    @Override public LdapContext answer() throws Throwable {
      throw new AuthenticationException();
    }
  }
).once();
  replayAll();
  handler.open(kc,DEFAULT_REALM,kerberosEnvMap);
  handler.testAdministratorCredentials();
  handler.close();
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=KerberosKDCConnectionException.class) public void testOpenExceptionLdapUrlNotProvided() throws Exception {
  KerberosOperationHandler handler=new ADKerberosOperationHandler();
  PrincipalKeyCredential kc=new PrincipalKeyCredential(DEFAULT_ADMIN_PRINCIPAL,DEFAULT_ADMIN_PASSWORD);
  Map<String,String> kerberosEnvMap=new HashMap<String,String>(){
{
      put(ADKerberosOperationHandler.KERBEROS_ENV_PRINCIPAL_CONTAINER_DN,DEFAULT_PRINCIPAL_CONTAINER_DN);
    }
  }
;
  handler.open(kc,DEFAULT_REALM,kerberosEnvMap);
  handler.close();
}

</code></pre>

<br>
<pre class="type-14 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Is not executed with the test suite
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Implementation to illustrate the use of operations on this class
 * @throws Throwable
 */
@Test @Ignore public void testLive() throws Throwable {
  ADKerberosOperationHandler handler=new ADKerberosOperationHandler();
  String principal=System.getProperty("principal");
  String password=System.getProperty("password");
  String realm=System.getProperty("realm");
  String ldapUrl=System.getProperty("ldap_url");
  String containerDN=System.getProperty("container_dn");
  if (principal == null) {
    principal=DEFAULT_ADMIN_PRINCIPAL;
  }
  if (password == null) {
    password=DEFAULT_ADMIN_PASSWORD;
  }
  if (realm == null) {
    realm=DEFAULT_REALM;
  }
  if (ldapUrl == null) {
    ldapUrl=DEFAULT_LDAP_URL;
  }
  if (containerDN == null) {
    containerDN=DEFAULT_PRINCIPAL_CONTAINER_DN;
  }
  PrincipalKeyCredential credentials=new PrincipalKeyCredential(principal,password);
  Map<String,String> kerberosEnvMap=new HashMap<String,String>();
  kerberosEnvMap.put(ADKerberosOperationHandler.KERBEROS_ENV_LDAP_URL,ldapUrl);
  kerberosEnvMap.put(ADKerberosOperationHandler.KERBEROS_ENV_PRINCIPAL_CONTAINER_DN,containerDN);
  handler.open(credentials,realm,kerberosEnvMap);
  System.out.println("Test Admin Credentials: " + handler.testAdministratorCredentials());
  System.out.println("Principal exists: " + handler.principalExists("nn/c1508.ambari.apache.org"));
  handler.close();
  handler.open(credentials,realm,kerberosEnvMap);
  String evaluatedPrincipal;
  evaluatedPrincipal="nn/c6501.ambari.apache.org@" + DEFAULT_REALM;
  if (handler.principalExists(evaluatedPrincipal)) {
    handler.setPrincipalPassword(evaluatedPrincipal,"some password");
  }
 else {
    handler.createPrincipal(evaluatedPrincipal,"some password",true);
  }
  evaluatedPrincipal="hdfs@" + DEFAULT_REALM;
  if (handler.principalExists(evaluatedPrincipal)) {
    handler.setPrincipalPassword(evaluatedPrincipal,"some password");
  }
 else {
    handler.createPrincipal(evaluatedPrincipal,"some password",true);
  }
  kerberosEnvMap.put(ADKerberosOperationHandler.KERBEROS_ENV_AD_CREATE_ATTRIBUTES_TEMPLATE,"#set( $user = \"${principal_primary}-${principal_digest}\" )" + "{" + "  \"objectClass\": ["+ "    \"top\","+ "    \"person\","+ "    \"organizationalPerson\","+ "    \"user\""+ "  ],"+ "  \"cn\": \"$user\","+ "  \"sAMAccountName\": \"$user.substring(0,20)\","+ "  #if( $is_service )"+ "  \"servicePrincipalName\": \"$principal_name\","+ "  #end"+ "  \"userPrincipalName\": \"$normalized_principal\","+ "  \"unicodePwd\": \"$password\","+ "  \"accountExpires\": \"0\","+ "  \"userAccountControl\": \"66048\""+ "}");
  handler.close();
  handler.open(credentials,realm,kerberosEnvMap);
  handler.removePrincipal("abcdefg");
  handler.removePrincipal("abcdefg/c1509.ambari.apache.org@" + DEFAULT_REALM);
  handler.createPrincipal("abcdefg/c1509.ambari.apache.org@" + DEFAULT_REALM,"some password",true);
  handler.createPrincipal("abcdefg@" + DEFAULT_REALM,"some password",false);
  handler.setPrincipalPassword("abcdefg/c1509.ambari.apache.org@" + DEFAULT_REALM,"some password");
  handler.close();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testTestAdministratorCredentialsSuccess() throws Exception {
  PrincipalKeyCredential kc=new PrincipalKeyCredential(DEFAULT_ADMIN_PRINCIPAL,DEFAULT_ADMIN_PASSWORD);
  Map<String,String> kerberosEnvMap=new HashMap<String,String>(){
{
      put(ADKerberosOperationHandler.KERBEROS_ENV_LDAP_URL,DEFAULT_LDAP_URL);
      put(ADKerberosOperationHandler.KERBEROS_ENV_PRINCIPAL_CONTAINER_DN,DEFAULT_PRINCIPAL_CONTAINER_DN);
    }
  }
;
  ADKerberosOperationHandler handler=createMockBuilder(ADKerberosOperationHandler.class).addMockedMethod(ADKerberosOperationHandler.class.getDeclaredMethod("createInitialLdapContext",Properties.class,Control[].class)).addMockedMethod(ADKerberosOperationHandler.class.getDeclaredMethod("createSearchControls")).createNiceMock();
  expect(handler.createInitialLdapContext(anyObject(Properties.class),anyObject(Control[].class))).andAnswer(new IAnswer<LdapContext>(){
    @Override public LdapContext answer() throws Throwable {
      LdapContext ldapContext=createNiceMock(LdapContext.class);
      expect(ldapContext.search(anyObject(String.class),anyObject(String.class),anyObject(SearchControls.class))).andAnswer(new IAnswer<NamingEnumeration<SearchResult>>(){
        @Override public NamingEnumeration<SearchResult> answer() throws Throwable {
          NamingEnumeration<SearchResult> result=createNiceMock(NamingEnumeration.class);
          expect(result.hasMore()).andReturn(false).once();
          replay(result);
          return result;
        }
      }
).once();
      replay(ldapContext);
      return ldapContext;
    }
  }
).once();
  expect(handler.createSearchControls()).andAnswer(new IAnswer<SearchControls>(){
    @Override public SearchControls answer() throws Throwable {
      SearchControls searchControls=createNiceMock(SearchControls.class);
      replay(searchControls);
      return searchControls;
    }
  }
).once();
  replayAll();
  handler.open(kc,DEFAULT_REALM,kerberosEnvMap);
  handler.testAdministratorCredentials();
  handler.close();
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=KerberosLDAPContainerException.class) public void testOpenExceptionPrincipalContainerDnNotProvided() throws Exception {
  KerberosOperationHandler handler=new ADKerberosOperationHandler();
  PrincipalKeyCredential kc=new PrincipalKeyCredential(DEFAULT_ADMIN_PRINCIPAL,DEFAULT_ADMIN_PASSWORD);
  Map<String,String> kerberosEnvMap=new HashMap<String,String>(){
{
      put(ADKerberosOperationHandler.KERBEROS_ENV_LDAP_URL,DEFAULT_LDAP_URL);
    }
  }
;
  handler.open(kc,DEFAULT_REALM,kerberosEnvMap);
  handler.close();
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=KerberosAdminAuthenticationException.class) public void testOpenExceptionAdminCredentialsNotProvided() throws Exception {
  KerberosOperationHandler handler=new ADKerberosOperationHandler();
  Map<String,String> kerberosEnvMap=new HashMap<String,String>(){
{
      put(ADKerberosOperationHandler.KERBEROS_ENV_LDAP_URL,DEFAULT_LDAP_URL);
      put(ADKerberosOperationHandler.KERBEROS_ENV_PRINCIPAL_CONTAINER_DN,DEFAULT_PRINCIPAL_CONTAINER_DN);
    }
  }
;
  handler.open(null,DEFAULT_REALM,kerberosEnvMap);
  handler.close();
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=KerberosAdminAuthenticationException.class) public void testTestAdministratorCredentialsIncorrectAdminPassword() throws Exception {
  PrincipalKeyCredential kc=new PrincipalKeyCredential(DEFAULT_ADMIN_PRINCIPAL,"wrong");
  Map<String,String> kerberosEnvMap=new HashMap<String,String>(){
{
      put(ADKerberosOperationHandler.KERBEROS_ENV_LDAP_URL,DEFAULT_LDAP_URL);
      put(ADKerberosOperationHandler.KERBEROS_ENV_PRINCIPAL_CONTAINER_DN,DEFAULT_PRINCIPAL_CONTAINER_DN);
    }
  }
;
  ADKerberosOperationHandler handler=createMockBuilder(ADKerberosOperationHandler.class).addMockedMethod(ADKerberosOperationHandler.class.getDeclaredMethod("createInitialLdapContext",Properties.class,Control[].class)).createNiceMock();
  expect(handler.createInitialLdapContext(anyObject(Properties.class),anyObject(Control[].class))).andAnswer(new IAnswer<LdapContext>(){
    @Override public LdapContext answer() throws Throwable {
      throw new AuthenticationException();
    }
  }
).once();
  replayAll();
  handler.open(kc,DEFAULT_REALM,kerberosEnvMap);
  handler.testAdministratorCredentials();
  handler.close();
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=KerberosKDCConnectionException.class) public void testTestAdministratorCredentialsKDCConnectionException() throws Exception {
  PrincipalKeyCredential kc=new PrincipalKeyCredential(DEFAULT_ADMIN_PRINCIPAL,DEFAULT_ADMIN_PASSWORD);
  Map<String,String> kerberosEnvMap=new HashMap<String,String>(){
{
      put(ADKerberosOperationHandler.KERBEROS_ENV_LDAP_URL,"invalid");
      put(ADKerberosOperationHandler.KERBEROS_ENV_PRINCIPAL_CONTAINER_DN,DEFAULT_PRINCIPAL_CONTAINER_DN);
    }
  }
;
  ADKerberosOperationHandler handler=createMockBuilder(ADKerberosOperationHandler.class).addMockedMethod(ADKerberosOperationHandler.class.getDeclaredMethod("createInitialLdapContext",Properties.class,Control[].class)).createNiceMock();
  expect(handler.createInitialLdapContext(anyObject(Properties.class),anyObject(Control[].class))).andAnswer(new IAnswer<LdapContext>(){
    @Override public LdapContext answer() throws Throwable {
      throw new CommunicationException();
    }
  }
).once();
  replayAll();
  handler.open(kc,DEFAULT_REALM,kerberosEnvMap);
  handler.testAdministratorCredentials();
  handler.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.serveraction.kerberos.DeconstructedPrincipalTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testInstance() throws Exception {
  DeconstructedPrincipal.valueOf("/instance","REALM");
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testNullPrincipal() throws Exception {
  DeconstructedPrincipal.valueOf(null,null);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testEmptyPrincipal() throws Exception {
  DeconstructedPrincipal.valueOf("",null);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testInvalidPrincipal() throws Exception {
  DeconstructedPrincipal.valueOf("/invalid",null);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testInstanceRealm() throws Exception {
  DeconstructedPrincipal.valueOf("/instance@MYREALM","REALM");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.serveraction.kerberos.KDCTypeTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testTranslateNoTranslation(){
  KDCType.translate("NO TRANSLATION");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.serveraction.kerberos.KerberosOperationHandlerTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=KerberosAdminAuthenticationException.class) public void testAdminCredentialsNullCredential() throws KerberosOperationException {
  KerberosOperationHandler handler=createHandler();
  PrincipalKeyCredential credentials=new PrincipalKeyCredential("principal",(char[])null);
  handler.setAdministratorCredential(credentials);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=KerberosAdminAuthenticationException.class) public void testAdminCredentialsEmptyCredential1() throws KerberosOperationException {
  KerberosOperationHandler handler=createHandler();
  PrincipalKeyCredential credentials=new PrincipalKeyCredential("principal","");
  handler.setAdministratorCredential(credentials);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=KerberosAdminAuthenticationException.class) public void testAdminCredentialsNullPrincipal() throws KerberosOperationException {
  KerberosOperationHandler handler=createHandler();
  PrincipalKeyCredential credentials=new PrincipalKeyCredential(null,"password");
  handler.setAdministratorCredential(credentials);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=KerberosAdminAuthenticationException.class) public void testAdminCredentialsEmptyPrincipal() throws KerberosOperationException {
  KerberosOperationHandler handler=createHandler();
  PrincipalKeyCredential credentials=new PrincipalKeyCredential("","password");
  handler.setAdministratorCredential(credentials);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.serveraction.kerberos.MITKerberosOperationHandlerTest </h4><pre class="type-14 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Is not executed with the test suite
- Executes methods or other tests from the same test unit
"></span><br>
@Test @Ignore public void testTestAdministratorCredentialsLive() throws KerberosOperationException {
  MITKerberosOperationHandler handler=new MITKerberosOperationHandler();
  String principal=System.getProperty("principal");
  String password=System.getProperty("password");
  String realm=System.getProperty("realm");
  if (principal == null) {
    principal=DEFAULT_ADMIN_PRINCIPAL;
  }
  if (password == null) {
    password=DEFAULT_ADMIN_PASSWORD;
  }
  if (realm == null) {
    realm=DEFAULT_REALM;
  }
  PrincipalKeyCredential credentials=new PrincipalKeyCredential(principal,password);
  handler.open(credentials,realm,KERBEROS_ENV_MAP);
  handler.testAdministratorCredentials();
  handler.close();
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=KerberosRealmException.class) public void testTestAdministratorCredentialsInvalidRealm2() throws Exception {
  MITKerberosOperationHandler handler=createMockBuilder(MITKerberosOperationHandler.class).addMockedMethod(KerberosOperationHandler.class.getDeclaredMethod("executeCommand",String[].class)).createNiceMock();
  expect(handler.executeCommand(anyObject(String[].class))).andAnswer(new IAnswer<ShellCommandUtil.Result>(){
    @Override public ShellCommandUtil.Result answer() throws Throwable {
      ShellCommandUtil.Result result=createMock(ShellCommandUtil.Result.class);
      expect(result.getExitCode()).andReturn(1).anyTimes();
      expect(result.isSuccessful()).andReturn(false).anyTimes();
      expect(result.getStderr()).andReturn("kadmin: Cannot find KDC for requested realm while initializing kadmin interface").anyTimes();
      expect(result.getStdout()).andReturn("Authenticating as principal admin/admin with password.").anyTimes();
      replay(result);
      return result;
    }
  }
);
  replayAll();
  handler.open(new PrincipalKeyCredential(DEFAULT_ADMIN_PRINCIPAL,DEFAULT_ADMIN_PASSWORD),DEFAULT_REALM,KERBEROS_ENV_MAP);
  handler.testAdministratorCredentials();
  handler.close();
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=KerberosKDCConnectionException.class) public void testTestAdministratorCredentialsKDCConnectionException2() throws Exception {
  MITKerberosOperationHandler handler=createMockBuilder(MITKerberosOperationHandler.class).addMockedMethod(KerberosOperationHandler.class.getDeclaredMethod("executeCommand",String[].class)).createNiceMock();
  expect(handler.executeCommand(anyObject(String[].class))).andAnswer(new IAnswer<ShellCommandUtil.Result>(){
    @Override public ShellCommandUtil.Result answer() throws Throwable {
      ShellCommandUtil.Result result=createMock(ShellCommandUtil.Result.class);
      expect(result.getExitCode()).andReturn(1).anyTimes();
      expect(result.isSuccessful()).andReturn(false).anyTimes();
      expect(result.getStderr()).andReturn("kadmin: Cannot resolve network address for admin server in requested realm while initializing kadmin interface").anyTimes();
      expect(result.getStdout()).andReturn("Authenticating as principal admin/admin with password.").anyTimes();
      replay(result);
      return result;
    }
  }
);
  replayAll();
  handler.open(new PrincipalKeyCredential(DEFAULT_ADMIN_PRINCIPAL,DEFAULT_ADMIN_PASSWORD),DEFAULT_REALM,KERBEROS_ENV_MAP);
  handler.testAdministratorCredentials();
  handler.close();
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=KerberosAdminAuthenticationException.class) public void testTestAdministratorCredentialsIncorrectAdminPassword() throws Exception {
  MITKerberosOperationHandler handler=createMockBuilder(MITKerberosOperationHandler.class).addMockedMethod(KerberosOperationHandler.class.getDeclaredMethod("executeCommand",String[].class)).createNiceMock();
  expect(handler.executeCommand(anyObject(String[].class))).andAnswer(new IAnswer<ShellCommandUtil.Result>(){
    @Override public ShellCommandUtil.Result answer() throws Throwable {
      ShellCommandUtil.Result result=createMock(ShellCommandUtil.Result.class);
      expect(result.getExitCode()).andReturn(1).anyTimes();
      expect(result.isSuccessful()).andReturn(false).anyTimes();
      expect(result.getStderr()).andReturn("kadmin: Incorrect password while initializing kadmin interface").anyTimes();
      expect(result.getStdout()).andReturn("Authenticating as principal admin/admin with password.").anyTimes();
      replay(result);
      return result;
    }
  }
);
  replayAll();
  handler.open(new PrincipalKeyCredential(DEFAULT_ADMIN_PRINCIPAL,DEFAULT_ADMIN_PASSWORD),DEFAULT_REALM,KERBEROS_ENV_MAP);
  handler.testAdministratorCredentials();
  handler.close();
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=KerberosAdminAuthenticationException.class) public void testTestAdministratorCredentialsIncorrectAdminPrincipal() throws Exception {
  MITKerberosOperationHandler handler=createMockBuilder(MITKerberosOperationHandler.class).addMockedMethod(KerberosOperationHandler.class.getDeclaredMethod("executeCommand",String[].class)).createNiceMock();
  expect(handler.executeCommand(anyObject(String[].class))).andAnswer(new IAnswer<ShellCommandUtil.Result>(){
    @Override public ShellCommandUtil.Result answer() throws Throwable {
      ShellCommandUtil.Result result=createMock(ShellCommandUtil.Result.class);
      expect(result.getExitCode()).andReturn(1).anyTimes();
      expect(result.isSuccessful()).andReturn(false).anyTimes();
      expect(result.getStderr()).andReturn("kadmin: Client not found in Kerberos database while initializing kadmin interface").anyTimes();
      expect(result.getStdout()).andReturn("Authenticating as principal admin/admin with password.").anyTimes();
      replay(result);
      return result;
    }
  }
);
  replayAll();
  handler.open(new PrincipalKeyCredential(DEFAULT_ADMIN_PRINCIPAL,DEFAULT_ADMIN_PASSWORD),DEFAULT_REALM,KERBEROS_ENV_MAP);
  handler.testAdministratorCredentials();
  handler.close();
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=KerberosKDCConnectionException.class) public void testTestAdministratorCredentialsKDCConnectionException() throws Exception {
  MITKerberosOperationHandler handler=createMockBuilder(MITKerberosOperationHandler.class).addMockedMethod(KerberosOperationHandler.class.getDeclaredMethod("executeCommand",String[].class)).createNiceMock();
  expect(handler.executeCommand(anyObject(String[].class))).andAnswer(new IAnswer<ShellCommandUtil.Result>(){
    @Override public ShellCommandUtil.Result answer() throws Throwable {
      ShellCommandUtil.Result result=createMock(ShellCommandUtil.Result.class);
      expect(result.getExitCode()).andReturn(1).anyTimes();
      expect(result.isSuccessful()).andReturn(false).anyTimes();
      expect(result.getStderr()).andReturn("kadmin: Cannot contact any KDC for requested realm while initializing kadmin interface").anyTimes();
      expect(result.getStdout()).andReturn("Authenticating as principal admin/admin with password.").anyTimes();
      replay(result);
      return result;
    }
  }
);
  replayAll();
  handler.open(new PrincipalKeyCredential(DEFAULT_ADMIN_PRINCIPAL,DEFAULT_ADMIN_PASSWORD),DEFAULT_REALM,KERBEROS_ENV_MAP);
  handler.testAdministratorCredentials();
  handler.close();
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=KerberosRealmException.class) public void testTestAdministratorCredentialsInvalidRealm() throws Exception {
  MITKerberosOperationHandler handler=createMockBuilder(MITKerberosOperationHandler.class).addMockedMethod(KerberosOperationHandler.class.getDeclaredMethod("executeCommand",String[].class)).createNiceMock();
  expect(handler.executeCommand(anyObject(String[].class))).andAnswer(new IAnswer<ShellCommandUtil.Result>(){
    @Override public ShellCommandUtil.Result answer() throws Throwable {
      ShellCommandUtil.Result result=createMock(ShellCommandUtil.Result.class);
      expect(result.getExitCode()).andReturn(1).anyTimes();
      expect(result.isSuccessful()).andReturn(false).anyTimes();
      expect(result.getStderr()).andReturn("kadmin: Missing parameters in krb5.conf required for kadmin client while initializing kadmin interface").anyTimes();
      expect(result.getStdout()).andReturn("Authenticating as principal admin/admin with password.").anyTimes();
      replay(result);
      return result;
    }
  }
);
  replayAll();
  handler.open(new PrincipalKeyCredential(DEFAULT_ADMIN_PRINCIPAL,DEFAULT_ADMIN_PASSWORD),DEFAULT_REALM,KERBEROS_ENV_MAP);
  handler.testAdministratorCredentials();
  handler.close();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testTestAdministratorCredentialsSuccess() throws Exception {
  MITKerberosOperationHandler handler=createMockBuilder(MITKerberosOperationHandler.class).addMockedMethod(KerberosOperationHandler.class.getDeclaredMethod("executeCommand",String[].class)).createNiceMock();
  expect(handler.executeCommand(anyObject(String[].class))).andAnswer(new IAnswer<ShellCommandUtil.Result>(){
    @Override public ShellCommandUtil.Result answer() throws Throwable {
      ShellCommandUtil.Result result=createMock(ShellCommandUtil.Result.class);
      expect(result.getExitCode()).andReturn(0).anyTimes();
      expect(result.isSuccessful()).andReturn(true).anyTimes();
      expect(result.getStderr()).andReturn("").anyTimes();
      expect(result.getStdout()).andReturn("Authenticating as principal admin/admin with password.\n" + "Principal: admin/admin@EXAMPLE.COM\n" + "Expiration date: [never]\n"+ "Last password change: Thu Jan 08 13:09:52 UTC 2015\n"+ "Password expiration date: [none]\n"+ "Maximum ticket life: 1 day 00:00:00\n"+ "Maximum renewable life: 0 days 00:00:00\n"+ "Last modified: Thu Jan 08 13:09:52 UTC 2015 (root/admin@EXAMPLE.COM)\n"+ "Last successful authentication: [never]\n"+ "Last failed authentication: [never]\n"+ "Failed password attempts: 0\n"+ "Number of keys: 6\n"+ "Key: vno 1, aes256-cts-hmac-sha1-96, no salt\n"+ "Key: vno 1, aes128-cts-hmac-sha1-96, no salt\n"+ "Key: vno 1, des3-cbc-sha1, no salt\n"+ "Key: vno 1, arcfour-hmac, no salt\n"+ "Key: vno 1, des-hmac-sha1, no salt\n"+ "Key: vno 1, des-cbc-md5, no salt\n"+ "MKey: vno 1\n"+ "Attributes:\n"+ "Policy: [none]").anyTimes();
      replay(result);
      return result;
    }
  }
);
  replayAll();
  handler.open(new PrincipalKeyCredential(DEFAULT_ADMIN_PRINCIPAL,DEFAULT_ADMIN_PASSWORD),DEFAULT_REALM,KERBEROS_ENV_MAP);
  handler.testAdministratorCredentials();
  handler.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.serveraction.kerberos.UpdateKerberosConfigsServerActionTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateConfigEmptyDataDirectory() throws Exception {
  ExecutionCommand executionCommand=new ExecutionCommand();
  Map<String,String> commandParams=new HashMap<String,String>();
  commandParams.put(KerberosServerAction.DATA_DIRECTORY,testFolder.newFolder().getAbsolutePath());
  executionCommand.setCommandParams(commandParams);
  replayAll();
  action.setExecutionCommand(executionCommand);
  action.execute(null);
  verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateConfig() throws Exception {
  Map<String,String> commandParams=new HashMap<String,String>();
  commandParams.put(KerberosServerAction.DATA_DIRECTORY,dataDir);
  ExecutionCommand executionCommand=new ExecutionCommand();
  executionCommand.setCommandParams(commandParams);
  ConfigHelper configHelper=injector.getInstance(ConfigHelper.class);
  configHelper.updateConfigType(anyObject(Cluster.class),anyObject(AmbariManagementController.class),anyObject(String.class),anyObject(Map.class),anyObject(Collection.class),anyObject(String.class),anyObject(String.class));
  expectLastCall().atLeastOnce();
  replayAll();
  action.setExecutionCommand(executionCommand);
  action.execute(null);
  verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateConfigMissingDataDirectory() throws Exception {
  ExecutionCommand executionCommand=new ExecutionCommand();
  Map<String,String> commandParams=new HashMap<String,String>();
  executionCommand.setCommandParams(commandParams);
  replayAll();
  action.setExecutionCommand(executionCommand);
  action.execute(null);
  verifyAll();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.stack.KerberosDescriptorTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCommonKnoxServiceDescriptor() throws IOException {
  KerberosDescriptor descriptor=getKerberosDescriptor(commonServicesDirectory,"KNOX","0.5.0.2.2");
  Assert.notNull(descriptor);
  Assert.notNull(descriptor.getServices());
  Assert.notNull(descriptor.getService("KNOX"));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCommonFalconServiceDescriptor() throws IOException {
  KerberosDescriptor descriptor=getKerberosDescriptor(commonServicesDirectory,"FALCON","0.5.0.2.1");
  Assert.notNull(descriptor);
  Assert.notNull(descriptor.getServices());
  Assert.notNull(descriptor.getService("FALCON"));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCommonSparkServiceDescriptor() throws IOException {
  KerberosDescriptor descriptor=getKerberosDescriptor(commonServicesDirectory,"SPARK","1.2.0.2.2");
  Assert.notNull(descriptor);
  Assert.notNull(descriptor.getServices());
  Assert.notNull(descriptor.getService("SPARK"));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCommonYarnServiceDescriptor() throws IOException {
  KerberosDescriptor descriptor=getKerberosDescriptor(commonServicesDirectory,"YARN","2.1.0.2.0");
  Assert.notNull(descriptor);
  Assert.notNull(descriptor.getServices());
  Assert.notNull(descriptor.getService("YARN"));
  Assert.notNull(descriptor.getService("MAPREDUCE2"));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCommonHDFSServiceDescriptor() throws IOException {
  KerberosDescriptor descriptor=getKerberosDescriptor(commonServicesDirectory,"HDFS","2.1.0.2.0");
  Assert.notNull(descriptor);
  Assert.notNull(descriptor.getServices());
  Assert.notNull(descriptor.getService("HDFS"));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCommonHBASEServiceDescriptor() throws IOException {
  KerberosDescriptor descriptor=getKerberosDescriptor(commonServicesDirectory,"HBASE","0.96.0.2.0");
  Assert.notNull(descriptor);
  Assert.notNull(descriptor.getServices());
  Assert.notNull(descriptor.getService("HBASE"));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCommonStormServiceDescriptor() throws IOException {
  KerberosDescriptor descriptor=getKerberosDescriptor(commonServicesDirectory,"STORM","0.9.1.2.1");
  Assert.notNull(descriptor);
  Assert.notNull(descriptor.getServices());
  Assert.notNull(descriptor.getService("STORM"));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCommonHiveServiceDescriptor() throws IOException {
  KerberosDescriptor descriptor=getKerberosDescriptor(commonServicesDirectory,"HIVE","0.12.0.2.0");
  Assert.notNull(descriptor);
  Assert.notNull(descriptor.getServices());
  Assert.notNull(descriptor.getService("HIVE"));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCommonOozieServiceDescriptor() throws IOException {
  KerberosDescriptor descriptor;
  descriptor=getKerberosDescriptor(commonServicesDirectory,"OOZIE","4.0.0.2.0");
  Assert.notNull(descriptor);
  Assert.notNull(descriptor.getServices());
  Assert.notNull(descriptor.getService("OOZIE"));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCommonZookeepeerServiceDescriptor() throws IOException {
  KerberosDescriptor descriptor=getKerberosDescriptor(commonServicesDirectory,"ZOOKEEPER","3.4.5.2.0");
  Assert.notNull(descriptor);
  Assert.notNull(descriptor.getServices());
  Assert.notNull(descriptor.getService("ZOOKEEPER"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.stack.ServiceModuleTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testServiceCheckRegistered() throws Exception {
  ServiceInfo info=new ServiceInfo();
  info.setName("service1");
  info.setCommandScript(createNiceMock(CommandScriptDefinition.class));
  StackContext context=createStackContext(info.getName(),true);
  ServiceModule service=createServiceModule(info,Collections.<ConfigurationModule>emptySet(),context);
  service.finalizeModule();
  verify(context);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testServiceCheckNotRegisteredForDeletedService() throws Exception {
  ServiceInfo info=new ServiceInfo();
  info.setName("service1");
  info.setCommandScript(createNiceMock(CommandScriptDefinition.class));
  info.setDeleted(true);
  StackContext context=createStackContext(info.getName(),false);
  ServiceModule service=createServiceModule(info,Collections.<ConfigurationModule>emptySet(),context);
  service.finalizeModule();
  verify(context);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.stack.StackManagerTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testMetricsLoaded() throws Exception {
  String stackRoot=ClassLoader.getSystemClassLoader().getResource("stacks").getPath().replace("test-classes","classes");
  String commonServices=ClassLoader.getSystemClassLoader().getResource("common-services").getPath().replace("test-classes","classes");
  MetainfoDAO metaInfoDao=createNiceMock(MetainfoDAO.class);
  StackDAO stackDao=createNiceMock(StackDAO.class);
  ActionMetadata actionMetadata=createNiceMock(ActionMetadata.class);
  Configuration config=createNiceMock(Configuration.class);
  expect(config.getSharedResourcesDirPath()).andReturn(ClassLoader.getSystemClassLoader().getResource("").getPath()).anyTimes();
  replay(config,metaInfoDao,stackDao,actionMetadata);
  OsFamily osFamily=new OsFamily(config);
  StackManager stackManager=new StackManager(new File(stackRoot),new File(commonServices),osFamily,metaInfoDao,actionMetadata,stackDao);
  for (  StackInfo stackInfo : stackManager.getStacks()) {
    for (    ServiceInfo serviceInfo : stackInfo.getServices()) {
      Type type=new TypeToken<Map<String,Map<String,List<MetricDefinition>>>>(){
      }
.getType();
      Gson gson=new Gson();
      Map<String,Map<String,List<MetricDefinition>>> map=null;
      if (serviceInfo.getMetricsFile() != null) {
        try {
          map=gson.fromJson(new FileReader(serviceInfo.getMetricsFile()),type);
        }
 catch (        Exception e) {
          e.printStackTrace();
          throw new AmbariException("Failed to load metrics from file " + serviceInfo.getMetricsFile().getAbsolutePath());
        }
      }
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.state.CheckHelperTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testPreUpgradeCheckNotApplicable() throws Exception {
  final CheckHelper helper=new CheckHelper();
  List<AbstractCheckDescriptor> updateChecksRegistry=new ArrayList<AbstractCheckDescriptor>();
  AbstractCheckDescriptor descriptor=EasyMock.createNiceMock(AbstractCheckDescriptor.class);
  EasyMock.expect(descriptor.isApplicable(EasyMock.<PrereqCheckRequest>anyObject())).andReturn(false);
  EasyMock.replay(descriptor);
  updateChecksRegistry.add(descriptor);
  helper.performChecks(new PrereqCheckRequest("cluster"),updateChecksRegistry);
  EasyMock.verify(descriptor);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Makes sure that people don't forget to add new checks to registry.
 */
@Test public void testPreUpgradeCheck() throws Exception {
  final CheckHelper helper=new CheckHelper();
  List<AbstractCheckDescriptor> updateChecksRegistry=new ArrayList<AbstractCheckDescriptor>();
  AbstractCheckDescriptor descriptor=EasyMock.createNiceMock(AbstractCheckDescriptor.class);
  descriptor.perform(EasyMock.<PrerequisiteCheck>anyObject(),EasyMock.<PrereqCheckRequest>anyObject());
  EasyMock.expectLastCall().times(1);
  EasyMock.expect(descriptor.isApplicable(EasyMock.<PrereqCheckRequest>anyObject())).andReturn(true);
  EasyMock.replay(descriptor);
  updateChecksRegistry.add(descriptor);
  helper.performChecks(new PrereqCheckRequest("cluster"),updateChecksRegistry);
  EasyMock.verify(descriptor);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.state.DesiredConfigTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEquals() throws Exception {
  EqualsVerifier.forClass(DesiredConfig.class).usingGetClass().suppress(Warning.NONFINAL_FIELDS).verify();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testHostOverride_Equals() throws Exception {
  EqualsVerifier.forClass(DesiredConfig.HostOverride.class).usingGetClass().verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.state.ServicePropertyInfoTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEquals() throws Exception {
  EqualsVerifier.forClass(ServicePropertyInfo.class).suppress(Warning.NONFINAL_FIELDS).verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.state.action.JobTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void failNewJob() throws Exception {
  long currentTime=1;
  Action job=createNewJob(1,"JobNameFoo",currentTime);
  verifyNewJob(job,currentTime);
  completeJob(job,true,++currentTime);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testJobProgressUpdates() throws Exception {
  long currentTime=1;
  Action job=createNewJob(1,"JobNameFoo",currentTime);
  verifyNewJob(job,currentTime);
  verifyProgressUpdate(job,++currentTime);
  verifyProgressUpdate(job,++currentTime);
  verifyProgressUpdate(job,++currentTime);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testNewJob(){
  long currentTime=System.currentTimeMillis();
  Action job=createNewJob(1,"JobNameFoo",currentTime);
  verifyNewJob(job,currentTime);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testJobFailedCompletion() throws Exception {
  long currentTime=1;
  Action job=getRunningJob(1,"JobNameFoo",currentTime);
  completeJob(job,true,++currentTime);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testJobSuccessfulCompletion() throws Exception {
  long currentTime=1;
  Action job=getRunningJob(1,"JobNameFoo",currentTime);
  completeJob(job,false,++currentTime);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void completeNewJob() throws Exception {
  long currentTime=1;
  Action job=createNewJob(1,"JobNameFoo",currentTime);
  verifyNewJob(job,currentTime);
  completeJob(job,false,++currentTime);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.state.alerts.AlertStateChangedEventTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests that an {@link AlertNoticeEntity} is not created for a target that
 * does not match the {@link AlertState} of the alert.
 * @throws Exception
 */
@Test public void testAlertNoticeSkippedForTarget() throws Exception {
  AlertTargetEntity alertTarget=EasyMock.createMock(AlertTargetEntity.class);
  AlertGroupEntity alertGroup=EasyMock.createMock(AlertGroupEntity.class);
  List<AlertGroupEntity> groups=new ArrayList<AlertGroupEntity>();
  Set<AlertTargetEntity> targets=new HashSet<AlertTargetEntity>();
  targets.add(alertTarget);
  groups.add(alertGroup);
  EasyMock.expect(alertGroup.getAlertTargets()).andReturn(targets).once();
  EasyMock.expect(alertTarget.getAlertStates()).andReturn(EnumSet.of(AlertState.OK,AlertState.CRITICAL)).atLeastOnce();
  EasyMock.expect(dispatchDao.findGroupsByDefinition(EasyMock.anyObject(AlertDefinitionEntity.class))).andReturn(groups).once();
  dispatchDao.createNotices(EasyMock.<List<AlertNoticeEntity>>anyObject());
  EasyMock.replay(alertTarget,alertGroup,dispatchDao);
  AlertDefinitionEntity definition=EasyMock.createNiceMock(AlertDefinitionEntity.class);
  EasyMock.expect(definition.getDefinitionId()).andReturn(1L);
  EasyMock.expect(definition.getServiceName()).andReturn("HDFS");
  EasyMock.expect(definition.getLabel()).andReturn("hdfs-foo-alert");
  EasyMock.expect(definition.getDescription()).andReturn("HDFS Foo Alert");
  AlertHistoryEntity history=EasyMock.createNiceMock(AlertHistoryEntity.class);
  AlertStateChangeEvent event=EasyMock.createNiceMock(AlertStateChangeEvent.class);
  Alert alert=EasyMock.createNiceMock(Alert.class);
  EasyMock.expect(history.getAlertState()).andReturn(AlertState.WARNING).atLeastOnce();
  EasyMock.expect(history.getAlertDefinition()).andReturn(definition).atLeastOnce();
  EasyMock.expect(alert.getText()).andReturn("The HDFS Foo Alert Is Not Good").atLeastOnce();
  EasyMock.expect(alert.getState()).andReturn(AlertState.WARNING).atLeastOnce();
  EasyMock.expect(event.getNewHistoricalEntry()).andReturn(history).atLeastOnce();
  EasyMock.expect(event.getAlert()).andReturn(alert).atLeastOnce();
  EasyMock.replay(definition,history,event,alert);
  eventPublisher.publish(event);
  EasyMock.verify(dispatchDao,history,event);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests that an {@link AlertStateChangeEvent} causes{@link AlertNoticeEntity} instances to be written.
 * @throws Exception
 */
@Test public void testAlertNoticeCreationFromEvent() throws Exception {
  AlertTargetEntity alertTarget=EasyMock.createNiceMock(AlertTargetEntity.class);
  AlertGroupEntity alertGroup=EasyMock.createMock(AlertGroupEntity.class);
  List<AlertGroupEntity> groups=new ArrayList<AlertGroupEntity>();
  Set<AlertTargetEntity> targets=new HashSet<AlertTargetEntity>();
  targets.add(alertTarget);
  groups.add(alertGroup);
  EasyMock.expect(alertGroup.getAlertTargets()).andReturn(targets).once();
  EasyMock.expect(alertTarget.getAlertStates()).andReturn(EnumSet.of(AlertState.OK,AlertState.CRITICAL)).atLeastOnce();
  EasyMock.expect(dispatchDao.findGroupsByDefinition(EasyMock.anyObject(AlertDefinitionEntity.class))).andReturn(groups).once();
  dispatchDao.createNotices(EasyMock.<List<AlertNoticeEntity>>anyObject());
  EasyMock.expectLastCall().once();
  EasyMock.replay(alertTarget,alertGroup,dispatchDao);
  AlertDefinitionEntity definition=EasyMock.createNiceMock(AlertDefinitionEntity.class);
  EasyMock.expect(definition.getDefinitionId()).andReturn(1L);
  EasyMock.expect(definition.getServiceName()).andReturn("HDFS");
  EasyMock.expect(definition.getLabel()).andReturn("hdfs-foo-alert");
  EasyMock.expect(definition.getDescription()).andReturn("HDFS Foo Alert");
  AlertHistoryEntity history=EasyMock.createNiceMock(AlertHistoryEntity.class);
  AlertStateChangeEvent event=EasyMock.createNiceMock(AlertStateChangeEvent.class);
  Alert alert=EasyMock.createNiceMock(Alert.class);
  EasyMock.expect(history.getAlertState()).andReturn(AlertState.CRITICAL).atLeastOnce();
  EasyMock.expect(history.getAlertDefinition()).andReturn(definition).atLeastOnce();
  EasyMock.expect(alert.getText()).andReturn("The HDFS Foo Alert Is Not Good").atLeastOnce();
  EasyMock.expect(alert.getState()).andReturn(AlertState.CRITICAL).atLeastOnce();
  EasyMock.expect(event.getNewHistoricalEntry()).andReturn(history).atLeastOnce();
  EasyMock.expect(event.getAlert()).andReturn(alert).atLeastOnce();
  EasyMock.replay(definition,history,event,alert);
  eventPublisher.publish(event);
  EasyMock.verify(dispatchDao,history,event);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.state.cluster.ClusterImplTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSetSessionAttribute() throws Exception {
  Map<String,Object> attributes=new HashMap<String,Object>();
  attributes.put("foo","bar");
  attributes.put("foo2","bar2");
  Map<String,Object> updatedAttributes=new HashMap<String,Object>(attributes);
  updatedAttributes.put("foo2","updated value");
  Map<String,Object> addedAttributes=new HashMap<String,Object>(updatedAttributes);
  updatedAttributes.put("foo3","added value");
  AmbariSessionManager sessionManager=createMock(AmbariSessionManager.class);
  ClusterImpl cluster=createMockBuilder(ClusterImpl.class).addMockedMethod("getSessionManager").addMockedMethod("getClusterName").addMockedMethod("getSessionAttributes").createMock();
  expect(cluster.getSessionManager()).andReturn(sessionManager);
  expect(cluster.getClusterName()).andReturn("c1");
  expect(cluster.getSessionAttributes()).andReturn(attributes);
  sessionManager.setAttribute("cluster_session_attributes:c1",updatedAttributes);
  expectLastCall().once();
  expect(cluster.getSessionManager()).andReturn(sessionManager);
  expect(cluster.getClusterName()).andReturn("c1");
  expect(cluster.getSessionAttributes()).andReturn(updatedAttributes);
  sessionManager.setAttribute("cluster_session_attributes:c1",addedAttributes);
  expectLastCall().once();
  replay(sessionManager,cluster);
  cluster.setSessionAttribute("foo2","updated value");
  cluster.setSessionAttribute("foo3","added value");
  verify(sessionManager,cluster);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAddSessionAttributes() throws Exception {
  Map<String,Object> attributes=new HashMap<String,Object>();
  attributes.put("foo","bar");
  AmbariSessionManager sessionManager=createMock(AmbariSessionManager.class);
  ClusterImpl cluster=createMockBuilder(ClusterImpl.class).addMockedMethod("getSessionManager").addMockedMethod("getClusterName").addMockedMethod("getSessionAttributes").createMock();
  expect(cluster.getSessionManager()).andReturn(sessionManager);
  expect(cluster.getClusterName()).andReturn("c1");
  expect(cluster.getSessionAttributes()).andReturn(attributes);
  sessionManager.setAttribute("cluster_session_attributes:c1",attributes);
  replay(sessionManager,cluster);
  cluster.addSessionAttributes(attributes);
  verify(sessionManager,cluster);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRemoveSessionAttribute() throws Exception {
  Map<String,Object> attributes=new HashMap<String,Object>();
  attributes.put("foo","bar");
  attributes.put("foo2","bar2");
  Map<String,Object> trimmedAttributes=new HashMap<String,Object>(attributes);
  trimmedAttributes.remove("foo2");
  AmbariSessionManager sessionManager=createMock(AmbariSessionManager.class);
  ClusterImpl cluster=createMockBuilder(ClusterImpl.class).addMockedMethod("getSessionManager").addMockedMethod("getClusterName").addMockedMethod("getSessionAttributes").createMock();
  expect(cluster.getSessionManager()).andReturn(sessionManager);
  expect(cluster.getClusterName()).andReturn("c1");
  expect(cluster.getSessionAttributes()).andReturn(attributes);
  sessionManager.setAttribute("cluster_session_attributes:c1",trimmedAttributes);
  expectLastCall().once();
  replay(sessionManager,cluster);
  cluster.removeSessionAttribute("foo2");
  verify(sessionManager,cluster);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.state.cluster.ClusterTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testTransitionClusterVersion() throws Exception {
  createDefaultCluster();
  String stack="HDP";
  String version="0.2";
  StackId stackId=new StackId(stack,version);
  helper.getOrCreateRepositoryVersion(stackId,version);
  c1.createClusterVersion(stackId,version,"admin",RepositoryVersionState.INSTALLING);
  assertStateException(stackId,version,RepositoryVersionState.CURRENT,RepositoryVersionState.INSTALLING);
  assertStateException(stackId,version,RepositoryVersionState.UPGRADING,RepositoryVersionState.INSTALLING);
  assertStateException(stackId,version,RepositoryVersionState.UPGRADED,RepositoryVersionState.INSTALLING);
  assertStateException(stackId,version,RepositoryVersionState.UPGRADE_FAILED,RepositoryVersionState.INSTALLING);
  c1.transitionClusterVersion(stackId,version,RepositoryVersionState.INSTALL_FAILED);
  checkStackVersionState(stackId,version,RepositoryVersionState.INSTALL_FAILED);
  assertStateException(stackId,version,RepositoryVersionState.CURRENT,RepositoryVersionState.INSTALL_FAILED);
  assertStateException(stackId,version,RepositoryVersionState.INSTALLED,RepositoryVersionState.INSTALL_FAILED);
  assertStateException(stackId,version,RepositoryVersionState.UPGRADING,RepositoryVersionState.INSTALL_FAILED);
  assertStateException(stackId,version,RepositoryVersionState.UPGRADED,RepositoryVersionState.INSTALL_FAILED);
  assertStateException(stackId,version,RepositoryVersionState.UPGRADE_FAILED,RepositoryVersionState.INSTALL_FAILED);
  assertStateException(stackId,version,RepositoryVersionState.OUT_OF_SYNC,RepositoryVersionState.INSTALL_FAILED);
  c1.transitionClusterVersion(stackId,version,RepositoryVersionState.INSTALLING);
  checkStackVersionState(stackId,version,RepositoryVersionState.INSTALLING);
  c1.transitionClusterVersion(stackId,version,RepositoryVersionState.INSTALLED);
  checkStackVersionState(stackId,version,RepositoryVersionState.INSTALLED);
  assertStateException(stackId,version,RepositoryVersionState.CURRENT,RepositoryVersionState.INSTALLED);
  assertStateException(stackId,version,RepositoryVersionState.UPGRADE_FAILED,RepositoryVersionState.INSTALLED);
  assertStateException(stackId,version,RepositoryVersionState.INSTALL_FAILED,RepositoryVersionState.INSTALLED);
  c1.transitionClusterVersion(stackId,version,RepositoryVersionState.OUT_OF_SYNC);
  checkStackVersionState(stackId,version,RepositoryVersionState.OUT_OF_SYNC);
  assertStateException(stackId,version,RepositoryVersionState.CURRENT,RepositoryVersionState.OUT_OF_SYNC);
  assertStateException(stackId,version,RepositoryVersionState.INSTALLED,RepositoryVersionState.OUT_OF_SYNC);
  assertStateException(stackId,version,RepositoryVersionState.INSTALL_FAILED,RepositoryVersionState.OUT_OF_SYNC);
  assertStateException(stackId,version,RepositoryVersionState.UPGRADING,RepositoryVersionState.OUT_OF_SYNC);
  assertStateException(stackId,version,RepositoryVersionState.UPGRADED,RepositoryVersionState.OUT_OF_SYNC);
  assertStateException(stackId,version,RepositoryVersionState.UPGRADE_FAILED,RepositoryVersionState.OUT_OF_SYNC);
  c1.transitionClusterVersion(stackId,version,RepositoryVersionState.INSTALLING);
  checkStackVersionState(stackId,version,RepositoryVersionState.INSTALLING);
  c1.transitionClusterVersion(stackId,version,RepositoryVersionState.INSTALLED);
  checkStackVersionState(stackId,version,RepositoryVersionState.INSTALLED);
  c1.transitionClusterVersion(stackId,version,RepositoryVersionState.UPGRADING);
  checkStackVersionState(stackId,version,RepositoryVersionState.UPGRADING);
  assertStateException(stackId,version,RepositoryVersionState.CURRENT,RepositoryVersionState.UPGRADING);
  assertStateException(stackId,version,RepositoryVersionState.INSTALLED,RepositoryVersionState.UPGRADING);
  assertStateException(stackId,version,RepositoryVersionState.INSTALL_FAILED,RepositoryVersionState.UPGRADING);
  assertStateException(stackId,version,RepositoryVersionState.OUT_OF_SYNC,RepositoryVersionState.UPGRADING);
  c1.transitionClusterVersion(stackId,version,RepositoryVersionState.UPGRADE_FAILED);
  checkStackVersionState(stackId,version,RepositoryVersionState.UPGRADE_FAILED);
  assertStateException(stackId,version,RepositoryVersionState.CURRENT,RepositoryVersionState.UPGRADE_FAILED);
  assertStateException(stackId,version,RepositoryVersionState.INSTALLED,RepositoryVersionState.UPGRADE_FAILED);
  assertStateException(stackId,version,RepositoryVersionState.INSTALL_FAILED,RepositoryVersionState.UPGRADE_FAILED);
  assertStateException(stackId,version,RepositoryVersionState.UPGRADED,RepositoryVersionState.UPGRADE_FAILED);
  assertStateException(stackId,version,RepositoryVersionState.OUT_OF_SYNC,RepositoryVersionState.UPGRADE_FAILED);
  c1.transitionClusterVersion(stackId,version,RepositoryVersionState.UPGRADING);
  checkStackVersionState(stackId,version,RepositoryVersionState.UPGRADING);
  c1.transitionClusterVersion(stackId,version,RepositoryVersionState.UPGRADED);
  checkStackVersionState(stackId,version,RepositoryVersionState.UPGRADED);
  assertStateException(stackId,version,RepositoryVersionState.INSTALLED,RepositoryVersionState.UPGRADED);
  assertStateException(stackId,version,RepositoryVersionState.INSTALL_FAILED,RepositoryVersionState.UPGRADED);
  assertStateException(stackId,version,RepositoryVersionState.UPGRADING,RepositoryVersionState.UPGRADED);
  assertStateException(stackId,version,RepositoryVersionState.UPGRADE_FAILED,RepositoryVersionState.UPGRADED);
  assertStateException(stackId,version,RepositoryVersionState.OUT_OF_SYNC,RepositoryVersionState.UPGRADED);
  c1.setDesiredStackVersion(stackId);
  c1.transitionClusterVersion(stackId,version,RepositoryVersionState.CURRENT);
  checkStackVersionState(stackId,version,RepositoryVersionState.CURRENT);
  checkStackVersionState(new StackId("HDP","0.1"),"0.1",RepositoryVersionState.INSTALLED);
  assertStateException(stackId,version,RepositoryVersionState.INSTALLED,RepositoryVersionState.CURRENT);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRecalculateClusterVersionState() throws Exception {
  createDefaultCluster();
  Host h1=clusters.getHost("h1");
  h1.setState(HostState.HEALTHY);
  Host h2=clusters.getHost("h2");
  h2.setState(HostState.HEALTHY);
  StackId stackId=new StackId("HDP-0.1");
  final String stackVersion="0.1-1000";
  RepositoryVersionEntity repositoryVersionEntity=helper.getOrCreateRepositoryVersion(stackId,stackVersion);
  c1.createClusterVersion(stackId,stackVersion,"admin",RepositoryVersionState.INSTALLING);
  c1.setCurrentStackVersion(stackId);
  HostVersionEntity hv1=helper.createHostVersion("h1",repositoryVersionEntity,RepositoryVersionState.INSTALLING);
  HostVersionEntity hv2=helper.createHostVersion("h2",repositoryVersionEntity,RepositoryVersionState.INSTALLING);
  c1.recalculateClusterVersionState(repositoryVersionEntity);
  checkStackVersionState(stackId,stackVersion,RepositoryVersionState.INSTALLING);
  h2.setState(HostState.UNHEALTHY);
  c1.recalculateClusterVersionState(repositoryVersionEntity);
  checkStackVersionState(stackId,stackVersion,RepositoryVersionState.INSTALLING);
  c1.transitionClusterVersion(stackId,stackVersion,RepositoryVersionState.INSTALLING);
  hv1.setState(RepositoryVersionState.INSTALL_FAILED);
  hostVersionDAO.merge(hv1);
  c1.recalculateClusterVersionState(repositoryVersionEntity);
  checkStackVersionState(stackId,stackVersion,RepositoryVersionState.INSTALLING);
  h2.setState(HostState.HEALTHY);
  hv2.setState(RepositoryVersionState.INSTALLED);
  hostVersionDAO.merge(hv2);
  c1.recalculateClusterVersionState(repositoryVersionEntity);
  checkStackVersionState(stackId,stackVersion,RepositoryVersionState.INSTALL_FAILED);
  c1.transitionClusterVersion(stackId,stackVersion,RepositoryVersionState.INSTALLING);
  h2.setState(HostState.HEALTHY);
  hv2.setState(RepositoryVersionState.INSTALLED);
  hostVersionDAO.merge(hv2);
  c1.recalculateClusterVersionState(repositoryVersionEntity);
  checkStackVersionState(stackId,stackVersion,RepositoryVersionState.INSTALLING);
  hv1.setState(RepositoryVersionState.INSTALL_FAILED);
  hostVersionDAO.merge(hv1);
  c1.recalculateClusterVersionState(repositoryVersionEntity);
  checkStackVersionState(stackId,stackVersion,RepositoryVersionState.INSTALL_FAILED);
  c1.transitionClusterVersion(stackId,stackVersion,RepositoryVersionState.INSTALLING);
  hv1.setState(RepositoryVersionState.INSTALLED);
  hostVersionDAO.merge(hv1);
  c1.recalculateClusterVersionState(repositoryVersionEntity);
  checkStackVersionState(stackId,stackVersion,RepositoryVersionState.INSTALLED);
  hv1.setState(RepositoryVersionState.UPGRADING);
  hostVersionDAO.merge(hv1);
  c1.recalculateClusterVersionState(repositoryVersionEntity);
  checkStackVersionState(stackId,stackVersion,RepositoryVersionState.UPGRADING);
  hv1.setState(RepositoryVersionState.UPGRADED);
  hostVersionDAO.merge(hv1);
  c1.recalculateClusterVersionState(repositoryVersionEntity);
  checkStackVersionState(stackId,stackVersion,RepositoryVersionState.UPGRADING);
  hv1.setState(RepositoryVersionState.UPGRADING);
  hv2.setState(RepositoryVersionState.UPGRADING);
  hostVersionDAO.merge(hv2);
  c1.recalculateClusterVersionState(repositoryVersionEntity);
  checkStackVersionState(stackId,stackVersion,RepositoryVersionState.UPGRADING);
  hv2.setState(RepositoryVersionState.UPGRADE_FAILED);
  hostVersionDAO.merge(hv2);
  c1.recalculateClusterVersionState(repositoryVersionEntity);
  checkStackVersionState(stackId,stackVersion,RepositoryVersionState.UPGRADE_FAILED);
  c1.transitionClusterVersion(stackId,stackVersion,RepositoryVersionState.UPGRADING);
  hv2.setState(RepositoryVersionState.UPGRADED);
  hostVersionDAO.merge(hv2);
  c1.recalculateClusterVersionState(repositoryVersionEntity);
  checkStackVersionState(stackId,stackVersion,RepositoryVersionState.UPGRADING);
  hv1.setState(RepositoryVersionState.UPGRADED);
  hostVersionDAO.merge(hv1);
  c1.recalculateClusterVersionState(repositoryVersionEntity);
  checkStackVersionState(stackId,stackVersion,RepositoryVersionState.UPGRADED);
  hv1.setState(RepositoryVersionState.CURRENT);
  hostVersionDAO.merge(hv1);
  hv2.setState(RepositoryVersionState.CURRENT);
  hostVersionDAO.merge(hv2);
  c1.recalculateClusterVersionState(repositoryVersionEntity);
  checkStackVersionState(stackId,stackVersion,RepositoryVersionState.CURRENT);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRecalculateAllClusterVersionStates() throws Exception {
  createDefaultCluster();
  Host h1=clusters.getHost("h1");
  h1.setState(HostState.HEALTHY);
  Host h2=clusters.getHost("h2");
  h2.setState(HostState.HEALTHY);
  StackId stackId=new StackId("HDP-0.1");
  RepositoryVersionEntity repositoryVersionEntity=helper.getOrCreateRepositoryVersion(stackId,"0.1-1000");
  c1.createClusterVersion(stackId,"0.1-1000","admin",RepositoryVersionState.INSTALLING);
  c1.setCurrentStackVersion(stackId);
  c1.recalculateAllClusterVersionStates();
  checkStackVersionState(stackId,"0.1-1000",RepositoryVersionState.INSTALLING);
  checkStackVersionState(stackId,"0.1-2086",RepositoryVersionState.CURRENT);
  HostVersionEntity hv1=helper.createHostVersion("h1",repositoryVersionEntity,RepositoryVersionState.INSTALLING);
  HostVersionEntity hv2=helper.createHostVersion("h2",repositoryVersionEntity,RepositoryVersionState.INSTALLING);
  c1.recalculateAllClusterVersionStates();
  checkStackVersionState(stackId,"0.1-1000",RepositoryVersionState.INSTALLING);
  checkStackVersionState(stackId,"1.0-2086",RepositoryVersionState.CURRENT);
  hv1.setState(RepositoryVersionState.INSTALL_FAILED);
  hostVersionDAO.merge(hv1);
  c1.recalculateAllClusterVersionStates();
  checkStackVersionState(stackId,"0.1-1000",RepositoryVersionState.INSTALL_FAILED);
  checkStackVersionState(stackId,"0.1-2086",RepositoryVersionState.CURRENT);
  c1.transitionClusterVersion(stackId,"0.1-1000",RepositoryVersionState.INSTALLING);
  hv1.setState(RepositoryVersionState.CURRENT);
  hostVersionDAO.merge(hv1);
  c1.recalculateAllClusterVersionStates();
  checkStackVersionState(stackId,"0.1-1000",RepositoryVersionState.OUT_OF_SYNC);
  checkStackVersionState(stackId,"0.1-2086",RepositoryVersionState.CURRENT);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.state.cluster.ClustersDeadlockTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests that no deadlock exists when adding hosts while reading from the
 * cluster. This test ensures that there are service components installed on
 * the hosts so that the cluster health report does some more work.
 * @throws Exception
 */
@Test(timeout=40000) public void testDeadlockWhileMappingHostsWithExistingServices() throws Exception {
  List<Thread> threads=new ArrayList<Thread>();
  for (int i=0; i < NUMBER_OF_THREADS; i++) {
    ClusterReaderThread readerThread=new ClusterReaderThread();
    ClustersHostAndComponentMapperThread writerThread=new ClustersHostAndComponentMapperThread();
    threads.add(readerThread);
    threads.add(writerThread);
    readerThread.start();
    writerThread.start();
  }
  for (  Thread thread : threads) {
    thread.join();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.state.cluster.ClustersImplTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAddSessionAttributes() throws Exception {
  Map<String,Object> attributes=new HashMap<String,Object>();
  attributes.put("foo","bar");
  Cluster cluster=createMock(Cluster.class);
  ClustersImpl clusters=createMockBuilder(ClustersImpl.class).addMockedMethod("findCluster",String.class).createMock();
  expect(clusters.findCluster("c1")).andReturn(cluster);
  cluster.addSessionAttributes(attributes);
  replay(clusters,cluster);
  clusters.addSessionAttributes("c1",attributes);
  verify(clusters,cluster);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.state.host.HostImplTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetHealthStatus() throws Exception {
  HostEntity hostEntity=createNiceMock(HostEntity.class);
  HostStateEntity hostStateEntity=createNiceMock(HostStateEntity.class);
  HostDAO hostDAO=createNiceMock(HostDAO.class);
  HostStateDAO hostStateDAO=createNiceMock(HostStateDAO.class);
  Injector injector=createNiceMock(Injector.class);
  Gson gson=new Gson();
  expect(injector.getInstance(Gson.class)).andReturn(gson).anyTimes();
  expect(injector.getInstance(HostDAO.class)).andReturn(hostDAO).anyTimes();
  expect(injector.getInstance(HostStateDAO.class)).andReturn(hostStateDAO).anyTimes();
  expect(hostEntity.getHostAttributes()).andReturn("{\"foo\": \"aaa\", \"bar\":\"bbb\"}").anyTimes();
  expect(hostEntity.getHostName()).andReturn("host1").anyTimes();
  expect(hostEntity.getHostId()).andReturn(1L).anyTimes();
  expect(hostEntity.getHostStateEntity()).andReturn(hostStateEntity).anyTimes();
  expect(hostDAO.findById(1L)).andReturn(hostEntity).anyTimes();
  expect(hostStateDAO.findByHostId(1L)).andReturn(hostStateEntity).once();
  replay(hostEntity,hostStateEntity,injector,hostDAO);
  HostImpl host=new HostImpl(hostEntity,false,injector);
  host.getHealthStatus();
  host=new HostImpl(hostEntity,true,injector);
  host.getHealthStatus();
  verify(hostEntity,hostStateEntity,injector,hostDAO);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.state.host.HostTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testHostFSMInit() throws AmbariException {
  clusters.addHost("foo");
  Host host=clusters.getHost("foo");
  verifyHostState(host,HostState.INIT);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testHostRegistrationsInAnyState() throws Exception {
  clusters.addHost("foo");
  Host host=clusters.getHost("foo");
  host.setIPv4("ipv4");
  host.setIPv6("ipv6");
  long counter=0;
  registerHost(host);
  ensureHostUpdatesReceived(host);
  registerHost(host,false);
  ensureHostUpdatesReceived(host);
  sendHealthyHeartbeat(host,++counter);
  verifyHostState(host,HostState.HEALTHY);
  registerHost(host,false);
  ensureHostUpdatesReceived(host);
  sendUnhealthyHeartbeat(host,++counter);
  verifyHostState(host,HostState.UNHEALTHY);
  registerHost(host,false);
  ensureHostUpdatesReceived(host);
  timeoutHost(host);
  verifyHostState(host,HostState.HEARTBEAT_LOST);
  registerHost(host,false);
  ensureHostUpdatesReceived(host);
  host.setState(HostState.INIT);
  registerHost(host,false);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.state.kerberos.KerberosComponentDescriptorTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testMapDeserialize() throws AmbariException {
  validateFromMap(createFromMap());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testJSONDeserialize(){
  validateFromJSON(createFromJSON());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.state.kerberos.KerberosDescriptorTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testMapDeserialize() throws AmbariException {
  validateFromMap(createFromMap());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testJSONDeserialize() throws AmbariException {
  validateFromJSON(createFromJSON());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.state.kerberos.KerberosIdentityDescriptorTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testJSONDeserialize(){
  validateFromJSON(createFromJSON());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testMapDeserialize(){
  validateFromMap(createFromMap());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.state.kerberos.KerberosKeytabDescriptorTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testJSONDeserialize(){
  validateFromJSON(createFromJSON());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testMapDeserialize(){
  validateFromMap(createFromMap());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.state.kerberos.KerberosPrincipalDescriptorTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testJSONDeserialize(){
  validateFromJSON(createFromJSON());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testMapDeserialize(){
  validateFromMap(createFromMap());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.state.kerberos.KerberosServiceDescriptorTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testJSONDeserialize() throws AmbariException {
  validateFromJSON(createFromJSON());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testJSONDeserializeMultiple() throws AmbariException {
  validateFromJSON(createMultipleFromJSON());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testMapDeserialize() throws AmbariException {
  validateFromMap(createFromMap());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.state.services.AlertNoticeDispatchServiceTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests that the dispatcher is not called when there are no notices.
 * @throws Exception
 */
@Test public void testNoDispatch() throws Exception {
  EasyMock.expect(m_dao.findPendingNotices()).andReturn(new ArrayList<AlertNoticeEntity>()).once();
  EasyMock.replay(m_dao,m_dispatchFactory);
  AlertNoticeDispatchService service=m_injector.getInstance(AlertNoticeDispatchService.class);
  service.startUp();
  service.runOneIteration();
  EasyMock.verify(m_dao,m_dispatchFactory);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.state.svccomphost.ServiceComponentHostTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testNewServiceComponentHost() throws AmbariException {
  createNewServiceComponentHost(clusterName,"HDFS","NAMENODE",hostName1,false);
  createNewServiceComponentHost(clusterName,"HDFS","HDFS_CLIENT",hostName1,true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDaemonStateFlow() throws Exception {
  ServiceComponentHostImpl impl=(ServiceComponentHostImpl)createNewServiceComponentHost(clusterName,"HDFS","DATANODE",hostName1,false);
  runStateChanges(impl,ServiceComponentHostEventType.HOST_SVCCOMP_INSTALL,State.INIT,State.INSTALLING,State.INSTALL_FAILED,State.INSTALLED);
  runStateChanges(impl,ServiceComponentHostEventType.HOST_SVCCOMP_START,State.INSTALLED,State.STARTING,State.INSTALLED,State.STARTED);
  runStateChanges(impl,ServiceComponentHostEventType.HOST_SVCCOMP_STOP,State.STARTED,State.STOPPING,State.STARTED,State.INSTALLED);
  runStateChanges(impl,ServiceComponentHostEventType.HOST_SVCCOMP_UNINSTALL,State.INSTALLED,State.UNINSTALLING,State.UNINSTALLING,State.UNINSTALLED);
  runStateChanges(impl,ServiceComponentHostEventType.HOST_SVCCOMP_WIPEOUT,State.UNINSTALLED,State.WIPING_OUT,State.WIPING_OUT,State.INIT);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.topology.AmbariContextTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testWaitForTopologyResolvedStateWithRequiredUpdatedSet() throws Exception {
  final String topologyResolvedState="TOPOLOGY_RESOLVED";
  DesiredConfig testHdfsDesiredConfig=new DesiredConfig();
  testHdfsDesiredConfig.setTag(topologyResolvedState);
  DesiredConfig testCoreSiteDesiredConfig=new DesiredConfig();
  testCoreSiteDesiredConfig.setTag(topologyResolvedState);
  DesiredConfig testClusterEnvDesiredConfig=new DesiredConfig();
  testClusterEnvDesiredConfig.setTag(topologyResolvedState);
  Map<String,DesiredConfig> testDesiredConfigs=new HashMap<String,DesiredConfig>();
  testDesiredConfigs.put("hdfs-site",testHdfsDesiredConfig);
  testDesiredConfigs.put("core-site",testCoreSiteDesiredConfig);
  testDesiredConfigs.put("cluster-env",testClusterEnvDesiredConfig);
  expect(cluster.getDesiredConfigs()).andReturn(testDesiredConfigs).atLeastOnce();
  replayAll();
  Set<String> testUpdatedConfigTypes=new HashSet<String>();
  testUpdatedConfigTypes.add("hdfs-site");
  testUpdatedConfigTypes.add("core-site");
  testUpdatedConfigTypes.add("cluster-env");
  context.waitForConfigurationResolution(CLUSTER_NAME,testUpdatedConfigTypes);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRegisterHostWithConfigGroup_registerWithExistingConfigGroup_hostAlreadyRegistered() throws Exception {
  expect(cluster.getConfigGroups()).andReturn(configGroups).once();
  expect(configGroup1.getHosts()).andReturn(Collections.singletonMap(1L,host1)).once();
  replayAll();
  context.registerHostWithConfigGroup(HOST1,topology,HOST_GROUP_1);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testWaitForTopologyResolvedStateWithEmptyUpdatedSet() throws Exception {
  replayAll();
  context.waitForConfigurationResolution(CLUSTER_NAME,Collections.<String>emptySet());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRegisterHostWithConfigGroup_registerWithExistingConfigGroup() throws Exception {
  expect(cluster.getConfigGroups()).andReturn(configGroups).once();
  expect(configGroup1.getHosts()).andReturn(Collections.singletonMap(2L,host2)).once();
  configGroup1.addHost(host1);
  configGroup1.persistHostMapping();
  replayAll();
  context.registerHostWithConfigGroup(HOST1,topology,HOST_GROUP_1);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.topology.BlueprintFactoryTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testCreate_MissingHostGroupName() throws Exception {
  Map<String,Object> props=BlueprintResourceProviderTest.getBlueprintTestProperties().iterator().next();
  ((Set<Map<String,Object>>)props.get(BlueprintResourceProvider.HOST_GROUP_PROPERTY_ID)).iterator().next().remove("name");
  replay(stack,dao,entity,configEntity);
  testFactory.createBlueprint(props,null);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=NoSuchStackException.class) public void testCreateInvalidStack() throws Exception {
  EasyMockSupport mockSupport=new EasyMockSupport();
  BlueprintFactory.StackFactory mockStackFactory=mockSupport.createMock(BlueprintFactory.StackFactory.class);
  expect(mockStackFactory.createStack("null","null",null)).andThrow(new ObjectNotFoundException("Invalid Stack"));
  mockSupport.replayAll();
  BlueprintFactory factoryUnderTest=new BlueprintFactory(mockStackFactory);
  factoryUnderTest.createStack(new HashMap<String,Object>());
  mockSupport.verifyAll();
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testCreate_NoHostGroups() throws Exception {
  Map<String,Object> props=BlueprintResourceProviderTest.getBlueprintTestProperties().iterator().next();
  ((Set<Map<String,Object>>)props.get(BlueprintResourceProvider.HOST_GROUP_PROPERTY_ID)).clear();
  replay(stack,dao,entity,configEntity);
  testFactory.createBlueprint(props,null);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testCreate_NoBlueprintName() throws Exception {
  Map<String,Object> props=BlueprintResourceProviderTest.getBlueprintTestProperties().iterator().next();
  props.remove(BlueprintResourceProvider.BLUEPRINT_NAME_PROPERTY_ID);
  replay(stack,dao,entity,configEntity);
  testFactory.createBlueprint(props,null);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testCreate_HostGroupWithInvalidComponent() throws Exception {
  Map<String,Object> props=BlueprintResourceProviderTest.getBlueprintTestProperties().iterator().next();
  ((Set<Map<String,Object>>)((Set<Map<String,Object>>)props.get(BlueprintResourceProvider.HOST_GROUP_PROPERTY_ID)).iterator().next().get(BlueprintResourceProvider.COMPONENT_PROPERTY_ID)).iterator().next().put("name","INVALID_COMPONENT");
  replay(stack,dao,entity,configEntity);
  testFactory.createBlueprint(props,null);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testCreate_HostGroupWithNoComponents() throws Exception {
  Map<String,Object> props=BlueprintResourceProviderTest.getBlueprintTestProperties().iterator().next();
  ((Set<Map<String,Object>>)props.get(BlueprintResourceProvider.HOST_GROUP_PROPERTY_ID)).iterator().next().remove(BlueprintResourceProvider.COMPONENT_PROPERTY_ID);
  replay(stack,dao,entity,configEntity);
  testFactory.createBlueprint(props,null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.topology.BlueprintValidatorImplTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidTopologyException.class) public void testValidateRequiredProperties_SqlaInOozieStackHdp22() throws Exception {
  Map<String,String> hiveEnvConfig=new HashMap<String,String>();
  hiveEnvConfig.put("oozie_database","Existing SQL Anywhere Database");
  configProperties.put("oozie-env",hiveEnvConfig);
  group1Components.add("OOZIE_SERVER");
  services.addAll(Arrays.asList("OOZIE"));
  expect(group1.getConfiguration()).andReturn(new Configuration(new HashMap(),new HashMap())).anyTimes();
  expect(stack.getComponents("OOZIE")).andReturn(Collections.singleton("OOZIE_SERVER")).anyTimes();
  expect(stack.getVersion()).andReturn("2.2").once();
  expect(stack.getName()).andReturn("HDP").once();
  expect(blueprint.getHostGroupsForComponent("OOZIE_SERVER")).andReturn(Collections.singleton(group1)).anyTimes();
  replay(blueprint,stack,group1,group2,dependency1);
  BlueprintValidator validator=new BlueprintValidatorImpl(blueprint);
  validator.validateRequiredProperties();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testValidateTopology_autoDeploy() throws Exception {
  group1Components.add("component2");
  services.addAll(Collections.singleton("service1"));
  expect(blueprint.getHostGroupsForComponent("component1")).andReturn(Collections.<HostGroup>emptyList()).anyTimes();
  expect(blueprint.getHostGroupsForComponent("component2")).andReturn(Arrays.asList(group1,group2)).anyTimes();
  expect(stack.getComponents("service1")).andReturn(Arrays.asList("component1","component2")).anyTimes();
  expect(stack.getAutoDeployInfo("component1")).andReturn(autoDeploy).anyTimes();
  expect(group1.addComponent("component1")).andReturn(true).once();
  replay(blueprint,stack,group1,group2,dependency1);
  BlueprintValidator validator=new BlueprintValidatorImpl(blueprint);
  validator.validateTopology();
  verify(group1);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testValidateTopology_autoDeploy_hasDependency() throws Exception {
  group1Components.add("component2");
  dependencies1.add(dependency1);
  services.addAll(Collections.singleton("service1"));
  expect(blueprint.getHostGroupsForComponent("component1")).andReturn(Collections.<HostGroup>emptyList()).anyTimes();
  expect(blueprint.getHostGroupsForComponent("component2")).andReturn(Arrays.asList(group1,group2)).anyTimes();
  expect(blueprint.getHostGroupsForComponent("component3")).andReturn(Collections.<HostGroup>emptyList()).anyTimes();
  expect(stack.getComponents("service1")).andReturn(Arrays.asList("component1","component2")).anyTimes();
  expect(stack.getComponents("service2")).andReturn(Collections.singleton("component3")).anyTimes();
  expect(stack.getAutoDeployInfo("component1")).andReturn(autoDeploy).anyTimes();
  expect(dependency1.getScope()).andReturn("host").anyTimes();
  AutoDeployInfo dependencyAutoDeploy=new AutoDeployInfo();
  dependencyAutoDeploy.setEnabled(true);
  dependencyAutoDeploy.setCoLocate("service1/component1");
  expect(dependency1.getAutoDeploy()).andReturn(dependencyAutoDeploy).anyTimes();
  expect(dependency1.getComponentName()).andReturn("component3").anyTimes();
  expect(group1.addComponent("component1")).andReturn(true).once();
  expect(group1.addComponent("component3")).andReturn(true).once();
  replay(blueprint,stack,group1,group2,dependency1);
  BlueprintValidator validator=new BlueprintValidatorImpl(blueprint);
  validator.validateTopology();
  verify(group1);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidTopologyException.class) public void testValidateTopology_basic_negative() throws Exception {
  group1Components.add("component2");
  services.addAll(Collections.singleton("service1"));
  expect(stack.getComponents("service1")).andReturn(Arrays.asList("component1","component2")).anyTimes();
  expect(blueprint.getHostGroupsForComponent("component1")).andReturn(Collections.<HostGroup>emptyList()).anyTimes();
  expect(blueprint.getHostGroupsForComponent("component2")).andReturn(Arrays.asList(group1,group2)).anyTimes();
  replay(blueprint,stack,group1,group2,dependency1);
  BlueprintValidator validator=new BlueprintValidatorImpl(blueprint);
  validator.validateTopology();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testValidateTopology_basic() throws Exception {
  group1Components.add("component1");
  group1Components.add("component1");
  services.addAll(Arrays.asList("service1","service2"));
  expect(stack.getComponents("service1")).andReturn(Collections.singleton("component1")).anyTimes();
  expect(stack.getComponents("service2")).andReturn(Collections.singleton("component2")).anyTimes();
  expect(blueprint.getHostGroupsForComponent("component1")).andReturn(Collections.singleton(group1)).anyTimes();
  expect(blueprint.getHostGroupsForComponent("component2")).andReturn(Arrays.asList(group1,group2)).anyTimes();
  replay(blueprint,stack,group1,group2,dependency1);
  BlueprintValidator validator=new BlueprintValidatorImpl(blueprint);
  validator.validateTopology();
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidTopologyException.class) public void testValidateRequiredProperties_SqlaInHiveStackHdp22() throws Exception {
  Map<String,String> hiveEnvConfig=new HashMap<String,String>();
  hiveEnvConfig.put("hive_database","Existing SQL Anywhere Database");
  configProperties.put("hive-env",hiveEnvConfig);
  group1Components.add("HIVE_METASTORE");
  services.addAll(Arrays.asList("HIVE"));
  expect(group1.getConfiguration()).andReturn(new Configuration(new HashMap(),new HashMap())).anyTimes();
  expect(stack.getComponents("HIVE")).andReturn(Collections.singleton("HIVE_METASTORE")).anyTimes();
  expect(stack.getVersion()).andReturn("2.2").once();
  expect(stack.getName()).andReturn("HDP").once();
  expect(blueprint.getHostGroupsForComponent("HIVE_METASTORE")).andReturn(Collections.singleton(group1)).anyTimes();
  replay(blueprint,stack,group1,group2,dependency1);
  BlueprintValidator validator=new BlueprintValidatorImpl(blueprint);
  validator.validateRequiredProperties();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.topology.ClusterConfigurationRequestTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testProcessClusterConfigRequestDontIncludeKererosConfigs() throws Exception {
  Map<String,Map<String,String>> existingConfig=new HashMap<String,Map<String,String>>();
  Configuration stackConfig=new Configuration(existingConfig,new HashMap<String,Map<String,Map<String,String>>>());
  PowerMock.mockStatic(AmbariContext.class);
  AmbariContext.getController();
  expectLastCall().andReturn(controller).anyTimes();
  expect(controller.getClusters()).andReturn(clusters).anyTimes();
  expect(clusters.getCluster("testCluster")).andReturn(cluster).anyTimes();
  expect(blueprint.getStack()).andReturn(stack).anyTimes();
  expect(stack.getAllConfigurationTypes(anyString())).andReturn(Collections.<String>singletonList("testConfigType")).anyTimes();
  expect(stack.getExcludedConfigurationTypes(anyString())).andReturn(Collections.<String>emptySet()).anyTimes();
  expect(stack.getConfigurationPropertiesWithMetadata(anyString(),anyString())).andReturn(Collections.<String,Stack.ConfigProperty>emptyMap()).anyTimes();
  Set<String> services=new HashSet<>();
  services.add("HDFS");
  services.add("KERBEROS");
  services.add("ZOOKEPER");
  expect(blueprint.getServices()).andReturn(services).anyTimes();
  List<String> hdfsComponents=new ArrayList<>();
  hdfsComponents.add("NAMENODE");
  List<String> kerberosComponents=new ArrayList<>();
  kerberosComponents.add("KERBEROS_CLIENT");
  List<String> zookeeperComponents=new ArrayList<>();
  zookeeperComponents.add("ZOOKEEPER_SERVER");
  expect(blueprint.getComponents("HDFS")).andReturn(hdfsComponents).anyTimes();
  expect(blueprint.getComponents("KERBEROS")).andReturn(kerberosComponents).anyTimes();
  expect(blueprint.getComponents("ZOOKEPER")).andReturn(zookeeperComponents).anyTimes();
  expect(topology.getConfigRecommendationStrategy()).andReturn(ConfigRecommendationStrategy.NEVER_APPLY).anyTimes();
  expect(topology.getBlueprint()).andReturn(blueprint).anyTimes();
  expect(topology.getConfiguration()).andReturn(stackConfig).anyTimes();
  expect(topology.getHostGroupInfo()).andReturn(Collections.<String,HostGroupInfo>emptyMap());
  expect(topology.getClusterId()).andReturn(Long.valueOf(1)).anyTimes();
  expect(ambariContext.getClusterName(Long.valueOf(1))).andReturn("testCluster").anyTimes();
  expect(ambariContext.createConfigurationRequests(anyObject(Map.class))).andReturn(Collections.<ConfigurationRequest>emptyList()).anyTimes();
  PowerMock.replay(stack,blueprint,topology,controller,clusters,ambariContext,AmbariContext.class);
  ClusterConfigurationRequest clusterConfigurationRequest=new ClusterConfigurationRequest(ambariContext,topology,false,stackAdvisorBlueprintProcessor);
  clusterConfigurationRequest.process();
  verify(blueprint,topology,ambariContext,controller);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testProcessClusterConfigRequestIncludeKererosConfigs() throws Exception {
  Map<String,Map<String,String>> existingConfig=new HashMap<String,Map<String,String>>();
  Configuration stackConfig=new Configuration(existingConfig,new HashMap<String,Map<String,Map<String,String>>>());
  PowerMock.mockStatic(AmbariContext.class);
  AmbariContext.getController();
  expectLastCall().andReturn(controller).anyTimes();
  expect(controller.getClusters()).andReturn(clusters).anyTimes();
  expect(controller.getKerberosHelper()).andReturn(kerberosHelper).times(2);
  expect(clusters.getCluster("testCluster")).andReturn(cluster).anyTimes();
  expect(blueprint.getStack()).andReturn(stack).anyTimes();
  expect(stack.getAllConfigurationTypes(anyString())).andReturn(Collections.<String>singletonList("testConfigType")).anyTimes();
  expect(stack.getExcludedConfigurationTypes(anyString())).andReturn(Collections.<String>emptySet()).anyTimes();
  expect(stack.getConfigurationPropertiesWithMetadata(anyString(),anyString())).andReturn(Collections.<String,Stack.ConfigProperty>emptyMap()).anyTimes();
  Set<String> services=new HashSet<>();
  services.add("HDFS");
  services.add("KERBEROS");
  services.add("ZOOKEPER");
  expect(blueprint.getServices()).andReturn(services).anyTimes();
  expect(stack.getConfiguration(services)).andReturn(stackConfig).once();
  List<String> hdfsComponents=new ArrayList<>();
  hdfsComponents.add("NAMENODE");
  List<String> kerberosComponents=new ArrayList<>();
  kerberosComponents.add("KERBEROS_CLIENT");
  List<String> zookeeperComponents=new ArrayList<>();
  zookeeperComponents.add("ZOOKEEPER_SERVER");
  expect(blueprint.getComponents("HDFS")).andReturn(hdfsComponents).anyTimes();
  expect(blueprint.getComponents("KERBEROS")).andReturn(kerberosComponents).anyTimes();
  expect(blueprint.getComponents("ZOOKEPER")).andReturn(zookeeperComponents).anyTimes();
  expect(topology.getConfigRecommendationStrategy()).andReturn(ConfigRecommendationStrategy.NEVER_APPLY).anyTimes();
  expect(topology.getBlueprint()).andReturn(blueprint).anyTimes();
  expect(topology.getConfiguration()).andReturn(stackConfig).anyTimes();
  expect(topology.getHostGroupInfo()).andReturn(Collections.<String,HostGroupInfo>emptyMap());
  expect(topology.getClusterId()).andReturn(Long.valueOf(1)).anyTimes();
  expect(ambariContext.getClusterName(Long.valueOf(1))).andReturn("testCluster").anyTimes();
  expect(ambariContext.createConfigurationRequests(anyObject(Map.class))).andReturn(Collections.<ConfigurationRequest>emptyList()).anyTimes();
  Map<String,Map<String,String>> kerberosConfig=new HashMap<String,Map<String,String>>();
  Map<String,String> properties=new HashMap<>();
  properties.put("testPorperty","testValue");
  kerberosConfig.put("testConfigType",properties);
  expect(kerberosHelper.ensureHeadlessIdentities(anyObject(Cluster.class),anyObject(Map.class),anyObject(Set.class))).andReturn(true).once();
  expect(kerberosHelper.getServiceConfigurationUpdates(anyObject(Cluster.class),anyObject(Map.class),anyObject(Set.class),anyBoolean(),anyBoolean(),eq(false))).andReturn(kerberosConfig).once();
  PowerMock.replay(stack,blueprint,topology,controller,clusters,kerberosHelper,ambariContext,AmbariContext.class);
  ClusterConfigurationRequest clusterConfigurationRequest=new ClusterConfigurationRequest(ambariContext,topology,false,stackAdvisorBlueprintProcessor,true);
  clusterConfigurationRequest.process();
  verify(blueprint,topology,ambariContext,controller,kerberosHelper);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.topology.ClusterInstallWithoutStartTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testProvisionCluster() throws Exception {
  topologyManager.provisionCluster(request);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.topology.ClusterTopologyImplTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidTopologyException.class) public void testCreate_validatorFails() throws Exception {
  TestTopologyRequest request=new TestTopologyRequest(TopologyRequest.Type.PROVISION);
  TopologyValidator validator=createStrictMock(TopologyValidator.class);
  topologyValidators.add(validator);
  validator.validate((ClusterTopology)notNull());
  expectLastCall().andThrow(new InvalidTopologyException("test"));
  replayAll();
  replay(validator);
  new ClusterTopologyImpl(null,request);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidTopologyException.class) public void testCreate_duplicateHosts() throws Exception {
  hostGroupInfoMap.get("group2").addHost("host1");
  TestTopologyRequest request=new TestTopologyRequest(TopologyRequest.Type.PROVISION);
  replayAll();
  new ClusterTopologyImpl(null,request);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreate_validatorSuccess() throws Exception {
  TestTopologyRequest request=new TestTopologyRequest(TopologyRequest.Type.PROVISION);
  TopologyValidator validator=createStrictMock(TopologyValidator.class);
  topologyValidators.add(validator);
  validator.validate((ClusterTopology)notNull());
  replayAll();
  replay(validator);
  new ClusterTopologyImpl(null,request);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void test_GetHostAssigmentForComponents() throws Exception {
  TestTopologyRequest request=new TestTopologyRequest(TopologyRequest.Type.PROVISION);
  TopologyValidator validator=createStrictMock(TopologyValidator.class);
  topologyValidators.add(validator);
  validator.validate((ClusterTopology)notNull());
  replayAll();
  replay(validator);
  new ClusterTopologyImpl(null,request).getHostAssignmentsForComponent("component1");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.topology.ConfigureClusterTaskTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testsShouldConfigureClusterTaskExecuteWhenCalledFromAsyncCallableService() throws Exception {
  expect(clusterConfigurationRequest.getRequiredHostGroups()).andReturn(Collections.EMPTY_LIST);
  expect(clusterTopology.getHostGroupInfo()).andReturn(Collections.EMPTY_MAP);
  clusterConfigurationRequest.process();
  replay(clusterConfigurationRequest,clusterTopology);
  AsyncCallableService<Boolean> asyncService=new AsyncCallableService<>(testSubject,5000,500,Executors.newScheduledThreadPool(3));
  asyncService.call();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.topology.HostGroupInfoTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidQueryException.class) public void testSetPredicate_invalid() throws Exception {
  HostGroupInfo group=new HostGroupInfo("test-name");
  group.setPredicate("=thisIsNotAPredicate");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.topology.RequiredPasswordValidatorTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testValidate_pwdPropertyInBPGroupConfig__NoDefaultPwd() throws Exception {
  Stack.ConfigProperty pwdProp=new Stack.ConfigProperty("test-type","pwdProp",null);
  service3RequiredPwdConfigs.add(pwdProp);
  bpGroup2Config.getProperties().put("test-type",Collections.singletonMap("pwdProp","secret"));
  TopologyValidator validator=new RequiredPasswordValidator(null);
  validator.validate(topology);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testValidate_pwdPropertyInTopoClusterConfig__NoDefaultPwd() throws Exception {
  Stack.ConfigProperty pwdProp=new Stack.ConfigProperty("test-type","pwdProp",null);
  service3RequiredPwdConfigs.add(pwdProp);
  topoClusterConfig.getProperties().put("test-type",Collections.singletonMap("pwdProp","secret"));
  TopologyValidator validator=new RequiredPasswordValidator(null);
  validator.validate(topology);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidTopologyException.class) public void testValidate_pwdPropertyInStackConfig__NoDefaultPwd() throws Exception {
  Stack.ConfigProperty pwdProp=new Stack.ConfigProperty("test-type","pwdProp",null);
  service3RequiredPwdConfigs.add(pwdProp);
  stackDefaults.getProperties().put("test-type",Collections.singletonMap("pwdProp","secret"));
  TopologyValidator validator=new RequiredPasswordValidator(null);
  validator.validate(topology);
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=InvalidTopologyException.class) public void testValidate_missingPwd__NoDefaultPwd() throws Exception {
  Stack.ConfigProperty pwdProp=new Stack.ConfigProperty("test-type","pwdProp",null);
  service1RequiredPwdConfigs.add(pwdProp);
  TopologyValidator validator=new RequiredPasswordValidator(null);
  validator.validate(topology);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testValidate_noRequiredProps__noDefaultPwd() throws Exception {
  TopologyValidator validator=new RequiredPasswordValidator(null);
  validator.validate(topology);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testValidate_pwdPropertyInBPClusterConfig__NoDefaultPwd() throws Exception {
  Stack.ConfigProperty pwdProp=new Stack.ConfigProperty("test-type","pwdProp",null);
  service3RequiredPwdConfigs.add(pwdProp);
  bpClusterConfig.getProperties().put("test-type",Collections.singletonMap("pwdProp","secret"));
  TopologyValidator validator=new RequiredPasswordValidator(null);
  validator.validate(topology);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testValidate_noRequiredProps__defaultPwd() throws Exception {
  TopologyValidator validator=new RequiredPasswordValidator("pwd");
  validator.validate(topology);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testValidate_pwdPropertyInTopoGroupConfig__NoDefaultPwd() throws Exception {
  Stack.ConfigProperty pwdProp=new Stack.ConfigProperty("test-type","pwdProp",null);
  service3RequiredPwdConfigs.add(pwdProp);
  topoGroup2Config.getProperties().put("test-type",Collections.singletonMap("pwdProp","secret"));
  TopologyValidator validator=new RequiredPasswordValidator(null);
  validator.validate(topology);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.topology.TopologyManagerTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testProvisionCluster() throws Exception {
  topologyManager.provisionCluster(request);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.update.HostUpdateHelperTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testValidateHostChanges_InvalidCluster() throws Exception {
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createNiceMock(AmbariManagementController.class);
  Clusters mockClusters=easyMockSupport.createStrictMock(Clusters.class);
  Map<String,Map<String,String>> clusterHostsToChange=new HashMap<>();
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
    }
  }
);
  clusterHostsToChange.put("cl1",null);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getCluster("cl1")).andReturn(null).once();
  HostUpdateHelper hostUpdateHelper=new HostUpdateHelper(null,null,mockInjector);
  hostUpdateHelper.setHostChangesFileMap(clusterHostsToChange);
  easyMockSupport.replayAll();
  try {
    hostUpdateHelper.validateHostChanges();
  }
 catch (  AmbariException e) {
    assert (e.getMessage().equals("Cluster cl1 was not found."));
  }
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCheckForSecurity_NonSecureCluster() throws AmbariException {
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createNiceMock(AmbariManagementController.class);
  Clusters mockClusters=easyMockSupport.createStrictMock(Clusters.class);
  Cluster mockCluster=easyMockSupport.createNiceMock(Cluster.class);
  Config mockConfig=easyMockSupport.createNiceMock(Config.class);
  Map<String,Map<String,String>> clusterHostsToChange=new HashMap<>();
  Map<String,String> clusterEnvProperties=new HashMap<>();
  clusterHostsToChange.put("cl1",null);
  clusterEnvProperties.put("security_enabled","false");
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
    }
  }
);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getCluster("cl1")).andReturn(mockCluster).once();
  expect(mockCluster.getDesiredConfigByType("cluster-env")).andReturn(mockConfig).once();
  expect(mockConfig.getProperties()).andReturn(clusterEnvProperties).once();
  HostUpdateHelper hostUpdateHelper=new HostUpdateHelper(null,null,mockInjector);
  hostUpdateHelper.setHostChangesFileMap(clusterHostsToChange);
  easyMockSupport.replayAll();
  hostUpdateHelper.checkForSecurity();
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateHostsForAlertsInDB() throws AmbariException {
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createNiceMock(AmbariManagementController.class);
  final AlertsDAO mockAlertsDAO=easyMockSupport.createNiceMock(AlertsDAO.class);
  final AlertDefinitionDAO mockAlertDefinitionDAO=easyMockSupport.createNiceMock(AlertDefinitionDAO.class);
  final AlertDispatchDAO mockAlertDispatchDAO=easyMockSupport.createNiceMock(AlertDispatchDAO.class);
  final EntityManager entityManager=createNiceMock(EntityManager.class);
  final DBAccessor dbAccessor=createNiceMock(DBAccessor.class);
  final ClusterDAO mockClusterDAO=easyMockSupport.createNiceMock(ClusterDAO.class);
  final Clusters mockClusters=easyMockSupport.createNiceMock(Clusters.class);
  Cluster mockCluster=easyMockSupport.createNiceMock(Cluster.class);
  AlertCurrentEntity mockAlertCurrentEntity1=easyMockSupport.createNiceMock(AlertCurrentEntity.class);
  AlertCurrentEntity mockAlertCurrentEntity2=easyMockSupport.createNiceMock(AlertCurrentEntity.class);
  AlertHistoryEntity mockAlertHistoryEntity1=easyMockSupport.createNiceMock(AlertHistoryEntity.class);
  AlertHistoryEntity mockAlertHistoryEntity2=easyMockSupport.createNiceMock(AlertHistoryEntity.class);
  AlertDefinitionEntity mockAlertDefinitionEntity=easyMockSupport.createNiceMock(AlertDefinitionEntity.class);
  Map<String,Map<String,String>> clusterHostsToChange=new HashMap<>();
  List<AlertCurrentEntity> alertCurrentEntities=new ArrayList<>();
  List<AlertDefinitionEntity> alertDefinitionEntities=new ArrayList<>();
  Map<String,Cluster> clusterMap=new HashMap<>();
  Map<String,String> hosts=new HashMap<>();
  hosts.put("host1","host10");
  hosts.put("host2","host11");
  clusterHostsToChange.put("cl1",hosts);
  clusterMap.put("cl1",mockCluster);
  alertCurrentEntities.add(mockAlertCurrentEntity1);
  alertCurrentEntities.add(mockAlertCurrentEntity2);
  alertDefinitionEntities.add(mockAlertDefinitionEntity);
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(DBAccessor.class).toInstance(dbAccessor);
      bind(EntityManager.class).toInstance(entityManager);
      bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
      bind(ClusterDAO.class).toInstance(mockClusterDAO);
      bind(Clusters.class).toInstance(mockClusters);
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
      bind(AlertDispatchDAO.class).toInstance(mockAlertDispatchDAO);
      bind(AlertsDAO.class).toInstance(mockAlertsDAO);
      bind(AlertDefinitionDAO.class).toInstance(mockAlertDefinitionDAO);
    }
  }
);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getClusters()).andReturn(clusterMap).once();
  expect(mockCluster.getClusterId()).andReturn(1L).once();
  expect(mockAlertsDAO.findCurrentByCluster(1L)).andReturn(alertCurrentEntities).once();
  expect(mockAlertCurrentEntity1.getAlertHistory()).andReturn(mockAlertHistoryEntity1).once();
  expect(mockAlertCurrentEntity2.getAlertHistory()).andReturn(mockAlertHistoryEntity2).once();
  expect(mockAlertHistoryEntity1.getHostName()).andReturn("host1").atLeastOnce();
  expect(mockAlertHistoryEntity2.getHostName()).andReturn("host2").atLeastOnce();
  expect(mockAlertDefinitionDAO.findAll(1L)).andReturn(alertDefinitionEntities).once();
  mockAlertHistoryEntity1.setHostName("host10");
  expectLastCall();
  mockAlertHistoryEntity2.setHostName("host11");
  expectLastCall();
  mockAlertDefinitionEntity.setHash(anyString());
  expectLastCall();
  HostUpdateHelper hostUpdateHelper=new HostUpdateHelper(null,null,mockInjector);
  hostUpdateHelper.setHostChangesFileMap(clusterHostsToChange);
  easyMockSupport.replayAll();
  hostUpdateHelper.updateHostsForAlertsInDB();
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCheckForSecurity_SecureCluster() throws AmbariException {
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createNiceMock(AmbariManagementController.class);
  Clusters mockClusters=easyMockSupport.createStrictMock(Clusters.class);
  Cluster mockCluster=easyMockSupport.createNiceMock(Cluster.class);
  Config mockConfig=easyMockSupport.createNiceMock(Config.class);
  Map<String,Map<String,String>> clusterHostsToChange=new HashMap<>();
  Map<String,String> clusterEnvProperties=new HashMap<>();
  clusterHostsToChange.put("cl1",null);
  clusterEnvProperties.put("security_enabled","true");
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
    }
  }
);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getCluster("cl1")).andReturn(mockCluster).once();
  expect(mockCluster.getDesiredConfigByType("cluster-env")).andReturn(mockConfig).once();
  expect(mockConfig.getProperties()).andReturn(clusterEnvProperties).once();
  HostUpdateHelper hostUpdateHelper=new HostUpdateHelper(null,null,mockInjector);
  hostUpdateHelper.setHostChangesFileMap(clusterHostsToChange);
  easyMockSupport.replayAll();
  try {
    hostUpdateHelper.checkForSecurity();
  }
 catch (  AmbariException e) {
    assert (e.getMessage().equals("Cluster(s) cl1 from file, is(are) in secure mode. Please, turn off security mode."));
  }
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testValidateHostChanges_HostChangesNull() throws Exception {
  HostUpdateHelper hostUpdateHelper=new HostUpdateHelper(null,null,null);
  hostUpdateHelper.setHostChangesFileMap(null);
  try {
    hostUpdateHelper.validateHostChanges();
  }
 catch (  AmbariException e) {
    assert (e.getMessage().equals("File with host names changes is null or empty"));
  }
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testValidateHostChanges_InvalidHost() throws Exception {
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createNiceMock(AmbariManagementController.class);
  Clusters mockClusters=easyMockSupport.createStrictMock(Clusters.class);
  Cluster mockCluster=easyMockSupport.createNiceMock(Cluster.class);
  Host host1=easyMockSupport.createNiceMock(Host.class);
  Host host2=easyMockSupport.createNiceMock(Host.class);
  Map<String,Map<String,String>> clusterHostsToChange=new HashMap<>();
  Map<String,String> hosts=new HashMap<>();
  List<Host> clusterHosts=new ArrayList<>();
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
    }
  }
);
  clusterHosts.add(host1);
  clusterHosts.add(host2);
  hosts.put("host1","host10");
  hosts.put("host3","host11");
  clusterHostsToChange.put("cl1",hosts);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getCluster("cl1")).andReturn(mockCluster).once();
  expect(mockCluster.getHosts()).andReturn(clusterHosts).once();
  expect(host1.getHostName()).andReturn("host1");
  expect(host2.getHostName()).andReturn("host2");
  HostUpdateHelper hostUpdateHelper=new HostUpdateHelper(null,null,mockInjector);
  hostUpdateHelper.setHostChangesFileMap(clusterHostsToChange);
  easyMockSupport.replayAll();
  try {
    hostUpdateHelper.validateHostChanges();
  }
 catch (  AmbariException e) {
    assert (e.getMessage().equals("Hostname(s): host3 was(were) not found."));
  }
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testValidateHostChanges_Success() throws Exception {
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createNiceMock(AmbariManagementController.class);
  Clusters mockClusters=easyMockSupport.createStrictMock(Clusters.class);
  Cluster mockCluster=easyMockSupport.createNiceMock(Cluster.class);
  Host host1=easyMockSupport.createNiceMock(Host.class);
  Host host2=easyMockSupport.createNiceMock(Host.class);
  Map<String,Map<String,String>> clusterHostsToChange=new HashMap<>();
  Map<String,String> hosts=new HashMap<>();
  List<Host> clusterHosts=new ArrayList<>();
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
    }
  }
);
  clusterHosts.add(host1);
  clusterHosts.add(host2);
  hosts.put("host1","host10");
  hosts.put("host2","host11");
  clusterHostsToChange.put("cl1",hosts);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getCluster("cl1")).andReturn(mockCluster).once();
  expect(mockCluster.getHosts()).andReturn(clusterHosts).once();
  expect(host1.getHostName()).andReturn("host1");
  expect(host2.getHostName()).andReturn("host2");
  HostUpdateHelper hostUpdateHelper=new HostUpdateHelper(null,null,mockInjector);
  hostUpdateHelper.setHostChangesFileMap(clusterHostsToChange);
  easyMockSupport.replayAll();
  hostUpdateHelper.validateHostChanges();
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateHostsInDB() throws AmbariException {
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final HostDAO mockHostDAO=easyMockSupport.createNiceMock(HostDAO.class);
  final ClusterDAO mockClusterDAO=easyMockSupport.createNiceMock(ClusterDAO.class);
  final EntityManager entityManager=createNiceMock(EntityManager.class);
  final DBAccessor dbAccessor=createNiceMock(DBAccessor.class);
  ClusterEntity mockClusterEntity=easyMockSupport.createNiceMock(ClusterEntity.class);
  HostEntity mockHostEntity1=easyMockSupport.createNiceMock(HostEntity.class);
  HostEntity mockHostEntity2=easyMockSupport.createNiceMock(HostEntity.class);
  Map<String,Map<String,String>> clusterHostsToChange=new HashMap<>();
  List<HostEntity> hostEntities=new ArrayList<>();
  Map<String,String> hosts=new HashMap<>();
  hosts.put("host1","host10");
  hosts.put("host2","host11");
  clusterHostsToChange.put("cl1",hosts);
  hostEntities.add(mockHostEntity1);
  hostEntities.add(mockHostEntity2);
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(DBAccessor.class).toInstance(dbAccessor);
      bind(EntityManager.class).toInstance(entityManager);
      bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
      bind(ClusterDAO.class).toInstance(mockClusterDAO);
      bind(HostDAO.class).toInstance(mockHostDAO);
    }
  }
);
  expect(mockClusterDAO.findByName("cl1")).andReturn(mockClusterEntity).once();
  expect(mockClusterEntity.getHostEntities()).andReturn(hostEntities).once();
  expect(mockHostEntity1.getHostName()).andReturn("host1").atLeastOnce();
  expect(mockHostEntity2.getHostName()).andReturn("host2").atLeastOnce();
  mockHostEntity1.setHostName("host10");
  expectLastCall();
  mockHostEntity2.setHostName("host11");
  expectLastCall();
  HostUpdateHelper hostUpdateHelper=new HostUpdateHelper(null,null,mockInjector);
  hostUpdateHelper.setHostChangesFileMap(clusterHostsToChange);
  easyMockSupport.replayAll();
  hostUpdateHelper.updateHostsInDB();
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.upgrade.UpgradeCatalog150Test </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAddHistoryServer() throws AmbariException {
  final ClusterEntity clusterEntity=upgradeCatalogHelper.createCluster(injector,CLUSTER_NAME,desiredStackEntity);
  final ClusterServiceEntity clusterServiceEntityMR=upgradeCatalogHelper.addService(injector,clusterEntity,"MAPREDUCE",desiredStackEntity);
  final HostEntity hostEntity=upgradeCatalogHelper.createHost(injector,clusterEntity,HOST_NAME);
  executeInTransaction(new Runnable(){
    @Override public void run(){
      upgradeCatalogHelper.addComponent(injector,clusterEntity,clusterServiceEntityMR,hostEntity,"JOBTRACKER",desiredStackEntity);
    }
  }
);
  UpgradeCatalog150 upgradeCatalog150=injector.getInstance(UpgradeCatalog150.class);
  upgradeCatalog150.addHistoryServer();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.upgrade.UpgradeCatalog151Test </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecuteDDLUpdates() throws Exception {
  final DBAccessor dbAccessor=createNiceMock(DBAccessor.class);
  Configuration configuration=createNiceMock(Configuration.class);
  expect(configuration.getDatabaseUrl()).andReturn(Configuration.JDBC_IN_MEMORY_URL).anyTimes();
  dbAccessor.createTable(eq("viewmain"),EasyMock.<List<DBAccessor.DBColumnInfo>>anyObject(),eq("view_name"));
  dbAccessor.createTable(eq("viewinstancedata"),EasyMock.<List<DBAccessor.DBColumnInfo>>anyObject(),eq("view_name"),eq("view_instance_name"),eq("name"));
  dbAccessor.createTable(eq("viewinstance"),EasyMock.<List<DBAccessor.DBColumnInfo>>anyObject(),eq("view_name"),eq("name"));
  dbAccessor.createTable(eq("viewinstanceproperty"),EasyMock.<List<DBAccessor.DBColumnInfo>>anyObject(),eq("view_name"),eq("view_instance_name"),eq("name"));
  dbAccessor.createTable(eq("viewparameter"),EasyMock.<List<DBAccessor.DBColumnInfo>>anyObject(),eq("view_name"),eq("name"));
  dbAccessor.createTable(eq("viewresource"),EasyMock.<List<DBAccessor.DBColumnInfo>>anyObject(),eq("view_name"),eq("name"));
  dbAccessor.addFKConstraint("viewparameter","FK_viewparam_view_name","view_name","viewmain","view_name",true);
  dbAccessor.addFKConstraint("viewresource","FK_viewres_view_name","view_name","viewmain","view_name",true);
  dbAccessor.addFKConstraint("viewinstance","FK_viewinst_view_name","view_name","viewmain","view_name",true);
  replay(dbAccessor,configuration);
  AbstractUpgradeCatalog upgradeCatalog=getUpgradeCatalog(dbAccessor);
  Class<?> c=AbstractUpgradeCatalog.class;
  Field f=c.getDeclaredField("configuration");
  f.setAccessible(true);
  f.set(upgradeCatalog,configuration);
  upgradeCatalog.executeDDLUpdates();
  verify(dbAccessor,configuration);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecuteDMLUpdates() throws Exception {
  final DBAccessor dbAccessor=createNiceMock(DBAccessor.class);
  UpgradeCatalog151 upgradeCatalog=(UpgradeCatalog151)getUpgradeCatalog(dbAccessor);
  upgradeCatalog.executeDMLUpdates();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.upgrade.UpgradeCatalog160Test </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecuteDMLUpdates() throws Exception {
  Configuration configuration=createNiceMock(Configuration.class);
  DBAccessor dbAccessor=createNiceMock(DBAccessor.class);
  Method m=AbstractUpgradeCatalog.class.getDeclaredMethod("updateConfigurationProperties",String.class,Map.class,boolean.class,boolean.class);
  UpgradeCatalog160 upgradeCatalog=createMockBuilder(UpgradeCatalog160.class).addMockedMethod(m).createMock();
  expect(configuration.getDatabaseUrl()).andReturn(Configuration.JDBC_IN_MEMORY_URL).anyTimes();
  upgradeCatalog.updateConfigurationProperties("global",Collections.singletonMap("jobhistory_heapsize","900"),false,false);
  expectLastCall();
  replay(upgradeCatalog,dbAccessor,configuration);
  Class<?> c=AbstractUpgradeCatalog.class;
  Field f=c.getDeclaredField("configuration");
  f.setAccessible(true);
  f.set(upgradeCatalog,configuration);
  f=c.getDeclaredField("dbAccessor");
  f.setAccessible(true);
  f.set(upgradeCatalog,dbAccessor);
  upgradeCatalog.executeDMLUpdates();
  verify(upgradeCatalog,dbAccessor,configuration);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecuteDDLUpdates() throws Exception {
  final DBAccessor dbAccessor=createNiceMock(DBAccessor.class);
  Configuration configuration=createNiceMock(Configuration.class);
  Capture<List<DBAccessor.DBColumnInfo>> hgConfigcolumnCapture=new Capture<List<DBAccessor.DBColumnInfo>>();
  Capture<List<DBAccessor.DBColumnInfo>> viewEntitycolumnCapture=new Capture<List<DBAccessor.DBColumnInfo>>();
  Capture<DBAccessor.DBColumnInfo> restartRequiredColumnCapture=new Capture<DBAccessor.DBColumnInfo>();
  expect(configuration.getDatabaseUrl()).andReturn(Configuration.JDBC_IN_MEMORY_URL).anyTimes();
  setBPHostGroupConfigExpectations(dbAccessor,hgConfigcolumnCapture,restartRequiredColumnCapture);
  setViewEntityConfigExpectations(dbAccessor,viewEntitycolumnCapture);
  replay(dbAccessor,configuration);
  AbstractUpgradeCatalog upgradeCatalog=getUpgradeCatalog(dbAccessor);
  Class<?> c=AbstractUpgradeCatalog.class;
  Field f=c.getDeclaredField("configuration");
  f.setAccessible(true);
  f.set(upgradeCatalog,configuration);
  upgradeCatalog.executeDDLUpdates();
  verify(dbAccessor,configuration);
  assertHGConfigColumns(hgConfigcolumnCapture);
  assertViewEntityColumns(viewEntitycolumnCapture);
  assertRestartRequiredColumn(restartRequiredColumnCapture);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.upgrade.UpgradeCatalog161Test </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@SuppressWarnings("unchecked") @Test public void testExecuteDMLUpdates() throws Exception {
  Configuration configuration=createNiceMock(Configuration.class);
  DBAccessor dbAccessor=createNiceMock(DBAccessor.class);
  Injector injector=createStrictMock(Injector.class);
  Provider provider=createStrictMock(Provider.class);
  EntityManager em=createStrictMock(EntityManager.class);
  EntityTransaction et=createMock(EntityTransaction.class);
  TypedQuery query=createMock(TypedQuery.class);
  Method m=AbstractUpgradeCatalog.class.getDeclaredMethod("updateConfigurationProperties",String.class,Map.class,boolean.class,boolean.class);
  UpgradeCatalog161 upgradeCatalog=createMockBuilder(UpgradeCatalog161.class).addMockedMethod(m).createMock();
  expect(configuration.getDatabaseUrl()).andReturn(Configuration.JDBC_IN_MEMORY_URL).anyTimes();
  expect(injector.getProvider(EntityManager.class)).andReturn(provider).anyTimes();
  expect(provider.get()).andReturn(em).anyTimes();
  expect(em.getTransaction()).andReturn(et);
  expect(et.isActive()).andReturn(true);
  expect(em.createQuery("UPDATE ClusterEntity SET provisioningState = " + ":provisioningState",ClusterEntity.class)).andReturn(query);
  expect(query.setParameter("provisioningState",State.INSTALLED)).andReturn(null);
  expect(query.executeUpdate()).andReturn(0);
  upgradeCatalog.updateConfigurationProperties("hbase-site",Collections.singletonMap("hbase.regionserver.info.port","60030"),false,false);
  expectLastCall();
  upgradeCatalog.updateConfigurationProperties("hbase-site",Collections.singletonMap("hbase.master.info.port","60010"),false,false);
  expectLastCall();
  upgradeCatalog.updateConfigurationProperties("hive-site",Collections.singletonMap("hive.heapsize","1024"),false,false);
  expectLastCall();
  upgradeCatalog.updateConfigurationProperties("pig-properties",Collections.singletonMap("pig-content","\n# Licensed to the Apache " + "Software Foundation (ASF) under one\n# or more contributor license agreements.  See the NOTICE file\n# " + "distributed with this work for additional information\n# regarding copyright ownership.  The ASF "+ "licenses this file\n# to you under the Apache License, Version 2.0 (the\n# \"License\"); you may "+ "not use this file except in compliance\n# with the License.  You may obtain a copy of the License "+ "at\n#\n#http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to "+ "in writing,\n# software distributed under the License is distributed on an\n# \"AS IS\" BASIS, WITHOUT "+ "WARRANTIES OR CONDITIONS OF ANY\n# KIND, either express or implied.  See the License for the\n# "+ "specific language governing permissions and limitations\n# under the License.\n\n# Pig default "+ "configuration file. All values can be overwritten by pig.properties and command line arguments.\n# "+ "see bin/pig -help\n\n# brief logging (no timestamps)\nbrief=false\n\n# debug level, INFO is default"+ "\ndebug=INFO\n\n# verbose print all log messages to screen (default to print only INFO and above to "+ "screen)\nverbose=false\n\n# exectype local|mapreduce, mapreduce is default\nexectype=mapreduce\n\n# "+ "Enable insertion of information about script into hadoop job conf \npig.script.info.enabled=true\n\n# "+ "Do not spill temp files smaller than this size (bytes)\npig.spill.size.threshold=5000000\n\n# "+ "EXPERIMENT: Activate garbage collection when spilling a file bigger than this size (bytes)\n# "+ "This should help reduce the number of files being spilled.\npig.spill.gc.activation.size=40000000\n\n# "+ "the following two parameters are to help estimate the reducer number\npig.exec.reducers.bytes.per."+ "reducer=1000000000\npig.exec.reducers.max=999\n\n# Temporary location to store the intermediate "+ "data.\npig.temp.dir=/tmp/\n\n# Threshold for merging FRJoin fragment files\npig.files.concatenation."+ "threshold=100\npig.optimistic.files.concatenation=false;\n\npig.disable.counter=false\n\n"+ "hcat.bin=/usr/bin/hcat"),true,false);
  expectLastCall();
  replay(upgradeCatalog,dbAccessor,configuration,injector,provider,em,et,query);
  Class<?> c=AbstractUpgradeCatalog.class;
  Field f=c.getDeclaredField("configuration");
  f.setAccessible(true);
  f.set(upgradeCatalog,configuration);
  f=c.getDeclaredField("dbAccessor");
  f.setAccessible(true);
  f.set(upgradeCatalog,dbAccessor);
  f=c.getDeclaredField("injector");
  f.setAccessible(true);
  f.set(upgradeCatalog,injector);
  upgradeCatalog.executeDMLUpdates();
  verify(upgradeCatalog,dbAccessor,configuration,injector,provider,em,et,query);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecuteDDLUpdates() throws Exception {
  final DBAccessor dbAccessor=createNiceMock(DBAccessor.class);
  Connection connection=createNiceMock(Connection.class);
  Statement statement=createNiceMock(Statement.class);
  Configuration configuration=createNiceMock(Configuration.class);
  ResultSet resultSet=createNiceMock(ResultSet.class);
  expect(configuration.getDatabaseUrl()).andReturn(Configuration.JDBC_IN_MEMORY_URL).anyTimes();
  Capture<DBAccessor.DBColumnInfo> provisioningStateColumnCapture=new Capture<DBAccessor.DBColumnInfo>();
  Capture<List<DBAccessor.DBColumnInfo>> operationLevelEntityColumnCapture=new Capture<List<DBAccessor.DBColumnInfo>>();
  Capture<DBAccessor.DBColumnInfo> labelColumnCapture=new Capture<DBAccessor.DBColumnInfo>();
  Capture<DBAccessor.DBColumnInfo> descriptionColumnCapture=new Capture<DBAccessor.DBColumnInfo>();
  Capture<DBAccessor.DBColumnInfo> visibleColumnCapture=new Capture<DBAccessor.DBColumnInfo>();
  Capture<DBAccessor.DBColumnInfo> viewIconColumnCapture=new Capture<DBAccessor.DBColumnInfo>();
  Capture<DBAccessor.DBColumnInfo> viewIcon64ColumnCapture=new Capture<DBAccessor.DBColumnInfo>();
  Capture<DBAccessor.DBColumnInfo> instanceIconColumnCapture=new Capture<DBAccessor.DBColumnInfo>();
  Capture<DBAccessor.DBColumnInfo> instanceIcon64ColumnCapture=new Capture<DBAccessor.DBColumnInfo>();
  setClustersConfigExpectations(dbAccessor,provisioningStateColumnCapture);
  setOperationLevelEntityConfigExpectations(dbAccessor,operationLevelEntityColumnCapture);
  setViewExpectations(dbAccessor,viewIconColumnCapture,viewIcon64ColumnCapture);
  dbAccessor.addColumn(eq("viewinstance"),anyObject(DBAccessor.DBColumnInfo.class));
  setViewInstanceExpectations(dbAccessor,labelColumnCapture,descriptionColumnCapture,visibleColumnCapture,instanceIconColumnCapture,instanceIcon64ColumnCapture);
  dbAccessor.getConnection();
  expectLastCall().andReturn(connection).anyTimes();
  connection.createStatement();
  expectLastCall().andReturn(statement).anyTimes();
  statement.executeQuery(anyObject(String.class));
  expectLastCall().andReturn(resultSet).anyTimes();
  resultSet.next();
  expectLastCall().andReturn(false).anyTimes();
  resultSet.close();
  expectLastCall().anyTimes();
  replay(dbAccessor,configuration,resultSet,statement,connection);
  AbstractUpgradeCatalog upgradeCatalog=getUpgradeCatalog(dbAccessor);
  Class<?> c=AbstractUpgradeCatalog.class;
  Field f=c.getDeclaredField("configuration");
  f.setAccessible(true);
  f.set(upgradeCatalog,configuration);
  upgradeCatalog.executeDDLUpdates();
  verify(dbAccessor,configuration,resultSet,statement,connection);
  assertClusterColumns(provisioningStateColumnCapture);
  assertOperationLevelEntityColumns(operationLevelEntityColumnCapture);
  assertViewColumns(viewIconColumnCapture,viewIcon64ColumnCapture);
  assertViewInstanceColumns(labelColumnCapture,descriptionColumnCapture,visibleColumnCapture,instanceIconColumnCapture,instanceIcon64ColumnCapture);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.upgrade.UpgradeCatalog170Test </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecuteDMLUpdates() throws Exception {
  Configuration configuration=createNiceMock(Configuration.class);
  Connection connection=createNiceMock(Connection.class);
  Statement statement=createNiceMock(Statement.class);
  DBAccessor dbAccessor=createNiceMock(DBAccessor.class);
  Injector injector=createNiceMock(Injector.class);
  ConfigHelper configHelper=createNiceMock(ConfigHelper.class);
  AmbariManagementController amc=createNiceMock(AmbariManagementController.class);
  Cluster cluster=createNiceMock(Cluster.class);
  Clusters clusters=createStrictMock(Clusters.class);
  Config config=createStrictMock(Config.class);
  Config pigConfig=createStrictMock(Config.class);
  ViewRegistry viewRegistry=createNiceMock(ViewRegistry.class);
  PermissionEntity adminPermission=createNiceMock(PermissionEntity.class);
  PermissionEntity viewUsePermission=createNiceMock(PermissionEntity.class);
  ClusterConfigEntity clusterConfigEntity=createNiceMock(ClusterConfigEntity.class);
  ConfigGroupConfigMappingDAO configGroupConfigMappingDAO=createNiceMock(ConfigGroupConfigMappingDAO.class);
  UserDAO userDAO=createNiceMock(UserDAO.class);
  PrincipalDAO principalDAO=createNiceMock(PrincipalDAO.class);
  PrincipalTypeDAO principalTypeDAO=createNiceMock(PrincipalTypeDAO.class);
  ClusterDAO clusterDAO=createNiceMock(ClusterDAO.class);
  ResourceTypeDAO resourceTypeDAO=createNiceMock(ResourceTypeDAO.class);
  ResourceDAO resourceDAO=createNiceMock(ResourceDAO.class);
  ViewDAO viewDAO=createNiceMock(ViewDAO.class);
  ViewInstanceDAO viewInstanceDAO=createNiceMock(ViewInstanceDAO.class);
  PermissionDAO permissionDAO=createNiceMock(PermissionDAO.class);
  PrivilegeDAO privilegeDAO=createNiceMock(PrivilegeDAO.class);
  KeyValueDAO keyValueDAO=createNiceMock(KeyValueDAO.class);
  EntityTransaction trans=createNiceMock(EntityTransaction.class);
  CriteriaBuilder cb=createNiceMock(CriteriaBuilder.class);
  CriteriaQuery<HostRoleCommandEntity> cq=createNiceMock(CriteriaQuery.class);
  Root<HostRoleCommandEntity> hrc=createNiceMock(Root.class);
  Path<Long> taskId=null;
  Path<String> outputLog=null;
  Path<String> errorLog=null;
  Order o=createNiceMock(Order.class);
  TypedQuery<HostRoleCommandEntity> q=createNiceMock(TypedQuery.class);
  List<HostRoleCommandEntity> r=new ArrayList<HostRoleCommandEntity>();
  ResultSet userRolesResultSet=createNiceMock(ResultSet.class);
  ClusterEntity clusterEntity=createNiceMock(ClusterEntity.class);
  ClusterConfigEntity configEntity=createNiceMock(ClusterConfigEntity.class);
  Method m=AbstractUpgradeCatalog.class.getDeclaredMethod("updateConfigurationProperties",String.class,Map.class,boolean.class,boolean.class);
  Method n=AbstractUpgradeCatalog.class.getDeclaredMethod("getEntityManagerProvider");
  Method l=AbstractUpgradeCatalog.class.getDeclaredMethod("addNewConfigurationsFromXml");
  Method newPropMap=UpgradeCatalog170.class.getDeclaredMethod("getNewPropertyName");
  UpgradeCatalog170 upgradeCatalog=createMockBuilder(UpgradeCatalog170.class).addMockedMethod(m).addMockedMethod(n).addMockedMethod(l).addMockedMethod(newPropMap).createMock();
  List<ConfigGroupConfigMappingEntity> configGroupConfigMappingEntities=new ArrayList<ConfigGroupConfigMappingEntity>();
  ConfigGroupConfigMappingEntity configGroupConfigMappingEntity=new ConfigGroupConfigMappingEntity();
  configGroupConfigMappingEntity.setConfigType(Configuration.GLOBAL_CONFIG_TAG);
  configGroupConfigMappingEntity.setClusterConfigEntity(clusterConfigEntity);
  configGroupConfigMappingEntity.setClusterId(1L);
  configGroupConfigMappingEntities.add(configGroupConfigMappingEntity);
  Map<String,Cluster> clustersMap=new HashMap<String,Cluster>();
  clustersMap.put("c1",cluster);
  Map<String,String> globalConfigs=new HashMap<String,String>();
  globalConfigs.put("prop1","val1");
  globalConfigs.put("smokeuser_keytab","val2");
  Map<String,String> pigSettings=new HashMap<String,String>();
  pigSettings.put("pig-content","foo");
  Set<String> envDicts=new HashSet<String>();
  envDicts.add("hadoop-env");
  envDicts.add("global");
  Set<String> configTypes=new HashSet<String>();
  configTypes.add("hadoop-env");
  Map<String,String> contentOfHadoopEnv=new HashMap<String,String>();
  contentOfHadoopEnv.put("content","env file contents");
  upgradeCatalog.updateConfigurationProperties("hadoop-env",globalConfigs,false,true);
  expectLastCall();
  upgradeCatalog.addNewConfigurationsFromXml();
  expectLastCall();
  dbAccessor.getConnection();
  expectLastCall().andReturn(connection).anyTimes();
  connection.createStatement();
  expectLastCall().andReturn(statement).anyTimes();
  statement.executeQuery("SELECT role_name, user_id FROM user_roles");
  expectLastCall().andReturn(userRolesResultSet).once();
  expect(entityManager.getTransaction()).andReturn(trans).anyTimes();
  expect(entityManager.getCriteriaBuilder()).andReturn(cb).anyTimes();
  expect(entityManager.createQuery(cq)).andReturn(q).anyTimes();
  expect(trans.isActive()).andReturn(true).anyTimes();
  expect(upgradeCatalog.getEntityManagerProvider()).andReturn(entityManagerProvider).anyTimes();
  expect(upgradeCatalog.getNewPropertyName()).andReturn(new HashMap<String,String>()).anyTimes();
  expect(cb.createQuery(HostRoleCommandEntity.class)).andReturn(cq).anyTimes();
  expect(cb.desc(taskId)).andReturn(o).anyTimes();
  expect(cq.from(HostRoleCommandEntity.class)).andReturn(hrc).anyTimes();
  expect(cq.select(hrc)).andReturn(cq).anyTimes();
  expect(cq.where(anyObject(Predicate.class))).andReturn(cq).anyTimes();
  expect(hrc.get(isA(SingularAttribute.class))).andReturn(taskId).times(2);
  expect(hrc.get(isA(SingularAttribute.class))).andReturn(outputLog).once();
  expect(hrc.get(isA(SingularAttribute.class))).andReturn(errorLog).once();
  expect(q.setMaxResults(1000)).andReturn(q).anyTimes();
  expect(q.getResultList()).andReturn(r).anyTimes();
  expect(clusterConfigEntity.getData()).andReturn("{\"dtnode_heapsize\":\"1028m\"}");
  expect(configuration.getDatabaseUrl()).andReturn(Configuration.JDBC_IN_MEMORY_URL).anyTimes();
  expect(injector.getInstance(ConfigHelper.class)).andReturn(configHelper).anyTimes();
  expect(injector.getInstance(AmbariManagementController.class)).andReturn(amc).anyTimes();
  expect(amc.getClusters()).andReturn(clusters).anyTimes();
  expect(clusters.getClusters()).andReturn(clustersMap).anyTimes();
  expect(clusters.getClusterById(1L)).andReturn(clustersMap.values().iterator().next()).anyTimes();
  expect(clusters.getClusters()).andReturn(clustersMap).times(1);
  expect(cluster.getDesiredConfigByType("global")).andReturn(config).anyTimes();
  expect(cluster.getDesiredConfigByType("oozie-log4j")).andReturn(config).anyTimes();
  expect(cluster.getDesiredConfigByType("oozie-env")).andReturn(config).anyTimes();
  expect(cluster.getClusterId()).andReturn(1L);
  expect(cluster.getNextConfigVersion("hadoop-env")).andReturn(3L);
  expect(config.getProperties()).andReturn(globalConfigs).anyTimes();
  expect(cluster.getCurrentStackVersion()).andReturn(new StackId("HDP","2.1")).anyTimes();
  expect(cluster.getClusterName()).andReturn("c1").anyTimes();
  expect(configHelper.findConfigTypesByPropertyName(new StackId("HDP","2.1"),"prop1","c1")).andReturn(envDicts).once();
  expect(configHelper.findConfigTypesByPropertyName(new StackId("HDP","2.1"),"smokeuser_keytab","c1")).andReturn(new HashSet<String>()).once();
  expect(configHelper.findConfigTypesByPropertyName(new StackId("HDP","2.1"),"content","c1")).andReturn(envDicts).once();
  expect(configHelper.findConfigTypesByPropertyName(new StackId("HDP","2.1"),"dtnode_heapsize","c1")).andReturn(configTypes).once();
  expect(injector.getInstance(ConfigGroupConfigMappingDAO.class)).andReturn(configGroupConfigMappingDAO).anyTimes();
  expect(injector.getInstance(UserDAO.class)).andReturn(userDAO).anyTimes();
  expect(injector.getInstance(PrincipalDAO.class)).andReturn(principalDAO).anyTimes();
  expect(injector.getInstance(PrincipalTypeDAO.class)).andReturn(principalTypeDAO).anyTimes();
  expect(injector.getInstance(ClusterDAO.class)).andReturn(clusterDAO).anyTimes();
  expect(injector.getInstance(ResourceTypeDAO.class)).andReturn(resourceTypeDAO).anyTimes();
  expect(injector.getInstance(ResourceDAO.class)).andReturn(resourceDAO).anyTimes();
  expect(injector.getInstance(ViewDAO.class)).andReturn(viewDAO).anyTimes();
  expect(injector.getInstance(ViewInstanceDAO.class)).andReturn(viewInstanceDAO).anyTimes();
  expect(injector.getInstance(PermissionDAO.class)).andReturn(permissionDAO).anyTimes();
  expect(injector.getInstance(PrivilegeDAO.class)).andReturn(privilegeDAO).anyTimes();
  expect(injector.getInstance(KeyValueDAO.class)).andReturn(keyValueDAO).anyTimes();
  expect(injector.getInstance(ViewRegistry.class)).andReturn(viewRegistry).anyTimes();
  expect(userRolesResultSet.next()).andReturn(true).times(3);
  expect(userRolesResultSet.next()).andReturn(false).times(1);
  expect(userRolesResultSet.getString(1)).andReturn("admin").times(1);
  expect(userRolesResultSet.getString(1)).andReturn("user").times(2);
  expect(userRolesResultSet.getInt(2)).andReturn(1).times(2);
  expect(userRolesResultSet.getInt(2)).andReturn(2).times(1);
  UserEntity userEntity1=createNiceMock(UserEntity.class);
  UserEntity userEntity2=createNiceMock(UserEntity.class);
  PrincipalEntity userPrincipal1=createNiceMock(PrincipalEntity.class);
  PrincipalEntity userPrincipal2=createNiceMock(PrincipalEntity.class);
  Set<PrivilegeEntity> userPrivileges1=createNiceMock(Set.class);
  Set<PrivilegeEntity> userPrivileges2=createNiceMock(Set.class);
  expect(userEntity1.getPrincipal()).andReturn(userPrincipal1).anyTimes();
  expect(userEntity2.getPrincipal()).andReturn(userPrincipal2).anyTimes();
  expect(userPrincipal1.getPrivileges()).andReturn(userPrivileges1).anyTimes();
  expect(userPrincipal2.getPrivileges()).andReturn(userPrivileges2).anyTimes();
  expect(userPrivileges1.add(anyObject(PrivilegeEntity.class))).andReturn(true).once();
  expect(userDAO.findByPK(1)).andReturn(userEntity1).times(2);
  expect(userDAO.findByPK(2)).andReturn(userEntity2).once();
  expect(userDAO.merge(userEntity1)).andReturn(userEntity1).once();
  expect(userDAO.merge(userEntity2)).andReturn(userEntity2).once();
  expect(configGroupConfigMappingDAO.findAll()).andReturn(configGroupConfigMappingEntities).once();
  expect(userDAO.findAll()).andReturn(Collections.<UserEntity>emptyList()).times(1);
  expect(userDAO.findAll()).andReturn(Arrays.asList(userEntity1,userEntity2)).times(1);
  expect(clusterDAO.findAll()).andReturn(Collections.<ClusterEntity>emptyList()).times(2);
  String yarnConfig=String.format("{'%s':'%s', '%s':'%s'}",YARN_TIMELINE_SERVICE_WEBAPP_ADDRESS_PROPERTY,"timeline:8081",YARN_RESOURCEMANAGER_WEBAPP_ADDRESS_PROPERTY,"resource_man:8081");
  expect(configGroupConfigMappingDAO.findAll()).andReturn(configGroupConfigMappingEntities).once();
  expect(clusterDAO.findAll()).andReturn(Collections.singletonList(clusterEntity)).anyTimes();
  expect(configEntity.getData()).andReturn(yarnConfig);
  expect(clusterDAO.findConfig(1L,YARN_SITE,"version1")).andReturn(configEntity).anyTimes();
  expect(viewDAO.findAll()).andReturn(Collections.<ViewEntity>emptyList()).anyTimes();
  expect(viewInstanceDAO.findAll()).andReturn(Collections.<ViewInstanceEntity>emptyList()).anyTimes();
  expect(permissionDAO.findAmbariAdminPermission()).andReturn(adminPermission).anyTimes();
  expect(permissionDAO.findViewUsePermission()).andReturn(viewUsePermission).anyTimes();
  expect(permissionDAO.findClusterOperatePermission()).andReturn(null);
  expect(permissionDAO.findClusterReadPermission()).andReturn(null);
  expect(cluster.getDesiredConfigByType("pig-properties")).andReturn(pigConfig).anyTimes();
  expect(pigConfig.getProperties()).andReturn(pigSettings).anyTimes();
  ViewEntity jobsView=createNiceMock(ViewEntity.class);
  KeyValueEntity showJobsKeyValue=createNiceMock(KeyValueEntity.class);
  UserEntity user=createNiceMock(UserEntity.class);
  ClusterConfigMappingEntity configMappingEntity=createNiceMock(ClusterConfigMappingEntity.class);
  ClusterStateEntity clusterStateEntity=createNiceMock(ClusterStateEntity.class);
  StackEntity stackEntity=createNiceMock(StackEntity.class);
  expect(stackEntity.getStackName()).andReturn(CLUSTER_STATE_STACK_HDP_2_1.getStackName());
  expect(stackEntity.getStackVersion()).andReturn(CLUSTER_STATE_STACK_HDP_2_1.getStackVersion());
  expect(clusterEntity.getClusterId()).andReturn(1L).anyTimes();
  expect(clusterEntity.getConfigMappingEntities()).andReturn(Collections.singleton(configMappingEntity)).times(2);
  expect(clusterEntity.getClusterStateEntity()).andReturn(clusterStateEntity).anyTimes();
  expect(clusterStateEntity.getCurrentStack()).andReturn(stackEntity);
  expect(configMappingEntity.getType()).andReturn(YARN_SITE).anyTimes();
  expect(configMappingEntity.isSelected()).andReturn(1).anyTimes();
  expect(configMappingEntity.getTag()).andReturn("version1");
  expect(userDAO.findAll()).andReturn(Collections.singletonList(user));
  expect(jobsView.getCommonName()).andReturn(JOBS_VIEW_NAME);
  expect(jobsView.getVersion()).andReturn("1.0.0");
  expect(viewDAO.findByCommonName(JOBS_VIEW_NAME)).andReturn(jobsView).once();
  expect(showJobsKeyValue.getValue()).andReturn("true");
  expect(keyValueDAO.findByKey(SHOW_JOBS_FOR_NON_ADMIN_KEY)).andReturn(showJobsKeyValue);
  expect(privilegeDAO.findAllByPrincipal(anyObject(List.class))).andReturn(Collections.<PrivilegeEntity>emptyList());
  expect(viewDAO.merge(jobsView)).andReturn(jobsView);
  resourceDAO.create(anyObject(ResourceEntity.class));
  expect(adminPermission.getId()).andReturn(3);
  expect(viewUsePermission.getId()).andReturn(4);
  viewInstanceDAO.create(anyObject(ViewInstanceEntity.class));
  expectLastCall().andAnswer(new IAnswer(){
    @Override public Object answer() throws Throwable {
      ((ViewInstanceEntity)getCurrentArguments()[0]).getResource().setId(1L);
      return null;
    }
  }
);
  keyValueDAO.remove(showJobsKeyValue);
  privilegeDAO.create(anyObject(PrivilegeEntity.class));
  replay(entityManager,trans,upgradeCatalog,cb,cq,hrc,q,connection,statement,userRolesResultSet);
  replay(dbAccessor,configuration,injector,cluster,clusters,amc,config,configHelper,pigConfig);
  replay(userDAO,clusterDAO,viewDAO,viewInstanceDAO,permissionDAO,configGroupConfigMappingDAO);
  replay(resourceTypeDAO,resourceDAO,keyValueDAO,privilegeDAO,clusterConfigEntity);
  replay(jobsView,showJobsKeyValue,user);
  replay(userEntity1,userEntity2,userPrincipal1,userPrincipal2,userPrivileges1,userPrivileges2);
  replay(viewRegistry,viewUsePermission,adminPermission);
  replay(clusterEntity,configEntity,configMappingEntity,clusterStateEntity,stackEntity);
  Class<?> c=AbstractUpgradeCatalog.class;
  Field f=c.getDeclaredField("configuration");
  f.setAccessible(true);
  f.set(upgradeCatalog,configuration);
  f=c.getDeclaredField("dbAccessor");
  f.setAccessible(true);
  f.set(upgradeCatalog,dbAccessor);
  f=c.getDeclaredField("injector");
  f.setAccessible(true);
  f.set(upgradeCatalog,injector);
  upgradeCatalog.executeDMLUpdates();
  verify(upgradeCatalog,dbAccessor,configuration,injector,cluster,clusters,amc,config,configHelper,jobsView,showJobsKeyValue,privilegeDAO,viewDAO,viewInstanceDAO,resourceDAO,keyValueDAO,connection,statement,userRolesResultSet,userEntity1,userEntity2,userPrincipal1,userPrincipal2,userPrivileges1,userPrivileges2,viewRegistry,clusterEntity,configEntity,configMappingEntity,clusterStateEntity);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.upgrade.UpgradeCatalog200Test </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testPersistHDPRepo() throws Exception {
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createStrictMock(AmbariManagementController.class);
  final AmbariMetaInfo mockAmbariMetaInfo=easyMockSupport.createNiceMock(AmbariMetaInfo.class);
  final StackInfo mockStackInfo=easyMockSupport.createNiceMock(StackInfo.class);
  final Clusters mockClusters=easyMockSupport.createStrictMock(Clusters.class);
  final Cluster mockCluster=easyMockSupport.createStrictMock(Cluster.class);
  final Map<String,Cluster> clusterMap=new HashMap<String,Cluster>();
  clusterMap.put("c1",mockCluster);
  OperatingSystemInfo osi=new OperatingSystemInfo("redhat6");
  HashSet<OperatingSystemInfo> osiSet=new HashSet<OperatingSystemInfo>();
  osiSet.add(osi);
  StackId stackId=new StackId("HDP","2.2");
  final RepositoryInfo mockRepositoryInfo=easyMockSupport.createNiceMock(RepositoryInfo.class);
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
      bind(Clusters.class).toInstance(mockClusters);
      bind(DBAccessor.class).toInstance(createNiceMock(DBAccessor.class));
      bind(EntityManager.class).toInstance(createNiceMock(EntityManager.class));
      bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
    }
  }
);
  expect(mockAmbariManagementController.getAmbariMetaInfo()).andReturn(mockAmbariMetaInfo);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getClusters()).andReturn(clusterMap).once();
  expect(mockCluster.getCurrentStackVersion()).andReturn(stackId).once();
  expect(mockCluster.getClusterName()).andReturn("cc").anyTimes();
  expect(mockAmbariMetaInfo.getOperatingSystems("HDP","2.2")).andReturn(osiSet).once();
  expect(mockAmbariMetaInfo.getRepository("HDP","2.2","redhat6","HDP-2.2")).andReturn(mockRepositoryInfo).once();
  expect(mockAmbariMetaInfo.getStack("HDP","2.2")).andReturn(mockStackInfo);
  expect(mockStackInfo.getRepositories()).andReturn(new ArrayList<RepositoryInfo>(){
{
      add(mockRepositoryInfo);
    }
  }
);
  expect(mockRepositoryInfo.getDefaultBaseUrl()).andReturn("http://baseurl").once();
  mockAmbariMetaInfo.updateRepoBaseURL("HDP","2.2","redhat6","HDP-2.2","http://baseurl");
  expectLastCall().once();
  easyMockSupport.replayAll();
  mockInjector.getInstance(UpgradeCatalog200.class).persistHDPRepo();
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateFlumeEnvConfig() throws AmbariException {
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createNiceMock(AmbariManagementController.class);
  final Clusters mockClusters=easyMockSupport.createStrictMock(Clusters.class);
  final Cluster mockClusterExpected=easyMockSupport.createNiceMock(Cluster.class);
  final Map<String,String> propertiesFlumeEnv=new HashMap<String,String>(){
{
      put("content","test");
    }
  }
;
  final Config mockFlumeEnv=easyMockSupport.createNiceMock(Config.class);
  expect(mockFlumeEnv.getProperties()).andReturn(propertiesFlumeEnv).once();
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
      bind(Clusters.class).toInstance(mockClusters);
      bind(EntityManager.class).toInstance(entityManager);
      bind(DBAccessor.class).toInstance(createNiceMock(DBAccessor.class));
      bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
    }
  }
);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getClusters()).andReturn(new HashMap<String,Cluster>(){
{
      put("normal",mockClusterExpected);
    }
  }
).atLeastOnce();
  expect(mockClusterExpected.getDesiredConfigByType("flume-env")).andReturn(mockFlumeEnv).atLeastOnce();
  expect(mockFlumeEnv.getProperties()).andReturn(propertiesFlumeEnv).atLeastOnce();
  easyMockSupport.replayAll();
  mockInjector.getInstance(UpgradeCatalog200.class).updateFlumeEnvConfig();
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateClusterEnvConfiguration() throws Exception {
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createStrictMock(AmbariManagementController.class);
  final ConfigHelper mockConfigHelper=easyMockSupport.createMock(ConfigHelper.class);
  final Clusters mockClusters=easyMockSupport.createStrictMock(Clusters.class);
  final Cluster mockClusterExpected=easyMockSupport.createStrictMock(Cluster.class);
  final Cluster mockClusterMissingSmokeUser=easyMockSupport.createStrictMock(Cluster.class);
  final Cluster mockClusterMissingConfig=easyMockSupport.createStrictMock(Cluster.class);
  final Config mockClusterEnvExpected=easyMockSupport.createStrictMock(Config.class);
  final Config mockClusterEnvMissingSmokeUser=easyMockSupport.createStrictMock(Config.class);
  final Map<String,String> propertiesExpectedT0=new HashMap<String,String>();
  propertiesExpectedT0.put("kerberos_domain","EXAMPLE.COM");
  propertiesExpectedT0.put("user_group","hadoop");
  propertiesExpectedT0.put("kinit_path_local","/usr/bin");
  propertiesExpectedT0.put("security_enabled","true");
  propertiesExpectedT0.put("smokeuser","ambari-qa");
  propertiesExpectedT0.put("smokeuser_keytab","/etc/security/keytabs/smokeuser.headless.keytab");
  propertiesExpectedT0.put("ignore_groupsusers_create","false");
  final Map<String,String> propertiesExpectedT1=new HashMap<String,String>(propertiesExpectedT0);
  propertiesExpectedT1.put("smokeuser_principal_name","ambari-qa");
  final Map<String,String> propertiesMissingSmokeUserT0=new HashMap<String,String>(propertiesExpectedT0);
  propertiesMissingSmokeUserT0.remove("smokeuser");
  final Map<String,String> propertiesMissingSmokeUserT1=new HashMap<String,String>(propertiesMissingSmokeUserT0);
  propertiesMissingSmokeUserT1.put("smokeuser_principal_name","ambari-qa");
  final PropertyInfo mockSmokeUserPropertyInfo=easyMockSupport.createStrictMock(PropertyInfo.class);
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
      bind(ConfigHelper.class).toInstance(mockConfigHelper);
      bind(Clusters.class).toInstance(mockClusters);
      bind(DBAccessor.class).toInstance(createNiceMock(DBAccessor.class));
      bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
    }
  }
);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getClusters()).andReturn(new HashMap<String,Cluster>(){
{
      put("normal",mockClusterExpected);
      put("missing_smokeuser",mockClusterMissingSmokeUser);
      put("missing_cluster-env",mockClusterMissingConfig);
    }
  }
).once();
  expect(mockClusterExpected.getDesiredConfigByType("cluster-env")).andReturn(mockClusterEnvExpected).once();
  expect(mockClusterEnvExpected.getProperties()).andReturn(propertiesExpectedT0).once();
  mockConfigHelper.createConfigType(mockClusterExpected,mockAmbariManagementController,"cluster-env",propertiesExpectedT1,UpgradeCatalog200.AUTHENTICATED_USER_NAME,"Upgrading to Ambari 2.0");
  expectLastCall().once();
  expect(mockClusterMissingSmokeUser.getDesiredConfigByType("cluster-env")).andReturn(mockClusterEnvMissingSmokeUser).once();
  expect(mockClusterEnvMissingSmokeUser.getProperties()).andReturn(propertiesMissingSmokeUserT0).once();
  expect(mockConfigHelper.getStackProperties(mockClusterMissingSmokeUser)).andReturn(Collections.singleton(mockSmokeUserPropertyInfo)).once();
  expect(mockSmokeUserPropertyInfo.getFilename()).andReturn("cluster-env.xml").once();
  expect(mockSmokeUserPropertyInfo.getValue()).andReturn("ambari-qa").once();
  mockConfigHelper.createConfigType(mockClusterMissingSmokeUser,mockAmbariManagementController,"cluster-env",propertiesMissingSmokeUserT1,UpgradeCatalog200.AUTHENTICATED_USER_NAME,"Upgrading to Ambari 2.0");
  expectLastCall().once();
  expect(mockClusterMissingConfig.getDesiredConfigByType("cluster-env")).andReturn(null).once();
  easyMockSupport.replayAll();
  mockInjector.getInstance(UpgradeCatalog200.class).updateClusterEnvConfiguration();
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests that each DML method is invoked.
 * @throws Exception
 */
@Test public void testExecuteDMLUpdates() throws Exception {
  Method removeNagiosService=UpgradeCatalog200.class.getDeclaredMethod("removeNagiosService");
  Method updateHiveDatabaseType=UpgradeCatalog200.class.getDeclaredMethod("updateHiveDatabaseType");
  Method addNewConfigurationsFromXml=AbstractUpgradeCatalog.class.getDeclaredMethod("addNewConfigurationsFromXml");
  Method updateTezConfiguration=UpgradeCatalog200.class.getDeclaredMethod("updateTezConfiguration");
  Method updateFlumeEnvConfig=UpgradeCatalog200.class.getDeclaredMethod("updateFlumeEnvConfig");
  Method updateClusterEnvConfiguration=UpgradeCatalog200.class.getDeclaredMethod("updateClusterEnvConfiguration");
  Method updateConfigurationProperties=AbstractUpgradeCatalog.class.getDeclaredMethod("updateConfigurationProperties",String.class,Map.class,boolean.class,boolean.class);
  Method persistHDPRepo=UpgradeCatalog200.class.getDeclaredMethod("persistHDPRepo");
  UpgradeCatalog200 upgradeCatalog=createMockBuilder(UpgradeCatalog200.class).addMockedMethod(removeNagiosService).addMockedMethod(updateHiveDatabaseType).addMockedMethod(addNewConfigurationsFromXml).addMockedMethod(updateTezConfiguration).addMockedMethod(updateFlumeEnvConfig).addMockedMethod(updateConfigurationProperties).addMockedMethod(updateClusterEnvConfiguration).addMockedMethod(persistHDPRepo).createMock();
  upgradeCatalog.removeNagiosService();
  expectLastCall().once();
  upgradeCatalog.addNewConfigurationsFromXml();
  expectLastCall();
  upgradeCatalog.updateHiveDatabaseType();
  expectLastCall().once();
  upgradeCatalog.updateTezConfiguration();
  expectLastCall().once();
  upgradeCatalog.updateFlumeEnvConfig();
  expectLastCall().once();
  upgradeCatalog.updateConfigurationProperties("hive-site",Collections.singletonMap("hive.server2.transport.mode","binary"),false,false);
  expectLastCall();
  upgradeCatalog.persistHDPRepo();
  expectLastCall().once();
  upgradeCatalog.updateClusterEnvConfiguration();
  expectLastCall();
  replay(upgradeCatalog);
  upgradeCatalog.executeDMLUpdates();
  verify(upgradeCatalog);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.upgrade.UpgradeCatalog210Test </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateHBaseConfiguration() throws Exception {
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createNiceMock(AmbariManagementController.class);
  final ConfigHelper mockConfigHelper=easyMockSupport.createMock(ConfigHelper.class);
  final Clusters mockClusters=easyMockSupport.createStrictMock(Clusters.class);
  final Cluster mockClusterExpected=easyMockSupport.createNiceMock(Cluster.class);
  final Host mockHost=easyMockSupport.createNiceMock(Host.class);
  final Config mockHBaseSite=easyMockSupport.createNiceMock(Config.class);
  final Config mockHBaseEnv=easyMockSupport.createNiceMock(Config.class);
  final Map<String,String> propertiesExpectedHBaseSite=new HashMap<String,String>();
  propertiesExpectedHBaseSite.put("hbase.region.server.rpc.scheduler.factory.class","org.apache.phoenix.hbase.index.ipc.PhoenixIndexRpcSchedulerFactory");
  propertiesExpectedHBaseSite.put("hbase.security.authorization","true");
  final Map<String,String> propertiesExpectedHBaseEnv=new HashMap<String,String>();
  propertiesExpectedHBaseEnv.put("phoenix_sql_enabled","false");
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
      bind(ConfigHelper.class).toInstance(mockConfigHelper);
      bind(Clusters.class).toInstance(mockClusters);
      bind(DBAccessor.class).toInstance(createNiceMock(DBAccessor.class));
      bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
    }
  }
);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getClusters()).andReturn(new HashMap<String,Cluster>(){
{
      put("normal",mockClusterExpected);
    }
  }
).once();
  expect(mockClusterExpected.getDesiredConfigByType("hbase-site")).andReturn(mockHBaseSite).atLeastOnce();
  expect(mockClusterExpected.getDesiredConfigByType("hbase-env")).andReturn(mockHBaseEnv).atLeastOnce();
  expect(mockHBaseSite.getProperties()).andReturn(propertiesExpectedHBaseSite).anyTimes();
  expect(mockHBaseEnv.getProperties()).andReturn(propertiesExpectedHBaseEnv).anyTimes();
  Capture<String> configType=new Capture<String>();
  Capture<String> configTag=new Capture<String>();
  expect(mockClusterExpected.getConfig(capture(configType),capture(configTag))).andReturn(mockHBaseSite).atLeastOnce();
  easyMockSupport.replayAll();
  mockInjector.getInstance(UpgradeCatalog210.class).updateHBaseConfigs();
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateStormConfiguration() throws Exception {
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createNiceMock(AmbariManagementController.class);
  final ConfigHelper mockConfigHelper=easyMockSupport.createMock(ConfigHelper.class);
  final Clusters mockClusters=easyMockSupport.createStrictMock(Clusters.class);
  final Cluster mockClusterExpected=easyMockSupport.createNiceMock(Cluster.class);
  final Config mockClusterEnv=easyMockSupport.createNiceMock(Config.class);
  final Config mockStormSite=easyMockSupport.createNiceMock(Config.class);
  final Map<String,String> propertiesExpectedClusterEnv=new HashMap<String,String>();
  propertiesExpectedClusterEnv.put("security_enabled","true");
  final Map<String,String> propertiesExpectedStormSite=new HashMap<String,String>();
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
      bind(ConfigHelper.class).toInstance(mockConfigHelper);
      bind(Clusters.class).toInstance(mockClusters);
      bind(DBAccessor.class).toInstance(createNiceMock(DBAccessor.class));
      bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
    }
  }
);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getClusters()).andReturn(new HashMap<String,Cluster>(){
{
      put("normal",mockClusterExpected);
    }
  }
).once();
  expect(mockClusterExpected.getDesiredConfigByType("cluster-env")).andReturn(mockClusterEnv).atLeastOnce();
  expect(mockClusterExpected.getDesiredConfigByType("storm-site")).andReturn(mockStormSite).atLeastOnce();
  expect(mockClusterEnv.getProperties()).andReturn(propertiesExpectedClusterEnv).anyTimes();
  expect(mockStormSite.getProperties()).andReturn(propertiesExpectedStormSite).anyTimes();
  easyMockSupport.replayAll();
  mockInjector.getInstance(UpgradeCatalog210.class).updateStormConfigs();
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecuteDMLUpdates() throws Exception {
  Method addNewConfigurationsFromXml=AbstractUpgradeCatalog.class.getDeclaredMethod("addNewConfigurationsFromXml");
  Method initializeClusterAndServiceWidgets=UpgradeCatalog210.class.getDeclaredMethod("initializeClusterAndServiceWidgets");
  Method addMissingConfigs=UpgradeCatalog210.class.getDeclaredMethod("addMissingConfigs");
  Method updateAlertDefinitions=UpgradeCatalog210.class.getDeclaredMethod("updateAlertDefinitions");
  Method removeStormRestApiServiceComponent=UpgradeCatalog210.class.getDeclaredMethod("removeStormRestApiServiceComponent");
  Method updateKerberosDescriptorArtifacts=AbstractUpgradeCatalog.class.getDeclaredMethod("updateKerberosDescriptorArtifacts");
  UpgradeCatalog210 upgradeCatalog210=createMockBuilder(UpgradeCatalog210.class).addMockedMethod(addNewConfigurationsFromXml).addMockedMethod(initializeClusterAndServiceWidgets).addMockedMethod(addMissingConfigs).addMockedMethod(updateAlertDefinitions).addMockedMethod(removeStormRestApiServiceComponent).addMockedMethod(updateKerberosDescriptorArtifacts).createMock();
  upgradeCatalog210.addNewConfigurationsFromXml();
  expectLastCall().once();
  upgradeCatalog210.initializeClusterAndServiceWidgets();
  expectLastCall().once();
  upgradeCatalog210.addMissingConfigs();
  expectLastCall().once();
  upgradeCatalog210.updateAlertDefinitions();
  expectLastCall().once();
  upgradeCatalog210.removeStormRestApiServiceComponent();
  expectLastCall().once();
  upgradeCatalog210.updateKerberosDescriptorArtifacts();
  expectLastCall().once();
  replay(upgradeCatalog210);
  upgradeCatalog210.executeDMLUpdates();
  verify(upgradeCatalog210);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateRangerHiveConfigs() throws Exception {
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createNiceMock(AmbariManagementController.class);
  final ConfigHelper mockConfigHelper=easyMockSupport.createMock(ConfigHelper.class);
  final Clusters mockClusters=easyMockSupport.createStrictMock(Clusters.class);
  final Cluster mockClusterExpected=easyMockSupport.createNiceMock(Cluster.class);
  final Config mockRangerPlugin=easyMockSupport.createNiceMock(Config.class);
  final Config mockHiveEnv=easyMockSupport.createNiceMock(Config.class);
  final Config mockHiveServer=easyMockSupport.createNiceMock(Config.class);
  final Map<String,String> propertiesExpectedRangerPlugin=new HashMap<String,String>();
  propertiesExpectedRangerPlugin.put("ranger-hive-plugin-enabled","yes");
  final Map<String,String> propertiesExpectedHiveEnv=new HashMap<String,String>();
  final Map<String,String> propertiesExpectedHiveServer2=new HashMap<String,String>();
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
      bind(ConfigHelper.class).toInstance(mockConfigHelper);
      bind(Clusters.class).toInstance(mockClusters);
      bind(DBAccessor.class).toInstance(createNiceMock(DBAccessor.class));
      bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
    }
  }
);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getClusters()).andReturn(new HashMap<String,Cluster>(){
{
      put("normal",mockClusterExpected);
    }
  }
).once();
  expect(mockClusterExpected.getDesiredConfigByType("ranger-hive-plugin-properties")).andReturn(mockRangerPlugin).atLeastOnce();
  expect(mockClusterExpected.getDesiredConfigByType("hive-env")).andReturn(mockHiveEnv).atLeastOnce();
  expect(mockClusterExpected.getDesiredConfigByType("hiveserver2-site")).andReturn(mockHiveServer).atLeastOnce();
  expect(mockRangerPlugin.getProperties()).andReturn(propertiesExpectedRangerPlugin).anyTimes();
  expect(mockHiveEnv.getProperties()).andReturn(propertiesExpectedHiveEnv).anyTimes();
  expect(mockHiveServer.getProperties()).andReturn(propertiesExpectedHiveServer2).anyTimes();
  ServiceConfigVersionResponse r=null;
  expect(mockClusterExpected.getConfig(anyObject(String.class),anyObject(String.class))).andReturn(mockHiveServer).anyTimes();
  expect(mockClusterExpected.addDesiredConfig("ambari-upgrade",Collections.singleton(mockHiveServer))).andReturn(r).times(3);
  easyMockSupport.replayAll();
  mockInjector.getInstance(UpgradeCatalog210.class).updateRangerHiveConfigs();
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecutePreDMLUpdates() throws Exception {
  Method executeStackPreDMLUpdates=UpgradeCatalog210.class.getDeclaredMethod("executeStackPreDMLUpdates");
  Method cleanupStackUpdates=UpgradeCatalog210.class.getDeclaredMethod("cleanupStackUpdates");
  final UpgradeCatalog210 upgradeCatalog210=createMockBuilder(UpgradeCatalog210.class).addMockedMethod(executeStackPreDMLUpdates).addMockedMethod(cleanupStackUpdates).createMock();
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(UpgradeCatalog210.class).toInstance(upgradeCatalog210);
      bind(DBAccessor.class).toInstance(createNiceMock(DBAccessor.class));
      bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
    }
  }
);
  upgradeCatalog210.executeStackPreDMLUpdates();
  expectLastCall().once();
  replay(upgradeCatalog210);
  mockInjector.getInstance(UpgradeCatalog210.class).executePreDMLUpdates();
  verify(upgradeCatalog210);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecuteDDLUpdates() throws Exception {
  final DBAccessor dbAccessor=createNiceMock(DBAccessor.class);
  Configuration configuration=createNiceMock(Configuration.class);
  Connection connection=createNiceMock(Connection.class);
  Statement statement=createNiceMock(Statement.class);
  ResultSet resultSet=createNiceMock(ResultSet.class);
  expect(configuration.getDatabaseUrl()).andReturn(Configuration.JDBC_IN_MEMORY_URL).anyTimes();
  dbAccessor.getConnection();
  expectLastCall().andReturn(connection).anyTimes();
  connection.createStatement();
  expectLastCall().andReturn(statement).anyTimes();
  statement.executeQuery(anyObject(String.class));
  expectLastCall().andReturn(resultSet).anyTimes();
  AlertSectionDDL alertSectionDDL=new AlertSectionDDL();
  HostSectionDDL hostSectionDDL=new HostSectionDDL();
  WidgetSectionDDL widgetSectionDDL=new WidgetSectionDDL();
  ViewSectionDDL viewSectionDDL=new ViewSectionDDL();
  alertSectionDDL.execute(dbAccessor);
  hostSectionDDL.execute(dbAccessor);
  widgetSectionDDL.execute(dbAccessor);
  viewSectionDDL.execute(dbAccessor);
  replay(dbAccessor,configuration,resultSet,connection,statement);
  AbstractUpgradeCatalog upgradeCatalog=getUpgradeCatalog(dbAccessor);
  Class<?> c=AbstractUpgradeCatalog.class;
  Field f=c.getDeclaredField("configuration");
  f.setAccessible(true);
  f.set(upgradeCatalog,configuration);
  upgradeCatalog.executeDDLUpdates();
  verify(dbAccessor,configuration,resultSet,connection,statement);
  alertSectionDDL.verify(dbAccessor);
  hostSectionDDL.verify(dbAccessor);
  widgetSectionDDL.verify(dbAccessor);
  viewSectionDDL.verify(dbAccessor);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testInitializeClusterAndServiceWidgets() throws Exception {
  final AmbariManagementController controller=createStrictMock(AmbariManagementController.class);
  final Clusters clusters=createStrictMock(Clusters.class);
  final Cluster cluster=createStrictMock(Cluster.class);
  final Service service=createStrictMock(Service.class);
  final Map<String,Cluster> clusterMap=Collections.singletonMap("c1",cluster);
  final Map<String,Service> services=Collections.singletonMap("HBASE",service);
  Module module=new Module(){
    @Override public void configure(    Binder binder){
      binder.bind(AmbariManagementController.class).toInstance(controller);
      binder.bind(Clusters.class).toInstance(clusters);
      binder.bind(DBAccessor.class).toInstance(createNiceMock(DBAccessor.class));
      binder.bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
    }
  }
;
  expect(controller.getClusters()).andReturn(clusters).anyTimes();
  expect(clusters.getClusters()).andReturn(clusterMap).anyTimes();
  controller.initializeWidgetsAndLayouts(cluster,null);
  expectLastCall().once();
  expect(cluster.getServices()).andReturn(services).once();
  controller.initializeWidgetsAndLayouts(cluster,service);
  expectLastCall().once();
  replay(controller,clusters,cluster);
  Injector injector=Guice.createInjector(module);
  injector.getInstance(UpgradeCatalog210.class).initializeClusterAndServiceWidgets();
  verify(controller,clusters,cluster);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateHDFSConfiguration() throws Exception {
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createNiceMock(AmbariManagementController.class);
  final ConfigHelper mockConfigHelper=easyMockSupport.createMock(ConfigHelper.class);
  final Clusters mockClusters=easyMockSupport.createStrictMock(Clusters.class);
  final Cluster mockClusterExpected=easyMockSupport.createNiceMock(Cluster.class);
  final Config mockHdfsSite=easyMockSupport.createNiceMock(Config.class);
  final Config mockCoreSite=easyMockSupport.createStrictMock(Config.class);
  final Map<String,String> propertiesExpectedHdfs=new HashMap<String,String>();
  final Map<String,String> propertiesExpectedCoreSite=new HashMap<String,String>();
  propertiesExpectedCoreSite.put("fs.defaultFS","hdfs://EXAMPLE.COM:8020");
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
      bind(ConfigHelper.class).toInstance(mockConfigHelper);
      bind(Clusters.class).toInstance(mockClusters);
      bind(DBAccessor.class).toInstance(createNiceMock(DBAccessor.class));
      bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
    }
  }
);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getClusters()).andReturn(new HashMap<String,Cluster>(){
{
      put("normal",mockClusterExpected);
    }
  }
).once();
  expect(mockClusterExpected.getDesiredConfigByType("hadoop-env")).andReturn(null).once();
  expect(mockClusterExpected.getDesiredConfigByType("hdfs-site")).andReturn(mockHdfsSite).atLeastOnce();
  expect(mockClusterExpected.getHosts("HDFS","NAMENODE")).andReturn(new HashSet<String>(){
{
      add("host1");
    }
  }
).atLeastOnce();
  expect(mockHdfsSite.getProperties()).andReturn(propertiesExpectedHdfs).anyTimes();
  expect(mockClusterExpected.getDesiredConfigByType("core-site")).andReturn(mockCoreSite).anyTimes();
  expect(mockCoreSite.getProperties()).andReturn(propertiesExpectedCoreSite).anyTimes();
  easyMockSupport.replayAll();
  mockInjector.getInstance(UpgradeCatalog210.class).updateHdfsConfigs();
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.upgrade.UpgradeCatalog211Test </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecutePreDMLUpdates() throws Exception {
  final UpgradeCatalog211 upgradeCatalog211=createMockBuilder(UpgradeCatalog211.class).createMock();
  final Injector injector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(UpgradeCatalog211.class).toInstance(upgradeCatalog211);
      bind(DBAccessor.class).toInstance(createNiceMock(DBAccessor.class));
      bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
    }
  }
);
  setInjector(upgradeCatalog211,injector);
  replayAll();
  injector.getInstance(UpgradeCatalog211.class).executePreDMLUpdates();
  verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecuteDMLUpdates() throws Exception {
  final DBAccessor dbAccessor=createNiceMock(DBAccessor.class);
  final OsFamily osFamily=createNiceMock(OsFamily.class);
  final Cluster cluster=createMock(Cluster.class);
  final Clusters clusters=createMock(Clusters.class);
  expect(clusters.getClusters()).andReturn(Collections.singletonMap("c1",cluster));
  final AmbariManagementController controller=createNiceMock(AmbariManagementController.class);
  expect(controller.getClusters()).andReturn(clusters).once();
  final Injector injector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(controller);
      bind(DBAccessor.class).toInstance(dbAccessor);
      bind(OsFamily.class).toInstance(osFamily);
    }
  }
);
  Method addNewConfigurationsFromXml=AbstractUpgradeCatalog.class.getDeclaredMethod("addNewConfigurationsFromXml");
  Method updateKerberosConfigurations=UpgradeCatalog211.class.getDeclaredMethod("updateKerberosConfigurations",Cluster.class);
  UpgradeCatalog211 upgradeCatalog211=createMockBuilder(UpgradeCatalog211.class).addMockedMethod(addNewConfigurationsFromXml).addMockedMethod(updateKerberosConfigurations).createMock();
  setInjector(upgradeCatalog211,injector);
  upgradeCatalog211.addNewConfigurationsFromXml();
  expectLastCall().once();
  upgradeCatalog211.updateKerberosConfigurations(anyObject(Cluster.class));
  expectLastCall().once();
  replayAll();
  upgradeCatalog211.executeDMLUpdates();
  verifyAll();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.upgrade.UpgradeCatalog2121Test </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecuteDMLUpdates() throws Exception {
  Method updatePHDConfigs=UpgradeCatalog2121.class.getDeclaredMethod("updatePHDConfigs");
  Method updateOozieConfigs=UpgradeCatalog2121.class.getDeclaredMethod("updateOozieConfigs");
  UpgradeCatalog2121 upgradeCatalog2121=createMockBuilder(UpgradeCatalog2121.class).addMockedMethod(updatePHDConfigs).addMockedMethod(updateOozieConfigs).createMock();
  upgradeCatalog2121.updatePHDConfigs();
  expectLastCall().once();
  upgradeCatalog2121.updateOozieConfigs();
  expectLastCall().once();
  replay(upgradeCatalog2121);
  upgradeCatalog2121.executeDMLUpdates();
  verify(upgradeCatalog2121);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateOozieConfigs() throws Exception {
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createNiceMock(AmbariManagementController.class);
  final Clusters mockClusters=easyMockSupport.createStrictMock(Clusters.class);
  final Cluster mockClusterExpected=easyMockSupport.createNiceMock(Cluster.class);
  final Map<String,String> propertiesOozieSite=new HashMap<String,String>(){
{
      put("oozie.authentication.kerberos.name.rules","\n ");
    }
  }
;
  final Config oozieSiteConf=easyMockSupport.createNiceMock(Config.class);
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
      bind(Clusters.class).toInstance(mockClusters);
      bind(EntityManager.class).toInstance(entityManager);
      bind(DBAccessor.class).toInstance(createNiceMock(DBAccessor.class));
      bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
    }
  }
);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getClusters()).andReturn(new HashMap<String,Cluster>(){
{
      put("normal",mockClusterExpected);
    }
  }
).atLeastOnce();
  expect(mockClusterExpected.getDesiredConfigByType("oozie-site")).andReturn(oozieSiteConf).atLeastOnce();
  expect(oozieSiteConf.getProperties()).andReturn(propertiesOozieSite).once();
  UpgradeCatalog2121 upgradeCatalog2121=createMockBuilder(UpgradeCatalog2121.class).withConstructor(Injector.class).withArgs(mockInjector).addMockedMethod("updateConfigurationPropertiesForCluster",Cluster.class,String.class,Map.class,Set.class,boolean.class,boolean.class).createMock();
  upgradeCatalog2121.updateConfigurationPropertiesForCluster(mockClusterExpected,"oozie-site",new HashMap<String,String>(),Collections.singleton("oozie.authentication.kerberos.name.rules"),true,false);
  expectLastCall().once();
  easyMockSupport.replayAll();
  replay(upgradeCatalog2121);
  upgradeCatalog2121.updateOozieConfigs();
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.upgrade.UpgradeCatalog212Test </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateOozieConfigs() throws Exception {
  setupIoCContext();
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createNiceMock(AmbariManagementController.class);
  final ConfigHelper mockConfigHelper=easyMockSupport.createMock(ConfigHelper.class);
  final Clusters mockClusters=easyMockSupport.createStrictMock(Clusters.class);
  final Cluster mockClusterExpected=easyMockSupport.createNiceMock(Cluster.class);
  final Config mockOozieEnv=easyMockSupport.createNiceMock(Config.class);
  final Map<String,String> propertiesExpectedOozieEnv=new HashMap<String,String>(){
{
      put("oozie_hostname","");
      put("oozie_database","123");
    }
  }
;
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
      bind(ConfigHelper.class).toInstance(mockConfigHelper);
      bind(Clusters.class).toInstance(mockClusters);
      bind(DBAccessor.class).toInstance(createNiceMock(DBAccessor.class));
      bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
    }
  }
);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getClusters()).andReturn(new HashMap<String,Cluster>(){
{
      put("normal",mockClusterExpected);
    }
  }
).once();
  expect(mockClusterExpected.getDesiredConfigByType("oozie-env")).andReturn(mockOozieEnv).atLeastOnce();
  expect(mockOozieEnv.getProperties()).andReturn(propertiesExpectedOozieEnv).atLeastOnce();
  easyMockSupport.replayAll();
  mockInjector.getInstance(UpgradeCatalog212.class).updateOozieConfigs();
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateHiveConfigs() throws Exception {
  setupIoCContext();
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createNiceMock(AmbariManagementController.class);
  final ConfigHelper mockConfigHelper=easyMockSupport.createMock(ConfigHelper.class);
  final Clusters mockClusters=easyMockSupport.createStrictMock(Clusters.class);
  final Cluster mockClusterExpected=easyMockSupport.createNiceMock(Cluster.class);
  final Config mockHiveEnv=easyMockSupport.createNiceMock(Config.class);
  final Config mockHiveSite=easyMockSupport.createNiceMock(Config.class);
  final Map<String,String> propertiesExpectedHiveEnv=new HashMap<String,String>();
  final Map<String,String> propertiesExpectedHiveSite=new HashMap<String,String>(){
{
      put("hive.heapsize","512");
      put("hive.server2.custom.authentication.class","");
    }
  }
;
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
      bind(ConfigHelper.class).toInstance(mockConfigHelper);
      bind(Clusters.class).toInstance(mockClusters);
      bind(DBAccessor.class).toInstance(createNiceMock(DBAccessor.class));
      bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
    }
  }
);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getClusters()).andReturn(new HashMap<String,Cluster>(){
{
      put("normal",mockClusterExpected);
    }
  }
).once();
  expect(mockClusterExpected.getDesiredConfigByType("hive-site")).andReturn(mockHiveSite).atLeastOnce();
  expect(mockHiveSite.getProperties()).andReturn(propertiesExpectedHiveSite).atLeastOnce();
  StackId stackId=new StackId("HDP-2.2");
  expect(mockClusterExpected.getCurrentStackVersion()).andReturn(stackId).atLeastOnce();
  easyMockSupport.replayAll();
  mockInjector.getInstance(UpgradeCatalog212.class).updateHiveConfigs();
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateHBaseAdnClusterConfigs() throws Exception {
  setupIoCContext();
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createNiceMock(AmbariManagementController.class);
  final ConfigHelper mockConfigHelper=easyMockSupport.createMock(ConfigHelper.class);
  final Clusters mockClusters=easyMockSupport.createStrictMock(Clusters.class);
  final Cluster mockClusterExpected=easyMockSupport.createNiceMock(Cluster.class);
  final Map<String,String> propertiesHbaseSite=new HashMap<String,String>(){
{
      put("hbase.bucketcache.size","1024m");
    }
  }
;
  final Map<String,String> propertiesHbaseEnv=new HashMap<String,String>(){
{
      put("override_hbase_uid","false");
    }
  }
;
  final Config mockHbaseEnv=easyMockSupport.createNiceMock(Config.class);
  expect(mockHbaseEnv.getProperties()).andReturn(propertiesHbaseEnv).once();
  final Config mockHbaseSite=easyMockSupport.createNiceMock(Config.class);
  expect(mockHbaseSite.getProperties()).andReturn(propertiesHbaseSite).once();
  final Config mockClusterEnv=easyMockSupport.createNiceMock(Config.class);
  final Map<String,String> propertiesExpectedHbaseEnv=new HashMap<String,String>();
  final Map<String,String> propertiesExpectedClusterEnv=new HashMap<String,String>(){
{
      put("override_uid","false");
    }
  }
;
  final Map<String,String> propertiesExpectedHbaseSite=new HashMap<String,String>(){
{
      put("hbase.bucketcache.size","1024");
    }
  }
;
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
      bind(ConfigHelper.class).toInstance(mockConfigHelper);
      bind(Clusters.class).toInstance(mockClusters);
      bind(DBAccessor.class).toInstance(createNiceMock(DBAccessor.class));
      bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
    }
  }
);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getClusters()).andReturn(new HashMap<String,Cluster>(){
{
      put("normal",mockClusterExpected);
    }
  }
).once();
  expect(mockClusterExpected.getDesiredConfigByType("cluster-env")).andReturn(mockClusterEnv).atLeastOnce();
  expect(mockClusterExpected.getDesiredConfigByType("hbase-env")).andReturn(mockHbaseEnv).atLeastOnce();
  expect(mockClusterExpected.getDesiredConfigByType("hbase-site")).andReturn(mockHbaseSite).atLeastOnce();
  expect(mockClusterEnv.getProperties()).andReturn(propertiesExpectedClusterEnv).atLeastOnce();
  expect(mockHbaseEnv.getProperties()).andReturn(propertiesExpectedHbaseEnv).atLeastOnce();
  expect(mockHbaseSite.getProperties()).andReturn(propertiesExpectedHbaseSite).atLeastOnce();
  easyMockSupport.replayAll();
  mockInjector.getInstance(UpgradeCatalog212.class).updateHbaseAndClusterConfigurations();
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecuteDMLUpdates() throws Exception {
  setupIoCContext();
  Method addMissingConfigs=UpgradeCatalog212.class.getDeclaredMethod("addMissingConfigs");
  Method addNewConfigurationsFromXml=AbstractUpgradeCatalog.class.getDeclaredMethod("addNewConfigurationsFromXml");
  UpgradeCatalog212 upgradeCatalog212=createMockBuilder(UpgradeCatalog212.class).addMockedMethod(addNewConfigurationsFromXml).addMockedMethod(addMissingConfigs).createMock();
  upgradeCatalog212.addNewConfigurationsFromXml();
  expectLastCall().once();
  upgradeCatalog212.addMissingConfigs();
  expectLastCall().once();
  replay(upgradeCatalog212);
  upgradeCatalog212.executeDMLUpdates();
  verify(upgradeCatalog212);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecuteDDLUpdates() throws Exception {
  setupIoCContext();
  final DBAccessor dbAccessor=createNiceMock(DBAccessor.class);
  Configuration configuration=createNiceMock(Configuration.class);
  Connection connection=createNiceMock(Connection.class);
  Statement statement=createNiceMock(Statement.class);
  ResultSet resultSet=createNiceMock(ResultSet.class);
  expect(configuration.getDatabaseUrl()).andReturn(Configuration.JDBC_IN_MEMORY_URL).anyTimes();
  dbAccessor.getConnection();
  expectLastCall().andReturn(connection).anyTimes();
  connection.createStatement();
  expectLastCall().andReturn(statement).anyTimes();
  statement.executeQuery(anyObject(String.class));
  expectLastCall().andReturn(resultSet).anyTimes();
  HostRoleCommandDDL hostRoleCommandDDL=new HostRoleCommandDDL();
  hostRoleCommandDDL.execute(dbAccessor);
  replay(dbAccessor,configuration,resultSet,connection,statement);
  AbstractUpgradeCatalog upgradeCatalog=getUpgradeCatalog(dbAccessor);
  Class<?> c=AbstractUpgradeCatalog.class;
  Field f=c.getDeclaredField("configuration");
  f.setAccessible(true);
  f.set(upgradeCatalog,configuration);
  upgradeCatalog.executeDDLUpdates();
  verify(dbAccessor,configuration,resultSet,connection,statement);
  hostRoleCommandDDL.verify(dbAccessor);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testFinilizeTopologyDDL() throws Exception {
  setupIoCContext();
  final DBAccessor dbAccessor=createNiceMock(DBAccessor.class);
  dbAccessor.dropColumn(eq("topology_request"),eq("cluster_name"));
  dbAccessor.setColumnNullable(eq("topology_request"),eq("cluster_id"),eq(false));
  dbAccessor.addFKConstraint(eq("topology_request"),eq("FK_topology_request_cluster_id"),eq("cluster_id"),eq("clusters"),eq("cluster_id"),eq(false));
  replay(dbAccessor);
  Module module=new Module(){
    @Override public void configure(    Binder binder){
      binder.bind(DBAccessor.class).toInstance(dbAccessor);
      binder.bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
    }
  }
;
  Injector injector=Guice.createInjector(module);
  UpgradeCatalog212 upgradeCatalog212=injector.getInstance(UpgradeCatalog212.class);
  upgradeCatalog212.finilizeTopologyDDL();
  verify(dbAccessor);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.upgrade.UpgradeCatalog220Test </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateHiveConfig() throws Exception {
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createNiceMock(AmbariManagementController.class);
  final Clusters mockClusters=easyMockSupport.createStrictMock(Clusters.class);
  final Cluster mockClusterExpected=easyMockSupport.createNiceMock(Cluster.class);
  final Map<String,String> propertiesHiveSite=new HashMap<String,String>(){
{
      put("hive.server2.logging.operation.log.location","${system:java.io.tmpdir}/${system:user.name}/operation_logs");
    }
  }
;
  final Map<String,String> propertiesHiveSiteExpected=new HashMap<String,String>(){
{
      put("hive.server2.logging.operation.log.location","/tmp/hive/operation_logs");
    }
  }
;
  final Map<String,String> propertiesHiveEnv=new HashMap<String,String>(){
{
      put("content","test content");
    }
  }
;
  final Config hiveSiteConf=easyMockSupport.createNiceMock(Config.class);
  final Config hiveEnvConf=easyMockSupport.createNiceMock(Config.class);
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
      bind(Clusters.class).toInstance(mockClusters);
      bind(EntityManager.class).toInstance(entityManager);
      bind(DBAccessor.class).toInstance(createNiceMock(DBAccessor.class));
      bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
    }
  }
);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getClusters()).andReturn(new HashMap<String,Cluster>(){
{
      put("normal",mockClusterExpected);
    }
  }
).atLeastOnce();
  expect(mockClusterExpected.getDesiredConfigByType("hive-site")).andReturn(hiveSiteConf).atLeastOnce();
  expect(mockClusterExpected.getDesiredConfigByType("hive-env")).andReturn(hiveEnvConf).atLeastOnce();
  expect(hiveSiteConf.getProperties()).andReturn(propertiesHiveSite).once();
  expect(hiveEnvConf.getProperties()).andReturn(propertiesHiveEnv).once();
  UpgradeCatalog220 upgradeCatalog220=createMockBuilder(UpgradeCatalog220.class).withConstructor(Injector.class).withArgs(mockInjector).addMockedMethod("updateConfigurationPropertiesForCluster",Cluster.class,String.class,Map.class,boolean.class,boolean.class).createMock();
  upgradeCatalog220.updateConfigurationPropertiesForCluster(mockClusterExpected,"hive-site",propertiesHiveSiteExpected,true,false);
  expectLastCall().once();
  upgradeCatalog220.updateConfigurationPropertiesForCluster(mockClusterExpected,"hive-env",propertiesHiveEnv,true,true);
  expectLastCall().once();
  easyMockSupport.replayAll();
  replay(upgradeCatalog220);
  upgradeCatalog220.updateHiveConfig();
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateHDFSConfiguration() throws Exception {
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createNiceMock(AmbariManagementController.class);
  final ConfigHelper mockConfigHelper=easyMockSupport.createMock(ConfigHelper.class);
  final Clusters mockClusters=easyMockSupport.createStrictMock(Clusters.class);
  final Cluster mockClusterExpected=easyMockSupport.createNiceMock(Cluster.class);
  final Config mockHdfsSite=easyMockSupport.createNiceMock(Config.class);
  final Map<String,String> propertiesExpectedHdfs=new HashMap<String,String>();
  propertiesExpectedHdfs.put("dfs.namenode.rpc-address","nn.rpc.address");
  propertiesExpectedHdfs.put("dfs.nameservices","nn1");
  propertiesExpectedHdfs.put("dfs.ha.namenodes.nn1","value");
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
      bind(ConfigHelper.class).toInstance(mockConfigHelper);
      bind(Clusters.class).toInstance(mockClusters);
      bind(EntityManager.class).toInstance(entityManager);
      bind(DBAccessor.class).toInstance(createNiceMock(DBAccessor.class));
      bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
    }
  }
);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getClusters()).andReturn(new HashMap<String,Cluster>(){
{
      put("normal",mockClusterExpected);
    }
  }
).once();
  expect(mockClusterExpected.getDesiredConfigByType("hdfs-site")).andReturn(mockHdfsSite).atLeastOnce();
  expect(mockHdfsSite.getProperties()).andReturn(propertiesExpectedHdfs).anyTimes();
  easyMockSupport.replayAll();
  mockInjector.getInstance(UpgradeCatalog220.class).updateHDFSConfigs();
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateRangerUgsyncSiteConfig() throws Exception {
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createNiceMock(AmbariManagementController.class);
  final Clusters mockClusters=easyMockSupport.createStrictMock(Clusters.class);
  final Cluster mockClusterExpected=easyMockSupport.createNiceMock(Cluster.class);
  final Map<String,String> propertiesRangerUgsyncSite=new HashMap<String,String>(){
{
      put("ranger.usersync.source.impl.class","ldap");
    }
  }
;
  final Config mockRangerUgsyncSite=easyMockSupport.createNiceMock(Config.class);
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
      bind(Clusters.class).toInstance(mockClusters);
      bind(EntityManager.class).toInstance(entityManager);
      bind(DBAccessor.class).toInstance(createNiceMock(DBAccessor.class));
      bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
    }
  }
);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getClusters()).andReturn(new HashMap<String,Cluster>(){
{
      put("normal",mockClusterExpected);
    }
  }
).atLeastOnce();
  expect(mockClusterExpected.getDesiredConfigByType("ranger-ugsync-site")).andReturn(mockRangerUgsyncSite).atLeastOnce();
  expect(mockRangerUgsyncSite.getProperties()).andReturn(propertiesRangerUgsyncSite).atLeastOnce();
  Map<String,String> updates=Collections.singletonMap("ranger.usersync.source.impl.class","org.apache.ranger.ldapusersync.process.LdapUserGroupBuilder");
  UpgradeCatalog220 upgradeCatalog220=createMockBuilder(UpgradeCatalog220.class).withConstructor(Injector.class).withArgs(mockInjector).addMockedMethod("updateConfigurationPropertiesForCluster",Cluster.class,String.class,Map.class,boolean.class,boolean.class).createMock();
  upgradeCatalog220.updateConfigurationPropertiesForCluster(mockClusterExpected,"ranger-ugsync-site",updates,true,false);
  expectLastCall().once();
  easyMockSupport.replayAll();
  mockInjector.getInstance(UpgradeCatalog220.class).updateRangerUgsyncSiteConfig();
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateStormSiteConfigs() throws Exception {
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createNiceMock(AmbariManagementController.class);
  final ConfigHelper mockConfigHelper=easyMockSupport.createMock(ConfigHelper.class);
  final Clusters mockClusters=easyMockSupport.createStrictMock(Clusters.class);
  final Cluster mockClusterExpected=easyMockSupport.createNiceMock(Cluster.class);
  final Map<String,String> propertiesStormSite=new HashMap<String,String>(){
{
      put("nimbus.monitor.freq.secs","10");
      put("metrics.reporter.register","org.apache.hadoop.metrics2.sink.storm.StormTimelineMetricsReporter");
    }
  }
;
  final Config mockStormSite=easyMockSupport.createNiceMock(Config.class);
  expect(mockStormSite.getProperties()).andReturn(propertiesStormSite).once();
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
      bind(ConfigHelper.class).toInstance(mockConfigHelper);
      bind(Clusters.class).toInstance(mockClusters);
      bind(EntityManager.class).toInstance(entityManager);
      bind(DBAccessor.class).toInstance(createNiceMock(DBAccessor.class));
      bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
    }
  }
);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getClusters()).andReturn(new HashMap<String,Cluster>(){
{
      put("normal",mockClusterExpected);
    }
  }
).once();
  expect(mockClusterExpected.getDesiredConfigByType("storm-site")).andReturn(mockStormSite).atLeastOnce();
  expect(mockStormSite.getProperties()).andReturn(propertiesStormSite).atLeastOnce();
  easyMockSupport.replayAll();
  mockInjector.getInstance(UpgradeCatalog220.class).updateStormConfigs();
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testupdateKnoxTopology_RangerPluginAvailable() throws Exception {
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createNiceMock(AmbariManagementController.class);
  final Clusters mockClusters=easyMockSupport.createStrictMock(Clusters.class);
  final Cluster mockClusterExpected=easyMockSupport.createNiceMock(Cluster.class);
  final Map<String,String> propertiesTopologyWithoutAuthorizationProvider=new HashMap<String,String>(){
{
      put("content","<topology> <gateway>  </gateway> </topology>");
    }
  }
;
  final Map<String,String> propertiesRangerKnoxPluginProperties=new HashMap<String,String>(){
{
      put("ranger-knox-plugin-enabled","Yes");
    }
  }
;
  final Map<String,String> propertiesTopologyExpected=new HashMap<String,String>(){
{
      put("content","<topology> <gateway>  <provider>\n" + "               <role>authorization</role>\n" + "               <name>XASecurePDPKnox</name>\n"+ "               <enabled>true</enabled>\n"+ "          </provider>\n"+ "     </gateway> </topology>\n");
    }
  }
;
  final Config mockTopologyConf=easyMockSupport.createNiceMock(Config.class);
  final Config mockRangerKnoxPluginConf=easyMockSupport.createNiceMock(Config.class);
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
      bind(Clusters.class).toInstance(mockClusters);
      bind(EntityManager.class).toInstance(entityManager);
      bind(DBAccessor.class).toInstance(createNiceMock(DBAccessor.class));
      bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
    }
  }
);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getClusters()).andReturn(new HashMap<String,Cluster>(){
{
      put("cl1",mockClusterExpected);
    }
  }
).atLeastOnce();
  expect(mockClusterExpected.getDesiredConfigByType("topology")).andReturn(mockTopologyConf).atLeastOnce();
  expect(mockClusterExpected.getDesiredConfigByType("ranger-knox-plugin-properties")).andReturn(mockRangerKnoxPluginConf).atLeastOnce();
  expect(mockTopologyConf.getProperties()).andReturn(propertiesTopologyWithoutAuthorizationProvider).once();
  expect(mockRangerKnoxPluginConf.getProperties()).andReturn(propertiesRangerKnoxPluginProperties).once();
  UpgradeCatalog220 upgradeCatalog220=createMockBuilder(UpgradeCatalog220.class).withConstructor(Injector.class).withArgs(mockInjector).addMockedMethod("updateConfigurationPropertiesForCluster",Cluster.class,String.class,Map.class,boolean.class,boolean.class).createMock();
  upgradeCatalog220.updateConfigurationPropertiesForCluster(mockClusterExpected,"topology",propertiesTopologyExpected,true,false);
  expectLastCall().once();
  easyMockSupport.replayAll();
  replay(upgradeCatalog220);
  upgradeCatalog220.updateKnoxTopology();
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testupdateKnoxTopology_ProviderAlreadyExists() throws Exception {
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createNiceMock(AmbariManagementController.class);
  final Clusters mockClusters=easyMockSupport.createStrictMock(Clusters.class);
  final Cluster mockClusterExpected=easyMockSupport.createNiceMock(Cluster.class);
  final Map<String,String> propertiesTopologyWitAuthorizationProvider=new HashMap<String,String>(){
{
      put("content","<topology> <gateway>  <provider>" + "<role>authorization</role>" + "<name>AclsAuthz</name>"+ "<enabled>true</enabled>"+ "</provider>"+ "</gateway> </topology>\n");
    }
  }
;
  final Config mockTopologyConf=easyMockSupport.createNiceMock(Config.class);
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
      bind(Clusters.class).toInstance(mockClusters);
      bind(EntityManager.class).toInstance(entityManager);
      bind(DBAccessor.class).toInstance(createNiceMock(DBAccessor.class));
      bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
    }
  }
);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getClusters()).andReturn(new HashMap<String,Cluster>(){
{
      put("cl1",mockClusterExpected);
    }
  }
).atLeastOnce();
  expect(mockClusterExpected.getDesiredConfigByType("topology")).andReturn(mockTopologyConf).atLeastOnce();
  expect(mockTopologyConf.getProperties()).andReturn(propertiesTopologyWitAuthorizationProvider).once();
  UpgradeCatalog220 upgradeCatalog220=createMockBuilder(UpgradeCatalog220.class).withConstructor(Injector.class).withArgs(mockInjector).addMockedMethod("updateConfigurationPropertiesForCluster",Cluster.class,String.class,Map.class,boolean.class,boolean.class).createMock();
  easyMockSupport.replayAll();
  replay(upgradeCatalog220);
  upgradeCatalog220.updateKnoxTopology();
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecuteDMLUpdates() throws Exception {
  Method updateStormConfigs=UpgradeCatalog220.class.getDeclaredMethod("updateStormConfigs");
  Method updateAMSConfigs=UpgradeCatalog220.class.getDeclaredMethod("updateAMSConfigs");
  Method updateHDFSConfigs=UpgradeCatalog220.class.getDeclaredMethod("updateHDFSConfigs");
  Method updateKafkaConfigs=UpgradeCatalog220.class.getDeclaredMethod("updateKafkaConfigs");
  Method addNewConfigurationsFromXml=AbstractUpgradeCatalog.class.getDeclaredMethod("addNewConfigurationsFromXml");
  Method updateHbaseEnvConfig=UpgradeCatalog220.class.getDeclaredMethod("updateHbaseEnvConfig");
  Method updateFlumeEnvConfig=UpgradeCatalog220.class.getDeclaredMethod("updateFlumeEnvConfig");
  Method updateZookeeperLog4j=UpgradeCatalog220.class.getDeclaredMethod("updateZookeeperLog4j");
  Method updateHadoopEnvConfig=UpgradeCatalog220.class.getDeclaredMethod("updateHadoopEnv");
  Method updateAlertDefinitions=UpgradeCatalog220.class.getDeclaredMethod("updateAlertDefinitions");
  Method updateRangerEnvConfig=UpgradeCatalog220.class.getDeclaredMethod("updateRangerEnvConfig");
  Method updateRangerUgsyncSiteConfig=UpgradeCatalog220.class.getDeclaredMethod("updateRangerUgsyncSiteConfig");
  Method updateHiveConfig=UpgradeCatalog220.class.getDeclaredMethod("updateHiveConfig");
  Method updateAccumuloConfigs=UpgradeCatalog220.class.getDeclaredMethod("updateAccumuloConfigs");
  Method updateKerberosDescriptorArtifacts=AbstractUpgradeCatalog.class.getDeclaredMethod("updateKerberosDescriptorArtifacts");
  Method updateKnoxTopology=UpgradeCatalog220.class.getDeclaredMethod("updateKnoxTopology");
  UpgradeCatalog220 upgradeCatalog220=createMockBuilder(UpgradeCatalog220.class).addMockedMethod(updateAMSConfigs).addMockedMethod(updateHDFSConfigs).addMockedMethod(updateStormConfigs).addMockedMethod(addNewConfigurationsFromXml).addMockedMethod(updateHbaseEnvConfig).addMockedMethod(updateFlumeEnvConfig).addMockedMethod(updateAlertDefinitions).addMockedMethod(updateKafkaConfigs).addMockedMethod(updateZookeeperLog4j).addMockedMethod(updateHadoopEnvConfig).addMockedMethod(updateRangerEnvConfig).addMockedMethod(updateRangerUgsyncSiteConfig).addMockedMethod(updateHiveConfig).addMockedMethod(updateAccumuloConfigs).addMockedMethod(updateKerberosDescriptorArtifacts).addMockedMethod(updateKnoxTopology).createMock();
  upgradeCatalog220.updateHbaseEnvConfig();
  expectLastCall().once();
  upgradeCatalog220.updateFlumeEnvConfig();
  upgradeCatalog220.addNewConfigurationsFromXml();
  expectLastCall().once();
  upgradeCatalog220.updateStormConfigs();
  expectLastCall().once();
  upgradeCatalog220.updateHadoopEnv();
  expectLastCall().once();
  upgradeCatalog220.updateAMSConfigs();
  expectLastCall().once();
  upgradeCatalog220.updateAlertDefinitions();
  expectLastCall().once();
  upgradeCatalog220.updateKafkaConfigs();
  expectLastCall().once();
  upgradeCatalog220.updateHDFSConfigs();
  expectLastCall().once();
  upgradeCatalog220.updateZookeeperLog4j();
  expectLastCall().once();
  upgradeCatalog220.updateRangerEnvConfig();
  expectLastCall().once();
  upgradeCatalog220.updateRangerUgsyncSiteConfig();
  expectLastCall().once();
  upgradeCatalog220.updateHiveConfig();
  expectLastCall().once();
  upgradeCatalog220.updateAccumuloConfigs();
  expectLastCall().once();
  upgradeCatalog220.updateKnoxTopology();
  expectLastCall().once();
  upgradeCatalog220.updateKerberosDescriptorArtifacts();
  expectLastCall().once();
  replay(upgradeCatalog220);
  upgradeCatalog220.executeDMLUpdates();
  verify(upgradeCatalog220);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateFlumeEnvConfig() throws AmbariException {
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createNiceMock(AmbariManagementController.class);
  final Clusters mockClusters=easyMockSupport.createStrictMock(Clusters.class);
  final Cluster mockClusterExpected=easyMockSupport.createNiceMock(Cluster.class);
  final Map<String,String> propertiesFlumeEnv=new HashMap<String,String>(){
{
      put("content","test");
    }
  }
;
  final Config mockFlumeEnv=easyMockSupport.createNiceMock(Config.class);
  expect(mockFlumeEnv.getProperties()).andReturn(propertiesFlumeEnv).once();
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
      bind(Clusters.class).toInstance(mockClusters);
      bind(EntityManager.class).toInstance(entityManager);
      bind(DBAccessor.class).toInstance(createNiceMock(DBAccessor.class));
      bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
    }
  }
);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getClusters()).andReturn(new HashMap<String,Cluster>(){
{
      put("normal",mockClusterExpected);
    }
  }
).atLeastOnce();
  expect(mockClusterExpected.getDesiredConfigByType("flume-env")).andReturn(mockFlumeEnv).atLeastOnce();
  expect(mockFlumeEnv.getProperties()).andReturn(propertiesFlumeEnv).atLeastOnce();
  easyMockSupport.replayAll();
  mockInjector.getInstance(UpgradeCatalog220.class).updateFlumeEnvConfig();
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecuteUpgradePreDMLUpdates() throws Exception {
  Method executeStackPreDMLUpdates=UpgradeCatalog220.class.getDeclaredMethod("executeUpgradePreDMLUpdates");
  Method executeStackUpgradeDDLUpdates=UpgradeCatalog220.class.getDeclaredMethod("executeStackUpgradeDDLUpdates");
  Method bootstrapRepoVersionForHDP21=UpgradeCatalog220.class.getDeclaredMethod("bootstrapRepoVersionForHDP21");
  final UpgradeCatalog220 upgradeCatalog220=createMockBuilder(UpgradeCatalog220.class).addMockedMethod(executeStackUpgradeDDLUpdates).addMockedMethod(bootstrapRepoVersionForHDP21).addMockedMethod(executeStackPreDMLUpdates).createMock();
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(UpgradeCatalog220.class).toInstance(upgradeCatalog220);
      bind(DBAccessor.class).toInstance(createNiceMock(DBAccessor.class));
      bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
      bind(EntityManager.class).toInstance(entityManager);
    }
  }
);
  upgradeCatalog220.executeUpgradePreDMLUpdates();
  expectLastCall().once();
  upgradeCatalog220.executeStackUpgradeDDLUpdates();
  expectLastCall().once();
  upgradeCatalog220.bootstrapRepoVersionForHDP21();
  expectLastCall().once();
  replay(upgradeCatalog220);
  mockInjector.getInstance(UpgradeCatalog220.class).executePreDMLUpdates();
  verify(upgradeCatalog220);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecuteStageDDLUpdates() throws Exception {
  final DBAccessor dbAccessor=createNiceMock(DBAccessor.class);
  dbAccessor.addColumn(eq("stage"),anyObject(DBAccessor.DBColumnInfo.class));
  expectLastCall().times(1);
  replay(dbAccessor);
  Module module=new Module(){
    @Override public void configure(    Binder binder){
      binder.bind(DBAccessor.class).toInstance(dbAccessor);
      binder.bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
      binder.bind(EntityManager.class).toInstance(entityManager);
    }
  }
;
  Injector injector=Guice.createInjector(module);
  UpgradeCatalog220 upgradeCatalog220=injector.getInstance(UpgradeCatalog220.class);
  upgradeCatalog220.executeStageDDLUpdates();
  verify(dbAccessor);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testupdateKnoxTopology_NoRangerPlugin() throws Exception {
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createNiceMock(AmbariManagementController.class);
  final Clusters mockClusters=easyMockSupport.createStrictMock(Clusters.class);
  final Cluster mockClusterExpected=easyMockSupport.createNiceMock(Cluster.class);
  final Map<String,String> propertiesTopologyWithoutAuthorizationProvider=new HashMap<String,String>(){
{
      put("content","<topology> <gateway>  </gateway> </topology>");
    }
  }
;
  final Map<String,String> propertiesTopologyExpected=new HashMap<String,String>(){
{
      put("content","<topology> <gateway>  <provider>\n" + "               <role>authorization</role>\n" + "               <name>AclsAuthz</name>\n"+ "               <enabled>true</enabled>\n"+ "          </provider>\n"+ "     </gateway> </topology>\n");
    }
  }
;
  final Config mockTopologyConf=easyMockSupport.createNiceMock(Config.class);
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
      bind(Clusters.class).toInstance(mockClusters);
      bind(EntityManager.class).toInstance(entityManager);
      bind(DBAccessor.class).toInstance(createNiceMock(DBAccessor.class));
      bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
    }
  }
);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getClusters()).andReturn(new HashMap<String,Cluster>(){
{
      put("cl1",mockClusterExpected);
    }
  }
).atLeastOnce();
  expect(mockClusterExpected.getDesiredConfigByType("topology")).andReturn(mockTopologyConf).atLeastOnce();
  expect(mockTopologyConf.getProperties()).andReturn(propertiesTopologyWithoutAuthorizationProvider).once();
  UpgradeCatalog220 upgradeCatalog220=createMockBuilder(UpgradeCatalog220.class).withConstructor(Injector.class).withArgs(mockInjector).addMockedMethod("updateConfigurationPropertiesForCluster",Cluster.class,String.class,Map.class,boolean.class,boolean.class).createMock();
  upgradeCatalog220.updateConfigurationPropertiesForCluster(mockClusterExpected,"topology",propertiesTopologyExpected,true,false);
  expectLastCall().once();
  easyMockSupport.replayAll();
  replay(upgradeCatalog220);
  upgradeCatalog220.updateKnoxTopology();
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateRangerEnvConfig() throws Exception {
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createNiceMock(AmbariManagementController.class);
  final Clusters mockClusters=easyMockSupport.createStrictMock(Clusters.class);
  final Cluster mockClusterExpected=easyMockSupport.createNiceMock(Cluster.class);
  final Map<String,String> propertiesHiveEnv=new HashMap<String,String>(){
{
      put("hive_security_authorization","Ranger");
    }
  }
;
  final Map<String,String> propertiesRangerHdfsPlugin=new HashMap<String,String>(){
{
      put("ranger-hdfs-plugin-enabled","Yes");
    }
  }
;
  final Map<String,String> propertiesRangerHbasePlugin=new HashMap<String,String>(){
{
      put("ranger-hbase-plugin-enabled","Yes");
    }
  }
;
  final Map<String,String> propertiesRangerKafkaPlugin=new HashMap<String,String>(){
{
      put("ranger-kafka-plugin-enabled","Yes");
    }
  }
;
  final Map<String,String> propertiesRangerYarnPlugin=new HashMap<String,String>(){
{
      put("ranger-yarn-plugin-enabled","No");
    }
  }
;
  final Config mockHiveEnvConf=easyMockSupport.createNiceMock(Config.class);
  final Config mockRangerHdfsPluginConf=easyMockSupport.createNiceMock(Config.class);
  final Config mockRangerHbasePluginConf=easyMockSupport.createNiceMock(Config.class);
  final Config mockRangerKafkaPluginConf=easyMockSupport.createNiceMock(Config.class);
  final Config mockRangerYarnPluginConf=easyMockSupport.createNiceMock(Config.class);
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
      bind(Clusters.class).toInstance(mockClusters);
      bind(EntityManager.class).toInstance(entityManager);
      bind(DBAccessor.class).toInstance(createNiceMock(DBAccessor.class));
      bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
    }
  }
);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getClusters()).andReturn(new HashMap<String,Cluster>(){
{
      put("normal",mockClusterExpected);
    }
  }
).atLeastOnce();
  expect(mockClusterExpected.getDesiredConfigByType("hive-env")).andReturn(mockHiveEnvConf).atLeastOnce();
  expect(mockClusterExpected.getDesiredConfigByType("ranger-hdfs-plugin-properties")).andReturn(mockRangerHdfsPluginConf).atLeastOnce();
  expect(mockClusterExpected.getDesiredConfigByType("ranger-hbase-plugin-properties")).andReturn(mockRangerHbasePluginConf).atLeastOnce();
  expect(mockClusterExpected.getDesiredConfigByType("ranger-kafka-plugin-properties")).andReturn(mockRangerKafkaPluginConf).atLeastOnce();
  expect(mockClusterExpected.getDesiredConfigByType("ranger-yarn-plugin-properties")).andReturn(mockRangerYarnPluginConf).atLeastOnce();
  expect(mockHiveEnvConf.getProperties()).andReturn(propertiesHiveEnv).times(2);
  expect(mockRangerHdfsPluginConf.getProperties()).andReturn(propertiesRangerHdfsPlugin).times(2);
  expect(mockRangerHbasePluginConf.getProperties()).andReturn(propertiesRangerHbasePlugin).times(2);
  expect(mockRangerKafkaPluginConf.getProperties()).andReturn(propertiesRangerKafkaPlugin).times(2);
  expect(mockRangerYarnPluginConf.getProperties()).andReturn(propertiesRangerYarnPlugin).times(2);
  easyMockSupport.replayAll();
  mockInjector.getInstance(UpgradeCatalog220.class).updateRangerEnvConfig();
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateZookeeperLog4jConfig() throws AmbariException {
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createNiceMock(AmbariManagementController.class);
  final Clusters mockClusters=easyMockSupport.createStrictMock(Clusters.class);
  final Cluster mockClusterExpected=easyMockSupport.createNiceMock(Cluster.class);
  final Map<String,String> propertiesZookeeperLog4j=new HashMap<String,String>(){
{
      put("content","log4j.rootLogger=INFO, CONSOLE");
    }
  }
;
  final Config mockZookeeperLog4j=easyMockSupport.createNiceMock(Config.class);
  expect(mockZookeeperLog4j.getProperties()).andReturn(propertiesZookeeperLog4j).once();
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
      bind(Clusters.class).toInstance(mockClusters);
      bind(EntityManager.class).toInstance(entityManager);
      bind(DBAccessor.class).toInstance(createNiceMock(DBAccessor.class));
      bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
    }
  }
);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getClusters()).andReturn(new HashMap<String,Cluster>(){
{
      put("normal",mockClusterExpected);
    }
  }
).atLeastOnce();
  expect(mockClusterExpected.getDesiredConfigByType("zookeeper-log4j")).andReturn(mockZookeeperLog4j).atLeastOnce();
  expect(mockZookeeperLog4j.getProperties()).andReturn(propertiesZookeeperLog4j).atLeastOnce();
  easyMockSupport.replayAll();
  mockInjector.getInstance(UpgradeCatalog220.class).updateZookeeperLog4j();
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateHbaseEnvConfig() throws AmbariException {
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createNiceMock(AmbariManagementController.class);
  final Clusters mockClusters=easyMockSupport.createStrictMock(Clusters.class);
  final Cluster mockClusterExpected=easyMockSupport.createNiceMock(Cluster.class);
  final Map<String,String> propertiesHbaseEnv=new HashMap<String,String>(){
{
      put("content","test");
    }
  }
;
  final Config mockHbaseEnv=easyMockSupport.createNiceMock(Config.class);
  expect(mockHbaseEnv.getProperties()).andReturn(propertiesHbaseEnv).once();
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
      bind(Clusters.class).toInstance(mockClusters);
      bind(EntityManager.class).toInstance(entityManager);
      bind(DBAccessor.class).toInstance(createNiceMock(DBAccessor.class));
      bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
    }
  }
);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getClusters()).andReturn(new HashMap<String,Cluster>(){
{
      put("normal",mockClusterExpected);
    }
  }
).atLeastOnce();
  expect(mockClusterExpected.getCurrentStackVersion()).andReturn(new StackId("HDP","2.2"));
  expect(mockClusterExpected.getDesiredConfigByType("hbase-env")).andReturn(mockHbaseEnv).atLeastOnce();
  expect(mockHbaseEnv.getProperties()).andReturn(propertiesHbaseEnv).atLeastOnce();
  easyMockSupport.replayAll();
  mockInjector.getInstance(UpgradeCatalog220.class).updateHbaseEnvConfig();
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecuteUpgradeDDLUpdates() throws Exception {
  final DBAccessor dbAccessor=createNiceMock(DBAccessor.class);
  dbAccessor.addColumn(eq("upgrade"),anyObject(DBAccessor.DBColumnInfo.class));
  expectLastCall().times(3);
  replay(dbAccessor);
  Module module=new Module(){
    @Override public void configure(    Binder binder){
      binder.bind(DBAccessor.class).toInstance(dbAccessor);
      binder.bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
      binder.bind(EntityManager.class).toInstance(entityManager);
    }
  }
;
  Injector injector=Guice.createInjector(module);
  UpgradeCatalog220 upgradeCatalog220=injector.getInstance(UpgradeCatalog220.class);
  upgradeCatalog220.executeUpgradeDDLUpdates();
  verify(dbAccessor);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateAccumuloConfigs() throws Exception {
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createNiceMock(AmbariManagementController.class);
  final Clusters mockClusters=easyMockSupport.createStrictMock(Clusters.class);
  final Cluster mockClusterExpected=easyMockSupport.createNiceMock(Cluster.class);
  final Map<String,String> originalClientProperties=new HashMap<String,String>();
  final Map<String,String> updatedClientProperties=new HashMap<String,String>(){
{
      put("kerberos.server.primary","{{bare_accumulo_principal}}");
    }
  }
;
  final Config clientConfig=easyMockSupport.createNiceMock(Config.class);
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
      bind(Clusters.class).toInstance(mockClusters);
      bind(EntityManager.class).toInstance(entityManager);
      bind(DBAccessor.class).toInstance(createNiceMock(DBAccessor.class));
      bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
    }
  }
);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getClusters()).andReturn(new HashMap<String,Cluster>(){
{
      put("normal",mockClusterExpected);
    }
  }
).once();
  expect(mockClusterExpected.getSecurityType()).andReturn(SecurityType.KERBEROS).once();
  expect(mockClusterExpected.getDesiredConfigByType("client")).andReturn(clientConfig).atLeastOnce();
  expect(clientConfig.getProperties()).andReturn(originalClientProperties).atLeastOnce();
  UpgradeCatalog220 upgradeCatalog220=createMockBuilder(UpgradeCatalog220.class).withConstructor(Injector.class).withArgs(mockInjector).addMockedMethod("updateConfigurationPropertiesForCluster",Cluster.class,String.class,Map.class,boolean.class,boolean.class).createMock();
  upgradeCatalog220.updateConfigurationPropertiesForCluster(mockClusterExpected,"client",updatedClientProperties,true,false);
  expectLastCall().once();
  easyMockSupport.replayAll();
  replay(upgradeCatalog220);
  upgradeCatalog220.updateAccumuloConfigs();
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.upgrade.UpgradeCatalog221Test </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecuteDMLUpdates() throws Exception {
  Method addNewConfigurationsFromXml=AbstractUpgradeCatalog.class.getDeclaredMethod("addNewConfigurationsFromXml");
  Method updateAlerts=UpgradeCatalog221.class.getDeclaredMethod("updateAlerts");
  Method updateOozieConfigs=UpgradeCatalog221.class.getDeclaredMethod("updateOozieConfigs");
  Method updateTezConfigs=UpgradeCatalog221.class.getDeclaredMethod("updateTezConfigs");
  Method updateRangerKmsDbksConfigs=UpgradeCatalog221.class.getDeclaredMethod("updateRangerKmsDbksConfigs");
  Method updateAMSConfigs=UpgradeCatalog221.class.getDeclaredMethod("updateAMSConfigs");
  UpgradeCatalog221 upgradeCatalog221=createMockBuilder(UpgradeCatalog221.class).addMockedMethod(addNewConfigurationsFromXml).addMockedMethod(updateAlerts).addMockedMethod(updateOozieConfigs).addMockedMethod(updateTezConfigs).addMockedMethod(updateRangerKmsDbksConfigs).addMockedMethod(updateAMSConfigs).createMock();
  upgradeCatalog221.addNewConfigurationsFromXml();
  expectLastCall().once();
  upgradeCatalog221.updateAlerts();
  expectLastCall().once();
  upgradeCatalog221.updateOozieConfigs();
  expectLastCall().once();
  upgradeCatalog221.updateTezConfigs();
  expectLastCall().once();
  upgradeCatalog221.updateRangerKmsDbksConfigs();
  expectLastCall().once();
  upgradeCatalog221.updateAMSConfigs();
  expectLastCall().once();
  replay(upgradeCatalog221);
  upgradeCatalog221.executeDMLUpdates();
  verify(upgradeCatalog221);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateAlertDefinitions(){
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  long clusterId=1;
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createNiceMock(AmbariManagementController.class);
  final AlertDefinitionDAO mockAlertDefinitionDAO=easyMockSupport.createNiceMock(AlertDefinitionDAO.class);
  final Clusters mockClusters=easyMockSupport.createStrictMock(Clusters.class);
  final Cluster mockClusterExpected=easyMockSupport.createNiceMock(Cluster.class);
  final AlertDefinitionEntity mockAmsZookeeperProcessAlertDefinitionEntity=easyMockSupport.createNiceMock(AlertDefinitionEntity.class);
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
      bind(Clusters.class).toInstance(mockClusters);
      bind(EntityManager.class).toInstance(entityManager);
      bind(AlertDefinitionDAO.class).toInstance(mockAlertDefinitionDAO);
      bind(DBAccessor.class).toInstance(createNiceMock(DBAccessor.class));
      bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
    }
  }
);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getClusters()).andReturn(new HashMap<String,Cluster>(){
{
      put("normal",mockClusterExpected);
    }
  }
).atLeastOnce();
  expect(mockClusterExpected.getClusterId()).andReturn(clusterId).anyTimes();
  expect(mockAlertDefinitionDAO.findByName(eq(clusterId),eq("ams_metrics_collector_zookeeper_server_process"))).andReturn(mockAmsZookeeperProcessAlertDefinitionEntity).atLeastOnce();
  mockAlertDefinitionDAO.remove(mockAmsZookeeperProcessAlertDefinitionEntity);
  expectLastCall().once();
  easyMockSupport.replayAll();
  mockInjector.getInstance(UpgradeCatalog221.class).updateAlerts();
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateAmsHbaseSiteConfigs() throws Exception {
  Map<String,String> clusterEnvProperties=new HashMap<String,String>();
  Map<String,String> amsHbaseSecuritySite=new HashMap<String,String>();
  Map<String,String> newPropertiesAmsHbaseSite=new HashMap<String,String>();
  amsHbaseSecuritySite.put("zookeeper.znode.parent","/ams-hbase-unsecure");
  newPropertiesAmsHbaseSite.put("zookeeper.znode.parent","/ams-hbase-unsecure");
  testAmsHbaseSiteUpdates(new HashMap<String,String>(),newPropertiesAmsHbaseSite,amsHbaseSecuritySite,clusterEnvProperties);
  amsHbaseSecuritySite.put("zookeeper.znode.parent","/ams-hbase-secure");
  newPropertiesAmsHbaseSite.put("zookeeper.znode.parent","/ams-hbase-secure");
  testAmsHbaseSiteUpdates(new HashMap<String,String>(),newPropertiesAmsHbaseSite,amsHbaseSecuritySite,clusterEnvProperties);
  clusterEnvProperties.put("security_enabled","false");
  amsHbaseSecuritySite.put("zookeeper.znode.parent","");
  newPropertiesAmsHbaseSite.put("zookeeper.znode.parent","/ams-hbase-unsecure");
  testAmsHbaseSiteUpdates(new HashMap<String,String>(),newPropertiesAmsHbaseSite,amsHbaseSecuritySite,clusterEnvProperties);
  clusterEnvProperties.put("security_enabled","true");
  amsHbaseSecuritySite.put("zookeeper.znode.parent","/hbase");
  newPropertiesAmsHbaseSite.put("zookeeper.znode.parent","/ams-hbase-secure");
  testAmsHbaseSiteUpdates(new HashMap<String,String>(),newPropertiesAmsHbaseSite,amsHbaseSecuritySite,clusterEnvProperties);
  amsHbaseSecuritySite.put("hbase.zookeeper.property.clientPort","61181");
  newPropertiesAmsHbaseSite.put("hbase.zookeeper.property.clientPort","{{zookeeper_clientPort}}");
  testAmsHbaseSiteUpdates(Collections.singletonMap("hbase.zookeeper.property.clientPort","61181"),newPropertiesAmsHbaseSite,amsHbaseSecuritySite,clusterEnvProperties);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateOozieConfigs() throws Exception {
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createNiceMock(AmbariManagementController.class);
  final Clusters mockClusters=easyMockSupport.createStrictMock(Clusters.class);
  final Cluster mockClusterExpected=easyMockSupport.createNiceMock(Cluster.class);
  final Config oozieSiteConf=easyMockSupport.createNiceMock(Config.class);
  final Map<String,String> propertiesOozieSite=new HashMap<String,String>(){
{
      put("oozie.service.HadoopAccessorService.hadoop.configurations","*=/etc/hadoop/conf");
    }
  }
;
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
      bind(Clusters.class).toInstance(mockClusters);
      bind(EntityManager.class).toInstance(entityManager);
      bind(DBAccessor.class).toInstance(createNiceMock(DBAccessor.class));
      bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
    }
  }
);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getClusters()).andReturn(new HashMap<String,Cluster>(){
{
      put("normal",mockClusterExpected);
    }
  }
).atLeastOnce();
  expect(mockClusterExpected.getDesiredConfigByType("oozie-site")).andReturn(oozieSiteConf).atLeastOnce();
  expect(oozieSiteConf.getProperties()).andReturn(propertiesOozieSite).once();
  UpgradeCatalog221 upgradeCatalog221=createMockBuilder(UpgradeCatalog221.class).withConstructor(Injector.class).withArgs(mockInjector).addMockedMethod("updateConfigurationPropertiesForCluster",Cluster.class,String.class,Map.class,boolean.class,boolean.class).createMock();
  upgradeCatalog221.updateConfigurationPropertiesForCluster(mockClusterExpected,"oozie-site",Collections.singletonMap("oozie.service.HadoopAccessorService.hadoop.configurations","*={{hadoop_conf_dir}}"),true,false);
  expectLastCall().once();
  easyMockSupport.replayAll();
  replay(upgradeCatalog221);
  upgradeCatalog221.updateOozieConfigs();
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateRangerKmsDbksConfigs() throws Exception {
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createNiceMock(AmbariManagementController.class);
  final Clusters mockClusters=easyMockSupport.createStrictMock(Clusters.class);
  final Cluster mockClusterExpected=easyMockSupport.createNiceMock(Cluster.class);
  final Map<String,String> propertiesRangerKmsDbConfigs=new HashMap<String,String>();
  propertiesRangerKmsDbConfigs.put("DB_FLAVOR","MYSQL");
  propertiesRangerKmsDbConfigs.put("db_host","localhost");
  propertiesRangerKmsDbConfigs.put("db_name","testdb");
  final Config mockrangerKmsDbConfigs=easyMockSupport.createNiceMock(Config.class);
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
      bind(Clusters.class).toInstance(mockClusters);
      bind(EntityManager.class).toInstance(entityManager);
      bind(DBAccessor.class).toInstance(createNiceMock(DBAccessor.class));
      bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
    }
  }
);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getClusters()).andReturn(new HashMap<String,Cluster>(){
{
      put("normal",mockClusterExpected);
    }
  }
).atLeastOnce();
  expect(mockClusterExpected.getDesiredConfigByType("kms-properties")).andReturn(mockrangerKmsDbConfigs).atLeastOnce();
  expect(mockrangerKmsDbConfigs.getProperties()).andReturn(propertiesRangerKmsDbConfigs).times(3);
  easyMockSupport.replayAll();
  mockInjector.getInstance(UpgradeCatalog221.class).updateRangerKmsDbksConfigs();
  easyMockSupport.verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateTezConfigs() throws Exception {
  EasyMockSupport easyMockSupport=new EasyMockSupport();
  final AmbariManagementController mockAmbariManagementController=easyMockSupport.createNiceMock(AmbariManagementController.class);
  final Clusters mockClusters=easyMockSupport.createStrictMock(Clusters.class);
  final Cluster mockClusterExpected=easyMockSupport.createNiceMock(Cluster.class);
  final Config tezSiteConf=easyMockSupport.createNiceMock(Config.class);
  final Map<String,String> propertiesTezSite=new HashMap<String,String>(){
{
      put("tez.counters.max","2000");
      put("tez.counters.max.groups","1000");
    }
  }
;
  StackId stackId=new StackId("HDP","2.3");
  final Injector mockInjector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(mockAmbariManagementController);
      bind(Clusters.class).toInstance(mockClusters);
      bind(EntityManager.class).toInstance(entityManager);
      bind(DBAccessor.class).toInstance(createNiceMock(DBAccessor.class));
      bind(OsFamily.class).toInstance(createNiceMock(OsFamily.class));
    }
  }
);
  expect(mockAmbariManagementController.getClusters()).andReturn(mockClusters).once();
  expect(mockClusters.getClusters()).andReturn(new HashMap<String,Cluster>(){
{
      put("normal",mockClusterExpected);
    }
  }
).atLeastOnce();
  expect(mockClusterExpected.getDesiredConfigByType("tez-site")).andReturn(tezSiteConf).atLeastOnce();
  expect(tezSiteConf.getProperties()).andReturn(propertiesTezSite).once();
  expect(mockClusterExpected.getCurrentStackVersion()).andReturn(stackId).once();
  UpgradeCatalog221 upgradeCatalog221=createMockBuilder(UpgradeCatalog221.class).withConstructor(Injector.class).withArgs(mockInjector).addMockedMethod("updateConfigurationPropertiesForCluster",Cluster.class,String.class,Map.class,boolean.class,boolean.class).createMock();
  Map<String,String> updates=new HashMap<String,String>();
  updates.put("tez.counters.max","10000");
  updates.put("tez.counters.max.groups","3000");
  upgradeCatalog221.updateConfigurationPropertiesForCluster(mockClusterExpected,"tez-site",updates,true,false);
  expectLastCall().once();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.upgrade.UpgradeCatalog222Test </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecuteDMLUpdates() throws Exception {
  Method addNewConfigurationsFromXml=AbstractUpgradeCatalog.class.getDeclaredMethod("addNewConfigurationsFromXml");
  Method updateAlerts=UpgradeCatalog222.class.getDeclaredMethod("updateAlerts");
  Method updateStormConfigs=UpgradeCatalog222.class.getDeclaredMethod("updateStormConfigs");
  UpgradeCatalog222 upgradeCatalog222=createMockBuilder(UpgradeCatalog222.class).addMockedMethod(addNewConfigurationsFromXml).addMockedMethod(updateAlerts).addMockedMethod(updateStormConfigs).createMock();
  upgradeCatalog222.addNewConfigurationsFromXml();
  expectLastCall().once();
  upgradeCatalog222.updateAlerts();
  expectLastCall().once();
  upgradeCatalog222.updateStormConfigs();
  expectLastCall().once();
  replay(upgradeCatalog222);
  upgradeCatalog222.executeDMLUpdates();
  verify(upgradeCatalog222);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.upgrade.UpgradeCatalog230Test </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecuteDMLUpdates() throws Exception {
  final DBAccessor dbAccessor=injector.getInstance(DBAccessor.class);
  UpgradeCatalog230 upgradeCatalog=injector.getInstance(UpgradeCatalog230.class);
  final ResourceTypeEntity ambariResourceTypeEntity=createMock(ResourceTypeEntity.class);
  expect(ambariResourceTypeEntity.getId()).andReturn(1).anyTimes();
  final ResourceTypeEntity clusterResourceTypeEntity=createMock(ResourceTypeEntity.class);
  expect(clusterResourceTypeEntity.getId()).andReturn(2).anyTimes();
  final ResourceTypeEntity viewResourceTypeEntity=createMock(ResourceTypeEntity.class);
  expect(viewResourceTypeEntity.getId()).andReturn(3).anyTimes();
  final ResourceTypeDAO resourceTypeDAO=injector.getInstance(ResourceTypeDAO.class);
  expect(resourceTypeDAO.findByName("AMBARI")).andReturn(ambariResourceTypeEntity).anyTimes();
  expect(resourceTypeDAO.findByName("CLUSTER")).andReturn(clusterResourceTypeEntity).anyTimes();
  expect(resourceTypeDAO.findByName("VIEW")).andReturn(viewResourceTypeEntity).anyTimes();
  final PermissionEntity viewUserPermissionEntity=createMock(PermissionEntity.class);
  expect(viewUserPermissionEntity.getId()).andReturn(1).anyTimes();
  final PermissionEntity ambariAdministratorPermissionEntity=createMock(PermissionEntity.class);
  expect(ambariAdministratorPermissionEntity.getId()).andReturn(2).anyTimes();
  final PermissionEntity clusterUserPermissionEntity=createMock(PermissionEntity.class);
  expect(clusterUserPermissionEntity.getId()).andReturn(3).anyTimes();
  final PermissionEntity clusterOperatorPermissionEntity=createMock(PermissionEntity.class);
  expect(clusterOperatorPermissionEntity.getId()).andReturn(4).anyTimes();
  final PermissionEntity clusterAdministratorPermissionEntity=createMock(PermissionEntity.class);
  expect(clusterAdministratorPermissionEntity.getId()).andReturn(5).anyTimes();
  final PermissionEntity serviceAdministratorPermissionEntity=createMock(PermissionEntity.class);
  expect(serviceAdministratorPermissionEntity.getId()).andReturn(6).anyTimes();
  final PermissionEntity serviceOperatorPermissionEntity=createMock(PermissionEntity.class);
  expect(serviceOperatorPermissionEntity.getId()).andReturn(7).anyTimes();
  final PermissionDAO permissionDAO=injector.getInstance(PermissionDAO.class);
  expect(permissionDAO.findPermissionByNameAndType("VIEW.USER",viewResourceTypeEntity)).andReturn(viewUserPermissionEntity).anyTimes();
  expect(permissionDAO.findPermissionByNameAndType("AMBARI.ADMINISTRATOR",ambariResourceTypeEntity)).andReturn(ambariAdministratorPermissionEntity).anyTimes();
  expect(permissionDAO.findPermissionByNameAndType("CLUSTER.USER",clusterResourceTypeEntity)).andReturn(clusterUserPermissionEntity).anyTimes();
  expect(permissionDAO.findPermissionByNameAndType("CLUSTER.OPERATOR",clusterResourceTypeEntity)).andReturn(clusterOperatorPermissionEntity).anyTimes();
  expect(permissionDAO.findPermissionByNameAndType("CLUSTER.ADMINISTRATOR",clusterResourceTypeEntity)).andReturn(clusterAdministratorPermissionEntity).anyTimes();
  expect(permissionDAO.findPermissionByNameAndType("SERVICE.ADMINISTRATOR",clusterResourceTypeEntity)).andReturn(serviceAdministratorPermissionEntity).anyTimes();
  expect(permissionDAO.findPermissionByNameAndType("SERVICE.OPERATOR",clusterResourceTypeEntity)).andReturn(serviceOperatorPermissionEntity).anyTimes();
  String updateQueryPattern;
  updateQueryPattern="UPDATE adminpermission SET permission_label='%s' WHERE permission_id=%d";
  expect(dbAccessor.executeUpdate(String.format(updateQueryPattern,"Administrator",PermissionEntity.AMBARI_ADMINISTRATOR_PERMISSION))).andReturn(1).once();
  expect(dbAccessor.executeUpdate(String.format(updateQueryPattern,"Cluster User",PermissionEntity.CLUSTER_USER_PERMISSION))).andReturn(1).once();
  expect(dbAccessor.executeUpdate(String.format(updateQueryPattern,"Cluster Administrator",PermissionEntity.CLUSTER_ADMINISTRATOR_PERMISSION))).andReturn(1).once();
  expect(dbAccessor.executeUpdate(String.format(updateQueryPattern,"View User",PermissionEntity.VIEW_USER_PERMISSION))).andReturn(1).once();
  updateQueryPattern="UPDATE adminpermission SET permission_name='%s' WHERE permission_id=%d";
  expect(dbAccessor.executeUpdate(String.format(updateQueryPattern,PermissionEntity.AMBARI_ADMINISTRATOR_PERMISSION_NAME,PermissionEntity.AMBARI_ADMINISTRATOR_PERMISSION))).andReturn(1).once();
  expect(dbAccessor.executeUpdate(String.format(updateQueryPattern,PermissionEntity.CLUSTER_USER_PERMISSION_NAME,PermissionEntity.CLUSTER_USER_PERMISSION))).andReturn(1).once();
  expect(dbAccessor.executeUpdate(String.format(updateQueryPattern,PermissionEntity.CLUSTER_ADMINISTRATOR_PERMISSION_NAME,PermissionEntity.CLUSTER_ADMINISTRATOR_PERMISSION))).andReturn(1).once();
  expect(dbAccessor.executeUpdate(String.format(updateQueryPattern,PermissionEntity.VIEW_USER_PERMISSION_NAME,PermissionEntity.VIEW_USER_PERMISSION))).andReturn(1).once();
  replayAll();
  upgradeCatalog.executeDMLUpdates();
  verifyAll();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.upgrade.UpgradeCatalog240Test </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExecuteDMLUpdates() throws Exception {
  Method addNewConfigurationsFromXml=AbstractUpgradeCatalog.class.getDeclaredMethod("addNewConfigurationsFromXml");
  Method updateAlerts=UpgradeCatalog240.class.getDeclaredMethod("updateAlerts");
  UpgradeCatalog240 upgradeCatalog240=createMockBuilder(UpgradeCatalog240.class).addMockedMethod(addNewConfigurationsFromXml).addMockedMethod(updateAlerts).createMock();
  upgradeCatalog240.addNewConfigurationsFromXml();
  expectLastCall().once();
  upgradeCatalog240.updateAlerts();
  expectLastCall().once();
  replay(upgradeCatalog240);
  upgradeCatalog240.executeDMLUpdates();
  verify(upgradeCatalog240);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.upgrade.UpgradeTest </h4><pre class="type-14 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Is not executed with the test suite
- Executes methods or other tests from the same test unit
"></span><br>
@Test @Ignore public void testUpgrade() throws Exception {
  try {
    dropDatabase();
  }
 catch (  SQLException ignored) {
  }
  String targetVersion=getLastVersion();
  injector=Guice.createInjector(new ControllerModule(properties));
  LOG.info("Testing upgrade from version {} to {}",sourceVersion,targetVersion);
  createSourceDatabase(sourceVersion);
  performUpgrade(targetVersion);
  testUpgradedSchema();
  dropDatabase();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.utils.TestVersionUtils </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testVersionCompareError(){
  expectedException.expect(IllegalArgumentException.class);
  expectedException.expectMessage("version2 cannot be empty");
  VersionUtils.areVersionsEqual("1.2.3","",false);
  expectedException.expect(IllegalArgumentException.class);
  expectedException.expectMessage("version1 cannot be null");
  VersionUtils.areVersionsEqual(null,"",false);
  expectedException.expect(IllegalArgumentException.class);
  expectedException.expectMessage("version2 cannot be null");
  VersionUtils.areVersionsEqual("",null,false);
  expectedException.expect(IllegalArgumentException.class);
  expectedException.expectMessage("version1 cannot be empty");
  VersionUtils.compareVersions("","1",2);
  expectedException.expect(IllegalArgumentException.class);
  expectedException.expectMessage("maxLengthToCompare cannot be less than 0");
  VersionUtils.compareVersions("2","1",-1);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.view.ViewArchiveUtilityTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testValidateConfig() throws Exception {
  ViewArchiveUtility utility=new ViewArchiveUtility();
  InputStream configStream=getClass().getClassLoader().getResourceAsStream("test_view.xml");
  utility.validateConfig(configStream);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.view.ViewExtractorTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testExtractViewArchive() throws Exception {
  ResourceTypeEntity resourceTypeEntity=new ResourceTypeEntity();
  resourceTypeEntity.setId(10);
  resourceTypeEntity.setName("MY_VIEW{1.0.0}");
  ViewEntity viewDefinition=ViewEntityTest.getViewEntity();
  viewDefinition.setResourceType(resourceTypeEntity);
  expect(configuration.getViewExtractionThreadPoolCoreSize()).andReturn(2).anyTimes();
  expect(configuration.getViewExtractionThreadPoolMaxSize()).andReturn(3).anyTimes();
  expect(configuration.getViewExtractionThreadPoolTimeout()).andReturn(10000L).anyTimes();
  if (System.getProperty("os.name").contains("Windows")) {
    expect(viewArchive.getAbsolutePath()).andReturn("\\var\\lib\\ambari-server\\resources\\views\\work\\MY_VIEW{1.0.0}").anyTimes();
  }
 else {
    expect(viewArchive.getAbsolutePath()).andReturn("/var/lib/ambari-server/resources/views/work/MY_VIEW{1.0.0}").anyTimes();
  }
  expect(archiveDir.exists()).andReturn(false);
  if (System.getProperty("os.name").contains("Windows")) {
    expect(archiveDir.getAbsolutePath()).andReturn("\\var\\lib\\ambari-server\\resources\\views\\work\\MY_VIEW{1.0.0}").anyTimes();
  }
 else {
    expect(archiveDir.getAbsolutePath()).andReturn("/var/lib/ambari-server/resources/views/work/MY_VIEW{1.0.0}").anyTimes();
  }
  expect(archiveDir.mkdir()).andReturn(true);
  expect(archiveDir.toURI()).andReturn(new URI("file:./"));
  expect(metaInfDir.mkdir()).andReturn(true);
  expect(viewJarFile.getNextJarEntry()).andReturn(jarEntry);
  expect(viewJarFile.getNextJarEntry()).andReturn(null);
  expect(jarEntry.getName()).andReturn("view.xml");
  expect(viewJarFile.read(anyObject(byte[].class))).andReturn(10);
  expect(viewJarFile.read(anyObject(byte[].class))).andReturn(-1);
  fos.write(anyObject(byte[].class),eq(0),eq(10));
  fos.flush();
  fos.close();
  viewJarFile.closeEntry();
  viewJarFile.close();
  expect(classesDir.exists()).andReturn(true);
  expect(classesDir.toURI()).andReturn(new URI("file:./"));
  expect(libDir.exists()).andReturn(true);
  expect(libDir.listFiles()).andReturn(new File[]{fileEntry});
  expect(fileEntry.toURI()).andReturn(new URI("file:./"));
  replay(extractedArchiveDir,viewArchive,archiveDir,entryFile,classesDir,libDir,metaInfDir,viewJarFile,jarEntry,fos,configuration,viewDir,fileEntry,viewDAO);
  ViewExtractor viewExtractor=getViewExtractor(viewDefinition);
  viewExtractor.extractViewArchive(viewDefinition,viewArchive,archiveDir);
  verify(extractedArchiveDir,viewArchive,archiveDir,entryFile,classesDir,libDir,metaInfDir,viewJarFile,jarEntry,fos,configuration,viewDir,fileEntry,viewDAO);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.server.view.ViewRegistryTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testReadViewArchives() throws Exception {
  testReadViewArchives(false,false,false);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testReadViewArchives_badArchive() throws Exception {
  testReadViewArchives(true,false,false);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testReadViewArchives_viewAutoInstanceCreation() throws Exception {
  testReadViewArchives(false,false,true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testOnAmbariEventServiceCreation_missingClusterService() throws Exception {
  Set<String> serviceNames=new HashSet<String>();
  serviceNames.add("STORM");
  serviceNames.add("HIVE");
  testOnAmbariEventServiceCreation(AUTO_VIEW_XML,serviceNames,false);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testReadViewArchives_removeUndeployed() throws Exception {
  testReadViewArchives(false,true,false);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testOnAmbariEventServiceCreation_widcardStackVersion() throws Exception {
  Set<String> serviceNames=new HashSet<String>();
  serviceNames.add("HDFS");
  serviceNames.add("HIVE");
  testOnAmbariEventServiceCreation(AUTO_VIEW_WILD_STACK_XML,serviceNames,true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testOnAmbariEventServiceCreation() throws Exception {
  Set<String> serviceNames=new HashSet<String>();
  serviceNames.add("HDFS");
  serviceNames.add("HIVE");
  testOnAmbariEventServiceCreation(AUTO_VIEW_XML,serviceNames,true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testOnAmbariEventServiceCreation_mismatchStackVersion() throws Exception {
  Set<String> serviceNames=new HashSet<String>();
  serviceNames.add("HDFS");
  serviceNames.add("HIVE");
  testOnAmbariEventServiceCreation(AUTO_VIEW_BAD_STACK_XML,serviceNames,false);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.shell.commands.ConfigCommandsTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSetConfigForFile() throws IOException {
  ConfigType configType=mock(ConfigType.class);
  File file=new File("src/test/resources/core-site.xml");
  when(configType.getName()).thenReturn(CORE_SITE);
  configCommands.setConfig(configType,"",file);
  Map<String,String> config=new HashMap<String,String>();
  config.put("fs.trash.interval","350");
  config.put("ipc.client.connection.maxidletime","30000");
  verify(client).modifyConfiguration(CORE_SITE,config);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testModifyConfig() throws IOException {
  ConfigType configType=mock(ConfigType.class);
  Map<String,Map<String,String>> mockResult=mock(Map.class);
  Map<String,String> config=new HashMap<String,String>();
  config.put("fs.trash.interval","350");
  config.put("ipc.client.connection.maxidletime","30000");
  when(configType.getName()).thenReturn(CORE_SITE);
  when(mockResult.get(CORE_SITE)).thenReturn(config);
  when(client.getServiceConfigMap(CORE_SITE)).thenReturn(mockResult);
  configCommands.modifyConfig(configType,"fs.trash.interval","510");
  Map<String,String> config2=new HashMap<String,String>();
  config2.put("fs.trash.interval","510");
  config2.put("ipc.client.connection.maxidletime","30000");
  verify(client).modifyConfiguration(CORE_SITE,config2);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testShowConfig(){
  ConfigType configType=mock(ConfigType.class);
  Map<String,Map<String,String>> mockResult=mock(Map.class);
  when(configType.getName()).thenReturn(CORE_SITE);
  when(client.getServiceConfigMap(anyString())).thenReturn(mockResult);
  when(mockResult.get(CORE_SITE)).thenReturn(new HashMap<String,String>());
  configCommands.showConfig(configType);
  verify(client).getServiceConfigMap(CORE_SITE);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.shell.commands.ServiceCommandsTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testStopService(){
  serviceCommands.stopServices(new Service("ZOOKEEPER"));
  verify(client).stopService("ZOOKEEPER");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testStartService(){
  serviceCommands.startServices(new Service("ZOOKEEPER"));
  verify(client).startService("ZOOKEEPER");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testStartAllServices(){
  serviceCommands.startServices(null);
  verify(client).startAllServices();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testStopAllServices(){
  serviceCommands.stopServices(null);
  verify(client).stopAllServices();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.view.ViewXmlTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testValidateViewXmls() throws Exception {
  List<File> viewXmlFiles=new LinkedList<File>();
  File ambariViewsDir=new File(".");
  File xsdFile=new File("./target/classes/view.xsd");
  for (  File file : getViewXmlFiles(viewXmlFiles,ambariViewsDir.listFiles())) {
    validateViewXml(file,xsdFile);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.view.filebrowser.FilebrowserTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testStreamingDownloadGzipName() throws Exception {
  String gzipDir="/tmp/testGzip1";
  createDirectoryWithFiles(gzipDir);
  validateDownloadZipName(new String[]{gzipDir},"testGzip1.zip");
  validateDownloadZipName(new String[]{gzipDir + "/testGzip11.txt"},"testGzip11.txt.zip");
  String gzipDir2="/tmp/testGzip2";
  createDirectoryWithFiles(gzipDir2);
  validateDownloadZipName(new String[]{gzipDir,gzipDir2},"hdfs.zip");
  validateDownloadZipName(new String[]{gzipDir + "/testGzip11",gzipDir + "/testGzip12"},"hdfs.zip");
  validateDownloadZipName(new String[]{gzipDir + "/testGzip11",gzipDir2 + "/testGzip21"},"hdfs.zip");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testStreamingGzip() throws Exception {
  String gzipDir="/tmp/testGzip";
  createDirectoryWithFiles(gzipDir);
  DownloadService.DownloadRequest dr=new DownloadService.DownloadRequest();
  dr.entries=new String[]{gzipDir};
  Response result=fileBrowserService.download().downloadGZip(dr);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.view.hive.backgroundjobs.BackgroundJobControllerTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testInterrupt() throws Exception {
  BackgroundJobController backgroundJobController=new BackgroundJobController(context);
  HangingRunnable runnable=new HangingRunnable();
  backgroundJobController.startJob("key",runnable);
  assertStateIs(backgroundJobController,"key",Thread.State.RUNNABLE);
  backgroundJobController.interrupt("key");
  assertStateIs(backgroundJobController,"key",Thread.State.TERMINATED);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testStartJob() throws Exception {
  BackgroundJobController backgroundJobController=new BackgroundJobController(context);
  HangingRunnable runnable=new HangingRunnable();
  backgroundJobController.startJob("key",runnable);
  assertStateIs(backgroundJobController,"key",Thread.State.RUNNABLE);
  runnable.goOn();
  assertStateIs(backgroundJobController,"key",Thread.State.TERMINATED);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.view.hive.client.ConnectionTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAskPasswordWithPassword() throws Exception {
  HashMap<String,String> auth=new HashMap<String,String>();
  auth.put("auth","NONE");
  auth.put("password","${ask_password}");
  thrown.expect(HiveClientException.class);
  thrown.expectMessage("Connection refused");
  new Connection("127.0.0.1",42420,auth,"ambari-qa","password");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testOpenConnection() throws Exception {
  HashMap<String,String> auth=new HashMap<String,String>();
  auth.put("auth","NONE");
  thrown.expect(HiveClientException.class);
  thrown.expectMessage("Connection refused");
  new Connection("127.0.0.1",42420,auth,"ambari-qa",null);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testOpenConnectionMessage() throws Exception {
  HashMap<String,String> auth=new HashMap<String,String>();
  auth.put("auth","NONE");
  thrown.expect(HiveClientException.class);
  thrown.expectMessage("H020 Could not establish connection to");
  new Connection("127.0.0.1",42420,auth,"ambari-qa",null);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAskPasswordWithoutPassword() throws Exception {
  HashMap<String,String> auth=new HashMap<String,String>();
  auth.put("auth","NONE");
  auth.put("password","${ask_password}");
  thrown.expect(HiveAuthRequiredException.class);
  new Connection("127.0.0.1",42420,auth,"ambari-qa",null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.view.hive.client.UtilsTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testVerifySuccessWithHiveInvalidQueryException() throws Exception {
  String msg="Error in compiling";
  String comment="H110 Unable to submit statement";
  TStatus status=createMockTStatus(10000,msg,TStatusCode.ERROR_STATUS);
  thrown.expect(HiveInvalidQueryException.class);
  thrown.expectMessage(msg);
  Utils.verifySuccess(status,comment);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testVerifySuccessWithHiveErrorStatusException() throws Exception {
  String msg="Error in compiling";
  String comment="H110 Unable to submit statement";
  TStatus status=createMockTStatus(40000,msg,TStatusCode.ERROR_STATUS);
  thrown.expect(HiveErrorStatusException.class);
  thrown.expectMessage(String.format("%s. %s",comment,msg));
  Utils.verifySuccess(status,comment);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.view.hive.resources.files.FileServiceTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateFile() throws IOException, InterruptedException {
  Response response=createFile("/tmp/testCreateFile","testCreateFile content");
  ServiceTestUtils.assertHTTPResponseNoContent(response);
  assertHDFSFileContains("/tmp/testCreateFile","testCreateFile content");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDeleteFile() throws IOException, InterruptedException {
  createFile("/tmp/testDeleteFile","some content");
  assertHDFSFileExists("/tmp/testDeleteFile");
  Response response=fileService.deleteFile("/tmp/testDeleteFile");
  ServiceTestUtils.assertHTTPResponseNoContent(response);
  assertHDFSFileNotExists("/tmp/testDeleteFile");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateFileContent() throws Exception {
  createFile("/tmp/testUpdateFileContent","some content");
  FileService.FileResourceRequest updateRequest=new FileService.FileResourceRequest();
  updateRequest.file=new FileResource();
  updateRequest.file.setFileContent("new content");
  Response response=fileService.updateFile(updateRequest,"/tmp/testUpdateFileContent");
  ServiceTestUtils.assertHTTPResponseNoContent(response);
  assertHDFSFileContains("/tmp/testUpdateFileContent","new content");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateExistingFileForbidden() throws IOException, InterruptedException {
  createFile("/tmp/testOverwriteFile","original content");
  thrown.expect(ServiceFormattedException.class);
  createFile("/tmp/testOverwriteFile","new content");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testFileNotFound() throws IOException, InterruptedException {
  assertHDFSFileNotExists("/tmp/notExistentFile");
  thrown.expect(NotFoundFormattedException.class);
  fileService.getFilePage("/tmp/notExistentFile",2L);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.view.hive.resources.jobs.ATSParserTest </h4><pre class="type-19 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testBase64() throws Exception {
  System.out.println(Arrays.toString(Base64.decodeBase64("HWvpjKiERZCy_le4s-odOQ")));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.view.hive.resources.jobs.JobLDAPServiceTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void createJobNoPasswordProvided() throws Exception {
  UserLocal.dropAllConnections(Connection.class);
  Map<String,String> properties=new HashMap<String,String>();
  properties.put("hive.auth","auth=NONE;password=${ask_password}");
  context=makeContext(properties,"ambari-qa-1","MyHive");
  replay(context);
  jobService=getService(JobService.class,handler,context);
  setupHdfsApiMock();
  JobService.JobRequest request=new JobService.JobRequest();
  request.job=new JobImpl();
  request.job.setForcedContent("Hello world");
  thrown.expect(HiveAuthRequiredException.class);
  jobService.create(request,ServiceTestUtils.getResponseWithLocation(),ServiceTestUtils.getDefaultUriInfo());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void createJobPasswordProvided() throws Exception {
  Map<String,String> properties=new HashMap<String,String>();
  properties.put("hive.auth","auth=NONE;password=${ask_password}");
  context=makeContext(properties,"ambari-qa-3","MyHive");
  replay(context);
  jobService=getService(JobService.class,handler,context);
  setupHdfsApiMock();
  JobService.JobRequest request=new JobService.JobRequest();
  request.job=new JobImpl();
  request.job.setForcedContent("Hello world");
  JobService.AuthRequest authRequest=new JobService.AuthRequest();
  authRequest.password="ok";
  thrown.expect(new ExpectedJSONErrorMessage("Connection refused"));
  jobService.setupPassword(authRequest);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void createJobNoPasswordRequired() throws Exception {
  Map<String,String> properties=new HashMap<String,String>();
  properties.put("hive.auth","auth=NONE");
  context=makeContext(properties,"ambari-qa-2","MyHive");
  replay(context);
  jobService=getService(JobService.class,handler,context);
  setupHdfsApiMock();
  JobService.JobRequest request=new JobService.JobRequest();
  request.job=new JobImpl();
  request.job.setForcedContent("Hello world");
  thrown.expect(new ExpectedJSONErrorMessage("Connection refused"));
  jobService.create(request,ServiceTestUtils.getResponseWithLocation(),ServiceTestUtils.getDefaultUriInfo());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.view.hive.resources.jobs.JobServiceTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void createJobNoSource() throws IOException, InterruptedException {
  HdfsApi hdfsApi=createNiceMock(HdfsApi.class);
  expect(hdfsApi.mkdir(anyString())).andReturn(true).anyTimes();
  jobService.getSharedObjectsFactory().setInstance(HdfsApi.class,hdfsApi);
  replay(hdfsApi);
  JobService.JobRequest request=new JobService.JobRequest();
  request.job=new JobImpl();
  request.job.setForcedContent(null);
  request.job.setQueryId(null);
  thrown.expect(BadRequestFormattedException.class);
  jobService.create(request,ServiceTestUtils.getResponseWithLocation(),ServiceTestUtils.getDefaultUriInfo());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.view.hive.resources.resources.FileResourceServiceTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void resourceNotFound(){
  thrown.expect(NotFoundFormattedException.class);
  resourceService.getOne("4242");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.view.hive.resources.savedQueries.SavedQueryServiceTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void notFound(){
  thrown.expect(NotFoundFormattedException.class);
  savedQueryService.getOne("4242");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.view.hive.resources.udfs.UDFServiceTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void udfNotFound(){
  thrown.expect(NotFoundFormattedException.class);
  udfService.getOne("4242");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.view.pig.test.FileTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testFileNotFound() throws IOException, InterruptedException {
  thrown.expect(NotFoundFormattedException.class);
  fileService.getFile("/tmp/notExistentFile",2L,null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.view.pig.test.JobTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSubmitJobFailed() throws Exception {
  HdfsApi hdfsApi=createNiceMock(HdfsApi.class);
  hdfsApi.copy(eq("/tmp/script.pig"),startsWith("/tmp/.pigjobs/"));
  EasyMock.expectLastCall().andThrow(new HdfsApiException("Copy failed"));
  ByteArrayOutputStream do_stream=new ByteArrayOutputStream();
  FSDataOutputStream stream=new FSDataOutputStream(do_stream);
  expect(hdfsApi.create(anyString(),eq(true))).andReturn(stream);
  replay(hdfsApi);
  UserLocalObjects.setHdfsApi(hdfsApi,context);
  TempletonApi api=createNiceMock(TempletonApi.class);
  UserLocalObjects.setTempletonApi(api,context);
  TempletonApi.JobData data=api.new JobData();
  expect(api.runPigQuery((File)anyObject(),anyString(),eq("-useHCatalog"))).andReturn(data);
  replay(api);
  thrown.expect(ServiceFormattedException.class);
  doCreateJob("Test","/tmp/script.pig","-useHCatalog",jobService);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSubmitJobNoTitle() throws Exception {
  HdfsApi hdfsApi=createNiceMock(HdfsApi.class);
  hdfsApi.copy(eq("/tmp/script.pig"),startsWith("/tmp/.pigjobs/"));
  ByteArrayOutputStream do_stream=new ByteArrayOutputStream();
  FSDataOutputStream stream=new FSDataOutputStream(do_stream);
  expect(hdfsApi.create(anyString(),eq(true))).andReturn(stream);
  replay(hdfsApi);
  UserLocalObjects.setHdfsApi(hdfsApi,context);
  TempletonApi api=createNiceMock(TempletonApi.class);
  UserLocalObjects.setTempletonApi(api,context);
  TempletonApi.JobData data=api.new JobData();
  expect(api.runPigQuery((File)anyObject(),anyString(),eq("-useHCatalog"))).andReturn(data);
  replay(api);
  thrown.expect(BadRequestFormattedException.class);
  doCreateJob(null,"/tmp/1.pig","-useHCatalog",jobService);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSubmitJobNoFile() throws Exception {
  HdfsApi hdfsApi=createNiceMock(HdfsApi.class);
  hdfsApi.copy(eq("/tmp/script.pig"),startsWith("/tmp/.pigjobs/"));
  ByteArrayOutputStream do_stream=new ByteArrayOutputStream();
  FSDataOutputStream stream=new FSDataOutputStream(do_stream);
  expect(hdfsApi.create(anyString(),eq(true))).andReturn(stream);
  replay(hdfsApi);
  UserLocalObjects.setHdfsApi(hdfsApi,context);
  TempletonApi api=createNiceMock(TempletonApi.class);
  UserLocalObjects.setTempletonApi(api,context);
  TempletonApi.JobData data=api.new JobData();
  expect(api.runPigQuery((File)anyObject(),anyString(),eq("-useHCatalog"))).andReturn(data);
  replay(api);
  thrown.expect(ServiceFormattedException.class);
  doCreateJob("Test",null,"-useHCatalog",jobService);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSubmitJobTempletonError() throws Exception {
  HdfsApi hdfsApi=createNiceMock(HdfsApi.class);
  hdfsApi.copy(eq("/tmp/script.pig"),startsWith("/tmp/.pigjobs/"));
  ByteArrayOutputStream do_stream=new ByteArrayOutputStream();
  FSDataOutputStream stream=new FSDataOutputStream(do_stream);
  expect(hdfsApi.create(anyString(),eq(true))).andReturn(stream);
  replay(hdfsApi);
  UserLocalObjects.setHdfsApi(hdfsApi,context);
  TempletonApi api=createNiceMock(TempletonApi.class);
  UserLocalObjects.setTempletonApi(api,context);
  TempletonApi.JobData data=api.new JobData();
  expect(api.runPigQuery((File)anyObject(),anyString(),eq("-useHCatalog"))).andThrow(new IOException());
  replay(api);
  thrown.expect(ServiceFormattedException.class);
  doCreateJob("Test","/tmp/script.pig","-useHCatalog",jobService);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.view.pig.test.ScriptTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void scriptNotFound(){
  thrown.expect(NotFoundFormattedException.class);
  scriptService.getScript("4242");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.view.pig.test.ScriptTestHDFSUnmanaged </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void createScriptAutoCreateNoScriptsPath() throws IOException, InterruptedException {
  Map<String,String> properties=new HashMap<String,String>();
  baseDir=new File(DATA_DIRECTORY).getAbsoluteFile();
  pigStorageFile=new File("./target/BasePigTest/storage.dat").getAbsoluteFile();
  properties.put("dataworker.storagePath",pigStorageFile.toString());
  properties.put("webhdfs.url",hdfsURI);
  expect(context.getProperties()).andReturn(properties).anyTimes();
  expect(context.getUsername()).andReturn("ambari-qa").anyTimes();
  replay(handler,context);
  scriptService=getService(ScriptService.class,handler,context);
  thrown.expect(MisconfigurationFormattedException.class);
  doCreateScript("Test",null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.view.pig.test.ScriptTestUnmanaged </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void createScriptAutoCreateNoDefaultFS(){
  Map<String,String> properties=new HashMap<String,String>();
  properties.put("dataworker.storagePath",pigStorageFile.toString());
  properties.put("scripts.dir","/tmp/.pigscripts");
  expect(context.getProperties()).andReturn(properties).anyTimes();
  expect(context.getUsername()).andReturn("ambari-qa").anyTimes();
  replay(handler,context);
  scriptService=getService(ScriptService.class,handler,context);
  thrown.expect(HdfsApiException.class);
  doCreateScript("Test",null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.view.pig.test.UDFTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void udfNotFound(){
  thrown.expect(NotFoundFormattedException.class);
  udfService.getUDF("4242");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.view.utils.ambari.RemoteClusterTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetRemoteClusterNoCredentials() throws Exception {
  ViewContext viewContext=createNiceMock(ViewContext.class);
  Map<String,String> instanceProperties=new HashMap<String,String>();
  instanceProperties.put(AmbariApi.AMBARI_SERVER_URL_INSTANCE_PROPERTY,AMBARI_CLUSTER_REST_URL);
  expect(viewContext.getProperties()).andReturn(instanceProperties).anyTimes();
  replay(viewContext);
  thrown.expect(AmbariApiException.class);
  AmbariApi ambariApi=new AmbariApi(viewContext);
  Cluster cluster=ambariApi.getRemoteCluster();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.view.utils.ambari.ServicesTest </h4><pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AmbariApiException.class) public void shouldThrowExceptionWhenAllUrlCannotBeReached() throws Exception {
  Map<String,String> map=new HashMap<>();
  map.put("yarn.resourcemanager.url",HTTP_RM_URL1 + ", " + HTTP_RM_URL2);
  ViewContext viewContext=getViewContext(map);
  AmbariApi ambariApi=createNiceMock(AmbariApi.class);
  URLStreamProvider urlStreamProvider=createNiceMock(URLStreamProvider.class);
  expect(ambariApi.isClusterAssociated()).andReturn(false);
  expect(viewContext.getURLStreamProvider()).andReturn(urlStreamProvider).anyTimes();
  expect(urlStreamProvider.readFrom(eq(HTTP_RM_URL1 + RM_INFO_API_ENDPOINT),eq("GET"),anyString(),EasyMock.<Map<String,String>>anyObject())).andThrow(new IOException());
  expect(urlStreamProvider.readFrom(eq(HTTP_RM_URL2 + RM_INFO_API_ENDPOINT),eq("GET"),anyString(),EasyMock.<Map<String,String>>anyObject())).andThrow(new IOException());
  replayAll();
  Services services=new Services(ambariApi,viewContext);
  services.getRMUrl();
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AmbariApiException.class) public void shouldCheckForEmptyATSUrlInCustomConfig(){
  ViewContext viewContext=getViewContext(new HashMap<String,String>());
  AmbariApi ambariApi=createNiceMock(AmbariApi.class);
  expect(ambariApi.isClusterAssociated()).andReturn(false);
  replay(viewContext);
  Services services=new Services(ambariApi,viewContext);
  services.getTimelineServerUrl();
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AmbariApiException.class) public void shouldThrowExceptionIfNoProtocolInCustomMode(){
  Map<String,String> map=new HashMap<>();
  map.put("yarn.timeline-server.url",RM_URL1_HOST_PORT);
  ViewContext viewContext=getViewContext(map);
  AmbariApi ambariApi=createNiceMock(AmbariApi.class);
  expect(ambariApi.isClusterAssociated()).andReturn(false);
  replay(viewContext);
  Services services=new Services(ambariApi,viewContext);
  services.getTimelineServerUrl();
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AmbariApiException.class) public void shouldCheckIfAllRMUrlsHaveProtocolInCustomConfig(){
  Map<String,String> map=new HashMap<>();
  map.put("yarn.resourcemanager.url",HTTP_RM_URL1 + "," + RM_URL2_HOST_PORT);
  ViewContext viewContext=getViewContext(map);
  AmbariApi ambariApi=createNiceMock(AmbariApi.class);
  expect(ambariApi.isClusterAssociated()).andReturn(false);
  replay(viewContext);
  Services services=new Services(ambariApi,viewContext);
  services.getRMUrl();
}

</code></pre>

<br>
<pre class="type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AmbariApiException.class) public void shouldCheckForEmptyYarnRMUrlInCustomConfig(){
  ViewContext viewContext=getViewContext(new HashMap<String,String>());
  AmbariApi ambariApi=createNiceMock(AmbariApi.class);
  expect(ambariApi.isClusterAssociated()).andReturn(false);
  replay(viewContext);
  Services services=new Services(ambariApi,viewContext);
  services.getRMUrl();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ambari.view.utils.ambari.URLStreamProviderBasicAuthTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testReadFrom1() throws Exception {
  URLStreamProvider urlStreamProvider=createNiceMock(URLStreamProvider.class);
  expect(urlStreamProvider.readFrom(anyString(),anyString(),(InputStream)anyObject(),HeadersMatcher.mapContainsAuthHeader())).andReturn(null);
  URLStreamProviderBasicAuth urlStreamProviderBasicAuth=new URLStreamProviderBasicAuth(urlStreamProvider,"user","pass");
  replay(urlStreamProvider);
  urlStreamProviderBasicAuth.readFrom("http://example.com","GET",(InputStream)null,null);
  urlStreamProviderBasicAuth.readFrom("http://example.com","GET",(InputStream)null,new HashMap<String,String>());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testReadFrom() throws Exception {
  URLStreamProvider urlStreamProvider=createNiceMock(URLStreamProvider.class);
  expect(urlStreamProvider.readFrom(anyString(),anyString(),anyString(),HeadersMatcher.mapContainsAuthHeader())).andReturn(null);
  URLStreamProviderBasicAuth urlStreamProviderBasicAuth=new URLStreamProviderBasicAuth(urlStreamProvider,"user","pass");
  replay(urlStreamProvider);
  urlStreamProviderBasicAuth.readFrom("http://example.com","GET",(String)null,null);
  urlStreamProviderBasicAuth.readFrom("http://example.com","GET",(String)null,new HashMap<String,String>());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testReadAsCurrent1() throws Exception {
  URLStreamProvider urlStreamProvider=createNiceMock(URLStreamProvider.class);
  expect(urlStreamProvider.readAsCurrent(anyString(),anyString(),(InputStream)anyObject(),HeadersMatcher.mapContainsAuthHeader())).andReturn(null);
  URLStreamProviderBasicAuth urlStreamProviderBasicAuth=new URLStreamProviderBasicAuth(urlStreamProvider,"user","pass");
  replay(urlStreamProvider);
  urlStreamProviderBasicAuth.readAsCurrent("http://example.com","GET",(InputStream)null,null);
  urlStreamProviderBasicAuth.readAsCurrent("http://example.com","GET",(InputStream)null,new HashMap<String,String>());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testReadAsCurrent() throws Exception {
  URLStreamProvider urlStreamProvider=createNiceMock(URLStreamProvider.class);
  expect(urlStreamProvider.readAsCurrent(anyString(),anyString(),anyString(),HeadersMatcher.mapContainsAuthHeader())).andReturn(null);
  URLStreamProviderBasicAuth urlStreamProviderBasicAuth=new URLStreamProviderBasicAuth(urlStreamProvider,"user","pass");
  replay(urlStreamProvider);
  urlStreamProviderBasicAuth.readAsCurrent("http://example.com","GET",(String)null,null);
  urlStreamProviderBasicAuth.readAsCurrent("http://example.com","GET",(String)null,new HashMap<String,String>());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testReadAs1() throws Exception {
  URLStreamProvider urlStreamProvider=createNiceMock(URLStreamProvider.class);
  expect(urlStreamProvider.readAs(anyString(),anyString(),(InputStream)anyObject(),HeadersMatcher.mapContainsAuthHeader(),anyString())).andReturn(null);
  URLStreamProviderBasicAuth urlStreamProviderBasicAuth=new URLStreamProviderBasicAuth(urlStreamProvider,"user","pass");
  replay(urlStreamProvider);
  urlStreamProviderBasicAuth.readAs("http://example.com","GET",(InputStream)null,null,"admin");
  urlStreamProviderBasicAuth.readAs("http://example.com","GET",(InputStream)null,new HashMap<String,String>(),"admin");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testReadAs() throws Exception {
  URLStreamProvider urlStreamProvider=createNiceMock(URLStreamProvider.class);
  expect(urlStreamProvider.readAs(anyString(),anyString(),anyString(),HeadersMatcher.mapContainsAuthHeader(),anyString())).andReturn(null);
  URLStreamProviderBasicAuth urlStreamProviderBasicAuth=new URLStreamProviderBasicAuth(urlStreamProvider,"user","pass");
  replay(urlStreamProvider);
  urlStreamProviderBasicAuth.readAs("http://example.com","GET",(String)null,null,"admin");
  urlStreamProviderBasicAuth.readAs("http://example.com","GET",(String)null,new HashMap<String,String>(),"admin");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.metrics2.sink.SqlServerSinkHadoop1Test </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Override @Test public void testPutMetrics() throws Exception {
  SubsetConfiguration configuration=createNiceMock(SubsetConfiguration.class);
  Connection connection=createNiceMock(Connection.class);
  CallableStatement cstmt=createNiceMock(CallableStatement.class);
  MetricsRecord record=createNiceMock(MetricsRecord.class);
  Metric metric=createNiceMock(Metric.class);
  expect(configuration.getParent()).andReturn(null);
  expect(configuration.getPrefix()).andReturn("prefix");
  expect(configuration.getString("databaseUrl")).andReturn("url");
  expect(record.context()).andReturn("context");
  expect(record.name()).andReturn("typeName");
  expect(record.tags()).andReturn(new HashSet<MetricsTag>());
  expect(record.timestamp()).andReturn(9999L);
  expect(record.metrics()).andReturn(Collections.singleton(metric));
  expect(metric.name()).andReturn("name").anyTimes();
  expect(metric.value()).andReturn(1234);
  expect(connection.prepareCall("{call dbo.uspGetMetricRecord(?, ?, ?, ?, ?, ?, ?, ?, ?)}")).andReturn(cstmt);
  cstmt.setNString(1,"context");
  cstmt.setNString(2,"typeName");
  cstmt.setNString(eq(3),(String)anyObject());
  cstmt.setNString(eq(4),(String)anyObject());
  cstmt.setNString(eq(5),(String)anyObject());
  cstmt.setNString(6,"prefix");
  cstmt.setNString(7,"sourceName:prefix");
  cstmt.setLong(8,9999L);
  cstmt.registerOutParameter(9,java.sql.Types.BIGINT);
  expect(cstmt.execute()).andReturn(true);
  expect(cstmt.getLong(9)).andReturn(99L);
  expect(cstmt.wasNull()).andReturn(false);
  expect(connection.prepareCall("{call dbo.uspInsertMetricValue(?, ?, ?)}")).andReturn(cstmt);
  cstmt.setLong(1,99L);
  cstmt.setNString(2,"name");
  cstmt.setNString(3,"1234");
  expect(cstmt.execute()).andReturn(true);
  replay(configuration,connection,cstmt,record,metric);
  SqlServerSink sink=createInstance();
  sink.init(configuration);
  SQLServerDriver.setConnection(connection);
  sink.putMetrics(record);
  verify(configuration,connection,cstmt,record,metric);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.metrics2.sink.SqlServerSinkHadoop2Test </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Override @Test public void testPutMetrics() throws Exception {
  SubsetConfiguration configuration=createNiceMock(SubsetConfiguration.class);
  Connection connection=createNiceMock(Connection.class);
  CallableStatement cstmt=createNiceMock(CallableStatement.class);
  MetricsRecord record=createNiceMock(MetricsRecord.class);
  AbstractMetric metric=createNiceMock(AbstractMetric.class);
  expect(configuration.getParent()).andReturn(null);
  expect(configuration.getPrefix()).andReturn("prefix");
  expect(configuration.getString("databaseUrl")).andReturn("url");
  expect(record.context()).andReturn("context");
  expect(record.name()).andReturn("typeName");
  expect(record.tags()).andReturn(new HashSet<MetricsTag>());
  expect(record.timestamp()).andReturn(9999L);
  expect(record.metrics()).andReturn(Collections.singleton(metric));
  expect(metric.name()).andReturn("name").anyTimes();
  expect(metric.value()).andReturn(1234);
  expect(connection.prepareCall("{call dbo.uspGetMetricRecord(?, ?, ?, ?, ?, ?, ?, ?, ?)}")).andReturn(cstmt);
  cstmt.setNString(1,"context");
  cstmt.setNString(2,"typeName");
  cstmt.setNString(eq(3),(String)anyObject());
  cstmt.setNString(eq(4),(String)anyObject());
  cstmt.setNString(eq(5),(String)anyObject());
  cstmt.setNString(6,"prefix");
  cstmt.setNString(7,"sourceName:prefix");
  cstmt.setLong(8,9999L);
  cstmt.registerOutParameter(9,java.sql.Types.BIGINT);
  expect(cstmt.execute()).andReturn(true);
  expect(cstmt.getLong(9)).andReturn(99L);
  expect(cstmt.wasNull()).andReturn(false);
  expect(connection.prepareCall("{call dbo.uspInsertMetricValue(?, ?, ?)}")).andReturn(cstmt);
  cstmt.setLong(1,99L);
  cstmt.setNString(2,"name");
  cstmt.setNString(3,"1234");
  expect(cstmt.execute()).andReturn(true);
  replay(configuration,connection,cstmt,record,metric);
  SqlServerSink sink=createInstance();
  sink.init(configuration);
  SQLServerDriver.setConnection(connection);
  sink.putMetrics(record);
  verify(configuration,connection,cstmt,record,metric);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.metrics2.sink.SqlServerSinkTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testInsertMetricValue() throws Exception {
  SubsetConfiguration configuration=createNiceMock(SubsetConfiguration.class);
  Connection connection=createNiceMock(Connection.class);
  CallableStatement cstmt=createNiceMock(CallableStatement.class);
  expect(configuration.getParent()).andReturn(null);
  expect(configuration.getPrefix()).andReturn("prefix");
  expect(configuration.getString("databaseUrl")).andReturn("url");
  expect(connection.prepareCall("{call dbo.uspInsertMetricValue(?, ?, ?)}")).andReturn(cstmt);
  cstmt.setLong(1,9999L);
  cstmt.setNString(2,"metricName");
  cstmt.setNString(3,"metricValue");
  expect(cstmt.execute()).andReturn(true);
  replay(configuration,connection,cstmt);
  SqlServerSink sink=createInstance();
  sink.init(configuration);
  SQLServerDriver.setConnection(connection);
  sink.insertMetricValue(9999L,"metricName","metricValue");
  verify(configuration,connection,cstmt);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testInit() throws Exception {
  SubsetConfiguration configuration=createNiceMock(SubsetConfiguration.class);
  expect(configuration.getParent()).andReturn(null);
  expect(configuration.getPrefix()).andReturn("prefix");
  expect(configuration.getString("databaseUrl")).andReturn("url");
  replay(configuration);
  SqlServerSink sink=createInstance();
  sink.init(configuration);
  verify(configuration);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testFlush() throws Exception {
  SubsetConfiguration configuration=createNiceMock(SubsetConfiguration.class);
  Connection connection=createNiceMock(Connection.class);
  expect(configuration.getParent()).andReturn(null);
  expect(configuration.getPrefix()).andReturn("prefix");
  expect(configuration.getString("databaseUrl")).andReturn("url");
  connection.close();
  replay(configuration,connection);
  SqlServerSink sink=createInstance();
  sink.init(configuration);
  SQLServerDriver.setConnection(connection);
  sink.ensureConnection();
  sink.flush();
  verify(configuration,connection);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.metrics2.sink.flume.FlumeTimelineMetricsSinkTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testNumericMetricSubmission() throws InterruptedException {
  FlumeTimelineMetricsSink flumeTimelineMetricsSink=new FlumeTimelineMetricsSink();
  FlumeTimelineMetricsSink.TimelineMetricsCollector collector=flumeTimelineMetricsSink.new TimelineMetricsCollector();
  mockStatic(JMXPollUtil.class);
  EasyMock.expect(JMXPollUtil.getAllMBeans()).andReturn(Collections.singletonMap("component1",Collections.singletonMap("key1","42"))).once();
  replay(JMXPollUtil.class);
  collector.run();
  verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testMetricsRetrievalExceptionTolerance() throws InterruptedException {
  FlumeTimelineMetricsSink flumeTimelineMetricsSink=new FlumeTimelineMetricsSink();
  FlumeTimelineMetricsSink.TimelineMetricsCollector collector=flumeTimelineMetricsSink.new TimelineMetricsCollector();
  mockStatic(JMXPollUtil.class);
  EasyMock.expect(JMXPollUtil.getAllMBeans()).andThrow(new RuntimeException("Failed to retrieve Flume Properties")).once();
  replay(JMXPollUtil.class);
  collector.run();
  verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testMonitorRestart() throws InterruptedException {
  FlumeTimelineMetricsSink flumeTimelineMetricsSink=new FlumeTimelineMetricsSink();
  TimelineMetricsCache timelineMetricsCache=getTimelineMetricsCache(flumeTimelineMetricsSink);
  flumeTimelineMetricsSink.setPollFrequency(1);
  mockStatic(JMXPollUtil.class);
  EasyMock.expect(JMXPollUtil.getAllMBeans()).andReturn(Collections.singletonMap("component1",Collections.singletonMap("key1","42"))).once();
  flumeTimelineMetricsSink.start();
  flumeTimelineMetricsSink.stop();
  replay(JMXPollUtil.class,timelineMetricsCache);
  flumeTimelineMetricsSink.start();
  Thread.sleep(5);
  flumeTimelineMetricsSink.stop();
  verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testNonNumericMetricMetricExclusion() throws InterruptedException {
  FlumeTimelineMetricsSink flumeTimelineMetricsSink=new FlumeTimelineMetricsSink();
  FlumeTimelineMetricsSink.TimelineMetricsCollector collector=flumeTimelineMetricsSink.new TimelineMetricsCollector();
  mockStatic(JMXPollUtil.class);
  EasyMock.expect(JMXPollUtil.getAllMBeans()).andReturn(Collections.singletonMap("component1",Collections.singletonMap("key1","value1"))).once();
  replay(JMXPollUtil.class);
  collector.run();
  verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test @PrepareForTest({Configuration.class,FlumeTimelineMetricsSink.class}) public void testGettingFqdn() throws Exception {
  FlumeTimelineMetricsSink flumeTimelineMetricsSink=new FlumeTimelineMetricsSink();
  Configuration config=createNiceMock(Configuration.class);
  expect(config.getProperty(anyString(),anyString())).andReturn("60").anyTimes();
  expect(config.getProperty(anyString())).andReturn("60").anyTimes();
  replay(config);
  PowerMock.expectNew(Configuration.class,anyString()).andReturn(config);
  replay(Configuration.class);
  InetAddress address=createNiceMock(InetAddress.class);
  expect(address.getHostName()).andReturn("hostname.domain").once();
  replay(address);
  mockStatic(InetAddress.class);
  expect(InetAddress.getLocalHost()).andReturn(address).once();
  replay(InetAddress.class);
  flumeTimelineMetricsSink.configure(new Context());
  verifyAll();
  resetAll();
  PowerMock.expectNew(Configuration.class,anyString()).andReturn(config);
  replay(Configuration.class);
  address=createNiceMock(InetAddress.class);
  expect(address.getHostName()).andReturn("hostname").once();
  expect(address.getCanonicalHostName()).andReturn("hostname.domain").once();
  replay(address);
  mockStatic(InetAddress.class);
  expect(InetAddress.getLocalHost()).andReturn(address).times(2);
  replay(InetAddress.class);
  flumeTimelineMetricsSink.configure(new Context());
  verifyAll();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.metrics2.sink.kafka.KafkaTimelineMetricsReporterTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testReporterStartStop(){
  mockStatic(Metrics.class);
  EasyMock.expect(Metrics.defaultRegistry()).andReturn(registry).times(2);
  TimelineMetricsCache timelineMetricsCache=getTimelineMetricsCache(kafkaTimelineMetricsReporter);
  kafkaTimelineMetricsReporter.setMetricsCache(timelineMetricsCache);
  replay(Metrics.class,timelineMetricsCache);
  kafkaTimelineMetricsReporter.init(props);
  kafkaTimelineMetricsReporter.stopReporter();
  verifyAll();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.metrics2.sink.kafka.ScheduledReporterTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void pollsPeriodically() throws Exception {
  Thread.sleep(500);
  verify(reporter,times(2)).report(set(list));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.metrics2.sink.storm.StormTimelineMetricsSinkTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testNumericMetricMetricSubmission() throws InterruptedException, IOException {
  StormTimelineMetricsSink stormTimelineMetricsSink=new StormTimelineMetricsSink();
  TimelineMetricsCache timelineMetricsCache=createNiceMock(TimelineMetricsCache.class);
  expect(timelineMetricsCache.getTimelineMetric("key1")).andReturn(new TimelineMetric()).once();
  timelineMetricsCache.putTimelineMetric(anyObject(TimelineMetric.class));
  expectLastCall().once();
  stormTimelineMetricsSink.setMetricsCache(timelineMetricsCache);
  replay(timelineMetricsCache);
  stormTimelineMetricsSink.handleDataPoints(new IMetricsConsumer.TaskInfo("localhost",1234,"testComponent",42,20000L,60),Collections.singleton(new IMetricsConsumer.DataPoint("key1",42)));
  verify(timelineMetricsCache);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testNonNumericMetricMetricExclusion() throws InterruptedException, IOException {
  StormTimelineMetricsSink stormTimelineMetricsSink=new StormTimelineMetricsSink();
  TimelineMetricsCache timelineMetricsCache=createNiceMock(TimelineMetricsCache.class);
  stormTimelineMetricsSink.setMetricsCache(timelineMetricsCache);
  replay(timelineMetricsCache);
  stormTimelineMetricsSink.handleDataPoints(new IMetricsConsumer.TaskInfo("localhost",1234,"testComponent",42,20000L,60),Collections.singleton(new IMetricsConsumer.DataPoint("key1","value1")));
  verify(timelineMetricsCache);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.metrics2.sink.timeline.HadoopTimelineMetricsSinkTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test @PrepareForTest({URL.class,OutputStream.class}) public void testPutMetrics() throws Exception {
  HadoopTimelineMetricsSink sink=new HadoopTimelineMetricsSink();
  SubsetConfiguration conf=createNiceMock(SubsetConfiguration.class);
  expect(conf.getString(eq("slave.host.name"))).andReturn("testhost").anyTimes();
  expect(conf.getParent()).andReturn(null).anyTimes();
  expect(conf.getPrefix()).andReturn("service").anyTimes();
  expect(conf.getString(eq(COLLECTOR_HOST_PROPERTY))).andReturn("localhost:63188").anyTimes();
  expect(conf.getString(eq("serviceName-prefix"),eq(""))).andReturn("").anyTimes();
  expect(conf.getInt(eq(MAX_METRIC_ROW_CACHE_SIZE),anyInt())).andReturn(10).anyTimes();
  expect(conf.getInt(eq(METRICS_SEND_INTERVAL),anyInt())).andReturn(1000).anyTimes();
  conf.setListDelimiter(eq(','));
  expectLastCall().anyTimes();
  expect(conf.getKeys()).andReturn(new Iterator(){
    @Override public boolean hasNext(){
      return false;
    }
    @Override public Object next(){
      return null;
    }
    @Override public void remove(){
    }
  }
).once();
  AbstractMetric metric=createNiceMock(AbstractMetric.class);
  expect(metric.name()).andReturn("metricName").anyTimes();
  expect(metric.value()).andReturn(9.5687).anyTimes();
  expect(metric.type()).andReturn(MetricType.COUNTER).anyTimes();
  MetricsRecord record=createNiceMock(MetricsRecord.class);
  expect(record.name()).andReturn("testName").anyTimes();
  expect(record.context()).andReturn("testContext").anyTimes();
  expect(record.timestamp()).andAnswer(new IAnswer<Long>(){
    @Override public Long answer() throws Throwable {
      return System.currentTimeMillis();
    }
  }
).anyTimes();
  expect(record.metrics()).andReturn(Arrays.asList(metric)).anyTimes();
  replay(conf,record,metric);
  sink.init(conf);
  sink.putMetrics(record);
  Thread.sleep(1500L);
  sink.putMetrics(record);
  verify(conf,record,metric);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.yarn.server.applicationhistoryservice.TestFileSystemApplicationHistoryStore </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testMissingContainerHistoryData() throws IOException {
  testWriteHistoryData(3,true,false);
  testReadHistoryData(3,true,false);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testReadWriteHistoryData() throws IOException {
  testWriteHistoryData(5);
  testReadHistoryData(5);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testMissingApplicationAttemptHistoryData() throws IOException {
  testWriteHistoryData(3,false,true);
  testReadHistoryData(3,false,true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.yarn.server.applicationhistoryservice.metrics.loadsimulator.net.TestRestMetricsSender </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testPushMetricsFailed() throws Exception {
  final UrlService svcMock=createStrictMock(UrlService.class);
  final String payload="test";
  final String expectedResponse="mockResponse";
  RestMetricsSender sender=new RestMetricsSender("expectedHostName"){
    @Override protected UrlService getConnectedUrlService() throws IOException {
      return svcMock;
    }
  }
;
  expect(svcMock.send(anyString())).andThrow(new IOException());
  svcMock.disconnect();
  expectLastCall();
  replay(svcMock);
  String response=sender.pushMetrics(payload);
  verify(svcMock);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.yarn.server.applicationhistoryservice.metrics.loadsimulator.net.TestStdOutMetricsSender </h4><pre class="type-19 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testPushMetrics() throws Exception {
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  PrintStream out=new PrintStream(baos);
  StdOutMetricsSender sender=new StdOutMetricsSender("expectedHostName",out);
  sender.pushMetrics("test");
  System.out.println(baos.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.yarn.server.applicationhistoryservice.metrics.timeline.FunctionTest </h4><pre class="type-16 type-14 type-3 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
- Executes methods or other tests from the same test unit
"></span><br>
@Ignore @Test(expected=Function.FunctionFormatException.class) public void testNotAFunction() throws Exception {
  fromMetricName("bytes._not._afunction");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.yarn.server.applicationhistoryservice.metrics.timeline.TimelineMetricStoreWatcherTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRunNegative() throws Exception {
  TimelineMetricStore metricStore=createNiceMock(TimelineMetricStore.class);
  expect(metricStore.putMetrics(anyObject(TimelineMetrics.class))).andReturn(new TimelinePutResponse());
  expect(metricStore.getTimelineMetric(anyObject(String.class),EasyMock.<List<String>>anyObject(),anyObject(String.class),anyObject(String.class),anyObject(Long.class),anyObject(Long.class),eq(Precision.SECONDS),eq(1))).andReturn(null).anyTimes();
  String msg="Error getting metrics from TimelineMetricStore. " + "Shutting down by TimelineMetricStoreWatcher.";
  mockStatic(ExitUtil.class);
  ExitUtil.terminate(-1,msg);
  expectLastCall().anyTimes();
  replayAll();
  TimelineMetricStoreWatcher timelineMetricStoreWatcher=new TimelineMetricStoreWatcher(metricStore,new TimelineMetricConfiguration());
  timelineMetricStoreWatcher.run();
  timelineMetricStoreWatcher.run();
  timelineMetricStoreWatcher.run();
  verifyAll();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRunPositive() throws Exception {
  TimelineMetricStore metricStore=createNiceMock(TimelineMetricStore.class);
  expect(metricStore.putMetrics(anyObject(TimelineMetrics.class))).andReturn(new TimelinePutResponse());
  expect(metricStore.getTimelineMetric(anyObject(String.class),EasyMock.<List<String>>anyObject(),anyObject(String.class),anyObject(String.class),anyObject(Long.class),anyObject(Long.class),eq(Precision.SECONDS),eq(1))).andReturn(new TimelineMetric()).anyTimes();
  mockStatic(ExitUtil.class);
  replay(metricStore);
  TimelineMetricStoreWatcher timelineMetricStoreWatcher=new TimelineMetricStoreWatcher(metricStore,new TimelineMetricConfiguration());
  timelineMetricStoreWatcher.run();
  timelineMetricStoreWatcher.run();
  timelineMetricStoreWatcher.run();
  verify(metricStore);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.yarn.server.applicationhistoryservice.timeline.TestGenericObjectMapper </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEncoding(){
  testEncoding(Long.MAX_VALUE);
  testEncoding(Long.MIN_VALUE);
  testEncoding(0l);
  testEncoding(128l);
  testEncoding(256l);
  testEncoding(512l);
  testEncoding(-256l);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.yarn.server.applicationhistoryservice.timeline.TestLeveldbTimelineStore </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGetSingleEntity() throws IOException {
  super.testGetSingleEntity();
  ((LeveldbTimelineStore)store).clearStartTimeCache();
  super.testGetSingleEntity();
  loadTestData();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.yarn.server.applicationhistoryservice.webapp.TestAHSWebApp </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testContainerPage() throws Exception {
  Injector injector=WebAppTests.createMockInjector(ApplicationBaseProtocol.class,mockApplicationHistoryClientService(1,1,1));
  ContainerPage containerPageInstance=injector.getInstance(ContainerPage.class);
  containerPageInstance.render();
  WebAppTests.flushOutput(injector);
  containerPageInstance.set(YarnWebParams.CONTAINER_ID,ContainerId.newContainerId(ApplicationAttemptId.newInstance(ApplicationId.newInstance(0,1),1),1).toString());
  containerPageInstance.render();
  WebAppTests.flushOutput(injector);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testView() throws Exception {
  Injector injector=WebAppTests.createMockInjector(ApplicationBaseProtocol.class,mockApplicationHistoryClientService(5,1,1));
  AHSView ahsViewInstance=injector.getInstance(AHSView.class);
  ahsViewInstance.render();
  WebAppTests.flushOutput(injector);
  ahsViewInstance.set(YarnWebParams.APP_STATE,YarnApplicationState.FAILED.toString());
  ahsViewInstance.render();
  WebAppTests.flushOutput(injector);
  ahsViewInstance.set(YarnWebParams.APP_STATE,StringHelper.cjoin(YarnApplicationState.FAILED.toString(),YarnApplicationState.KILLED));
  ahsViewInstance.render();
  WebAppTests.flushOutput(injector);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAppPage() throws Exception {
  Injector injector=WebAppTests.createMockInjector(ApplicationBaseProtocol.class,mockApplicationHistoryClientService(1,5,1));
  AppPage appPageInstance=injector.getInstance(AppPage.class);
  appPageInstance.render();
  WebAppTests.flushOutput(injector);
  appPageInstance.set(YarnWebParams.APPLICATION_ID,ApplicationId.newInstance(0,1).toString());
  appPageInstance.render();
  WebAppTests.flushOutput(injector);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAppAttemptPage() throws Exception {
  Injector injector=WebAppTests.createMockInjector(ApplicationBaseProtocol.class,mockApplicationHistoryClientService(1,1,5));
  AppAttemptPage appAttemptPageInstance=injector.getInstance(AppAttemptPage.class);
  appAttemptPageInstance.render();
  WebAppTests.flushOutput(injector);
  appAttemptPageInstance.set(YarnWebParams.APPLICATION_ATTEMPT_ID,ApplicationAttemptId.newInstance(ApplicationId.newInstance(0,1),1).toString());
  appAttemptPageInstance.render();
  WebAppTests.flushOutput(injector);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAboutPage() throws Exception {
  Injector injector=WebAppTests.createMockInjector(ApplicationBaseProtocol.class,mockApplicationHistoryClientService(0,0,0));
  AboutPage aboutPageInstance=injector.getInstance(AboutPage.class);
  aboutPageInstance.render();
  WebAppTests.flushOutput(injector);
  aboutPageInstance.render();
  WebAppTests.flushOutput(injector);
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
