<h3 style="margin:0px">Class: org.apache.ambari.server.stack.ServiceModuleTest (26 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(24)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(24)</kbd></button>&nbsp;<button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(23)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(9)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(8)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Executes methods or other tests from the same test unit"><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >ExecutionTester&nbsp;(2)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-4 type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResolve_MonitoringService() throws Exception {
  Boolean isMonitoringService=true;
  ServiceInfo info=new ServiceInfo();
  ServiceInfo parentInfo=new ServiceInfo();
  info.setMonitoringService(isMonitoringService);
  ServiceModule service=resolveService(info,parentInfo);
  assertEquals(isMonitoringService,service.getModuleInfo().isMonitoringService());
  info.setMonitoringService(null);
  parentInfo.setMonitoringService(isMonitoringService);
  service=resolveService(info,parentInfo);
  assertEquals(isMonitoringService,service.getModuleInfo().isMonitoringService());
  info.setMonitoringService(isMonitoringService);
  parentInfo.setMonitoringService(false);
  service=resolveService(info,parentInfo);
  assertEquals(isMonitoringService,service.getModuleInfo().isMonitoringService());
}

</code></pre>

<pre class="type-4 type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResolve_OsSpecifics() throws Exception {
  Map<String,ServiceOsSpecific> osSpecifics=new HashMap<String,ServiceOsSpecific>();
  osSpecifics.put("foo",new ServiceOsSpecific());
  ServiceInfo info=new ServiceInfo();
  ServiceInfo parentInfo=new ServiceInfo();
  info.setOsSpecifics(osSpecifics);
  ServiceModule service=resolveService(info,parentInfo);
  assertEquals(osSpecifics,service.getModuleInfo().getOsSpecifics());
  info.setOsSpecifics(null);
  parentInfo.setOsSpecifics(osSpecifics);
  service=resolveService(info,parentInfo);
  assertEquals(osSpecifics,service.getModuleInfo().getOsSpecifics());
  Map<String,ServiceOsSpecific> osSpecifics2=new HashMap<String,ServiceOsSpecific>();
  osSpecifics.put("bar",new ServiceOsSpecific());
  info.setOsSpecifics(osSpecifics);
  parentInfo.setOsSpecifics(osSpecifics2);
  service=resolveService(info,parentInfo);
  assertEquals(osSpecifics,service.getModuleInfo().getOsSpecifics());
}

</code></pre>

<pre class="type-4 type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testInvalidServiceInfo(){
  ServiceInfo serviceInfo=new ServiceInfo();
  serviceInfo.setName("TEST_SERVICE");
  serviceInfo.setVersion("1.0.0");
  serviceInfo.setValid(false);
  serviceInfo.setErrors("Test error message");
  ServiceModule serviceModule=createServiceModule(serviceInfo);
  assertFalse("Service module should be invalid due to the service info being invalid !",serviceModule.isValid());
  assertTrue("Service module error collection should contain error message that caused service info being invalid !",serviceModule.getErrors().contains("Test error message"));
}

</code></pre>

<pre class="type-4 type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResolve_KerberosDescriptorFile() throws Exception {
  File kerberosDescriptorFile=new File("testKerberosDescriptorFile");
  ServiceInfo info=new ServiceInfo();
  ServiceInfo parentInfo=new ServiceInfo();
  ServiceModule child=createServiceModule(info);
  ServiceModule parent=createServiceModule(parentInfo);
  assertEquals(kerberosDescriptorFile,child.getModuleInfo().getKerberosDescriptorFile());
  parent.getModuleInfo().setKerberosDescriptorFile(null);
  resolveService(child,parent);
  assertEquals(kerberosDescriptorFile,child.getModuleInfo().getKerberosDescriptorFile());
  child=createServiceModule(info);
  parent=createServiceModule(parentInfo);
  parent.getModuleInfo().setKerberosDescriptorFile(kerberosDescriptorFile);
  child.getModuleInfo().setKerberosDescriptorFile(null);
  resolveService(child,parent);
  assertEquals(kerberosDescriptorFile,child.getModuleInfo().getKerberosDescriptorFile());
  child=createServiceModule(info);
  parent=createServiceModule(parentInfo);
  parent.getModuleInfo().setKerberosDescriptorFile(new File("someOtherDir"));
  child.getModuleInfo().setKerberosDescriptorFile(kerberosDescriptorFile);
  resolveService(child,parent);
  assertEquals(kerberosDescriptorFile,child.getModuleInfo().getKerberosDescriptorFile());
}

</code></pre>

<pre class="type-4 type-2 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolve_ConfigDependencies() throws Exception {
  List<String> configDependencies=new ArrayList<String>();
  configDependencies.add("foo");
  configDependencies.add("bar");
  ServiceInfo info=new ServiceInfo();
  ServiceInfo parentInfo=new ServiceInfo();
  info.setConfigDependencies(configDependencies);
  ServiceModule service=resolveService(info,parentInfo);
  assertEquals(configDependencies,service.getModuleInfo().getConfigDependencies());
  info.setConfigDependencies(null);
  parentInfo.setConfigDependencies(configDependencies);
  service=resolveService(info,parentInfo);
  assertEquals(configDependencies,service.getModuleInfo().getConfigDependencies());
  List<String> parentCustomCommands=new ArrayList<String>();
  parentCustomCommands.add("bar");
  parentCustomCommands.add("other");
  info.setConfigDependencies(configDependencies);
  parentInfo.setConfigDependencies(parentCustomCommands);
  service=resolveService(info,parentInfo);
  Collection<String> mergedConfigDependencies=service.getModuleInfo().getConfigDependencies();
  assertEquals(3,mergedConfigDependencies.size());
  assertTrue(mergedConfigDependencies.contains("foo"));
  assertTrue(mergedConfigDependencies.contains("bar"));
  assertTrue(mergedConfigDependencies.contains("other"));
  info.setConfigDependencies(null);
  parentInfo.setConfigDependencies(null);
  service=resolveService(info,parentInfo);
  assertTrue(service.getModuleInfo().getConfigDependencies().isEmpty());
}

</code></pre>

<pre class="type-4 type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResolve_Comment() throws Exception {
  String comment="test comment";
  ServiceInfo info=new ServiceInfo();
  ServiceInfo parentInfo=new ServiceInfo();
  info.setComment(comment);
  ServiceModule service=resolveService(info,parentInfo);
  assertEquals(comment,service.getModuleInfo().getComment());
  info.setComment(null);
  parentInfo.setComment(comment);
  service=resolveService(info,parentInfo);
  assertEquals(comment,service.getModuleInfo().getComment());
  info.setComment(comment);
  parentInfo.setComment("other comment");
  service=resolveService(info,parentInfo);
  assertEquals(comment,service.getModuleInfo().getComment());
}

</code></pre>

<pre class="type-4 type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResolve_CommandScript() throws Exception {
  CommandScriptDefinition commandScript=new CommandScriptDefinition();
  ServiceInfo info=new ServiceInfo();
  ServiceInfo parentInfo=new ServiceInfo();
  info.setCommandScript(commandScript);
  ServiceModule service=resolveService(info,parentInfo);
  assertEquals(commandScript,service.getModuleInfo().getCommandScript());
  info.setCommandScript(null);
  parentInfo.setCommandScript(commandScript);
  service=resolveService(info,parentInfo);
  assertEquals(commandScript,service.getModuleInfo().getCommandScript());
  CommandScriptDefinition commandScript2=new CommandScriptDefinition();
  info.setCommandScript(commandScript);
  parentInfo.setCommandScript(commandScript2);
  service=resolveService(info,parentInfo);
  assertEquals(commandScript,service.getModuleInfo().getCommandScript());
}

</code></pre>

<pre class="type-4 type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMergeServicePropertiesInheritFromParent() throws Exception {
  ServiceInfo serviceInfo=new ServiceInfo();
  ServiceInfo parentServiceInfo=new ServiceInfo();
  ServicePropertyInfo p1=new ServicePropertyInfo();
  p1.setName("P1");
  p1.setValue("V1");
  ServicePropertyInfo p2=new ServicePropertyInfo();
  p2.setName("P2");
  p2.setValue("V2");
  List<ServicePropertyInfo> parentServicePropertyList=Lists.newArrayList(p1,p2);
  parentServiceInfo.setServicePropertyList(parentServicePropertyList);
  ServiceModule serviceModule=resolveService(serviceInfo,parentServiceInfo);
  Map<String,String> parentServiceProperties=ImmutableMap.<String,String>builder().put("P1","V1").put("P2","V2").put(ServiceInfo.DEFAULT_SERVICE_INSTALLABLE_PROPERTY).put(ServiceInfo.DEFAULT_SERVICE_MANAGED_PROPERTY).put(ServiceInfo.DEFAULT_SERVICE_MONITORED_PROPERTY).build();
  assertEquals(parentServicePropertyList,serviceModule.getModuleInfo().getServicePropertyList());
  assertEquals(parentServiceProperties,serviceModule.getModuleInfo().getServiceProperties());
}

</code></pre>

<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testServiceCheckRegistered() throws Exception {
  ServiceInfo info=new ServiceInfo();
  info.setName("service1");
  info.setCommandScript(createNiceMock(CommandScriptDefinition.class));
  StackContext context=createStackContext(info.getName(),true);
  ServiceModule service=createServiceModule(info,Collections.<ConfigurationModule>emptySet(),context);
  service.finalizeModule();
  verify(context);
}

</code></pre>

<pre class="type-4 type-2 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolve_Configuration__ExcludedTypes() throws Exception {
  ServiceInfo info=new ServiceInfo();
  info.setExcludedConfigTypes(Collections.singleton("BAR"));
  Collection<PropertyInfo> fooProperties=new ArrayList<PropertyInfo>();
  PropertyInfo prop1=new PropertyInfo();
  prop1.setName("name1");
  prop1.setValue("val1");
  fooProperties.add(prop1);
  PropertyInfo prop2=new PropertyInfo();
  prop2.setName("name2");
  prop2.setValue("val2");
  fooProperties.add(prop2);
  Collection<PropertyInfo> barProperties=new ArrayList<PropertyInfo>();
  PropertyInfo prop3=new PropertyInfo();
  prop3.setName("name1");
  prop3.setValue("val3");
  barProperties.add(prop3);
  Collection<PropertyInfo> otherProperties=new ArrayList<PropertyInfo>();
  PropertyInfo prop4=new PropertyInfo();
  prop4.setName("name1");
  prop4.setValue("val4");
  otherProperties.add(prop4);
  ConfigurationModule configModule1=createConfigurationModule("FOO",fooProperties);
  ConfigurationModule configModule2=createConfigurationModule("BAR",barProperties);
  ConfigurationModule configModule3=createConfigurationModule("OTHER",otherProperties);
  Collection<ConfigurationModule> configModules=new ArrayList<ConfigurationModule>();
  configModules.add(configModule1);
  configModules.add(configModule2);
  configModules.add(configModule3);
  ServiceModule service=createServiceModule(info,configModules);
  List<PropertyInfo> properties=service.getModuleInfo().getProperties();
  assertEquals(4,properties.size());
  Map<String,Map<String,Map<String,String>>> attributes=service.getModuleInfo().getConfigTypeAttributes();
  assertEquals(2,attributes.size());
  assertTrue(attributes.containsKey("FOO"));
  assertTrue(attributes.containsKey("OTHER"));
}

</code></pre>

<pre class="type-4 type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResolve_ServicePackageFolder() throws Exception {
  String servicePackageFolder="packageDir";
  ServiceInfo info=new ServiceInfo();
  ServiceInfo parentInfo=new ServiceInfo();
  ServiceModule child=createServiceModule(info);
  ServiceModule parent=createServiceModule(parentInfo);
  assertEquals("packageDir",child.getModuleInfo().getServicePackageFolder());
  parent.getModuleInfo().setServicePackageFolder(null);
  resolveService(child,parent);
  assertEquals(servicePackageFolder,child.getModuleInfo().getServicePackageFolder());
  child=createServiceModule(info);
  parent=createServiceModule(parentInfo);
  parent.getModuleInfo().setServicePackageFolder(servicePackageFolder);
  child.getModuleInfo().setServicePackageFolder(null);
  resolveService(child,parent);
  assertEquals(servicePackageFolder,child.getModuleInfo().getServicePackageFolder());
  child=createServiceModule(info);
  parent=createServiceModule(parentInfo);
  parent.getModuleInfo().setServicePackageFolder("someOtherDir");
  child.getModuleInfo().setServicePackageFolder(servicePackageFolder);
  resolveService(child,parent);
  assertEquals(servicePackageFolder,child.getModuleInfo().getServicePackageFolder());
}

</code></pre>

<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testServiceCheckNotRegisteredForDeletedService() throws Exception {
  ServiceInfo info=new ServiceInfo();
  info.setName("service1");
  info.setCommandScript(createNiceMock(CommandScriptDefinition.class));
  info.setDeleted(true);
  StackContext context=createStackContext(info.getName(),false);
  ServiceModule service=createServiceModule(info,Collections.<ConfigurationModule>emptySet(),context);
  service.finalizeModule();
  verify(context);
}

</code></pre>

<pre class="type-4 type-2 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolve_CustomCommands() throws Exception {
  List<CustomCommandDefinition> customCommands=new ArrayList<CustomCommandDefinition>();
  CustomCommandDefinition cmd1=new CustomCommandDefinition();
  setPrivateField(cmd1,"name","cmd1");
  setPrivateField(cmd1,"background",false);
  CustomCommandDefinition cmd2=new CustomCommandDefinition();
  setPrivateField(cmd2,"name","cmd2");
  customCommands.add(cmd1);
  customCommands.add(cmd2);
  ServiceInfo info=new ServiceInfo();
  ServiceInfo parentInfo=new ServiceInfo();
  info.setCustomCommands(customCommands);
  ServiceModule service=resolveService(info,parentInfo);
  assertEquals(customCommands,service.getModuleInfo().getCustomCommands());
  info.setCustomCommands(null);
  parentInfo.setCustomCommands(customCommands);
  service=resolveService(info,parentInfo);
  assertEquals(customCommands,service.getModuleInfo().getCustomCommands());
  List<CustomCommandDefinition> parentCustomCommands=new ArrayList<CustomCommandDefinition>();
  CustomCommandDefinition cmd3=new CustomCommandDefinition();
  setPrivateField(cmd3,"name","cmd1");
  setPrivateField(cmd3,"background",true);
  CustomCommandDefinition cmd4=new CustomCommandDefinition();
  setPrivateField(cmd4,"name","cmd4");
  parentCustomCommands.add(cmd3);
  parentCustomCommands.add(cmd4);
  info.setCustomCommands(customCommands);
  parentInfo.setCustomCommands(parentCustomCommands);
  service=resolveService(info,parentInfo);
  Collection<CustomCommandDefinition> mergedCommands=service.getModuleInfo().getCustomCommands();
  assertEquals(3,mergedCommands.size());
  assertTrue(mergedCommands.contains(cmd2));
  assertTrue(mergedCommands.contains(cmd3));
  assertTrue(mergedCommands.contains(cmd4));
  info.setCustomCommands(null);
  parentInfo.setCustomCommands(null);
  service=resolveService(info,parentInfo);
  assertTrue(service.getModuleInfo().getCustomCommands().isEmpty());
}

</code></pre>

<pre class="type-4 type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResolve_Configuration__properties() throws Exception {
  ServiceInfo info=new ServiceInfo();
  ServiceInfo parentInfo=new ServiceInfo();
  Collection<PropertyInfo> childFooProperties=new ArrayList<PropertyInfo>();
  PropertyInfo childProp1=new PropertyInfo();
  childProp1.setName("childName1");
  childProp1.setValue("childVal1");
  childFooProperties.add(childProp1);
  Collection<PropertyInfo> childBarProperties=new ArrayList<PropertyInfo>();
  PropertyInfo childProp2=new PropertyInfo();
  childProp2.setName("childName2");
  childProp2.setValue("childVal2");
  childBarProperties.add(childProp2);
  Map<String,String> attributes=new HashMap<String,String>();
  attributes.put(ConfigurationInfo.Supports.DO_NOT_EXTEND.getXmlAttributeName(),"true");
  ConfigurationModule childConfigModule1=createConfigurationModule("FOO",childFooProperties);
  ConfigurationModule childConfigModule2=createConfigurationModule("BAR",childBarProperties,attributes);
  Collection<ConfigurationModule> childModules=new ArrayList<ConfigurationModule>();
  childModules.add(childConfigModule1);
  childModules.add(childConfigModule2);
  Collection<PropertyInfo> parentFooProperties=new ArrayList<PropertyInfo>();
  PropertyInfo parentProp1=new PropertyInfo();
  parentProp1.setName("parentName1");
  parentProp1.setValue("parentVal1");
  parentFooProperties.add(parentProp1);
  PropertyInfo parentProp12=new PropertyInfo();
  parentProp12.setName("childName1");
  parentProp12.setValue("parentVal1");
  parentFooProperties.add(parentProp12);
  Collection<PropertyInfo> parentBarProperties=new ArrayList<PropertyInfo>();
  PropertyInfo parentProp2=new PropertyInfo();
  parentProp2.setName("parentName2");
  parentProp2.setValue("parentVal2");
  parentBarProperties.add(parentProp2);
  Collection<PropertyInfo> parentOtherProperties=new ArrayList<PropertyInfo>();
  PropertyInfo parentProp3=new PropertyInfo();
  parentProp3.setName("parentName3");
  parentProp3.setValue("parentVal3");
  parentOtherProperties.add(parentProp3);
  ConfigurationModule parentConfigModule1=createConfigurationModule("FOO",parentFooProperties);
  ConfigurationModule parentConfigModule2=createConfigurationModule("BAR",parentBarProperties);
  ConfigurationModule parentConfigModule3=createConfigurationModule("OTHER",parentOtherProperties);
  Collection<ConfigurationModule> parentModules=new ArrayList<ConfigurationModule>();
  parentModules.add(parentConfigModule1);
  parentModules.add(parentConfigModule2);
  parentModules.add(parentConfigModule3);
  ServiceModule child=createServiceModule(info,childModules);
  ServiceModule parent=createServiceModule(parentInfo,parentModules);
  resolveService(child,parent);
  List<PropertyInfo> mergedProperties=child.getModuleInfo().getProperties();
  assertEquals(4,mergedProperties.size());
  Map<String,PropertyInfo> mergedPropertyMap=new HashMap<String,PropertyInfo>();
  for (  PropertyInfo prop : mergedProperties) {
    mergedPropertyMap.put(prop.getName(),prop);
  }
  assertEquals("childVal1",mergedPropertyMap.get("childName1").getValue());
  assertEquals("childVal2",mergedPropertyMap.get("childName2").getValue());
  assertEquals("parentVal1",mergedPropertyMap.get("parentName1").getValue());
  assertEquals("parentVal3",mergedPropertyMap.get("parentName3").getValue());
  Map<String,Map<String,Map<String,String>>> childAttributes=child.getModuleInfo().getConfigTypeAttributes();
  Map<String,Map<String,Map<String,String>>> parentAttributes=parent.getModuleInfo().getConfigTypeAttributes();
  assertEquals(3,childAttributes.size());
  assertAttributes(childAttributes.get("FOO"),Collections.<String,String>emptyMap());
  assertAttributes(childAttributes.get("BAR"),attributes);
  assertAttributes(childAttributes.get("OTHER"),Collections.<String,String>emptyMap());
  assertEquals(3,parentAttributes.size());
  assertAttributes(parentAttributes.get("FOO"),Collections.<String,String>emptyMap());
  assertAttributes(parentAttributes.get("BAR"),Collections.<String,String>emptyMap());
  assertAttributes(parentAttributes.get("OTHER"),Collections.<String,String>emptyMap());
}

</code></pre>

<pre class="type-4 type-2 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolve_Configuration__ExcludedTypes__ParentType() throws Exception {
  ServiceInfo info=new ServiceInfo();
  info.setExcludedConfigTypes(Collections.singleton("BAR"));
  Collection<PropertyInfo> fooProperties=new ArrayList<PropertyInfo>();
  PropertyInfo prop1=new PropertyInfo();
  prop1.setName("name1");
  prop1.setValue("val1");
  fooProperties.add(prop1);
  PropertyInfo prop2=new PropertyInfo();
  prop2.setName("name2");
  prop2.setValue("val2");
  fooProperties.add(prop2);
  ConfigurationModule childConfigModule=createConfigurationModule("FOO",fooProperties);
  Collection<ConfigurationModule> childConfigModules=new ArrayList<ConfigurationModule>();
  childConfigModules.add(childConfigModule);
  ServiceInfo parentInfo=new ServiceInfo();
  Collection<PropertyInfo> barProperties=new ArrayList<PropertyInfo>();
  PropertyInfo prop3=new PropertyInfo();
  prop3.setName("name1");
  prop3.setValue("val3");
  barProperties.add(prop3);
  ConfigurationModule parentConfigModule=createConfigurationModule("BAR",barProperties);
  Collection<ConfigurationModule> parentConfigModules=new ArrayList<ConfigurationModule>();
  parentConfigModules.add(parentConfigModule);
  ServiceModule service=createServiceModule(info,childConfigModules);
  ServiceModule parentService=createServiceModule(parentInfo,parentConfigModules);
  resolveService(service,parentService);
  List<PropertyInfo> properties=service.getModuleInfo().getProperties();
  assertEquals(2,properties.size());
  Map<String,Map<String,Map<String,String>>> attributes=service.getModuleInfo().getConfigTypeAttributes();
  assertEquals(1,attributes.size());
  assertTrue(attributes.containsKey("FOO"));
  Map<String,Map<String,Map<String,String>>> parentAttributes=parentService.getModuleInfo().getConfigTypeAttributes();
  assertEquals(1,parentAttributes.size());
  assertTrue(parentAttributes.containsKey("BAR"));
}

</code></pre>

<pre class="type-4 type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResolve_RestartRequiredAfterChange() throws Exception {
  Boolean isRestartRequired=true;
  ServiceInfo info=new ServiceInfo();
  ServiceInfo parentInfo=new ServiceInfo();
  info.setRestartRequiredAfterChange(isRestartRequired);
  ServiceModule service=resolveService(info,parentInfo);
  assertEquals(isRestartRequired,service.getModuleInfo().isRestartRequiredAfterChange());
  info.setRestartRequiredAfterChange(null);
  parentInfo.setRestartRequiredAfterChange(isRestartRequired);
  service=resolveService(info,parentInfo);
  assertEquals(isRestartRequired,service.getModuleInfo().isRestartRequiredAfterChange());
  info.setRestartRequiredAfterChange(isRestartRequired);
  parentInfo.setRestartRequiredAfterChange(false);
  service=resolveService(info,parentInfo);
  assertEquals(isRestartRequired,service.getModuleInfo().isRestartRequiredAfterChange());
}

</code></pre>

<pre class="type-4 type-2 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolve_RequiredServices() throws Exception {
  List<String> requiredServices=new ArrayList<String>();
  requiredServices.add("foo");
  requiredServices.add("bar");
  ServiceInfo info=new ServiceInfo();
  ServiceInfo parentInfo=new ServiceInfo();
  info.setRequiredServices(requiredServices);
  ServiceModule service=resolveService(info,parentInfo);
  assertEquals(requiredServices,service.getModuleInfo().getRequiredServices());
  info.setRequiredServices(null);
  parentInfo.setRequiredServices(requiredServices);
  service=resolveService(info,parentInfo);
  assertEquals(requiredServices,service.getModuleInfo().getRequiredServices());
  info.setRequiredServices(requiredServices);
  parentInfo.setRequiredServices(Collections.singletonList("other"));
  service=resolveService(info,parentInfo);
  assertEquals(requiredServices,service.getModuleInfo().getRequiredServices());
  info.setRequiredServices(null);
  parentInfo.setRequiredServices(null);
  service=resolveService(info,parentInfo);
  assertTrue(service.getModuleInfo().getRequiredServices().isEmpty());
}

</code></pre>

<pre class="type-4 type-2 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMergeServiceProperties() throws Exception {
  ServiceInfo serviceInfo=new ServiceInfo();
  ServiceInfo parentServiceInfo=new ServiceInfo();
  ServicePropertyInfo p1=new ServicePropertyInfo();
  p1.setName("P1");
  p1.setValue("V1");
  ServicePropertyInfo p2=new ServicePropertyInfo();
  p2.setName("P2");
  p2.setValue("V2");
  ServicePropertyInfo p2Override=new ServicePropertyInfo();
  p2Override.setName("P2");
  p2Override.setValue("V2_OVERRIDE");
  ServicePropertyInfo p3=new ServicePropertyInfo();
  p3.setName("P3");
  p3.setValue("V3");
  List<ServicePropertyInfo> parentServicePropertyList=Lists.newArrayList(p1,p2);
  parentServiceInfo.setServicePropertyList(parentServicePropertyList);
  List<ServicePropertyInfo> servicePropertyList=Lists.newArrayList(p2Override,p3);
  serviceInfo.setServicePropertyList(servicePropertyList);
  ServiceModule serviceModule=resolveService(serviceInfo,parentServiceInfo);
  List<ServicePropertyInfo> expectedPropertyList=Lists.newArrayList(p1,p2Override,p3);
  Map<String,String> expectedServiceProperties=ImmutableMap.<String,String>builder().put("P1","V1").put("P2","V2_OVERRIDE").put("P3","V3").put(ServiceInfo.DEFAULT_SERVICE_INSTALLABLE_PROPERTY).put(ServiceInfo.DEFAULT_SERVICE_MANAGED_PROPERTY).put(ServiceInfo.DEFAULT_SERVICE_MONITORED_PROPERTY).build();
  List<ServicePropertyInfo> actualPropertyList=serviceModule.getModuleInfo().getServicePropertyList();
  assertTrue(actualPropertyList.containsAll(expectedPropertyList) && expectedPropertyList.containsAll(actualPropertyList));
  assertEquals(expectedServiceProperties,serviceModule.getModuleInfo().getServiceProperties());
}

</code></pre>

<pre class="type-4 type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResolve_MetricsFile() throws Exception {
  File metricsFile=new File("testMetricsFile");
  ServiceInfo info=new ServiceInfo();
  ServiceInfo parentInfo=new ServiceInfo();
  ServiceModule child=createServiceModule(info);
  ServiceModule parent=createServiceModule(parentInfo);
  assertEquals(metricsFile,child.getModuleInfo().getMetricsFile());
  parent.getModuleInfo().setMetricsFile(null);
  resolveService(child,parent);
  assertEquals(metricsFile,child.getModuleInfo().getMetricsFile());
  child=createServiceModule(info);
  parent=createServiceModule(parentInfo);
  parent.getModuleInfo().setMetricsFile(metricsFile);
  child.getModuleInfo().setMetricsFile(null);
  resolveService(child,parent);
  assertEquals(metricsFile,child.getModuleInfo().getMetricsFile());
  child=createServiceModule(info);
  parent=createServiceModule(parentInfo);
  parent.getModuleInfo().setMetricsFile(new File("someOtherDir"));
  child.getModuleInfo().setMetricsFile(metricsFile);
  resolveService(child,parent);
  assertEquals(metricsFile,child.getModuleInfo().getMetricsFile());
}

</code></pre>

<pre class="type-4 type-2 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolve_Configuration__attributes() throws Exception {
  ServiceInfo info=new ServiceInfo();
  ServiceInfo parentInfo=new ServiceInfo();
  Collection<PropertyInfo> childFooProperties=new ArrayList<PropertyInfo>();
  PropertyInfo childProp1=new PropertyInfo();
  childProp1.setName("childName1");
  childProp1.setValue("childVal1");
  childFooProperties.add(childProp1);
  Map<String,String> childFooAttributes=new HashMap<String,String>();
  childFooAttributes.put(ConfigurationInfo.Supports.ADDING_FORBIDDEN.getXmlAttributeName(),"false");
  ConfigurationModule childConfigModule1=createConfigurationModule("FOO",childFooProperties,childFooAttributes);
  Collection<ConfigurationModule> childModules=new ArrayList<ConfigurationModule>();
  childModules.add(childConfigModule1);
  Collection<PropertyInfo> parentFooProperties=new ArrayList<PropertyInfo>();
  PropertyInfo parentProp1=new PropertyInfo();
  parentProp1.setName("parentName1");
  parentProp1.setValue("parentVal1");
  parentFooProperties.add(parentProp1);
  Map<String,String> parentFooAttributes=new HashMap<String,String>();
  parentFooAttributes.put(ConfigurationInfo.Supports.FINAL.getXmlAttributeName(),"true");
  parentFooAttributes.put(ConfigurationInfo.Supports.ADDING_FORBIDDEN.getXmlAttributeName(),"true");
  Collection<PropertyInfo> parentBarProperties=new ArrayList<PropertyInfo>();
  PropertyInfo parentProp2=new PropertyInfo();
  parentProp2.setName("parentName2");
  parentProp2.setValue("parentVal2");
  parentBarProperties.add(parentProp2);
  ConfigurationModule parentConfigModule1=createConfigurationModule("FOO",parentFooProperties,parentFooAttributes);
  ConfigurationModule parentConfigModule2=createConfigurationModule("BAR",parentBarProperties);
  Collection<ConfigurationModule> parentModules=new ArrayList<ConfigurationModule>();
  parentModules.add(parentConfigModule1);
  parentModules.add(parentConfigModule2);
  ServiceModule child=createServiceModule(info,childModules);
  ServiceModule parent=createServiceModule(parentInfo,parentModules);
  resolveService(child,parent);
  Map<String,Map<String,Map<String,String>>> childTypeAttributes=child.getModuleInfo().getConfigTypeAttributes();
  Map<String,Map<String,Map<String,String>>> parentTypeAttributes=parent.getModuleInfo().getConfigTypeAttributes();
  assertTrue(childTypeAttributes.containsKey("FOO"));
  Map<String,Map<String,String>> mergedChildFooAttributes=childTypeAttributes.get("FOO");
  assertTrue(mergedChildFooAttributes.containsKey(ConfigurationInfo.Supports.KEYWORD));
  assertEquals("true",mergedChildFooAttributes.get(ConfigurationInfo.Supports.KEYWORD).get(ConfigurationInfo.Supports.valueOf("FINAL").getPropertyName()));
  assertEquals("false",mergedChildFooAttributes.get(ConfigurationInfo.Supports.KEYWORD).get(ConfigurationInfo.Supports.valueOf("ADDING_FORBIDDEN").getPropertyName()));
  assertEquals(2,childTypeAttributes.size());
  assertEquals(2,parentTypeAttributes.size());
  assertAttributes(parentTypeAttributes.get("FOO"),parentFooAttributes);
  assertAttributes(parentTypeAttributes.get("BAR"),Collections.<String,String>emptyMap());
}

</code></pre>

<pre class="type-4 type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResolve_DisplayName() throws Exception {
  String displayName="test_display_name";
  ServiceInfo info=new ServiceInfo();
  ServiceInfo parentInfo=new ServiceInfo();
  info.setDisplayName(displayName);
  ServiceModule service=resolveService(info,parentInfo);
  assertEquals(displayName,service.getModuleInfo().getDisplayName());
  info.setDisplayName(null);
  parentInfo.setDisplayName(displayName);
  service=resolveService(info,parentInfo);
  assertEquals(displayName,service.getModuleInfo().getDisplayName());
  info.setDisplayName(displayName);
  parentInfo.setDisplayName("other display name");
  service=resolveService(info,parentInfo);
  assertEquals(displayName,service.getModuleInfo().getDisplayName());
}

</code></pre>

<pre class="type-4 type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMergeServicePropertiesInheritFromEmptyParent() throws Exception {
  ServiceInfo serviceInfo=new ServiceInfo();
  ServiceInfo parentServiceInfo=new ServiceInfo();
  ServicePropertyInfo p1=new ServicePropertyInfo();
  p1.setName("P1");
  p1.setValue("V1");
  ServicePropertyInfo p2=new ServicePropertyInfo();
  p2.setName("P2");
  p2.setValue("V2");
  List<ServicePropertyInfo> servicePropertyList=Lists.newArrayList(p1,p2);
  serviceInfo.setServicePropertyList(servicePropertyList);
  ServiceModule serviceModule=resolveService(serviceInfo,parentServiceInfo);
  Map<String,String> serviceProperties=ImmutableMap.<String,String>builder().put("P1","V1").put("P2","V2").put(ServiceInfo.DEFAULT_SERVICE_INSTALLABLE_PROPERTY).put(ServiceInfo.DEFAULT_SERVICE_MANAGED_PROPERTY).put(ServiceInfo.DEFAULT_SERVICE_MONITORED_PROPERTY).build();
  assertEquals(servicePropertyList,serviceModule.getModuleInfo().getServicePropertyList());
  assertEquals(serviceProperties,serviceModule.getModuleInfo().getServiceProperties());
}

</code></pre>

<pre class="type-4 type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResolve_AlertsFile() throws Exception {
  File alertsFile=new File("testAlertsFile");
  ServiceInfo info=new ServiceInfo();
  ServiceInfo parentInfo=new ServiceInfo();
  ServiceModule child=createServiceModule(info);
  ServiceModule parent=createServiceModule(parentInfo);
  assertEquals(alertsFile,child.getModuleInfo().getAlertsFile());
  parent.getModuleInfo().setAlertsFile(null);
  resolveService(child,parent);
  assertEquals(alertsFile,child.getModuleInfo().getAlertsFile());
  child=createServiceModule(info);
  parent=createServiceModule(parentInfo);
  parent.getModuleInfo().setAlertsFile(alertsFile);
  child.getModuleInfo().setAlertsFile(null);
  resolveService(child,parent);
  assertEquals(alertsFile,child.getModuleInfo().getAlertsFile());
  child=createServiceModule(info);
  parent=createServiceModule(parentInfo);
  parent.getModuleInfo().setAlertsFile(new File("someOtherDir"));
  child.getModuleInfo().setAlertsFile(alertsFile);
  resolveService(child,parent);
  assertEquals(alertsFile,child.getModuleInfo().getAlertsFile());
}

</code></pre>

<pre class="type-4 type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResolve_Version() throws Exception {
  String version="1.1";
  ServiceInfo info=new ServiceInfo();
  ServiceInfo parentInfo=new ServiceInfo();
  info.setVersion(version);
  ServiceModule service=resolveService(info,parentInfo);
  assertEquals(version,service.getModuleInfo().getVersion());
  info.setVersion(null);
  parentInfo.setVersion(version);
  service=resolveService(info,parentInfo);
  assertEquals(version,service.getModuleInfo().getVersion());
  info.setVersion(version);
  parentInfo.setVersion("1.0");
  service=resolveService(info,parentInfo);
  assertEquals(version,service.getModuleInfo().getVersion());
}

</code></pre>

<pre class="type-4 type-2 type-5 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolve_Components() throws Exception {
  ComponentInfo info1=new ComponentInfo();
  info1.setName("1");
  ComponentInfo info2=new ComponentInfo();
  info2.setName("2");
  ComponentInfo XX=new ComponentInfo();
  XX.setName("XX");
  ComponentInfo info3=new ComponentInfo();
  info3.setName("1");
  info3.setCardinality("ALL");
  info3.setCategory("category");
  ComponentInfo info4=new ComponentInfo();
  info4.setName("4");
  ComponentInfo info5=new ComponentInfo();
  info5.setName("XX");
  info5.setDeleted(true);
  ServiceInfo info=new ServiceInfo();
  ServiceInfo parentInfo=new ServiceInfo();
  List<ComponentInfo> childComponents=info.getComponents();
  childComponents.add(info3);
  childComponents.add(info4);
  childComponents.add(info5);
  List<ComponentInfo> parentComponents=parentInfo.getComponents();
  parentComponents.add(info1);
  parentComponents.add(info2);
  ServiceModule child=createServiceModule(info);
  ServiceModule parent=createServiceModule(parentInfo);
  resolveService(child,parent);
  List<ComponentInfo> components=child.getModuleInfo().getComponents();
  assertEquals(3,components.size());
  Map<String,ComponentInfo> mergedComponents=new HashMap<String,ComponentInfo>();
  for (  ComponentInfo component : components) {
    mergedComponents.put(component.getName(),component);
  }
  assertTrue(mergedComponents.containsKey("1"));
  assertTrue(mergedComponents.containsKey("2"));
  assertTrue(mergedComponents.containsKey("4"));
  assertEquals("ALL",mergedComponents.get("1").getCardinality());
  assertEquals("category",mergedComponents.get("1").getCategory());
}

</code></pre>

<pre class="type-4 type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMerge_Configuration__ExcludedTypes() throws Exception {
  ServiceInfo info=new ServiceInfo();
  Set<String> childExcludedConfigTypes=new HashSet<String>();
  childExcludedConfigTypes.add("FOO");
  info.setExcludedConfigTypes(childExcludedConfigTypes);
  Collection<PropertyInfo> fooProperties=new ArrayList<PropertyInfo>();
  ConfigurationModule childConfigModule=createConfigurationModule("FOO",fooProperties);
  Collection<ConfigurationModule> childConfigModules=new ArrayList<ConfigurationModule>();
  childConfigModules.add(childConfigModule);
  ServiceInfo parentInfo=new ServiceInfo();
  Set<String> parentExcludedConfigTypes=new HashSet<String>();
  childExcludedConfigTypes.add("BAR");
  info.setExcludedConfigTypes(childExcludedConfigTypes);
  parentInfo.setExcludedConfigTypes(parentExcludedConfigTypes);
  Collection<PropertyInfo> barProperties=new ArrayList<PropertyInfo>();
  ConfigurationModule parentConfigModule=createConfigurationModule("BAR",barProperties);
  Collection<ConfigurationModule> parentConfigModules=new ArrayList<ConfigurationModule>();
  parentConfigModules.add(parentConfigModule);
  ServiceModule service=createServiceModule(info,childConfigModules);
  ServiceModule parentService=createServiceModule(parentInfo,parentConfigModules);
  resolveService(service,parentService);
  assertEquals(2,service.getModuleInfo().getExcludedConfigTypes().size());
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
