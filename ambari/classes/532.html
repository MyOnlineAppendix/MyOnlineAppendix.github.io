<h3 style="margin:0px">Class: org.apache.ambari.server.view.ViewContextImplTest (9 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(9)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(7)</kbd></button>&nbsp;<button id="11"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('11')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-11"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetResourceProvider() throws Exception {
  InstanceConfig instanceConfig=InstanceConfigTest.getInstanceConfigs().get(0);
  ViewEntity viewDefinition=ViewEntityTest.getViewEntity();
  ViewInstanceEntity viewInstanceDefinition=new ViewInstanceEntity(viewDefinition,instanceConfig);
  ViewRegistry viewRegistry=createNiceMock(ViewRegistry.class);
  ResourceProvider provider=createNiceMock(ResourceProvider.class);
  Resource.Type type=new Resource.Type("MY_VIEW{1.0.0}/myType");
  viewInstanceDefinition.addResourceProvider(type,provider);
  ViewContextImpl viewContext=new ViewContextImpl(viewInstanceDefinition,viewRegistry);
  Assert.assertEquals(provider,viewContext.getResourceProvider("myType"));
}

</code></pre>

<pre class="type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetAmbariStreamProvider() throws Exception {
  InstanceConfig instanceConfig=InstanceConfigTest.getInstanceConfigs().get(0);
  ViewEntity viewDefinition=ViewEntityTest.getViewEntity();
  ViewInstanceEntity viewInstanceDefinition=new ViewInstanceEntity(viewDefinition,instanceConfig);
  ViewRegistry viewRegistry=createNiceMock(ViewRegistry.class);
  ViewAmbariStreamProvider ambariStreamProvider=createNiceMock(ViewAmbariStreamProvider.class);
  ResourceProvider provider=createNiceMock(ResourceProvider.class);
  Resource.Type type=new Resource.Type("MY_VIEW/myType");
  viewInstanceDefinition.addResourceProvider(type,provider);
  expect(viewRegistry.createAmbariStreamProvider()).andReturn(ambariStreamProvider);
  replay(viewRegistry);
  ViewContextImpl viewContext=new ViewContextImpl(viewInstanceDefinition,viewRegistry);
  Assert.assertEquals(ambariStreamProvider,viewContext.getAmbariStreamProvider());
  verify(viewRegistry);
}

</code></pre>

<pre class="type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetURLStreamProvider() throws Exception {
  InstanceConfig instanceConfig=InstanceConfigTest.getInstanceConfigs().get(0);
  ViewEntity viewDefinition=ViewEntityTest.getViewEntity();
  ViewInstanceEntity viewInstanceDefinition=new ViewInstanceEntity(viewDefinition,instanceConfig);
  ViewRegistry viewRegistry=createNiceMock(ViewRegistry.class);
  ViewURLStreamProvider urlStreamProvider=createNiceMock(ViewURLStreamProvider.class);
  ViewURLStreamProvider urlStreamProvider2=createNiceMock(ViewURLStreamProvider.class);
  ResourceProvider provider=createNiceMock(ResourceProvider.class);
  Resource.Type type=new Resource.Type("MY_VIEW/myType");
  viewInstanceDefinition.addResourceProvider(type,provider);
  ViewContextImpl viewContext=new ViewContextImpl(viewInstanceDefinition,viewRegistry);
  expect(viewRegistry.createURLStreamProvider(viewContext)).andReturn(urlStreamProvider);
  expect(viewRegistry.createURLStreamProvider(viewContext)).andReturn(urlStreamProvider2);
  replay(viewRegistry);
  Assert.assertEquals(urlStreamProvider,viewContext.getURLStreamProvider());
  Assert.assertEquals(urlStreamProvider2,viewContext.getURLStreamProvider());
  verify(viewRegistry);
}

</code></pre>

<pre class="type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetURLConnectionProvider() throws Exception {
  InstanceConfig instanceConfig=InstanceConfigTest.getInstanceConfigs().get(0);
  ViewEntity viewDefinition=ViewEntityTest.getViewEntity();
  ViewInstanceEntity viewInstanceDefinition=new ViewInstanceEntity(viewDefinition,instanceConfig);
  ViewRegistry viewRegistry=createNiceMock(ViewRegistry.class);
  ViewURLStreamProvider urlStreamProvider=createNiceMock(ViewURLStreamProvider.class);
  ResourceProvider provider=createNiceMock(ResourceProvider.class);
  Resource.Type type=new Resource.Type("MY_VIEW/myType");
  viewInstanceDefinition.addResourceProvider(type,provider);
  ViewContext viewContext=new ViewContextImpl(viewInstanceDefinition,viewRegistry);
  expect(viewRegistry.createURLStreamProvider(viewContext)).andReturn(urlStreamProvider);
  replay(viewRegistry);
  Assert.assertEquals(urlStreamProvider,viewContext.getURLConnectionProvider());
  verify(viewRegistry);
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetViewName() throws Exception {
  InstanceConfig instanceConfig=InstanceConfigTest.getInstanceConfigs().get(0);
  ViewEntity viewDefinition=ViewEntityTest.getViewEntity();
  ViewInstanceEntity viewInstanceDefinition=new ViewInstanceEntity(viewDefinition,instanceConfig);
  ViewRegistry viewRegistry=createNiceMock(ViewRegistry.class);
  ViewContextImpl viewContext=new ViewContextImpl(viewInstanceDefinition,viewRegistry);
  Assert.assertEquals("MY_VIEW",viewContext.getViewName());
}

</code></pre>

<pre class="type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetCluster() throws Exception {
  InstanceConfig instanceConfig=InstanceConfigTest.getInstanceConfigs().get(0);
  ViewEntity viewDefinition=ViewEntityTest.getViewEntity();
  ViewInstanceEntity viewInstanceDefinition=new ViewInstanceEntity(viewDefinition,instanceConfig);
  ViewRegistry viewRegistry=createNiceMock(ViewRegistry.class);
  Cluster cluster=createNiceMock(Cluster.class);
  expect(viewRegistry.getCluster(viewInstanceDefinition)).andReturn(cluster);
  replay(viewRegistry);
  ViewContextImpl viewContext=new ViewContextImpl(viewInstanceDefinition,viewRegistry);
  Assert.assertEquals(cluster,viewContext.getCluster());
  verify(viewRegistry);
}

</code></pre>

<pre class="type-4 type-2 type-1 type-11 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetPropertiesWithParameters() throws Exception {
  InstanceConfig instanceConfig=createNiceMock(InstanceConfig.class);
  expect(instanceConfig.getName()).andReturn("Instance").anyTimes();
  replay(instanceConfig);
  ViewEntity viewDefinition=createNiceMock(ViewEntity.class);
  expect(viewDefinition.getName()).andReturn("View").anyTimes();
  expect(viewDefinition.getCommonName()).andReturn("View").times(2);
  expect(viewDefinition.getClassLoader()).andReturn(ViewContextImplTest.class.getClassLoader()).anyTimes();
  expect(viewDefinition.getConfiguration()).andReturn(ViewConfigTest.getConfig()).anyTimes();
  ViewParameterEntity parameter1=createNiceMock(ViewParameterEntity.class);
  expect(parameter1.getName()).andReturn("p1").anyTimes();
  ViewParameterEntity parameter2=createNiceMock(ViewParameterEntity.class);
  expect(parameter2.getName()).andReturn("p2").anyTimes();
  expect(viewDefinition.getParameters()).andReturn(Arrays.asList(parameter1,parameter2)).anyTimes();
  replay(viewDefinition,parameter1,parameter2);
  ViewInstanceEntity viewInstanceDefinition=createMockBuilder(ViewInstanceEntity.class).addMockedMethod("getUsername").addMockedMethod("getName").addMockedMethod("getViewEntity").withConstructor(viewDefinition,instanceConfig).createMock();
  expect(viewInstanceDefinition.getUsername()).andReturn("User").times(1);
  expect(viewInstanceDefinition.getUsername()).andReturn("User2").times(1);
  expect(viewInstanceDefinition.getName()).andReturn("Instance").anyTimes();
  expect(viewInstanceDefinition.getViewEntity()).andReturn(viewDefinition).anyTimes();
  replay(viewInstanceDefinition);
  ViewRegistry viewRegistry=createNiceMock(ViewRegistry.class);
  expect(viewRegistry.getCluster(viewInstanceDefinition)).andReturn(null).anyTimes();
  replay(viewRegistry);
  viewInstanceDefinition.putProperty("p1","/tmp/some/path/${username}");
  viewInstanceDefinition.putProperty("p2",new DefaultMasker().mask("/tmp/path/$viewName"));
  viewInstanceDefinition.putProperty("p3","/path/$instanceName");
  viewInstanceDefinition.putProperty("p4","/path/to/${unspecified_parameter}");
  viewInstanceDefinition.putProperty("p5","/path/to/${incorrect_parameter");
  viewInstanceDefinition.putProperty("p6","/path/to/\\${username}");
  viewInstanceDefinition.putProperty("p7","/path/to/\\$viewName");
  viewInstanceDefinition.putProperty("p8",null);
  ViewContextImpl viewContext=new ViewContextImpl(viewInstanceDefinition,viewRegistry);
  Map<String,String> properties=viewContext.getProperties();
  Assert.assertEquals(8,properties.size());
  Assert.assertEquals("/tmp/some/path/User",properties.get("p1"));
  Assert.assertEquals("/tmp/path/View",properties.get("p2"));
  Assert.assertEquals("/path/Instance",properties.get("p3"));
  Assert.assertEquals("/path/to/${unspecified_parameter}",properties.get("p4"));
  Assert.assertEquals("/path/to/${incorrect_parameter",properties.get("p5"));
  Assert.assertEquals("/path/to/${username}",properties.get("p6"));
  Assert.assertEquals("/path/to/$viewName",properties.get("p7"));
  Assert.assertNull(properties.get("p8"));
  properties=viewContext.getProperties();
  Assert.assertEquals(8,properties.size());
  Assert.assertEquals("/tmp/some/path/User2",properties.get("p1"));
  Assert.assertEquals("/tmp/path/View",properties.get("p2"));
  Assert.assertEquals("/path/Instance",properties.get("p3"));
  Assert.assertEquals("/path/to/${unspecified_parameter}",properties.get("p4"));
  Assert.assertEquals("/path/to/${incorrect_parameter",properties.get("p5"));
  Assert.assertEquals("/path/to/${username}",properties.get("p6"));
  Assert.assertEquals("/path/to/$viewName",properties.get("p7"));
  Assert.assertNull(properties.get("p8"));
}

</code></pre>

<pre class="type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetProperties() throws Exception {
  InstanceConfig instanceConfig=InstanceConfigTest.getInstanceConfigs().get(0);
  ViewEntity viewDefinition=ViewEntityTest.getViewEntity();
  ViewInstanceEntity viewInstanceDefinition=new ViewInstanceEntity(viewDefinition,instanceConfig);
  ViewRegistry viewRegistry=createNiceMock(ViewRegistry.class);
  expect(viewRegistry.getCluster(viewInstanceDefinition)).andReturn(null).anyTimes();
  viewInstanceDefinition.putProperty("p1","v1");
  viewInstanceDefinition.putProperty("p2",new DefaultMasker().mask("v2"));
  viewInstanceDefinition.putProperty("p3","v3");
  ViewContextImpl viewContext=new ViewContextImpl(viewInstanceDefinition,viewRegistry);
  Map<String,String> properties=viewContext.getProperties();
  Assert.assertEquals(3,properties.size());
  Assert.assertEquals("v1",properties.get("p1"));
  Assert.assertEquals("v2",properties.get("p2"));
  Assert.assertEquals("v3",properties.get("p3"));
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetInstanceName() throws Exception {
  InstanceConfig instanceConfig=InstanceConfigTest.getInstanceConfigs().get(0);
  ViewEntity viewDefinition=ViewEntityTest.getViewEntity();
  ViewInstanceEntity viewInstanceDefinition=new ViewInstanceEntity(viewDefinition,instanceConfig);
  ViewRegistry viewRegistry=createNiceMock(ViewRegistry.class);
  ViewContextImpl viewContext=new ViewContextImpl(viewInstanceDefinition,viewRegistry);
  Assert.assertEquals("INSTANCE1",viewContext.getInstanceName());
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
