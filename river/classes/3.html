<h3 style="margin:0px">Class: org.apache.river.api.security.DefaultPolicyParserTest (2 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Allocates resources before the execution of the test cases"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >TestInitializer&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  system=new Properties();
  system.setProperty("org.apache.river.jsk.home","/opt/src/river/trunk");
  system.setProperty("/","/");
  system.setProperty("org.apache.river.qa.harness.harnessJar","/opt/src/river/trunk/qa/lib/harness.jar");
  pe0=new PermissionEntry("permission org.apache.river.start.SharedActivationPolicyPermission","jar:file:${org.apache.river.qa.harness.harnessJar}!/harness/policy/sec-jeri-group.policy",null,null);
  pe1=new PermissionEntry("permission org.apache.river.start.SharedActivationPolicyPermission","jar:file:${org.apache.river.qa.harness.harnessJar}!/harness/policy/all.policy",null,null);
  pe2=new PermissionEntry("permission org.apache.river.start.SharedActivationPolicyPermission","jar:file:${org.apache.river.qa.harness.harnessJar}!/harness/policy/policy.all",null,null);
  pe3=new PermissionEntry("permission org.apache.river.start.SharedActivationPolicyPermission","jar:file:${org.apache.river.qa.harness.harnessJar}!/harness/policy/defaultgroup.policy",null,null);
  List<PermissionEntry> pec=new ArrayList<PermissionEntry>(4);
  pec.add(0,pe0);
  pec.add(1,pe1);
  pec.add(2,pe2);
  pec.add(3,pe3);
  ge=new GrantEntry(null,"file:${org.apache.river.jsk.home}${/}lib${/}group.jar",null,pec);
  perm0=new UnresolvedPermission("permission org.apache.river.start.SharedActivationPolicyPermission","jar:file:/opt/src/river/trunk/qa/lib/harness.jar!/harness/policy/sec-jeri-group.policy","",null);
  perm1=new UnresolvedPermission("permission org.apache.river.start.SharedActivationPolicyPermission","jar:file:/opt/src/river/trunk/qa/lib/harness.jar!/harness/policy/all.policy","",null);
  perm2=new UnresolvedPermission("permission org.apache.river.start.SharedActivationPolicyPermission","jar:file:/opt/src/river/trunk/qa/lib/harness.jar!/harness/policy/policy.all","",null);
  perm3=new UnresolvedPermission("permission org.apache.river.start.SharedActivationPolicyPermission","jar:file:/opt/src/river/trunk/qa/lib/harness.jar!/harness/policy/defaultgroup.policy","",null);
  permissions=new ArrayList<Permission>(4);
  permissions.add(perm0);
  permissions.add(perm1);
  permissions.add(perm2);
  permissions.add(perm3);
  PermissionGrantBuilder pgb=PermissionGrantBuilder.newBuilder();
  String uri="file:/opt/src/river/trunk/lib/group.jar";
  grant=pgb.uri(uri).permissions(permissions.toArray(new Permission[4])).context(PermissionGrantBuilder.URI).build();
}

</code></pre>

<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test of resolvePermission method, of class DefaultPolicyParser.
 */
@Test public void testResolvePermission() throws Exception {
  System.out.println("resolvePermission");
  KeyStore ks=null;
  boolean resolve=true;
  DefaultPolicyParser instance=new DefaultPolicyParser();
  Permission expResult=perm0;
  Permission result=instance.resolvePermission(pe0,ge,ks,system,resolve);
  assertEquals(expResult,result);
  expResult=perm1;
  result=instance.resolvePermission(pe1,ge,ks,system,resolve);
  assertEquals(expResult,result);
  expResult=perm2;
  result=instance.resolvePermission(pe2,ge,ks,system,resolve);
  assertEquals(expResult,result);
  expResult=perm3;
  result=instance.resolvePermission(pe3,ge,ks,system,resolve);
  assertEquals(expResult,result);
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
