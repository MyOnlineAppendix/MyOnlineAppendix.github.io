<h3><span class=" glyphicon glyphicon-tag"/>&nbspAPIUtilityVerifier</h3><kbd>Verifies values of objects/variables related to API calls (Java or TPL) </kbd><br><br><br><h4 style="margin:0px">Class: org.apache.oodt.cas.pge.TestPGETaskInstance </h4><pre class="type-10 type-2 type-7 type-8 type-11 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDumpMetadataIfRequested() throws Exception {
  PGETaskInstance pgeTask=createTestInstance();
  File dumpMetFile=new File(pgeTask.getDumpMetadataPath());
  pgeTask.dumpMetadataIfRequested();
  assertFalse(dumpMetFile.exists());
  pgeTask.pgeMetadata.replaceMetadata(DUMP_METADATA,"true");
  pgeTask.dumpMetadataIfRequested();
  assertTrue(dumpMetFile.exists());
  @SuppressWarnings("unchecked") String expectedMetString="<?xml version=\"1.0\" encoding=\"UTF-8\"?>" + "<cas:metadata xmlns:cas=\"http://oodt.jpl.nasa.gov/1.0/cas\">" + "<keyval type=\"vector\">"+ "<key>PGETask_Name</key>"+ "<val>" + pgeTask.pgeMetadata.getMetadata(NAME) + "</val>"+ "</keyval>"+ "<keyval type=\"vector\">"+ "<key>PGETask_DumpMetadata</key>"+ "<val>"+ pgeTask.pgeMetadata.getMetadata(DUMP_METADATA)+ "</val>"+ "</keyval>"+ "</cas:metadata>";
  Document dumpMetDoc=parseXmlFile(dumpMetFile);
  Document expectedMetDoc=parseXmlString(expectedMetString);
  Element dumpMetRoot, expectedMetRoot;
  dumpMetRoot=dumpMetDoc.getDocumentElement();
  expectedMetRoot=expectedMetDoc.getDocumentElement();
  NodeList dumpKeyList=dumpMetRoot.getElementsByTagName("key");
  NodeList expectedKeyList=expectedMetRoot.getElementsByTagName("key");
  NodeList dumpValList=dumpMetRoot.getElementsByTagName("val");
  NodeList expectedValList=expectedMetRoot.getElementsByTagName("val");
  assertEquals(dumpKeyList.getLength(),expectedKeyList.getLength());
  assertEquals(dumpValList.getLength(),expectedValList.getLength());
  Map<String,String> dumpKeyValMap=new ConcurrentHashMap<String,String>();
  Map<String,String> expectedKeyValMap=new ConcurrentHashMap<String,String>();
  for (int i=0; i < dumpKeyList.getLength(); i++) {
    Node k1=dumpKeyList.item(i);
    Node k2=expectedKeyList.item(i);
    Node v1=dumpValList.item(i);
    Node v2=expectedValList.item(i);
    dumpKeyValMap.put(k1.getFirstChild().getNodeValue(),v1.getFirstChild().getNodeValue());
    expectedKeyValMap.put(k2.getFirstChild().getNodeValue(),v2.getFirstChild().getNodeValue());
  }
  assertTrue(dumpKeyValMap.equals(expectedKeyValMap));
}

</code></pre>

<br>
<pre class="type-10 type-7 type-8 type-11 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings("unchecked") public void testLogger() throws Exception {
  PGETaskInstance pgeTask1=createTestInstance();
  PGETaskInstance pgeTask2=createTestInstance();
  pgeTask1.logger.log(Level.INFO,"pge1 message1");
  pgeTask1.logger.log(Level.INFO,"pge1 message2");
  pgeTask2.logger.log(Level.SEVERE,"pge2 message1");
  pgeTask1.logger.log(Level.INFO,"pge1 message3");
  for (  Handler handler : pgeTask1.logger.getHandlers()) {
    handler.flush();
  }
  for (  Handler handler : pgeTask2.logger.getHandlers()) {
    handler.flush();
  }
  File logDir=new File(pgeTask1.pgeConfig.getExeDir() + "/logs");
  assertTrue(logDir.exists());
  List<String> messages=FileUtils.readLines(logDir.listFiles(new FileFilter(){
    @Override public boolean accept(    File pathname){
      return pathname.getName().endsWith(".log");
    }
  }
)[0],"UTF-8");
  assertEquals(Level.INFO.getLocalizedName() + ": pge1 message1",messages.get(1));
  assertEquals(Level.INFO.getLocalizedName() + ": pge1 message2",messages.get(3));
  assertEquals(Level.INFO.getLocalizedName() + ": pge1 message3",messages.get(5));
  logDir=new File(pgeTask2.pgeConfig.getExeDir() + "/logs");
  assertTrue(logDir.exists());
  messages=FileUtils.readLines(logDir.listFiles(new FileFilter(){
    @Override public boolean accept(    File pathname){
      return pathname.getName().endsWith(".log");
    }
  }
)[0],"UTF-8");
  assertEquals(Level.SEVERE.getLocalizedName() + ": pge2 message1",messages.get(1));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.oodt.cas.product.jaxrs.resources.DatasetResourceTest </h4><pre class="type-10 type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Tests that {@link DatasetResource dataset resources} are marshalled to
 * the expected XML format.
 * @throws IOException if the {@link Diff} constructor fails
 * @throws JAXBException if the {@link JAXBContext} or {@link Marshaller} fail
 * @throws MimeTypeException if {@link MimeTypes#forName(String)} fails
 * @throws SAXException if the {@link Diff} constructor fails
 */
@Test public void testXmlMarshalling() throws IOException, JAXBException, MimeTypeException, SAXException {
  ProductType productType=new ProductType("1","GenericFile","test type","repository","versioner");
  Reference reference1=new Reference("original1","dataStore1",500,new MimeTypes().forName("text/plain"));
  List<Reference> references1=new ArrayList<Reference>();
  references1.add(reference1);
  Hashtable metadataEntries1=new Hashtable<String,Object>();
  metadataEntries1.put("product1_meta","test1");
  Metadata metadata1=new Metadata();
  metadata1.addMetadata(metadataEntries1);
  Product product1=new Product();
  product1.setProductId("123");
  product1.setProductName("test.txt");
  product1.setProductType(productType);
  ProductResource productResource1=new ProductResource(product1,metadata1,references1,new File("/tmp"));
  Reference reference2=new Reference("original2","dataStore2",1000,new MimeTypes().forName("application/pdf"));
  List<Reference> references2=new ArrayList<Reference>();
  references2.add(reference2);
  Hashtable metadataEntries2=new Hashtable<String,Object>();
  metadataEntries2.put("product2_meta","test2");
  Metadata metadata2=new Metadata();
  metadata2.addMetadata(metadataEntries2);
  Product product2=new Product();
  product2.setProductId("456");
  product2.setProductName("test2.txt");
  product2.setProductType(productType);
  ProductResource productResource2=new ProductResource(product2,metadata2,references2,new File("/tmp"));
  Hashtable metadataEntries3=new Hashtable<String,Object>();
  metadataEntries3.put("dataset_meta","test3");
  Metadata metadata3=new Metadata();
  metadata3.addMetadata(metadataEntries3);
  DatasetResource resource=new DatasetResource(productType.getProductTypeId(),productType.getName(),metadata3,new File("/tmp"));
  resource.addProductResource(productResource1);
  resource.addProductResource(productResource2);
  String expectedXml="<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>" + "<dataset>" + "<id>" + productType.getProductTypeId() + "</id>"+ "<name>"+ productType.getName()+ "</name>"+ "<metadata>"+ "<keyval>"+ "<key>"+ metadata3.getAllKeys().get(0)+ "</key>"+ "<val>"+ metadata3.getAllValues().get(0)+ "</val>"+ "</keyval>"+ "</metadata>"+ "<products>"+ "<product>"+ "<id>"+ product1.getProductId()+ "</id>"+ "<name>"+ product1.getProductName()+ "</name>"+ "<type>"+ productType.getName()+ "</type>"+ "<metadata>"+ "<keyval>"+ "<key>"+ metadata1.getAllKeys().get(0)+ "</key>"+ "<val>"+ metadata1.getAllValues().get(0)+ "</val>"+ "</keyval>"+ "</metadata>"+ "<references>"+ "<reference>"+ "<productId>"+ product1.getProductId()+ "</productId>"+ "<refIndex>0</refIndex>"+ "<dataStoreReference>"+ reference1.getDataStoreReference()+ "</dataStoreReference>"+ "<originalReference>"+ reference1.getOrigReference()+ "</originalReference>"+ "<mimeType>"+ reference1.getMimeType().getName()+ "</mimeType>"+ "<fileSize>"+ reference1.getFileSize()+ "</fileSize>"+ "</reference>"+ "</references>"+ "</product>"+ "<product>"+ "<id>"+ product2.getProductId()+ "</id>"+ "<name>"+ product2.getProductName()+ "</name>"+ "<type>"+ productType.getName()+ "</type>"+ "<metadata>"+ "<keyval>"+ "<key>"+ metadata2.getAllKeys().get(0)+ "</key>"+ "<val>"+ metadata2.getAllValues().get(0)+ "</val>"+ "</keyval>"+ "</metadata>"+ "<references>"+ "<reference>"+ "<productId>"+ product2.getProductId()+ "</productId>"+ "<refIndex>0</refIndex>"+ "<dataStoreReference>"+ reference2.getDataStoreReference()+ "</dataStoreReference>"+ "<originalReference>"+ reference2.getOrigReference()+ "</originalReference>"+ "<mimeType>"+ reference2.getMimeType().getName()+ "</mimeType>"+ "<fileSize>"+ reference2.getFileSize()+ "</fileSize>"+ "</reference>"+ "</references>"+ "</product>"+ "</products>"+ "</dataset>";
  JAXBContext context=JAXBContext.newInstance(resource.getClass());
  Marshaller marshaller=context.createMarshaller();
  StringWriter writer=new StringWriter();
  marshaller.marshal(resource,writer);
  XMLUnit.setIgnoreWhitespace(true);
  XMLUnit.setIgnoreComments(true);
  XMLUnit.setIgnoreAttributeOrder(true);
  Diff diff=new Diff(expectedXml,writer.toString());
  assertTrue("The output XML was different to the expected XML: " + diff.toString(),diff.identical());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.oodt.cas.product.jaxrs.resources.MetadataResourceTest </h4><pre class="type-10 type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Tests that {@link MetadataResource metadata resources} are marshalled to
 * the expected XML format.
 * @throws IOException if the {@link Diff} constructor fails
 * @throws JAXBException if the {@link JAXBContext} or {@link Marshaller} fail
 * @throws SAXException if the {@link Diff} constructor fails
 */
@Test public void testXmlMarshalling() throws IOException, JAXBException, SAXException {
  String expectedXml="<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>" + "<metadata>" + "<keyval><key>1</key><val>one</val></keyval>"+ "<keyval><key>2</key><val>two</val></keyval>"+ "<keyval><key>3</key><val>three</val></keyval>"+ "<keyval><key>4</key><val>a</val><val>b</val><val>c</val></keyval>"+ "</metadata>";
  Hashtable metadataEntries=new Hashtable<String,Object>();
  metadataEntries.put("1","one");
  metadataEntries.put("2","two");
  metadataEntries.put("3","three");
  List<String> list=new ArrayList<String>();
  list.add("a");
  list.add("b");
  list.add("c");
  metadataEntries.put("4",list);
  Metadata metadata=new Metadata();
  metadata.addMetadata(metadataEntries);
  MetadataResource resource=new MetadataResource(metadata);
  JAXBContext context=JAXBContext.newInstance(resource.getClass());
  Marshaller marshaller=context.createMarshaller();
  StringWriter writer=new StringWriter();
  marshaller.marshal(resource,writer);
  XMLUnit.setIgnoreWhitespace(true);
  XMLUnit.setIgnoreComments(true);
  XMLUnit.setIgnoreAttributeOrder(true);
  Diff diff=new Diff(expectedXml,writer.toString());
  diff.overrideElementQualifier(new RecursiveElementNameAndTextQualifier());
  assertTrue("The output XML was different to the expected XML: " + diff.toString(),diff.similar());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.oodt.cas.product.jaxrs.resources.ProductResourceTest </h4><pre class="type-10 type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Tests that {@link ProductResource product resources} are marshalled to
 * the expected XML format.
 * @throws IOException if the {@link Diff} constructor fails
 * @throws JAXBException if the {@link JAXBContext} or {@link Marshaller} fail
 * @throws MimeTypeException if {@link MimeTypes#forName(String)} fails
 * @throws SAXException if the {@link Diff} constructor fails
 */
@Test public void testXmlMarshalling() throws IOException, JAXBException, MimeTypeException, SAXException {
  Hashtable metadataEntries=new Hashtable<String,Object>();
  metadataEntries.put("CAS.Test","test value");
  Metadata metadata=new Metadata();
  metadata.addMetadata(metadataEntries);
  Reference reference=new Reference("original","dataStore",1000,new MimeTypes().forName("text/plain"));
  List<Reference> references=new ArrayList<Reference>();
  references.add(reference);
  ProductType productType=new ProductType("1","GenericFile","test type","repository","versioner");
  Product product=new Product();
  product.setProductId("123");
  product.setProductName("test.txt");
  product.setProductStructure(Product.STRUCTURE_FLAT);
  product.setProductType(productType);
  ProductResource resource=new ProductResource(product,metadata,references,new File("/tmp"));
  String expectedXml="<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>" + "<product>" + "<id>" + product.getProductId() + "</id>"+ "<name>"+ product.getProductName()+ "</name>"+ "<structure>"+ product.getProductStructure()+ "</structure>"+ "<type>"+ productType.getName()+ "</type>"+ "<metadata>"+ "<keyval>"+ "<key>"+ metadata.getAllKeys().get(0)+ "</key>"+ "<val>"+ metadata.getAllValues().get(0)+ "</val>"+ "</keyval>"+ "</metadata>"+ "<references>"+ "<reference>"+ "<productId>"+ product.getProductId()+ "</productId>"+ "<refIndex>0</refIndex>"+ "<dataStoreReference>"+ reference.getDataStoreReference()+ "</dataStoreReference>"+ "<originalReference>"+ reference.getOrigReference()+ "</originalReference>"+ "<mimeType>"+ reference.getMimeType().getName()+ "</mimeType>"+ "<fileSize>"+ reference.getFileSize()+ "</fileSize>"+ "</reference>"+ "</references>"+ "</product>";
  JAXBContext context=JAXBContext.newInstance(resource.getClass());
  Marshaller marshaller=context.createMarshaller();
  StringWriter writer=new StringWriter();
  marshaller.marshal(resource,writer);
  XMLUnit.setIgnoreWhitespace(true);
  XMLUnit.setIgnoreComments(true);
  XMLUnit.setIgnoreAttributeOrder(true);
  Diff diff=new Diff(expectedXml,writer.toString());
  assertTrue("The output XML was different to the expected XML: " + diff.toString(),diff.identical());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.oodt.cas.product.jaxrs.resources.ReferenceResourceTest </h4><pre class="type-10 type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Tests that {@link ReferenceResource reference resources} are marshalled to
 * the expected XML format.
 * @throws IOException if the {@link Diff} constructor fails
 * @throws JAXBException if the {@link JAXBContext} or {@link Marshaller} fail
 * @throws MimeTypeException if {@link MimeTypes#forName(String)} fails
 * @throws SAXException if the {@link Diff} constructor fails
 */
@Test public void testXmlMarshalling() throws IOException, JAXBException, MimeTypeException, SAXException {
  String productId="123";
  int refIndex=0;
  Reference reference=new Reference("original","dataStore",1000,new MimeTypes().forName("text/plain"));
  ReferenceResource resource=new ReferenceResource(productId,refIndex,reference,new File("/tmp"));
  String expectedXml="<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>" + "<reference>" + "<productId>" + productId + "</productId>"+ "<refIndex>"+ refIndex+ "</refIndex>"+ "<dataStoreReference>"+ reference.getDataStoreReference()+ "</dataStoreReference>"+ "<originalReference>"+ reference.getOrigReference()+ "</originalReference>"+ "<mimeType>"+ reference.getMimeType().getName()+ "</mimeType>"+ "<fileSize>"+ reference.getFileSize()+ "</fileSize>"+ "</reference>";
  JAXBContext context=JAXBContext.newInstance(resource.getClass());
  Marshaller marshaller=context.createMarshaller();
  StringWriter writer=new StringWriter();
  marshaller.marshal(resource,writer);
  XMLUnit.setIgnoreWhitespace(true);
  XMLUnit.setIgnoreComments(true);
  XMLUnit.setIgnoreAttributeOrder(true);
  Diff diff=new Diff(expectedXml,writer.toString());
  assertTrue("The output XML was different to the expected XML: " + diff.toString(),diff.identical());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.oodt.cas.product.jaxrs.resources.TransferResourceTest </h4><pre class="type-10 type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Tests that {@link TransferResource transfer resources} are marshalled to
 * the expected XML format.
 * @throws IOException if the {@link Diff} constructor fails
 * @throws JAXBException if the {@link JAXBContext} or {@link Marshaller} fail
 * @throws MimeTypeException if {@link MimeTypes#forName(String)} fails
 * @throws SAXException if the {@link Diff} constructor fails
 */
@Test public void testXmlMarshalling() throws IOException, JAXBException, MimeTypeException, SAXException {
  Hashtable metadataEntries=new Hashtable<String,Object>();
  metadataEntries.put("CAS.ProductReceivedTime","2013-09-12T16:25:50.662Z");
  Metadata metadata=new Metadata();
  metadata.addMetadata(metadataEntries);
  Reference reference=new Reference("original","dataStore",1000,new MimeTypes().forName("text/plain"));
  ProductType productType=new ProductType("1","GenericFile","test type","repository","versioner");
  Product product=new Product();
  product.setProductId("123");
  product.setProductName("test product");
  product.setProductStructure(Product.STRUCTURE_FLAT);
  product.setProductType(productType);
  FileTransferStatus status=new FileTransferStatus(reference,1000,100,product);
  TransferResource resource=new TransferResource(product,metadata,status);
  String expectedXml="<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>" + "<transfer>" + "<productName>" + product.getProductName() + "</productName>"+ "<productId>"+ product.getProductId()+ "</productId>"+ "<productTypeName>"+ productType.getName()+ "</productTypeName>"+ "<dataStoreReference>"+ reference.getDataStoreReference()+ "</dataStoreReference>"+ "<origReference>"+ reference.getOrigReference()+ "</origReference>"+ "<mimeType>"+ reference.getMimeType().getName()+ "</mimeType>"+ "<fileSize>"+ reference.getFileSize()+ "</fileSize>"+ "<totalBytes>"+ reference.getFileSize()+ "</totalBytes>"+ "<bytesTransferred>"+ status.getBytesTransferred()+ "</bytesTransferred>"+ "<percentComplete>"+ status.computePctTransferred() * 100 + "</percentComplete>" + "<productReceivedTime>" + metadata.getAllValues().get(0) + "</productReceivedTime>" + "</transfer>";
  JAXBContext context=JAXBContext.newInstance(resource.getClass());
  Marshaller marshaller=context.createMarshaller();
  StringWriter writer=new StringWriter();
  marshaller.marshal(resource,writer);
  XMLUnit.setIgnoreWhitespace(true);
  XMLUnit.setIgnoreComments(true);
  XMLUnit.setIgnoreAttributeOrder(true);
  Diff diff=new Diff(expectedXml,writer.toString());
  assertTrue("The output XML was different to the expected XML: " + diff.toString(),diff.identical());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.oodt.cas.product.jaxrs.resources.TransfersResourceTest </h4><pre class="type-10 type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Tests that {@link TransferResource transfer resources} are marshalled to
 * the expected XML format.
 * @throws IOException if the {@link Diff} constructor fails
 * @throws JAXBException if the {@link JAXBContext} or {@link Marshaller} fail
 * @throws MimeTypeException if {@link MimeTypes#forName(String)} fails
 * @throws SAXException if the {@link Diff} constructor fails
 */
@Test public void testXmlMarshalling() throws IOException, JAXBException, MimeTypeException, SAXException {
  Hashtable metadataEntries1=new Hashtable<String,Object>();
  metadataEntries1.put("CAS.ProductReceivedTime","2013-09-12T16:25:50.662Z");
  Metadata metadata1=new Metadata();
  metadata1.addMetadata(metadataEntries1);
  Reference reference1=new Reference("original1","dataStore1",1000,new MimeTypes().forName("text/plain"));
  ProductType productType1=new ProductType("1","TestType","test type 1","repository1","versioner1");
  Product product1=new Product();
  product1.setProductId("123");
  product1.setProductName("test product");
  product1.setProductStructure(Product.STRUCTURE_FLAT);
  product1.setProductType(productType1);
  FileTransferStatus status1=new FileTransferStatus(reference1,1000,100,product1);
  Hashtable metadataEntries2=new Hashtable<String,Object>();
  metadataEntries2.put("CAS.ProductReceivedTime","2011-04-11T11:59:59.662Z");
  Metadata metadata2=new Metadata();
  metadata2.addMetadata(metadataEntries2);
  Reference reference2=new Reference("original2","dataStore2",500,new MimeTypes().forName("application/pdf"));
  ProductType productType2=new ProductType("2","TestType2","test type 2","repository2","versioner2");
  Product product2=new Product();
  product2.setProductId("456");
  product2.setProductName("test product 2");
  product2.setProductStructure(Product.STRUCTURE_HIERARCHICAL);
  product2.setProductType(productType2);
  FileTransferStatus status2=new FileTransferStatus(reference2,500,200,product2);
  List<TransferResource> resources=new ArrayList<TransferResource>();
  resources.add(new TransferResource(product1,metadata1,status1));
  resources.add(new TransferResource(product2,metadata2,status2));
  TransfersResource resource=new TransfersResource("ALL",resources);
  String expectedXml="<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>" + "<transfers productId=\"ALL\">" + "<transfer>"+ "<productName>" + product1.getProductName() + "</productName>"+ "<productId>"+ product1.getProductId()+ "</productId>"+ "<productTypeName>"+ productType1.getName()+ "</productTypeName>"+ "<dataStoreReference>"+ reference1.getDataStoreReference()+ "</dataStoreReference>"+ "<origReference>"+ reference1.getOrigReference()+ "</origReference>"+ "<mimeType>"+ reference1.getMimeType().getName()+ "</mimeType>"+ "<fileSize>"+ reference1.getFileSize()+ "</fileSize>"+ "<totalBytes>"+ reference1.getFileSize()+ "</totalBytes>"+ "<bytesTransferred>"+ status1.getBytesTransferred()+ "</bytesTransferred>"+ "<percentComplete>"+ status1.computePctTransferred() * 100 + "</percentComplete>" + "<productReceivedTime>" + metadata1.getAllValues().get(0) + "</productReceivedTime>" + "</transfer>" + "<transfer>" + "<productName>" + product2.getProductName() + "</productName>" + "<productId>" + product2.getProductId() + "</productId>" + "<productTypeName>" + productType2.getName() + "</productTypeName>" + "<dataStoreReference>" + reference2.getDataStoreReference() + "</dataStoreReference>" + "<origReference>" + reference2.getOrigReference() + "</origReference>" + "<mimeType>" + reference2.getMimeType().getName() + "</mimeType>" + "<fileSize>" + reference2.getFileSize() + "</fileSize>" + "<totalBytes>" + reference2.getFileSize() + "</totalBytes>" + "<bytesTransferred>" + status2.getBytesTransferred() + "</bytesTransferred>" + "<percentComplete>" + status2.computePctTransferred() * 100 + "</percentComplete>" + "<productReceivedTime>" + metadata2.getAllValues().get(0) + "</productReceivedTime>" + "</transfer>" + "</transfers>";
  JAXBContext context=JAXBContext.newInstance(resource.getClass());
  Marshaller marshaller=context.createMarshaller();
  StringWriter writer=new StringWriter();
  marshaller.marshal(resource,writer);
  XMLUnit.setIgnoreWhitespace(true);
  XMLUnit.setIgnoreComments(true);
  XMLUnit.setIgnoreAttributeOrder(true);
  Diff diff=new Diff(expectedXml,writer.toString());
  assertTrue("The output XML was different to the expected XML: " + diff.toString(),diff.identical());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.oodt.cas.resource.system.TestXmlRpcResourceManagerClient </h4><pre class="type-10 type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testQueuesWithNode() throws MonitorException, QueueManagerException {
  List<ResourceNode> nodelist=rmc.getNodes();
  List<String> queues=rmc.getQueuesWithNode(nodelist.get(0).getNodeId());
  assertThat(queues,hasSize(3));
  assertThat(queues,containsInAnyOrder("high","quick","long"));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-5 type-1 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetNodeLoad() throws MonitorException {
  List<ResourceNode> nodelist=rmc.getNodes();
  String node=rmc.getNodeLoad(nodelist.get(0).getNodeId());
  assertNotNull(node);
  assertThat(node,equalTo("0/8"));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetNodeById() throws MonitorException {
  List<ResourceNode> nodelist=rmc.getNodes();
  ResourceNode node=rmc.getNodeById(nodelist.get(0).getNodeId());
  assertThat(node,is(not(nullValue())));
  assertThat(node.getNodeId(),equalTo("localhost"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.oodt.cas.workflow.system.TestXmlRpcWorkflowManagerClient </h4><pre class="type-10 type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetWorkflowWallClockMinutes() throws RepositoryException, XmlRpcException, IOException {
  List<WorkflowInstance> workflowlist=fmc.getWorkflowInstances();
  assertThat(workflowlist,is(not(nullValue())));
  assertThat(workflowlist.size(),is(not(0)));
  WorkflowInstance instance=fmc.getWorkflowInstanceById(workflowlist.get(0).getId());
  assertThat(instance,is(not(nullValue())));
  double clock=fmc.getWorkflowWallClockMinutes(instance.getId());
  assertThat(clock,is(not(nullValue())));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-5 type-1 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetWorkflowCurrentTaskWallClockMinutes() throws Exception {
  XmlRpcWorkflowManagerClient fmc=new XmlRpcWorkflowManagerClient(new URL("http://localhost:" + WM_PORT));
  List<WorkflowInstance> wfinstances=fmc.getWorkflowInstances();
  assertNotNull(wfinstances);
  double clock=fmc.getWorkflowCurrentTaskWallClockMinutes(wfinstances.get(0).getId());
  assertThat(clock,is(not(Matchers.nullValue())));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetWorkflowInstanceById() throws XmlRpcException, IOException, RepositoryException {
  List<WorkflowInstance> workflowlist=fmc.getWorkflowInstances();
  assertThat(workflowlist,is(not(nullValue())));
  assertThat(workflowlist.size(),is(not(0)));
  WorkflowInstance instance=fmc.getWorkflowInstanceById(workflowlist.get(0).getId());
  assertThat(instance,is(not(nullValue())));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetWorkflowById() throws RepositoryException, XmlRpcException, IOException {
  List<Workflow> workflowlist=fmc.getWorkflows();
  assertThat(workflowlist,is(not(nullValue())));
  assertThat(workflowlist.size(),is(not(0)));
  Workflow work=fmc.getWorkflowById(workflowlist.get(0).getId());
  assertThat(work,is(not(nullValue())));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testUpdateWorkflowInstanceStatus() throws XmlRpcException, IOException, RepositoryException {
  List<WorkflowInstance> workflowlist=fmc.getWorkflowInstances();
  assertThat(workflowlist,is(not(nullValue())));
  assertThat(workflowlist.size(),is(not(0)));
  WorkflowInstance instance=fmc.getWorkflowInstanceById(workflowlist.get(0).getId());
  assertThat(instance,is(not(nullValue())));
  boolean upd=fmc.updateWorkflowInstanceStatus(instance.getId(),"RUNNING");
  assertThat(upd,equalTo(true));
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
