<h3><span class=" glyphicon glyphicon-tag"/>&nbspUtilityVerifier</h3><kbd>Verifies (un)successful execution of the test case by reporting explicitly a failure</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.tapestry5.corelib.base.AbstractPropertyOutputTest </h4><pre class="type-9 type-8 type-1 type-10 type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_null_pointer_exception_message(){
  final PropertyConduit conduit=mockPropertyConduit();
  final PropertyModel model=mockPropertyModel();
  final Object object=new Object();
  ComponentResources resources=mockComponentResources();
  Location location=mockLocation();
  propertyOutputFixture.inject(model,object,resources);
  expect(model.getConduit()).andReturn(conduit);
  expect(conduit.get(object)).andThrow(new NullPointerException());
  expect(model.getPropertyName()).andReturn("wilma.occupation.address");
  expect(resources.getLocation()).andReturn(location);
  replay();
  try {
    propertyOutputFixture.readPropertyForObject();
    fail("Expected a NullPointerException to be thrown.");
  }
 catch (  final TapestryException ex) {
    assertEquals(ex.getMessage(),"Property 'wilma.occupation.address' contains a null value in the path.");
    assertSame(ex.getLocation(),location);
    assertTrue(ex.getCause() instanceof NullPointerException);
  }
  verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tapestry5.internal.jpa.EntityManagerSourceImplTest </h4><pre class="type-9 type-6 type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void multiple_persistence_units_include_unlisted_classes(){
  Exception exception=null;
  try {
    new EntityManagerSourceImpl(LoggerFactory.getLogger(EntityManagerSourceImplTest.class),new ClasspathResource("multiple-persistence-units-include-unlisted-classes.xml"),null,CollectionFactory.<String,PersistenceUnitConfigurer>newMap());
    fail("Exception expected");
  }
 catch (  Exception e) {
    exception=e;
  }
  assertNotNull(exception);
  assertEquals(exception.getMessage(),"Persistence units 'TestUnit, TestUnit2' are configured to include managed classes that have not been explicitly listed. This is forbidden when multiple persistence units are used in the same application. Please configure persistence units to exclude unlisted managed classes (e.g. by removing <exclude-unlisted-classes> element) and include them explicitly.");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tapestry5.internal.services.PropertyConduitSourceImplTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void covariant_property_return_type(){
  try {
    assertConduitPropertyType(Foo.class,"bar",Bar.class);
  }
 catch (  AssertionError e) {
    List<Method> matches=CollectionFactory.newList();
    for (    Method method : Foo.class.getMethods()) {
      if (method.getName().equals("getBar")) {
        matches.add(method);
      }
    }
    fail(String.format("%s (possible candidates %s)",e.getMessage(),matches));
  }
  assertConduitPropertyType(AbstractFoo.class,"bar",AbstractBar.class);
  assertConduitPropertyType(RobertMyClass.class,"foo.robertBarValue",int.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tapestry5.internal.services.URLEncoderImplTest </h4><pre class="type-9 type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(dataProvider="failures") public void decode_failures(String input,String expectedMessage){
  try {
    encoder.decode(input);
    Assert.fail("This code should not be reachable.");
  }
 catch (  IllegalArgumentException ex) {
    assertEquals(ex.getMessage(),expectedMessage);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tapestry5.internal.util.LocaleUtilsTest </h4><pre class="type-9 type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void toLocale_just_language(){
  assertEquals(null,LocaleUtils.toLocale(null));
  assertValidToLocale("us");
  assertValidToLocale("fr");
  assertValidToLocale("de");
  assertValidToLocale("zh");
  assertValidToLocale("qq");
  try {
    LocaleUtils.toLocale("Us");
    fail("Should fail if not lowercase");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    LocaleUtils.toLocale("US");
    fail("Should fail if not lowercase");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    LocaleUtils.toLocale("uS");
    fail("Should fail if not lowercase");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    LocaleUtils.toLocale("u#");
    fail("Should fail if not lowercase");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    LocaleUtils.toLocale("u");
    fail("Must be 2 chars if less than 5");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    LocaleUtils.toLocale("uuu");
    fail("Must be 2 chars if less than 5");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    LocaleUtils.toLocale("uu_U");
    fail("Must be 2 chars if less than 5");
  }
 catch (  IllegalArgumentException iae) {
  }
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void toLocale_language_and_country(){
  assertValidToLocale("us_EN","us","EN");
  assertValidToLocale("us_ZH","us","ZH");
  try {
    LocaleUtils.toLocale("us-EN");
    fail("Should fail as not underscore");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    LocaleUtils.toLocale("us_En");
    fail("Should fail second part not uppercase");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    LocaleUtils.toLocale("us_en");
    fail("Should fail second part not uppercase");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    LocaleUtils.toLocale("us_eN");
    fail("Should fail second part not uppercase");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    LocaleUtils.toLocale("uS_EN");
    fail("Should fail first part not lowercase");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    LocaleUtils.toLocale("us_E3");
    fail("Should fail second part not uppercase");
  }
 catch (  IllegalArgumentException iae) {
  }
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * Test toLocale() method.
 */
@Test public void toLocale_with_variant(){
  assertValidToLocale("us_EN_A","us","EN","A");
  assertValidToLocale("us_EN_a","us","EN","a");
  assertValidToLocale("us_EN_SFsafdFDsdfF","us","EN","SFsafdFDsdfF");
  try {
    LocaleUtils.toLocale("us_EN-a");
    fail("Should fail as not underscore");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    LocaleUtils.toLocale("uu_UU_");
    fail("Must be 3, 5 or 7+ in length");
  }
 catch (  IllegalArgumentException iae) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tapestry5.util.EnumSelectModelTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void error_on_invalid_class(){
  Messages messages=mockMessages();
  replay();
  Class c=String.class;
  try {
    SelectModel model=new EnumSelectModel(c,messages);
    fail("should have thrown an exception");
  }
 catch (  IllegalArgumentException e) {
    assertMessageContains(e,"not an enum class");
  }
  verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tapestry5.util.EnumValueEncoderTest </h4><pre class="type-4 type-9 type-8 type-1 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void valid_values_can_be_retrieved_from_exception(){
  TypeCoercer typeCoercer=getService(TypeCoercer.class);
  EnumValueEncoder<Stooge> encoder=new EnumValueEncoder<Stooge>(typeCoercer,Stooge.class);
  try {
    encoder.toValue("Foo");
    fail();
  }
 catch (  RuntimeException e) {
    assertTrue(e.getCause() instanceof UnknownValueException);
    UnknownValueException cause=(UnknownValueException)e.getCause();
    List<String> availableValues=cause.getAvailableValues().getValues();
    assertTrue(availableValues.contains("MOE"));
    assertTrue(availableValues.contains("LARRY"));
    assertTrue(availableValues.contains("CURLY_JOE"));
  }
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
