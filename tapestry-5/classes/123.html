<h3 style="margin:0px">Class: org.apache.tapestry5.internal.services.LinkImplTest (15 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(14)</kbd></button>&nbsp;<button id="8"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('8')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-8"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(10)</kbd></button>&nbsp;<button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="10"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('10')" data-toggle="tooltip" title="Verifies whether two objects/variables are the same"><kbd id="tag-10"class="label-info"style="display: inline-block;font-size:7pt" >IdentityVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-8 type-10 type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void add_parameter_value(){
  Response response=mockResponse();
  ContextPathEncoder encoder=newMock(ContextPathEncoder.class);
  expect(encoder.encodeValue("plain")).andReturn("encoded");
  String expectedURI="/ctx/foo?bar=encoded";
  train_encodeURL(response,expectedURI,expectedURI);
  replay();
  Link link=new LinkImpl("/ctx/foo",false,LinkSecurity.INSECURE,response,encoder,null);
  assertSame(link.addParameterValue("bar","plain"),link);
  assertEquals(link.toURI(),expectedURI);
  verify();
}

</code></pre>

<pre class="type-8 type-10 type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void url_with_anchor(){
  Response response=mockResponse();
  String url="/foo/bar";
  train_encodeURL(response,url,ENCODED);
  replay();
  Link link=new LinkImpl(url,false,LinkSecurity.INSECURE,response,null,null);
  link.setAnchor("wilma");
  assertSame(link.getAnchor(),"wilma");
  assertEquals(link.toURI(),ENCODED + "#" + "wilma");
  verify();
}

</code></pre>

<pre class="type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void to_uri_with_added_parameters_and_on_construction_uri(){
  Response response=mockResponse();
  String expectedURI="/ctx/foo?foo=bar&baz=barney";
  train_encodeURL(response,expectedURI,expectedURI);
  replay();
  Link link=new LinkImpl("/ctx/foo?foo=bar",false,LinkSecurity.INSECURE,response,null,null);
  link.addParameter("baz","barney");
  assertEquals(link.toURI(),expectedURI);
  verify();
}

</code></pre>

<pre class="type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void retrieve_parameter_values(){
  Response response=mockResponse();
  replay();
  Link link=new LinkImpl("/foo/bar",false,null,response,null,null);
  link.addParameter("fred","flintstone");
  assertEquals(link.getParameterValue("fred"),"flintstone");
  verify();
}

</code></pre>

<pre class="type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void remove_parameter(){
  Link link=new LinkImpl("/baseURI",false,null,null,null,null);
  link.addParameter("fred","flintstone");
  link.addParameter("barney","rubble");
  link.removeParameter("fred");
  assertNull(link.getParameterValue("fred"));
  assertListsEquals(link.getParameterNames(),"barney");
}

</code></pre>

<pre class="type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * TAP5-2063
 */
@Test public void multivalued_parameter_support(){
  Response response=mockResponse();
  String expectedURI="/ctx?barney=&barney=foo&barney=bar&barney=baz&fred=flintstone";
  train_encodeURL(response,expectedURI,expectedURI);
  replay();
  Link link=new LinkImpl("/ctx",false,LinkSecurity.INSECURE,response,null,null);
  link.addParameter("fred","flintstone");
  link.addParameter("barney",null);
  link.addParameter("barney","foo");
  link.addParameter("barney","bar");
  link.addParameter("barney","baz");
  assertEquals(link.toURI(),expectedURI);
  verify();
}

</code></pre>

<pre class="type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void new_base_uri(){
  Response response=mockResponse();
  String expectedURI="/ctx/baz?baz=barney";
  train_encodeURL(response,expectedURI,expectedURI);
  replay();
  Link link=new LinkImpl("/ctx/foo",false,LinkSecurity.INSECURE,response,null,null);
  link.addParameter("baz","barney");
  link.setAnchor("jacob");
  Link copy=link.copyWithBasePath("/ctx/baz");
  assertEquals(copy.toURI(),expectedURI + "#jacob");
  verify();
}

</code></pre>

<pre class="type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void force_link_to_secure(){
  Response response=mockResponse();
  BaseURLSource baseURLSource=mockBaseURLSource();
  train_getBaseURL(baseURLSource,true,SECURE_BASE_URL);
  train_encodeURL(response,SECURE_BASE_URL + BASE_PATH,ENCODED);
  replay();
  Link link=new LinkImpl(BASE_PATH,false,LinkSecurity.INSECURE,response,null,baseURLSource);
  link.setSecurity(LinkSecurity.FORCE_SECURE);
  assertEquals(link.toAbsoluteURI(),ENCODED);
  verify();
}

</code></pre>

<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void absolute_URI_for_default_insecure_link(){
  Response response=mockResponse();
  BaseURLSource baseURLSource=mockBaseURLSource();
  train_getBaseURL(baseURLSource,false,INSECURE_BASE_URL);
  train_encodeURL(response,INSECURE_BASE_URL + BASE_PATH,ENCODED);
  replay();
  Link link=new LinkImpl(BASE_PATH,false,LinkSecurity.INSECURE,response,null,baseURLSource);
  assertEquals(link.toAbsoluteURI(),ENCODED);
  verify();
}

</code></pre>

<pre class="type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void to_string_same_as_to_uri(){
  Response response=mockResponse();
  String url="/bar/" + RAW_PATH;
  train_encodeURL(response,url,ENCODED);
  replay();
  Link link=new LinkImpl(url,false,LinkSecurity.INSECURE,response,null,null);
  assertEquals(link.toString(),ENCODED);
  assertEquals(link.getBasePath(),url);
  verify();
}

</code></pre>

<pre class="type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * TAP5-922
 * @since 5.3
 */
@Test public void null_parameter_value(){
  Response response=mockResponse();
  String expectedURI="/ctx/foo?barney=&fred=flintstone";
  train_encodeURL(response,expectedURI,expectedURI);
  replay();
  Link link=new LinkImpl("/ctx/foo",false,LinkSecurity.INSECURE,response,null,null);
  link.addParameter("fred","flintstone");
  link.addParameter("barney",null);
  assertEquals(link.toURI(),expectedURI);
  verify();
}

</code></pre>

<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void absolute_URI_for_default_secure_link(){
  Response response=mockResponse();
  BaseURLSource baseURLSource=mockBaseURLSource();
  train_getBaseURL(baseURLSource,true,SECURE_BASE_URL);
  train_encodeURL(response,SECURE_BASE_URL + BASE_PATH,ENCODED);
  replay();
  Link link=new LinkImpl(BASE_PATH,false,LinkSecurity.SECURE,response,null,baseURLSource);
  assertEquals(link.toAbsoluteURI(),ENCODED);
  verify();
}

</code></pre>

<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void simple_redirect(){
  Response response=mockResponse();
  String URI="/base/context/" + RAW_PATH;
  train_encodeRedirectURL(response,URI,ENCODED);
  replay();
  Link link=new LinkImpl(URI,false,LinkSecurity.INSECURE,response,null,null);
  assertEquals(link.toRedirectURI(),ENCODED);
  verify();
}

</code></pre>

<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void force_secure_URI_from_insecure_link(){
  Response response=mockResponse();
  BaseURLSource baseURLSource=mockBaseURLSource();
  train_getBaseURL(baseURLSource,true,SECURE_BASE_URL);
  train_encodeURL(response,SECURE_BASE_URL + BASE_PATH,ENCODED);
  replay();
  Link link=new LinkImpl(BASE_PATH,false,LinkSecurity.INSECURE,response,null,baseURLSource);
  assertEquals(link.toAbsoluteURI(true),ENCODED);
  verify();
}

</code></pre>

<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void force_insecure_URI_from_secure_link(){
  Response response=mockResponse();
  BaseURLSource baseURLSource=mockBaseURLSource();
  train_getBaseURL(baseURLSource,false,INSECURE_BASE_URL);
  train_encodeURL(response,INSECURE_BASE_URL + BASE_PATH,ENCODED);
  replay();
  Link link=new LinkImpl(BASE_PATH,false,LinkSecurity.SECURE,response,null,baseURLSource);
  assertEquals(link.toAbsoluteURI(false),ENCODED);
  verify();
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
