<h3><span class=" glyphicon glyphicon-tag"/>&nbspConditionMatcher</h3><kbd>Verifies logic rules using matcher-style statements</kbd><br><br><br><h4 style="margin:0px">Class: org.jclouds.azureblob.AzureBlobClientLiveTest </h4><pre class="type-1 type-2 type-16 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeOut=5 * 60 * 1000,dependsOnMethods={"testCreateContainer"}) public void testCopyBlobIfUnmodifiedSince() throws Exception {
  ByteSource byteSource=TestUtils.randomByteSource().slice(0,1024);
  AzureBlob object=getApi().newBlob();
  object.getProperties().setName("from");
  object.setPayload(byteSource.read());
  String eTag=getApi().putBlob(privateContainer,object);
  long now=System.currentTimeMillis();
  Date before=new Date(now - 1000 * 1000);
  Date after=new Date(now + 1000 * 1000);
  URI copySource=view.getSigner().signGetBlob(privateContainer,"from").getEndpoint();
  try {
    getApi().copyBlob(copySource,privateContainer,"to-if-unmodifed-since",CopyBlobOptions.builder().ifUnmodifiedSince(before).build());
    failBecauseExceptionWasNotThrown(AzureStorageResponseException.class);
  }
 catch (  AzureStorageResponseException asre) {
    assertThat(asre.getResponse().getStatusCode()).as("status code").isEqualTo(412);
  }
  getApi().copyBlob(copySource,privateContainer,"to-if-unmodifed-since",CopyBlobOptions.builder().ifUnmodifiedSince(after).build());
  AzureBlob getBlob=getApi().getBlob(privateContainer,"to-if-unmodifed-since");
  assertEquals(ByteStreams2.toByteArrayAndClose(getBlob.getPayload().openStream()),byteSource.read());
}

</code></pre>

<br>
<pre class="type-1 type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testSetBlobProperties() throws Exception {
  String blobName="blob-name";
  ByteSource byteSource=TestUtils.randomByteSource().slice(0,1024);
  String contentDisposition="attachment; filename=photo.jpg";
  String contentEncoding="compress";
  String contentLanguage="en";
  String contentType="audio/ogg";
  AzureBlob object=getApi().newBlob();
  object.getProperties().setName(blobName);
  object.setPayload(byteSource.read());
  getApi().putBlob(privateContainer,object);
  getApi().setBlobProperties(privateContainer,blobName,ContentMetadataBuilder.create().contentDisposition(contentDisposition).contentEncoding(contentEncoding).contentLanguage(contentLanguage).contentType(contentType).build());
  BlobProperties properties=getApi().getBlobProperties(privateContainer,blobName);
  ContentMetadata contentMetadata=properties.getContentMetadata();
  assertThat(contentMetadata.getContentDisposition()).isEqualTo(contentDisposition);
  assertThat(contentMetadata.getContentEncoding()).isEqualTo(contentEncoding);
  assertThat(contentMetadata.getContentLanguage()).isEqualTo(contentLanguage);
  assertThat(contentMetadata.getContentType()).isEqualTo(contentType);
}

</code></pre>

<br>
<pre class="type-13 type-1 type-2 type-16 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeOut=5 * 60 * 1000,dependsOnMethods={"testCreateContainer","testCreatePublicContainer"}) public void testObjectOperations() throws Exception {
  String data="Here is my data";
  AzureBlob object=getApi().newBlob();
  object.getProperties().setName("object");
  object.setPayload(data);
  object.getProperties().getContentMetadata().setContentMD5(Hashing.md5().hashString(data,Charsets.UTF_8).asBytes());
  object.getProperties().getContentMetadata().setContentType("text/plain");
  object.getProperties().getMetadata().put("mykey","metadata-value");
  byte[] md5=object.getProperties().getContentMetadata().getContentMD5();
  String newEtag=getApi().putBlob(privateContainer,object);
  assertEquals(base16().lowerCase().encode(md5),base16().lowerCase().encode(object.getProperties().getContentMetadata().getContentMD5()));
  assert getApi().getBlobProperties(privateContainer,"non-existent-object") == null;
  BlobProperties metadata=getApi().getBlobProperties(privateContainer,object.getProperties().getName());
  assertEquals(metadata.getName(),object.getProperties().getName());
  assertEquals(metadata.getContentMetadata().getContentLength(),Long.valueOf(data.length()));
  assertEquals(metadata.getContentMetadata().getContentType(),"text/plain");
  assertEquals(base16().lowerCase().encode(metadata.getContentMetadata().getContentMD5()),base16().lowerCase().encode(object.getProperties().getContentMetadata().getContentMD5()));
  assertEquals(metadata.getETag(),newEtag);
  assertEquals(metadata.getMetadata().entrySet().size(),1);
  assertEquals(metadata.getMetadata().get("mykey"),"metadata-value");
  Map<String,String> userMetadata=ImmutableMap.<String,String>builder().put("new_metadata_1","value-1").put("new_metadata_2","value-2").build();
  String eTag=getApi().setBlobMetadata(privateContainer,object.getProperties().getName(),userMetadata);
  assertThat(eTag).isNotNull();
  String eTag2=getApi().setBlobMetadata(privateContainer,object.getProperties().getName(),userMetadata);
  assertThat(eTag2).isNotNull().isNotEqualTo(eTag);
  assert getApi().getBlob(privateContainer,"non-existent-object") == null;
  AzureBlob getBlob=getApi().getBlob(privateContainer,object.getProperties().getName());
  assertEquals(Strings2.toStringAndClose(getBlob.getPayload().openStream()),data);
  assertEquals(getBlob.getProperties().getName(),object.getProperties().getName());
  assertEquals(getBlob.getPayload().getContentMetadata().getContentLength(),Long.valueOf(data.length()));
  assertEquals(getBlob.getProperties().getContentMetadata().getContentType(),"text/plain");
  assertEquals(base16().lowerCase().encode(md5),base16().lowerCase().encode(getBlob.getProperties().getContentMetadata().getContentMD5()));
  assertEquals(getBlob.getProperties().getMetadata().size(),2);
  assertEquals(getBlob.getProperties().getMetadata().get("new_metadata_1"),"value-1");
  assertEquals(getBlob.getProperties().getMetadata().get("new_metadata_2"),"value-2");
  assertEquals(metadata.getMetadata().entrySet().size(),1);
  assertEquals(metadata.getMetadata().get("mykey"),"metadata-value");
  ListBlobsResponse response=getApi().listBlobs(privateContainer,ListBlobsOptions.Builder.prefix(object.getProperties().getName().substring(0,object.getProperties().getName().length() - 1)).maxResults(1).includeMetadata());
  assertEquals(response.size(),1);
  assertEquals(Iterables.getOnlyElement(response).getName(),object.getProperties().getName());
  assertEquals(Iterables.getOnlyElement(response).getMetadata().size(),2);
  assertEquals(Iterables.getOnlyElement(response).getMetadata().get("new_metadata_1"),"value-1");
  assertEquals(Iterables.getOnlyElement(response).getMetadata().get("new_metadata_2"),"value-2");
  String correctEtag=newEtag;
  String incorrectEtag="0" + correctEtag.substring(1);
  object.getProperties().setETag(incorrectEtag);
  try {
    getApi().putBlob(privateContainer,object);
  }
 catch (  Throwable e) {
    assertEquals(e.getCause().getClass(),HttpResponseException.class);
    assertEquals(((HttpResponseException)e.getCause()).getResponse().getStatusCode(),422);
  }
  ByteArrayInputStream bais=new ByteArrayInputStream(data.getBytes(Charsets.UTF_8));
  object=getApi().newBlob();
  object.getProperties().setName("chunked-object");
  object.setPayload(bais);
  object.getPayload().getContentMetadata().setContentLength(Long.valueOf(data.getBytes().length));
  newEtag=getApi().putBlob(privateContainer,object);
  assertEquals(base16().lowerCase().encode(md5),base16().lowerCase().encode(getBlob.getProperties().getContentMetadata().getContentMD5()));
  try {
    getApi().getBlob(privateContainer,object.getProperties().getName(),GetOptions.Builder.ifETagDoesntMatch(newEtag));
  }
 catch (  Exception e) {
    HttpResponseException httpEx=Throwables2.getFirstThrowableOfType(e,HttpResponseException.class);
    assert httpEx != null : "expected http exception, not " + e;
    assertEquals(httpEx.getResponse().getStatusCode(),304);
  }
  try {
    getBlob=getApi().getBlob(privateContainer,object.getProperties().getName(),GetOptions.Builder.ifETagMatches(newEtag));
    assertEquals(getBlob.getProperties().getETag(),newEtag);
  }
 catch (  HttpResponseException e) {
    assertEquals(e.getResponse().getStatusCode(),412);
  }
  getBlob=getApi().getBlob(privateContainer,object.getProperties().getName(),GetOptions.Builder.startAt(8));
  assertEquals(Strings2.toStringAndClose(getBlob.getPayload().openStream()),data.substring(8));
  getApi().deleteBlob(privateContainer,"object");
  getApi().deleteBlob(privateContainer,"chunked-object");
}

</code></pre>

<br>
<pre class="type-1 type-2 type-16 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeOut=5 * 60 * 1000,dependsOnMethods={"testCreateContainer"}) public void testCopyBlobIfMatch() throws Exception {
  ByteSource byteSource=TestUtils.randomByteSource().slice(0,1024);
  AzureBlob object=getApi().newBlob();
  object.getProperties().setName("from");
  object.setPayload(byteSource.read());
  String eTag=getApi().putBlob(privateContainer,object);
  String fakeETag="0x8CEB669D794AFE2";
  URI copySource=view.getSigner().signGetBlob(privateContainer,"from").getEndpoint();
  try {
    getApi().copyBlob(copySource,privateContainer,"to-if-match",CopyBlobOptions.builder().ifMatch(fakeETag).build());
    failBecauseExceptionWasNotThrown(AzureStorageResponseException.class);
  }
 catch (  AzureStorageResponseException asre) {
    assertThat(asre.getResponse().getStatusCode()).as("status code").isEqualTo(412);
  }
  getApi().copyBlob(copySource,privateContainer,"to-if-match",CopyBlobOptions.builder().ifMatch(eTag).build());
  AzureBlob getBlob=getApi().getBlob(privateContainer,"to-if-match");
  assertEquals(ByteStreams2.toByteArrayAndClose(getBlob.getPayload().openStream()),byteSource.read());
}

</code></pre>

<br>
<pre class="type-1 type-2 type-16 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeOut=5 * 60 * 1000,dependsOnMethods={"testCreateContainer"}) public void testCopyBlob() throws Exception {
  ByteSource byteSource=TestUtils.randomByteSource().slice(0,1024);
  AzureBlob object=getApi().newBlob();
  object.getProperties().setName("from");
  object.setPayload(byteSource.read());
  getApi().putBlob(privateContainer,object);
  URI copySource=view.getSigner().signGetBlob(privateContainer,"from").getEndpoint();
  getApi().copyBlob(copySource,privateContainer,"to",CopyBlobOptions.NONE);
  AzureBlob getBlob=getApi().getBlob(privateContainer,"to");
  assertEquals(ByteStreams2.toByteArrayAndClose(getBlob.getPayload().openStream()),byteSource.read());
  assertThat(getBlob.getProperties().getMetadata().isEmpty());
}

</code></pre>

<br>
<pre class="type-1 type-2 type-16 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeOut=5 * 60 * 1000,dependsOnMethods={"testCreateContainer"}) public void testCopyBlobIfNoneMatch() throws Exception {
  ByteSource byteSource=TestUtils.randomByteSource().slice(0,1024);
  AzureBlob object=getApi().newBlob();
  object.getProperties().setName("from");
  object.setPayload(byteSource.read());
  String eTag=getApi().putBlob(privateContainer,object);
  String fakeETag="0x8CEB669D794AFE2";
  URI copySource=view.getSigner().signGetBlob(privateContainer,"from").getEndpoint();
  try {
    getApi().copyBlob(copySource,privateContainer,"to-if-none-match",CopyBlobOptions.builder().ifNoneMatch(eTag).build());
    failBecauseExceptionWasNotThrown(AzureStorageResponseException.class);
  }
 catch (  AzureStorageResponseException asre) {
    assertThat(asre.getResponse().getStatusCode()).as("status code").isEqualTo(412);
  }
  getApi().copyBlob(copySource,privateContainer,"to-if-none-match",CopyBlobOptions.builder().ifNoneMatch(fakeETag).build());
  AzureBlob getBlob=getApi().getBlob(privateContainer,"to-if-none-match");
  assertEquals(ByteStreams2.toByteArrayAndClose(getBlob.getPayload().openStream()),byteSource.read());
}

</code></pre>

<br>
<pre class="type-1 type-2 type-16 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeOut=5 * 60 * 1000,dependsOnMethods={"testCreateContainer"}) public void testCopyBlobReplaceMetadata() throws Exception {
  ByteSource byteSource=TestUtils.randomByteSource().slice(0,1024);
  AzureBlob object=getApi().newBlob();
  object.getProperties().setName("from");
  object.setPayload(byteSource.read());
  getApi().putBlob(privateContainer,object);
  URI copySource=view.getSigner().signGetBlob(privateContainer,"from").getEndpoint();
  Map<String,String> newMetadata=ImmutableMap.of("foo","bar");
  getApi().copyBlob(copySource,privateContainer,"to",CopyBlobOptions.builder().overrideUserMetadata(newMetadata).build());
  AzureBlob getBlob=getApi().getBlob(privateContainer,"to");
  assertEquals(ByteStreams2.toByteArrayAndClose(getBlob.getPayload().openStream()),byteSource.read());
  assertThat(getBlob.getProperties().getMetadata()).isEqualTo(newMetadata);
}

</code></pre>

<br>
<pre class="type-1 type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetSetACL() throws Exception {
  AzureBlobClient client=getApi();
  String blockContainer=CONTAINER_PREFIX + new SecureRandom().nextInt();
  client.createContainer(blockContainer);
  try {
    assertThat(client.getPublicAccessForContainer(blockContainer)).isEqualTo(PublicAccess.PRIVATE);
    setAndVerifyACL(client,blockContainer,PublicAccess.CONTAINER);
    setAndVerifyACL(client,blockContainer,PublicAccess.BLOB);
    setAndVerifyACL(client,blockContainer,PublicAccess.PRIVATE);
  }
  finally {
    client.deleteContainer(blockContainer);
  }
}

</code></pre>

<br>
<pre class="type-1 type-2 type-16 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeOut=5 * 60 * 1000,dependsOnMethods={"testCreateContainer"}) public void testCopyBlobIfModifiedSince() throws Exception {
  ByteSource byteSource=TestUtils.randomByteSource().slice(0,1024);
  AzureBlob object=getApi().newBlob();
  object.getProperties().setName("from");
  object.setPayload(byteSource.read());
  String eTag=getApi().putBlob(privateContainer,object);
  long now=System.currentTimeMillis();
  Date before=new Date(now - 1000 * 1000);
  Date after=new Date(now + 1000 * 1000);
  URI copySource=view.getSigner().signGetBlob(privateContainer,"from").getEndpoint();
  try {
    getApi().copyBlob(copySource,privateContainer,"to-if-modified-since",CopyBlobOptions.builder().ifModifiedSince(after).build());
    failBecauseExceptionWasNotThrown(AzureStorageResponseException.class);
  }
 catch (  AzureStorageResponseException asre) {
    assertThat(asre.getResponse().getStatusCode()).as("status code").isEqualTo(412);
  }
  getApi().copyBlob(copySource,privateContainer,"to-if-modified-since",CopyBlobOptions.builder().ifModifiedSince(before).build());
  AzureBlob getBlob=getApi().getBlob(privateContainer,"to-if-modified-since");
  assertEquals(ByteStreams2.toByteArrayAndClose(getBlob.getPayload().openStream()),byteSource.read());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.jclouds.blobstore.integration.internal.BaseBlobIntegrationTest </h4><pre class="type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test(groups={"integration","live"}) public void testGetRangeOutOfRange() throws InterruptedException, IOException {
  String container=getContainerName();
  try {
    String name="apples";
    addObjectAndValidateContent(container,name);
    try {
      view.getBlobStore().getBlob(container,name,range(TEST_STRING.length(),TEST_STRING.length() + 1));
      throw new AssertionError("Invalid range not caught");
    }
 catch (    HttpResponseException e) {
      assertThat(e.getResponse().getStatusCode()).isEqualTo(416);
    }
catch (    IllegalArgumentException e) {
    }
  }
  finally {
    returnContainer(container);
  }
}

</code></pre>

<br>
<pre class="type-1 type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test(groups={"integration","live"}) public void testMultipartUploadNoPartsAbort() throws Exception {
  BlobStore blobStore=view.getBlobStore();
  String container=getContainerName();
  try {
    String name="blob-name";
    Blob blob=blobStore.blobBuilder(name).build();
    MultipartUpload mpu=blobStore.initiateMultipartUpload(container,blob.getMetadata(),new PutOptions());
    List<MultipartPart> parts=blobStore.listMultipartUpload(mpu);
    assertThat(parts).isEqualTo(ImmutableList.of());
    blobStore.abortMultipartUpload(mpu);
    blob=blobStore.getBlob(container,name);
    assertThat(blob).isNull();
  }
  finally {
    returnContainer(container);
  }
}

</code></pre>

<br>
<pre class="type-1 type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test(groups={"integration","live"}) public void testPutBlobAccessMultipart() throws Exception {
  BlobStore blobStore=view.getBlobStore();
  String containerName=getContainerName();
  try {
    String blobNamePrivate="put-access-blob-name-private";
    Blob blobPrivate=blobStore.blobBuilder(blobNamePrivate).payload(new byte[1]).build();
    blobStore.putBlob(containerName,blobPrivate,new PutOptions().setBlobAccess(BlobAccess.PRIVATE).multipart(true));
    assertThat(blobStore.getBlobAccess(containerName,blobNamePrivate)).isEqualTo(BlobAccess.PRIVATE);
    String blobNamePublic="put-access-blob-name-public";
    Blob blobPublic=blobStore.blobBuilder(blobNamePublic).payload(new byte[1]).build();
    blobStore.putBlob(containerName,blobPublic,new PutOptions().setBlobAccess(BlobAccess.PUBLIC_READ).multipart(true));
    assertThat(blobStore.getBlobAccess(containerName,blobNamePublic)).isEqualTo(BlobAccess.PUBLIC_READ);
  }
  finally {
    returnContainer(containerName);
  }
}

</code></pre>

<br>
<pre class="type-13 type-1 type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test(groups={"integration","live"}) public void testSetBlobAccess() throws Exception {
  BlobStore blobStore=view.getBlobStore();
  String containerName=getContainerName();
  String blobName="set-access-blob-name";
  try {
    addBlobToContainer(containerName,blobName,blobName,MediaType.TEXT_PLAIN);
    assertThat(blobStore.getBlobAccess(containerName,blobName)).isEqualTo(BlobAccess.PRIVATE);
    blobStore.setBlobAccess(containerName,blobName,BlobAccess.PUBLIC_READ);
    assertThat(blobStore.getBlobAccess(containerName,blobName)).isEqualTo(BlobAccess.PUBLIC_READ);
    HttpRequest request=view.getSigner().signGetBlob(containerName,blobName).toBuilder().replaceQueryParams(ImmutableMap.<String,String>of()).build();
    HttpResponse response=view.utils().http().invoke(request);
    assertThat(response.getStatusCode()).isEqualTo(200);
    blobStore.setBlobAccess(containerName,blobName,BlobAccess.PRIVATE);
    assertThat(blobStore.getBlobAccess(containerName,blobName)).isEqualTo(BlobAccess.PRIVATE);
  }
  finally {
    returnContainer(containerName);
  }
}

</code></pre>

<br>
<pre class="type-13 type-1 type-2 type-16 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(groups={"integration","live"}) public void testGetRange() throws InterruptedException, IOException {
  String container=getContainerName();
  try {
    String name="apples";
    addObjectAndValidateContent(container,name);
    Blob blob1=view.getBlobStore().getBlob(container,name,range(0,5));
    validateMetadata(blob1.getMetadata(),container,name);
    assertEquals(getContentAsStringOrNullAndClose(blob1),TEST_STRING.substring(0,6));
    assertThat(blob1.getAllHeaders().get(HttpHeaders.CONTENT_RANGE)).containsExactly("bytes 0-5/46");
    Blob blob2=view.getBlobStore().getBlob(container,name,range(6,TEST_STRING.length()));
    validateMetadata(blob2.getMetadata(),container,name);
    assertEquals(getContentAsStringOrNullAndClose(blob2),TEST_STRING.substring(6,TEST_STRING.length()));
    assertThat(blob2.getAllHeaders().get(HttpHeaders.CONTENT_RANGE)).containsExactly("bytes 6-45/46");
    Blob blob3=view.getBlobStore().getBlob(container,name,new GetOptions().tail(TEST_STRING.length() + 10));
    validateMetadata(blob3.getMetadata(),container,name);
    assertEquals(getContentAsStringOrNullAndClose(blob3),TEST_STRING);
  }
  finally {
    returnContainer(container);
  }
}

</code></pre>

<br>
<pre class="type-1 type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test(groups={"integration","live"}) public void testMultipartUploadMultipleParts() throws Exception {
  BlobStore blobStore=view.getBlobStore();
  String container=getContainerName();
  try {
    String name="blob-name";
    PayloadBlobBuilder blobBuilder=blobStore.blobBuilder(name).userMetadata(ImmutableMap.of("key1","value1","key2","value2")).payload(new byte[0]);
    addContentMetadata(blobBuilder);
    Blob blob=blobBuilder.build();
    MultipartUpload mpu=blobStore.initiateMultipartUpload(container,blob.getMetadata(),new PutOptions());
    ByteSource byteSource=TestUtils.randomByteSource().slice(0,blobStore.getMinimumMultipartPartSize() + 1);
    ByteSource byteSource1=byteSource.slice(0,blobStore.getMinimumMultipartPartSize());
    ByteSource byteSource2=byteSource.slice(blobStore.getMinimumMultipartPartSize(),1);
    Payload payload1=Payloads.newByteSourcePayload(byteSource1);
    Payload payload2=Payloads.newByteSourcePayload(byteSource2);
    payload1.getContentMetadata().setContentLength(byteSource1.size());
    payload2.getContentMetadata().setContentLength(byteSource2.size());
    MultipartPart part1=blobStore.uploadMultipartPart(mpu,1,payload1);
    MultipartPart part2=blobStore.uploadMultipartPart(mpu,2,payload2);
    List<MultipartPart> parts=blobStore.listMultipartUpload(mpu);
    assertThat(parts).isEqualTo(ImmutableList.of(part1,part2));
    blobStore.completeMultipartUpload(mpu,ImmutableList.of(part1,part2));
    Blob newBlob=blobStore.getBlob(container,name);
    assertThat(ByteStreams2.toByteArrayAndClose(newBlob.getPayload().openStream())).isEqualTo(byteSource.read());
    checkContentMetadata(newBlob);
    checkUserMetadata(newBlob.getMetadata().getUserMetadata(),blob.getMetadata().getUserMetadata());
  }
  finally {
    returnContainer(container);
  }
}

</code></pre>

<br>
<pre class="type-1 type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test(groups={"integration","live"}) public void testPutMultipartByteSource() throws Exception {
  long length=32 * 1024 * 1024 + 1;
  BlobStore blobStore=view.getBlobStore();
  MultipartUploadSlicingAlgorithm algorithm=new MultipartUploadSlicingAlgorithm(blobStore.getMinimumMultipartPartSize(),blobStore.getMaximumMultipartPartSize(),blobStore.getMaximumNumberOfParts());
  assertThat(algorithm.calculateChunkSize(length)).isLessThan(length);
  ByteSource byteSource=TestUtils.randomByteSource().slice(0,length);
  Payload payload=new ByteSourcePayload(byteSource);
  HashCode hashCode=byteSource.hash(Hashing.md5());
  testPut(payload,hashCode,payload,length,new PutOptions().multipart(true));
}

</code></pre>

<br>
<pre class="type-1 type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test(groups={"integration","live"}) public void testMultipartUploadSinglePart() throws Exception {
  BlobStore blobStore=view.getBlobStore();
  String container=getContainerName();
  try {
    String name="blob-name";
    PayloadBlobBuilder blobBuilder=blobStore.blobBuilder(name).userMetadata(ImmutableMap.of("key1","value1","key2","value2")).payload(new byte[0]);
    addContentMetadata(blobBuilder);
    Blob blob=blobBuilder.build();
    MultipartUpload mpu=blobStore.initiateMultipartUpload(container,blob.getMetadata(),new PutOptions());
    ByteSource byteSource=TestUtils.randomByteSource().slice(0,1);
    Payload payload=Payloads.newByteSourcePayload(byteSource);
    payload.getContentMetadata().setContentLength(byteSource.size());
    MultipartPart part=blobStore.uploadMultipartPart(mpu,1,payload);
    List<MultipartPart> parts=blobStore.listMultipartUpload(mpu);
    assertThat(parts).isEqualTo(ImmutableList.of(part));
    blobStore.completeMultipartUpload(mpu,ImmutableList.of(part));
    Blob newBlob=blobStore.getBlob(container,name);
    assertThat(newBlob).isNotNull();
    assertThat(ByteStreams2.toByteArrayAndClose(newBlob.getPayload().openStream())).isEqualTo(byteSource.read());
    checkContentMetadata(newBlob);
    checkUserMetadata(newBlob.getMetadata().getUserMetadata(),blob.getMetadata().getUserMetadata());
  }
  finally {
    returnContainer(container);
  }
}

</code></pre>

<br>
<pre class="type-1 type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test(groups={"integration","live"}) public void testPutBlobAccess() throws Exception {
  BlobStore blobStore=view.getBlobStore();
  String containerName=getContainerName();
  try {
    String blobNamePrivate="put-access-blob-name-private";
    Blob blobPrivate=blobStore.blobBuilder(blobNamePrivate).payload(new byte[1]).build();
    blobStore.putBlob(containerName,blobPrivate,new PutOptions().setBlobAccess(BlobAccess.PRIVATE));
    assertThat(blobStore.getBlobAccess(containerName,blobNamePrivate)).isEqualTo(BlobAccess.PRIVATE);
    String blobNamePublic="put-access-blob-name-public";
    Blob blobPublic=blobStore.blobBuilder(blobNamePublic).payload(new byte[1]).build();
    blobStore.putBlob(containerName,blobPublic,new PutOptions().setBlobAccess(BlobAccess.PUBLIC_READ));
    assertThat(blobStore.getBlobAccess(containerName,blobNamePublic)).isEqualTo(BlobAccess.PUBLIC_READ);
  }
  finally {
    returnContainer(containerName);
  }
}

</code></pre>

<br>
<pre class="type-13 type-1 type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test(groups={"integration","live"}) public void testGetRangeMultipart() throws InterruptedException, IOException {
  String container=getContainerName();
  InputStream expect=null;
  InputStream actual=null;
  try {
    String name="apples";
    long length=getMinimumMultipartBlobSize();
    ByteSource byteSource=TestUtils.randomByteSource().slice(0,length);
    Blob blob=view.getBlobStore().blobBuilder(name).payload(byteSource).contentLength(length).build();
    view.getBlobStore().putBlob(container,blob,new PutOptions().multipart(true));
    blob=view.getBlobStore().getBlob(container,name,range(0,5));
    validateMetadata(blob.getMetadata(),container,name);
    expect=byteSource.slice(0,6).openStream();
    actual=blob.getPayload().openStream();
    assertThat(actual).hasContentEqualTo(expect);
  }
  finally {
    Closeables2.closeQuietly(expect);
    Closeables2.closeQuietly(actual);
    returnContainer(container);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.jclouds.blobstore.integration.internal.BaseContainerIntegrationTest </h4><pre class="type-13 type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testListMarkerAfterLastKey() throws Exception {
  String key="hello";
  String containerName=getContainerName();
  try {
    addBlobToContainer(containerName,view.getBlobStore().blobBuilder(key).userMetadata(ImmutableMap.of("Adrian","powderpuff")).payload(TEST_STRING).contentType(MediaType.TEXT_PLAIN).contentMD5(md5().hashString(TEST_STRING,UTF_8).asBytes()).build());
    validateContent(containerName,key);
    awaitConsistency();
    PageSet<? extends StorageMetadata> container=view.getBlobStore().list(containerName,afterMarker(key));
    assertThat(container).isEmpty();
  }
  finally {
    returnContainer(containerName);
  }
}

</code></pre>

<br>
<pre class="type-13 type-1 type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test(groups={"integration","live"}) public void testDirectory() throws InterruptedException {
  String containerName=getContainerName();
  try {
    String directory="directory";
    assert !view.getBlobStore().directoryExists(containerName,directory);
    view.getBlobStore().createDirectory(containerName,directory);
    assert view.getBlobStore().directoryExists(containerName,directory);
    PageSet<? extends StorageMetadata> container=view.getBlobStore().list(containerName);
    assert container.getNextMarker() == null;
    assert container.size() == 1 : container;
    container=view.getBlobStore().list(containerName,inDirectory(directory));
    assert container.getNextMarker() == null;
    assert container.size() == 0 : container;
    addTenObjectsUnderPrefix(containerName,directory);
    awaitConsistency();
    container=view.getBlobStore().list(containerName);
    assert container.getNextMarker() == null;
    assertThat(container).hasSize(2);
    container=view.getBlobStore().list(containerName,inDirectory(directory));
    assert container.getNextMarker() == null;
    assert container.size() == 10 : container;
    assert !view.getBlobStore().directoryExists(containerName,directory + "/" + directory);
    view.getBlobStore().createDirectory(containerName,directory + "/" + directory);
    awaitConsistency();
    assert view.getBlobStore().directoryExists(containerName,directory + "/" + directory);
    view.getBlobStore().clearContainer(containerName,inDirectory(directory));
    awaitConsistency();
    assert view.getBlobStore().directoryExists(containerName,directory);
    assertThat(view.getBlobStore().directoryExists(containerName,directory + "/" + directory)).isFalse();
    container=view.getBlobStore().list(containerName,inDirectory(directory));
    assert container.getNextMarker() == null;
    assertThat(container).hasSize(0);
    view.getBlobStore().createDirectory(containerName,directory + "/" + directory);
    awaitConsistency();
    container=view.getBlobStore().list(containerName,inDirectory(directory).recursive());
    assert container.getNextMarker() == null;
    assert container.size() == 1 : container;
    view.getBlobStore().clearContainer(containerName,inDirectory(directory).recursive());
    container=view.getBlobStore().list(containerName,inDirectory(directory));
    assert container.getNextMarker() == null;
    assert container.size() == 0 : container;
    container=view.getBlobStore().list(containerName);
    assert container.getNextMarker() == null;
    assert container.size() == 1 : container;
    view.getBlobStore().deleteDirectory(containerName,directory);
    container=view.getBlobStore().list(containerName);
    assert container.getNextMarker() == null;
    assert container.size() == 0 : container;
  }
  finally {
    returnContainer(containerName);
  }
}

</code></pre>

<br>
<pre class="type-13 type-1 type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test(groups={"integration","live"}) public void testListContainerMaxResults() throws InterruptedException {
  String containerName=getContainerName();
  try {
    addAlphabetUnderRoot(containerName);
    PageSet<? extends StorageMetadata> container;
    ListContainerOptions options=maxResults(10);
    container=view.getBlobStore().list(containerName,options);
    assertThat(container).hasSize(10);
    assertThat(container.getNextMarker()).isNotNull();
    container=view.getBlobStore().list(containerName,options.afterMarker(container.getNextMarker()));
    assertThat(container).hasSize(10);
    assertThat(container.getNextMarker()).isNotNull();
    container=view.getBlobStore().list(containerName,options.afterMarker(container.getNextMarker()));
    assertThat(container).hasSize(6);
    assertThat(container.getNextMarker()).isNull();
  }
  finally {
    returnContainer(containerName);
  }
}

</code></pre>

<br>
<pre class="type-13 type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testListContainerWithZeroMaxResults() throws Exception {
  String key="hello";
  String containerName=getContainerName();
  try {
    addBlobToContainer(containerName,view.getBlobStore().blobBuilder(key).userMetadata(ImmutableMap.of("Adrian","powderpuff")).payload(TEST_STRING).contentType(MediaType.TEXT_PLAIN).contentMD5(md5().hashString(TEST_STRING,UTF_8).asBytes()).build());
    awaitConsistency();
    validateContent(containerName,key);
    PageSet<? extends StorageMetadata> container=view.getBlobStore().list(containerName,maxResults(0));
    assertThat(container).isEmpty();
  }
  finally {
    returnContainer(containerName);
  }
}

</code></pre>

<br>
<pre class="type-13 type-1 type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test(dataProvider="ignoreOnWindows",groups={"integration","live"}) public void testDelimiter() throws Exception {
  String containerName=getContainerName();
  try {
    for (    String blobName : new String[]{"asdf","boo" + File.separator + "bar","boo" + File.separator + "baz"+ File.separator+ "xyzzy","cquux" + File.separator + "thud","cquux" + File.separator + "bla"}) {
      Blob blob=view.getBlobStore().blobBuilder(blobName).payload(TEST_STRING).build();
      addBlobToContainer(containerName,blob);
    }
    PageSet<? extends StorageMetadata> pageSet=view.getBlobStore().list(containerName);
    assertThat(pageSet).hasSize(3);
    assertThat(pageSet.getNextMarker()).isNull();
    ListContainerOptions options=new ListContainerOptions().maxResults(1);
    pageSet=view.getBlobStore().list(containerName,options);
    assertThat(pageSet).hasSize(1);
    assertThat(pageSet.iterator().next().getName()).isEqualTo("asdf");
    assertThat(pageSet.getNextMarker()).isNotNull();
    options.afterMarker(pageSet.getNextMarker());
    pageSet=view.getBlobStore().list(containerName,options);
    assertThat(pageSet).hasSize(1);
    assertThat(pageSet.iterator().next().getName()).isEqualTo("boo/");
    assertThat(pageSet.getNextMarker()).isNotNull();
    options.afterMarker(pageSet.getNextMarker());
    pageSet=view.getBlobStore().list(containerName,options);
    assertThat(pageSet).hasSize(1);
    assertThat(pageSet.iterator().next().getName()).isEqualTo("cquux/");
    assertThat(pageSet.getNextMarker()).isNull();
    options=new ListContainerOptions().inDirectory("boo").maxResults(1);
    pageSet=view.getBlobStore().list(containerName,options);
    assertThat(pageSet).hasSize(1);
    assertThat(pageSet.iterator().next().getName()).isEqualTo("boo/bar");
    assertThat(pageSet.getNextMarker()).isNotNull();
    options.afterMarker(pageSet.getNextMarker());
    pageSet=view.getBlobStore().list(containerName,options);
    assertThat(pageSet).hasSize(1);
    assertThat(pageSet.iterator().next().getName()).isEqualTo("boo/baz/");
    assertThat(pageSet.getNextMarker()).isNull();
    options=new ListContainerOptions().inDirectory("boo").maxResults(2);
    pageSet=view.getBlobStore().list(containerName,options);
    assertThat(pageSet).hasSize(2);
    Iterator<? extends StorageMetadata> it=pageSet.iterator();
    assertThat(it.next().getName()).isEqualTo("boo/bar");
    assertThat(it.next().getName()).isEqualTo("boo/baz/");
    assertThat(pageSet.getNextMarker()).isNull();
  }
  finally {
    returnContainer(containerName);
  }
}

</code></pre>

<br>
<pre class="type-13 type-1 type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test(groups={"integration","live"}) public void testSetContainerAccess() throws Exception {
  BlobStore blobStore=view.getBlobStore();
  String containerName=getContainerName();
  try {
    assertThat(blobStore.getContainerAccess(containerName)).isEqualTo(ContainerAccess.PRIVATE);
    blobStore.setContainerAccess(containerName,ContainerAccess.PUBLIC_READ);
    assertThat(blobStore.getContainerAccess(containerName)).isEqualTo(ContainerAccess.PUBLIC_READ);
    String blobName="blob";
    blobStore.putBlob(containerName,blobStore.blobBuilder(blobName).payload("").build());
    HttpRequest request=view.getSigner().signGetBlob(containerName,blobName).toBuilder().replaceQueryParams(ImmutableMap.<String,String>of()).build();
    HttpResponse response=view.utils().http().invoke(request);
    assertThat(response.getStatusCode()).isEqualTo(200);
    blobStore.setContainerAccess(containerName,ContainerAccess.PRIVATE);
    assertThat(blobStore.getContainerAccess(containerName)).isEqualTo(ContainerAccess.PRIVATE);
  }
  finally {
    recycleContainerAndAddToPool(containerName);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.jclouds.http.UrisTest </h4><pre class="type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test(dataProvider="strings") public void testReplaceQueryIsEncoded(String key){
  assertThat(uriBuilder("/redirect").addQuery("foo",key).build().getQuery()).isEqualTo("foo=" + key);
  assertThat(uriBuilder("/redirect").addQuery("foo",key).build().getRawQuery()).isEqualTo("foo=" + urlEncode(key,'/',','));
}

</code></pre>

<br>
<pre class="type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test(dataProvider="strings") public void testQuery(String val){
  assertThat(uriBuilder("https://foo.com:8080").addQuery("moo",val).build().getQuery()).isEqualTo("moo=" + val);
  assertThat(uriBuilder("https://foo.com:8080").addQuery("moo",val).build().getRawQuery()).isEqualTo("moo=" + urlEncode(val,'/',','));
  assertThat(uriBuilder("https://api.github.com/repos/user?foo=bar&kung=fu").addQuery("moo",val).build().getQuery()).isEqualTo("foo=bar&kung=fu&moo=" + val);
  assertThat(uriBuilder("https://api.github.com/repos/user?foo=bar&kung=fu").addQuery("moo",val).build().getRawQuery()).isEqualTo("foo=bar&kung=fu&moo=" + urlEncode(val,'/',','));
  assertThat(uriBuilder("https://api.github.com/repos/{user}").addQuery("moo",val).build().getQuery()).isEqualTo("moo=" + val);
  assertThat(uriBuilder("https://api.github.com/repos/{user}").addQuery("moo",val).toString()).isEqualTo("https://api.github.com/repos/{user}?moo=" + urlEncode(val,'/',','));
  assertThat(uriBuilder("https://api.github.com/repos/{user}").addQuery("moo",val).build(templateParams).getRawQuery()).isEqualTo("moo=" + urlEncode(val,'/',','));
  assertThat(uriBuilder("https://api.github.com/repos/{user}").addQuery("moo",val).build(templateParams).getPath()).isEqualTo("/repos/bob");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.jclouds.openstack.swift.v1.features.StaticLargeObjectApiLiveTest </h4><pre class="type-13 type-1 type-2 type-16 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(dependsOnMethods="testReplaceManifest") public void testDelete() throws Exception {
  for (  String regionId : regions) {
    DeleteStaticLargeObjectResponse resp=api.getStaticLargeObjectApi(regionId,containerName).delete(name);
    assertThat(resp.status()).isEqualTo("200 OK");
    assertThat(resp.deleted()).isEqualTo(3);
    assertThat(resp.notFound()).isZero();
    assertThat(resp.errors()).isEmpty();
    assertEquals(api.getContainerApi(regionId).get(containerName).getObjectCount(),0);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.jclouds.s3.xml.PartIdsFromHttpResponseTest </h4><pre class="type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void test(){
  Map<Integer,String> actual=createParser().parse(getClass().getResourceAsStream("/multipart-upload-list-parts.xml"));
  Map<Integer,String> expected=ImmutableMap.of(2,"\"7778aef83f66abc1fa1e8477f296d394\"",3,"\"aaaa18db4cc2f85cedef654fccc4a4x8\"");
  assertThat(actual).isEqualTo(expected);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.jclouds.utils.TestUtilsTest </h4><pre class="type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testRandomByteSource() throws Exception {
  ByteSource byteSource=TestUtils.randomByteSource();
  InputStream is1=null;
  InputStream is2=null;
  try {
    is1=byteSource.openStream();
    is2=byteSource.openStream();
    byte[] bytes=new byte[16];
    ByteStreams.readFully(is1,bytes);
    for (    byte b : bytes) {
      assertThat(b).isEqualTo((byte)is2.read());
    }
  }
  finally {
    Closeables2.closeQuietly(is1);
    Closeables2.closeQuietly(is2);
  }
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
