<h3 style="margin:0px">Class: org.apache.juddi.v3.tck.UDDI_150_CustodyTransferIntegrationTest (8 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(6)</kbd></button>&nbsp;<button id="18"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('18')" data-toggle="tooltip" title="Sets implicit assumptions "><kbd id="tag-18"class="label-info"style="display: inline-block;font-size:7pt" >AssumptionSetter&nbsp;(6)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >UtilityVerifier&nbsp;(5)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="14"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('14')" data-toggle="tooltip" title="Is an empty test case"><kbd id="tag-14"class="label-info"style="display: inline-block;font-size:7pt" >EmptyTester&nbsp;(1)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies assertions inside branch conditions"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >BranchVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="8"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('8')" data-toggle="tooltip" title="Releases resources used by the test cases"><kbd id="tag-8"class="label-info"style="display: inline-block;font-size:7pt" >TestCleaner&nbsp;(1)</kbd></button>&nbsp;<button id="15"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('15')" data-toggle="tooltip" title="Verifies assertions in iterations"><kbd id="tag-15"class="label-info"style="display: inline-block;font-size:7pt" >IterativeVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-3 type-18 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void InvalidTransferTokenServiceDoesntExist() throws Exception {
  Assume.assumeTrue(TckPublisher.isEnabled());
  try {
    KeyBag kb=new KeyBag();
    kb.getKey().add("uddi:uddi.joepublisher.com:" + UUID.randomUUID().toString());
    Holder<String> nodeidOUT=new Holder<String>();
    Holder<XMLGregorianCalendar> expiresOUT=new Holder<XMLGregorianCalendar>();
    Holder<byte[]> tokenOUT=new Holder<byte[]>();
    custodyTransferPortTypeJoe.getTransferToken(authInfoJoe,kb,nodeidOUT,expiresOUT,tokenOUT);
    Assert.fail();
  }
 catch (  Exception ex) {
    logger.info("Expected exception: " + ex.getMessage());
  }
}

</code></pre>

<pre class="type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is an empty test case">EmptyTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Is an empty test case
"></span><br>
@Test public void ExpiredTransferToken(){
}

</code></pre>

<pre class="type-3 type-18 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void InvalidTransferTokenEmptyKeybag(){
  Assume.assumeTrue(TckPublisher.isEnabled());
  try {
    KeyBag kb=new KeyBag();
    Holder<String> nodeidOUT=new Holder<String>();
    Holder<XMLGregorianCalendar> expiresOUT=new Holder<XMLGregorianCalendar>();
    Holder<byte[]> tokenOUT=new Holder<byte[]>();
    custodyTransferPortTypeJoe.getTransferToken(authInfoJoe,kb,nodeidOUT,expiresOUT,tokenOUT);
    Assert.fail();
  }
 catch (  Exception ex) {
    logger.info("Expected exception: " + ex.getMessage());
  }
}

</code></pre>

<pre class="type-15 type-5 type-2 type-18 type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * tests a user to user transfer on the same node
 * @throws Exception
 */
@Test public void ValidTransfer() throws Exception {
  Assume.assumeTrue(TckPublisher.isEnabled());
  System.out.println("ValidTransfer");
  DatatypeFactory df=DatatypeFactory.newInstance();
  GregorianCalendar gcal=new GregorianCalendar();
  gcal.setTimeInMillis(System.currentTimeMillis());
  XMLGregorianCalendar xcal=df.newXMLGregorianCalendar(gcal);
  BusinessEntity myBusEntity=new BusinessEntity();
  Name myBusName=new Name();
  myBusName.setLang("en");
  myBusName.setValue("ValidTransfer UDDI's Business" + " " + xcal.toString());
  myBusEntity.getName().add(myBusName);
  myBusEntity.setBusinessServices(new BusinessServices());
  myBusEntity.getBusinessServices().getBusinessService().add(CreateBusiness("UDDI"));
  SaveBusiness sb=new SaveBusiness();
  sb.getBusinessEntity().add(myBusEntity);
  sb.setAuthInfo(authInfoJoe);
  BusinessDetail bd=publishJoe.saveBusiness(sb);
  String keyJoeBiz=bd.getBusinessEntity().get(0).getBusinessKey();
  myBusEntity=new BusinessEntity();
  myBusName=new Name();
  myBusName.setLang("en");
  myBusName.setValue("ValidTransfer Root's Business" + " " + xcal.toString());
  myBusEntity.getName().add(myBusName);
  myBusEntity.setBusinessServices(new BusinessServices());
  myBusEntity.getBusinessServices().getBusinessService().add(CreateBusiness("root"));
  sb=new SaveBusiness();
  sb.getBusinessEntity().add(myBusEntity);
  sb.setAuthInfo(authInfoSam);
  bd=publishSam.saveBusiness(sb);
  String keySamBiz=bd.getBusinessEntity().get(0).getBusinessKey();
  KeyBag kb=new KeyBag();
  kb.getKey().add(keyJoeBiz);
  Holder<String> nodeidOUT=new Holder<String>();
  Holder<XMLGregorianCalendar> expiresOUT=new Holder<XMLGregorianCalendar>();
  Holder<byte[]> tokenOUT=new Holder<byte[]>();
  custodyTransferPortTypeJoe.getTransferToken(authInfoJoe,kb,nodeidOUT,expiresOUT,tokenOUT);
  TransferEntities te=new TransferEntities();
  te.setAuthInfo(authInfoSam);
  te.setKeyBag(kb);
  TransferToken tt=new TransferToken();
  tt.setExpirationTime(expiresOUT.value);
  tt.setNodeID(nodeidOUT.value);
  tt.setOpaqueToken(tokenOUT.value);
  te.setTransferToken(tt);
  custodyTransferPortTypeSam.transferEntities(te);
  GetOperationalInfo go=new GetOperationalInfo();
  go.setAuthInfo(authInfoSam);
  go.getEntityKey().add(keySamBiz);
  go.getEntityKey().add(keyJoeBiz);
  OperationalInfos operationalInfo=inquirySam.getOperationalInfo(go);
  for (int i=0; i < operationalInfo.getOperationalInfo().size(); i++) {
    if (operationalInfo.getOperationalInfo().get(i).getEntityKey().equalsIgnoreCase(keyJoeBiz)) {
      Assert.assertEquals(operationalInfo.getOperationalInfo().get(i).getAuthorizedName(),(TckPublisher.getSamPublisherId()));
    }
  }
  System.out.println("Business Entity transfered successfull");
  TckCommon.DeleteBusiness(keyJoeBiz,authInfoSam,publishSam);
  TckCommon.DeleteBusiness(keySamBiz,authInfoSam,publishSam);
}

</code></pre>

<pre class="type-3 type-18 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void InvalidTransferTokenNullKeybag(){
  Assume.assumeTrue(TckPublisher.isEnabled());
  try {
    KeyBag kb=null;
    Holder<String> nodeidOUT=new Holder<String>();
    Holder<XMLGregorianCalendar> expiresOUT=new Holder<XMLGregorianCalendar>();
    Holder<byte[]> tokenOUT=new Holder<byte[]>();
    custodyTransferPortTypeJoe.getTransferToken(authInfoJoe,kb,nodeidOUT,expiresOUT,tokenOUT);
    Assert.fail();
  }
 catch (  Exception ex) {
    logger.info("Expected exception: " + ex.getMessage());
  }
}

</code></pre>

<pre class="type-3 type-18 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * a valid transfer token issued, then modified out of band, this should
 * fail
 */
@Test public void InvalidTransferTokenModified(){
  Assume.assumeTrue(TckPublisher.isEnabled());
  String keySamBiz=null;
  String keyJoeBiz=null;
  try {
    DatatypeFactory df=DatatypeFactory.newInstance();
    GregorianCalendar gcal=new GregorianCalendar();
    gcal.setTimeInMillis(System.currentTimeMillis());
    XMLGregorianCalendar xcal=df.newXMLGregorianCalendar(gcal);
    BusinessEntity myBusEntity=new BusinessEntity();
    Name myBusName=new Name();
    myBusName.setLang("en");
    myBusName.setValue("InvalidTransferTokenModified UDDI's Business" + " " + xcal.toString());
    myBusEntity.getName().add(myBusName);
    myBusEntity.setBusinessServices(new BusinessServices());
    myBusEntity.getBusinessServices().getBusinessService().add(CreateBusiness("UDDI"));
    SaveBusiness sb=new SaveBusiness();
    sb.getBusinessEntity().add(myBusEntity);
    sb.setAuthInfo(authInfoJoe);
    BusinessDetail bd=publishJoe.saveBusiness(sb);
    keyJoeBiz=bd.getBusinessEntity().get(0).getBusinessKey();
    myBusEntity=new BusinessEntity();
    myBusName=new Name();
    myBusName.setLang("en");
    myBusName.setValue("Root's Business" + " " + xcal.toString());
    myBusEntity.getName().add(myBusName);
    myBusEntity.setBusinessServices(new BusinessServices());
    myBusEntity.getBusinessServices().getBusinessService().add(CreateBusiness("root"));
    sb=new SaveBusiness();
    sb.getBusinessEntity().add(myBusEntity);
    sb.setAuthInfo(authInfoSam);
    bd=publishSam.saveBusiness(sb);
    keySamBiz=bd.getBusinessEntity().get(0).getBusinessKey();
    KeyBag kb=new KeyBag();
    kb.getKey().add(keyJoeBiz);
    Holder<String> nodeidOUT=new Holder<String>();
    Holder<XMLGregorianCalendar> expiresOUT=new Holder<XMLGregorianCalendar>();
    Holder<byte[]> tokenOUT=new Holder<byte[]>();
    custodyTransferPortTypeJoe.getTransferToken(authInfoJoe,kb,nodeidOUT,expiresOUT,tokenOUT);
    TransferEntities te=new TransferEntities();
    te.setAuthInfo(authInfoSam);
    te.setKeyBag(kb);
    te.getKeyBag().getKey().add("uddi:uddi.joepublisher.com:" + UUID.randomUUID().toString());
    TransferToken tt=new TransferToken();
    tt.setExpirationTime(expiresOUT.value);
    tt.setNodeID(nodeidOUT.value);
    tt.setOpaqueToken(tokenOUT.value);
    te.setTransferToken(tt);
    custodyTransferPortTypeSam.transferEntities(te);
    Assert.fail();
  }
 catch (  Exception ex) {
    logger.info("Expected exception: " + ex.getMessage());
  }
 finally {
    TckCommon.DeleteBusiness(keyJoeBiz,authInfoJoe,publishJoe);
    TckCommon.DeleteBusiness(keySamBiz,authInfoSam,publishSam);
  }
}

</code></pre>

<pre class="type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
"></span><br>
@AfterClass public static void stopManager() throws ConfigurationException {
  if (!TckPublisher.isEnabled())   return;
  tckTModelJoe.deleteCreatedTModels(authInfoJoe);
  manager.stop();
}

</code></pre>

<pre class="type-3 type-18 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void InvalidTransferTokenEmptyNullAuthToken(){
  Assume.assumeTrue(TckPublisher.isEnabled());
  String keyJoeBiz=null;
  try {
    DatatypeFactory df=DatatypeFactory.newInstance();
    GregorianCalendar gcal=new GregorianCalendar();
    gcal.setTimeInMillis(System.currentTimeMillis());
    XMLGregorianCalendar xcal=df.newXMLGregorianCalendar(gcal);
    BusinessEntity myBusEntity=new BusinessEntity();
    Name myBusName=new Name();
    myBusName.setLang("en");
    myBusName.setValue("InvalidTransferTokenEmptyNullAuthToken UDDI's Business" + " " + xcal.toString());
    myBusEntity.getName().add(myBusName);
    myBusEntity.setBusinessServices(new BusinessServices());
    myBusEntity.getBusinessServices().getBusinessService().add(CreateBusiness("UDDI"));
    SaveBusiness sb=new SaveBusiness();
    sb.getBusinessEntity().add(myBusEntity);
    sb.setAuthInfo(authInfoJoe);
    BusinessDetail bd=publishJoe.saveBusiness(sb);
    keyJoeBiz=bd.getBusinessEntity().get(0).getBusinessKey();
    KeyBag kb=new KeyBag();
    kb.getKey().add(keyJoeBiz);
    Holder<String> nodeidOUT=new Holder<String>();
    Holder<XMLGregorianCalendar> expiresOUT=new Holder<XMLGregorianCalendar>();
    Holder<byte[]> tokenOUT=new Holder<byte[]>();
    custodyTransferPortTypeJoe.getTransferToken(null,kb,nodeidOUT,expiresOUT,tokenOUT);
    Assert.fail();
  }
 catch (  Exception ex) {
    logger.info("Expected exception: " + ex.getMessage());
  }
 finally {
    TckCommon.DeleteBusiness(keyJoeBiz,authInfoJoe,publishJoe);
  }
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
