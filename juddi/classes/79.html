<h3 style="margin:0px">Class: org.apache.juddi.v3.tck.UDDI_040_PerformanceIntegrationTest (7 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Executes methods or other tests from the same test unit"><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >ExecutionTester&nbsp;(6)</kbd></button>&nbsp;<button id="12"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('12')" data-toggle="tooltip" title="Invokes logging operations"><kbd id="tag-12"class="label-info"style="display: inline-block;font-size:7pt" >Logger&nbsp;(6)</kbd></button>&nbsp;<button id="8"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('8')" data-toggle="tooltip" title="Releases resources used by the test cases"><kbd id="tag-8"class="label-info"style="display: inline-block;font-size:7pt" >TestCleaner&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-12 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testInsertFlatBusinessManyCategories() throws Exception {
  logger.info("Performace test, inserting " + counter + " flat businesses ManyCategories");
  BusinessEntity be=new BusinessEntity();
  SaveBusiness sb=new SaveBusiness();
  sb.setAuthInfo(authInfoSam);
  List<String> biz=new ArrayList<String>();
  long start=System.currentTimeMillis();
  for (int i=0; i < counter; i++) {
    System.out.print(".");
    be.getName().clear();
    be.getName().add(new Name("Name " + i,null));
    be.setCategoryBag(new CategoryBag());
    for (int k=0; k < counter; k++) {
      be.getCategoryBag().getKeyedReference().add(new KeyedReference(UDDIConstants.General_Keywords,"somename","somevalue" + k));
    }
    sb.getBusinessEntity().clear();
    sb.getBusinessEntity().add(be);
    BusinessDetail saveBusiness=publishSam.saveBusiness(sb);
    biz.add(saveBusiness.getBusinessEntity().get(0).getBusinessKey());
  }
  start=System.currentTimeMillis() - start;
  data.put("Insert Flat Businesses 1x ManyCategories",(double)counter / (double)start);
  logger.info("Insert flat businesses took 1x ManyCategories" + start);
  start=System.currentTimeMillis();
  for (int i=0; i < biz.size(); i++) {
    System.out.print(".");
    DeleteBusiness deleteBusiness=new DeleteBusiness();
    deleteBusiness.setAuthInfo(authInfoSam);
    deleteBusiness.getBusinessKey().add(biz.get(i));
    publishSam.deleteBusiness(deleteBusiness);
  }
  start=System.currentTimeMillis() - start;
  data.put("Delete Flat Businesses 1x ManyCategories",(double)counter / (double)start);
  logger.info("Insert flat businesses took 1x ManyCategories" + start);
}

</code></pre>

<pre class="type-12 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testInsertFlatBusiness() throws Exception {
  logger.info("Performace test, inserting " + counter + " flat businesses");
  BusinessEntity be=new BusinessEntity();
  SaveBusiness sb=new SaveBusiness();
  sb.setAuthInfo(authInfoSam);
  List<String> biz=new ArrayList<String>();
  long start=System.currentTimeMillis();
  for (int i=0; i < counter; i++) {
    System.out.print(".");
    be.getName().clear();
    be.getName().add(new Name("Name " + i,null));
    sb.getBusinessEntity().clear();
    sb.getBusinessEntity().add(be);
    BusinessDetail saveBusiness=publishSam.saveBusiness(sb);
    biz.add(saveBusiness.getBusinessEntity().get(0).getBusinessKey());
  }
  start=System.currentTimeMillis() - start;
  data.put("Insert Flat Businesses 1x",(double)counter / (double)start);
  logger.info("Insert flat businesses took 1x" + start);
  start=System.currentTimeMillis();
  for (int i=0; i < counter; i++) {
    System.out.print(".");
    DeleteBusiness deleteBusiness=new DeleteBusiness();
    deleteBusiness.setAuthInfo(authInfoSam);
    deleteBusiness.getBusinessKey().add(biz.get(i));
    publishSam.deleteBusiness(deleteBusiness);
  }
  start=System.currentTimeMillis() - start;
  data.put("Delete Flat Businesses 1x",(double)counter / (double)start);
  logger.info("Insert flat businesses took 1x" + start);
}

</code></pre>

<pre class="type-12 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testInsertFlatBusinessBulkManyCategories() throws Exception {
  logger.info("Performace test, inserting " + counter + " flat businesses bulk ManyCategories");
  BusinessEntity be=new BusinessEntity();
  SaveBusiness sb=new SaveBusiness();
  sb.setAuthInfo(authInfoSam);
  List<String> biz=new ArrayList<String>();
  for (int i=0; i < counter; i++) {
    System.out.print(".");
    be.getName().clear();
    be.getName().add(new Name("Name " + i,null));
    be.setCategoryBag(new CategoryBag());
    for (int k=0; k < counter; k++) {
      be.getCategoryBag().getKeyedReference().add(new KeyedReference(UDDIConstants.General_Keywords,"somename","somevalue" + k));
    }
    sb.getBusinessEntity().clear();
    sb.getBusinessEntity().add(be);
  }
  long start=System.currentTimeMillis();
  BusinessDetail saveBusiness=publishSam.saveBusiness(sb);
  start=System.currentTimeMillis() - start;
  data.put("Insert Flat Businesses Bulk ManyCategories",(double)counter / (double)start);
  logger.info("Insert flat businesses took Bulk ManyCategories" + start);
  DeleteBusiness deleteBusiness=new DeleteBusiness();
  deleteBusiness.setAuthInfo(authInfoSam);
  for (int i=0; i < saveBusiness.getBusinessEntity().size(); i++) {
    deleteBusiness.getBusinessKey().add(saveBusiness.getBusinessEntity().get(i).getBusinessKey());
  }
  start=System.currentTimeMillis();
  publishSam.deleteBusiness(deleteBusiness);
  start=System.currentTimeMillis() - start;
  data.put("Delete Flat Businesses Bulk ManyCategories",(double)counter / (double)start);
  logger.info("Insert flat businesses took Bulk ManyCategories" + start);
}

</code></pre>

<pre class="type-12 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testInsertFlatBusinessManyNames() throws Exception {
  logger.info("Performace test, inserting " + counter + " flat businesses ManyNames");
  BusinessEntity be=new BusinessEntity();
  SaveBusiness sb=new SaveBusiness();
  sb.setAuthInfo(authInfoSam);
  List<String> biz=new ArrayList<String>();
  long start=System.currentTimeMillis();
  for (int i=0; i < counter; i++) {
    System.out.print(".");
    be.getName().clear();
    for (int k=0; k < counter; k++) {
      be.getName().add(new Name("Name " + i + "-"+ k,null));
    }
    sb.getBusinessEntity().clear();
    sb.getBusinessEntity().add(be);
    BusinessDetail saveBusiness=publishSam.saveBusiness(sb);
    biz.add(saveBusiness.getBusinessEntity().get(0).getBusinessKey());
  }
  start=System.currentTimeMillis() - start;
  data.put("Insert Flat Businesses 1x ManyNames",(double)counter / (double)start);
  logger.info("Insert flat businesses took 1x ManyNames" + start);
  start=System.currentTimeMillis();
  for (int i=0; i < biz.size(); i++) {
    System.out.print(".");
    DeleteBusiness deleteBusiness=new DeleteBusiness();
    deleteBusiness.setAuthInfo(authInfoSam);
    deleteBusiness.getBusinessKey().add(biz.get(i));
    publishSam.deleteBusiness(deleteBusiness);
  }
  start=System.currentTimeMillis() - start;
  data.put("Delete Flat Businesses 1x ManyNames",(double)counter / (double)start);
  logger.info("Insert flat businesses took 1x ManyNames" + start);
}

</code></pre>

<pre class="type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
"></span><br>
@AfterClass public static void stopManager() throws Exception {
  if (!TckPublisher.isEnabled()) {
    return;
  }
  tckTModelSam.deleteCreatedTModels(authInfoSam);
  manager.stop();
  Iterator<Map.Entry<String,Double>> iterator=data.entrySet().iterator();
  File f=new File("pref-rpt-" + System.currentTimeMillis() + ".txt");
  PrintWriter writer=new PrintWriter(f,"UTF-8");
  while (iterator.hasNext()) {
    Map.Entry<String,Double> next=iterator.next();
    logger.info(next.getKey() + " = " + next.getValue()+ " tx/ms");
    writer.write(next.getKey() + " = " + next.getValue()+ " tx/ms"+ System.getProperty("line.separator"));
  }
  writer.close();
  f=null;
  TckCommon.PrintMarker();
}

</code></pre>

<pre class="type-12 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testInsertFlatBusinessBulkManyNames() throws Exception {
  logger.info("Performace test, inserting " + counter + " flat businesses bulk ManyNames");
  BusinessEntity be=new BusinessEntity();
  SaveBusiness sb=new SaveBusiness();
  sb.setAuthInfo(authInfoSam);
  List<String> biz=new ArrayList<String>();
  for (int i=0; i < counter; i++) {
    System.out.print(".");
    be.getName().clear();
    for (int k=0; k < counter; k++) {
      be.getName().add(new Name("Name " + i + "-"+ k,null));
    }
    sb.getBusinessEntity().clear();
    sb.getBusinessEntity().add(be);
  }
  long start=System.currentTimeMillis();
  BusinessDetail saveBusiness=publishSam.saveBusiness(sb);
  start=System.currentTimeMillis() - start;
  data.put("Insert Flat Businesses Bulk ManyNames",(double)counter / (double)start);
  logger.info("Insert flat businesses took Bulk ManyNames" + start);
  DeleteBusiness deleteBusiness=new DeleteBusiness();
  deleteBusiness.setAuthInfo(authInfoSam);
  for (int i=0; i < saveBusiness.getBusinessEntity().size(); i++) {
    deleteBusiness.getBusinessKey().add(saveBusiness.getBusinessEntity().get(i).getBusinessKey());
  }
  start=System.currentTimeMillis();
  publishSam.deleteBusiness(deleteBusiness);
  start=System.currentTimeMillis() - start;
  data.put("Delete Flat Businesses Bulk ManyNames",(double)counter / (double)start);
  logger.info("Insert flat businesses took Bulk ManyNames" + start);
}

</code></pre>

<pre class="type-12 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testInsertFlatBusinessBulk() throws Exception {
  logger.info("Performace test, inserting " + counter + " flat businesses bulk");
  BusinessEntity be=new BusinessEntity();
  SaveBusiness sb=new SaveBusiness();
  sb.setAuthInfo(authInfoSam);
  List<String> biz=new ArrayList<String>();
  for (int i=0; i < counter; i++) {
    System.out.print(".");
    be.getName().clear();
    be.getName().add(new Name("Name " + i,null));
    sb.getBusinessEntity().clear();
    sb.getBusinessEntity().add(be);
  }
  long start=System.currentTimeMillis();
  BusinessDetail saveBusiness=publishSam.saveBusiness(sb);
  start=System.currentTimeMillis() - start;
  data.put("Insert Flat Businesses Bulk",(double)counter / (double)start);
  logger.info("Insert flat businesses took Bulk" + start);
  DeleteBusiness deleteBusiness=new DeleteBusiness();
  deleteBusiness.setAuthInfo(authInfoSam);
  for (int i=0; i < saveBusiness.getBusinessEntity().size(); i++) {
    deleteBusiness.getBusinessKey().add(saveBusiness.getBusinessEntity().get(i).getBusinessKey());
  }
  start=System.currentTimeMillis();
  publishSam.deleteBusiness(deleteBusiness);
  start=System.currentTimeMillis() - start;
  data.put("Delete Flat Businesses Bulk",(double)counter / (double)start);
  logger.info("Insert flat businesses took Bulk" + start);
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
