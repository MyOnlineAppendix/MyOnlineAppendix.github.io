<h3><span class=" glyphicon glyphicon-tag"/>&nbspIterativeVerifier</h3><kbd>Verifies assertions in iterations</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.juddi.api.impl.API_160_ReplicationTest </h4><pre class="type-15 type-2 type-11 type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getGetHighWaterMarks() throws Exception {
  List<ChangeRecordIDType> highWaterMarks=repl.getHighWaterMarks();
  Assert.assertNotNull(highWaterMarks);
  Assert.assertFalse(highWaterMarks.isEmpty());
  for (int i=0; i < highWaterMarks.size(); i++) {
    Assert.assertNotNull(highWaterMarks.get(i).getNodeID());
    Assert.assertNotNull(highWaterMarks.get(i).getOriginatingUSN());
    Assert.assertTrue(highWaterMarks.get(i).getOriginatingUSN() >= 0);
  }
}

</code></pre>

<br>
<pre class="type-15 type-5 type-3 type-11 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * add clerk + node, try to delete the node
 * @throws Exception
 */
@Test public void testAddClerkNodeThenDelete2() throws Exception {
  SaveClerk sc=new SaveClerk();
  sc.setAuthInfo(authInfoRoot);
  Clerk c=new Clerk();
  c.setName("clerk1" + UUID.randomUUID().toString());
  c.setPassword("pass");
  c.setPublisher("username");
  c.setNode(new Node());
  c.getNode().setName("test_node" + UUID.randomUUID().toString());
  c.getNode().setClientName("test_client");
  c.getNode().setProxyTransport(org.apache.juddi.v3.client.transport.JAXWSTransport.class.getCanonicalName());
  c.getNode().setCustodyTransferUrl("http://localhost");
  c.getNode().setDescription("http://localhost");
  c.getNode().setInquiryUrl("http://localhost");
  c.getNode().setPublishUrl("http://localhost");
  c.getNode().setReplicationUrl("http://localhost");
  c.getNode().setSecurityUrl("http://localhost");
  c.getNode().setSubscriptionListenerUrl("http://localhost");
  c.getNode().setSubscriptionUrl("http://localhost");
  sc.getClerk().add(c);
  juddi.saveClerk(sc);
  juddi.deleteNode(new DeleteNode(authInfoRoot,c.getNode().getName()));
  ClerkList allNodes=juddi.getAllClerks(authInfoRoot);
  boolean found=false;
  for (int i=0; i < allNodes.getClerk().size(); i++) {
    if (allNodes.getClerk().get(i).getName().equals(c.getName())) {
      found=true;
    }
  }
  Assert.assertFalse(found);
  NodeList allNodes1=juddi.getAllNodes(authInfoRoot);
  for (int i=0; i < allNodes1.getNode().size(); i++) {
    if (allNodes1.getNode().get(i).getName().equals(c.getNode().getName())) {
      Assert.fail("node is still there!");
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.juddi.v3.client.mapping.wsdl.WSDLinaUDDIRegistryTest </h4><pre class="type-15 type-6 type-5 type-2 type-11 type-1 type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_3_2_2_UDDI_binding_tModel() throws WSDLException, JAXBException, IOException, ConfigurationException {
  WSDL2UDDI wsdl2UDDI=new WSDL2UDDI(null,new URLLocalizerDefaultImpl(),properties);
  @SuppressWarnings("unchecked") Map<QName,Binding> bindings=(Map<QName,Binding>)wsdlDefinition.getAllBindings();
  Set<TModel> tModels=wsdl2UDDI.createWSDLBindingTModels(wsdlURL,bindings);
  Assert.assertEquals(1,tModels.size());
  TModel tModel=tModels.iterator().next();
  System.out.println("UDDI Binding TModel " + tModel.getName().getValue());
  if (serialize) {
    System.out.println(pTModel.print(tModel));
  }
  String bindingtmodelXml="wsdl/uddiv3-xml/3_2_2_bindingtmodel.xml";
  TModel specTModel=(org.uddi.api_v3.TModel)EntityCreator.buildFromDoc(bindingtmodelXml,EntityCreator.UDDIv3_Package);
  Assert.assertEquals(specTModel.getName().getValue(),tModel.getName().getValue());
  Assert.assertNotNull(tModel.getOverviewDoc());
  Assert.assertEquals(1,tModel.getOverviewDoc().size());
  Assert.assertNotNull(tModel.getOverviewDoc().get(0).getOverviewURL());
  Assert.assertNotNull(tModel.getCategoryBag());
  Assert.assertNotNull(tModel.getCategoryBag().getKeyedReference());
  Assert.assertEquals(6,tModel.getCategoryBag().getKeyedReference().size());
  for (  KeyedReference keyedReference : tModel.getCategoryBag().getKeyedReference()) {
    boolean match=false;
    Iterator<KeyedReference> iter=specTModel.getCategoryBag().getKeyedReference().iterator();
    while (iter.hasNext() && match == false) {
      KeyedReference specKeyedRef=iter.next();
      if (specKeyedRef.getTModelKey().equals(keyedReference.getTModelKey())) {
        match=true;
        Assert.assertEquals(specKeyedRef.getKeyName(),keyedReference.getKeyName());
        Assert.assertEquals(specKeyedRef.getKeyValue(),keyedReference.getKeyValue());
      }
    }
    Assert.assertTrue("Expected a match for keyedReference " + keyedReference.getTModelKey(),match);
  }
}

</code></pre>

<br>
<pre class="type-15 type-5 type-2 type-11 type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_3_2_3_UDDI_businessService_and_bindingTemplateLongDescriptions() throws JAXBException, IOException, ConfigurationException {
  WSDL2UDDI wsdl2UDDI=new WSDL2UDDI(null,new URLLocalizerDefaultImpl(),properties);
  BusinessServices businessServices=wsdl2UDDI.createBusinessServices(wsdlDefinitionLongDescriptions);
  PrintUDDI<BusinessService> servicePrinter=new PrintUDDI<BusinessService>();
  Assert.assertEquals(1,businessServices.getBusinessService().size());
  BusinessService businessService=businessServices.getBusinessService().get(0);
  System.out.println(businessService.getName().get(0).getValue());
  if (serialize) {
    System.out.println(servicePrinter.print(businessService));
  }
  for (int i=0; i < businessService.getDescription().size(); i++) {
    Assert.assertTrue(businessService.getDescription().get(i).getValue().length() <= UDDIConstants.MAX_description_length);
    Assert.assertTrue(businessService.getDescription().get(i).getLang().length() <= UDDIConstants.MAX_xml_lang_length);
  }
  if (businessService.getBindingTemplates() != null) {
    for (int i=0; i < businessService.getBindingTemplates().getBindingTemplate().size(); i++) {
      for (int k=0; k < businessService.getBindingTemplates().getBindingTemplate().get(i).getDescription().size(); k++) {
        for (int i2=0; i2 < businessService.getBindingTemplates().getBindingTemplate().get(i).getDescription().size(); i2++) {
          Assert.assertTrue(Integer.toString(businessService.getBindingTemplates().getBindingTemplate().get(i).getDescription().get(i2).getValue().length()),businessService.getBindingTemplates().getBindingTemplate().get(i).getDescription().get(i2).getValue().length() <= UDDIConstants.MAX_description_length);
          Assert.assertTrue(businessService.getBindingTemplates().getBindingTemplate().get(i).getDescription().get(i2).getLang().length() <= UDDIConstants.MAX_xml_lang_length);
        }
      }
    }
  }
}

</code></pre>

<br>
<pre class="type-15 type-6 type-5 type-2 type-11 type-1 type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_3_2_3_UDDI_businessService_and_bindingTemplate() throws JAXBException, IOException, ConfigurationException {
  WSDL2UDDI wsdl2UDDI=new WSDL2UDDI(null,new URLLocalizerDefaultImpl(),properties);
  BusinessServices businessServices=wsdl2UDDI.createBusinessServices(wsdlDefinition);
  PrintUDDI<BusinessService> servicePrinter=new PrintUDDI<BusinessService>();
  Assert.assertEquals(1,businessServices.getBusinessService().size());
  BusinessService businessService=businessServices.getBusinessService().get(0);
  System.out.println(businessService.getName().get(0).getValue());
  if (serialize) {
    System.out.println(servicePrinter.print(businessService));
  }
  String businessServiceXml="wsdl/uddiv3-xml/3_2_3_business_service.xml";
  BusinessService specBusinessService=(org.uddi.api_v3.BusinessService)EntityCreator.buildFromDoc(businessServiceXml,EntityCreator.UDDIv3_Package);
  Assert.assertEquals(specBusinessService.getName().get(0).getValue(),businessService.getName().get(0).getValue());
  Assert.assertNotNull(businessService.getBindingTemplates());
  Assert.assertEquals(1,businessService.getBindingTemplates().getBindingTemplate().size());
  BindingTemplate bindingTemplate=businessService.getBindingTemplates().getBindingTemplate().get(0);
  Assert.assertNotNull(bindingTemplate);
  BindingTemplate specBindingTemplate=specBusinessService.getBindingTemplates().getBindingTemplate().get(0);
  Assert.assertEquals(specBindingTemplate.getBindingKey(),bindingTemplate.getBindingKey());
  Assert.assertEquals(specBindingTemplate.getServiceKey(),bindingTemplate.getServiceKey());
  Assert.assertEquals(specBindingTemplate.getAccessPoint().getValue(),bindingTemplate.getAccessPoint().getValue());
  Assert.assertTrue(2 <= bindingTemplate.getTModelInstanceDetails().getTModelInstanceInfo().size());
  Assert.assertEquals(specBindingTemplate.getTModelInstanceDetails().getTModelInstanceInfo().get(0).getTModelKey(),bindingTemplate.getTModelInstanceDetails().getTModelInstanceInfo().get(0).getTModelKey());
  Assert.assertEquals(specBindingTemplate.getTModelInstanceDetails().getTModelInstanceInfo().get(0).getInstanceDetails().getInstanceParms(),bindingTemplate.getTModelInstanceDetails().getTModelInstanceInfo().get(0).getInstanceDetails().getInstanceParms());
  Assert.assertEquals(specBindingTemplate.getTModelInstanceDetails().getTModelInstanceInfo().get(1).getTModelKey(),bindingTemplate.getTModelInstanceDetails().getTModelInstanceInfo().get(1).getTModelKey());
  Assert.assertNotNull(businessService.getCategoryBag());
  Assert.assertNotNull(businessService.getCategoryBag().getKeyedReference());
  Assert.assertEquals(3,businessService.getCategoryBag().getKeyedReference().size());
  for (  KeyedReference keyedReference : businessService.getCategoryBag().getKeyedReference()) {
    boolean match=false;
    Iterator<KeyedReference> iter=specBusinessService.getCategoryBag().getKeyedReference().iterator();
    while (iter.hasNext() && match == false) {
      KeyedReference specKeyedRef=iter.next();
      if (specKeyedRef.getTModelKey().equals(keyedReference.getTModelKey())) {
        match=true;
        Assert.assertEquals(specKeyedRef.getKeyName(),keyedReference.getKeyName());
        Assert.assertEquals(specKeyedRef.getKeyValue(),keyedReference.getKeyValue());
      }
    }
    Assert.assertTrue("Expected a match for keyedReference " + keyedReference.getTModelKey(),match);
  }
}

</code></pre>

<br>
<pre class="type-15 type-6 type-5 type-2 type-11 type-1 type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_3_2_1_UDDI_portType_tModel() throws WSDLException, IOException, JAXBException, ConfigurationException {
  WSDL2UDDI wsdl2UDDI=new WSDL2UDDI(null,new URLLocalizerDefaultImpl(),properties);
  Set<TModel> tModels=new HashSet<TModel>();
  @SuppressWarnings("unchecked") Map<QName,PortType> portTypes=(Map<QName,PortType>)wsdlDefinition.getAllPortTypes();
  Set<TModel> portTypeTModels=wsdl2UDDI.createWSDLPortTypeTModels(wsdlURL,portTypes);
  tModels.addAll(portTypeTModels);
  Assert.assertEquals(1,tModels.size());
  TModel tModel=tModels.iterator().next();
  System.out.println("UDDI PortType TModel " + tModel.getName().getValue());
  if (serialize) {
    System.out.println(pTModel.print(tModel));
  }
  String porttypeXml="wsdl/uddiv3-xml/3_2_1_porttype.xml";
  TModel specTModel=(org.uddi.api_v3.TModel)EntityCreator.buildFromDoc(porttypeXml,EntityCreator.UDDIv3_Package);
  Assert.assertEquals(specTModel.getName().getValue(),tModel.getName().getValue());
  Assert.assertNotNull(tModel.getOverviewDoc());
  Assert.assertEquals(1,tModel.getOverviewDoc().size());
  Assert.assertNotNull(tModel.getOverviewDoc().get(0).getOverviewURL());
  Assert.assertTrue(specTModel.getOverviewDoc().get(0).getOverviewURL().getValue().endsWith("/sample.wsdl"));
  Assert.assertTrue(tModel.getOverviewDoc().get(0).getOverviewURL().getValue().endsWith("/sample.wsdl"));
  Assert.assertNotNull(tModel.getCategoryBag());
  Assert.assertNotNull(tModel.getCategoryBag().getKeyedReference());
  Assert.assertEquals(2,tModel.getCategoryBag().getKeyedReference().size());
  for (  KeyedReference keyedReference : tModel.getCategoryBag().getKeyedReference()) {
    boolean match=false;
    Iterator<KeyedReference> iter=specTModel.getCategoryBag().getKeyedReference().iterator();
    while (iter.hasNext() && match == false) {
      KeyedReference specKeyedRef=iter.next();
      if (specKeyedRef.getTModelKey().equals(keyedReference.getTModelKey())) {
        match=true;
        Assert.assertEquals(specKeyedRef.getKeyName(),keyedReference.getKeyName());
        Assert.assertEquals(specKeyedRef.getKeyValue(),keyedReference.getKeyValue());
      }
    }
    Assert.assertTrue("Expected a match for keyedReference " + keyedReference.getTModelKey(),match);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.juddi.v3.tck.JUDDI_300_MultiNodeIntegrationTest </h4><pre class="type-15 type-5 type-3 type-2 type-11 type-18 type-1 type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Sets implicit assumptions 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * covers business, tmodels and publisher assertions
 * @throws Exception
 */
@Test public void testReplicationTModelBusinessPublisherAssertionAddDelete() throws Exception {
  Assume.assumeTrue(TckPublisher.isReplicationEnabled());
  Assume.assumeTrue(TckPublisher.isJUDDI());
  try {
    logger.info("testReplicationTModelBusinessPublisherAssertionAddDelete");
    resetTmodels();
    resetBusinesses();
    TModel saveMaryPublisherTmodel=maryTModelNode1.saveMaryPublisherTmodel(maryTokenNode1);
    samTModelNode2.saveSamSyndicatorTmodel(samTokenNode2);
    BusinessEntity saveMaryPublisherBusiness=maryBizNode1.saveMaryPublisherBusiness(maryTokenNode1);
    BusinessEntity saveSamSyndicatorBusiness=samBizNode2.saveSamSyndicatorBusiness(samTokenNode2);
    GetTModelDetail findTModel=new GetTModelDetail();
    findTModel.setAuthInfo(samTokenNode2);
    findTModel.getTModelKey().add(TckTModel.MARY_PUBLISHER_TMODEL_KEY);
    TModelDetail tModelDetail=null;
    int timeout=TckPublisher.getSubscriptionTimeout();
    while (timeout > 0) {
      logger.info("Waiting for the update...");
      try {
        tModelDetail=inquirySamNode2.getTModelDetail(findTModel);
        break;
      }
 catch (      Exception ex) {
        logger.warn(ex.getMessage());
        tModelDetail=null;
      }
      timeout--;
      Thread.sleep(1000);
    }
    Assert.assertNotNull(tModelDetail);
    Assert.assertNotNull(tModelDetail.getTModel());
    Assert.assertTrue(tModelDetail.getTModel().size() == 1);
    Assert.assertTrue(tModelDetail.getTModel().get(0).getTModelKey().equals(TckTModel.MARY_PUBLISHER_TMODEL_KEY));
    GetBusinessDetail gbd=new GetBusinessDetail();
    gbd.setAuthInfo(samTokenNode2);
    gbd.getBusinessKey().add(TckBusiness.MARY_BUSINESS_KEY);
    timeout=TckPublisher.getSubscriptionTimeout();
    BusinessDetail businessDetail=null;
    while (timeout > 0) {
      logger.info("Waiting for the update...");
      try {
        businessDetail=inquirySamNode2.getBusinessDetail(gbd);
        break;
      }
 catch (      Exception ex) {
        logger.warn(ex.getMessage());
        businessDetail=null;
      }
      timeout--;
      Thread.sleep(1000);
    }
    logger.info("Business replicated");
    Assert.assertNotNull(businessDetail);
    Assert.assertNotNull(businessDetail.getBusinessEntity());
    Assert.assertTrue(businessDetail.getBusinessEntity().get(0).getBusinessKey().equals(TckBusiness.MARY_BUSINESS_KEY));
    logger.info(">>> Saving a new publisher assertion on node 2 (sam)");
    PublisherAssertion pa=new PublisherAssertion();
    pa.setFromKey(TckBusiness.SAM_BUSINESS_KEY);
    pa.setToKey(TckBusiness.MARY_BUSINESS_KEY);
    pa.setKeyedReference(new KeyedReference(UDDIConstants.RELATIONSHIPS,"parent-child","child"));
    AddPublisherAssertions apa=new AddPublisherAssertions();
    apa.setAuthInfo(samTokenNode2);
    apa.getPublisherAssertion().add(pa);
    publishSamNode2.addPublisherAssertions(apa);
    logger.info("Confirming that the assertion is saved on node2 (sam, origin)");
    List<AssertionStatusItem> assertionStatusReport=null;
    boolean found=false;
    assertionStatusReport=publishSamNode2.getAssertionStatusReport(samTokenNode2,null);
    logger.info("Publisher assertions returned: " + assertionStatusReport.size());
    for (int x=0; x < assertionStatusReport.size(); x++) {
      JAXB.marshal(assertionStatusReport.get(x),System.out);
      if (assertionStatusReport.get(x).getFromKey().equalsIgnoreCase(TckBusiness.SAM_BUSINESS_KEY) && assertionStatusReport.get(x).getToKey().equalsIgnoreCase(TckBusiness.MARY_BUSINESS_KEY) && assertionStatusReport.get(x).getKeyedReference().getTModelKey().equalsIgnoreCase(UDDIConstants.RELATIONSHIPS)&& assertionStatusReport.get(x).getKeyedReference().getKeyName().equalsIgnoreCase("parent-child")&& assertionStatusReport.get(x).getKeyedReference().getKeyValue().equalsIgnoreCase("child")) {
        found=true;
        break;
      }
    }
    Assert.assertTrue("Assertion not found on Sam's node (2)!!",found);
    logger.info("Ok it's saved.");
    timeout=TckPublisher.getSubscriptionTimeout();
    logger.info("confirming that the assertion made it to node 1");
    found=false;
    while (timeout > 0) {
      logger.info("Waiting for the update...");
      try {
        assertionStatusReport=publishMary.getAssertionStatusReport(maryTokenNode1,null);
        logger.info("Publisher assertions returned: " + assertionStatusReport.size());
        for (int x=0; x < assertionStatusReport.size(); x++) {
          JAXB.marshal(assertionStatusReport.get(x),System.out);
          if (assertionStatusReport.get(x).getFromKey().equalsIgnoreCase(TckBusiness.SAM_BUSINESS_KEY) && assertionStatusReport.get(x).getToKey().equalsIgnoreCase(TckBusiness.MARY_BUSINESS_KEY) && assertionStatusReport.get(x).getKeyedReference().getTModelKey().equalsIgnoreCase(UDDIConstants.RELATIONSHIPS)&& assertionStatusReport.get(x).getKeyedReference().getKeyName().equalsIgnoreCase("parent-child")&& assertionStatusReport.get(x).getKeyedReference().getKeyValue().equalsIgnoreCase("child")) {
            found=true;
            break;
          }
        }
        if (found) {
          break;
        }
      }
 catch (      Exception ex) {
        logger.warn(ex.getMessage());
        Assert.fail("Unexpected failure " + ex.getMessage());
      }
      timeout--;
      Thread.sleep(1000);
    }
    Assert.assertTrue("Assertion wasn't replicated",found);
    logger.info("Publisher Assertion replicated...");
    logger.info("confirming the pa is still on node 2 origin (sam)");
    found=false;
    assertionStatusReport=publishSamNode2.getAssertionStatusReport(samTokenNode2,null);
    logger.info("Publisher assertions returned: " + assertionStatusReport.size());
    for (int x=0; x < assertionStatusReport.size(); x++) {
      JAXB.marshal(assertionStatusReport.get(x),System.out);
      if (assertionStatusReport.get(x).getFromKey().equalsIgnoreCase(TckBusiness.SAM_BUSINESS_KEY) && assertionStatusReport.get(x).getToKey().equalsIgnoreCase(TckBusiness.MARY_BUSINESS_KEY) && assertionStatusReport.get(x).getKeyedReference().getTModelKey().equalsIgnoreCase(UDDIConstants.RELATIONSHIPS)&& assertionStatusReport.get(x).getKeyedReference().getKeyName().equalsIgnoreCase("parent-child")&& assertionStatusReport.get(x).getKeyedReference().getKeyValue().equalsIgnoreCase("child")) {
        found=true;
        break;
      }
    }
    Assert.assertTrue("The PA is not found on node 2(origin), very strange",found);
    DeletePublisherAssertions dpa=new DeletePublisherAssertions();
    dpa.setAuthInfo(samTokenNode2);
    dpa.getPublisherAssertion().add(pa);
    String sam=TckCommon.DumpAllBusinesses(samTokenNode2,inquirySamNode2);
    String mary=TckCommon.DumpAllBusinesses(maryTokenNode1,inquiryMary);
    logger.info("Publisher Assertion deletion...");
    try {
      publishSamNode2.deletePublisherAssertions(dpa);
    }
 catch (    Exception ex) {
      ex.printStackTrace();
      logger.info("Sam's businesses " + sam);
      logger.info("Mary's businesses " + mary);
      Assert.fail("unable to delete the assertion on sam's node!");
    }
    timeout=TckPublisher.getSubscriptionTimeout();
    found=false;
    while (timeout > 0) {
      logger.info("Waiting for the update...");
      try {
        assertionStatusReport=publishMary.getAssertionStatusReport(maryTokenNode1,null);
        found=false;
        for (int x=0; x < assertionStatusReport.size(); x++) {
          JAXB.marshal(assertionStatusReport.get(x),System.out);
          if (assertionStatusReport.get(x).getFromKey().equalsIgnoreCase(TckBusiness.SAM_BUSINESS_KEY) && assertionStatusReport.get(x).getToKey().equalsIgnoreCase(TckBusiness.MARY_BUSINESS_KEY) && assertionStatusReport.get(x).getKeyedReference().getTModelKey().equalsIgnoreCase(UDDIConstants.RELATIONSHIPS)&& assertionStatusReport.get(x).getKeyedReference().getKeyName().equalsIgnoreCase("parent-child")&& assertionStatusReport.get(x).getKeyedReference().getKeyValue().equalsIgnoreCase("child")) {
            found=true;
          }
        }
        if (!found) {
          break;
        }
      }
 catch (      Exception ex) {
        logger.warn(ex.getMessage());
        Assert.fail("Unexpected failure " + ex.getMessage());
      }
      timeout--;
      Thread.sleep(1000);
    }
    Assert.assertFalse("Assertion deletion wasn't replicated",found);
    logger.info("Publisher assertion deletion replicated");
    maryBizNode1.deleteMaryPublisherBusiness(maryTokenNode1);
    maryTModelNode1.deleteMaryPublisherTmodel(maryTokenNode1);
    timeout=TckPublisher.getSubscriptionTimeout();
    businessDetail=null;
    while (timeout > 0) {
      logger.info("Waiting for the update...");
      try {
        businessDetail=inquirySamNode2.getBusinessDetail(gbd);
      }
 catch (      Exception ex) {
        logger.warn(ex.getMessage());
        businessDetail=null;
        break;
      }
      timeout--;
      Thread.sleep(1000);
    }
    if (businessDetail != null) {
      Assert.fail(TckBusiness.MARY_BUSINESS_KEY + " wasn't deleted on node 2");
    }
    logger.info("Mary's business deletion was replicated");
    tModelDetail=inquirySamNode2.getTModelDetail(findTModel);
    while (timeout > 0) {
      logger.info("Waiting for the update...");
      try {
        tModelDetail=inquirySamNode2.getTModelDetail(findTModel);
        Assert.assertNotNull(tModelDetail);
        Assert.assertNotNull(tModelDetail.getTModel());
        Assert.assertNotNull(tModelDetail.getTModel().get(0));
        Assert.assertEquals(tModelDetail.getTModel().get(0).getTModelKey(),TckTModel.MARY_PUBLISHER_TMODEL_KEY);
        if (tModelDetail.getTModel().get(0).isDeleted()) {
          break;
        }
      }
 catch (      Exception ex) {
        logger.warn(ex.getMessage());
        tModelDetail=null;
        break;
      }
      timeout--;
      Thread.sleep(1000);
    }
    Assert.assertNotNull(tModelDetail);
    Assert.assertNotNull(tModelDetail.getTModel());
    Assert.assertNotNull(tModelDetail.getTModel().get(0));
    Assert.assertEquals(tModelDetail.getTModel().get(0).getTModelKey(),TckTModel.MARY_PUBLISHER_TMODEL_KEY);
    Assert.assertEquals(tModelDetail.getTModel().get(0).isDeleted(),true);
    logger.info("Mary's tModel was deleted(hidden) replicated");
  }
  finally {
    samBizNode2.deleteSamSyndicatorBusiness(samTokenNode2);
    resetTmodels();
    resetBusinesses();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.juddi.v3.tck.UDDI_150_CustodyTransferIntegrationTest </h4><pre class="type-15 type-5 type-2 type-18 type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * tests a user to user transfer on the same node
 * @throws Exception
 */
@Test public void ValidTransfer() throws Exception {
  Assume.assumeTrue(TckPublisher.isEnabled());
  System.out.println("ValidTransfer");
  DatatypeFactory df=DatatypeFactory.newInstance();
  GregorianCalendar gcal=new GregorianCalendar();
  gcal.setTimeInMillis(System.currentTimeMillis());
  XMLGregorianCalendar xcal=df.newXMLGregorianCalendar(gcal);
  BusinessEntity myBusEntity=new BusinessEntity();
  Name myBusName=new Name();
  myBusName.setLang("en");
  myBusName.setValue("ValidTransfer UDDI's Business" + " " + xcal.toString());
  myBusEntity.getName().add(myBusName);
  myBusEntity.setBusinessServices(new BusinessServices());
  myBusEntity.getBusinessServices().getBusinessService().add(CreateBusiness("UDDI"));
  SaveBusiness sb=new SaveBusiness();
  sb.getBusinessEntity().add(myBusEntity);
  sb.setAuthInfo(authInfoJoe);
  BusinessDetail bd=publishJoe.saveBusiness(sb);
  String keyJoeBiz=bd.getBusinessEntity().get(0).getBusinessKey();
  myBusEntity=new BusinessEntity();
  myBusName=new Name();
  myBusName.setLang("en");
  myBusName.setValue("ValidTransfer Root's Business" + " " + xcal.toString());
  myBusEntity.getName().add(myBusName);
  myBusEntity.setBusinessServices(new BusinessServices());
  myBusEntity.getBusinessServices().getBusinessService().add(CreateBusiness("root"));
  sb=new SaveBusiness();
  sb.getBusinessEntity().add(myBusEntity);
  sb.setAuthInfo(authInfoSam);
  bd=publishSam.saveBusiness(sb);
  String keySamBiz=bd.getBusinessEntity().get(0).getBusinessKey();
  KeyBag kb=new KeyBag();
  kb.getKey().add(keyJoeBiz);
  Holder<String> nodeidOUT=new Holder<String>();
  Holder<XMLGregorianCalendar> expiresOUT=new Holder<XMLGregorianCalendar>();
  Holder<byte[]> tokenOUT=new Holder<byte[]>();
  custodyTransferPortTypeJoe.getTransferToken(authInfoJoe,kb,nodeidOUT,expiresOUT,tokenOUT);
  TransferEntities te=new TransferEntities();
  te.setAuthInfo(authInfoSam);
  te.setKeyBag(kb);
  TransferToken tt=new TransferToken();
  tt.setExpirationTime(expiresOUT.value);
  tt.setNodeID(nodeidOUT.value);
  tt.setOpaqueToken(tokenOUT.value);
  te.setTransferToken(tt);
  custodyTransferPortTypeSam.transferEntities(te);
  GetOperationalInfo go=new GetOperationalInfo();
  go.setAuthInfo(authInfoSam);
  go.getEntityKey().add(keySamBiz);
  go.getEntityKey().add(keyJoeBiz);
  OperationalInfos operationalInfo=inquirySam.getOperationalInfo(go);
  for (int i=0; i < operationalInfo.getOperationalInfo().size(); i++) {
    if (operationalInfo.getOperationalInfo().get(i).getEntityKey().equalsIgnoreCase(keyJoeBiz)) {
      Assert.assertEquals(operationalInfo.getOperationalInfo().get(i).getAuthorizedName(),(TckPublisher.getSamPublisherId()));
    }
  }
  System.out.println("Business Entity transfered successfull");
  TckCommon.DeleteBusiness(keyJoeBiz,authInfoSam,publishSam);
  TckCommon.DeleteBusiness(keySamBiz,authInfoSam,publishSam);
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
