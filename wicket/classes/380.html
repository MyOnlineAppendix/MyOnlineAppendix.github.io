<h3 style="margin:0px">Class: org.apache.wicket.protocol.http.servlet.ServletWebRequestTest (7 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(6)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(5)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Executes methods or other tests from the same test unit"><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >ExecutionTester&nbsp;(1)</kbd></button>&nbsp;<button id="8"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('8')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-8"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="12"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('12')" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure"><kbd id="tag-12"class="label-info"style="display: inline-block;font-size:7pt" >UtilityVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-4 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests that {@link ServletWebRequest#getClientUrl()} returns the current url + the query
 * string when this is not error dispatched request. When the request is error dispatched it
 * returns just the request uri to the error page without the query string
 */
@Test public void wicket3599(){
  MockHttpServletRequest httpRequest=new MockHttpServletRequest(null,null,null);
  httpRequest.setURL(httpRequest.getContextPath() + "/request/Uri");
  httpRequest.setParameter("some","parameter");
  ServletWebRequest webRequest=new ServletWebRequest(httpRequest,"");
  Url clientUrl=webRequest.getClientUrl();
  assertEquals("request/Uri?some=parameter",clientUrl.toString());
  httpRequest.setAttribute("javax.servlet.error.request_uri",httpRequest.getContextPath() + "/any/source/of/error");
  ServletWebRequest errorWebRequest=new ServletWebRequest(httpRequest,"");
  Url errorClientUrl=errorWebRequest.getClientUrl();
  assertEquals("any/source/of/error",errorClientUrl.toString());
}

</code></pre>

<pre class="type-4 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * <a href="https://issues.apache.org/jira/browse/WICKET-4168">WICKET-4168</a>
 */
@Test public void testClientURLIsContextRelativeInErrorResponses(){
  MockHttpServletRequest httpRequest=new MockHttpServletRequest(null,null,null);
  httpRequest.setURL(httpRequest.getContextPath() + "/request/Uri");
  String problematiURI=httpRequest.getContextPath() + "/any/source/of/error";
  httpRequest.setAttribute("javax.servlet.error.request_uri",problematiURI);
  ServletWebRequest errorWebRequest=new ServletWebRequest(httpRequest,"");
  Url errorClientUrl=errorWebRequest.getClientUrl();
  assertEquals("any/source/of/error",errorClientUrl.toString());
}

</code></pre>

<pre class="type-4 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * https://issues.apache.org/jira/browse/WICKET-4138
 * Relative Urls should be calculated against 'javax.servlet.forward.request_uri'
 */
@Test public void parseForwardAttributes(){
  MockHttpServletRequest httpRequest=new MockHttpServletRequest(null,null,null);
  httpRequest.setURL(httpRequest.getContextPath() + "/request/Uri");
  String forwardedURI=httpRequest.getContextPath() + "/some/forwarded/url";
  httpRequest.setAttribute("javax.servlet.forward.request_uri",forwardedURI);
  ServletWebRequest forwardWebRequest=new ServletWebRequest(httpRequest,"");
  Url forwardClientUrl=forwardWebRequest.getClientUrl();
  assertEquals("some/forwarded/url",forwardClientUrl.toString());
}

</code></pre>

<pre class="type-4 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests that {@link ServletWebRequest#getClientUrl()} returns the current url + the query
 * string when this is not forward dispatched request. When the request is error dispatched it
 * returns just the request uri to the error page without the query string
 */
@Test public void wicket5203(){
  String filterPath="filterPath";
  MockHttpServletRequest httpRequest=new MockHttpServletRequest(null,null,null);
  httpRequest.setURL(httpRequest.getContextPath() + '/' + filterPath+ "/request/Path");
  httpRequest.setParameter("some","parameter");
  ServletWebRequest webRequest=new ServletWebRequest(httpRequest,filterPath);
  Url clientUrl=webRequest.getClientUrl();
  assertEquals("request/Path?some=parameter",clientUrl.toString());
  httpRequest.setAttribute("javax.servlet.error.request_uri",httpRequest.getContextPath() + '/' + filterPath+ "/any/source/of/error");
  ServletWebRequest errorWebRequest=new ServletWebRequest(httpRequest,filterPath);
  Url errorClientUrl=errorWebRequest.getClientUrl();
  assertEquals("any/source/of/error",errorClientUrl.toString());
}

</code></pre>

<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * https://issues.apache.org/jira/browse/WICKET-4123
 */
@Test public void useCustomServletWebRequest(){
  WebApplication application=new WebApplication(){
    @Override public Class<? extends Page> getHomePage(){
      return CustomRequestPage.class;
    }
    @Override public WebRequest newWebRequest(    HttpServletRequest servletRequest,    String filterPath){
      return new CustomServletWebRequest(servletRequest,filterPath);
    }
  }
;
  WicketTester tester=new WicketTester(application);
  try {
    tester.startPage(new CustomRequestPage());
  }
  finally {
    tester.destroy();
  }
}

</code></pre>

<pre class="type-12 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Assert that ServletWebRequest#getClientUrl() will throw an AbortWithHttpErrorCodeException
 * with error code 400 (Bad Request) when an Ajax request doesn't provide the base url.
 * https://issues.apache.org/jira/browse/WICKET-4841
 */
@Test public void getClientUrlAjaxWithoutBaseUrl(){
  MockHttpServletRequest httpRequest=new MockHttpServletRequest(null,null,null);
  httpRequest.setHeader(ServletWebRequest.HEADER_AJAX,"true");
  ServletWebRequest webRequest=new ServletWebRequest(httpRequest,"");
  try {
    webRequest.getClientUrl();
    fail("Should not be possible to get the request client url in Ajax request without base url");
  }
 catch (  AbortWithHttpErrorCodeException awhex) {
    assertEquals(HttpServletResponse.SC_BAD_REQUEST,awhex.getErrorCode());
  }
}

</code></pre>

<pre class="type-4 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * WICKET-5287
 */
@Test public void parseUrlWhichLooksLikeFullInItsContextRelativePart(){
  String filterPath="filterPath";
  MockHttpServletRequest httpRequest=new MockHttpServletRequest(null,null,null);
  String looksLikeFullUrl="/foo://:/";
  httpRequest.setURL("http://localhost" + '/' + httpRequest.getContextPath()+ '/'+ filterPath+ looksLikeFullUrl);
  ServletWebRequest webRequest=new ServletWebRequest(httpRequest,filterPath);
  assertEquals(looksLikeFullUrl,webRequest.getClientUrl().toString());
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
