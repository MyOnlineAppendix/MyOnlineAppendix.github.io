<h3><span class=" glyphicon glyphicon-tag"/>&nbspNullVerifier</h3><kbd>Verifies whether objects are null</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.qpid.proton.apireconciliation.reportwriter.AnnotationAccessorTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects are null
"></span><br>
@Test public void testGetAnnotationValueWithoutAnnotationReturnsNull(){
  assertNull(_annotationAccessor.getAnnotationValue(_unannotatedMethod));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.codec.impl.DataImplTest </h4><pre class="type-1 type-9 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEncodeDecodeSymbolArrayUsingPutArray(){
  Symbol symbol1=Symbol.valueOf("testRoundtripSymbolArray1");
  Symbol symbol2=Symbol.valueOf("testRoundtripSymbolArray2");
  Data data1=new DataImpl();
  data1.putArray(false,Data.DataType.SYMBOL);
  data1.enter();
  data1.putSymbol(symbol1);
  data1.putSymbol(symbol2);
  data1.exit();
  Binary encoded=data1.encode();
  encoded.asByteBuffer();
  Data data2=new DataImpl();
  data2.decode(encoded.asByteBuffer());
  assertEquals("unexpected array length",2,data2.getArray());
  assertEquals("unexpected array length",Data.DataType.SYMBOL,data2.getArrayType());
  Object[] array=data2.getJavaArray();
  assertNotNull("Array should not be null",array);
  assertEquals("Expected a Symbol array",Symbol[].class,array.getClass());
  assertEquals("unexpected array length",2,array.length);
  assertEquals("unexpected value",symbol1,array[0]);
  assertEquals("unexpected value",symbol2,array[1]);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.engine.impl.DeliveryImplTest </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects are null
"></span><br>
@Test public void testAttachmentsNonNull() throws Exception {
  DeliveryImpl delivery=new DeliveryImpl(null,Mockito.mock(LinkImpl.class),null);
  assertNotNull("Expected attachments to be non-null",delivery.attachments());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.engine.impl.EventImplTest </h4><pre class="type-5 type-1 type-12 type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetTransportWithConnectionContext(){
  Transport transport=Transport.Factory.create();
  Connection connection=Connection.Factory.create();
  transport.bind(connection);
  EventImpl event=createEvent(connection,Event.Type.CONNECTION_BOUND);
  assertNotNull("No transport returned",event.getTransport());
  assertSame("Incorrect transport returned",transport,event.getTransport());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-12 type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetTransportWithLinkContext(){
  Transport transport=Transport.Factory.create();
  Connection connection=Connection.Factory.create();
  transport.bind(connection);
  Session session=connection.session();
  Link link=session.receiver("myReceiver");
  EventImpl event=createEvent(link,Event.Type.LINK_INIT);
  assertNotNull("No transport returned",event.getTransport());
  assertSame("Incorrect transport returned",transport,event.getTransport());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-12 type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetTransportWithSessionContext(){
  Transport transport=Transport.Factory.create();
  Connection connection=Connection.Factory.create();
  transport.bind(connection);
  Session session=connection.session();
  EventImpl event=createEvent(session,Event.Type.SESSION_INIT);
  assertNotNull("No transport returned",event.getTransport());
  assertSame("Incorrect transport returned",transport,event.getTransport());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-12 type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetTransportWithDeliveryContext(){
  Transport transport=Transport.Factory.create();
  Connection connection=Connection.Factory.create();
  transport.bind(connection);
  Session session=connection.session();
  Sender sender=session.sender("mySender");
  Delivery delivery=sender.delivery("tag".getBytes());
  EventImpl event=createEvent(delivery,Event.Type.DELIVERY);
  assertNotNull("No transport returned",event.getTransport());
  assertSame("Incorrect transport returned",transport,event.getTransport());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-12 type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetTransportWithTransportContext(){
  Transport transport=Transport.Factory.create();
  Connection connection=Connection.Factory.create();
  transport.bind(connection);
  EventImpl event=createEvent(transport,Event.Type.TRANSPORT);
  assertNotNull("No transport returned",event.getTransport());
  assertSame("Incorrect transport returned",transport,event.getTransport());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.engine.impl.FrameParserTest </h4><pre class="type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testInputOfValidProtocolHeaderInMultipleChunks(){
{
    ByteBuffer buffer=_frameParser.tail();
    buffer.put(HEADER,0,2);
    _frameParser.process();
  }
{
    ByteBuffer buffer=_frameParser.tail();
    buffer.put(HEADER,2,HEADER.length - 2);
    _frameParser.process();
  }
  assertNotNull(_frameParser.tail());
}

</code></pre>

<br>
<pre class="type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testInputOfValidProtocolHeader(){
  ByteBuffer buffer=_frameParser.tail();
  buffer.put(HEADER);
  _frameParser.process();
  assertNotNull(_frameParser.tail());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.engine.impl.TransportImplTest </h4><pre class="type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testInput(){
  ByteBuffer buffer=_transport.getInputBuffer();
  buffer.put(HEADER);
  _transport.processInput().checkIsOk();
  assertNotNull(_transport.getInputBuffer());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-4 type-9 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verify that no Disposition frame is emitted by the Transport should a Delivery
 * have disposition applied after the Close frame was sent.
 */
@Test public void testDispositionAfterCloseSent(){
  MockTransportImpl transport=new MockTransportImpl();
  Connection connection=Proton.connection();
  transport.bind(connection);
  connection.open();
  Session session=connection.session();
  session.open();
  String linkName="myReceiver";
  Receiver receiver=session.receiver(linkName);
  receiver.flow(5);
  receiver.open();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),4,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(0) instanceof Open);
  assertTrue("Unexpected frame type",transport.writes.get(1) instanceof Begin);
  assertTrue("Unexpected frame type",transport.writes.get(2) instanceof Attach);
  assertTrue("Unexpected frame type",transport.writes.get(3) instanceof Flow);
  Delivery delivery=receiver.current();
  assertNull("Should not yet have a delivery",delivery);
  transport.handleFrame(new TransportFrame(0,new Open(),null));
  Begin begin=new Begin();
  begin.setRemoteChannel(UnsignedShort.valueOf((short)0));
  begin.setNextOutgoingId(UnsignedInteger.ONE);
  begin.setIncomingWindow(UnsignedInteger.valueOf(1024));
  begin.setOutgoingWindow(UnsignedInteger.valueOf(1024));
  transport.handleFrame(new TransportFrame(0,begin,null));
  Attach attach=new Attach();
  attach.setHandle(UnsignedInteger.ZERO);
  attach.setRole(Role.SENDER);
  attach.setName(linkName);
  attach.setInitialDeliveryCount(UnsignedInteger.ZERO);
  transport.handleFrame(new TransportFrame(0,attach,null));
  String deliveryTag="tag1";
  String messageContent="content1";
  handleTransfer(transport,1,deliveryTag,messageContent);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),4,transport.writes.size());
  delivery=verifyDelivery(receiver,deliveryTag,messageContent);
  assertNotNull("Should now have a delivery",delivery);
  connection.close();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),5,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(4) instanceof Close);
  delivery.disposition(Released.getInstance());
  delivery.settle();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),5,transport.writes.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.jms.JMSMappingOutboundTransformerTest </h4><pre class="type-1 type-4 type-9 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConvertMessageWithTextMessageCreatesAmqpValueStringBody() throws Exception {
  String contentString="myTextMessageContent";
  TextMessage mockTextMessage=createMockTextMessage();
  Mockito.when(mockTextMessage.getText()).thenReturn(contentString);
  JMSVendor mockVendor=createMockVendor();
  JMSMappingOutboundTransformer transformer=new JMSMappingOutboundTransformer(mockVendor);
  Message amqp=transformer.convert(mockTextMessage);
  assertNotNull(amqp.getBody());
  assertTrue(amqp.getBody() instanceof AmqpValue);
  assertEquals(contentString,((AmqpValue)amqp.getBody()).getValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.reactor.ReactorTest </h4><pre class="type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
/** 
 * Tests adding a handler to a reactor and running the reactor.  The
 * expected behaviour is for the reactor to return, and a number of reactor-
 * related events to have been delivered to the handler.
 * @throws IOException
 */
@Test public void handlerRun() throws IOException {
  Handler handler=reactor.getHandler();
  assertNotNull(handler);
  TestHandler testHandler=new TestHandler();
  handler.add(testHandler);
  reactor.run();
  reactor.free();
  testHandler.assertEvents(Type.REACTOR_INIT,Type.SELECTABLE_INIT,Type.SELECTABLE_UPDATED,Type.SELECTABLE_FINAL,Type.REACTOR_FINAL);
}

</code></pre>

<br>
<pre class="type-1 type-4 type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests operation of the Reactor.acceptor method by creating an acceptor
 * which is immediately closed by the reactor.  The expected behaviour is for:
 * <ul>
 * <li>The reactor to end immediately (as it has no more work to process).</li>
 * <li>The handler, associated with the acceptor, to receive no events.</li>
 * <li>For it's lifetime, the acceptor is one of the reactor's children.</li>
 * </ul>
 * @throws IOException
 */
@Test public void acceptor() throws IOException {
  final Acceptor acceptor=reactor.acceptor("127.0.0.1",0);
  assertNotNull(acceptor);
  assertTrue("acceptor should be one of the reactor's children",reactor.children().contains(acceptor));
  TestHandler acceptorHandler=new TestHandler();
  BaseHandler.setHandler(acceptor,acceptorHandler);
  reactor.getHandler().add(new BaseHandler(){
    @Override public void onReactorInit(    Event event){
      acceptor.close();
    }
  }
);
  reactor.run();
  reactor.free();
  acceptorHandler.assertEvents();
  assertFalse("acceptor should have been removed from the reactor's children",reactor.children().contains(acceptor));
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects are null
"></span><br>
/** 
 * Tests that creating a reactor and running it:
 * <ul>
 * <li>Doesn't throw any exceptions.</li>
 * <li>Returns immediately from the run method (as there is no more work to do).</li>
 * </ul>
 * @throws IOException
 */
@Test public void runEmpty() throws IOException {
  assertNotNull(reactor);
  reactor.run();
  reactor.free();
}

</code></pre>

<br>
<pre class="type-1 type-4 type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests basic operation of the Reactor.connection method by creating a
 * connection from a reactor, then running the reactor.  The expected behaviour
 * is for:
 * <ul>
 * <li>The reactor to end immediately.</li>
 * <li>The handler associated with the connection receives an init event.</li>
 * <li>The connection is one of the reactor's children.</li>
 * </ul>
 * @throws IOException
 */
@Test public void connection() throws IOException {
  TestHandler connectionHandler=new TestHandler();
  Connection connection=reactor.connection(connectionHandler);
  assertNotNull(connection);
  assertTrue("connection should be one of the reactor's children",reactor.children().contains(connection));
  TestHandler reactorHandler=new TestHandler();
  reactor.getHandler().add(reactorHandler);
  reactor.run();
  reactor.free();
  reactorHandler.assertEvents(Type.REACTOR_INIT,Type.SELECTABLE_INIT,Type.SELECTABLE_UPDATED,Type.SELECTABLE_FINAL,Type.REACTOR_FINAL);
  connectionHandler.assertEvents(Type.CONNECTION_INIT);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.systemtests.DefaultDeliveryStateTest </h4><pre class="type-1 type-4 type-9 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDefaultDeliveryState() throws Exception {
  LOGGER.fine(bold("======== About to create transports"));
  getClient().transport=Proton.transport();
  ProtocolTracerEnabler.setProtocolTracer(getClient().transport,TestLoggingHelper.CLIENT_PREFIX);
  getServer().transport=Proton.transport();
  ProtocolTracerEnabler.setProtocolTracer(getServer().transport,"            " + TestLoggingHelper.SERVER_PREFIX);
  doOutputInputCycle();
  getClient().connection=Proton.connection();
  getClient().transport.bind(getClient().connection);
  getServer().connection=Proton.connection();
  getServer().transport.bind(getServer().connection);
  LOGGER.fine(bold("======== About to open connections"));
  getClient().connection.open();
  getServer().connection.open();
  doOutputInputCycle();
  LOGGER.fine(bold("======== About to open sessions"));
  getClient().session=getClient().connection.session();
  getClient().session.open();
  pumpClientToServer();
  getServer().session=getServer().connection.sessionHead(of(UNINITIALIZED),of(ACTIVE));
  assertEndpointState(getServer().session,UNINITIALIZED,ACTIVE);
  getServer().session.open();
  assertEndpointState(getServer().session,ACTIVE,ACTIVE);
  pumpServerToClient();
  assertEndpointState(getClient().session,ACTIVE,ACTIVE);
  LOGGER.fine(bold("======== About to create reciever"));
  getClient().source=new Source();
  getClient().source.setAddress(_sourceAddress);
  getClient().target=new Target();
  getClient().target.setAddress(null);
  getClient().receiver=getClient().session.receiver("link1");
  getClient().receiver.setTarget(getClient().target);
  getClient().receiver.setSource(getClient().source);
  getClient().receiver.setReceiverSettleMode(ReceiverSettleMode.FIRST);
  getClient().receiver.setSenderSettleMode(SenderSettleMode.UNSETTLED);
  assertEndpointState(getClient().receiver,UNINITIALIZED,UNINITIALIZED);
  getClient().receiver.open();
  assertEndpointState(getClient().receiver,ACTIVE,UNINITIALIZED);
  pumpClientToServer();
  LOGGER.fine(bold("======== About to set up implicitly created sender"));
  getServer().sender=(Sender)getServer().connection.linkHead(of(UNINITIALIZED),of(ACTIVE));
  getServer().sender.setReceiverSettleMode(getServer().sender.getRemoteReceiverSettleMode());
  getServer().sender.setSenderSettleMode(getServer().sender.getRemoteSenderSettleMode());
  org.apache.qpid.proton.amqp.transport.Source serverRemoteSource=getServer().sender.getRemoteSource();
  getServer().sender.setSource(serverRemoteSource);
  assertEndpointState(getServer().sender,UNINITIALIZED,ACTIVE);
  getServer().sender.open();
  assertEndpointState(getServer().sender,ACTIVE,ACTIVE);
  pumpServerToClient();
  assertEndpointState(getClient().receiver,ACTIVE,ACTIVE);
  int messagCount=3;
  getClient().receiver.flow(messagCount);
  pumpClientToServer();
  LOGGER.fine(bold("======== About to create messages and send to the client"));
  Delivery serverDelivery1=sendMessageToClient("delivery1","Msg1");
  Delivery serverDelivery2=sendMessageToClient("delivery2","Msg2");
  Delivery serverDelivery3=sendMessageToClient("delivery3","Msg3");
  pumpServerToClient();
  assertNull(serverDelivery1.getLocalState());
  assertNull(serverDelivery2.getLocalState());
  assertNull(serverDelivery3.getLocalState());
  assertNull(serverDelivery1.getRemoteState());
  assertNull(serverDelivery2.getRemoteState());
  assertNull(serverDelivery3.getRemoteState());
  LOGGER.fine(bold("======== About to process the messages on the client"));
  Delivery clientDelivery1=receiveMessageFromServer("delivery1","Msg1");
  Delivery clientDelivery2=receiveMessageFromServer("delivery2","Msg2");
  Delivery clientDelivery3=receiveMessageFromServer("delivery3","Msg3");
  clientDelivery1.setDefaultDeliveryState(Released.getInstance());
  clientDelivery2.setDefaultDeliveryState(Released.getInstance());
  clientDelivery3.setDefaultDeliveryState(Released.getInstance());
  assertEquals(Released.getInstance(),clientDelivery1.getDefaultDeliveryState());
  assertEquals(Released.getInstance(),clientDelivery2.getDefaultDeliveryState());
  assertEquals(Released.getInstance(),clientDelivery3.getDefaultDeliveryState());
  assertNull(clientDelivery1.getLocalState());
  assertNull(clientDelivery2.getLocalState());
  assertNull(clientDelivery3.getLocalState());
  assertNull(clientDelivery1.getRemoteState());
  assertNull(clientDelivery2.getRemoteState());
  assertNull(clientDelivery3.getRemoteState());
  clientDelivery1.disposition(Accepted.getInstance());
  clientDelivery2.setDefaultDeliveryState(new Modified());
  assertEquals(Released.getInstance(),clientDelivery1.getDefaultDeliveryState());
  assertTrue(clientDelivery2.getDefaultDeliveryState() instanceof Modified);
  assertEquals(Released.getInstance(),clientDelivery3.getDefaultDeliveryState());
  assertEquals(Accepted.getInstance(),clientDelivery1.getLocalState());
  assertNull(clientDelivery2.getLocalState());
  assertNull(clientDelivery3.getLocalState());
  pumpClientToServer();
  assertEquals(Accepted.getInstance(),serverDelivery1.getRemoteState());
  assertNull(serverDelivery2.getRemoteState());
  assertNull(serverDelivery3.getRemoteState());
  getClient().receiver.close();
  assertEndpointState(getClient().receiver,CLOSED,ACTIVE);
  pumpClientToServer();
  assertEndpointState(getServer().sender,ACTIVE,CLOSED);
  getServer().sender.close();
  assertEndpointState(getServer().sender,CLOSED,CLOSED);
  pumpServerToClient();
  getClient().receiver.free();
  assertEndpointState(getClient().receiver,CLOSED,CLOSED);
  pumpClientToServer();
  assertEquals(Accepted.getInstance(),serverDelivery1.getRemoteState());
  assertTrue(serverDelivery2.getRemoteState() instanceof Modified);
  assertEquals(Released.getInstance(),serverDelivery3.getRemoteState());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.systemtests.FreeTest </h4><pre class="type-12 type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFreeConnectionWithMultipleSessionsAndSendersAndReceiversDoesNotThrowCME() throws Exception {
  LOGGER.fine(bold("======== About to create transports"));
  getClient().transport=Proton.transport();
  ProtocolTracerEnabler.setProtocolTracer(getClient().transport,TestLoggingHelper.CLIENT_PREFIX);
  getServer().transport=Proton.transport();
  ProtocolTracerEnabler.setProtocolTracer(getServer().transport,"            " + TestLoggingHelper.SERVER_PREFIX);
  getClient().connection=Proton.connection();
  getClient().transport.bind(getClient().connection);
  getServer().connection=Proton.connection();
  getServer().transport.bind(getServer().connection);
  LOGGER.fine(bold("======== About to open connections"));
  getClient().connection.open();
  getServer().connection.open();
  doOutputInputCycle();
  LOGGER.fine(bold("======== About to open sessions"));
  getClient().session=getClient().connection.session();
  getClient().session.open();
  Session clientSession2=getClient().connection.session();
  clientSession2.open();
  pumpClientToServer();
  getServer().session=getServer().connection.sessionHead(of(UNINITIALIZED),of(ACTIVE));
  assertEndpointState(getServer().session,UNINITIALIZED,ACTIVE);
  getServer().session.open();
  assertEndpointState(getServer().session,ACTIVE,ACTIVE);
  Session serverSession2=getServer().connection.sessionHead(of(UNINITIALIZED),of(ACTIVE));
  assertNotNull("Engine did not return expected second server session",serverSession2);
  assertNotSame("Engine did not return expected second server session",serverSession2,getServer().session);
  serverSession2.open();
  pumpServerToClient();
  assertEndpointState(getClient().session,ACTIVE,ACTIVE);
  assertEndpointState(clientSession2,ACTIVE,ACTIVE);
  LOGGER.fine(bold("======== About to create client senders"));
  getClient().source=new Source();
  getClient().source.setAddress(null);
  getClient().target=new Target();
  getClient().target.setAddress("myQueue");
  getClient().sender=getClient().session.sender("sender1");
  getClient().sender.setTarget(getClient().target);
  getClient().sender.setSource(getClient().source);
  getClient().sender.setSenderSettleMode(SenderSettleMode.UNSETTLED);
  getClient().sender.setReceiverSettleMode(ReceiverSettleMode.FIRST);
  assertEndpointState(getClient().sender,UNINITIALIZED,UNINITIALIZED);
  getClient().sender.open();
  assertEndpointState(getClient().sender,ACTIVE,UNINITIALIZED);
  Sender clientSender2=getClient().session.sender("sender2");
  clientSender2.setTarget(getClient().target);
  clientSender2.setSource(getClient().source);
  clientSender2.setSenderSettleMode(SenderSettleMode.UNSETTLED);
  clientSender2.setReceiverSettleMode(ReceiverSettleMode.FIRST);
  assertEndpointState(clientSender2,UNINITIALIZED,UNINITIALIZED);
  clientSender2.open();
  assertEndpointState(clientSender2,ACTIVE,UNINITIALIZED);
  pumpClientToServer();
  LOGGER.fine(bold("======== About to set up server receivers"));
  getServer().receiver=(Receiver)getServer().connection.linkHead(of(UNINITIALIZED),of(ACTIVE));
  getServer().receiver.setSenderSettleMode(getServer().receiver.getRemoteSenderSettleMode());
  getServer().receiver.setReceiverSettleMode(getServer().receiver.getRemoteReceiverSettleMode());
  org.apache.qpid.proton.amqp.transport.Target serverRemoteTarget=getServer().receiver.getRemoteTarget();
  assertTerminusEquals(getClient().target,serverRemoteTarget);
  getServer().receiver.setTarget(serverRemoteTarget);
  assertEndpointState(getServer().receiver,UNINITIALIZED,ACTIVE);
  getServer().receiver.open();
  assertEndpointState(getServer().receiver,ACTIVE,ACTIVE);
  Receiver serverReceiver2=(Receiver)getServer().connection.linkHead(of(UNINITIALIZED),of(ACTIVE));
  serverReceiver2.open();
  assertEndpointState(serverReceiver2,ACTIVE,ACTIVE);
  pumpServerToClient();
  assertEndpointState(getClient().sender,ACTIVE,ACTIVE);
  assertEndpointState(clientSender2,ACTIVE,ACTIVE);
  LOGGER.fine(bold("======== About to create client receivers"));
  Source src=new Source();
  src.setAddress("myQueue");
  Target tgt1=new Target();
  tgt1.setAddress("receiver1");
  getClient().receiver=getClient().session.receiver("receiver1");
  getClient().receiver.setSource(src);
  getClient().receiver.setTarget(tgt1);
  getClient().receiver.setSenderSettleMode(SenderSettleMode.UNSETTLED);
  getClient().receiver.setReceiverSettleMode(ReceiverSettleMode.FIRST);
  assertEndpointState(getClient().receiver,UNINITIALIZED,UNINITIALIZED);
  getClient().receiver.open();
  assertEndpointState(getClient().receiver,ACTIVE,UNINITIALIZED);
  Target tgt2=new Target();
  tgt1.setAddress("receiver2");
  Receiver clientReceiver2=getClient().session.receiver("receiver2");
  clientReceiver2.setSource(src);
  clientReceiver2.setTarget(tgt2);
  clientReceiver2.setSenderSettleMode(SenderSettleMode.UNSETTLED);
  clientReceiver2.setReceiverSettleMode(ReceiverSettleMode.FIRST);
  assertEndpointState(clientReceiver2,UNINITIALIZED,UNINITIALIZED);
  clientReceiver2.open();
  assertEndpointState(clientReceiver2,ACTIVE,UNINITIALIZED);
  pumpClientToServer();
  LOGGER.fine(bold("======== About to set up server senders"));
  getServer().sender=(Sender)getServer().connection.linkHead(of(UNINITIALIZED),of(ACTIVE));
  getServer().sender.setSenderSettleMode(getServer().sender.getRemoteSenderSettleMode());
  getServer().sender.setReceiverSettleMode(getServer().sender.getRemoteReceiverSettleMode());
  org.apache.qpid.proton.amqp.transport.Target serverRemoteTarget2=getServer().sender.getRemoteTarget();
  assertTerminusEquals(tgt1,serverRemoteTarget2);
  getServer().sender.setTarget(serverRemoteTarget2);
  assertEndpointState(getServer().sender,UNINITIALIZED,ACTIVE);
  getServer().sender.open();
  assertEndpointState(getServer().sender,ACTIVE,ACTIVE);
  Sender serverSender2=(Sender)getServer().connection.linkHead(of(UNINITIALIZED),of(ACTIVE));
  serverRemoteTarget2=serverSender2.getRemoteTarget();
  assertTerminusEquals(tgt2,serverRemoteTarget2);
  serverSender2.setTarget(serverRemoteTarget2);
  serverSender2.open();
  assertEndpointState(serverSender2,ACTIVE,ACTIVE);
  pumpServerToClient();
  assertEndpointState(getClient().receiver,ACTIVE,ACTIVE);
  assertEndpointState(clientReceiver2,ACTIVE,ACTIVE);
  LOGGER.fine(bold("======== About to close and free client's connection"));
  getClient().connection.close();
  getClient().connection.free();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.systemtests.LinkTest </h4><pre class="type-4 type-9 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testProperties() throws Exception {
  Map<Symbol,Object> receiverProps=new HashMap<>();
  receiverProps.put(RCV_PROP,RCV_PROP_VAL);
  Map<Symbol,Object> senderProps=new HashMap<>();
  senderProps.put(SND_PROP,SND_PROP_VAL);
  LOGGER.fine(bold("======== About to create transports"));
  getClient().transport=Proton.transport();
  ProtocolTracerEnabler.setProtocolTracer(getClient().transport,TestLoggingHelper.CLIENT_PREFIX);
  getServer().transport=Proton.transport();
  ProtocolTracerEnabler.setProtocolTracer(getServer().transport,"            " + TestLoggingHelper.SERVER_PREFIX);
  doOutputInputCycle();
  getClient().connection=Proton.connection();
  getClient().transport.bind(getClient().connection);
  getServer().connection=Proton.connection();
  getServer().transport.bind(getServer().connection);
  LOGGER.fine(bold("======== About to open connections"));
  getClient().connection.open();
  getServer().connection.open();
  doOutputInputCycle();
  LOGGER.fine(bold("======== About to open sessions"));
  getClient().session=getClient().connection.session();
  getClient().session.open();
  pumpClientToServer();
  getServer().session=getServer().connection.sessionHead(of(UNINITIALIZED),of(ACTIVE));
  assertEndpointState(getServer().session,UNINITIALIZED,ACTIVE);
  getServer().session.open();
  assertEndpointState(getServer().session,ACTIVE,ACTIVE);
  pumpServerToClient();
  assertEndpointState(getClient().session,ACTIVE,ACTIVE);
  LOGGER.fine(bold("======== About to create reciever"));
  getClient().source=new Source();
  getClient().source.setAddress(_sourceAddress);
  getClient().target=new Target();
  getClient().target.setAddress(null);
  getClient().receiver=getClient().session.receiver("link1");
  getClient().receiver.setTarget(getClient().target);
  getClient().receiver.setSource(getClient().source);
  getClient().receiver.setReceiverSettleMode(ReceiverSettleMode.FIRST);
  getClient().receiver.setSenderSettleMode(SenderSettleMode.UNSETTLED);
  getClient().receiver.setProperties(receiverProps);
  assertEndpointState(getClient().receiver,UNINITIALIZED,UNINITIALIZED);
  getClient().receiver.open();
  assertEndpointState(getClient().receiver,ACTIVE,UNINITIALIZED);
  pumpClientToServer();
  LOGGER.fine(bold("======== About to set up implicitly created sender"));
  getServer().sender=(Sender)getServer().connection.linkHead(of(UNINITIALIZED),of(ACTIVE));
  getServer().sender.setReceiverSettleMode(getServer().sender.getRemoteReceiverSettleMode());
  getServer().sender.setSenderSettleMode(getServer().sender.getRemoteSenderSettleMode());
  org.apache.qpid.proton.amqp.transport.Source serverRemoteSource=getServer().sender.getRemoteSource();
  getServer().sender.setSource(serverRemoteSource);
  getServer().sender.setProperties(senderProps);
  assertEndpointState(getServer().sender,UNINITIALIZED,ACTIVE);
  getServer().sender.open();
  assertEndpointState(getServer().sender,ACTIVE,ACTIVE);
  pumpServerToClient();
  assertEndpointState(getClient().receiver,ACTIVE,ACTIVE);
  Map<Symbol,Object> serverRemoteProperties=getServer().sender.getRemoteProperties();
  assertNotNull("Server had no remote properties",serverRemoteProperties);
  assertEquals("Server remote properties not expected size",1,serverRemoteProperties.size());
  assertTrue("Server remote properties lack expected key: " + RCV_PROP,serverRemoteProperties.containsKey(RCV_PROP));
  assertEquals("Server remote properties contain unexpected value for key: " + RCV_PROP,RCV_PROP_VAL,serverRemoteProperties.get(RCV_PROP));
  Map<Symbol,Object> clientRemoteProperties=getClient().receiver.getRemoteProperties();
  assertNotNull("Client had no remote properties",clientRemoteProperties);
  assertEquals("Client remote properties not expected size",1,clientRemoteProperties.size());
  assertTrue("Client remote properties lack expected key: " + SND_PROP,clientRemoteProperties.containsKey(SND_PROP));
  assertEquals("Client remote properties contain unexpected value for key: " + SND_PROP,SND_PROP_VAL,clientRemoteProperties.get(SND_PROP));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.systemtests.ProtonEngineExampleTest </h4><pre class="type-5 type-1 type-4 type-12 type-9 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test() throws Exception {
  LOGGER.fine(bold("======== About to create transports"));
  getClient().transport=Proton.transport();
  ProtocolTracerEnabler.setProtocolTracer(getClient().transport,TestLoggingHelper.CLIENT_PREFIX);
  getServer().transport=Proton.transport();
  ProtocolTracerEnabler.setProtocolTracer(getServer().transport,"            " + TestLoggingHelper.SERVER_PREFIX);
  doOutputInputCycle();
  getClient().connection=Proton.connection();
  getClient().transport.bind(getClient().connection);
  getServer().connection=Proton.connection();
  getServer().transport.bind(getServer().connection);
  LOGGER.fine(bold("======== About to open connections"));
  getClient().connection.open();
  getServer().connection.open();
  doOutputInputCycle();
  LOGGER.fine(bold("======== About to open sessions"));
  getClient().session=getClient().connection.session();
  getClient().session.open();
  pumpClientToServer();
  getServer().session=getServer().connection.sessionHead(of(UNINITIALIZED),of(ACTIVE));
  assertEndpointState(getServer().session,UNINITIALIZED,ACTIVE);
  getServer().session.open();
  assertEndpointState(getServer().session,ACTIVE,ACTIVE);
  pumpServerToClient();
  assertEndpointState(getClient().session,ACTIVE,ACTIVE);
  LOGGER.fine(bold("======== About to create sender"));
  getClient().source=new Source();
  getClient().source.setAddress(null);
  getClient().target=new Target();
  getClient().target.setAddress(_targetAddress);
  getClient().sender=getClient().session.sender("link1");
  getClient().sender.setTarget(getClient().target);
  getClient().sender.setSource(getClient().source);
  getClient().sender.setSenderSettleMode(SenderSettleMode.UNSETTLED);
  getClient().sender.setReceiverSettleMode(ReceiverSettleMode.SECOND);
  assertEndpointState(getClient().sender,UNINITIALIZED,UNINITIALIZED);
  getClient().sender.open();
  assertEndpointState(getClient().sender,ACTIVE,UNINITIALIZED);
  pumpClientToServer();
  LOGGER.fine(bold("======== About to set up implicitly created receiver"));
  getServer().receiver=(Receiver)getServer().connection.linkHead(of(UNINITIALIZED),of(ACTIVE));
  getServer().receiver.setSenderSettleMode(getServer().receiver.getRemoteSenderSettleMode());
  getServer().receiver.setReceiverSettleMode(getServer().receiver.getRemoteReceiverSettleMode());
  org.apache.qpid.proton.amqp.transport.Target serverRemoteTarget=getServer().receiver.getRemoteTarget();
  assertTerminusEquals(getClient().target,serverRemoteTarget);
  getServer().receiver.setTarget(applicationDeriveTarget(serverRemoteTarget));
  assertEndpointState(getServer().receiver,UNINITIALIZED,ACTIVE);
  getServer().receiver.open();
  assertEndpointState(getServer().receiver,ACTIVE,ACTIVE);
  pumpServerToClient();
  assertEndpointState(getClient().sender,ACTIVE,ACTIVE);
  getServer().receiver.flow(1);
  pumpServerToClient();
  LOGGER.fine(bold("======== About to create a message and send it to the server"));
  getClient().message=Proton.message();
  Section messageBody=new AmqpValue("Hello");
  getClient().message.setBody(messageBody);
  getClient().messageData=new byte[BUFFER_SIZE];
  int lengthOfEncodedMessage=getClient().message.encode(getClient().messageData,0,BUFFER_SIZE);
  getTestLoggingHelper().prettyPrint(TestLoggingHelper.MESSAGE_PREFIX,Arrays.copyOf(getClient().messageData,lengthOfEncodedMessage));
  byte[] deliveryTag="delivery1".getBytes();
  getClient().delivery=getClient().sender.delivery(deliveryTag);
  int numberOfBytesAcceptedBySender=getClient().sender.send(getClient().messageData,0,lengthOfEncodedMessage);
  assertEquals("For simplicity, assume the sender can accept all the data",lengthOfEncodedMessage,numberOfBytesAcceptedBySender);
  assertNull(getClient().delivery.getLocalState());
  boolean senderAdvanced=getClient().sender.advance();
  assertTrue("sender has not advanced",senderAdvanced);
  pumpClientToServer();
  LOGGER.fine(bold("======== About to process the message on the server"));
  getServer().delivery=getServer().connection.getWorkHead();
  assertEquals("The received delivery should be on our receiver",getServer().receiver,getServer().delivery.getLink());
  assertNull(getServer().delivery.getLocalState());
  assertNull(getServer().delivery.getRemoteState());
  assertFalse(getServer().delivery.isPartial());
  assertTrue(getServer().delivery.isReadable());
  getServer().messageData=new byte[BUFFER_SIZE];
  int numberOfBytesProducedByReceiver=getServer().receiver.recv(getServer().messageData,0,BUFFER_SIZE);
  assertEquals(numberOfBytesAcceptedBySender,numberOfBytesProducedByReceiver);
  getServer().message=Proton.message();
  getServer().message.decode(getServer().messageData,0,numberOfBytesProducedByReceiver);
  boolean messageProcessed=applicationProcessMessage(getServer().message);
  assertTrue(messageProcessed);
  getServer().delivery.disposition(Accepted.getInstance());
  assertEquals(Accepted.getInstance(),getServer().delivery.getLocalState());
  pumpServerToClient();
  assertEquals(Accepted.getInstance(),getClient().delivery.getRemoteState());
  LOGGER.fine(bold("======== About to accept and settle the message on the client"));
  Delivery clientDelivery=getClient().connection.getWorkHead();
  assertEquals(getClient().delivery,clientDelivery);
  assertTrue(clientDelivery.isUpdated());
  assertEquals(getClient().sender,clientDelivery.getLink());
  clientDelivery.disposition(clientDelivery.getRemoteState());
  assertEquals(Accepted.getInstance(),getClient().delivery.getLocalState());
  clientDelivery.settle();
  assertNull("Now we've settled, the delivery should no longer be in the work list",getClient().connection.getWorkHead());
  pumpClientToServer();
  LOGGER.fine(bold("======== About to settle the message on the server"));
  assertEquals(Accepted.getInstance(),getServer().delivery.getRemoteState());
  Delivery serverDelivery=getServer().connection.getWorkHead();
  assertEquals(getServer().delivery,serverDelivery);
  assertTrue(serverDelivery.isUpdated());
  assertTrue("Client should have already settled",serverDelivery.remotelySettled());
  serverDelivery.settle();
  assertTrue(serverDelivery.isSettled());
  assertNull("Now we've settled, the delivery should no longer be in the work list",getServer().connection.getWorkHead());
  getServer().receiver.flow(1);
  pumpServerToClient();
  LOGGER.fine(bold("======== About to close client's sender"));
  getClient().sender.close();
  pumpClientToServer();
  LOGGER.fine(bold("======== Server about to process client's link closure"));
  assertSame(getServer().receiver,getServer().connection.linkHead(of(ACTIVE),of(CLOSED)));
  getServer().receiver.close();
  pumpServerToClient();
  LOGGER.fine(bold("======== About to close client's session"));
  getClient().session.close();
  pumpClientToServer();
  LOGGER.fine(bold("======== Server about to process client's session closure"));
  assertSame(getServer().session,getServer().connection.sessionHead(of(ACTIVE),of(CLOSED)));
  getServer().session.close();
  pumpServerToClient();
  LOGGER.fine(bold("======== About to close client's connection"));
  getClient().connection.close();
  pumpClientToServer();
  LOGGER.fine(bold("======== Server about to process client's connection closure"));
  assertEquals(CLOSED,getServer().connection.getRemoteState());
  getServer().connection.close();
  pumpServerToClient();
  LOGGER.fine(bold("======== Checking client has nothing more to pump"));
  assertClientHasNothingToOutput();
  LOGGER.fine(bold("======== Done!"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.systemtests.SaslTest </h4><pre class="type-6 type-1 type-9 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSaslHostnamePropagationAndRetrieval() throws Exception {
  LOGGER.fine(bold("======== About to create transports"));
  getClient().transport=Proton.transport();
  ProtocolTracerEnabler.setProtocolTracer(getClient().transport,TestLoggingHelper.CLIENT_PREFIX);
  Sasl clientSasl=getClient().transport.sasl();
  clientSasl.client();
  String hostname="my-remote-host-123";
  clientSasl.setRemoteHostname(hostname);
  try {
    clientSasl.getHostname();
    fail("should have throw IllegalStateException");
  }
 catch (  IllegalStateException ise) {
  }
  getServer().transport=Proton.transport();
  ProtocolTracerEnabler.setProtocolTracer(getServer().transport,"            " + TestLoggingHelper.SERVER_PREFIX);
  Sasl serverSasl=getServer().transport.sasl();
  serverSasl.server();
  serverSasl.setMechanisms("ANONYMOUS");
  try {
    serverSasl.setRemoteHostname("some-other-host");
    fail("should have throw IllegalStateException");
  }
 catch (  IllegalStateException ise) {
  }
  assertNull(serverSasl.getHostname());
  assertArrayEquals(new String[0],clientSasl.getRemoteMechanisms());
  pumpClientToServer();
  pumpServerToClient();
  assertArrayEquals(new String[]{"ANONYMOUS"},clientSasl.getRemoteMechanisms());
  clientSasl.setMechanisms("ANONYMOUS");
  assertNull(serverSasl.getHostname());
  pumpClientToServer();
  assertEquals(hostname,serverSasl.getHostname());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.systemtests.engine.ConnectionTest </h4><pre class="type-1 type-9 type-2 type-14 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * "Prior to any explicit negotiation, the maximum frame size is 512 (MIN-MAX-FRAME-SIZE) and the maximum channel number is 0"
 */
@Test public void testReceiptOfOpenBiggerThanDefaultMaximumFrameSize_causesTODO(){
  _pumper.pumpAll();
  _serverTransport.bind(_serverConnection);
  assertEnpointState(_serverConnection,UNINITIALIZED,UNINITIALIZED);
  String containerId="123456789";
  int extendedHeaderSize=122 * 4;
  Open bigOpen=new Open();
  bigOpen.setContainerId(containerId);
  byte[] openFrameBuffer=_framer.generateFrame(0,new byte[extendedHeaderSize],bigOpen);
  assertEquals("Test requires a frame of size MIN_MAX_FRAME_SIZE + 1",Transport.MIN_MAX_FRAME_SIZE + 1,openFrameBuffer.length);
  int serverConsumed=_serverTransport.input(openFrameBuffer,0,openFrameBuffer.length);
  assertEquals(openFrameBuffer.length,serverConsumed);
  assertEnpointState(_serverConnection,UNINITIALIZED,ACTIVE);
  assertNotNull(_serverConnection.getRemoteContainer());
}

</code></pre>

<br>
<pre class="type-1 type-9 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * "each peer MUST write a close frame with a code indicating the reason for closing"
 * Also see 2.8.16 Connection Error
 */
@Test @SuppressWarnings({"rawtypes","unchecked"}) public void testCloseConnectionWithErrorCode_causesCloseFrameContainingErrorCodeToBeSent(){
  bindAndOpenConnections();
  assertNull(_clientConnection.getCondition().getCondition());
  assertNull(_serverConnection.getCondition().getCondition());
  assertNull(_clientConnection.getRemoteCondition().getCondition());
  assertNull(_serverConnection.getRemoteCondition().getCondition());
  ErrorCondition clientErrorCondition=new ErrorCondition(Symbol.getSymbol("myerror"),"mydescription");
  Map info=new HashMap();
  info.put(Symbol.getSymbol("simplevalue"),"value");
  info.put(Symbol.getSymbol("list"),Arrays.asList("e1","e2","e3"));
  clientErrorCondition.setInfo(info);
  _clientConnection.setCondition(clientErrorCondition);
  _clientConnection.close();
  _pumper.pumpAll();
  assertEquals(clientErrorCondition,_serverConnection.getRemoteCondition());
  assertNull(_serverConnection.getCondition().getCondition());
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
