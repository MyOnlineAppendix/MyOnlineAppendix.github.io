<h3><span class=" glyphicon glyphicon-tag"/>&nbspEqualityVerifier</h3><kbd>Verifies whether objects/variable are equal to an expected value </kbd><br><br><br><h4 style="margin:0px">Class: org.apache.qpid.proton.InteropTest </h4><pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testArrays() throws IOException {
  TestDecoder d=createDecoder(getBytes("arrays"));
  Vector<Integer> ints=new Vector<Integer>();
  for (int i=0; i < 100; ++i)   ints.add(new Integer(i));
  assertArrayEquals(ints.toArray(),d.readArray());
  String strings[]={"a","b","c"};
  assertArrayEquals(strings,d.readArray());
  assertArrayEquals(new Integer[0],d.readArray());
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPrimitives() throws IOException {
  TestDecoder d=createDecoder(getBytes("primitives"));
  assertEquals(true,d.readBoolean());
  assertEquals(false,d.readBoolean());
  assertEquals(d.readUnsignedByte().intValue(),42);
  assertEquals(42,d.readUnsignedShort().intValue());
  assertEquals(-42,d.readShort().intValue());
  assertEquals(12345,d.readUnsignedInteger().intValue());
  assertEquals(-12345,d.readInteger().intValue());
  assertEquals(12345,d.readUnsignedLong().longValue());
  assertEquals(-12345,d.readLong().longValue());
  assertEquals(0.125,d.readFloat().floatValue(),0e-10);
  assertEquals(0.125,d.readDouble().doubleValue(),0e-10);
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMessage() throws IOException {
  Message m=decodeMessage("message");
  Binary b=(Binary)(((AmqpValue)m.getBody()).getValue());
  String s=createDecoder(b.getArray()).readString();
  assertEquals("hello",s);
}

</code></pre>

<br>
<pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDescribedArray() throws IOException {
  TestDecoder d=createDecoder(getBytes("described_array"));
  DescribedType a[]=(DescribedType[])(d.readArray());
  for (int i=0; i < 10; ++i) {
    assertEquals(Symbol.valueOf("int-array"),a[i].getDescriptor());
    assertEquals(i,a[i].getDescribed());
  }
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testLists() throws IOException {
  TestDecoder d=createDecoder(getBytes("lists"));
  List l=new ArrayList(){
{
      add(new Integer(32));
      add("foo");
      add(new Boolean(true));
    }
  }
;
  assertEquals(l,d.readList());
  l.clear();
  assertEquals(l,d.readList());
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDescribed() throws IOException {
  TestDecoder d=createDecoder(getBytes("described"));
  DescribedType dt=(DescribedType)(d.readObject());
  assertEquals(Symbol.valueOf("foo-descriptor"),dt.getDescriptor());
  assertEquals("foo-value",dt.getDescribed());
  dt=(DescribedType)(d.readObject());
  assertEquals(12,dt.getDescriptor());
  assertEquals(13,dt.getDescribed());
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testStrings() throws IOException {
  TestDecoder d=createDecoder(getBytes("strings"));
  assertEquals(new Binary("abc\0defg".getBytes("UTF-8")),d.readBinary());
  assertEquals("abcdefg",d.readString());
  assertEquals(Symbol.valueOf("abcdefg"),d.readSymbol());
  assertEquals(new Binary(new byte[0]),d.readBinary());
  assertEquals("",d.readString());
  assertEquals(Symbol.valueOf(""),d.readSymbol());
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@SuppressWarnings({"rawtypes","unchecked"}) @Test public void testMaps() throws IOException {
  TestDecoder d=createDecoder(getBytes("maps"));
  Map map=new HashMap(){
{
      put("one",1);
      put("two",2);
      put("three",3);
    }
  }
;
  assertEquals(map,d.readMap());
  map=new HashMap(){
{
      put(1,"one");
      put(2,"two");
      put(3,"three");
    }
  }
;
  assertEquals(map,d.readMap());
  map=new HashMap();
  assertEquals(map,d.readMap());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.amqp.UnsignedLongTest </h4><pre class="type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testValuesOfStringWithinRangeSucceed() throws Exception {
  UnsignedLong min=UnsignedLong.valueOf("0");
  assertEquals("unexpected value",0,min.longValue());
  BigInteger onLimit=new BigInteger(TWO_TO_64_MINUS_ONE_BYTES);
  String onlimitString=onLimit.toString();
  UnsignedLong max=UnsignedLong.valueOf(onlimitString);
  assertEquals("unexpected value",onLimit,max.bigIntegerValue());
}

</code></pre>

<br>
<pre class="type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testValuesOfBigIntegerWithinRangeSucceed() throws Exception {
  UnsignedLong min=UnsignedLong.valueOf(BigInteger.ZERO);
  assertEquals("unexpected value",0,min.longValue());
  BigInteger onLimit=new BigInteger(TWO_TO_64_MINUS_ONE_BYTES);
  UnsignedLong max=UnsignedLong.valueOf(onLimit);
  assertEquals("unexpected value",onLimit,max.bigIntegerValue());
  UnsignedLong longMax=UnsignedLong.valueOf(BigInteger.valueOf(Long.MAX_VALUE));
  assertEquals("unexpected value",Long.MAX_VALUE,longMax.longValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.apireconciliation.CFunctionNameListReaderTest </h4><pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReadFileContainingSingleCFunction() throws Exception {
  String declarationFile=createTestFileContaining("function1","function2","function3");
  List<String> functions=_cFunctionDeclarationReader.readCFunctionNames(declarationFile);
  assertEquals(3,functions.size());
  assertEquals("function1",functions.get(0));
  assertEquals("function3",functions.get(2));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.apireconciliation.JoinerTest </h4><pre class="type-5 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMultipleRowReport() throws Exception {
  List<String> protonCFunctions=asList(C_FUNCTION1,C_FUNCTION2);
  Set<Method> javaMethods=new HashSet<Method>(asList(_method1,_method2));
  ReconciliationReport reconciliationReport=_joiner.join(protonCFunctions,javaMethods);
  Set<ReportRow> rowSet=TestUtils.getReportRowsFrom(reconciliationReport);
  Set<ReportRow> expectedRowSet=new HashSet<ReportRow>(asList(new ReportRow(C_FUNCTION1,_method1),new ReportRow(C_FUNCTION2,_method2)));
  assertEquals(expectedRowSet,rowSet);
}

</code></pre>

<br>
<pre class="type-5 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testJavaMethodsWithAnnotationToSameFunction() throws Exception {
  List<String> protonCFunctions=asList(C_FUNCTION2);
  Set<Method> javaMethods=new HashSet<Method>(asList(_method2,_methodSharingFunctionNameAnnotationWithMethod2));
  ReconciliationReport reconciliationReport=_joiner.join(protonCFunctions,javaMethods);
  Set<ReportRow> rowSet=TestUtils.getReportRowsFrom(reconciliationReport);
  Set<ReportRow> expectedRowSet=new HashSet<ReportRow>(asList(new ReportRow(C_FUNCTION2,null),new ReportRow(null,_method2),new ReportRow(null,_methodSharingFunctionNameAnnotationWithMethod2)));
  assertEquals(expectedRowSet,rowSet);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.apireconciliation.packagesearcher.PackageSearcherTest </h4><pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFindDescendsPackageTree() throws Exception {
  String testDataPackage=InterfaceAtTreeTop.class.getPackage().getName();
  Set<Method> actualMethods=_packageSearcher.findMethods(testDataPackage);
  assertEquals(2,actualMethods.size());
  Set<Method> expectedMethods=new HashSet<Method>(Arrays.asList(ImplAtTreeTop.class.getMethod("method"),ImplAtLeaf.class.getMethod("method")));
  assertEquals(expectedMethods,actualMethods);
}

</code></pre>

<br>
<pre class="type-5 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testManyImplenentationsOfInterface() throws Exception {
  String testDataPackage=InterfaceWithManyImpls.class.getPackage().getName();
  Set<Method> actualMethods=_packageSearcher.findMethods(testDataPackage);
  assertEquals(2,actualMethods.size());
  String methodName="method";
  Set<Method> expectedMethods=new HashSet<Method>(Arrays.asList(Impl1.class.getMethod(methodName),Impl2.class.getMethod(methodName)));
  assertEquals(expectedMethods,actualMethods);
}

</code></pre>

<br>
<pre class="type-5 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testZeroImplenentationsOfInterface() throws Exception {
  String testDataPackage=InterfaceWithoutImpl.class.getPackage().getName();
  Method expectedMethod=InterfaceWithoutImpl.class.getMethod("method");
  Set<Method> actualMethods=_packageSearcher.findMethods(testDataPackage);
  assertEquals(1,actualMethods.size());
  Method actualMethod=actualMethods.iterator().next();
  assertEquals(expectedMethod,actualMethod);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.apireconciliation.reportwriter.AnnotationAccessorTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetAnnotationValue(){
  assertEquals(ANNOTATION_VALUE_1,_annotationAccessor.getAnnotationValue(_annotatedMethod));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.codec.StringTypeTest </h4><pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test the encoding and decoding of various  Unicode characters
 */
@Test public void encodeDecodeStrings(){
  final DecoderImpl decoder=new DecoderImpl();
  final EncoderImpl encoder=new EncoderImpl(decoder);
  AMQPDefinedTypes.registerAllTypes(decoder,encoder);
  final ByteBuffer bb=ByteBuffer.allocate(16);
  for (  final String input : TEST_DATA) {
    bb.clear();
    final AmqpValue inputValue=new AmqpValue(input);
    encoder.setByteBuffer(bb);
    encoder.writeObject(inputValue);
    bb.clear();
    decoder.setByteBuffer(bb);
    final AmqpValue outputValue=(AmqpValue)decoder.readObject();
    assertEquals("Failed to round trip String correctly: ",input,outputValue.getValue());
  }
}

</code></pre>

<br>
<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test the encoding and decoding of various complicated Unicode characters
 * which will end up as "surrogate pairs" when encoded to UTF-8
 */
@Test public void calculateUTF8Length(){
  for (  final String input : TEST_DATA) {
    assertEquals("Incorrect string length calculated for string '" + input + "'",input.getBytes(CHARSET_UTF8).length,StringType.calculateUTF8Length(input));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.codec.UnsignedIntegerTypeTest </h4><pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetEncodingWithZero(){
  DecoderImpl decoder=new DecoderImpl();
  EncoderImpl encoder=new EncoderImpl(decoder);
  UnsignedIntegerType ult=new UnsignedIntegerType(encoder,decoder);
  UnsignedIntegerEncoding encoding=ult.getEncoding(UnsignedInteger.valueOf(0L));
  assertEquals("incorrect encoding returned",EncodingCodes.UINT0,encoding.getEncodingCode());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetEncodingWithTwoToThirtyOne(){
  DecoderImpl decoder=new DecoderImpl();
  EncoderImpl encoder=new EncoderImpl(decoder);
  UnsignedIntegerType ult=new UnsignedIntegerType(encoder,decoder);
  long val=Integer.MAX_VALUE + 1L;
  UnsignedIntegerEncoding encoding=ult.getEncoding(UnsignedInteger.valueOf(val));
  assertEquals("incorrect encoding returned",EncodingCodes.UINT,encoding.getEncodingCode());
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetEncodingWithSmallPositiveValue(){
  DecoderImpl decoder=new DecoderImpl();
  EncoderImpl encoder=new EncoderImpl(decoder);
  UnsignedIntegerType ult=new UnsignedIntegerType(encoder,decoder);
  UnsignedIntegerEncoding encoding=ult.getEncoding(UnsignedInteger.valueOf(1L));
  assertEquals("incorrect encoding returned",EncodingCodes.SMALLUINT,encoding.getEncodingCode());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.codec.UnsignedLongTypeTest </h4><pre class="type-5 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetEncodingWithTwoToSixtyThree(){
  DecoderImpl decoder=new DecoderImpl();
  EncoderImpl encoder=new EncoderImpl(decoder);
  UnsignedLongType ult=new UnsignedLongType(encoder,decoder);
  BigInteger bigInt=BigInteger.valueOf(Long.MAX_VALUE).add(BigInteger.ONE);
  UnsignedLongEncoding encoding=ult.getEncoding(UnsignedLong.valueOf(bigInt));
  assertEquals("incorrect encoding returned",EncodingCodes.ULONG,encoding.getEncodingCode());
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetEncodingWithZero(){
  DecoderImpl decoder=new DecoderImpl();
  EncoderImpl encoder=new EncoderImpl(decoder);
  UnsignedLongType ult=new UnsignedLongType(encoder,decoder);
  UnsignedLongEncoding encoding=ult.getEncoding(UnsignedLong.valueOf(0L));
  assertEquals("incorrect encoding returned",EncodingCodes.ULONG0,encoding.getEncodingCode());
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetEncodingWithSmallPositiveValue(){
  DecoderImpl decoder=new DecoderImpl();
  EncoderImpl encoder=new EncoderImpl(decoder);
  UnsignedLongType ult=new UnsignedLongType(encoder,decoder);
  UnsignedLongEncoding encoding=ult.getEncoding(UnsignedLong.valueOf(1L));
  assertEquals("incorrect encoding returned",EncodingCodes.SMALLULONG,encoding.getEncodingCode());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.codec.impl.DataImplTest </h4><pre class="type-1 type-9 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEncodeDecodeSymbolArrayUsingPutArray(){
  Symbol symbol1=Symbol.valueOf("testRoundtripSymbolArray1");
  Symbol symbol2=Symbol.valueOf("testRoundtripSymbolArray2");
  Data data1=new DataImpl();
  data1.putArray(false,Data.DataType.SYMBOL);
  data1.enter();
  data1.putSymbol(symbol1);
  data1.putSymbol(symbol2);
  data1.exit();
  Binary encoded=data1.encode();
  encoded.asByteBuffer();
  Data data2=new DataImpl();
  data2.decode(encoded.asByteBuffer());
  assertEquals("unexpected array length",2,data2.getArray());
  assertEquals("unexpected array length",Data.DataType.SYMBOL,data2.getArrayType());
  Object[] array=data2.getJavaArray();
  assertNotNull("Array should not be null",array);
  assertEquals("Expected a Symbol array",Symbol[].class,array.getClass());
  assertEquals("unexpected array length",2,array.length);
  assertEquals("unexpected value",symbol1,array[0]);
  assertEquals("unexpected value",symbol2,array[1]);
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodeDecodeSymbolArrayUsingPutObject(){
  Symbol symbol1=Symbol.valueOf("testRoundtripSymbolArray1");
  Symbol symbol2=Symbol.valueOf("testRoundtripSymbolArray2");
  Symbol[] input=new Symbol[]{symbol1,symbol2};
  Data data1=new DataImpl();
  data1.putObject(input);
  Binary encoded=data1.encode();
  encoded.asByteBuffer();
  Data data2=new DataImpl();
  data2.decode(encoded.asByteBuffer());
  assertEquals("unexpected array length",2,data2.getArray());
  assertEquals("unexpected array length",Data.DataType.SYMBOL,data2.getArrayType());
  Object[] array=data2.getJavaArray();
  assertArrayEquals("Array not as expected",input,array);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.engine.EventDelegationTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testImplicitDelegate() throws IOException {
  Handler h=assemble(new ExecutionFlowTracer("A"),assemble(new ExecutionFlowTracer("A.A"),new ExecutionFlowTracer("A.A.A"),new ExecutionFlowTracer("A.A.B")),assemble(new ExecutionFlowTracer("A.B")));
  Reactor r=Reactor.Factory.create();
  r.getHandler().add(h);
  r.run();
  assertArrayEquals(new String[]{"A","A.A","A.A.A","A.A.B","A.B"},trace.toArray());
}

</code></pre>

<br>
<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExplicitDelegate() throws IOException {
  Handler h=assemble(new ExecutionFlowTracer("A"),assemble(new DelegatingFlowTracer("A.A"),new ExecutionFlowTracer("A.A.A"),new ExecutionFlowTracer("A.A.B")),assemble(new ExecutionFlowTracer("A.B")));
  Reactor r=Reactor.Factory.create();
  r.getHandler().add(h);
  r.run();
  assertArrayEquals(new String[]{"A","(A.A","A.A.A","A.A.B","A.A)","A.B"},trace.toArray());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.engine.impl.DeliveryImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDefaultMessageFormat() throws Exception {
  DeliveryImpl delivery=new DeliveryImpl(null,Mockito.mock(LinkImpl.class),null);
  assertEquals("Unexpected value",0L,DeliveryImpl.DEFAULT_MESSAGE_FORMAT);
  assertEquals("Unexpected message format",DeliveryImpl.DEFAULT_MESSAGE_FORMAT,delivery.getMessageFormat());
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSetGetMessageFormat() throws Exception {
  DeliveryImpl delivery=new DeliveryImpl(null,Mockito.mock(LinkImpl.class),null);
  int newFormat=0;
  delivery.setMessageFormat(newFormat);
  assertEquals("Unexpected message format",newFormat,delivery.getMessageFormat());
  newFormat=123456;
  delivery.setMessageFormat(newFormat);
  assertEquals("Unexpected message format",newFormat,delivery.getMessageFormat());
  newFormat=(1 << 32) - 1;
  delivery.setMessageFormat(newFormat);
  assertEquals("Unexpected message format",newFormat,delivery.getMessageFormat());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.engine.impl.FrameParserTest </h4><pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInputOfInvalidProtocolHeader_causesErrorAndRefusesFurtherInput(){
  String headerMismatchMessage="AMQP header mismatch";
  ByteBuffer buffer=_frameParser.tail();
  buffer.put("hello".getBytes());
  _frameParser.process();
  assertEquals(_frameParser.capacity(),Transport.END_OF_STREAM);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.engine.impl.StringUtilsTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEmptyBinaryNonEmptyArray(){
  byte[] bytes=new byte[]{(byte)0,(byte)0,(byte)0};
  Binary bin=new Binary(bytes,0,0);
  assertEquals("unexpected result","\"\"",StringUtils.toQuotedString(bin,10,true));
}

</code></pre>

<br>
<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBinaryStringifiedSmallerThanGivenMaxLength(){
  byte[] bytes=new byte[]{(byte)0,(byte)1,(byte)3,(byte)65,(byte)152};
  String expected="\"\\x00\\x01\\x03A\\x98\"";
  Binary bin=new Binary(bytes);
  assertEquals("unexpected result",expected,StringUtils.toQuotedString(bin,100,true));
  assertEquals("unexpected result",expected,StringUtils.toQuotedString(bin,100,false));
}

</code></pre>

<br>
<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBinaryStringifiedLargerThanGivenMaxLength(){
  byte[] bytes=new byte[]{(byte)0,(byte)1,(byte)3};
  String expected1="\"\\x00\\x01\"";
  Binary bin=new Binary(bytes);
  assertEquals("unexpected result",expected1,StringUtils.toQuotedString(bin,10,false));
  String expected2="\"\\x00\\x01\"...(truncated)";
  assertEquals("unexpected result",expected2,StringUtils.toQuotedString(bin,10,true));
}

</code></pre>

<br>
<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNullBinary(){
  assertEquals("unexpected result","\"\"",StringUtils.toQuotedString(null,10,true));
}

</code></pre>

<br>
<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEmptyBinaryNonEmptyArrayWithOffset(){
  byte[] bytes=new byte[]{(byte)0,(byte)0,(byte)0};
  Binary bin=new Binary(bytes,1,0);
  assertEquals("unexpected result","\"\"",StringUtils.toQuotedString(bin,10,true));
}

</code></pre>

<br>
<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBinaryStringifiedSmallerThanGivenMaxLengthWithOffset(){
  byte[] bytes=new byte[]{(byte)0,(byte)1,(byte)3,(byte)65,(byte)152};
  String expected="\"\\x01\\x03A\\x98\"";
  Binary bin=new Binary(bytes,1,4);
  assertEquals("unexpected result",expected,StringUtils.toQuotedString(bin,100,true));
  assertEquals("unexpected result",expected,StringUtils.toQuotedString(bin,100,false));
}

</code></pre>

<br>
<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEmptyBinaryEmptyArray(){
  Binary bin=new Binary(new byte[0]);
  assertEquals("unexpected result","\"\"",StringUtils.toQuotedString(bin,10,true));
}

</code></pre>

<br>
<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBinaryStringifiedEqualToGivenMaxLengthWithOffset(){
  byte[] bytes=new byte[]{(byte)0,(byte)1,(byte)3,(byte)65};
  String expected="\"\\x01\\x03A\"";
  Binary bin=new Binary(bytes,1,3);
  assertEquals("unexpected result",expected,StringUtils.toQuotedString(bin,11,true));
  assertEquals("unexpected result",expected,StringUtils.toQuotedString(bin,11,false));
  bytes=new byte[]{(byte)0,(byte)1,(byte)65,(byte)3};
  expected="\"\\x01A\\x03\"";
  bin=new Binary(bytes,1,3);
  assertEquals("unexpected result",expected,StringUtils.toQuotedString(bin,11,true));
  assertEquals("unexpected result",expected,StringUtils.toQuotedString(bin,11,false));
}

</code></pre>

<br>
<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBinaryStringifiedEqualToGivenMaxLength(){
  byte[] bytes=new byte[]{(byte)0,(byte)1,(byte)3,(byte)65};
  String expected="\"\\x00\\x01\\x03A\"";
  Binary bin=new Binary(bytes);
  assertEquals("unexpected result",expected,StringUtils.toQuotedString(bin,15,true));
  assertEquals("unexpected result",expected,StringUtils.toQuotedString(bin,15,false));
  bytes=new byte[]{(byte)0,(byte)1,(byte)65,(byte)3};
  expected="\"\\x00\\x01A\\x03\"";
  bin=new Binary(bytes);
  assertEquals("unexpected result",expected,StringUtils.toQuotedString(bin,15,true));
  assertEquals("unexpected result",expected,StringUtils.toQuotedString(bin,15,false));
}

</code></pre>

<br>
<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBinaryStringifiedLargerThanGivenMaxLengthWithOffset(){
  byte[] bytes=new byte[]{(byte)0,(byte)1,(byte)3};
  String expected1="\"\\x00\\x01\"";
  Binary bin=new Binary(bytes);
  assertEquals("unexpected result",expected1,StringUtils.toQuotedString(bin,10,false));
  String expected2="\"\\x00\\x01\"...(truncated)";
  assertEquals("unexpected result",expected2,StringUtils.toQuotedString(bin,10,true));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.engine.impl.TransportImplTest </h4><pre class="type-1 type-2 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
@Test public void testTickLocalTimeout(){
  MockTransportImpl transport=new MockTransportImpl();
  transport.setIdleTimeout(4000);
  Connection connection=Proton.connection();
  transport.bind(connection);
  transport.handleFrame(TRANSPORT_FRAME_OPEN);
  connection.open();
  pumpMockTransport(transport);
  long deadline=transport.tick(0);
  assertEquals("Expected to be returned a deadline of 4000",4000,deadline);
  int framesWrittenBeforeTick=transport.writes.size();
  deadline=transport.tick(1000);
  assertEquals("When the deadline hasn't been reached tick() should return the previous deadline",4000,deadline);
  assertEquals("Reading data should never result in a frame being written",0,transport.writes.size() - framesWrittenBeforeTick);
  ByteBuffer data=ByteBuffer.wrap(new byte[]{'A','M','Q','P',0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x08,0x02,0x00,0x00,0x00});
  while (data.remaining() > 0) {
    int origLimit=data.limit();
    int amount=Math.min(transport.tail().remaining(),data.remaining());
    data.limit(data.position() + amount);
    transport.tail().put(data);
    data.limit(origLimit);
    transport.process();
  }
  framesWrittenBeforeTick=transport.writes.size();
  deadline=transport.tick(2000);
  assertEquals("Reading data data resets the deadline",6000,deadline);
  assertEquals("Reading data should never result in a frame being written",0,transport.writes.size() - framesWrittenBeforeTick);
  assertEquals("Reading data before the deadline should keep the connection open",EndpointState.ACTIVE,connection.getLocalState());
  framesWrittenBeforeTick=transport.writes.size();
  deadline=transport.tick(7000);
  assertEquals("Calling tick() after the deadline should result in the connection being closed",EndpointState.CLOSED,connection.getLocalState());
}

</code></pre>

<br>
<pre class="type-1 type-4 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verify that no Transfer frame is emitted by the Transport should a Delivery
 * be sendable after the Close frame was sent.
 */
@Test public void testTransferAfterCloseSent(){
  MockTransportImpl transport=new MockTransportImpl();
  Connection connection=Proton.connection();
  transport.bind(connection);
  connection.open();
  Collector collector=Collector.Factory.create();
  connection.collect(collector);
  Session session=connection.session();
  session.open();
  String linkName="mySender";
  Sender sender=session.sender(linkName);
  sender.open();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),3,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(0) instanceof Open);
  assertTrue("Unexpected frame type",transport.writes.get(1) instanceof Begin);
  assertTrue("Unexpected frame type",transport.writes.get(2) instanceof Attach);
  transport.handleFrame(new TransportFrame(0,new Open(),null));
  Begin begin=new Begin();
  begin.setRemoteChannel(UnsignedShort.valueOf((short)0));
  transport.handleFrame(new TransportFrame(0,begin,null));
  Attach attach=new Attach();
  attach.setHandle(UnsignedInteger.ZERO);
  attach.setRole(Role.RECEIVER);
  attach.setName(linkName);
  attach.setInitialDeliveryCount(UnsignedInteger.ZERO);
  transport.handleFrame(new TransportFrame(0,attach,null));
  Flow flow=new Flow();
  flow.setHandle(UnsignedInteger.ZERO);
  flow.setDeliveryCount(UnsignedInteger.ZERO);
  flow.setNextIncomingId(UnsignedInteger.ONE);
  flow.setNextOutgoingId(UnsignedInteger.ZERO);
  flow.setIncomingWindow(UnsignedInteger.valueOf(1024));
  flow.setOutgoingWindow(UnsignedInteger.valueOf(1024));
  flow.setLinkCredit(UnsignedInteger.valueOf(10));
  transport.handleFrame(new TransportFrame(0,flow,null));
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),3,transport.writes.size());
  connection.close();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),4,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(3) instanceof Close);
  sendMessage(sender,"tag1","content1");
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),4,transport.writes.size());
}

</code></pre>

<br>
<pre class="type-1 type-4 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verify that no End frame is emitted by the Transport should a Session close
 * after the Close frame was sent.
 */
@Test public void testSessionEndAfterCloseSent(){
  MockTransportImpl transport=new MockTransportImpl();
  Connection connection=Proton.connection();
  transport.bind(connection);
  connection.open();
  Session session=connection.session();
  session.open();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),2,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(0) instanceof Open);
  assertTrue("Unexpected frame type",transport.writes.get(1) instanceof Begin);
  transport.handleFrame(new TransportFrame(0,new Open(),null));
  Begin begin=new Begin();
  begin.setRemoteChannel(UnsignedShort.valueOf((short)0));
  transport.handleFrame(new TransportFrame(0,begin,null));
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),2,transport.writes.size());
  connection.close();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),3,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(2) instanceof Close);
  session.close();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),3,transport.writes.size());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-4 type-9 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verify that no Disposition frame is emitted by the Transport should a Delivery
 * have disposition applied after the Close frame was sent.
 */
@Test public void testDispositionAfterCloseSent(){
  MockTransportImpl transport=new MockTransportImpl();
  Connection connection=Proton.connection();
  transport.bind(connection);
  connection.open();
  Session session=connection.session();
  session.open();
  String linkName="myReceiver";
  Receiver receiver=session.receiver(linkName);
  receiver.flow(5);
  receiver.open();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),4,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(0) instanceof Open);
  assertTrue("Unexpected frame type",transport.writes.get(1) instanceof Begin);
  assertTrue("Unexpected frame type",transport.writes.get(2) instanceof Attach);
  assertTrue("Unexpected frame type",transport.writes.get(3) instanceof Flow);
  Delivery delivery=receiver.current();
  assertNull("Should not yet have a delivery",delivery);
  transport.handleFrame(new TransportFrame(0,new Open(),null));
  Begin begin=new Begin();
  begin.setRemoteChannel(UnsignedShort.valueOf((short)0));
  begin.setNextOutgoingId(UnsignedInteger.ONE);
  begin.setIncomingWindow(UnsignedInteger.valueOf(1024));
  begin.setOutgoingWindow(UnsignedInteger.valueOf(1024));
  transport.handleFrame(new TransportFrame(0,begin,null));
  Attach attach=new Attach();
  attach.setHandle(UnsignedInteger.ZERO);
  attach.setRole(Role.SENDER);
  attach.setName(linkName);
  attach.setInitialDeliveryCount(UnsignedInteger.ZERO);
  transport.handleFrame(new TransportFrame(0,attach,null));
  String deliveryTag="tag1";
  String messageContent="content1";
  handleTransfer(transport,1,deliveryTag,messageContent);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),4,transport.writes.size());
  delivery=verifyDelivery(receiver,deliveryTag,messageContent);
  assertNotNull("Should now have a delivery",delivery);
  connection.close();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),5,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(4) instanceof Close);
  delivery.disposition(Released.getInstance());
  delivery.settle();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),5,transport.writes.size());
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSetGetChannelMax() throws Exception {
  Transport transport=Proton.transport();
  int channelMax=456;
  transport.setChannelMax(channelMax);
  assertEquals("Unesxpected value for channel-max",channelMax,transport.getChannelMax());
}

</code></pre>

<br>
<pre class="type-1 type-4 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOpenSessionBeforeOpenConnection(){
  MockTransportImpl transport=new MockTransportImpl();
  Connection connection=Proton.connection();
  transport.bind(connection);
  Session session=connection.session();
  session.open();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),0,transport.writes.size());
  connection.open();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),2,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(0) instanceof Open);
  assertTrue("Unexpected frame type",transport.writes.get(1) instanceof Begin);
}

</code></pre>

<br>
<pre class="type-1 type-4 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOutputTooBigToBeWrittenInOneGo(){
  int smallMaxFrameSize=512;
  _transport=new TransportImpl(smallMaxFrameSize);
  @SuppressWarnings("deprecation") Connection conn=new ConnectionImpl();
  _transport.bind(conn);
  conn.setHostname(stringOfLength("x",500));
  conn.open();
  conn.close();
  ByteBuffer buf=_transport.getOutputBuffer();
  assertEquals("Expecting buffer to be full",smallMaxFrameSize,buf.remaining());
  buf.position(buf.limit());
  _transport.outputConsumed();
  buf=_transport.getOutputBuffer();
  assertTrue("Expecting second buffer to have bytes",buf.remaining() > 0);
  assertTrue("Expecting second buffer to not be full",buf.remaining() < Transport.MIN_MAX_FRAME_SIZE);
}

</code></pre>

<br>
<pre class="type-1 type-4 type-2 type-14 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTickRemoteTimeout(){
  MockTransportImpl transport=new MockTransportImpl();
  Connection connection=Proton.connection();
  transport.bind(connection);
  int timeout=4000;
  Open open=new Open();
  open.setIdleTimeOut(new UnsignedInteger(4000));
  TransportFrame openFrame=new TransportFrame(CHANNEL_ID,open,null);
  transport.handleFrame(openFrame);
  pumpMockTransport(transport);
  long deadline=transport.tick(0);
  assertEquals("Expected to be returned a deadline of 2000",2000,deadline);
  deadline=transport.tick(1000);
  assertEquals("When the deadline hasn't been reached tick() should return the previous deadline",2000,deadline);
  assertEquals("When the deadline hasn't been reached tick() shouldn't write data",0,transport.writes.size());
  deadline=transport.tick(timeout / 2);
  assertEquals("When the deadline has been reached expected a new deadline to be returned 4000",4000,deadline);
  assertEquals("tick() should have written data",1,transport.writes.size());
  assertEquals("tick() should have written an empty frame",null,transport.writes.get(0));
  transport.writeFrame(CHANNEL_ID,new Begin(),null,null);
  while (transport.pending() > 0)   transport.pop(transport.head().remaining());
  int framesWrittenBeforeTick=transport.writes.size();
  deadline=transport.tick(3000);
  assertEquals("Writing data resets the deadline",5000,deadline);
  assertEquals("When the deadline is reset tick() shouldn't write an empty frame",0,transport.writes.size() - framesWrittenBeforeTick);
  transport.writeFrame(CHANNEL_ID,new Attach(),null,null);
  assertTrue(transport.pending() > 0);
  framesWrittenBeforeTick=transport.writes.size();
  deadline=transport.tick(4000);
  assertEquals("Having pending data does not reset the deadline",5000,deadline);
  assertEquals("Having pending data prevents tick() from sending an empty frame",0,transport.writes.size() - framesWrittenBeforeTick);
}

</code></pre>

<br>
<pre class="type-1 type-4 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verify that no Flow frame is emitted by the Transport should a Receiver
 * have credit added after the Close frame was sent.
 */
@Test public void testReceiverFlowAfterCloseSent(){
  MockTransportImpl transport=new MockTransportImpl();
  Connection connection=Proton.connection();
  transport.bind(connection);
  connection.open();
  Session session=connection.session();
  session.open();
  String linkName="myReceiver";
  Receiver receiver=session.receiver(linkName);
  receiver.open();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),3,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(0) instanceof Open);
  assertTrue("Unexpected frame type",transport.writes.get(1) instanceof Begin);
  assertTrue("Unexpected frame type",transport.writes.get(2) instanceof Attach);
  transport.handleFrame(new TransportFrame(0,new Open(),null));
  Begin begin=new Begin();
  begin.setRemoteChannel(UnsignedShort.valueOf((short)0));
  transport.handleFrame(new TransportFrame(0,begin,null));
  Attach attach=new Attach();
  attach.setHandle(UnsignedInteger.ZERO);
  attach.setRole(Role.RECEIVER);
  attach.setName(linkName);
  attach.setInitialDeliveryCount(UnsignedInteger.ZERO);
  transport.handleFrame(new TransportFrame(0,attach,null));
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),3,transport.writes.size());
  connection.close();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),4,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(3) instanceof Close);
  receiver.flow(1);
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),4,transport.writes.size());
}

</code></pre>

<br>
<pre class="type-1 type-4 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReceiverFlowBeforeOpenConnection(){
  MockTransportImpl transport=new MockTransportImpl();
  Connection connection=Proton.connection();
  transport.bind(connection);
  Session session=connection.session();
  session.open();
  Receiver reciever=session.receiver("myReceiver");
  reciever.flow(5);
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),0,transport.writes.size());
  connection.open();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),2,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(0) instanceof Open);
  assertTrue("Unexpected frame type",transport.writes.get(1) instanceof Begin);
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOutupt(){
{
    final ByteBuffer outputBuffer=_transport.getOutputBuffer();
    assertEquals(HEADER.length,outputBuffer.remaining());
    byte[] outputBytes=new byte[HEADER.length];
    outputBuffer.get(outputBytes);
    assertArrayEquals(HEADER,outputBytes);
    _transport.outputConsumed();
  }
{
    final ByteBuffer outputBuffer=_transport.getOutputBuffer();
    assertEquals(0,outputBuffer.remaining());
    _transport.outputConsumed();
  }
}

</code></pre>

<br>
<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testChannelMaxDefault() throws Exception {
  Transport transport=Proton.transport();
  assertEquals("Unesxpected value for channel-max",65535,transport.getChannelMax());
}

</code></pre>

<br>
<pre class="type-1 type-4 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSenderSendBeforeOpenConnection(){
  MockTransportImpl transport=new MockTransportImpl();
  Connection connection=Proton.connection();
  transport.bind(connection);
  Collector collector=Collector.Factory.create();
  connection.collect(collector);
  Session session=connection.session();
  session.open();
  String linkName="mySender";
  Sender sender=session.sender(linkName);
  sender.open();
  sendMessage(sender,"tag1","content1");
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),0,transport.writes.size());
  connection.open();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),3,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(0) instanceof Open);
  assertTrue("Unexpected frame type",transport.writes.get(1) instanceof Begin);
  assertTrue("Unexpected frame type",transport.writes.get(2) instanceof Attach);
  transport.handleFrame(new TransportFrame(0,new Open(),null));
  Begin begin=new Begin();
  begin.setRemoteChannel(UnsignedShort.valueOf((short)0));
  transport.handleFrame(new TransportFrame(0,begin,null));
  Attach attach=new Attach();
  attach.setHandle(UnsignedInteger.ZERO);
  attach.setRole(Role.RECEIVER);
  attach.setName(linkName);
  attach.setInitialDeliveryCount(UnsignedInteger.ZERO);
  transport.handleFrame(new TransportFrame(0,attach,null));
  Flow flow=new Flow();
  flow.setHandle(UnsignedInteger.ZERO);
  flow.setDeliveryCount(UnsignedInteger.ZERO);
  flow.setNextIncomingId(UnsignedInteger.ONE);
  flow.setNextOutgoingId(UnsignedInteger.ZERO);
  flow.setIncomingWindow(UnsignedInteger.valueOf(1024));
  flow.setOutgoingWindow(UnsignedInteger.valueOf(1024));
  flow.setLinkCredit(UnsignedInteger.valueOf(10));
  transport.handleFrame(new TransportFrame(0,flow,null));
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),3,transport.writes.size());
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),4,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(3) instanceof Transfer);
}

</code></pre>

<br>
<pre class="type-1 type-4 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verify that no Flow frame is emitted by the Transport should a Sender
 * have credit drained added after the Close frame was sent.
 */
@Test public void testSenderFlowAfterCloseSent(){
  MockTransportImpl transport=new MockTransportImpl();
  Connection connection=Proton.connection();
  transport.bind(connection);
  connection.open();
  Collector collector=Collector.Factory.create();
  connection.collect(collector);
  Session session=connection.session();
  session.open();
  String linkName="mySender";
  Sender sender=session.sender(linkName);
  sender.open();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),3,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(0) instanceof Open);
  assertTrue("Unexpected frame type",transport.writes.get(1) instanceof Begin);
  assertTrue("Unexpected frame type",transport.writes.get(2) instanceof Attach);
  assertFalse("Should not be in drain yet",sender.getDrain());
  transport.handleFrame(new TransportFrame(0,new Open(),null));
  Begin begin=new Begin();
  begin.setRemoteChannel(UnsignedShort.valueOf((short)0));
  transport.handleFrame(new TransportFrame(0,begin,null));
  Attach attach=new Attach();
  attach.setHandle(UnsignedInteger.ZERO);
  attach.setRole(Role.RECEIVER);
  attach.setName(linkName);
  attach.setInitialDeliveryCount(UnsignedInteger.ZERO);
  transport.handleFrame(new TransportFrame(0,attach,null));
  int credit=10;
  Flow flow=new Flow();
  flow.setHandle(UnsignedInteger.ZERO);
  flow.setDeliveryCount(UnsignedInteger.ZERO);
  flow.setNextIncomingId(UnsignedInteger.ONE);
  flow.setNextOutgoingId(UnsignedInteger.ZERO);
  flow.setIncomingWindow(UnsignedInteger.valueOf(1024));
  flow.setOutgoingWindow(UnsignedInteger.valueOf(1024));
  flow.setDrain(true);
  flow.setLinkCredit(UnsignedInteger.valueOf(credit));
  transport.handleFrame(new TransportFrame(0,flow,null));
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),3,transport.writes.size());
  assertTrue("Should not be in drain",sender.getDrain());
  assertEquals("Should have credit",credit,sender.getCredit());
  connection.close();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),4,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(3) instanceof Close);
  int drained=sender.drained();
  assertEquals("Should have drained all credit",credit,drained);
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),4,transport.writes.size());
}

</code></pre>

<br>
<pre class="type-1 type-4 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verify that no Begin frame is emitted by the Transport should a Session open
 * after the Close frame was sent.
 */
@Test public void testSessionBeginAfterCloseSent(){
  MockTransportImpl transport=new MockTransportImpl();
  Connection connection=Proton.connection();
  transport.bind(connection);
  connection.open();
  Session session=connection.session();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),1,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(0) instanceof Open);
  transport.handleFrame(new TransportFrame(0,new Open(),null));
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),1,transport.writes.size());
  connection.close();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),2,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(1) instanceof Close);
  session.open();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),2,transport.writes.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.engine.impl.TransportOutputAdaptorTest </h4><pre class="type-1 type-2 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
@Test public void testClientConsumesOutputInMultipleChunksWithAdditionalTransportWriterOutput(){
  byte[] initialBytes="abcd".getBytes();
  _transportOutputWriter.setNextCannedOutput(initialBytes);
  int chunk1Size=2;
  int initialRemaining=initialBytes.length - chunk1Size;
{
    final ByteBuffer outputBuffer1=_transportOutput.head();
    byte[] byteArray1=new byte[chunk1Size];
    outputBuffer1.get(byteArray1);
    assertEquals(initialRemaining,outputBuffer1.remaining());
    assertByteArrayContentEquals(copyOfRange(initialBytes,0,chunk1Size),byteArray1);
    _transportOutput.pop(outputBuffer1.position());
  }
  byte[] additionalBytes="wxyz".getBytes();
  _transportOutputWriter.setNextCannedOutput(additionalBytes);
{
    final ByteBuffer outputBuffer2=_transportOutput.head();
    byte[] expectedBytes="cdwxyz".getBytes();
    assertByteBufferContentEquals(expectedBytes,outputBuffer2);
  }
}

</code></pre>

<br>
<pre class="type-1 type-2 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
@Test public void testClientConsumesOutputInMultipleChunks(){
  byte[] testBytes="testbytes".getBytes();
  _transportOutputWriter.setNextCannedOutput(testBytes);
  int chunk1Size=2;
  int chunk2Size=testBytes.length - chunk1Size;
{
    final ByteBuffer outputBuffer1=_transportOutput.head();
    byte[] byteArray1=new byte[chunk1Size];
    outputBuffer1.get(byteArray1);
    assertEquals(chunk2Size,outputBuffer1.remaining());
    assertByteArrayContentEquals(copyOfRange(testBytes,0,chunk1Size),byteArray1);
    _transportOutput.pop(outputBuffer1.position());
  }
{
    final ByteBuffer outputBuffer2=_transportOutput.head();
    int chunk2Offset=chunk1Size;
    assertByteBufferContentEquals(copyOfRange(testBytes,chunk2Offset,testBytes.length),outputBuffer2);
  }
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetOutputBuffer_containsCorrectBytes(){
  byte[] testBytes="testbytes".getBytes();
  _transportOutputWriter.setNextCannedOutput(testBytes);
  assertEquals(testBytes.length,_transportOutput.pending());
  final ByteBuffer outputBuffer=_transportOutput.head();
  assertEquals(testBytes.length,outputBuffer.remaining());
  byte[] outputBytes=new byte[testBytes.length];
  outputBuffer.get(outputBytes);
  assertByteArrayContentEquals(testBytes,outputBytes);
  _transportOutput.pop(outputBuffer.position());
  final ByteBuffer outputBuffer2=_transportOutput.head();
  assertEquals(0,outputBuffer2.remaining());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.engine.impl.ssl.SimpleSslTransportWrapperTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInputDecodesOnePacket(){
  String encodedBytes="<-A->";
  putBytesIntoTransport(encodedBytes);
  assertEquals("a_",_underlyingInput.getAcceptedInput());
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSslUnwrapThrowsException_returnsErrorResultAndRefusesFurtherInput() throws Exception {
  SSLException sslException=new SSLException("unwrap exception");
  _dummySslEngine.rejectNextEncodedPacket(sslException);
  _sslWrapper.tail().put("<-A->".getBytes());
  _sslWrapper.process();
  assertEquals(_sslWrapper.capacity(),Transport.END_OF_STREAM);
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * As per {@link #testInputIncompletePacket_isNotPassedToUnderlyingInputUntilCompleted()}but this time it takes TWO chunks to complete the "dangling" packet.
 */
@Test public void testInputIncompletePacketInThreeParts(){
  String firstEncodedBytes="<-A-><-B-><-";
  String secondEncodedBytes="C";
  String thirdEncodedBytes="-><-D->";
  putBytesIntoTransport(firstEncodedBytes);
  assertEquals("a_b_",_underlyingInput.getAcceptedInput());
  putBytesIntoTransport(secondEncodedBytes);
  assertEquals("a_b_",_underlyingInput.getAcceptedInput());
  putBytesIntoTransport(thirdEncodedBytes);
  assertEquals("a_b_c_d_",_underlyingInput.getAcceptedInput());
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUnderlyingInputUsingSmallBuffer_receivesAllDecodedInput() throws Exception {
  _underlyingInput.setInputBufferSize(1);
  putBytesIntoTransport("<-A->");
  assertEquals("a_",_underlyingInput.getAcceptedInput());
}

</code></pre>

<br>
<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOutputEncodesMultiplePackets(){
  _underlyingOutput.setOutput("a_b_c_");
  assertEquals("<-A-><-B-><-C->",getAllBytesFromTransport());
}

</code></pre>

<br>
<pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInputIncompletePacket_isNotPassedToUnderlyingInputUntilCompleted(){
  String incompleteEncodedBytes="<-A-><-B-><-C";
  String remainingEncodedBytes="-><-D->";
  putBytesIntoTransport(incompleteEncodedBytes);
  assertEquals("a_b_",_underlyingInput.getAcceptedInput());
  putBytesIntoTransport(remainingEncodedBytes);
  assertEquals("a_b_c_d_",_underlyingInput.getAcceptedInput());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testClientConsumesEncodedOutputInMultipleChunks(){
  _underlyingOutput.setOutput("a_b_");
{
    ByteBuffer buffer=_sslWrapper.head();
    String output=pourBufferToString(buffer,2);
    assertEquals("<-",output);
    _sslWrapper.pop(buffer.position());
  }
{
    ByteBuffer buffer=_sslWrapper.head();
    String output=pourBufferToString(buffer,3);
    assertEquals("A->",output);
    _sslWrapper.pop(buffer.position());
  }
  assertEquals("<-B->",getAllBytesFromTransport());
}

</code></pre>

<br>
<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOutputEncodesMultiplePacketsOfVaryingSize(){
  _underlyingOutput.setOutput("z_a_b_");
  assertEquals("<><-A-><-B->",getAllBytesFromTransport());
}

</code></pre>

<br>
<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInputWithMultiplePackets(){
  String encodedBytes="<-A-><-B-><-C-><>";
  putBytesIntoTransport(encodedBytes);
  assertEquals("a_b_c_z_",_underlyingInput.getAcceptedInput());
}

</code></pre>

<br>
<pre class="type-6 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnderlyingInputReturnsErrorResult_returnsErrorResultAndRefusesFurtherInput() throws Exception {
  String underlyingErrorDescription="dummy underlying error";
  _underlyingInput.rejectNextInput(underlyingErrorDescription);
  _sslWrapper.tail().put("<-A->".getBytes());
  try {
    _sslWrapper.process();
    fail("no exception");
  }
 catch (  TransportException e) {
    assertEquals(underlyingErrorDescription,e.getMessage());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.engine.impl.ssl.SslHandshakeSniffingTransportWrapperTest </h4><pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetSslAttributesWhenProtocolIsNotYetDetermined_returnNull(){
  assertEquals("Cipher name should be null",null,_sniffingWrapper.getCipherName());
  assertEquals("Protocol name should be null",null,_sniffingWrapper.getProtocolName());
  verifyZeroInteractions(_secureTransportWrapper,_plainTransportWrapper);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.hawtdispatch.api.SampleTest </h4><pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void test() throws Exception {
  int expected=10;
  final AtomicInteger countdown=new AtomicInteger(expected);
  AmqpConnectOptions options=new AmqpConnectOptions();
  final String container=UUID.randomUUID().toString();
  try {
    options.setHost(server.getHost(),server.getPort());
    options.setLocalContainerId(container);
    options.setUser("anonymous");
    options.setPassword("changeit");
  }
 catch (  URISyntaxException e) {
    e.printStackTrace();
  }
  final AmqpConnection conn=AmqpConnection.connect(options);
  _logger.fine("connection queue");
  conn.queue().execute(new Task(){
    @Override public void run(){
      _logger.fine("connection running, setup callbacks");
      conn.onTransportFailure(new Callback<Throwable>(){
        @Override public void onSuccess(        Throwable value){
          _logger.fine("transportFailure Success? " + str(value));
          conn.close();
        }
        @Override public void onFailure(        Throwable value){
          _logger.fine("transportFailure Trouble! " + str(value));
          conn.close();
        }
      }
);
      conn.onConnected(new Callback<Void>(){
        @Override public void onSuccess(        Void value){
          _logger.fine("on connect Success! in container " + container);
          final AmqpSession session=conn.createSession();
          Target rqtarget=new Target();
          rqtarget.setAddress("rq-tgt");
          final AmqpSender sender=session.createSender(rqtarget,QoS.AT_LEAST_ONCE,"request-yyy");
          Source rqsource=new Source();
          rqsource.setAddress("rs-src");
          sender.getEndpoint().setSource(rqsource);
          Source rssource=new Source();
          rssource.setAddress("rs-src");
          final AmqpReceiver receiver=session.createReceiver(rssource,QoS.AT_LEAST_ONCE,10,"response-yyy");
          Target rstarget=new Target();
          final String address="rs-tgt";
          rstarget.setAddress(address);
          receiver.getEndpoint().setTarget(rstarget);
          sender.onRemoteClose(new Callback<ErrorCondition>(){
            @Override public void onSuccess(            ErrorCondition value){
              _logger.fine("sender remote close!" + str(value));
            }
            @Override public void onFailure(            Throwable value){
              _logger.fine("sender remote close Trouble!" + str(value));
              conn.close();
            }
          }
);
          receiver.onRemoteClose(new Callback<ErrorCondition>(){
            @Override public void onSuccess(            ErrorCondition value){
              _logger.fine("receiver remote close!" + str(value));
            }
            @Override public void onFailure(            Throwable value){
              _logger.fine("receiver remote close Trouble!" + str(value));
              conn.close();
            }
          }
);
          final Task work=new Task(){
            private AtomicInteger count=new AtomicInteger();
            @Override public void run(){
              Message message=session.createTextMessage("hello world! " + String.valueOf(count.incrementAndGet()));
              message.setAddress("amqp://joze/rq-src");
              String reply_to="amqp://" + container + "/"+ address;
              message.setReplyTo(reply_to);
              message.setCorrelationId("correlator");
              final MessageDelivery md=sender.send(message);
              md.onRemoteStateChange(new Callback<DeliveryState>(){
                @Override public void onSuccess(                DeliveryState value){
                  _logger.fine("delivery remote state change! " + str(value) + " local: "+ str(md.getLocalState())+ " remote: "+ str(md.getRemoteState()));
                }
                @Override public void onFailure(                Throwable value){
                  _logger.fine("remote state change Trouble!" + str(value));
                  conn.close();
                }
              }
);
              md.onSettle(new Callback<DeliveryState>(){
                @Override public void onSuccess(                DeliveryState value){
                  _logger.fine("delivery settled! " + str(value) + " local: "+ str(md.getLocalState())+ " remote: "+ str(md.getRemoteState()));
                  _logger.fine("sender settle mode state " + " local receiver " + str(sender.getEndpoint().getReceiverSettleMode()) + " local sender "+ str(sender.getEndpoint().getSenderSettleMode())+ " remote receiver "+ str(sender.getEndpoint().getRemoteReceiverSettleMode())+ " remote sender "+ str(sender.getEndpoint().getRemoteSenderSettleMode())+ "");
                }
                @Override public void onFailure(                Throwable value){
                  _logger.fine("delivery sending Trouble!" + str(value));
                  conn.close();
                }
              }
);
            }
          }
;
          receiver.setDeliveryListener(new AmqpDeliveryListener(){
            @Override public void onMessageDelivery(            MessageDelivery delivery){
              Message message=delivery.getMessage();
              _logger.fine("incoming message delivery! " + " local " + str(delivery.getLocalState()) + " remote "+ str(delivery.getRemoteState())+ " message "+ str(message.getBody())+ "");
              delivery.onSettle(new Callback<DeliveryState>(){
                @Override public void onSuccess(                DeliveryState value){
                  _logger.fine("incoming message settled! ");
                  int i=countdown.decrementAndGet();
                  if (i > 0) {
                    _logger.fine("More work " + str(i));
                    work.run();
                  }
 else {
                    conn.queue().executeAfter(100,TimeUnit.MILLISECONDS,new Task(){
                      @Override public void run(){
                        _logger.fine("stopping sender");
                        sender.close();
                      }
                    }
);
                    conn.queue().executeAfter(200,TimeUnit.MILLISECONDS,new Task(){
                      @Override public void run(){
                        _logger.fine("stopping receiver");
                        receiver.close();
                      }
                    }
);
                    conn.queue().executeAfter(300,TimeUnit.MILLISECONDS,new Task(){
                      @Override public void run(){
                        _logger.fine("stopping session");
                        session.close();
                      }
                    }
);
                    conn.queue().executeAfter(400,TimeUnit.MILLISECONDS,new Task(){
                      @Override public void run(){
                        _logger.fine("stopping connection");
                        conn.close();
                      }
                    }
);
                  }
                }
                @Override public void onFailure(                Throwable value){
                  _logger.fine("trouble settling incoming message " + str(value));
                  conn.close();
                }
              }
);
              delivery.settle();
            }
          }
);
          receiver.resume();
          conn.queue().execute(work);
        }
        @Override public void onFailure(        Throwable value){
          _logger.fine("on connect Failure?" + str(value));
          conn.close();
        }
      }
);
      _logger.fine("connection setup done");
    }
  }
);
  try {
    _logger.fine("Waiting...");
    Future<Void> disconnectedFuture=conn.getDisconnectedFuture();
    disconnectedFuture.await(10,TimeUnit.SECONDS);
    _logger.fine("done");
    assertEquals(expected,server.getMessagesReceived());
  }
 catch (  Exception e) {
    _logger.log(Level.SEVERE,"Test failed, possibly due to timeout",e);
    throw e;
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.jms.JMSMappingOutboundTransformerTest </h4><pre class="type-1 type-4 type-9 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConvertMessageWithTextMessageCreatesAmqpValueStringBody() throws Exception {
  String contentString="myTextMessageContent";
  TextMessage mockTextMessage=createMockTextMessage();
  Mockito.when(mockTextMessage.getText()).thenReturn(contentString);
  JMSVendor mockVendor=createMockVendor();
  JMSMappingOutboundTransformer transformer=new JMSMappingOutboundTransformer(mockVendor);
  Message amqp=transformer.convert(mockTextMessage);
  assertNotNull(amqp.getBody());
  assertTrue(amqp.getBody() instanceof AmqpValue);
  assertEquals(contentString,((AmqpValue)amqp.getBody()).getValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.systemtests.BinaryFormatterTest </h4><pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testComplex(){
  byte[] binaryData=new byte[4];
  System.arraycopy("ABC".getBytes(),0,binaryData,0,3);
  binaryData[3]=(byte)0xff;
  String formattedString=_binaryFormatter.format(binaryData);
  String expected="[ A ][ B ][ C ][xff]";
  assertEquals(expected,formattedString);
}

</code></pre>

<br>
<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSingleSmallNonCharacter(){
  byte[] bytes=new byte[]{(byte)0x1};
  assertEquals("[x01]",_binaryFormatter.format(bytes));
}

</code></pre>

<br>
<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSingleCharacter(){
  assertEquals("[ A ]",_binaryFormatter.format("A".getBytes()));
}

</code></pre>

<br>
<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSingleLargeNonCharacter(){
  int numberToUse=0xa2;
  byte byteToUse=(byte)numberToUse;
  byte[] bytes=new byte[]{byteToUse};
  assertEquals("[xa2]",_binaryFormatter.format(bytes));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.systemtests.DefaultDeliveryStateTest </h4><pre class="type-1 type-4 type-9 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDefaultDeliveryState() throws Exception {
  LOGGER.fine(bold("======== About to create transports"));
  getClient().transport=Proton.transport();
  ProtocolTracerEnabler.setProtocolTracer(getClient().transport,TestLoggingHelper.CLIENT_PREFIX);
  getServer().transport=Proton.transport();
  ProtocolTracerEnabler.setProtocolTracer(getServer().transport,"            " + TestLoggingHelper.SERVER_PREFIX);
  doOutputInputCycle();
  getClient().connection=Proton.connection();
  getClient().transport.bind(getClient().connection);
  getServer().connection=Proton.connection();
  getServer().transport.bind(getServer().connection);
  LOGGER.fine(bold("======== About to open connections"));
  getClient().connection.open();
  getServer().connection.open();
  doOutputInputCycle();
  LOGGER.fine(bold("======== About to open sessions"));
  getClient().session=getClient().connection.session();
  getClient().session.open();
  pumpClientToServer();
  getServer().session=getServer().connection.sessionHead(of(UNINITIALIZED),of(ACTIVE));
  assertEndpointState(getServer().session,UNINITIALIZED,ACTIVE);
  getServer().session.open();
  assertEndpointState(getServer().session,ACTIVE,ACTIVE);
  pumpServerToClient();
  assertEndpointState(getClient().session,ACTIVE,ACTIVE);
  LOGGER.fine(bold("======== About to create reciever"));
  getClient().source=new Source();
  getClient().source.setAddress(_sourceAddress);
  getClient().target=new Target();
  getClient().target.setAddress(null);
  getClient().receiver=getClient().session.receiver("link1");
  getClient().receiver.setTarget(getClient().target);
  getClient().receiver.setSource(getClient().source);
  getClient().receiver.setReceiverSettleMode(ReceiverSettleMode.FIRST);
  getClient().receiver.setSenderSettleMode(SenderSettleMode.UNSETTLED);
  assertEndpointState(getClient().receiver,UNINITIALIZED,UNINITIALIZED);
  getClient().receiver.open();
  assertEndpointState(getClient().receiver,ACTIVE,UNINITIALIZED);
  pumpClientToServer();
  LOGGER.fine(bold("======== About to set up implicitly created sender"));
  getServer().sender=(Sender)getServer().connection.linkHead(of(UNINITIALIZED),of(ACTIVE));
  getServer().sender.setReceiverSettleMode(getServer().sender.getRemoteReceiverSettleMode());
  getServer().sender.setSenderSettleMode(getServer().sender.getRemoteSenderSettleMode());
  org.apache.qpid.proton.amqp.transport.Source serverRemoteSource=getServer().sender.getRemoteSource();
  getServer().sender.setSource(serverRemoteSource);
  assertEndpointState(getServer().sender,UNINITIALIZED,ACTIVE);
  getServer().sender.open();
  assertEndpointState(getServer().sender,ACTIVE,ACTIVE);
  pumpServerToClient();
  assertEndpointState(getClient().receiver,ACTIVE,ACTIVE);
  int messagCount=3;
  getClient().receiver.flow(messagCount);
  pumpClientToServer();
  LOGGER.fine(bold("======== About to create messages and send to the client"));
  Delivery serverDelivery1=sendMessageToClient("delivery1","Msg1");
  Delivery serverDelivery2=sendMessageToClient("delivery2","Msg2");
  Delivery serverDelivery3=sendMessageToClient("delivery3","Msg3");
  pumpServerToClient();
  assertNull(serverDelivery1.getLocalState());
  assertNull(serverDelivery2.getLocalState());
  assertNull(serverDelivery3.getLocalState());
  assertNull(serverDelivery1.getRemoteState());
  assertNull(serverDelivery2.getRemoteState());
  assertNull(serverDelivery3.getRemoteState());
  LOGGER.fine(bold("======== About to process the messages on the client"));
  Delivery clientDelivery1=receiveMessageFromServer("delivery1","Msg1");
  Delivery clientDelivery2=receiveMessageFromServer("delivery2","Msg2");
  Delivery clientDelivery3=receiveMessageFromServer("delivery3","Msg3");
  clientDelivery1.setDefaultDeliveryState(Released.getInstance());
  clientDelivery2.setDefaultDeliveryState(Released.getInstance());
  clientDelivery3.setDefaultDeliveryState(Released.getInstance());
  assertEquals(Released.getInstance(),clientDelivery1.getDefaultDeliveryState());
  assertEquals(Released.getInstance(),clientDelivery2.getDefaultDeliveryState());
  assertEquals(Released.getInstance(),clientDelivery3.getDefaultDeliveryState());
  assertNull(clientDelivery1.getLocalState());
  assertNull(clientDelivery2.getLocalState());
  assertNull(clientDelivery3.getLocalState());
  assertNull(clientDelivery1.getRemoteState());
  assertNull(clientDelivery2.getRemoteState());
  assertNull(clientDelivery3.getRemoteState());
  clientDelivery1.disposition(Accepted.getInstance());
  clientDelivery2.setDefaultDeliveryState(new Modified());
  assertEquals(Released.getInstance(),clientDelivery1.getDefaultDeliveryState());
  assertTrue(clientDelivery2.getDefaultDeliveryState() instanceof Modified);
  assertEquals(Released.getInstance(),clientDelivery3.getDefaultDeliveryState());
  assertEquals(Accepted.getInstance(),clientDelivery1.getLocalState());
  assertNull(clientDelivery2.getLocalState());
  assertNull(clientDelivery3.getLocalState());
  pumpClientToServer();
  assertEquals(Accepted.getInstance(),serverDelivery1.getRemoteState());
  assertNull(serverDelivery2.getRemoteState());
  assertNull(serverDelivery3.getRemoteState());
  getClient().receiver.close();
  assertEndpointState(getClient().receiver,CLOSED,ACTIVE);
  pumpClientToServer();
  assertEndpointState(getServer().sender,ACTIVE,CLOSED);
  getServer().sender.close();
  assertEndpointState(getServer().sender,CLOSED,CLOSED);
  pumpServerToClient();
  getClient().receiver.free();
  assertEndpointState(getClient().receiver,CLOSED,CLOSED);
  pumpClientToServer();
  assertEquals(Accepted.getInstance(),serverDelivery1.getRemoteState());
  assertTrue(serverDelivery2.getRemoteState() instanceof Modified);
  assertEquals(Released.getInstance(),serverDelivery3.getRemoteState());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.systemtests.DeliveryTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMessageFormat() throws Exception {
  LOGGER.fine(bold("======== About to create transports"));
  getClient().transport=Proton.transport();
  ProtocolTracerEnabler.setProtocolTracer(getClient().transport,TestLoggingHelper.CLIENT_PREFIX);
  getServer().transport=Proton.transport();
  ProtocolTracerEnabler.setProtocolTracer(getServer().transport,"            " + TestLoggingHelper.SERVER_PREFIX);
  doOutputInputCycle();
  getClient().connection=Proton.connection();
  getClient().transport.bind(getClient().connection);
  getServer().connection=Proton.connection();
  getServer().transport.bind(getServer().connection);
  LOGGER.fine(bold("======== About to open connections"));
  getClient().connection.open();
  getServer().connection.open();
  doOutputInputCycle();
  LOGGER.fine(bold("======== About to open sessions"));
  getClient().session=getClient().connection.session();
  getClient().session.open();
  pumpClientToServer();
  getServer().session=getServer().connection.sessionHead(of(UNINITIALIZED),of(ACTIVE));
  assertEndpointState(getServer().session,UNINITIALIZED,ACTIVE);
  getServer().session.open();
  assertEndpointState(getServer().session,ACTIVE,ACTIVE);
  pumpServerToClient();
  assertEndpointState(getClient().session,ACTIVE,ACTIVE);
  LOGGER.fine(bold("======== About to create reciever"));
  getClient().source=new Source();
  getClient().source.setAddress(_sourceAddress);
  getClient().target=new Target();
  getClient().target.setAddress(null);
  getClient().receiver=getClient().session.receiver("link1");
  getClient().receiver.setTarget(getClient().target);
  getClient().receiver.setSource(getClient().source);
  getClient().receiver.setReceiverSettleMode(ReceiverSettleMode.FIRST);
  getClient().receiver.setSenderSettleMode(SenderSettleMode.UNSETTLED);
  assertEndpointState(getClient().receiver,UNINITIALIZED,UNINITIALIZED);
  getClient().receiver.open();
  assertEndpointState(getClient().receiver,ACTIVE,UNINITIALIZED);
  pumpClientToServer();
  LOGGER.fine(bold("======== About to set up implicitly created sender"));
  getServer().sender=(Sender)getServer().connection.linkHead(of(UNINITIALIZED),of(ACTIVE));
  getServer().sender.setReceiverSettleMode(getServer().sender.getRemoteReceiverSettleMode());
  getServer().sender.setSenderSettleMode(getServer().sender.getRemoteSenderSettleMode());
  org.apache.qpid.proton.amqp.transport.Source serverRemoteSource=getServer().sender.getRemoteSource();
  getServer().sender.setSource(serverRemoteSource);
  assertEndpointState(getServer().sender,UNINITIALIZED,ACTIVE);
  getServer().sender.open();
  assertEndpointState(getServer().sender,ACTIVE,ACTIVE);
  pumpServerToClient();
  assertEndpointState(getClient().receiver,ACTIVE,ACTIVE);
  int messagCount=4;
  getClient().receiver.flow(messagCount);
  pumpClientToServer();
  LOGGER.fine(bold("======== About to create messages and send to the client"));
  sendMessageToClient("delivery1","Msg1",null);
  sendMessageToClient("delivery2","Msg2",0);
  sendMessageToClient("delivery3","Msg3",1);
  sendMessageToClient("delivery4","Msg4",UnsignedInteger.MAX_VALUE.intValue());
  pumpServerToClient();
  LOGGER.fine(bold("======== About to process the messages on the client"));
  Delivery clientDelivery1=receiveMessageFromServer("delivery1","Msg1");
  Delivery clientDelivery2=receiveMessageFromServer("delivery2","Msg2");
  Delivery clientDelivery3=receiveMessageFromServer("delivery3","Msg3");
  Delivery clientDelivery4=receiveMessageFromServer("delivery4","Msg4");
  assertEquals("Unexpected message format",0,clientDelivery1.getMessageFormat());
  assertEquals("Unexpected message format",0,clientDelivery2.getMessageFormat());
  assertEquals("Unexpected message format",1,clientDelivery3.getMessageFormat());
  assertEquals("Unexpected message format",UnsignedInteger.MAX_VALUE.intValue(),clientDelivery4.getMessageFormat());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.systemtests.LinkTest </h4><pre class="type-4 type-9 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testProperties() throws Exception {
  Map<Symbol,Object> receiverProps=new HashMap<>();
  receiverProps.put(RCV_PROP,RCV_PROP_VAL);
  Map<Symbol,Object> senderProps=new HashMap<>();
  senderProps.put(SND_PROP,SND_PROP_VAL);
  LOGGER.fine(bold("======== About to create transports"));
  getClient().transport=Proton.transport();
  ProtocolTracerEnabler.setProtocolTracer(getClient().transport,TestLoggingHelper.CLIENT_PREFIX);
  getServer().transport=Proton.transport();
  ProtocolTracerEnabler.setProtocolTracer(getServer().transport,"            " + TestLoggingHelper.SERVER_PREFIX);
  doOutputInputCycle();
  getClient().connection=Proton.connection();
  getClient().transport.bind(getClient().connection);
  getServer().connection=Proton.connection();
  getServer().transport.bind(getServer().connection);
  LOGGER.fine(bold("======== About to open connections"));
  getClient().connection.open();
  getServer().connection.open();
  doOutputInputCycle();
  LOGGER.fine(bold("======== About to open sessions"));
  getClient().session=getClient().connection.session();
  getClient().session.open();
  pumpClientToServer();
  getServer().session=getServer().connection.sessionHead(of(UNINITIALIZED),of(ACTIVE));
  assertEndpointState(getServer().session,UNINITIALIZED,ACTIVE);
  getServer().session.open();
  assertEndpointState(getServer().session,ACTIVE,ACTIVE);
  pumpServerToClient();
  assertEndpointState(getClient().session,ACTIVE,ACTIVE);
  LOGGER.fine(bold("======== About to create reciever"));
  getClient().source=new Source();
  getClient().source.setAddress(_sourceAddress);
  getClient().target=new Target();
  getClient().target.setAddress(null);
  getClient().receiver=getClient().session.receiver("link1");
  getClient().receiver.setTarget(getClient().target);
  getClient().receiver.setSource(getClient().source);
  getClient().receiver.setReceiverSettleMode(ReceiverSettleMode.FIRST);
  getClient().receiver.setSenderSettleMode(SenderSettleMode.UNSETTLED);
  getClient().receiver.setProperties(receiverProps);
  assertEndpointState(getClient().receiver,UNINITIALIZED,UNINITIALIZED);
  getClient().receiver.open();
  assertEndpointState(getClient().receiver,ACTIVE,UNINITIALIZED);
  pumpClientToServer();
  LOGGER.fine(bold("======== About to set up implicitly created sender"));
  getServer().sender=(Sender)getServer().connection.linkHead(of(UNINITIALIZED),of(ACTIVE));
  getServer().sender.setReceiverSettleMode(getServer().sender.getRemoteReceiverSettleMode());
  getServer().sender.setSenderSettleMode(getServer().sender.getRemoteSenderSettleMode());
  org.apache.qpid.proton.amqp.transport.Source serverRemoteSource=getServer().sender.getRemoteSource();
  getServer().sender.setSource(serverRemoteSource);
  getServer().sender.setProperties(senderProps);
  assertEndpointState(getServer().sender,UNINITIALIZED,ACTIVE);
  getServer().sender.open();
  assertEndpointState(getServer().sender,ACTIVE,ACTIVE);
  pumpServerToClient();
  assertEndpointState(getClient().receiver,ACTIVE,ACTIVE);
  Map<Symbol,Object> serverRemoteProperties=getServer().sender.getRemoteProperties();
  assertNotNull("Server had no remote properties",serverRemoteProperties);
  assertEquals("Server remote properties not expected size",1,serverRemoteProperties.size());
  assertTrue("Server remote properties lack expected key: " + RCV_PROP,serverRemoteProperties.containsKey(RCV_PROP));
  assertEquals("Server remote properties contain unexpected value for key: " + RCV_PROP,RCV_PROP_VAL,serverRemoteProperties.get(RCV_PROP));
  Map<Symbol,Object> clientRemoteProperties=getClient().receiver.getRemoteProperties();
  assertNotNull("Client had no remote properties",clientRemoteProperties);
  assertEquals("Client remote properties not expected size",1,clientRemoteProperties.size());
  assertTrue("Client remote properties lack expected key: " + SND_PROP,clientRemoteProperties.containsKey(SND_PROP));
  assertEquals("Client remote properties contain unexpected value for key: " + SND_PROP,SND_PROP_VAL,clientRemoteProperties.get(SND_PROP));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.systemtests.ProtonEngineExampleTest </h4><pre class="type-2 type-10 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Ignore("This test does not have a fix yet") @Test public void testPROTON_1017() throws Exception {
  LOGGER.fine(bold("======== About to create transports"));
  getClient().transport=Proton.transport();
  ProtocolTracerEnabler.setProtocolTracer(getClient().transport,TestLoggingHelper.CLIENT_PREFIX);
  getServer().transport=Proton.transport();
  ProtocolTracerEnabler.setProtocolTracer(getServer().transport,"            " + TestLoggingHelper.SERVER_PREFIX);
  doOutputInputCycle();
  getClient().connection=Proton.connection();
  getClient().transport.bind(getClient().connection);
  getServer().connection=Proton.connection();
  getServer().transport.bind(getServer().connection);
  LOGGER.fine(bold("======== About to open connections"));
  getClient().connection.open();
  getServer().connection.open();
  doOutputInputCycle();
  LOGGER.fine(bold("======== About to open and close client session"));
  getClient().session=getClient().connection.session();
  getClient().session.open();
  getClient().session.close();
  pumpClientToServer();
  getServer().session=getServer().connection.sessionHead(of(UNINITIALIZED),of(CLOSED));
  assertEndpointState(getServer().session,UNINITIALIZED,CLOSED);
  getServer().session.open();
  assertEndpointState(getServer().session,ACTIVE,CLOSED);
  getServer().session.close();
  assertEndpointState(getServer().session,CLOSED,CLOSED);
  pumpServerToClient();
  assertEndpointState(getClient().session,CLOSED,CLOSED);
  LOGGER.fine(bold("======== About to close client's connection"));
  getClient().connection.close();
  pumpClientToServer();
  LOGGER.fine(bold("======== Server about to process client's connection closure"));
  assertEquals(CLOSED,getServer().connection.getRemoteState());
  getServer().connection.close();
  pumpServerToClient();
  LOGGER.fine(bold("======== Checking client has nothing more to pump"));
  assertClientHasNothingToOutput();
  LOGGER.fine(bold("======== Done!"));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-4 type-12 type-9 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test() throws Exception {
  LOGGER.fine(bold("======== About to create transports"));
  getClient().transport=Proton.transport();
  ProtocolTracerEnabler.setProtocolTracer(getClient().transport,TestLoggingHelper.CLIENT_PREFIX);
  getServer().transport=Proton.transport();
  ProtocolTracerEnabler.setProtocolTracer(getServer().transport,"            " + TestLoggingHelper.SERVER_PREFIX);
  doOutputInputCycle();
  getClient().connection=Proton.connection();
  getClient().transport.bind(getClient().connection);
  getServer().connection=Proton.connection();
  getServer().transport.bind(getServer().connection);
  LOGGER.fine(bold("======== About to open connections"));
  getClient().connection.open();
  getServer().connection.open();
  doOutputInputCycle();
  LOGGER.fine(bold("======== About to open sessions"));
  getClient().session=getClient().connection.session();
  getClient().session.open();
  pumpClientToServer();
  getServer().session=getServer().connection.sessionHead(of(UNINITIALIZED),of(ACTIVE));
  assertEndpointState(getServer().session,UNINITIALIZED,ACTIVE);
  getServer().session.open();
  assertEndpointState(getServer().session,ACTIVE,ACTIVE);
  pumpServerToClient();
  assertEndpointState(getClient().session,ACTIVE,ACTIVE);
  LOGGER.fine(bold("======== About to create sender"));
  getClient().source=new Source();
  getClient().source.setAddress(null);
  getClient().target=new Target();
  getClient().target.setAddress(_targetAddress);
  getClient().sender=getClient().session.sender("link1");
  getClient().sender.setTarget(getClient().target);
  getClient().sender.setSource(getClient().source);
  getClient().sender.setSenderSettleMode(SenderSettleMode.UNSETTLED);
  getClient().sender.setReceiverSettleMode(ReceiverSettleMode.SECOND);
  assertEndpointState(getClient().sender,UNINITIALIZED,UNINITIALIZED);
  getClient().sender.open();
  assertEndpointState(getClient().sender,ACTIVE,UNINITIALIZED);
  pumpClientToServer();
  LOGGER.fine(bold("======== About to set up implicitly created receiver"));
  getServer().receiver=(Receiver)getServer().connection.linkHead(of(UNINITIALIZED),of(ACTIVE));
  getServer().receiver.setSenderSettleMode(getServer().receiver.getRemoteSenderSettleMode());
  getServer().receiver.setReceiverSettleMode(getServer().receiver.getRemoteReceiverSettleMode());
  org.apache.qpid.proton.amqp.transport.Target serverRemoteTarget=getServer().receiver.getRemoteTarget();
  assertTerminusEquals(getClient().target,serverRemoteTarget);
  getServer().receiver.setTarget(applicationDeriveTarget(serverRemoteTarget));
  assertEndpointState(getServer().receiver,UNINITIALIZED,ACTIVE);
  getServer().receiver.open();
  assertEndpointState(getServer().receiver,ACTIVE,ACTIVE);
  pumpServerToClient();
  assertEndpointState(getClient().sender,ACTIVE,ACTIVE);
  getServer().receiver.flow(1);
  pumpServerToClient();
  LOGGER.fine(bold("======== About to create a message and send it to the server"));
  getClient().message=Proton.message();
  Section messageBody=new AmqpValue("Hello");
  getClient().message.setBody(messageBody);
  getClient().messageData=new byte[BUFFER_SIZE];
  int lengthOfEncodedMessage=getClient().message.encode(getClient().messageData,0,BUFFER_SIZE);
  getTestLoggingHelper().prettyPrint(TestLoggingHelper.MESSAGE_PREFIX,Arrays.copyOf(getClient().messageData,lengthOfEncodedMessage));
  byte[] deliveryTag="delivery1".getBytes();
  getClient().delivery=getClient().sender.delivery(deliveryTag);
  int numberOfBytesAcceptedBySender=getClient().sender.send(getClient().messageData,0,lengthOfEncodedMessage);
  assertEquals("For simplicity, assume the sender can accept all the data",lengthOfEncodedMessage,numberOfBytesAcceptedBySender);
  assertNull(getClient().delivery.getLocalState());
  boolean senderAdvanced=getClient().sender.advance();
  assertTrue("sender has not advanced",senderAdvanced);
  pumpClientToServer();
  LOGGER.fine(bold("======== About to process the message on the server"));
  getServer().delivery=getServer().connection.getWorkHead();
  assertEquals("The received delivery should be on our receiver",getServer().receiver,getServer().delivery.getLink());
  assertNull(getServer().delivery.getLocalState());
  assertNull(getServer().delivery.getRemoteState());
  assertFalse(getServer().delivery.isPartial());
  assertTrue(getServer().delivery.isReadable());
  getServer().messageData=new byte[BUFFER_SIZE];
  int numberOfBytesProducedByReceiver=getServer().receiver.recv(getServer().messageData,0,BUFFER_SIZE);
  assertEquals(numberOfBytesAcceptedBySender,numberOfBytesProducedByReceiver);
  getServer().message=Proton.message();
  getServer().message.decode(getServer().messageData,0,numberOfBytesProducedByReceiver);
  boolean messageProcessed=applicationProcessMessage(getServer().message);
  assertTrue(messageProcessed);
  getServer().delivery.disposition(Accepted.getInstance());
  assertEquals(Accepted.getInstance(),getServer().delivery.getLocalState());
  pumpServerToClient();
  assertEquals(Accepted.getInstance(),getClient().delivery.getRemoteState());
  LOGGER.fine(bold("======== About to accept and settle the message on the client"));
  Delivery clientDelivery=getClient().connection.getWorkHead();
  assertEquals(getClient().delivery,clientDelivery);
  assertTrue(clientDelivery.isUpdated());
  assertEquals(getClient().sender,clientDelivery.getLink());
  clientDelivery.disposition(clientDelivery.getRemoteState());
  assertEquals(Accepted.getInstance(),getClient().delivery.getLocalState());
  clientDelivery.settle();
  assertNull("Now we've settled, the delivery should no longer be in the work list",getClient().connection.getWorkHead());
  pumpClientToServer();
  LOGGER.fine(bold("======== About to settle the message on the server"));
  assertEquals(Accepted.getInstance(),getServer().delivery.getRemoteState());
  Delivery serverDelivery=getServer().connection.getWorkHead();
  assertEquals(getServer().delivery,serverDelivery);
  assertTrue(serverDelivery.isUpdated());
  assertTrue("Client should have already settled",serverDelivery.remotelySettled());
  serverDelivery.settle();
  assertTrue(serverDelivery.isSettled());
  assertNull("Now we've settled, the delivery should no longer be in the work list",getServer().connection.getWorkHead());
  getServer().receiver.flow(1);
  pumpServerToClient();
  LOGGER.fine(bold("======== About to close client's sender"));
  getClient().sender.close();
  pumpClientToServer();
  LOGGER.fine(bold("======== Server about to process client's link closure"));
  assertSame(getServer().receiver,getServer().connection.linkHead(of(ACTIVE),of(CLOSED)));
  getServer().receiver.close();
  pumpServerToClient();
  LOGGER.fine(bold("======== About to close client's session"));
  getClient().session.close();
  pumpClientToServer();
  LOGGER.fine(bold("======== Server about to process client's session closure"));
  assertSame(getServer().session,getServer().connection.sessionHead(of(ACTIVE),of(CLOSED)));
  getServer().session.close();
  pumpServerToClient();
  LOGGER.fine(bold("======== About to close client's connection"));
  getClient().connection.close();
  pumpClientToServer();
  LOGGER.fine(bold("======== Server about to process client's connection closure"));
  assertEquals(CLOSED,getServer().connection.getRemoteState());
  getServer().connection.close();
  pumpServerToClient();
  LOGGER.fine(bold("======== Checking client has nothing more to pump"));
  assertClientHasNothingToOutput();
  LOGGER.fine(bold("======== Done!"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.systemtests.SaslTest </h4><pre class="type-6 type-1 type-9 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSaslHostnamePropagationAndRetrieval() throws Exception {
  LOGGER.fine(bold("======== About to create transports"));
  getClient().transport=Proton.transport();
  ProtocolTracerEnabler.setProtocolTracer(getClient().transport,TestLoggingHelper.CLIENT_PREFIX);
  Sasl clientSasl=getClient().transport.sasl();
  clientSasl.client();
  String hostname="my-remote-host-123";
  clientSasl.setRemoteHostname(hostname);
  try {
    clientSasl.getHostname();
    fail("should have throw IllegalStateException");
  }
 catch (  IllegalStateException ise) {
  }
  getServer().transport=Proton.transport();
  ProtocolTracerEnabler.setProtocolTracer(getServer().transport,"            " + TestLoggingHelper.SERVER_PREFIX);
  Sasl serverSasl=getServer().transport.sasl();
  serverSasl.server();
  serverSasl.setMechanisms("ANONYMOUS");
  try {
    serverSasl.setRemoteHostname("some-other-host");
    fail("should have throw IllegalStateException");
  }
 catch (  IllegalStateException ise) {
  }
  assertNull(serverSasl.getHostname());
  assertArrayEquals(new String[0],clientSasl.getRemoteMechanisms());
  pumpClientToServer();
  pumpServerToClient();
  assertArrayEquals(new String[]{"ANONYMOUS"},clientSasl.getRemoteMechanisms());
  clientSasl.setMechanisms("ANONYMOUS");
  assertNull(serverSasl.getHostname());
  pumpClientToServer();
  assertEquals(hostname,serverSasl.getHostname());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.systemtests.SimpleTest </h4><pre class="type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void test(){
  Connection connection1=Proton.connection();
  Connection connection2=Proton.connection();
  ;
  Transport transport1=Proton.transport();
  transport1.bind(connection1);
  Transport transport2=Proton.transport();
  transport2.bind(connection2);
  assertEquals(EndpointState.UNINITIALIZED,connection1.getLocalState());
  assertEquals(EndpointState.UNINITIALIZED,connection1.getRemoteState());
  connection1.open();
  connection2.open();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.systemtests.engine.ConnectionTest </h4><pre class="type-1 type-9 type-2 type-14 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * "Prior to any explicit negotiation, the maximum frame size is 512 (MIN-MAX-FRAME-SIZE) and the maximum channel number is 0"
 */
@Test public void testReceiptOfOpenBiggerThanDefaultMaximumFrameSize_causesTODO(){
  _pumper.pumpAll();
  _serverTransport.bind(_serverConnection);
  assertEnpointState(_serverConnection,UNINITIALIZED,UNINITIALIZED);
  String containerId="123456789";
  int extendedHeaderSize=122 * 4;
  Open bigOpen=new Open();
  bigOpen.setContainerId(containerId);
  byte[] openFrameBuffer=_framer.generateFrame(0,new byte[extendedHeaderSize],bigOpen);
  assertEquals("Test requires a frame of size MIN_MAX_FRAME_SIZE + 1",Transport.MIN_MAX_FRAME_SIZE + 1,openFrameBuffer.length);
  int serverConsumed=_serverTransport.input(openFrameBuffer,0,openFrameBuffer.length);
  assertEquals(openFrameBuffer.length,serverConsumed);
  assertEnpointState(_serverConnection,UNINITIALIZED,ACTIVE);
  assertNotNull(_serverConnection.getRemoteContainer());
}

</code></pre>

<br>
<pre class="type-1 type-2 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
/** 
 * "Prior to any explicit negotiation, the maximum frame size is 512 (MIN-MAX-FRAME-SIZE) and the maximum channel number is 0"
 */
@Test public void testReceiptOfOpenExactlyDefaultMaximumFrameSize(){
  _pumper.pumpAll();
  _serverTransport.bind(_serverConnection);
  assertEnpointState(_serverConnection,UNINITIALIZED,UNINITIALIZED);
  String containerId="12345678";
  int extendedHeaderSize=122 * 4;
  Open open=new Open();
  open.setContainerId(containerId);
  byte[] openFrameBuffer=_framer.generateFrame(0,new byte[extendedHeaderSize],open);
  assertEquals("Test requires a frame of size MIN_MAX_FRAME_SIZE",Transport.MIN_MAX_FRAME_SIZE,openFrameBuffer.length);
  int serverConsumed=_serverTransport.input(openFrameBuffer,0,openFrameBuffer.length);
  assertEquals(openFrameBuffer.length,serverConsumed);
  assertEnpointState(_serverConnection,UNINITIALIZED,ACTIVE);
  assertEquals(containerId,_serverConnection.getRemoteContainer());
}

</code></pre>

<br>
<pre class="type-1 type-2 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
/** 
 * Container id is a mandatory field so this should cause an error 
 */
@Test public void testReceiptOfOpenWithoutContainerId_causesTODO(){
  _pumper.pumpAll();
  Open openWithoutContainerId=new Open();
  byte[] openFrameBuffer=_framer.generateFrame(0,openWithoutContainerId);
  int serverConsumed=_serverTransport.input(openFrameBuffer,0,openFrameBuffer.length);
  assertEquals(openFrameBuffer.length,serverConsumed);
  assertEquals(_serverTransport.capacity(),Transport.END_OF_STREAM);
}

</code></pre>

<br>
<pre class="type-1 type-9 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * "each peer MUST write a close frame with a code indicating the reason for closing"
 * Also see 2.8.16 Connection Error
 */
@Test @SuppressWarnings({"rawtypes","unchecked"}) public void testCloseConnectionWithErrorCode_causesCloseFrameContainingErrorCodeToBeSent(){
  bindAndOpenConnections();
  assertNull(_clientConnection.getCondition().getCondition());
  assertNull(_serverConnection.getCondition().getCondition());
  assertNull(_clientConnection.getRemoteCondition().getCondition());
  assertNull(_serverConnection.getRemoteCondition().getCondition());
  ErrorCondition clientErrorCondition=new ErrorCondition(Symbol.getSymbol("myerror"),"mydescription");
  Map info=new HashMap();
  info.put(Symbol.getSymbol("simplevalue"),"value");
  info.put(Symbol.getSymbol("list"),Arrays.asList("e1","e2","e3"));
  clientErrorCondition.setInfo(info);
  _clientConnection.setCondition(clientErrorCondition);
  _clientConnection.close();
  _pumper.pumpAll();
  assertEquals(clientErrorCondition,_serverConnection.getRemoteCondition());
  assertNull(_serverConnection.getCondition().getCondition());
}

</code></pre>

<br>
<pre class="type-1 type-2 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
@Test public void testReceiptOfSecondOpen_causesTODO(){
  bindAndOpenConnections();
  Open secondOpen=new Open();
  secondOpen.setContainerId("secondOpen");
  byte[] openFrameBuffer=_framer.generateFrame(0,secondOpen);
  int serverConsumed=_serverTransport.input(openFrameBuffer,0,openFrameBuffer.length);
  assertEquals(openFrameBuffer.length,serverConsumed);
}

</code></pre>

<br>
<pre class="type-1 type-2 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
/** 
 * 2.4.5 "Implementations MUST be prepared to handle empty frames arriving on any valid channel"
 * TODO consider moving to {@link TransportTest} once we have a less Connection-centric way of
 * checking health than calling {@link #bindAndOpenConnections()}
 */
@Test public void testReceiptOfInitialEmptyFrame_isAllowed(){
  _pumper.pumpAll();
  byte[] emptyFrame=_framer.createEmptyFrame(0);
  int bytesConsumed=_serverTransport.input(emptyFrame,0,emptyFrame.length);
  assertEquals(emptyFrame.length,bytesConsumed);
  bindAndOpenConnections();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.systemtests.engine.TransportTest </h4><pre class="type-1 type-2 type-14 type-10 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore("Reinstate once it is agreed how error condition will be reported by to use of API") public void testReceiptOfNonAmqpHeader_causesAmqp10Response(){
  byte[] nonAmqpHeader="HTTP/1.0".getBytes();
  try {
    _transport.input(nonAmqpHeader,0,nonAmqpHeader.length);
  }
 catch (  TransportException te) {
  }
  byte[] buf=new byte[255];
  int bytesWritten=_transport.output(buf,0,buf.length);
  byte[] response=new byte[bytesWritten];
  System.arraycopy(buf,0,response,0,bytesWritten);
  assertArrayEquals("AMQP\0\1\0\0".getBytes(),response);
  assertTransportRefusesFurtherInputOutput(_transport);
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
