<h3><span class=" glyphicon glyphicon-tag"/>&nbspBooleanVerifier</h3><kbd>Verifies boolean conditions</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.qpid.proton.JythonTest </h4><pre class="type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void test() throws Exception {
  String testScript=getJythonTestScript();
  String testRoot=getJythonTestRoot();
  String xmlReportFile=getOptionalXmlReportFilename();
  String ignoreFile=getOptionalIgnoreFile();
  final PythonInterpreter interp=createInterpreterWithArgs(xmlReportFile,ignoreFile);
  PathBuilder pathBuilder=new PathBuilder(){
    @Override public PathBuilder append(    String path){
      interp.getSystemState().path.insert(0,new PyString(path));
      return this;
    }
  }
;
  extendPath(pathBuilder);
  LOGGER.info("About to call Jython test script: '" + testScript + "' with '"+ testRoot+ "' added to Jython path");
  int maxInvocations=Integer.getInteger(TEST_INVOCATIONS_SYSTEM_PROPERTY,1);
  assertTrue("Number of invocations should be non-negative",maxInvocations >= 0);
  boolean loopForever=maxInvocations == 0;
  if (maxInvocations > 1) {
    LOGGER.info("Will invoke Python test " + maxInvocations + " times");
  }
  if (loopForever) {
    LOGGER.info("Will repeatedly invoke Python test forever");
  }
  int invocations=1;
  while (loopForever || invocations++ <= maxInvocations) {
    runTestOnce(testScript,interp,invocations);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.amqp.BinaryTest </h4><pre class="type-5 type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testEqualsWithDifferentBinaryOfSameLengthAndContent(){
  int length=10;
  Binary bin1=createSteppedValueBinary(length);
  Binary bin2=createSteppedValueBinary(length);
  assertTrue("Objects should be equal",bin1.equals(bin2));
  assertTrue("Objects should be equal",bin2.equals(bin1));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testEqualsWithDifferentContentBinary(){
  int length=10;
  Binary bin1=createNewRepeatedValueBinary(length,(byte)1);
  Binary bin2=createNewRepeatedValueBinary(length,(byte)1);
  bin2.getArray()[5]=(byte)0;
  assertFalse("Objects should not be equal",bin1.equals(bin2));
  assertFalse("Objects should not be equal",bin2.equals(bin1));
}

</code></pre>

<br>
<pre class="type-5 type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testEqualsWithDifferentLengthBinaryOfDifferentBytes(){
  int length1=10;
  Binary bin1=createSteppedValueBinary(length1);
  Binary bin2=createSteppedValueBinary(length1 + 1);
  assertFalse("Objects should not be equal",bin1.equals(bin2));
  assertFalse("Objects should not be equal",bin2.equals(bin1));
}

</code></pre>

<br>
<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testEqualsWithItself(){
  Binary bin=createSteppedValueBinary(10);
  assertTrue("Object should be equal to itself",bin.equals(bin));
}

</code></pre>

<br>
<pre class="type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testEqualsWithDifferentLengthBinaryOfSameByte(){
  Binary bin1=createNewRepeatedValueBinary(10,(byte)1);
  Binary bin2=createNewRepeatedValueBinary(123,(byte)1);
  assertFalse("Objects should not be equal",bin1.equals(bin2));
  assertFalse("Objects should not be equal",bin2.equals(bin1));
}

</code></pre>

<br>
<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testNotEqualsWithDifferentTypeObject(){
  Binary bin=createSteppedValueBinary(10);
  assertFalse("Objects should not be equal with different type",bin.equals("not-a-Binary"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.apireconciliation.ReportRowTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testEqualsWithNulls() throws Exception {
  assertTrue(new ReportRow("cfunction",null).equals(new ReportRow("cfunction",null)));
  assertTrue(new ReportRow(null,_javaMethod1).equals(new ReportRow(null,_javaMethod1)));
  assertFalse(new ReportRow("cfunction",_javaMethod1).equals(new ReportRow("cfunction",null)));
  assertFalse(new ReportRow("cfunction",_javaMethod1).equals(new ReportRow(null,_javaMethod1)));
}

</code></pre>

<br>
<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testEquals() throws Exception {
  assertTrue(new ReportRow("cfunction",_javaMethod1).equals(new ReportRow("cfunction",_javaMethod1)));
  assertFalse(new ReportRow("cfunction",_javaMethod1).equals(new ReportRow("cfunction2",_javaMethod1)));
  assertFalse(new ReportRow("cfunction2",_javaMethod1).equals(new ReportRow("cfunction2",_javaMethod2)));
  assertFalse(new ReportRow("cfunction",_javaMethod1).equals(null));
}

</code></pre>

<br>
<pre class="type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSames() throws Exception {
  ReportRow reportRow=new ReportRow("cfunction",_javaMethod1);
  Object other=new Object();
  assertTrue(reportRow.equals(reportRow));
  assertFalse(reportRow.equals(other));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.engine.EventExtensibilityTest </h4><pre class="type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testExtendedType() throws IOException {
  Reactor r=Reactor.Factory.create();
  ExtendedTestEventGenerator gen=new ExtendedTestEventGenerator();
  BaseHandler empty=new BaseHandler();
  ExtendedTestHandler extra=new ExtendedTestHandler();
  FooUnawareTestHandler unaware=new FooUnawareTestHandler();
  gen.add(empty);
  empty.add(extra);
  extra.add(unaware);
  r.setGlobalHandler(gen);
  r.run();
  assertTrue(extra.didFoo);
  assertTrue(unaware.seenFoo);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.engine.impl.TransportImplTest </h4><pre class="type-1 type-4 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verify that no Transfer frame is emitted by the Transport should a Delivery
 * be sendable after the Close frame was sent.
 */
@Test public void testTransferAfterCloseSent(){
  MockTransportImpl transport=new MockTransportImpl();
  Connection connection=Proton.connection();
  transport.bind(connection);
  connection.open();
  Collector collector=Collector.Factory.create();
  connection.collect(collector);
  Session session=connection.session();
  session.open();
  String linkName="mySender";
  Sender sender=session.sender(linkName);
  sender.open();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),3,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(0) instanceof Open);
  assertTrue("Unexpected frame type",transport.writes.get(1) instanceof Begin);
  assertTrue("Unexpected frame type",transport.writes.get(2) instanceof Attach);
  transport.handleFrame(new TransportFrame(0,new Open(),null));
  Begin begin=new Begin();
  begin.setRemoteChannel(UnsignedShort.valueOf((short)0));
  transport.handleFrame(new TransportFrame(0,begin,null));
  Attach attach=new Attach();
  attach.setHandle(UnsignedInteger.ZERO);
  attach.setRole(Role.RECEIVER);
  attach.setName(linkName);
  attach.setInitialDeliveryCount(UnsignedInteger.ZERO);
  transport.handleFrame(new TransportFrame(0,attach,null));
  Flow flow=new Flow();
  flow.setHandle(UnsignedInteger.ZERO);
  flow.setDeliveryCount(UnsignedInteger.ZERO);
  flow.setNextIncomingId(UnsignedInteger.ONE);
  flow.setNextOutgoingId(UnsignedInteger.ZERO);
  flow.setIncomingWindow(UnsignedInteger.valueOf(1024));
  flow.setOutgoingWindow(UnsignedInteger.valueOf(1024));
  flow.setLinkCredit(UnsignedInteger.valueOf(10));
  transport.handleFrame(new TransportFrame(0,flow,null));
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),3,transport.writes.size());
  connection.close();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),4,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(3) instanceof Close);
  sendMessage(sender,"tag1","content1");
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),4,transport.writes.size());
}

</code></pre>

<br>
<pre class="type-1 type-4 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verify that no End frame is emitted by the Transport should a Session close
 * after the Close frame was sent.
 */
@Test public void testSessionEndAfterCloseSent(){
  MockTransportImpl transport=new MockTransportImpl();
  Connection connection=Proton.connection();
  transport.bind(connection);
  connection.open();
  Session session=connection.session();
  session.open();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),2,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(0) instanceof Open);
  assertTrue("Unexpected frame type",transport.writes.get(1) instanceof Begin);
  transport.handleFrame(new TransportFrame(0,new Open(),null));
  Begin begin=new Begin();
  begin.setRemoteChannel(UnsignedShort.valueOf((short)0));
  transport.handleFrame(new TransportFrame(0,begin,null));
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),2,transport.writes.size());
  connection.close();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),3,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(2) instanceof Close);
  session.close();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),3,transport.writes.size());
}

</code></pre>

<br>
<pre class="type-5 type-1 type-4 type-9 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verify that no Disposition frame is emitted by the Transport should a Delivery
 * have disposition applied after the Close frame was sent.
 */
@Test public void testDispositionAfterCloseSent(){
  MockTransportImpl transport=new MockTransportImpl();
  Connection connection=Proton.connection();
  transport.bind(connection);
  connection.open();
  Session session=connection.session();
  session.open();
  String linkName="myReceiver";
  Receiver receiver=session.receiver(linkName);
  receiver.flow(5);
  receiver.open();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),4,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(0) instanceof Open);
  assertTrue("Unexpected frame type",transport.writes.get(1) instanceof Begin);
  assertTrue("Unexpected frame type",transport.writes.get(2) instanceof Attach);
  assertTrue("Unexpected frame type",transport.writes.get(3) instanceof Flow);
  Delivery delivery=receiver.current();
  assertNull("Should not yet have a delivery",delivery);
  transport.handleFrame(new TransportFrame(0,new Open(),null));
  Begin begin=new Begin();
  begin.setRemoteChannel(UnsignedShort.valueOf((short)0));
  begin.setNextOutgoingId(UnsignedInteger.ONE);
  begin.setIncomingWindow(UnsignedInteger.valueOf(1024));
  begin.setOutgoingWindow(UnsignedInteger.valueOf(1024));
  transport.handleFrame(new TransportFrame(0,begin,null));
  Attach attach=new Attach();
  attach.setHandle(UnsignedInteger.ZERO);
  attach.setRole(Role.SENDER);
  attach.setName(linkName);
  attach.setInitialDeliveryCount(UnsignedInteger.ZERO);
  transport.handleFrame(new TransportFrame(0,attach,null));
  String deliveryTag="tag1";
  String messageContent="content1";
  handleTransfer(transport,1,deliveryTag,messageContent);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),4,transport.writes.size());
  delivery=verifyDelivery(receiver,deliveryTag,messageContent);
  assertNotNull("Should now have a delivery",delivery);
  connection.close();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),5,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(4) instanceof Close);
  delivery.disposition(Released.getInstance());
  delivery.settle();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),5,transport.writes.size());
}

</code></pre>

<br>
<pre class="type-1 type-4 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOpenSessionBeforeOpenConnection(){
  MockTransportImpl transport=new MockTransportImpl();
  Connection connection=Proton.connection();
  transport.bind(connection);
  Session session=connection.session();
  session.open();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),0,transport.writes.size());
  connection.open();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),2,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(0) instanceof Open);
  assertTrue("Unexpected frame type",transport.writes.get(1) instanceof Begin);
}

</code></pre>

<br>
<pre class="type-1 type-4 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOutputTooBigToBeWrittenInOneGo(){
  int smallMaxFrameSize=512;
  _transport=new TransportImpl(smallMaxFrameSize);
  @SuppressWarnings("deprecation") Connection conn=new ConnectionImpl();
  _transport.bind(conn);
  conn.setHostname(stringOfLength("x",500));
  conn.open();
  conn.close();
  ByteBuffer buf=_transport.getOutputBuffer();
  assertEquals("Expecting buffer to be full",smallMaxFrameSize,buf.remaining());
  buf.position(buf.limit());
  _transport.outputConsumed();
  buf=_transport.getOutputBuffer();
  assertTrue("Expecting second buffer to have bytes",buf.remaining() > 0);
  assertTrue("Expecting second buffer to not be full",buf.remaining() < Transport.MIN_MAX_FRAME_SIZE);
}

</code></pre>

<br>
<pre class="type-1 type-4 type-2 type-14 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTickRemoteTimeout(){
  MockTransportImpl transport=new MockTransportImpl();
  Connection connection=Proton.connection();
  transport.bind(connection);
  int timeout=4000;
  Open open=new Open();
  open.setIdleTimeOut(new UnsignedInteger(4000));
  TransportFrame openFrame=new TransportFrame(CHANNEL_ID,open,null);
  transport.handleFrame(openFrame);
  pumpMockTransport(transport);
  long deadline=transport.tick(0);
  assertEquals("Expected to be returned a deadline of 2000",2000,deadline);
  deadline=transport.tick(1000);
  assertEquals("When the deadline hasn't been reached tick() should return the previous deadline",2000,deadline);
  assertEquals("When the deadline hasn't been reached tick() shouldn't write data",0,transport.writes.size());
  deadline=transport.tick(timeout / 2);
  assertEquals("When the deadline has been reached expected a new deadline to be returned 4000",4000,deadline);
  assertEquals("tick() should have written data",1,transport.writes.size());
  assertEquals("tick() should have written an empty frame",null,transport.writes.get(0));
  transport.writeFrame(CHANNEL_ID,new Begin(),null,null);
  while (transport.pending() > 0)   transport.pop(transport.head().remaining());
  int framesWrittenBeforeTick=transport.writes.size();
  deadline=transport.tick(3000);
  assertEquals("Writing data resets the deadline",5000,deadline);
  assertEquals("When the deadline is reset tick() shouldn't write an empty frame",0,transport.writes.size() - framesWrittenBeforeTick);
  transport.writeFrame(CHANNEL_ID,new Attach(),null,null);
  assertTrue(transport.pending() > 0);
  framesWrittenBeforeTick=transport.writes.size();
  deadline=transport.tick(4000);
  assertEquals("Having pending data does not reset the deadline",5000,deadline);
  assertEquals("Having pending data prevents tick() from sending an empty frame",0,transport.writes.size() - framesWrittenBeforeTick);
}

</code></pre>

<br>
<pre class="type-1 type-4 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verify that no Flow frame is emitted by the Transport should a Receiver
 * have credit added after the Close frame was sent.
 */
@Test public void testReceiverFlowAfterCloseSent(){
  MockTransportImpl transport=new MockTransportImpl();
  Connection connection=Proton.connection();
  transport.bind(connection);
  connection.open();
  Session session=connection.session();
  session.open();
  String linkName="myReceiver";
  Receiver receiver=session.receiver(linkName);
  receiver.open();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),3,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(0) instanceof Open);
  assertTrue("Unexpected frame type",transport.writes.get(1) instanceof Begin);
  assertTrue("Unexpected frame type",transport.writes.get(2) instanceof Attach);
  transport.handleFrame(new TransportFrame(0,new Open(),null));
  Begin begin=new Begin();
  begin.setRemoteChannel(UnsignedShort.valueOf((short)0));
  transport.handleFrame(new TransportFrame(0,begin,null));
  Attach attach=new Attach();
  attach.setHandle(UnsignedInteger.ZERO);
  attach.setRole(Role.RECEIVER);
  attach.setName(linkName);
  attach.setInitialDeliveryCount(UnsignedInteger.ZERO);
  transport.handleFrame(new TransportFrame(0,attach,null));
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),3,transport.writes.size());
  connection.close();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),4,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(3) instanceof Close);
  receiver.flow(1);
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),4,transport.writes.size());
}

</code></pre>

<br>
<pre class="type-1 type-4 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReceiverFlowBeforeOpenConnection(){
  MockTransportImpl transport=new MockTransportImpl();
  Connection connection=Proton.connection();
  transport.bind(connection);
  Session session=connection.session();
  session.open();
  Receiver reciever=session.receiver("myReceiver");
  reciever.flow(5);
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),0,transport.writes.size());
  connection.open();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),2,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(0) instanceof Open);
  assertTrue("Unexpected frame type",transport.writes.get(1) instanceof Begin);
}

</code></pre>

<br>
<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testTransportInitiallyHandlesFrames(){
  assertTrue(_transport.isHandlingFrames());
}

</code></pre>

<br>
<pre class="type-1 type-4 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSenderSendBeforeOpenConnection(){
  MockTransportImpl transport=new MockTransportImpl();
  Connection connection=Proton.connection();
  transport.bind(connection);
  Collector collector=Collector.Factory.create();
  connection.collect(collector);
  Session session=connection.session();
  session.open();
  String linkName="mySender";
  Sender sender=session.sender(linkName);
  sender.open();
  sendMessage(sender,"tag1","content1");
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),0,transport.writes.size());
  connection.open();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),3,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(0) instanceof Open);
  assertTrue("Unexpected frame type",transport.writes.get(1) instanceof Begin);
  assertTrue("Unexpected frame type",transport.writes.get(2) instanceof Attach);
  transport.handleFrame(new TransportFrame(0,new Open(),null));
  Begin begin=new Begin();
  begin.setRemoteChannel(UnsignedShort.valueOf((short)0));
  transport.handleFrame(new TransportFrame(0,begin,null));
  Attach attach=new Attach();
  attach.setHandle(UnsignedInteger.ZERO);
  attach.setRole(Role.RECEIVER);
  attach.setName(linkName);
  attach.setInitialDeliveryCount(UnsignedInteger.ZERO);
  transport.handleFrame(new TransportFrame(0,attach,null));
  Flow flow=new Flow();
  flow.setHandle(UnsignedInteger.ZERO);
  flow.setDeliveryCount(UnsignedInteger.ZERO);
  flow.setNextIncomingId(UnsignedInteger.ONE);
  flow.setNextOutgoingId(UnsignedInteger.ZERO);
  flow.setIncomingWindow(UnsignedInteger.valueOf(1024));
  flow.setOutgoingWindow(UnsignedInteger.valueOf(1024));
  flow.setLinkCredit(UnsignedInteger.valueOf(10));
  transport.handleFrame(new TransportFrame(0,flow,null));
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),3,transport.writes.size());
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),4,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(3) instanceof Transfer);
}

</code></pre>

<br>
<pre class="type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testUnboundTransport_stopsHandlingFrames(){
  assertTrue(_transport.isHandlingFrames());
  _transport.handleFrame(TRANSPORT_FRAME_OPEN);
  assertFalse(_transport.isHandlingFrames());
}

</code></pre>

<br>
<pre class="type-1 type-4 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verify that no Flow frame is emitted by the Transport should a Sender
 * have credit drained added after the Close frame was sent.
 */
@Test public void testSenderFlowAfterCloseSent(){
  MockTransportImpl transport=new MockTransportImpl();
  Connection connection=Proton.connection();
  transport.bind(connection);
  connection.open();
  Collector collector=Collector.Factory.create();
  connection.collect(collector);
  Session session=connection.session();
  session.open();
  String linkName="mySender";
  Sender sender=session.sender(linkName);
  sender.open();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),3,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(0) instanceof Open);
  assertTrue("Unexpected frame type",transport.writes.get(1) instanceof Begin);
  assertTrue("Unexpected frame type",transport.writes.get(2) instanceof Attach);
  assertFalse("Should not be in drain yet",sender.getDrain());
  transport.handleFrame(new TransportFrame(0,new Open(),null));
  Begin begin=new Begin();
  begin.setRemoteChannel(UnsignedShort.valueOf((short)0));
  transport.handleFrame(new TransportFrame(0,begin,null));
  Attach attach=new Attach();
  attach.setHandle(UnsignedInteger.ZERO);
  attach.setRole(Role.RECEIVER);
  attach.setName(linkName);
  attach.setInitialDeliveryCount(UnsignedInteger.ZERO);
  transport.handleFrame(new TransportFrame(0,attach,null));
  int credit=10;
  Flow flow=new Flow();
  flow.setHandle(UnsignedInteger.ZERO);
  flow.setDeliveryCount(UnsignedInteger.ZERO);
  flow.setNextIncomingId(UnsignedInteger.ONE);
  flow.setNextOutgoingId(UnsignedInteger.ZERO);
  flow.setIncomingWindow(UnsignedInteger.valueOf(1024));
  flow.setOutgoingWindow(UnsignedInteger.valueOf(1024));
  flow.setDrain(true);
  flow.setLinkCredit(UnsignedInteger.valueOf(credit));
  transport.handleFrame(new TransportFrame(0,flow,null));
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),3,transport.writes.size());
  assertTrue("Should not be in drain",sender.getDrain());
  assertEquals("Should have credit",credit,sender.getCredit());
  connection.close();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),4,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(3) instanceof Close);
  int drained=sender.drained();
  assertEquals("Should have drained all credit",credit,drained);
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),4,transport.writes.size());
}

</code></pre>

<br>
<pre class="type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testBoundTransport_continuesToHandleFrames(){
  @SuppressWarnings("deprecation") Connection connection=new ConnectionImpl();
  assertTrue(_transport.isHandlingFrames());
  _transport.bind(connection);
  assertTrue(_transport.isHandlingFrames());
  _transport.handleFrame(TRANSPORT_FRAME_OPEN);
  assertTrue(_transport.isHandlingFrames());
}

</code></pre>

<br>
<pre class="type-1 type-4 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verify that no Begin frame is emitted by the Transport should a Session open
 * after the Close frame was sent.
 */
@Test public void testSessionBeginAfterCloseSent(){
  MockTransportImpl transport=new MockTransportImpl();
  Connection connection=Proton.connection();
  transport.bind(connection);
  connection.open();
  Session session=connection.session();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),1,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(0) instanceof Open);
  transport.handleFrame(new TransportFrame(0,new Open(),null));
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),1,transport.writes.size());
  connection.close();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),2,transport.writes.size());
  assertTrue("Unexpected frame type",transport.writes.get(1) instanceof Close);
  session.open();
  pumpMockTransport(transport);
  assertEquals("Unexpected frames written: " + getFrameTypesWritten(transport),2,transport.writes.size());
}

</code></pre>

<br>
<pre class="type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testHandleFrameWhenNotHandling_throwsIllegalStateException(){
  assertTrue(_transport.isHandlingFrames());
  _transport.handleFrame(TRANSPORT_FRAME_OPEN);
  assertFalse(_transport.isHandlingFrames());
  _expectedException.expect(IllegalStateException.class);
  _transport.handleFrame(TRANSPORT_FRAME_BEGIN);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.engine.impl.TransportOutputAdaptorTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testThatOutputBufferIsReadOnly(){
  assertTrue(_transportOutput.head().isReadOnly());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.engine.impl.ssl.SimpleSslTransportWrapperTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testNoOutputToEncode(){
  _underlyingOutput.setOutput("");
  assertFalse(_sslWrapper.head().hasRemaining());
}

</code></pre>

<br>
<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testHeadIsReadOnly(){
  _underlyingOutput.setOutput("");
  assertTrue(_sslWrapper.head().isReadOnly());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.jms.JMSMappingInboundTransformerTest </h4><pre class="type-5 type-1 type-4 type-12 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTransformMessageWithAmqpValueStringCreatesTextMessage() throws Exception {
  TextMessage mockTextMessage=createMockTextMessage();
  JMSVendor mockVendor=createMockVendor(mockTextMessage);
  JMSMappingInboundTransformer transformer=new JMSMappingInboundTransformer(mockVendor);
  String contentString="myTextMessageContent";
  Message amqp=Message.Factory.create();
  amqp.setBody(new AmqpValue(contentString));
  EncodedMessage em=encodeMessage(amqp);
  javax.jms.Message jmsMessage=transformer.transform(em);
  assertTrue("Expected TextMessage",jmsMessage instanceof TextMessage);
  Mockito.verify(mockTextMessage).setText(contentString);
  assertSame("Expected provided mock message, got a different one",mockTextMessage,jmsMessage);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.jms.JMSMappingOutboundTransformerTest </h4><pre class="type-1 type-4 type-9 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConvertMessageWithTextMessageCreatesAmqpValueStringBody() throws Exception {
  String contentString="myTextMessageContent";
  TextMessage mockTextMessage=createMockTextMessage();
  Mockito.when(mockTextMessage.getText()).thenReturn(contentString);
  JMSVendor mockVendor=createMockVendor();
  JMSMappingOutboundTransformer transformer=new JMSMappingOutboundTransformer(mockVendor);
  Message amqp=transformer.convert(mockTextMessage);
  assertNotNull(amqp.getBody());
  assertTrue(amqp.getBody() instanceof AmqpValue);
  assertEquals(contentString,((AmqpValue)amqp.getBody()).getValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.reactor.ReactorTest </h4><pre class="type-1 type-4 type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests operation of the Reactor.acceptor method by creating an acceptor
 * which is immediately closed by the reactor.  The expected behaviour is for:
 * <ul>
 * <li>The reactor to end immediately (as it has no more work to process).</li>
 * <li>The handler, associated with the acceptor, to receive no events.</li>
 * <li>For it's lifetime, the acceptor is one of the reactor's children.</li>
 * </ul>
 * @throws IOException
 */
@Test public void acceptor() throws IOException {
  final Acceptor acceptor=reactor.acceptor("127.0.0.1",0);
  assertNotNull(acceptor);
  assertTrue("acceptor should be one of the reactor's children",reactor.children().contains(acceptor));
  TestHandler acceptorHandler=new TestHandler();
  BaseHandler.setHandler(acceptor,acceptorHandler);
  reactor.getHandler().add(new BaseHandler(){
    @Override public void onReactorInit(    Event event){
      acceptor.close();
    }
  }
);
  reactor.run();
  reactor.free();
  acceptorHandler.assertEvents();
  assertFalse("acceptor should have been removed from the reactor's children",reactor.children().contains(acceptor));
}

</code></pre>

<br>
<pre class="type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Tests end to end behaviour of the reactor by creating an acceptor and then
 * a connection (which connects to the port the acceptor is listening on).
 * As soon as the connection is established, both the acceptor and connection
 * are closed.  The events generated by the acceptor and the connection are
 * compared to a set of expected events.
 * @throws IOException
 */
@Test public void connect() throws IOException {
  ServerHandler sh=new ServerHandler();
  Acceptor acceptor=reactor.acceptor("127.0.0.1",0,sh);
  final int listeningPort=((AcceptorImpl)acceptor).getPortNumber();
  sh.setAcceptor(acceptor);
class ClientHandler extends TestHandler {
    @Override public void onConnectionInit(    Event event){
      super.onConnectionInit(event);
      event.getConnection().setHostname("127.0.0.1:" + listeningPort);
      event.getConnection().open();
    }
    @Override public void onConnectionRemoteOpen(    Event event){
      super.onConnectionRemoteOpen(event);
      event.getConnection().close();
    }
    @Override public void onConnectionRemoteClose(    Event event){
      super.onConnectionRemoteClose(event);
      event.getConnection().free();
    }
  }
  ClientHandler ch=new ClientHandler();
  Connection connection=reactor.connection(ch);
  assertTrue("acceptor should be one of the reactor's children",reactor.children().contains(acceptor));
  assertTrue("connection should be one of the reactor's children",reactor.children().contains(connection));
  reactor.run();
  reactor.free();
  assertFalse("acceptor should have been removed from the reactor's children",reactor.children().contains(acceptor));
  assertFalse("connection should have been removed from the reactor's children",reactor.children().contains(connection));
  sh.assertEvents(Type.CONNECTION_INIT,Type.CONNECTION_BOUND,Type.CONNECTION_REMOTE_OPEN,Type.CONNECTION_LOCAL_OPEN,Type.TRANSPORT,Type.CONNECTION_REMOTE_CLOSE,Type.TRANSPORT_TAIL_CLOSED,Type.CONNECTION_LOCAL_CLOSE,Type.TRANSPORT,Type.TRANSPORT_HEAD_CLOSED,Type.TRANSPORT_CLOSED,Type.CONNECTION_UNBOUND,Type.CONNECTION_FINAL);
  ch.assertEvents(Type.CONNECTION_INIT,Type.CONNECTION_LOCAL_OPEN,Type.CONNECTION_BOUND,Type.CONNECTION_REMOTE_OPEN,Type.CONNECTION_LOCAL_CLOSE,Type.TRANSPORT,Type.TRANSPORT_HEAD_CLOSED,Type.CONNECTION_REMOTE_CLOSE,Type.TRANSPORT_TAIL_CLOSED,Type.TRANSPORT_CLOSED,Type.CONNECTION_UNBOUND,Type.CONNECTION_FINAL);
}

</code></pre>

<br>
<pre class="type-1 type-4 type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests basic operation of the Reactor.connection method by creating a
 * connection from a reactor, then running the reactor.  The expected behaviour
 * is for:
 * <ul>
 * <li>The reactor to end immediately.</li>
 * <li>The handler associated with the connection receives an init event.</li>
 * <li>The connection is one of the reactor's children.</li>
 * </ul>
 * @throws IOException
 */
@Test public void connection() throws IOException {
  TestHandler connectionHandler=new TestHandler();
  Connection connection=reactor.connection(connectionHandler);
  assertNotNull(connection);
  assertTrue("connection should be one of the reactor's children",reactor.children().contains(connection));
  TestHandler reactorHandler=new TestHandler();
  reactor.getHandler().add(reactorHandler);
  reactor.run();
  reactor.free();
  reactorHandler.assertEvents(Type.REACTOR_INIT,Type.SELECTABLE_INIT,Type.SELECTABLE_UPDATED,Type.SELECTABLE_FINAL,Type.REACTOR_FINAL);
  connectionHandler.assertEvents(Type.CONNECTION_INIT);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.systemtests.DefaultDeliveryStateTest </h4><pre class="type-1 type-4 type-9 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDefaultDeliveryState() throws Exception {
  LOGGER.fine(bold("======== About to create transports"));
  getClient().transport=Proton.transport();
  ProtocolTracerEnabler.setProtocolTracer(getClient().transport,TestLoggingHelper.CLIENT_PREFIX);
  getServer().transport=Proton.transport();
  ProtocolTracerEnabler.setProtocolTracer(getServer().transport,"            " + TestLoggingHelper.SERVER_PREFIX);
  doOutputInputCycle();
  getClient().connection=Proton.connection();
  getClient().transport.bind(getClient().connection);
  getServer().connection=Proton.connection();
  getServer().transport.bind(getServer().connection);
  LOGGER.fine(bold("======== About to open connections"));
  getClient().connection.open();
  getServer().connection.open();
  doOutputInputCycle();
  LOGGER.fine(bold("======== About to open sessions"));
  getClient().session=getClient().connection.session();
  getClient().session.open();
  pumpClientToServer();
  getServer().session=getServer().connection.sessionHead(of(UNINITIALIZED),of(ACTIVE));
  assertEndpointState(getServer().session,UNINITIALIZED,ACTIVE);
  getServer().session.open();
  assertEndpointState(getServer().session,ACTIVE,ACTIVE);
  pumpServerToClient();
  assertEndpointState(getClient().session,ACTIVE,ACTIVE);
  LOGGER.fine(bold("======== About to create reciever"));
  getClient().source=new Source();
  getClient().source.setAddress(_sourceAddress);
  getClient().target=new Target();
  getClient().target.setAddress(null);
  getClient().receiver=getClient().session.receiver("link1");
  getClient().receiver.setTarget(getClient().target);
  getClient().receiver.setSource(getClient().source);
  getClient().receiver.setReceiverSettleMode(ReceiverSettleMode.FIRST);
  getClient().receiver.setSenderSettleMode(SenderSettleMode.UNSETTLED);
  assertEndpointState(getClient().receiver,UNINITIALIZED,UNINITIALIZED);
  getClient().receiver.open();
  assertEndpointState(getClient().receiver,ACTIVE,UNINITIALIZED);
  pumpClientToServer();
  LOGGER.fine(bold("======== About to set up implicitly created sender"));
  getServer().sender=(Sender)getServer().connection.linkHead(of(UNINITIALIZED),of(ACTIVE));
  getServer().sender.setReceiverSettleMode(getServer().sender.getRemoteReceiverSettleMode());
  getServer().sender.setSenderSettleMode(getServer().sender.getRemoteSenderSettleMode());
  org.apache.qpid.proton.amqp.transport.Source serverRemoteSource=getServer().sender.getRemoteSource();
  getServer().sender.setSource(serverRemoteSource);
  assertEndpointState(getServer().sender,UNINITIALIZED,ACTIVE);
  getServer().sender.open();
  assertEndpointState(getServer().sender,ACTIVE,ACTIVE);
  pumpServerToClient();
  assertEndpointState(getClient().receiver,ACTIVE,ACTIVE);
  int messagCount=3;
  getClient().receiver.flow(messagCount);
  pumpClientToServer();
  LOGGER.fine(bold("======== About to create messages and send to the client"));
  Delivery serverDelivery1=sendMessageToClient("delivery1","Msg1");
  Delivery serverDelivery2=sendMessageToClient("delivery2","Msg2");
  Delivery serverDelivery3=sendMessageToClient("delivery3","Msg3");
  pumpServerToClient();
  assertNull(serverDelivery1.getLocalState());
  assertNull(serverDelivery2.getLocalState());
  assertNull(serverDelivery3.getLocalState());
  assertNull(serverDelivery1.getRemoteState());
  assertNull(serverDelivery2.getRemoteState());
  assertNull(serverDelivery3.getRemoteState());
  LOGGER.fine(bold("======== About to process the messages on the client"));
  Delivery clientDelivery1=receiveMessageFromServer("delivery1","Msg1");
  Delivery clientDelivery2=receiveMessageFromServer("delivery2","Msg2");
  Delivery clientDelivery3=receiveMessageFromServer("delivery3","Msg3");
  clientDelivery1.setDefaultDeliveryState(Released.getInstance());
  clientDelivery2.setDefaultDeliveryState(Released.getInstance());
  clientDelivery3.setDefaultDeliveryState(Released.getInstance());
  assertEquals(Released.getInstance(),clientDelivery1.getDefaultDeliveryState());
  assertEquals(Released.getInstance(),clientDelivery2.getDefaultDeliveryState());
  assertEquals(Released.getInstance(),clientDelivery3.getDefaultDeliveryState());
  assertNull(clientDelivery1.getLocalState());
  assertNull(clientDelivery2.getLocalState());
  assertNull(clientDelivery3.getLocalState());
  assertNull(clientDelivery1.getRemoteState());
  assertNull(clientDelivery2.getRemoteState());
  assertNull(clientDelivery3.getRemoteState());
  clientDelivery1.disposition(Accepted.getInstance());
  clientDelivery2.setDefaultDeliveryState(new Modified());
  assertEquals(Released.getInstance(),clientDelivery1.getDefaultDeliveryState());
  assertTrue(clientDelivery2.getDefaultDeliveryState() instanceof Modified);
  assertEquals(Released.getInstance(),clientDelivery3.getDefaultDeliveryState());
  assertEquals(Accepted.getInstance(),clientDelivery1.getLocalState());
  assertNull(clientDelivery2.getLocalState());
  assertNull(clientDelivery3.getLocalState());
  pumpClientToServer();
  assertEquals(Accepted.getInstance(),serverDelivery1.getRemoteState());
  assertNull(serverDelivery2.getRemoteState());
  assertNull(serverDelivery3.getRemoteState());
  getClient().receiver.close();
  assertEndpointState(getClient().receiver,CLOSED,ACTIVE);
  pumpClientToServer();
  assertEndpointState(getServer().sender,ACTIVE,CLOSED);
  getServer().sender.close();
  assertEndpointState(getServer().sender,CLOSED,CLOSED);
  pumpServerToClient();
  getClient().receiver.free();
  assertEndpointState(getClient().receiver,CLOSED,CLOSED);
  pumpClientToServer();
  assertEquals(Accepted.getInstance(),serverDelivery1.getRemoteState());
  assertTrue(serverDelivery2.getRemoteState() instanceof Modified);
  assertEquals(Released.getInstance(),serverDelivery3.getRemoteState());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.systemtests.LinkTest </h4><pre class="type-4 type-9 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testProperties() throws Exception {
  Map<Symbol,Object> receiverProps=new HashMap<>();
  receiverProps.put(RCV_PROP,RCV_PROP_VAL);
  Map<Symbol,Object> senderProps=new HashMap<>();
  senderProps.put(SND_PROP,SND_PROP_VAL);
  LOGGER.fine(bold("======== About to create transports"));
  getClient().transport=Proton.transport();
  ProtocolTracerEnabler.setProtocolTracer(getClient().transport,TestLoggingHelper.CLIENT_PREFIX);
  getServer().transport=Proton.transport();
  ProtocolTracerEnabler.setProtocolTracer(getServer().transport,"            " + TestLoggingHelper.SERVER_PREFIX);
  doOutputInputCycle();
  getClient().connection=Proton.connection();
  getClient().transport.bind(getClient().connection);
  getServer().connection=Proton.connection();
  getServer().transport.bind(getServer().connection);
  LOGGER.fine(bold("======== About to open connections"));
  getClient().connection.open();
  getServer().connection.open();
  doOutputInputCycle();
  LOGGER.fine(bold("======== About to open sessions"));
  getClient().session=getClient().connection.session();
  getClient().session.open();
  pumpClientToServer();
  getServer().session=getServer().connection.sessionHead(of(UNINITIALIZED),of(ACTIVE));
  assertEndpointState(getServer().session,UNINITIALIZED,ACTIVE);
  getServer().session.open();
  assertEndpointState(getServer().session,ACTIVE,ACTIVE);
  pumpServerToClient();
  assertEndpointState(getClient().session,ACTIVE,ACTIVE);
  LOGGER.fine(bold("======== About to create reciever"));
  getClient().source=new Source();
  getClient().source.setAddress(_sourceAddress);
  getClient().target=new Target();
  getClient().target.setAddress(null);
  getClient().receiver=getClient().session.receiver("link1");
  getClient().receiver.setTarget(getClient().target);
  getClient().receiver.setSource(getClient().source);
  getClient().receiver.setReceiverSettleMode(ReceiverSettleMode.FIRST);
  getClient().receiver.setSenderSettleMode(SenderSettleMode.UNSETTLED);
  getClient().receiver.setProperties(receiverProps);
  assertEndpointState(getClient().receiver,UNINITIALIZED,UNINITIALIZED);
  getClient().receiver.open();
  assertEndpointState(getClient().receiver,ACTIVE,UNINITIALIZED);
  pumpClientToServer();
  LOGGER.fine(bold("======== About to set up implicitly created sender"));
  getServer().sender=(Sender)getServer().connection.linkHead(of(UNINITIALIZED),of(ACTIVE));
  getServer().sender.setReceiverSettleMode(getServer().sender.getRemoteReceiverSettleMode());
  getServer().sender.setSenderSettleMode(getServer().sender.getRemoteSenderSettleMode());
  org.apache.qpid.proton.amqp.transport.Source serverRemoteSource=getServer().sender.getRemoteSource();
  getServer().sender.setSource(serverRemoteSource);
  getServer().sender.setProperties(senderProps);
  assertEndpointState(getServer().sender,UNINITIALIZED,ACTIVE);
  getServer().sender.open();
  assertEndpointState(getServer().sender,ACTIVE,ACTIVE);
  pumpServerToClient();
  assertEndpointState(getClient().receiver,ACTIVE,ACTIVE);
  Map<Symbol,Object> serverRemoteProperties=getServer().sender.getRemoteProperties();
  assertNotNull("Server had no remote properties",serverRemoteProperties);
  assertEquals("Server remote properties not expected size",1,serverRemoteProperties.size());
  assertTrue("Server remote properties lack expected key: " + RCV_PROP,serverRemoteProperties.containsKey(RCV_PROP));
  assertEquals("Server remote properties contain unexpected value for key: " + RCV_PROP,RCV_PROP_VAL,serverRemoteProperties.get(RCV_PROP));
  Map<Symbol,Object> clientRemoteProperties=getClient().receiver.getRemoteProperties();
  assertNotNull("Client had no remote properties",clientRemoteProperties);
  assertEquals("Client remote properties not expected size",1,clientRemoteProperties.size());
  assertTrue("Client remote properties lack expected key: " + SND_PROP,clientRemoteProperties.containsKey(SND_PROP));
  assertEquals("Client remote properties contain unexpected value for key: " + SND_PROP,SND_PROP_VAL,clientRemoteProperties.get(SND_PROP));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.proton.systemtests.ProtonEngineExampleTest </h4><pre class="type-5 type-1 type-4 type-12 type-9 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test() throws Exception {
  LOGGER.fine(bold("======== About to create transports"));
  getClient().transport=Proton.transport();
  ProtocolTracerEnabler.setProtocolTracer(getClient().transport,TestLoggingHelper.CLIENT_PREFIX);
  getServer().transport=Proton.transport();
  ProtocolTracerEnabler.setProtocolTracer(getServer().transport,"            " + TestLoggingHelper.SERVER_PREFIX);
  doOutputInputCycle();
  getClient().connection=Proton.connection();
  getClient().transport.bind(getClient().connection);
  getServer().connection=Proton.connection();
  getServer().transport.bind(getServer().connection);
  LOGGER.fine(bold("======== About to open connections"));
  getClient().connection.open();
  getServer().connection.open();
  doOutputInputCycle();
  LOGGER.fine(bold("======== About to open sessions"));
  getClient().session=getClient().connection.session();
  getClient().session.open();
  pumpClientToServer();
  getServer().session=getServer().connection.sessionHead(of(UNINITIALIZED),of(ACTIVE));
  assertEndpointState(getServer().session,UNINITIALIZED,ACTIVE);
  getServer().session.open();
  assertEndpointState(getServer().session,ACTIVE,ACTIVE);
  pumpServerToClient();
  assertEndpointState(getClient().session,ACTIVE,ACTIVE);
  LOGGER.fine(bold("======== About to create sender"));
  getClient().source=new Source();
  getClient().source.setAddress(null);
  getClient().target=new Target();
  getClient().target.setAddress(_targetAddress);
  getClient().sender=getClient().session.sender("link1");
  getClient().sender.setTarget(getClient().target);
  getClient().sender.setSource(getClient().source);
  getClient().sender.setSenderSettleMode(SenderSettleMode.UNSETTLED);
  getClient().sender.setReceiverSettleMode(ReceiverSettleMode.SECOND);
  assertEndpointState(getClient().sender,UNINITIALIZED,UNINITIALIZED);
  getClient().sender.open();
  assertEndpointState(getClient().sender,ACTIVE,UNINITIALIZED);
  pumpClientToServer();
  LOGGER.fine(bold("======== About to set up implicitly created receiver"));
  getServer().receiver=(Receiver)getServer().connection.linkHead(of(UNINITIALIZED),of(ACTIVE));
  getServer().receiver.setSenderSettleMode(getServer().receiver.getRemoteSenderSettleMode());
  getServer().receiver.setReceiverSettleMode(getServer().receiver.getRemoteReceiverSettleMode());
  org.apache.qpid.proton.amqp.transport.Target serverRemoteTarget=getServer().receiver.getRemoteTarget();
  assertTerminusEquals(getClient().target,serverRemoteTarget);
  getServer().receiver.setTarget(applicationDeriveTarget(serverRemoteTarget));
  assertEndpointState(getServer().receiver,UNINITIALIZED,ACTIVE);
  getServer().receiver.open();
  assertEndpointState(getServer().receiver,ACTIVE,ACTIVE);
  pumpServerToClient();
  assertEndpointState(getClient().sender,ACTIVE,ACTIVE);
  getServer().receiver.flow(1);
  pumpServerToClient();
  LOGGER.fine(bold("======== About to create a message and send it to the server"));
  getClient().message=Proton.message();
  Section messageBody=new AmqpValue("Hello");
  getClient().message.setBody(messageBody);
  getClient().messageData=new byte[BUFFER_SIZE];
  int lengthOfEncodedMessage=getClient().message.encode(getClient().messageData,0,BUFFER_SIZE);
  getTestLoggingHelper().prettyPrint(TestLoggingHelper.MESSAGE_PREFIX,Arrays.copyOf(getClient().messageData,lengthOfEncodedMessage));
  byte[] deliveryTag="delivery1".getBytes();
  getClient().delivery=getClient().sender.delivery(deliveryTag);
  int numberOfBytesAcceptedBySender=getClient().sender.send(getClient().messageData,0,lengthOfEncodedMessage);
  assertEquals("For simplicity, assume the sender can accept all the data",lengthOfEncodedMessage,numberOfBytesAcceptedBySender);
  assertNull(getClient().delivery.getLocalState());
  boolean senderAdvanced=getClient().sender.advance();
  assertTrue("sender has not advanced",senderAdvanced);
  pumpClientToServer();
  LOGGER.fine(bold("======== About to process the message on the server"));
  getServer().delivery=getServer().connection.getWorkHead();
  assertEquals("The received delivery should be on our receiver",getServer().receiver,getServer().delivery.getLink());
  assertNull(getServer().delivery.getLocalState());
  assertNull(getServer().delivery.getRemoteState());
  assertFalse(getServer().delivery.isPartial());
  assertTrue(getServer().delivery.isReadable());
  getServer().messageData=new byte[BUFFER_SIZE];
  int numberOfBytesProducedByReceiver=getServer().receiver.recv(getServer().messageData,0,BUFFER_SIZE);
  assertEquals(numberOfBytesAcceptedBySender,numberOfBytesProducedByReceiver);
  getServer().message=Proton.message();
  getServer().message.decode(getServer().messageData,0,numberOfBytesProducedByReceiver);
  boolean messageProcessed=applicationProcessMessage(getServer().message);
  assertTrue(messageProcessed);
  getServer().delivery.disposition(Accepted.getInstance());
  assertEquals(Accepted.getInstance(),getServer().delivery.getLocalState());
  pumpServerToClient();
  assertEquals(Accepted.getInstance(),getClient().delivery.getRemoteState());
  LOGGER.fine(bold("======== About to accept and settle the message on the client"));
  Delivery clientDelivery=getClient().connection.getWorkHead();
  assertEquals(getClient().delivery,clientDelivery);
  assertTrue(clientDelivery.isUpdated());
  assertEquals(getClient().sender,clientDelivery.getLink());
  clientDelivery.disposition(clientDelivery.getRemoteState());
  assertEquals(Accepted.getInstance(),getClient().delivery.getLocalState());
  clientDelivery.settle();
  assertNull("Now we've settled, the delivery should no longer be in the work list",getClient().connection.getWorkHead());
  pumpClientToServer();
  LOGGER.fine(bold("======== About to settle the message on the server"));
  assertEquals(Accepted.getInstance(),getServer().delivery.getRemoteState());
  Delivery serverDelivery=getServer().connection.getWorkHead();
  assertEquals(getServer().delivery,serverDelivery);
  assertTrue(serverDelivery.isUpdated());
  assertTrue("Client should have already settled",serverDelivery.remotelySettled());
  serverDelivery.settle();
  assertTrue(serverDelivery.isSettled());
  assertNull("Now we've settled, the delivery should no longer be in the work list",getServer().connection.getWorkHead());
  getServer().receiver.flow(1);
  pumpServerToClient();
  LOGGER.fine(bold("======== About to close client's sender"));
  getClient().sender.close();
  pumpClientToServer();
  LOGGER.fine(bold("======== Server about to process client's link closure"));
  assertSame(getServer().receiver,getServer().connection.linkHead(of(ACTIVE),of(CLOSED)));
  getServer().receiver.close();
  pumpServerToClient();
  LOGGER.fine(bold("======== About to close client's session"));
  getClient().session.close();
  pumpClientToServer();
  LOGGER.fine(bold("======== Server about to process client's session closure"));
  assertSame(getServer().session,getServer().connection.sessionHead(of(ACTIVE),of(CLOSED)));
  getServer().session.close();
  pumpServerToClient();
  LOGGER.fine(bold("======== About to close client's connection"));
  getClient().connection.close();
  pumpClientToServer();
  LOGGER.fine(bold("======== Server about to process client's connection closure"));
  assertEquals(CLOSED,getServer().connection.getRemoteState());
  getServer().connection.close();
  pumpServerToClient();
  LOGGER.fine(bold("======== Checking client has nothing more to pump"));
  assertClientHasNothingToOutput();
  LOGGER.fine(bold("======== Done!"));
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
