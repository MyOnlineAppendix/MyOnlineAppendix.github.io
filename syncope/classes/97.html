<h3 style="margin:0px">Class: org.apache.syncope.fit.core.UserITCase (71 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(62)</kbd></button>&nbsp;<button id="10"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('10')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-10"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(60)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(58)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(57)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(47)</kbd></button>&nbsp;<button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(35)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure"><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >UtilityVerifier&nbsp;(19)</kbd></button>&nbsp;<button id="12"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('12')" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution"><kbd id="tag-12"class="label-info"style="display: inline-block;font-size:7pt" >ExceptionVerifier&nbsp;(8)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Executes methods or other tests from the same test unit"><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >ExecutionTester&nbsp;(5)</kbd></button>&nbsp;<button id="14"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('14')" data-toggle="tooltip" title="Sets implicit assumptions "><kbd id="tag-14"class="label-info"style="display: inline-block;font-size:7pt" >AssumptionSetter&nbsp;(2)</kbd></button>&nbsp;<button id="15"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('15')" data-toggle="tooltip" title="Verifies assertions in iterations"><kbd id="tag-15"class="label-info"style="display: inline-block;font-size:7pt" >IterativeVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-5 type-1 type-6 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void updateWithoutPassword(){
  UserTO userTO=getUniqueSampleTO("updatewithout@password.com");
  userTO=createUser(userTO).getAny();
  assertNotNull(userTO);
  UserPatch userPatch=new UserPatch();
  userPatch.setKey(userTO.getKey());
  userPatch.getPlainAttrs().add(new AttrPatch.Builder().operation(PatchOperation.DELETE).attrTO(new AttrTO.Builder().schema("type").build()).build());
  userTO=updateUser(userPatch).getAny();
  assertNotNull(userTO);
  assertNotNull(userTO.getDerAttrMap());
  assertFalse(userTO.getPlainAttrMap().containsKey("type"));
}

</code></pre>

<pre class="type-5 type-6 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void issueSYNCOPE426(){
  UserTO userTO=getUniqueSampleTO("syncope426@syncope.apache.org");
  userTO=createUser(userTO).getAny();
  assertNotNull(userTO);
  UserPatch userPatch=new UserPatch();
  userPatch.setKey(userTO.getKey());
  userPatch.setPassword(new PasswordPatch.Builder().value("anotherPassword123").build());
  userTO=userService.update(userPatch).readEntity(new GenericType<ProvisioningResult<UserTO>>(){
  }
).getAny();
  assertNotNull(userTO);
}

</code></pre>

<pre class="type-6 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void readWithMailAddressAsUserName(){
  UserTO userTO=createUser(getUniqueSampleTO("mail@domain.org")).getAny();
  userTO=userService.read(userTO.getKey());
  assertNotNull(userTO);
}

</code></pre>

<pre class="type-5 type-1 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void issueSYNCOPE402(){
  UserTO userTO=new UserTO();
  userTO.setRealm(SyncopeConstants.ROOT_REALM);
  String userId=getUUIDString() + "syncope402@syncope.apache.org";
  userTO.setUsername(userId);
  userTO.setPassword("password123");
  userTO.getPlainAttrs().add(attrTO("userId",userId));
  userTO.getPlainAttrs().add(attrTO("fullname",userId));
  userTO.getPlainAttrs().add(attrTO("surname",userId));
  userTO=createUser(userTO).getAny();
  assertNotNull(userTO);
  assertTrue(userTO.getResources().isEmpty());
  UserPatch userPatch=new UserPatch();
  userPatch.setKey(userTO.getKey());
  userPatch.setPassword(new PasswordPatch.Builder().value("newPassword123").build());
  userPatch.getResources().add(new StringPatchItem.Builder().operation(PatchOperation.ADD_REPLACE).value(RESOURCE_NAME_WS1).build());
  userPatch.getResources().add(new StringPatchItem.Builder().operation(PatchOperation.ADD_REPLACE).value(RESOURCE_NAME_TESTDB).build());
  ProvisioningResult<UserTO> result=updateUser(userPatch);
  List<PropagationStatus> propagationStatuses=result.getPropagationStatuses();
  PropagationStatus ws1PropagationStatus=null;
  if (propagationStatuses != null) {
    for (    PropagationStatus propStatus : propagationStatuses) {
      if (RESOURCE_NAME_WS1.equals(propStatus.getResource())) {
        ws1PropagationStatus=propStatus;
        break;
      }
    }
  }
  assertNotNull(ws1PropagationStatus);
  assertEquals(RESOURCE_NAME_WS1,ws1PropagationStatus.getResource());
  assertNotNull(ws1PropagationStatus.getFailureReason());
  assertEquals(PropagationTaskExecStatus.FAILURE,ws1PropagationStatus.getStatus());
}

</code></pre>

<pre class="type-5 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void isseSYNCOPE136Random(){
  UserTO userTO=getUniqueSampleTO("syncope136_Random@apache.org");
  userTO.getResources().clear();
  userTO=createUser(userTO).getAny();
  assertNotNull(userTO);
  UserPatch userPatch=new UserPatch();
  userPatch.setKey(userTO.getKey());
  userPatch.getResources().add(new StringPatchItem.Builder().operation(PatchOperation.ADD_REPLACE).value(RESOURCE_NAME_LDAP).build());
  userPatch.setPassword(new PasswordPatch.Builder().onSyncope(false).resource(RESOURCE_NAME_LDAP).build());
  ProvisioningResult<UserTO> result=updateUser(userPatch);
  assertNotNull(result);
  List<PropagationStatus> props=result.getPropagationStatuses();
  assertNotNull(props);
  assertEquals(1,props.size());
  PropagationStatus prop=props.iterator().next();
  assertNotNull(prop);
  assertEquals(RESOURCE_NAME_LDAP,prop.getResource());
  assertEquals(PropagationTaskExecStatus.SUCCESS,prop.getStatus());
}

</code></pre>

<pre class="type-5 type-4 type-1 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void issueSYNCOPE391(){
  UserTO userTO=getUniqueSampleTO("syncope391@syncope.apache.org");
  userTO.setPassword(null);
  userTO=createUser(userTO,false).getAny();
  assertNotNull(userTO);
  assertNull(userTO.getPassword());
  userTO=new UserTO();
  userTO.setRealm(SyncopeConstants.ROOT_REALM);
  userTO.setPassword(null);
  userTO.setUsername("syncope391@syncope.apache.org");
  userTO.getPlainAttrs().add(attrTO("fullname","fullname"));
  userTO.getPlainAttrs().add(attrTO("firstname","nome0"));
  userTO.getPlainAttrs().add(attrTO("surname","cognome0"));
  userTO.getPlainAttrs().add(attrTO("userId","syncope391@syncope.apache.org"));
  userTO.getPlainAttrs().add(attrTO("email","syncope391@syncope.apache.org"));
  userTO.getDerAttrs().add(attrTO("csvuserid",null));
  userTO.getAuxClasses().add("csv");
  userTO.getResources().add(RESOURCE_NAME_CSV);
  userTO=createUser(userTO,false).getAny();
  assertNotNull(userTO);
  ConnObjectTO connObjectTO=resourceService.readConnObject(RESOURCE_NAME_CSV,AnyTypeKind.USER.name(),userTO.getKey());
  assertNotNull(connObjectTO);
  assertEquals("password0",connObjectTO.getPlainAttrMap().get(OperationalAttributes.PASSWORD_NAME).getValues().get(0));
  assertNull(userTO.getPassword());
  userTO=getUniqueSampleTO("syncope391@syncope.apache.org");
  userTO.setPassword("passwordTESTNULL1");
  userTO.getDerAttrs().clear();
  userTO.getVirAttrs().clear();
  userTO.getAuxClasses().add("csv");
  userTO.getDerAttrs().add(attrTO("csvuserid",null));
  userTO.getResources().add(RESOURCE_NAME_CSV);
  userTO=createUser(userTO,false).getAny();
  assertNotNull(userTO);
  connObjectTO=resourceService.readConnObject(RESOURCE_NAME_CSV,AnyTypeKind.USER.name(),userTO.getKey());
  assertNotNull(connObjectTO);
  assertEquals("passwordTESTNULL1",connObjectTO.getPlainAttrMap().get(OperationalAttributes.PASSWORD_NAME).getValues().get(0));
  assertNull(userTO.getPassword());
  userTO=getUniqueSampleTO("syncope391@syncope.apache.org");
  userTO.setPassword("passwordTESTNULL1");
  userTO.getDerAttrs().clear();
  userTO.getVirAttrs().clear();
  userTO.getAuxClasses().add("csv");
  userTO.getDerAttrs().add(attrTO("csvuserid",null));
  userTO.getResources().add(RESOURCE_NAME_CSV);
  userTO=createUser(userTO).getAny();
  assertNotNull(userTO);
  connObjectTO=resourceService.readConnObject(RESOURCE_NAME_CSV,AnyTypeKind.USER.name(),userTO.getKey());
  assertNotNull(connObjectTO);
  assertEquals("passwordTESTNULL1",connObjectTO.getPlainAttrMap().get(OperationalAttributes.PASSWORD_NAME).getValues().get(0));
  Pair<Map<String,Set<String>>,UserTO> self=clientFactory.create(userTO.getUsername(),"passwordTESTNULL1").self();
  assertNotNull(self);
  ResourceTO csv=resourceService.read(RESOURCE_NAME_CSV);
  assertNotNull(csv);
  try {
    csv.setPasswordPolicy(8L);
    resourceService.update(csv);
    csv=resourceService.read(RESOURCE_NAME_CSV);
    userTO=getUniqueSampleTO("syncope391@syncope.apache.org");
    userTO.setPassword(null);
    userTO.getDerAttrs().clear();
    userTO.getVirAttrs().clear();
    userTO.getAuxClasses().add("csv");
    userTO.getDerAttrs().add(attrTO("csvuserid",null));
    userTO.getResources().add(RESOURCE_NAME_CSV);
    createUser(userTO,false);
    fail();
  }
 catch (  SyncopeClientException e) {
    assertEquals(ClientExceptionType.InvalidUser,e.getType());
    assertTrue(e.getMessage().contains("Password mandatory"));
  }
 finally {
    csv.setPasswordPolicy(null);
    resourceService.update(csv);
  }
}

</code></pre>

<pre class="type-5 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void issueSYNCOPE383(){
  UserTO userTO=getUniqueSampleTO("syncope383@apache.org");
  userTO.getResources().clear();
  userTO=createUser(userTO).getAny();
  assertNotNull(userTO);
  UserPatch userPatch=new UserPatch();
  userPatch.setKey(userTO.getKey());
  userPatch.getResources().add(new StringPatchItem.Builder().operation(PatchOperation.ADD_REPLACE).value(RESOURCE_NAME_TESTDB).build());
  ProvisioningResult<UserTO> result=updateUser(userPatch);
  assertNotNull(result);
  userTO=result.getAny();
  assertEquals(RESOURCE_NAME_TESTDB,userTO.getResources().iterator().next());
  assertNotEquals(PropagationTaskExecStatus.SUCCESS,result.getPropagationStatuses().get(0).getStatus());
  assertNotNull(result.getPropagationStatuses().get(0).getFailureReason());
  userTO=result.getAny();
  userPatch=new UserPatch();
  userPatch.setKey(userTO.getKey());
  userPatch.setPassword(new PasswordPatch.Builder().value(getUUIDString() + "abbcbcbddd123").resource(RESOURCE_NAME_TESTDB).build());
  result=updateUser(userPatch);
  assertEquals(RESOURCE_NAME_TESTDB,userTO.getResources().iterator().next());
  assertEquals(PropagationTaskExecStatus.SUCCESS,result.getPropagationStatuses().get(0).getStatus());
}

</code></pre>

<pre class="type-5 type-6 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void issueSYNCOPE710(){
  GroupTO ldapGroup=GroupITCase.getBasicSampleTO("syncope710.ldap");
  ldapGroup.getResources().add(RESOURCE_NAME_LDAP);
  ldapGroup=createGroup(ldapGroup).getAny();
  GroupTO dbGroup=GroupITCase.getBasicSampleTO("syncope710.db");
  dbGroup.getResources().add(RESOURCE_NAME_TESTDB);
  dbGroup=createGroup(dbGroup).getAny();
  UserTO userTO=getUniqueSampleTO("syncope710@syncope.apache.org");
  userTO.getResources().clear();
  userTO.getMemberships().clear();
  userTO.getMemberships().add(new MembershipTO.Builder().group(ldapGroup.getKey()).build());
  userTO.getMemberships().add(new MembershipTO.Builder().group(dbGroup.getKey()).build());
  ProvisioningResult<UserTO> result=createUser(userTO);
  assertEquals(2,result.getPropagationStatuses().size());
  userTO=result.getAny();
  UserPatch userPatch=new UserPatch();
  userPatch.setKey(userTO.getKey());
  userPatch.setPassword(new PasswordPatch.Builder().onSyncope(false).resource(RESOURCE_NAME_TESTDB).value("newpassword123").build());
  result=updateUser(userPatch);
  assertEquals(1,result.getPropagationStatuses().size());
  assertEquals(RESOURCE_NAME_TESTDB,result.getPropagationStatuses().get(0).getResource());
}

</code></pre>

<pre class="type-5 type-10 type-12 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=SyncopeClientException.class) public void updateInvalidPassword(){
  UserTO userTO=getSampleTO("updateinvalid@password.com");
  userTO=createUser(userTO).getAny();
  assertNotNull(userTO);
  UserPatch userPatch=new UserPatch();
  userPatch.setKey(userTO.getKey());
  userPatch.setPassword(new PasswordPatch.Builder().value("pass").build());
  userService.update(userPatch);
}

</code></pre>

<pre class="type-5 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void issueSYNCOPE647(){
  UserTO userTO=getUniqueSampleTO("syncope647@syncope.apache.org");
  userTO.getResources().clear();
  userTO.getMemberships().clear();
  userTO.getDerAttrs().clear();
  userTO.getVirAttrs().clear();
  userTO.getAuxClasses().add("csv");
  userTO.getDerAttrs().add(attrTO("csvuserid",null));
  userTO.getAuxClasses().add("generic membership");
  userTO.getPlainAttrs().add(attrTO("postalAddress","postalAddress"));
  userTO.getResources().add(RESOURCE_NAME_LDAP);
  UserTO actual=createUser(userTO).getAny();
  assertNotNull(actual);
  assertNotNull(actual.getDerAttrMap().get("csvuserid"));
  ConnObjectTO connObjectTO=resourceService.readConnObject(RESOURCE_NAME_LDAP,AnyTypeKind.USER.name(),actual.getKey());
  assertNotNull(connObjectTO);
  assertEquals("postalAddress",connObjectTO.getPlainAttrMap().get("postalAddress").getValues().get(0));
  UserPatch userPatch=new UserPatch();
  userPatch.setKey(actual.getKey());
  userPatch.getPlainAttrs().add(attrAddReplacePatch("postalAddress","newPostalAddress"));
  actual=updateUser(userPatch).getAny();
  connObjectTO=resourceService.readConnObject(RESOURCE_NAME_LDAP,AnyTypeKind.USER.name(),actual.getKey());
  assertNotNull(connObjectTO);
  assertEquals("newPostalAddress",connObjectTO.getPlainAttrMap().get("postalAddress").getValues().get(0));
}

</code></pre>

<pre class="type-5 type-4 type-1 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void issueSYNCOPE108(){
  UserTO userTO=getUniqueSampleTO("syncope108@syncope.apache.org");
  userTO.getResources().clear();
  userTO.getMemberships().clear();
  userTO.getDerAttrs().clear();
  userTO.getVirAttrs().clear();
  userTO.getAuxClasses().add("csv");
  userTO.getDerAttrs().add(attrTO("csvuserid",null));
  userTO.getMemberships().add(new MembershipTO.Builder().group(12L).build());
  userTO.getMemberships().add(new MembershipTO.Builder().group(13L).build());
  userTO.getResources().add(RESOURCE_NAME_CSV);
  userTO=createUser(userTO).getAny();
  assertNotNull(userTO);
  assertEquals(2,userTO.getMemberships().size());
  assertEquals(1,userTO.getResources().size());
  ConnObjectTO connObjectTO=resourceService.readConnObject(RESOURCE_NAME_CSV,AnyTypeKind.USER.name(),userTO.getKey());
  assertNotNull(connObjectTO);
  UserPatch userPatch=new UserPatch();
  userPatch.setKey(userTO.getKey());
  userPatch.getMemberships().add(new MembershipPatch.Builder().operation(PatchOperation.DELETE).membershipTO(userTO.getMemberships().get(0)).build());
  userTO=updateUser(userPatch).getAny();
  assertNotNull(userTO);
  assertEquals(1,userTO.getMemberships().size());
  connObjectTO=resourceService.readConnObject(RESOURCE_NAME_CSV,AnyTypeKind.USER.name(),userTO.getKey());
  assertNotNull(connObjectTO);
  userPatch=new UserPatch();
  userPatch.setKey(userTO.getKey());
  userPatch.getResources().add(new StringPatchItem.Builder().operation(PatchOperation.DELETE).value(userTO.getResources().iterator().next()).build());
  userTO=updateUser(userPatch).getAny();
  assertNotNull(userTO);
  assertEquals(1,userTO.getMemberships().size());
  assertFalse(userTO.getResources().isEmpty());
  connObjectTO=resourceService.readConnObject(RESOURCE_NAME_CSV,AnyTypeKind.USER.name(),userTO.getKey());
  assertNotNull(connObjectTO);
  userPatch=new UserPatch();
  userPatch.setKey(userTO.getKey());
  userPatch.getMemberships().add(new MembershipPatch.Builder().operation(PatchOperation.DELETE).membershipTO(userTO.getMemberships().get(0)).build());
  userTO=updateUser(userPatch).getAny();
  assertNotNull(userTO);
  assertTrue(userTO.getMemberships().isEmpty());
  assertTrue(userTO.getResources().isEmpty());
  try {
    resourceService.readConnObject(RESOURCE_NAME_CSV,AnyTypeKind.USER.name(),userTO.getKey());
    fail("Read should not succeeed");
  }
 catch (  SyncopeClientException e) {
    assertEquals(ClientExceptionType.NotFound,e.getType());
  }
}

</code></pre>

<pre class="type-5 type-4 type-1 type-6 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void provision(){
  UserTO userTO=getUniqueSampleTO("provision@syncope.apache.org");
  userTO.getResources().clear();
  userTO.getMemberships().clear();
  userTO.getDerAttrs().clear();
  userTO.getVirAttrs().clear();
  userTO.getAuxClasses().add("csv");
  userTO.getDerAttrs().add(attrTO("csvuserid",null));
  UserTO actual=createUser(userTO).getAny();
  assertNotNull(actual);
  assertTrue(actual.getResources().isEmpty());
  try {
    resourceService.readConnObject(RESOURCE_NAME_CSV,AnyTypeKind.USER.name(),actual.getKey());
    fail();
  }
 catch (  Exception e) {
    assertNotNull(e);
  }
  AssociationPatch associationPatch=new AssociationPatch();
  associationPatch.setKey(actual.getKey());
  associationPatch.setValue("password");
  associationPatch.setAction(ResourceAssociationAction.PROVISION);
  associationPatch.getResources().add(RESOURCE_NAME_CSV);
  assertNotNull(userService.associate(associationPatch).readEntity(BulkActionResult.class));
  actual=userService.read(actual.getKey());
  assertNotNull(actual);
  assertTrue(actual.getResources().isEmpty());
  assertNotNull(resourceService.readConnObject(RESOURCE_NAME_CSV,AnyTypeKind.USER.name(),actual.getKey()));
}

</code></pre>

<pre class="type-5 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void createUserWithDbPropagation(){
  UserTO userTO=getUniqueSampleTO("yyy@yyy.yyy");
  userTO.getResources().add(RESOURCE_NAME_TESTDB);
  ProvisioningResult<UserTO> result=createUser(userTO);
  assertNotNull(result);
  assertEquals(1,result.getPropagationStatuses().size());
  assertEquals(PropagationTaskExecStatus.SUCCESS,result.getPropagationStatuses().get(0).getStatus());
}

</code></pre>

<pre class="type-4 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void createWithRequiredValueMissing(){
  UserTO userTO=getUniqueSampleTO("a.b@c.it");
  AttrTO type=userTO.getPlainAttrMap().get("type");
  userTO.getPlainAttrs().remove(type);
  userTO.getMemberships().add(new MembershipTO.Builder().group(8L).build());
  try {
    createUser(userTO);
    fail();
  }
 catch (  SyncopeClientException e) {
    assertEquals(ClientExceptionType.RequiredValuesMissing,e.getType());
  }
  userTO.getPlainAttrs().add(attrTO("type","F"));
  AttrTO surname=userTO.getPlainAttrMap().get("surname");
  userTO.getPlainAttrs().remove(surname);
  try {
    createUser(userTO);
    fail();
  }
 catch (  SyncopeClientException e) {
    assertEquals(ClientExceptionType.RequiredValuesMissing,e.getType());
  }
}

</code></pre>

<pre class="type-5 type-1 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void update(){
  UserTO userTO=getUniqueSampleTO("g.h@t.com");
  userTO.getMemberships().add(new MembershipTO.Builder().group(8L).build());
  userTO=createUser(userTO).getAny();
  assertFalse(userTO.getDerAttrs().isEmpty());
  assertEquals(1,userTO.getMemberships().size());
  UserPatch userPatch=new UserPatch();
  userPatch.setKey(userTO.getKey());
  userPatch.setPassword(new PasswordPatch.Builder().value("new2Password").build());
  String newUserId=getUUIDString() + "t.w@spre.net";
  userPatch.getPlainAttrs().add(attrAddReplacePatch("userId",newUserId));
  String newFullName=getUUIDString() + "g.h@t.com";
  userPatch.getPlainAttrs().add(attrAddReplacePatch("fullname",newFullName));
  userPatch.getMemberships().add(new MembershipPatch.Builder().operation(PatchOperation.ADD_REPLACE).membershipTO(new MembershipTO.Builder().group(8L).build()).build());
  userPatch.getMemberships().add(new MembershipPatch.Builder().operation(PatchOperation.ADD_REPLACE).membershipTO(userTO.getMemberships().get(0)).build());
  userTO=updateUser(userPatch).getAny();
  assertNotNull(userTO);
  assertNotNull(userTO.getCreationDate());
  assertNotNull(userTO.getCreator());
  assertNotNull(userTO.getLastChangeDate());
  assertNotNull(userTO.getLastModifier());
  assertTrue(userTO.getCreationDate().before(userTO.getLastChangeDate()));
  assertEquals(1,userTO.getMemberships().size());
  assertFalse(userTO.getDerAttrs().isEmpty());
  AttrTO userIdAttr=userTO.getPlainAttrMap().get("userId");
  assertEquals(Collections.singletonList(newUserId),userIdAttr.getValues());
  AttrTO fullNameAttr=userTO.getPlainAttrMap().get("fullname");
  assertEquals(Collections.singletonList(newFullName),fullNameAttr.getValues());
}

</code></pre>

<pre class="type-5 type-4 type-1 type-6 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void assign(){
  UserTO userTO=getUniqueSampleTO("assign@syncope.apache.org");
  userTO.getResources().clear();
  userTO.getMemberships().clear();
  userTO.getDerAttrs().clear();
  userTO.getVirAttrs().clear();
  userTO.getAuxClasses().add("csv");
  userTO.getDerAttrs().add(attrTO("csvuserid",null));
  UserTO actual=createUser(userTO).getAny();
  assertNotNull(actual);
  assertTrue(actual.getResources().isEmpty());
  try {
    resourceService.readConnObject(RESOURCE_NAME_CSV,AnyTypeKind.USER.name(),actual.getKey());
    fail();
  }
 catch (  Exception e) {
    assertNotNull(e);
  }
  AssociationPatch associationPatch=new AssociationPatch();
  associationPatch.setKey(actual.getKey());
  associationPatch.setValue("password");
  associationPatch.setAction(ResourceAssociationAction.ASSIGN);
  associationPatch.getResources().add(RESOURCE_NAME_CSV);
  assertNotNull(userService.associate(associationPatch).readEntity(BulkActionResult.class));
  actual=userService.read(actual.getKey());
  assertNotNull(actual);
  assertFalse(actual.getResources().isEmpty());
  assertNotNull(resourceService.readConnObject(RESOURCE_NAME_CSV,AnyTypeKind.USER.name(),actual.getKey()));
}

</code></pre>

<pre class="type-5 type-4 type-1 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void issueSYNCOPE185(){
  UserTO userTO=getSampleTO("syncope185@syncope.apache.org");
  userTO.getVirAttrs().clear();
  userTO.getResources().add(RESOURCE_NAME_LDAP);
  ProvisioningResult<UserTO> result=createUser(userTO);
  assertNotNull(result);
  assertFalse(result.getPropagationStatuses().isEmpty());
  assertEquals(RESOURCE_NAME_LDAP,result.getPropagationStatuses().get(0).getResource());
  assertEquals(PropagationTaskExecStatus.SUCCESS,result.getPropagationStatuses().get(0).getStatus());
  userTO=result.getAny();
  userService.delete(userTO.getKey());
  try {
    resourceService.readConnObject(RESOURCE_NAME_LDAP,AnyTypeKind.USER.name(),userTO.getKey());
    fail("This entry should not be present on this resource");
  }
 catch (  SyncopeClientException e) {
    assertEquals(ClientExceptionType.NotFound,e.getType());
  }
}

</code></pre>

<pre class="type-4 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void issue288(){
  UserTO userTO=getSampleTO("issue288@syncope.apache.org");
  userTO.getPlainAttrs().add(attrTO("aLong","STRING"));
  try {
    createUser(userTO);
    fail();
  }
 catch (  SyncopeClientException e) {
    assertEquals(ClientExceptionType.InvalidValues,e.getType());
  }
}

</code></pre>

<pre class="type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=SyncopeClientException.class) public void createWithInvalidPasswordByRes(){
  UserTO userTO=getSampleTO("invalidPwdByRes@passwd.com");
  userTO.setPassword("password1");
  userTO.getResources().add(RESOURCE_NAME_NOPROPAGATION);
  createUser(userTO);
}

</code></pre>

<pre class="type-5 type-15 type-6 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void issueSYNCOPE265(){
  for (long key=1; key <= 5; key++) {
    UserPatch userPatch=new UserPatch();
    userPatch.setKey(key);
    userPatch.getPlainAttrs().add(attrAddReplacePatch("type","a type"));
    UserTO userTO=updateUser(userPatch).getAny();
    assertEquals("a type",userTO.getPlainAttrMap().get("type").getValues().get(0));
  }
}

</code></pre>

<pre class="type-5 type-1 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void createUserWithNoPropagation(){
  PagedResult<PropagationTaskTO> tasks=taskService.list(new TaskQuery.Builder().type(TaskType.PROPAGATION).page(1).size(1).build());
  assertNotNull(tasks);
  assertFalse(tasks.getResult().isEmpty());
  long maxKey=tasks.getResult().iterator().next().getKey();
  UserTO userTO=getUniqueSampleTO("xxx@xxx.xxx");
  userTO.setPassword("password123");
  userTO.getResources().add(RESOURCE_NAME_NOPROPAGATION);
  createUser(userTO);
  tasks=taskService.list(new TaskQuery.Builder().type(TaskType.PROPAGATION).page(1).size(1).build());
  assertNotNull(tasks);
  assertFalse(tasks.getResult().isEmpty());
  long newMaxKey=tasks.getResult().iterator().next().getKey();
  assertTrue(newMaxKey > maxKey);
  PropagationTaskTO taskTO=taskService.read(newMaxKey,true);
  assertNotNull(taskTO);
  assertFalse(taskTO.getExecutions().isEmpty());
  assertEquals(PropagationTaskExecStatus.NOT_ATTEMPTED.name(),taskTO.getExecutions().get(0).getStatus());
}

</code></pre>

<pre class="type-5 type-4 type-1 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void issueSYNCOPE626(){
  PasswordPolicyTO passwordPolicy=new PasswordPolicyTO();
  passwordPolicy.setDescription("Password Policy for SYNCOPE-626");
  DefaultPasswordRuleConf ruleConf=new DefaultPasswordRuleConf();
  ruleConf.setUsernameAllowed(false);
  passwordPolicy.getRuleConfs().add(ruleConf);
  passwordPolicy=createPolicy(passwordPolicy);
  assertNotNull(passwordPolicy);
  RealmTO realm=realmService.list("/even/two").get(0);
  Long oldPasswordPolicy=realm.getPasswordPolicy();
  realm.setPasswordPolicy(passwordPolicy.getKey());
  realmService.update(realm);
  try {
    UserTO user=getUniqueSampleTO("syncope626@syncope.apache.org");
    user.setRealm(realm.getFullPath());
    user.setPassword(user.getUsername());
    try {
      createUser(user);
      fail();
    }
 catch (    SyncopeClientException e) {
      assertEquals(ClientExceptionType.InvalidUser,e.getType());
      assertTrue(e.getElements().iterator().next().startsWith("InvalidPassword"));
    }
    user.setPassword("password123");
    user=createUser(user).getAny();
    assertNotNull(user);
  }
  finally {
    realm.setPasswordPolicy(oldPasswordPolicy);
    realmService.update(realm);
    policyService.delete(passwordPolicy.getKey());
  }
}

</code></pre>

<pre class="type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=SyncopeClientException.class) public void createWithInvalidPasswordByGroup(){
  UserTO userTO=getSampleTO("invalidPwdByGroup@passwd.com");
  userTO.setPassword("password1");
  userTO.getMemberships().add(new MembershipTO.Builder().group(8L).build());
  createUser(userTO);
}

</code></pre>

<pre class="type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=SyncopeClientException.class) public void createWithInvalidPassword(){
  UserTO userTO=getSampleTO("invalidpasswd@syncope.apache.org");
  userTO.setPassword("pass");
  createUser(userTO);
}

</code></pre>

<pre class="type-5 type-4 type-1 type-6 type-14 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void customPolicyRules(){
  Assume.assumeTrue(MediaType.APPLICATION_JSON_TYPE.equals(clientFactory.getContentType().getMediaType()));
  AccountPolicyTO accountPolicy=new AccountPolicyTO();
  accountPolicy.setDescription("Account Policy with custom rules");
  accountPolicy.getRuleConfs().add(new TestAccountRuleConf());
  accountPolicy=createPolicy(accountPolicy);
  assertNotNull(accountPolicy);
  PasswordPolicyTO passwordPolicy=new PasswordPolicyTO();
  passwordPolicy.setDescription("Password Policy with custom rules");
  passwordPolicy.getRuleConfs().add(new TestPasswordRuleConf());
  passwordPolicy=createPolicy(passwordPolicy);
  assertNotNull(passwordPolicy);
  RealmTO realm=realmService.list("/even/two").get(0);
  Long oldAccountPolicy=realm.getAccountPolicy();
  realm.setAccountPolicy(accountPolicy.getKey());
  Long oldPasswordPolicy=realm.getPasswordPolicy();
  realm.setPasswordPolicy(passwordPolicy.getKey());
  realmService.update(realm);
  try {
    UserTO user=getUniqueSampleTO("custompolicyrules@syncope.apache.org");
    user.setRealm(realm.getFullPath());
    try {
      createUser(user);
      fail();
    }
 catch (    SyncopeClientException e) {
      assertEquals(ClientExceptionType.InvalidUser,e.getType());
      assertTrue(e.getElements().iterator().next().startsWith("InvalidPassword"));
    }
    user.setPassword(user.getPassword() + "XXX");
    try {
      createUser(user);
      fail();
    }
 catch (    SyncopeClientException e) {
      assertEquals(ClientExceptionType.InvalidUser,e.getType());
      assertTrue(e.getElements().iterator().next().startsWith("InvalidUsername"));
    }
    user.setUsername("YYY" + user.getUsername());
    user=createUser(user).getAny();
    assertNotNull(user);
  }
  finally {
    realm.setAccountPolicy(oldAccountPolicy);
    realm.setPasswordPolicy(oldPasswordPolicy);
    realmService.update(realm);
    policyService.delete(passwordPolicy.getKey());
    policyService.delete(accountPolicy.getKey());
  }
}

</code></pre>

<pre class="type-5 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void updateMultivalueAttribute(){
  UserTO userTO=getUniqueSampleTO("multivalue@syncope.apache.org");
  userTO.getResources().clear();
  userTO.getDerAttrs().clear();
  userTO.getVirAttrs().clear();
  userTO=createUser(userTO).getAny();
  assertNotNull(userTO);
  AttrTO loginDate=userTO.getPlainAttrMap().get("loginDate");
  assertNotNull(loginDate);
  assertEquals(1,loginDate.getValues().size());
  UserPatch userPatch=new UserPatch();
  userPatch.setKey(userTO.getKey());
  loginDate.getValues().add("2000-01-01");
  userPatch.getPlainAttrs().add(new AttrPatch.Builder().operation(PatchOperation.ADD_REPLACE).attrTO(loginDate).build());
  userTO=updateUser(userPatch).getAny();
  assertNotNull(userTO);
  loginDate=userTO.getPlainAttrMap().get("loginDate");
  assertNotNull(loginDate);
  assertEquals(2,loginDate.getValues().size());
}

</code></pre>

<pre class="type-5 type-6 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void issueSYNCOPE266(){
  UserTO userTO=getUniqueSampleTO("syncope266@apache.org");
  userTO.getResources().clear();
  userTO=createUser(userTO).getAny();
  assertNotNull(userTO);
  UserPatch userPatch=new UserPatch();
  userPatch.setKey(userTO.getKey());
  userPatch.getResources().add(new StringPatchItem.Builder().operation(PatchOperation.ADD_REPLACE).value(RESOURCE_NAME_UPDATE).build());
  userTO=updateUser(userPatch).getAny();
  assertNotNull(userTO);
}

</code></pre>

<pre class="type-5 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void suspendReactivate(){
  UserTO userTO=getUniqueSampleTO("suspendReactivate@syncope.apache.org");
  userTO.getMemberships().add(new MembershipTO.Builder().group(7L).build());
  userTO=createUser(userTO).getAny();
  assertNotNull(userTO);
  assertEquals(ActivitiDetector.isActivitiEnabledForUsers(syncopeService) ? "active" : "created",userTO.getStatus());
  StatusPatch statusPatch=new StatusPatch();
  statusPatch.setKey(userTO.getKey());
  statusPatch.setType(StatusPatchType.SUSPEND);
  userTO=userService.status(statusPatch).readEntity(new GenericType<ProvisioningResult<UserTO>>(){
  }
).getAny();
  assertNotNull(userTO);
  assertEquals("suspended",userTO.getStatus());
  statusPatch=new StatusPatch();
  statusPatch.setKey(userTO.getKey());
  statusPatch.setType(StatusPatchType.REACTIVATE);
  userTO=userService.status(statusPatch).readEntity(new GenericType<ProvisioningResult<UserTO>>(){
  }
).getAny();
  assertNotNull(userTO);
  assertEquals("active",userTO.getStatus());
}

</code></pre>

<pre class="type-5 type-1 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void issueSYNCOPE122(){
  UserTO userTO=getUniqueSampleTO("syncope122@apache.org");
  userTO.getResources().clear();
  userTO.getResources().add(RESOURCE_NAME_TESTDB);
  userTO.getResources().add(RESOURCE_NAME_TESTDB2);
  userTO=createUser(userTO).getAny();
  assertNotNull(userTO);
  assertTrue(userTO.getResources().contains(RESOURCE_NAME_TESTDB));
  assertTrue(userTO.getResources().contains(RESOURCE_NAME_TESTDB2));
  final String pwdOnSyncope=userTO.getPassword();
  ConnObjectTO userOnDb=resourceService.readConnObject(RESOURCE_NAME_TESTDB,AnyTypeKind.USER.name(),userTO.getKey());
  final AttrTO pwdOnTestDbAttr=userOnDb.getPlainAttrMap().get(OperationalAttributes.PASSWORD_NAME);
  assertNotNull(pwdOnTestDbAttr);
  assertNotNull(pwdOnTestDbAttr.getValues());
  assertFalse(pwdOnTestDbAttr.getValues().isEmpty());
  final String pwdOnTestDb=pwdOnTestDbAttr.getValues().iterator().next();
  ConnObjectTO userOnDb2=resourceService.readConnObject(RESOURCE_NAME_TESTDB2,AnyTypeKind.USER.name(),userTO.getKey());
  final AttrTO pwdOnTestDb2Attr=userOnDb2.getPlainAttrMap().get(OperationalAttributes.PASSWORD_NAME);
  assertNotNull(pwdOnTestDb2Attr);
  assertNotNull(pwdOnTestDb2Attr.getValues());
  assertFalse(pwdOnTestDb2Attr.getValues().isEmpty());
  final String pwdOnTestDb2=pwdOnTestDb2Attr.getValues().iterator().next();
  UserPatch userPatch=new UserPatch();
  userPatch.setKey(userTO.getKey());
  userPatch.setPassword(new PasswordPatch.Builder().value(getUUIDString()).onSyncope(false).resource(RESOURCE_NAME_TESTDB).build());
  ProvisioningResult<UserTO> result=updateUser(userPatch);
  userTO=result.getAny();
  assertNotNull(result.getPropagationStatuses());
  assertEquals(1,result.getPropagationStatuses().size());
  assertEquals(RESOURCE_NAME_TESTDB,result.getPropagationStatuses().iterator().next().getResource());
  assertEquals(pwdOnSyncope,userTO.getPassword());
  userOnDb=resourceService.readConnObject(RESOURCE_NAME_TESTDB,AnyTypeKind.USER.name(),userTO.getKey());
  final AttrTO pwdOnTestDbAttrAfter=userOnDb.getPlainAttrMap().get(OperationalAttributes.PASSWORD_NAME);
  assertNotNull(pwdOnTestDbAttrAfter);
  assertNotNull(pwdOnTestDbAttrAfter.getValues());
  assertFalse(pwdOnTestDbAttrAfter.getValues().isEmpty());
  assertNotEquals(pwdOnTestDb,pwdOnTestDbAttrAfter.getValues().iterator().next());
  userOnDb2=resourceService.readConnObject(RESOURCE_NAME_TESTDB2,AnyTypeKind.USER.name(),userTO.getKey());
  final AttrTO pwdOnTestDb2AttrAfter=userOnDb2.getPlainAttrMap().get(OperationalAttributes.PASSWORD_NAME);
  assertNotNull(pwdOnTestDb2AttrAfter);
  assertNotNull(pwdOnTestDb2AttrAfter.getValues());
  assertFalse(pwdOnTestDb2AttrAfter.getValues().isEmpty());
  assertEquals(pwdOnTestDb2,pwdOnTestDb2AttrAfter.getValues().iterator().next());
}

</code></pre>

<pre class="type-5 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void issueSYNCOPE493(){
  UserTO userTO=getUniqueSampleTO("issueSYNCOPE493@test.org");
  userTO.getResources().add(RESOURCE_NAME_WS1);
  ProvisioningResult<UserTO> result=createUser(userTO);
  assertNotNull(userTO);
  assertEquals(1,result.getPropagationStatuses().size());
  assertEquals(PropagationTaskExecStatus.SUCCESS,result.getPropagationStatuses().get(0).getStatus());
  userTO=result.getAny();
  ConnObjectTO actual=resourceService.readConnObject(RESOURCE_NAME_WS1,AnyTypeKind.USER.name(),userTO.getKey());
  assertNotNull(actual);
  assertNull(actual.getPlainAttrMap().get("NAME"));
  ResourceTO ws1=resourceService.read(RESOURCE_NAME_WS1);
  assertNotNull(ws1);
  MappingTO ws1NewUMapping=ws1.getProvision(AnyTypeKind.USER.name()).getMapping();
  for (  MappingItemTO itemTO : ws1NewUMapping.getItems()) {
    if ("firstname".equals(itemTO.getIntAttrName())) {
      itemTO.setPurpose(MappingPurpose.BOTH);
    }
  }
  ws1.getProvision(AnyTypeKind.USER.name()).setMapping(ws1NewUMapping);
  resourceService.update(ws1);
  ResourceTO newWs1=resourceService.read(ws1.getKey());
  assertNotNull(newWs1);
  Collection<MappingItemTO> mapItems=newWs1.getProvision(AnyTypeKind.USER.name()).getMapping().getItems();
  assertNotNull(mapItems);
  assertEquals(7,mapItems.size());
  UserPatch userPatch=new UserPatch();
  userPatch.setKey(userTO.getKey());
  userPatch.setPassword(new PasswordPatch());
  userPatch.getPlainAttrs().add(attrAddReplacePatch("firstname","firstnameNew"));
  result=updateUser(userPatch);
  assertNotNull(userTO);
  assertEquals(1,result.getPropagationStatuses().size());
  assertEquals(PropagationTaskExecStatus.SUCCESS,result.getPropagationStatuses().get(0).getStatus());
  userTO=result.getAny();
  ConnObjectTO newUser=resourceService.readConnObject(RESOURCE_NAME_WS1,AnyTypeKind.USER.name(),userTO.getKey());
  assertNotNull(newUser.getPlainAttrMap().get("NAME"));
  assertEquals("firstnameNew",newUser.getPlainAttrMap().get("NAME").getValues().get(0));
  ws1NewUMapping=newWs1.getProvision(AnyTypeKind.USER.name()).getMapping();
  for (  MappingItemTO itemTO : ws1NewUMapping.getItems()) {
    if ("firstname".equals(itemTO.getIntAttrName())) {
      itemTO.setPurpose(MappingPurpose.NONE);
    }
  }
  newWs1.getProvision(AnyTypeKind.USER.name()).setMapping(ws1NewUMapping);
  resourceService.update(newWs1);
}

</code></pre>

<pre class="type-5 type-4 type-1 type-6 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void deprovisionUnlinked(){
  UserTO userTO=getUniqueSampleTO("provision@syncope.apache.org");
  userTO.getResources().clear();
  userTO.getMemberships().clear();
  userTO.getDerAttrs().clear();
  userTO.getVirAttrs().clear();
  userTO.getAuxClasses().add("csv");
  userTO.getDerAttrs().add(attrTO("csvuserid",null));
  UserTO actual=createUser(userTO).getAny();
  assertNotNull(actual);
  assertTrue(actual.getResources().isEmpty());
  try {
    resourceService.readConnObject(RESOURCE_NAME_CSV,AnyTypeKind.USER.name(),actual.getKey());
    fail();
  }
 catch (  Exception e) {
    assertNotNull(e);
  }
  AssociationPatch associationPatch=new AssociationPatch();
  associationPatch.setKey(actual.getKey());
  associationPatch.setValue("password");
  associationPatch.setAction(ResourceAssociationAction.PROVISION);
  associationPatch.getResources().add(RESOURCE_NAME_CSV);
  assertNotNull(userService.associate(associationPatch).readEntity(BulkActionResult.class));
  actual=userService.read(actual.getKey());
  assertNotNull(actual);
  assertTrue(actual.getResources().isEmpty());
  assertNotNull(resourceService.readConnObject(RESOURCE_NAME_CSV,AnyTypeKind.USER.name(),actual.getKey()));
  DeassociationPatch deassociationPatch=new DeassociationPatch();
  deassociationPatch.setKey(actual.getKey());
  deassociationPatch.setAction(ResourceDeassociationAction.DEPROVISION);
  deassociationPatch.getResources().add(RESOURCE_NAME_CSV);
  assertNotNull(userService.deassociate(deassociationPatch).readEntity(BulkActionResult.class));
  actual=userService.read(actual.getKey());
  assertNotNull(actual);
  assertTrue(actual.getResources().isEmpty());
  try {
    resourceService.readConnObject(RESOURCE_NAME_CSV,AnyTypeKind.USER.name(),actual.getKey());
    fail();
  }
 catch (  Exception e) {
    assertNotNull(e);
  }
}

</code></pre>

<pre class="type-5 type-1 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void deleteByUsername(){
  UserTO userTO=getSampleTO("delete.by.username@apache.org");
  userTO.getResources().add(RESOURCE_NAME_TESTDB);
  userTO=createUser(userTO).getAny();
  long key=userTO.getKey();
  userTO=userService.read(key);
  ProvisioningResult<UserTO> result=deleteUser(userTO.getKey());
  assertNotNull(result);
  userTO=result.getAny();
  assertEquals(key,userTO.getKey(),0);
  assertTrue(userTO.getPlainAttrs().isEmpty());
  assertFalse(result.getPropagationStatuses().isEmpty());
  assertEquals(PropagationTaskExecStatus.SUCCESS,result.getPropagationStatuses().get(0).getStatus());
  try {
    userService.read(userTO.getKey());
  }
 catch (  SyncopeClientException e) {
    assertEquals(Response.Status.NOT_FOUND,e.getType().getResponseStatus());
  }
}

</code></pre>

<pre class="type-1 type-6 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void read(){
  UserTO userTO=userService.read(1L);
  assertNotNull(userTO);
  assertNull(userTO.getPassword());
  assertNotNull(userTO.getPlainAttrs());
  assertFalse(userTO.getPlainAttrs().isEmpty());
}

</code></pre>

<pre class="type-5 type-6 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void mappingPurpose(){
  UserTO userTO=getUniqueSampleTO("mpurpose@apache.org");
  userTO.getAuxClasses().add("csv");
  AttrTO csvuserid=new AttrTO();
  csvuserid.setSchema("csvuserid");
  userTO.getDerAttrs().add(csvuserid);
  userTO.getResources().clear();
  userTO.getResources().add(RESOURCE_NAME_CSV);
  userTO=createUser(userTO).getAny();
  assertNotNull(userTO);
  ConnObjectTO connObjectTO=resourceService.readConnObject(RESOURCE_NAME_CSV,AnyTypeKind.USER.name(),userTO.getKey());
  assertNull(connObjectTO.getPlainAttrMap().get("email"));
}

</code></pre>

<pre class="type-5 type-4 type-1 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void create(){
  PagedResult<PropagationTaskTO> tasks=taskService.list(new TaskQuery.Builder().type(TaskType.PROPAGATION).page(1).size(1).build());
  assertNotNull(tasks);
  assertFalse(tasks.getResult().isEmpty());
  long maxKey=tasks.getResult().iterator().next().getKey();
  PropagationTaskTO taskTO=taskService.read(maxKey,true);
  assertNotNull(taskTO);
  int maxTaskExecutions=taskTO.getExecutions().size();
  UserTO userTO=getUniqueSampleTO("a.b@c.com");
  userTO.getMemberships().add(new MembershipTO.Builder().group(8L).build());
  AttrTO attrWithInvalidSchemaTO=attrTO("invalid schema","a value");
  userTO.getPlainAttrs().add(attrWithInvalidSchemaTO);
  userTO.getPlainAttrs().add(attrTO("activationDate",null));
  UserTO newUserTO=createUser(userTO).getAny();
  assertNotNull(newUserTO);
  assertNotNull(newUserTO.getCreationDate());
  assertNotNull(newUserTO.getCreator());
  assertNotNull(newUserTO.getLastChangeDate());
  assertNotNull(newUserTO.getLastModifier());
  assertEquals(newUserTO.getCreationDate(),newUserTO.getLastChangeDate());
  assertFalse(newUserTO.getPlainAttrs().contains(attrWithInvalidSchemaTO));
  assertNotNull(newUserTO.getCreationDate());
  tasks=taskService.list(new TaskQuery.Builder().type(TaskType.PROPAGATION).page(1).size(1).build());
  assertNotNull(tasks);
  assertFalse(tasks.getResult().isEmpty());
  long newMaxKey=tasks.getResult().iterator().next().getKey();
  assertEquals(newMaxKey,maxKey);
  taskTO=taskService.read(newMaxKey,true);
  assertNotNull(taskTO);
  assertEquals(maxTaskExecutions,taskTO.getExecutions().size());
  try {
    Pair<Map<String,Set<String>>,UserTO> self=clientFactory.create(newUserTO.getUsername(),"password123").self();
    assertNotNull(self);
  }
 catch (  AccessControlException e) {
    fail("Credentials should be valid and not cause AccessControlException");
  }
  UserSelfService userSelfService2=clientFactory.create(newUserTO.getUsername(),"passwordXX").getService(UserSelfService.class);
  try {
    userSelfService2.read();
    fail("Credentials are invalid, thus request should raise AccessControlException");
  }
 catch (  AccessControlException e) {
    assertNotNull(e);
  }
  userTO=getSampleTO(userTO.getUsername());
  AttrTO userIdAttr=userTO.getPlainAttrMap().get("userId");
  userIdAttr.getValues().clear();
  userIdAttr.getValues().add("a.b@c.com");
  try {
    createUser(userTO);
    fail();
  }
 catch (  SyncopeClientException e) {
    assertEquals(ClientExceptionType.GenericPersistence,e.getType());
  }
}

</code></pre>

<pre class="type-5 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void isseSYNCOPE136AES(){
  AttrTO pwdCipherAlgo=configurationService.get("password.cipher.algorithm");
  final String origpwdCipherAlgo=pwdCipherAlgo.getValues().get(0);
  pwdCipherAlgo.getValues().set(0,"AES");
  configurationService.set(pwdCipherAlgo);
  try {
    UserTO userTO=getUniqueSampleTO("syncope136_AES@apache.org");
    userTO.getResources().clear();
    userTO=createUser(userTO).getAny();
    assertNotNull(userTO);
    UserPatch userPatch=new UserPatch();
    userPatch.setKey(userTO.getKey());
    userPatch.getResources().add(new StringPatchItem.Builder().operation(PatchOperation.ADD_REPLACE).value(RESOURCE_NAME_WS1).build());
    userPatch.setPassword(new PasswordPatch.Builder().onSyncope(false).resource(RESOURCE_NAME_WS1).build());
    ProvisioningResult<UserTO> result=updateUser(userPatch);
    assertNotNull(result);
    userTO=result.getAny();
    assertNotNull(userTO);
    List<PropagationStatus> props=result.getPropagationStatuses();
    assertNotNull(props);
    assertEquals(1,props.size());
    PropagationStatus prop=props.iterator().next();
    assertNotNull(prop);
    assertEquals(RESOURCE_NAME_WS1,prop.getResource());
    assertEquals(PropagationTaskExecStatus.SUCCESS,prop.getStatus());
  }
  finally {
    pwdCipherAlgo.getValues().set(0,origpwdCipherAlgo);
    configurationService.set(pwdCipherAlgo);
  }
}

</code></pre>

<pre class="type-5 type-6 type-10 type-12 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=SyncopeClientException.class) public void updateSamePassword(){
  UserTO userTO=getUniqueSampleTO("updatesame@password.com");
  userTO.setRealm("/even/two");
  userTO=createUser(userTO).getAny();
  assertNotNull(userTO);
  UserPatch userPatch=new UserPatch();
  userPatch.setKey(userTO.getKey());
  userPatch.setPassword(new PasswordPatch.Builder().value("password123").build());
  userService.update(userPatch);
}

</code></pre>

<pre class="type-5 type-1 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void suspendReactivateOnResource(){
  ResourceTO dbTable=resourceService.read(RESOURCE_NAME_TESTDB);
  assertNotNull(dbTable);
  ResourceTO ldap=resourceService.read(RESOURCE_NAME_LDAP);
  assertNotNull(ldap);
  UserTO userTO=getUniqueSampleTO("suspreactonresource@syncope.apache.org");
  userTO.getMemberships().clear();
  userTO.getResources().clear();
  userTO.getResources().add(RESOURCE_NAME_TESTDB);
  userTO.getResources().add(RESOURCE_NAME_LDAP);
  userTO=createUser(userTO).getAny();
  assertNotNull(userTO);
  assertEquals(ActivitiDetector.isActivitiEnabledForUsers(syncopeService) ? "active" : "created",userTO.getStatus());
  long userKey=userTO.getKey();
  StatusPatch statusPatch=new StatusPatch();
  statusPatch.setKey(userKey);
  statusPatch.setType(StatusPatchType.SUSPEND);
  statusPatch.setOnSyncope(true);
  statusPatch.getResources().add(RESOURCE_NAME_TESTDB);
  statusPatch.getResources().add(RESOURCE_NAME_LDAP);
  userTO=userService.status(statusPatch).readEntity(new GenericType<ProvisioningResult<UserTO>>(){
  }
).getAny();
  assertNotNull(userTO);
  assertEquals("suspended",userTO.getStatus());
  ConnObjectTO connObjectTO=resourceService.readConnObject(RESOURCE_NAME_TESTDB,AnyTypeKind.USER.name(),userKey);
  assertFalse(getBooleanAttribute(connObjectTO,OperationalAttributes.ENABLE_NAME));
  connObjectTO=resourceService.readConnObject(RESOURCE_NAME_LDAP,AnyTypeKind.USER.name(),userKey);
  assertNotNull(connObjectTO);
  statusPatch=new StatusPatch();
  statusPatch.setKey(userKey);
  statusPatch.setType(StatusPatchType.SUSPEND);
  statusPatch.setOnSyncope(false);
  statusPatch.getResources().add(RESOURCE_NAME_LDAP);
  userService.status(statusPatch);
  statusPatch.setType(StatusPatchType.REACTIVATE);
  userTO=userService.status(statusPatch).readEntity(new GenericType<ProvisioningResult<UserTO>>(){
  }
).getAny();
  assertNotNull(userTO);
  assertEquals("suspended",userTO.getStatus());
  connObjectTO=resourceService.readConnObject(RESOURCE_NAME_TESTDB,AnyTypeKind.USER.name(),userKey);
  assertFalse(getBooleanAttribute(connObjectTO,OperationalAttributes.ENABLE_NAME));
  statusPatch=new StatusPatch();
  statusPatch.setKey(userKey);
  statusPatch.setType(StatusPatchType.REACTIVATE);
  statusPatch.setOnSyncope(true);
  statusPatch.getResources().add(RESOURCE_NAME_TESTDB);
  userTO=userService.status(statusPatch).readEntity(new GenericType<ProvisioningResult<UserTO>>(){
  }
).getAny();
  assertNotNull(userTO);
  assertEquals("active",userTO.getStatus());
  connObjectTO=resourceService.readConnObject(RESOURCE_NAME_TESTDB,AnyTypeKind.USER.name(),userKey);
  assertTrue(getBooleanAttribute(connObjectTO,OperationalAttributes.ENABLE_NAME));
}

</code></pre>

<pre class="type-5 type-1 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void verifyTaskRegistration(){
  PagedResult<PropagationTaskTO> tasks=taskService.list(new TaskQuery.Builder().type(TaskType.PROPAGATION).page(1).size(1).build());
  assertNotNull(tasks);
  assertFalse(tasks.getResult().isEmpty());
  long maxKey=tasks.getResult().iterator().next().getKey();
  UserTO userTO=getUniqueSampleTO("t@p.mode");
  userTO.getMemberships().add(new MembershipTO.Builder().group(8L).build());
  userTO=createUser(userTO).getAny();
  assertNotNull(userTO);
  tasks=taskService.list(new TaskQuery.Builder().type(TaskType.PROPAGATION).page(1).size(1).build());
  assertNotNull(tasks);
  assertFalse(tasks.getResult().isEmpty());
  long newMaxKey=tasks.getResult().iterator().next().getKey();
  assertEquals(newMaxKey,maxKey);
  UserPatch userPatch=new UserPatch();
  userPatch.setKey(userTO.getKey());
  userPatch.getPlainAttrs().add(attrAddReplacePatch("surname","surname2"));
  userTO=updateUser(userPatch).getAny();
  assertNotNull(userTO);
  tasks=taskService.list(new TaskQuery.Builder().type(TaskType.PROPAGATION).page(1).size(1).build());
  maxKey=newMaxKey;
  newMaxKey=tasks.getResult().iterator().next().getKey();
  assertTrue(newMaxKey > maxKey);
  PropagationTaskTO taskTO=taskService.read(newMaxKey,true);
  assertNotNull(taskTO);
  assertEquals(1,taskTO.getExecutions().size());
  userService.delete(userTO.getKey());
  tasks=taskService.list(new TaskQuery.Builder().type(TaskType.PROPAGATION).page(1).size(1).build());
  maxKey=newMaxKey;
  newMaxKey=tasks.getResult().iterator().next().getKey();
  assertEquals(newMaxKey,maxKey);
}

</code></pre>

<pre class="type-5 type-4 type-1 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void issue186(){
  UserTO userTO=new UserTO();
  userTO.setRealm(SyncopeConstants.ROOT_REALM);
  String userId=getUUIDString() + "issue186@syncope.apache.org";
  userTO.setUsername(userId);
  userTO.setPassword("password123");
  userTO.getPlainAttrs().add(attrTO("userId",userId));
  userTO.getPlainAttrs().add(attrTO("fullname",userId));
  userTO.getPlainAttrs().add(attrTO("surname",userId));
  userTO=createUser(userTO).getAny();
  assertNotNull(userTO);
  assertTrue(userTO.getResources().isEmpty());
  UserPatch userPatch=new UserPatch();
  userPatch.setKey(userTO.getKey());
  userPatch.setPassword(new PasswordPatch.Builder().value("newPassword123").build());
  userPatch.getResources().add(new StringPatchItem.Builder().operation(PatchOperation.ADD_REPLACE).value(RESOURCE_NAME_WS2).build());
  try {
    userTO=updateUser(userPatch).getAny();
    fail();
  }
 catch (  SyncopeClientException e) {
    assertEquals(ClientExceptionType.RequiredValuesMissing,e.getType());
  }
  userPatch=new UserPatch();
  userPatch.setKey(userTO.getKey());
  userPatch.setPassword(new PasswordPatch.Builder().value("newPassword123").build());
  userPatch.getResources().add(new StringPatchItem.Builder().operation(PatchOperation.ADD_REPLACE).value(RESOURCE_NAME_WS1).build());
  ProvisioningResult<UserTO> result=updateUser(userPatch);
  assertNotNull(result.getPropagationStatuses().get(0).getFailureReason());
  userTO=result.getAny();
  userPatch=new UserPatch();
  userPatch.setKey(userTO.getKey());
  userPatch.setPassword(new PasswordPatch.Builder().value("newPassword123456").build());
  userPatch.getResources().add(new StringPatchItem.Builder().operation(PatchOperation.ADD_REPLACE).value(RESOURCE_NAME_CSV).build());
  updateUser(userPatch);
}

</code></pre>

<pre class="type-5 type-4 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void enforceMandatoryConditionOnDerived(){
  ResourceTO resourceTO=resourceService.read(RESOURCE_NAME_CSV);
  assertNotNull(resourceTO);
  resourceTO.setKey("resource-csv-enforcing");
  resourceTO.setEnforceMandatoryCondition(true);
  Response response=resourceService.create(resourceTO);
  resourceTO=getObject(response.getLocation(),ResourceService.class,ResourceTO.class);
  assertNotNull(resourceTO);
  try {
    UserTO userTO=getUniqueSampleTO("syncope222@apache.org");
    userTO.getResources().add(resourceTO.getKey());
    userTO.setPassword("newPassword12");
    try {
      userTO=createUser(userTO).getAny();
      fail();
    }
 catch (    SyncopeClientException e) {
      assertEquals(ClientExceptionType.RequiredValuesMissing,e.getType());
    }
    userTO.getAuxClasses().add("csv");
    userTO.getDerAttrs().add(new AttrTO.Builder().schema("csvuserid").build());
    userTO=createUser(userTO).getAny();
    assertNotNull(userTO);
    assertEquals(Collections.singleton(resourceTO.getKey()),userTO.getResources());
  }
  finally {
    resourceService.delete(resourceTO.getKey());
  }
}

</code></pre>

<pre class="type-5 type-1 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void issueSYNCOPE505DB() throws Exception {
  UserTO user=UserITCase.getUniqueSampleTO("syncope505-db@syncope.apache.org");
  user.setPassword("security123");
  user=createUser(user).getAny();
  assertNotNull(user);
  assertTrue(user.getResources().isEmpty());
  ResourceTO resourceTO=resourceService.read(RESOURCE_NAME_TESTDB);
  assertNotNull(resourceTO);
  resourceTO.getPropagationActionsClassNames().add(DBPasswordPropagationActions.class.getName());
  resourceService.update(resourceTO);
  UserPatch userPatch=new UserPatch();
  userPatch.setKey(user.getKey());
  userPatch.getResources().add(new StringPatchItem.Builder().operation(PatchOperation.ADD_REPLACE).value(RESOURCE_NAME_TESTDB).build());
  userPatch.setPassword(new PasswordPatch.Builder().onSyncope(false).resource(RESOURCE_NAME_TESTDB).build());
  user=updateUser(userPatch).getAny();
  assertNotNull(user);
  assertEquals(1,user.getResources().size());
  final JdbcTemplate jdbcTemplate=new JdbcTemplate(testDataSource);
  String value=jdbcTemplate.queryForObject("SELECT PASSWORD FROM test WHERE ID=?",String.class,user.getUsername());
  assertEquals(Encryptor.getInstance().encode("security123",CipherAlgorithm.SHA1),value.toUpperCase());
  resourceTO=resourceService.read(RESOURCE_NAME_TESTDB);
  assertNotNull(resourceTO);
  resourceTO.getPropagationActionsClassNames().remove(DBPasswordPropagationActions.class.getName());
  resourceService.update(resourceTO);
}

</code></pre>

<pre class="type-5 type-6 type-14 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void createActivate(){
  Assume.assumeTrue(ActivitiDetector.isActivitiEnabledForUsers(syncopeService));
  UserTO userTO=getUniqueSampleTO("createActivate@syncope.apache.org");
  userTO.getMemberships().add(new MembershipTO.Builder().group(11L).build());
  userTO=createUser(userTO).getAny();
  assertNotNull(userTO);
  assertNotNull(userTO.getToken());
  assertNotNull(userTO.getTokenExpireTime());
  assertEquals("created",userTO.getStatus());
  StatusPatch statusPatch=new StatusPatch();
  statusPatch.setKey(userTO.getKey());
  statusPatch.setType(StatusPatchType.ACTIVATE);
  statusPatch.setToken(userTO.getToken());
  userTO=userService.status(statusPatch).readEntity(new GenericType<ProvisioningResult<UserTO>>(){
  }
).getAny();
  assertNotNull(userTO);
  assertNull(userTO.getToken());
  assertNull(userTO.getTokenExpireTime());
  assertEquals("active",userTO.getStatus());
}

</code></pre>

<pre class="type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=SyncopeClientException.class) public void createWithException(){
  UserTO newUserTO=new UserTO();
  newUserTO.getPlainAttrs().add(attrTO("userId","userId@nowhere.org"));
  createUser(newUserTO);
}

</code></pre>

<pre class="type-5 type-1 type-6 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void issueSYNCOPE354(){
  ResourceTO ldap=resourceService.read(RESOURCE_NAME_LDAP);
  for (  MappingItemTO item : ldap.getProvision(AnyTypeKind.GROUP.name()).getMapping().getItems()) {
    if ("description".equals(item.getExtAttrName())) {
      item.setExtAttrName("uniqueMember");
    }
  }
  resourceService.update(ldap);
  GroupTO groupTO=new GroupTO();
  groupTO.setName("SYNCOPE354-" + getUUIDString());
  groupTO.setRealm("/");
  groupTO.getResources().add(RESOURCE_NAME_LDAP);
  groupTO=createGroup(groupTO).getAny();
  assertNotNull(groupTO);
  UserTO userTO=getUniqueSampleTO("syncope354@syncope.apache.org");
  userTO.getResources().add(RESOURCE_NAME_LDAP);
  userTO.getMemberships().add(new MembershipTO.Builder().group(groupTO.getKey()).build());
  userTO=createUser(userTO).getAny();
  assertTrue(userTO.getResources().contains(RESOURCE_NAME_LDAP));
  ConnObjectTO connObj=resourceService.readConnObject(RESOURCE_NAME_LDAP,AnyTypeKind.GROUP.name(),groupTO.getKey());
  assertNotNull(connObj);
  assertTrue(connObj.getPlainAttrMap().get("uniqueMember").getValues().contains("uid=" + userTO.getUsername() + ",ou=people,o=isp"));
  UserPatch userPatch=new UserPatch();
  userPatch.setKey(userTO.getKey());
  userPatch.getMemberships().add(new MembershipPatch.Builder().operation(PatchOperation.DELETE).membershipTO(userTO.getMemberships().get(0)).build());
  userTO=updateUser(userPatch).getAny();
  assertTrue(userTO.getResources().contains(RESOURCE_NAME_LDAP));
  connObj=resourceService.readConnObject(RESOURCE_NAME_LDAP,AnyTypeKind.GROUP.name(),groupTO.getKey());
  assertNotNull(connObj);
  assertFalse(connObj.getPlainAttrMap().get("uniqueMember").getValues().contains("uid=" + userTO.getUsername() + ",ou=people,o=isp"));
  for (  MappingItemTO item : ldap.getProvision(AnyTypeKind.GROUP.name()).getMapping().getItems()) {
    if ("uniqueMember".equals(item.getExtAttrName())) {
      item.setExtAttrName("description");
    }
  }
  resourceService.update(ldap);
}

</code></pre>

<pre class="type-5 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void issue281(){
  UserTO userTO=getUniqueSampleTO("issue281@syncope.apache.org");
  userTO.getResources().clear();
  userTO.getMemberships().clear();
  userTO.getDerAttrs().clear();
  userTO.getResources().add(RESOURCE_NAME_CSV);
  ProvisioningResult<UserTO> result=createUser(userTO);
  assertNotNull(result);
  List<PropagationStatus> propagations=result.getPropagationStatuses();
  assertNotNull(propagations);
  assertEquals(1,propagations.size());
  assertNotEquals(PropagationTaskExecStatus.SUCCESS,propagations.get(0).getStatus());
  String resource=propagations.get(0).getResource();
  assertEquals(RESOURCE_NAME_CSV,resource);
}

</code></pre>

<pre class="type-5 type-1 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void issueSYNCOPE505LDAP() throws Exception {
  UserTO user=UserITCase.getUniqueSampleTO("syncope505-ldap@syncope.apache.org");
  user.setPassword("security123");
  user=createUser(user).getAny();
  assertNotNull(user);
  assertTrue(user.getResources().isEmpty());
  ResourceTO resourceTO=resourceService.read(RESOURCE_NAME_LDAP);
  assertNotNull(resourceTO);
  resourceTO.getPropagationActionsClassNames().add(LDAPPasswordPropagationActions.class.getName());
  resourceTO.setRandomPwdIfNotProvided(false);
  resourceService.update(resourceTO);
  UserPatch userPatch=new UserPatch();
  userPatch.setKey(user.getKey());
  userPatch.getResources().add(new StringPatchItem.Builder().operation(PatchOperation.ADD_REPLACE).value(RESOURCE_NAME_LDAP).build());
  userPatch.setPassword(new PasswordPatch.Builder().onSyncope(false).resource(RESOURCE_NAME_LDAP).build());
  user=updateUser(userPatch).getAny();
  assertNotNull(user);
  assertEquals(1,user.getResources().size());
  ConnObjectTO connObject=resourceService.readConnObject(RESOURCE_NAME_LDAP,AnyTypeKind.USER.name(),user.getKey());
  assertNotNull(getLdapRemoteObject(connObject.getPlainAttrMap().get(Name.NAME).getValues().get(0),"security123",connObject.getPlainAttrMap().get(Name.NAME).getValues().get(0)));
  resourceTO=resourceService.read(RESOURCE_NAME_LDAP);
  assertNotNull(resourceTO);
  resourceTO.getPropagationActionsClassNames().remove(LDAPPasswordPropagationActions.class.getName());
  resourceTO.setRandomPwdIfNotProvided(true);
  resourceService.update(resourceTO);
}

</code></pre>

<pre class="type-5 type-4 type-1 type-6 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void link(){
  UserTO userTO=getUniqueSampleTO("link@syncope.apache.org");
  userTO.getResources().clear();
  userTO.getMemberships().clear();
  userTO.getDerAttrs().clear();
  userTO.getVirAttrs().clear();
  userTO.getAuxClasses().add("csv");
  userTO.getDerAttrs().add(attrTO("csvuserid",null));
  UserTO actual=createUser(userTO).getAny();
  assertNotNull(actual);
  assertTrue(actual.getResources().isEmpty());
  try {
    resourceService.readConnObject(RESOURCE_NAME_CSV,AnyTypeKind.USER.name(),actual.getKey());
    fail();
  }
 catch (  Exception e) {
    assertNotNull(e);
  }
  AssociationPatch associationPatch=new AssociationPatch();
  associationPatch.setKey(actual.getKey());
  associationPatch.setAction(ResourceAssociationAction.LINK);
  associationPatch.getResources().add(RESOURCE_NAME_CSV);
  assertNotNull(userService.associate(associationPatch).readEntity(BulkActionResult.class));
  actual=userService.read(actual.getKey());
  assertNotNull(actual);
  assertFalse(actual.getResources().isEmpty());
  try {
    resourceService.readConnObject(RESOURCE_NAME_CSV,AnyTypeKind.USER.name(),actual.getKey());
    fail();
  }
 catch (  Exception e) {
    assertNotNull(e);
  }
}

</code></pre>

<pre class="type-5 type-1 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void delete(){
  try {
    userService.delete(0L);
  }
 catch (  SyncopeClientException e) {
    assertEquals(Response.Status.NOT_FOUND,e.getType().getResponseStatus());
  }
  UserTO userTO=getSampleTO("qqgf.z@nn.com");
  userTO.getResources().add(RESOURCE_NAME_TESTDB);
  userTO=createUser(userTO).getAny();
  long key=userTO.getKey();
  ProvisioningResult<UserTO> result=deleteUser(key);
  assertNotNull(result);
  userTO=result.getAny();
  assertEquals(key,userTO.getKey(),0);
  assertTrue(userTO.getPlainAttrs().isEmpty());
  assertFalse(result.getPropagationStatuses().isEmpty());
  assertEquals(PropagationTaskExecStatus.SUCCESS,result.getPropagationStatuses().get(0).getStatus());
  try {
    userService.delete(userTO.getKey());
  }
 catch (  SyncopeClientException e) {
    assertEquals(Response.Status.NOT_FOUND,e.getType().getResponseStatus());
  }
}

</code></pre>

<pre class="type-5 type-4 type-1 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void deprovision(){
  UserTO userTO=getUniqueSampleTO("deprovision@syncope.apache.org");
  userTO.getResources().clear();
  userTO.getMemberships().clear();
  userTO.getDerAttrs().clear();
  userTO.getVirAttrs().clear();
  userTO.getAuxClasses().add("csv");
  userTO.getDerAttrs().add(attrTO("csvuserid",null));
  userTO.getResources().add(RESOURCE_NAME_CSV);
  UserTO actual=createUser(userTO).getAny();
  assertNotNull(actual);
  assertNotNull(resourceService.readConnObject(RESOURCE_NAME_CSV,AnyTypeKind.USER.name(),actual.getKey()));
  DeassociationPatch deassociationPatch=new DeassociationPatch();
  deassociationPatch.setKey(actual.getKey());
  deassociationPatch.setAction(ResourceDeassociationAction.DEPROVISION);
  deassociationPatch.getResources().add(RESOURCE_NAME_CSV);
  assertNotNull(userService.deassociate(deassociationPatch).readEntity(BulkActionResult.class));
  actual=userService.read(actual.getKey());
  assertNotNull(actual);
  assertFalse(actual.getResources().isEmpty());
  try {
    resourceService.readConnObject(RESOURCE_NAME_CSV,AnyTypeKind.USER.name(),actual.getKey());
    fail();
  }
 catch (  SyncopeClientException e) {
    assertEquals(ClientExceptionType.NotFound,e.getType());
  }
}

</code></pre>

<pre class="type-5 type-6 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void bulkActions(){
  BulkAction bulkAction=new BulkAction();
  for (int i=0; i < 10; i++) {
    UserTO userTO=getUniqueSampleTO("bulk_" + i + "@apache.org");
    bulkAction.getTargets().add(String.valueOf(createUser(userTO).getAny().getKey()));
  }
  bulkAction.getTargets().add(String.valueOf(Long.MAX_VALUE));
  assertEquals(11,bulkAction.getTargets().size());
  bulkAction.setType(BulkAction.Type.SUSPEND);
  BulkActionResult res=userService.bulk(bulkAction);
  assertEquals(10,res.getResultByStatus(Status.SUCCESS).size());
  assertEquals(1,res.getResultByStatus(Status.FAILURE).size());
  assertEquals("suspended",userService.read(Long.parseLong(res.getResultByStatus(Status.SUCCESS).get(3))).getStatus());
  bulkAction.setType(BulkAction.Type.REACTIVATE);
  res=userService.bulk(bulkAction);
  assertEquals(10,res.getResultByStatus(Status.SUCCESS).size());
  assertEquals(1,res.getResultByStatus(Status.FAILURE).size());
  assertEquals("active",userService.read(Long.parseLong(res.getResultByStatus(Status.SUCCESS).get(3))).getStatus());
  bulkAction.setType(BulkAction.Type.DELETE);
  res=userService.bulk(bulkAction);
  assertEquals(10,res.getResultByStatus(Status.SUCCESS).size());
  assertEquals(1,res.getResultByStatus(Status.FAILURE).size());
}

</code></pre>

<pre class="type-5 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void issueSYNCOPE420(){
  RealmTO realm=realmService.list("/even/two").iterator().next();
  assertNotNull(realm);
  realm.getActionsClassNames().add(DoubleValueLogicActions.class.getName());
  realmService.update(realm);
  UserTO userTO=getUniqueSampleTO("syncope420@syncope.apache.org");
  userTO.setRealm(realm.getFullPath());
  userTO.getPlainAttrs().add(attrTO("makeItDouble","3"));
  userTO=createUser(userTO).getAny();
  assertEquals("6",userTO.getPlainAttrMap().get("makeItDouble").getValues().get(0));
  UserPatch userPatch=new UserPatch();
  userPatch.setKey(userTO.getKey());
  userPatch.getPlainAttrs().add(attrAddReplacePatch("makeItDouble","7"));
  userTO=updateUser(userPatch).getAny();
  assertEquals("14",userTO.getPlainAttrMap().get("makeItDouble").getValues().get(0));
}

</code></pre>

<pre class="type-5 type-6 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void issueSYNCOPE454() throws NamingException {
  UserTO userTO=getUniqueSampleTO("syncope454@syncope.apache.org");
  userTO.getResources().add(RESOURCE_NAME_LDAP);
  userTO=createUser(userTO).getAny();
  assertNotNull(userTO);
  ConnObjectTO connObject=resourceService.readConnObject(RESOURCE_NAME_LDAP,AnyTypeKind.USER.name(),userTO.getKey());
  assertNotNull(getLdapRemoteObject(connObject.getPlainAttrMap().get(Name.NAME).getValues().get(0),"password123",connObject.getPlainAttrMap().get(Name.NAME).getValues().get(0)));
  UserPatch userPatch=new UserPatch();
  userPatch.setKey(userTO.getKey());
  userPatch.setPassword(new PasswordPatch());
  userPatch.getPlainAttrs().add(attrAddReplacePatch("surname","surname2"));
  userService.update(userPatch);
  assertNotNull(getLdapRemoteObject(connObject.getPlainAttrMap().get(Name.NAME).getValues().get(0),"password123",connObject.getPlainAttrMap().get(Name.NAME).getValues().get(0)));
}

</code></pre>

<pre class="type-5 type-1 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void issueSYNCOPE267(){
  UserTO userTO=getUniqueSampleTO("syncope267@apache.org");
  userTO.getVirAttrs().add(attrTO("virtualdata","virtualvalue"));
  userTO.getResources().clear();
  userTO.getResources().add(RESOURCE_NAME_DBVIRATTR);
  ProvisioningResult<UserTO> result=createUser(userTO);
  assertNotNull(result);
  assertFalse(result.getPropagationStatuses().isEmpty());
  assertEquals(RESOURCE_NAME_DBVIRATTR,result.getPropagationStatuses().get(0).getResource());
  assertEquals(PropagationTaskExecStatus.SUCCESS,result.getPropagationStatuses().get(0).getStatus());
  userTO=result.getAny();
  ConnObjectTO connObjectTO=resourceService.readConnObject(RESOURCE_NAME_DBVIRATTR,AnyTypeKind.USER.name(),userTO.getKey());
  assertNotNull(connObjectTO);
  assertEquals("virtualvalue",connObjectTO.getPlainAttrMap().get("USERNAME").getValues().get(0));
  userTO=userService.read(userTO.getKey());
  assertNotNull(userTO);
  assertEquals(1,userTO.getVirAttrs().size());
  assertEquals("virtualvalue",userTO.getVirAttrs().iterator().next().getValues().get(0));
}

</code></pre>

<pre class="type-1 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void list(){
  PagedResult<UserTO> users=userService.list(new AnySearchQuery.Builder().realm(SyncopeConstants.ROOT_REALM).build());
  assertNotNull(users);
  assertFalse(users.getResult().isEmpty());
  for (  UserTO user : users.getResult()) {
    assertNotNull(user);
  }
}

</code></pre>

<pre class="type-1 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void paginatedList(){
  PagedResult<UserTO> users=userService.list(new AnySearchQuery.Builder().realm(SyncopeConstants.ROOT_REALM).page(1).size(2).build());
  assertNotNull(users);
  assertFalse(users.getResult().isEmpty());
  assertEquals(2,users.getResult().size());
  for (  UserTO user : users.getResult()) {
    assertNotNull(user);
  }
  users=userService.list(new AnySearchQuery.Builder().realm(SyncopeConstants.ROOT_REALM).page(2).size(2).build());
  assertNotNull(users);
  assertEquals(2,users.getPage());
  assertEquals(2,users.getResult().size());
  users=userService.list(new AnySearchQuery.Builder().realm(SyncopeConstants.ROOT_REALM).page(100).size(2).build());
  assertNotNull(users);
  assertTrue(users.getResult().isEmpty());
}

</code></pre>

<pre class="type-5 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void issueSYNCOPE279(){
  UserTO userTO=getUniqueSampleTO("syncope279@apache.org");
  userTO.getResources().clear();
  userTO.getResources().add(RESOURCE_NAME_TIMEOUT);
  ProvisioningResult<UserTO> result=createUser(userTO);
  assertEquals(RESOURCE_NAME_TIMEOUT,result.getPropagationStatuses().get(0).getResource());
  assertNotNull(result.getPropagationStatuses().get(0).getFailureReason());
  assertEquals(PropagationTaskExecStatus.FAILURE,result.getPropagationStatuses().get(0).getStatus());
}

</code></pre>

<pre class="type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=SyncopeClientException.class) public void createWithInvalidUsername(){
  UserTO userTO=getSampleTO("invalidusername@syncope.apache.org");
  userTO.setUsername("us");
  userTO.setRealm("/odd");
  createUser(userTO);
}

</code></pre>

<pre class="type-5 type-1 type-6 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void updatePasswordOnly(){
  int beforeTasks=taskService.list(new TaskQuery.Builder().type(TaskType.PROPAGATION).page(1).size(1).build()).getTotalCount();
  assertFalse(beforeTasks <= 0);
  UserTO userTO=getUniqueSampleTO("pwdonly@t.com");
  userTO.getMemberships().add(new MembershipTO.Builder().group(8L).build());
  userTO=createUser(userTO).getAny();
  UserPatch userPatch=new UserPatch();
  userPatch.setKey(userTO.getKey());
  userPatch.setPassword(new PasswordPatch.Builder().value("newPassword123").resource(RESOURCE_NAME_WS2).build());
  userTO=updateUser(userPatch).getAny();
  assertNotNull(userTO.getChangePwdDate());
  int afterTasks=taskService.list(new TaskQuery.Builder().type(TaskType.PROPAGATION).page(1).size(1).build()).getTotalCount();
  assertFalse(beforeTasks <= 0);
  assertTrue(beforeTasks < afterTasks);
}

</code></pre>

<pre class="type-5 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public final void issue280(){
  UserTO userTO=getUniqueSampleTO("issue280@syncope.apache.org");
  userTO.getResources().clear();
  userTO.getMemberships().clear();
  userTO.getDerAttrs().clear();
  userTO=createUser(userTO).getAny();
  assertNotNull(userTO);
  UserPatch userPatch=new UserPatch();
  userPatch.setKey(userTO.getKey());
  userPatch.setPassword(new PasswordPatch.Builder().onSyncope(false).resource(RESOURCE_NAME_TESTDB).value("123password").build());
  userPatch.getResources().add(new StringPatchItem.Builder().operation(PatchOperation.ADD_REPLACE).value(RESOURCE_NAME_TESTDB).build());
  ProvisioningResult<UserTO> result=updateUser(userPatch);
  assertNotNull(result);
  List<PropagationStatus> propagations=result.getPropagationStatuses();
  assertNotNull(propagations);
  assertEquals(1,propagations.size());
  assertEquals(PropagationTaskExecStatus.SUCCESS,propagations.get(0).getStatus());
  String resource=propagations.get(0).getResource();
  assertEquals(RESOURCE_NAME_TESTDB,resource);
}

</code></pre>

<pre class="type-6 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void async(){
  UserService asyncService=clientFactory.create(ADMIN_UNAME,ADMIN_PWD).nullPriorityAsync(UserService.class,true);
  UserTO user=getUniqueSampleTO("async@syncope.apache.org");
  user.getResources().add(RESOURCE_NAME_TESTDB);
  user.getResources().add(RESOURCE_NAME_TESTDB2);
  user.getResources().add(RESOURCE_NAME_LDAP);
  ProvisioningResult<UserTO> result=asyncService.create(user).readEntity(new GenericType<ProvisioningResult<UserTO>>(){
  }
);
  assertNotNull(result);
  verifyAsyncResult(result.getPropagationStatuses());
  UserPatch userPatch=new UserPatch();
  userPatch.setKey(result.getAny().getKey());
  userPatch.setPassword(new PasswordPatch.Builder().onSyncope(true).resources(RESOURCE_NAME_LDAP,RESOURCE_NAME_TESTDB,RESOURCE_NAME_TESTDB2).value("password321").build());
  result=asyncService.update(userPatch).readEntity(new GenericType<ProvisioningResult<UserTO>>(){
  }
);
  assertNotNull(result);
  verifyAsyncResult(result.getPropagationStatuses());
  result=asyncService.delete(result.getAny().getKey()).readEntity(new GenericType<ProvisioningResult<UserTO>>(){
  }
);
  assertNotNull(result);
  verifyAsyncResult(result.getPropagationStatuses());
}

</code></pre>

<pre class="type-5 type-1 type-6 type-2 type-10 type-12 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=EmptyResultDataAccessException.class) public void issue213(){
  UserTO userTO=getUniqueSampleTO("issue213@syncope.apache.org");
  userTO.getResources().add(RESOURCE_NAME_TESTDB);
  userTO=createUser(userTO).getAny();
  assertNotNull(userTO);
  assertEquals(1,userTO.getResources().size());
  JdbcTemplate jdbcTemplate=new JdbcTemplate(testDataSource);
  String username=jdbcTemplate.queryForObject("SELECT id FROM test WHERE id=?",String.class,userTO.getUsername());
  assertEquals(userTO.getUsername(),username);
  UserPatch userPatch=new UserPatch();
  userPatch.setKey(userTO.getKey());
  userPatch.getResources().add(new StringPatchItem.Builder().operation(PatchOperation.DELETE).value(RESOURCE_NAME_TESTDB).build());
  userTO=updateUser(userPatch).getAny();
  assertTrue(userTO.getResources().isEmpty());
  jdbcTemplate.queryForObject("SELECT id FROM test WHERE id=?",String.class,userTO.getUsername());
}

</code></pre>

<pre class="type-5 type-4 type-1 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void issueSYNCOPE357() throws IOException {
  GroupTO groupTO=new GroupTO();
  groupTO.setName("SYNCOPE357-" + getUUIDString());
  groupTO.setRealm("/");
  groupTO.getResources().add(RESOURCE_NAME_LDAP);
  groupTO=createGroup(groupTO).getAny();
  assertNotNull(groupTO);
  UserTO userTO=getUniqueSampleTO("syncope357@syncope.apache.org");
  userTO.getPlainAttrs().add(attrTO("obscure","valueToBeObscured"));
  userTO.getPlainAttrs().add(attrTO("photo",Base64Utility.encode(IOUtils.readBytesFromStream(getClass().getResourceAsStream("/favicon.jpg")))));
  userTO.getMemberships().add(new MembershipTO.Builder().group(groupTO.getKey()).build());
  userTO=createUser(userTO).getAny();
  assertTrue(userTO.getResources().contains(RESOURCE_NAME_LDAP));
  assertNotNull(userTO.getPlainAttrMap().get("obscure"));
  assertNotNull(userTO.getPlainAttrMap().get("photo"));
  ConnObjectTO connObj=resourceService.readConnObject(RESOURCE_NAME_LDAP,AnyTypeKind.USER.name(),userTO.getKey());
  assertNotNull(connObj);
  AttrTO registeredAddress=connObj.getPlainAttrMap().get("registeredAddress");
  assertNotNull(registeredAddress);
  assertEquals(userTO.getPlainAttrMap().get("obscure").getValues(),registeredAddress.getValues());
  AttrTO jpegPhoto=connObj.getPlainAttrMap().get("jpegPhoto");
  assertNotNull(jpegPhoto);
  assertEquals(userTO.getPlainAttrMap().get("photo").getValues(),jpegPhoto.getValues());
  groupService.delete(groupTO.getKey());
  try {
    resourceService.readConnObject(RESOURCE_NAME_LDAP,AnyTypeKind.USER.name(),userTO.getKey());
    fail();
  }
 catch (  SyncopeClientException e) {
    assertEquals(ClientExceptionType.NotFound,e.getType());
  }
}

</code></pre>

<pre class="type-5 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void issueSYNCOPE686(){
  AttrTO pwdCipherAlgo=configurationService.get("password.cipher.algorithm");
  String origpwdCipherAlgo=pwdCipherAlgo.getValues().get(0);
  pwdCipherAlgo.getValues().set(0,"AES");
  configurationService.set(pwdCipherAlgo);
  try {
    GroupTO group=GroupITCase.getBasicSampleTO("syncope686");
    group.getResources().add(RESOURCE_NAME_LDAP);
    group=createGroup(group).getAny();
    assertNotNull(group);
    UserTO userTO=getUniqueSampleTO("syncope686@apache.org");
    userTO.getResources().clear();
    userTO=createUser(userTO).getAny();
    assertNotNull(userTO);
    UserPatch userPatch=new UserPatch();
    userPatch.setKey(userTO.getKey());
    userPatch.getMemberships().add(new MembershipPatch.Builder().operation(PatchOperation.ADD_REPLACE).membershipTO(new MembershipTO.Builder().group(group.getKey()).build()).build());
    ProvisioningResult<UserTO> result=updateUser(userPatch);
    assertNotNull(result);
    List<PropagationStatus> props=result.getPropagationStatuses();
    assertNotNull(props);
    assertEquals(1,props.size());
    PropagationStatus prop=props.iterator().next();
    assertNotNull(prop);
    assertEquals(RESOURCE_NAME_LDAP,prop.getResource());
    assertEquals(PropagationTaskExecStatus.SUCCESS,prop.getStatus());
  }
  finally {
    pwdCipherAlgo.getValues().set(0,origpwdCipherAlgo);
    configurationService.set(pwdCipherAlgo);
  }
}

</code></pre>

<pre class="type-5 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void issue234(){
  UserTO inUserTO=getUniqueSampleTO("issue234@syncope.apache.org");
  inUserTO.getResources().add(RESOURCE_NAME_LDAP);
  UserTO userTO=createUser(inUserTO).getAny();
  assertNotNull(userTO);
  UserPatch userPatch=new UserPatch();
  userPatch.setKey(userTO.getKey());
  userPatch.setUsername(new StringReplacePatchItem.Builder().value("1" + userTO.getUsername()).build());
  userTO=updateUser(userPatch).getAny();
  assertNotNull(userTO);
  assertEquals("1" + inUserTO.getUsername(),userTO.getUsername());
}

</code></pre>

<pre class="type-5 type-4 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void enforceMandatoryCondition(){
  UserTO userTO=getUniqueSampleTO("enforce@apache.org");
  userTO.getResources().add(RESOURCE_NAME_WS2);
  userTO.setPassword("newPassword12");
  AttrTO type=null;
  for (  AttrTO attr : userTO.getPlainAttrs()) {
    if ("type".equals(attr.getSchema())) {
      type=attr;
    }
  }
  assertNotNull(type);
  userTO.getPlainAttrs().remove(type);
  try {
    userTO=createUser(userTO).getAny();
    fail();
  }
 catch (  SyncopeClientException e) {
    assertEquals(ClientExceptionType.RequiredValuesMissing,e.getType());
  }
  userTO.getPlainAttrs().add(type);
  userTO=createUser(userTO).getAny();
  assertNotNull(userTO);
}

</code></pre>

<pre class="type-5 type-1 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void issueSYNCOPE435(){
  UserTO userTO=getUniqueSampleTO("syncope435@syncope.apache.org");
  userTO.setPassword(null);
  userTO=createUser(userTO,false).getAny();
  assertNotNull(userTO);
  UserPatch userPatch=new UserPatch();
  userPatch.setKey(userTO.getKey());
  userPatch.getResources().add(new StringPatchItem.Builder().operation(PatchOperation.ADD_REPLACE).value(RESOURCE_NAME_WS1).build());
  ProvisioningResult<UserTO> result=updateUser(userPatch);
  assertNotNull(result);
  userTO=result.getAny();
  assertEquals(Collections.singleton(RESOURCE_NAME_WS1),userTO.getResources());
  assertNotEquals(PropagationTaskExecStatus.SUCCESS,result.getPropagationStatuses().get(0).getStatus());
  assertTrue(result.getPropagationStatuses().get(0).getFailureReason().startsWith("Not attempted because there are mandatory attributes without value(s): [__PASSWORD__]"));
}

</code></pre>

<pre class="type-5 type-4 type-1 type-6 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void unassign(){
  UserTO userTO=getUniqueSampleTO("unassign@syncope.apache.org");
  userTO.getResources().clear();
  userTO.getMemberships().clear();
  userTO.getDerAttrs().clear();
  userTO.getVirAttrs().clear();
  userTO.getAuxClasses().add("csv");
  userTO.getDerAttrs().add(attrTO("csvuserid",null));
  userTO.getResources().add(RESOURCE_NAME_CSV);
  UserTO actual=createUser(userTO).getAny();
  assertNotNull(actual);
  assertNotNull(resourceService.readConnObject(RESOURCE_NAME_CSV,AnyTypeKind.USER.name(),actual.getKey()));
  DeassociationPatch deassociationPatch=new DeassociationPatch();
  deassociationPatch.setKey(actual.getKey());
  deassociationPatch.setAction(ResourceDeassociationAction.UNASSIGN);
  deassociationPatch.getResources().add(RESOURCE_NAME_CSV);
  assertNotNull(userService.deassociate(deassociationPatch).readEntity(BulkActionResult.class));
  actual=userService.read(actual.getKey());
  assertNotNull(actual);
  assertTrue(actual.getResources().isEmpty());
  try {
    resourceService.readConnObject(RESOURCE_NAME_CSV,AnyTypeKind.USER.name(),actual.getKey());
    fail();
  }
 catch (  Exception e) {
    assertNotNull(e);
  }
}

</code></pre>

<pre class="type-5 type-1 type-6 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void unlink(){
  UserTO userTO=getUniqueSampleTO("unlink@syncope.apache.org");
  userTO.getResources().clear();
  userTO.getMemberships().clear();
  userTO.getDerAttrs().clear();
  userTO.getVirAttrs().clear();
  userTO.getAuxClasses().add("csv");
  userTO.getDerAttrs().add(attrTO("csvuserid",null));
  userTO.getResources().add(RESOURCE_NAME_CSV);
  UserTO actual=createUser(userTO).getAny();
  assertNotNull(actual);
  assertNotNull(resourceService.readConnObject(RESOURCE_NAME_CSV,AnyTypeKind.USER.name(),actual.getKey()));
  DeassociationPatch deassociationPatch=new DeassociationPatch();
  deassociationPatch.setKey(actual.getKey());
  deassociationPatch.setAction(ResourceDeassociationAction.UNLINK);
  deassociationPatch.getResources().add(RESOURCE_NAME_CSV);
  assertNotNull(userService.deassociate(deassociationPatch).readEntity(BulkActionResult.class));
  actual=userService.read(actual.getKey());
  assertNotNull(actual);
  assertTrue(actual.getResources().isEmpty());
  assertNotNull(resourceService.readConnObject(RESOURCE_NAME_CSV,AnyTypeKind.USER.name(),actual.getKey()));
}

</code></pre>

<pre class="type-4 type-1 type-6 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test() public void issueSYNCOPE51(){
  AttrTO defaultCA=configurationService.get("password.cipher.algorithm");
  final String originalCAValue=defaultCA.getValues().get(0);
  defaultCA.getValues().set(0,"MD5");
  configurationService.set(defaultCA);
  AttrTO newCA=configurationService.get(defaultCA.getSchema());
  assertEquals(defaultCA,newCA);
  UserTO userTO=getSampleTO("syncope51@syncope.apache.org");
  userTO.setPassword("password");
  try {
    createUser(userTO);
    fail("Create user should not succeed");
  }
 catch (  SyncopeClientException e) {
    assertEquals(ClientExceptionType.NotFound,e.getType());
    assertTrue(e.getElements().iterator().next().contains("MD5"));
  }
  defaultCA.getValues().set(0,originalCAValue);
  configurationService.set(defaultCA);
  AttrTO oldCA=configurationService.get(defaultCA.getSchema());
  assertEquals(defaultCA,oldCA);
}

</code></pre>

<pre class="type-5 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void groupAttrPropagation(){
  UserTO userTO=getUniqueSampleTO("checkGroupAttrPropagation@syncope.apache.org");
  userTO.getResources().clear();
  userTO.getMemberships().clear();
  userTO.getDerAttrs().clear();
  userTO.getVirAttrs().clear();
  userTO.getAuxClasses().add("csv");
  userTO.getDerAttrs().add(attrTO("csvuserid",null));
  userTO.getMemberships().add(new MembershipTO.Builder().group(1L).build());
  userTO.getResources().add(RESOURCE_NAME_CSV);
  UserTO actual=createUser(userTO).getAny();
  assertNotNull(actual);
  assertNotNull(actual.getDerAttrMap().get("csvuserid"));
  ConnObjectTO connObjectTO=resourceService.readConnObject(RESOURCE_NAME_CSV,AnyTypeKind.USER.name(),actual.getKey());
  assertNotNull(connObjectTO);
  assertEquals("sx-dx",connObjectTO.getPlainAttrMap().get("THEIRGROUP").getValues().get(0));
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
