<h3 style="margin:0px">Class: org.apache.syncope.fit.core.CamelRouteITCase (4 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="10"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('10')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-10"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="14"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('14')" data-toggle="tooltip" title="Sets implicit assumptions "><kbd id="tag-14"class="label-info"style="display: inline-block;font-size:7pt" >AssumptionSetter&nbsp;(4)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-14 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Sets implicit assumptions 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void groupRoutes(){
  Assume.assumeTrue(CamelDetector.isCamelEnabledForGroups(syncopeService));
  List<CamelRouteTO> groupRoutes=camelRouteService.list(AnyTypeKind.GROUP);
  assertNotNull(groupRoutes);
  assertEquals(8,groupRoutes.size());
  for (  CamelRouteTO route : groupRoutes) {
    assertNotNull(route.getContent());
  }
}

</code></pre>

<pre class="type-14 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Sets implicit assumptions 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void userRoutes(){
  Assume.assumeTrue(CamelDetector.isCamelEnabledForUsers(syncopeService));
  List<CamelRouteTO> userRoutes=camelRouteService.list(AnyTypeKind.USER);
  assertNotNull(userRoutes);
  assertEquals(16,userRoutes.size());
  for (  CamelRouteTO route : userRoutes) {
    assertNotNull(route.getContent());
  }
}

</code></pre>

<pre class="type-5 type-6 type-14 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void scriptingUpdate(){
  Assume.assumeTrue(CamelDetector.isCamelEnabledForUsers(syncopeService));
  CamelRouteTO oldRoute=camelRouteService.read("createUser");
  String routeContent="" + "  <route id=\"createUser\">\n" + "    <from uri=\"direct:createUser\"/>\n"+ "    <setProperty propertyName=\"actual\">\n"+ "      <simple>${body}</simple>\n"+ "    </setProperty>\n"+ "    <setBody>\n"+ "     <groovy>\n"+ "       org.apache.commons.collections4."+ "CollectionUtils.get(request.body.getPlainAttrs(), 3).getValues().set(0,\"true\")\n"+ "       return request.body\n"+ "     </groovy>\n"+ "    </setBody>\n"+ "    <doTry>\n"+ "      <bean ref=\"uwfAdapter\" method=\"create(${body},${property.disablePwdPolicyCheck},\n"+ "                                     ${property.enabled},${property.storePassword})\"/>\n"+ "      <process ref=\"userCreateProcessor\"/>\n"+ "      <to uri=\"direct:createPort\"/>\n"+ "      <doCatch>        \n"+ "        <exception>java.lang.RuntimeException</exception>\n"+ "        <handled>\n"+ "          <constant>false</constant>\n"+ "        </handled>\n"+ "        <to uri=\"direct:createPort\"/>\n"+ "      </doCatch>\n"+ "    </doTry>\n"+ "  </route> ";
  try {
    doUpdate("createUser",routeContent);
    PlainSchemaTO schemaTO=new PlainSchemaTO();
    schemaTO.setKey("camelAttribute");
    schemaTO.setType(AttrSchemaType.String);
    createSchema(SchemaType.PLAIN,schemaTO);
    AnyTypeClassTO typeClass=new AnyTypeClassTO();
    typeClass.setKey("camelAttribute");
    typeClass.getPlainSchemas().add(schemaTO.getKey());
    anyTypeClassService.create(typeClass);
    UserTO userTO=new UserTO();
    userTO.setRealm(SyncopeConstants.ROOT_REALM);
    userTO.getAuxClasses().add(typeClass.getKey());
    String userId=getUUIDString() + "camelUser@syncope.apache.org";
    userTO.setUsername(userId);
    userTO.setPassword("password123");
    userTO.getPlainAttrs().add(attrTO("userId",userId));
    userTO.getPlainAttrs().add(attrTO("fullname",userId));
    userTO.getPlainAttrs().add(attrTO("surname",userId));
    userTO.getPlainAttrs().add(attrTO("camelAttribute","false"));
    userTO=createUser(userTO).getAny();
    assertNotNull(userTO);
    assertEquals("true",IterableUtils.get(userTO.getPlainAttrs(),3).getValues().get(0));
  }
  finally {
    doUpdate(oldRoute.getKey(),oldRoute.getContent());
  }
}

</code></pre>

<pre class="type-5 type-14 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Sets implicit assumptions 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void update(){
  Assume.assumeTrue(CamelDetector.isCamelEnabledForUsers(syncopeService));
  CamelRouteTO oldRoute=camelRouteService.read("createUser");
  assertNotNull(oldRoute);
  String routeContent="<route id=\"createUser\">\n" + "  <from uri=\"direct:createUser\"/>\n" + "  <setProperty propertyName=\"actual\">\n"+ "    <simple>${body}</simple>\n"+ "  </setProperty>\n"+ "  <doTry>\n"+ "    <bean ref=\"uwfAdapter\" method=\"create(${body},${property.disablePwdPolicyCheck},\n"+ "                             ${property.enabled},${property.storePassword})\"/>\n"+ "    <process ref=\"userCreateProcessor\" />\n"+ "    <to uri=\"direct:createPort\"/>\n"+ "    <to uri=\"log:myLog\"/>\n"+ "    <doCatch>        \n"+ "      <exception>java.lang.RuntimeException</exception>\n"+ "      <handled>\n"+ "        <constant>false</constant>\n"+ "      </handled>\n"+ "      <to uri=\"direct:createPort\"/>\n"+ "    </doCatch>\n"+ "  </doTry>\n"+ "</route>";
  try {
    CamelRouteTO route=doUpdate("createUser",routeContent);
    assertEquals(routeContent,route.getContent());
  }
  finally {
    doUpdate(oldRoute.getKey(),oldRoute.getContent());
  }
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
