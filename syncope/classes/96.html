<h3 style="margin:0px">Class: org.apache.syncope.fit.core.SyncTaskITCase (16 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(15)</kbd></button>&nbsp;<button id="10"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('10')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-10"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(13)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(13)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(13)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(10)</kbd></button>&nbsp;<button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(9)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure"><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >UtilityVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="11"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('11')" data-toggle="tooltip" title="Verifies assertions inside branch conditions"><kbd id="tag-11"class="label-info"style="display: inline-block;font-size:7pt" >BranchVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-11 type-4 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void list(){
  PagedResult<SyncTaskTO> tasks=taskService.list(new TaskQuery.Builder().type(TaskType.SYNCHRONIZATION).build());
  assertFalse(tasks.getResult().isEmpty());
  for (  AbstractTaskTO task : tasks.getResult()) {
    if (!(task instanceof SyncTaskTO)) {
      fail();
    }
  }
}

</code></pre>

<pre class="type-5 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void create(){
  SyncTaskTO task=new SyncTaskTO();
  task.setName("Test create Sync");
  task.setDestinationRealm("/");
  task.setResource(RESOURCE_NAME_WS2);
  task.setSyncMode(SyncMode.FULL_RECONCILIATION);
  UserTO userTemplate=new UserTO();
  userTemplate.getResources().add(RESOURCE_NAME_WS2);
  userTemplate.getMemberships().add(new MembershipTO.Builder().group(8L).build());
  task.getTemplates().put(AnyTypeKind.USER.name(),userTemplate);
  GroupTO groupTemplate=new GroupTO();
  groupTemplate.getResources().add(RESOURCE_NAME_LDAP);
  task.getTemplates().put(AnyTypeKind.GROUP.name(),groupTemplate);
  Response response=taskService.create(task);
  SyncTaskTO actual=getObject(response.getLocation(),TaskService.class,SyncTaskTO.class);
  assertNotNull(actual);
  task=taskService.read(actual.getKey(),true);
  assertNotNull(task);
  assertEquals(actual.getKey(),task.getKey());
  assertEquals(actual.getJobDelegateClassName(),task.getJobDelegateClassName());
  assertEquals(userTemplate,task.getTemplates().get(AnyTypeKind.USER.name()));
  assertEquals(groupTemplate,task.getTemplates().get(AnyTypeKind.GROUP.name()));
}

</code></pre>

<pre class="type-5 type-1 type-6 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void issueSYNCOPE258(){
  SyncPolicyTO policyTO=policyService.read(9L);
  policyTO.getSpecification().getCorrelationRules().put(AnyTypeKind.USER.name(),TestSyncRule.class.getName());
  policyService.update(policyTO);
  SyncTaskTO task=new SyncTaskTO();
  task.setDestinationRealm(SyncopeConstants.ROOT_REALM);
  task.setName("Test Sync Rule");
  task.setActive(true);
  task.setResource(RESOURCE_NAME_WS2);
  task.setSyncMode(SyncMode.FULL_RECONCILIATION);
  task.setPerformCreate(true);
  task.setPerformDelete(true);
  task.setPerformUpdate(true);
  Response response=taskService.create(task);
  task=getObject(response.getLocation(),TaskService.class,SyncTaskTO.class);
  UserTO userTO=UserITCase.getUniqueSampleTO("s258_1@apache.org");
  userTO.getResources().clear();
  userTO.getResources().add(RESOURCE_NAME_WS2);
  createUser(userTO);
  userTO=UserITCase.getUniqueSampleTO("s258_2@apache.org");
  userTO.getResources().clear();
  userTO.getResources().add(RESOURCE_NAME_WS2);
  userTO=createUser(userTO).getAny();
  UserPatch userPatch=new UserPatch();
  userPatch.setKey(userTO.getKey());
  userPatch.getPlainAttrs().add(attrAddReplacePatch("email","s258@apache.org"));
  userService.update(userPatch);
  execProvisioningTask(taskService,task.getKey(),50,false);
  SyncTaskTO executed=taskService.read(task.getKey(),true);
  assertEquals(1,executed.getExecutions().size());
  assertTrue(executed.getExecutions().get(0).getMessage().substring(0,55) + "...",executed.getExecutions().get(0).getMessage().contains("[updated/failures]: 1/0"));
}

</code></pre>

<pre class="type-1 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getSyncActionsClasses(){
  Set<String> actions=syncopeService.info().getSyncActions();
  assertNotNull(actions);
  assertFalse(actions.isEmpty());
}

</code></pre>

<pre class="type-5 type-4 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void filteredReconciliation(){
  JdbcTemplate jdbcTemplate=new JdbcTemplate(testDataSource);
  SyncTaskTO task=null;
  UserTO userTO=null;
  try {
    jdbcTemplate.execute("INSERT INTO testsync VALUES (1001, 'user1', 'Doe', 'mail1@apache.org')");
    jdbcTemplate.execute("INSERT INTO testsync VALUES (1002, 'user2', 'Rossi', 'mail2@apache.org')");
    task=taskService.read(10L,true);
    task.setSyncMode(SyncMode.FILTERED_RECONCILIATION);
    task.setReconciliationFilterBuilderClassName(TestReconciliationFilterBuilder.class.getName());
    Response response=taskService.create(task);
    task=getObject(response.getLocation(),TaskService.class,SyncTaskTO.class);
    assertNotNull(task);
    assertEquals(TestReconciliationFilterBuilder.class.getName(),task.getReconciliationFilterBuilderClassName());
    TaskExecTO execution=execProvisioningTask(taskService,task.getKey(),50,false);
    assertNotNull(execution.getStatus());
    assertEquals(PropagationTaskExecStatus.SUCCESS,PropagationTaskExecStatus.valueOf(execution.getStatus()));
    userTO=readUser("user2");
    assertNotNull(userTO);
    try {
      readUser("user1");
      fail();
    }
 catch (    SyncopeClientException e) {
      assertEquals(ClientExceptionType.NotFound,e.getType());
    }
  }
  finally {
    jdbcTemplate.execute("DELETE FROM testsync WHERE id = 1001");
    jdbcTemplate.execute("DELETE FROM testsync WHERE id = 1002");
    if (task != null && task.getKey() != 7L) {
      taskService.delete(task.getKey());
    }
    if (userTO != null) {
      userService.delete(userTO.getKey());
    }
  }
}

</code></pre>

<pre class="type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void reconcileFromDB(){
  UserTO userTO=null;
  JdbcTemplate jdbcTemplate=new JdbcTemplate(testDataSource);
  try {
    TaskExecTO execution=execProvisioningTask(taskService,7L,50,false);
    assertNotNull(execution.getStatus());
    assertEquals(PropagationTaskExecStatus.SUCCESS,PropagationTaskExecStatus.valueOf(execution.getStatus()));
    userTO=readUser("testuser1");
    assertNotNull(userTO);
    assertEquals("reconciled@syncope.apache.org",userTO.getPlainAttrMap().get("userId").getValues().get(0));
    assertEquals("suspended",userTO.getStatus());
    jdbcTemplate.execute("UPDATE TEST SET status=TRUE WHERE id='testuser1'");
    execution=execProvisioningTask(taskService,7L,50,false);
    assertNotNull(execution.getStatus());
    assertEquals(PropagationTaskExecStatus.SUCCESS,PropagationTaskExecStatus.valueOf(execution.getStatus()));
    userTO=readUser("testuser1");
    assertNotNull(userTO);
    assertEquals("active",userTO.getStatus());
  }
  finally {
    jdbcTemplate.execute("UPDATE TEST SET status=FALSE WHERE id='testUser1'");
    if (userTO != null) {
      userService.delete(userTO.getKey());
    }
  }
}

</code></pre>

<pre class="type-5 type-4 type-1 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void sync() throws Exception {
  removeTestUsers();
  UserTO inUserTO=new UserTO();
  inUserTO.setRealm(SyncopeConstants.ROOT_REALM);
  inUserTO.setPassword("password123");
  String userName="test9";
  inUserTO.setUsername(userName);
  inUserTO.getPlainAttrs().add(attrTO("firstname","nome9"));
  inUserTO.getPlainAttrs().add(attrTO("surname","cognome"));
  inUserTO.getPlainAttrs().add(attrTO("type","a type"));
  inUserTO.getPlainAttrs().add(attrTO("fullname","nome cognome"));
  inUserTO.getPlainAttrs().add(attrTO("userId","puccini@syncope.apache.org"));
  inUserTO.getPlainAttrs().add(attrTO("email","puccini@syncope.apache.org"));
  inUserTO.getAuxClasses().add("csv");
  inUserTO.getDerAttrs().add(attrTO("csvuserid",null));
  inUserTO=createUser(inUserTO).getAny();
  assertNotNull(inUserTO);
  assertFalse(inUserTO.getResources().contains(RESOURCE_NAME_CSV));
  try {
    int usersPre=userService.list(new AnySearchQuery.Builder().realm(SyncopeConstants.ROOT_REALM).page(1).size(1).build()).getTotalCount();
    assertNotNull(usersPre);
    execProvisioningTask(taskService,SYNC_TASK_ID,50,false);
    UserTO userTO=userService.read(inUserTO.getKey());
    assertNotNull(userTO);
    assertEquals(userName,userTO.getUsername());
    assertEquals(ActivitiDetector.isActivitiEnabledForUsers(syncopeService) ? "active" : "created",userTO.getStatus());
    assertEquals("test9@syncope.apache.org",userTO.getPlainAttrMap().get("email").getValues().get(0));
    assertEquals("test9@syncope.apache.org",userTO.getPlainAttrMap().get("userId").getValues().get(0));
    assertTrue(Integer.valueOf(userTO.getPlainAttrMap().get("fullname").getValues().get(0)) <= 10);
    assertTrue(userTO.getResources().contains(RESOURCE_NAME_TESTDB));
    assertTrue(userTO.getResources().contains(RESOURCE_NAME_WS2));
    assertFalse(userTO.getResources().contains(RESOURCE_NAME_CSV));
    userTO=readUser("test7");
    assertNotNull(userTO);
    assertEquals("TYPE_OTHER",userTO.getPlainAttrMap().get("type").getValues().get(0));
    assertEquals(3,userTO.getResources().size());
    assertTrue(userTO.getResources().contains(RESOURCE_NAME_TESTDB));
    assertTrue(userTO.getResources().contains(RESOURCE_NAME_WS2));
    assertEquals(1,userTO.getMemberships().size());
    assertEquals(8,userTO.getMemberships().get(0).getRightKey());
    assertTrue(userTO.getResources().contains(RESOURCE_NAME_CSV));
    assertEquals(1,IterableUtils.countMatches(userTO.getDerAttrs(),new Predicate<AttrTO>(){
      @Override public boolean evaluate(      final AttrTO attributeTO){
        return "csvuserid".equals(attributeTO.getSchema());
      }
    }
));
    userTO=readUser("test8");
    assertNotNull(userTO);
    assertEquals("TYPE_8",userTO.getPlainAttrMap().get("type").getValues().get(0));
    try {
      readUser("test2");
      fail();
    }
 catch (    SyncopeClientException e) {
      assertEquals(Response.Status.NOT_FOUND,e.getType().getResponseStatus());
    }
    int usersPost=userService.list(new AnySearchQuery.Builder().realm(SyncopeConstants.ROOT_REALM).page(1).size(1).build()).getTotalCount();
    assertNotNull(usersPost);
    assertEquals(usersPre + 8,usersPost);
    userTO=readUser("test1");
    assertNotNull(userTO);
    assertEquals("suspended",userTO.getStatus());
    userTO=readUser("test3");
    assertNotNull(userTO);
    assertEquals("active",userTO.getStatus());
    Set<Long> otherSyncTaskKeys=new HashSet<>();
    otherSyncTaskKeys.add(25L);
    otherSyncTaskKeys.add(26L);
    execProvisioningTasks(taskService,otherSyncTaskKeys,50,false);
    assertFalse(readUser("test9").getResources().contains(RESOURCE_NAME_CSV));
    assertFalse(readUser("test7").getResources().contains(RESOURCE_NAME_CSV));
  }
  finally {
    removeTestUsers();
  }
}

</code></pre>

<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void dryRun(){
  TaskExecTO execution=execProvisioningTask(taskService,SYNC_TASK_ID,50,true);
  assertEquals("Execution of task " + execution.getTask() + " failed with message "+ execution.getMessage(),"SUCCESS",execution.getStatus());
}

</code></pre>

<pre class="type-5 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void issueSYNCOPE272(){
  removeTestUsers();
  UserTO userTO=UserITCase.getUniqueSampleTO("syncope272@syncope.apache.org");
  userTO.getResources().add(RESOURCE_NAME_TESTDB);
  ProvisioningResult<UserTO> result=createUser(userTO);
  userTO=result.getAny();
  try {
    assertNotNull(userTO);
    assertEquals(1,result.getPropagationStatuses().size());
    assertEquals(PropagationTaskExecStatus.SUCCESS,result.getPropagationStatuses().get(0).getStatus());
    TaskExecTO taskExecTO=execProvisioningTask(taskService,24L,50,false);
    assertNotNull(taskExecTO.getStatus());
    assertEquals(PropagationTaskExecStatus.SUCCESS,PropagationTaskExecStatus.valueOf(taskExecTO.getStatus()));
    userTO=userService.read(userTO.getKey());
    assertNotNull(userTO);
    assertNotNull(userTO.getPlainAttrMap().get("firstname").getValues().get(0));
  }
  finally {
    removeTestUsers();
  }
}

</code></pre>

<pre class="type-5 type-4 type-1 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void issueSYNCOPE307(){
  UserTO userTO=UserITCase.getUniqueSampleTO("s307@apache.org");
  userTO.setUsername("test0");
  userTO.getPlainAttrMap().get("firstname").getValues().clear();
  userTO.getPlainAttrMap().get("firstname").getValues().add("nome0");
  userTO.getAuxClasses().add("csv");
  AttrTO csvuserid=new AttrTO();
  csvuserid.setSchema("csvuserid");
  userTO.getDerAttrs().add(csvuserid);
  userTO.getResources().clear();
  userTO.getResources().add(RESOURCE_NAME_WS2);
  userTO=createUser(userTO).getAny();
  assertNotNull(userTO);
  userTO=userService.read(userTO.getKey());
  assertTrue(userTO.getVirAttrMap().isEmpty());
  SyncTaskTO task=taskService.read(12L,true);
  assertNotNull(task);
  UserTO template=new UserTO();
  template.setPassword("'password123'");
  template.getResources().add(RESOURCE_NAME_DBVIRATTR);
  template.getVirAttrs().add(attrTO("virtualdata","'virtualvalue'"));
  task.getTemplates().put(AnyTypeKind.USER.name(),template);
  taskService.update(task);
  execProvisioningTask(taskService,task.getKey(),50,false);
  userTO=userService.read(userTO.getKey());
  assertEquals("virtualvalue",userTO.getVirAttrMap().get("virtualdata").getValues().get(0));
  try {
    JdbcTemplate jdbcTemplate=new JdbcTemplate(testDataSource);
    String value=jdbcTemplate.queryForObject("SELECT USERNAME FROM testsync WHERE ID=?",String.class,userTO.getKey());
    assertEquals("virtualvalue",value);
  }
 catch (  EmptyResultDataAccessException e) {
    fail();
  }
}

</code></pre>

<pre class="type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void reconcileFromLDAP(){
  ldapCleanup();
  TaskExecTO execution=execProvisioningTask(taskService,11L,50,false);
  assertEquals(PropagationTaskExecStatus.SUCCESS,PropagationTaskExecStatus.valueOf(execution.getStatus()));
  PagedResult<GroupTO> matchingGroups=groupService.search(new AnySearchQuery.Builder().realm(SyncopeConstants.ROOT_REALM).fiql(SyncopeClient.getGroupSearchConditionBuilder().is("name").equalTo("testLDAPGroup").query()).build());
  assertNotNull(matchingGroups);
  assertEquals(1,matchingGroups.getResult().size());
  PagedResult<UserTO> matchingUsers=userService.search(new AnySearchQuery.Builder().realm(SyncopeConstants.ROOT_REALM).fiql(SyncopeClient.getUserSearchConditionBuilder().is("username").equalTo("syncFromLDAP").query()).build());
  assertNotNull(matchingUsers);
  assertEquals(1,matchingUsers.getResult().size());
  assertEquals("syncFromLDAP",matchingUsers.getResult().get(0).getVirAttrMap().get("virtualReadOnly").getValues().get(0));
  assertNotNull(matchingUsers.getResult().get(0).getPlainAttrMap().get("obscure"));
  assertNotNull(matchingUsers.getResult().get(0).getPlainAttrMap().get("photo"));
  GroupTO groupTO=matchingGroups.getResult().iterator().next();
  assertNotNull(groupTO);
  assertEquals("testLDAPGroup",groupTO.getName());
  assertEquals("true",groupTO.getPlainAttrMap().get("show").getValues().get(0));
  assertEquals(matchingUsers.getResult().iterator().next().getKey(),groupTO.getUserOwner(),0);
  assertNull(groupTO.getGroupOwner());
  execProvisioningTask(taskService,11L,50,false);
}

</code></pre>

<pre class="type-5 type-1 type-6 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void reconcileFromScriptedSQL(){
  ResourceTO resource=resourceService.read(RESOURCE_NAME_DBSCRIPTED);
  ResourceTO originalResource=SerializationUtils.clone(resource);
  ProvisionTO provision=resource.getProvision("PRINTER");
  assertNotNull(provision);
  try {
    provision.setSyncToken(null);
    MappingItemTO mappingItem=IterableUtils.find(provision.getMapping().getItems(),new Predicate<MappingItemTO>(){
      @Override public boolean evaluate(      final MappingItemTO object){
        return "location".equals(object.getIntAttrName());
      }
    }
);
    assertNotNull(mappingItem);
    mappingItem.getMappingItemTransformerClassNames().clear();
    mappingItem.getMappingItemTransformerClassNames().add(PrefixMappingItemTransformer.class.getName());
    resourceService.update(resource);
    AnyObjectTO anyObjectTO=AnyObjectITCase.getSampleTO("sync");
    String originalLocation=anyObjectTO.getPlainAttrMap().get("location").getValues().get(0);
    assertFalse(originalLocation.startsWith(PrefixMappingItemTransformer.PREFIX));
    anyObjectTO=createAnyObject(anyObjectTO).getAny();
    assertNotNull(anyObjectTO);
    ConnObjectTO connObjectTO=resourceService.readConnObject(RESOURCE_NAME_DBSCRIPTED,anyObjectTO.getType(),anyObjectTO.getKey());
    assertFalse(anyObjectTO.getPlainAttrMap().get("location").getValues().get(0).startsWith(PrefixMappingItemTransformer.PREFIX));
    assertTrue(connObjectTO.getPlainAttrMap().get("location").getValues().get(0).startsWith(PrefixMappingItemTransformer.PREFIX));
    PagedResult<AnyObjectTO> matchingPrinters=anyObjectService.search(new AnySearchQuery.Builder().realm(SyncopeConstants.ROOT_REALM).fiql(SyncopeClient.getAnyObjectSearchConditionBuilder("PRINTER").is("location").equalTo("sync*").query()).build());
    assertTrue(matchingPrinters.getSize() > 0);
    for (    AnyObjectTO printer : matchingPrinters.getResult()) {
      DeassociationPatch deassociationPatch=new DeassociationPatch();
      deassociationPatch.setKey(printer.getKey());
      deassociationPatch.setAction(ResourceDeassociationAction.UNLINK);
      deassociationPatch.getResources().add(RESOURCE_NAME_DBSCRIPTED);
      anyObjectService.deassociate(deassociationPatch);
      anyObjectService.delete(printer.getKey());
    }
    execProvisioningTask(taskService,28L,50,false);
    matchingPrinters=anyObjectService.search(new AnySearchQuery.Builder().realm(SyncopeConstants.ROOT_REALM).fiql(SyncopeClient.getAnyObjectSearchConditionBuilder("PRINTER").is("location").equalTo("sync*").query()).build());
    assertTrue(matchingPrinters.getSize() > 0);
    assertNotNull(resourceService.read(RESOURCE_NAME_DBSCRIPTED).getProvision(anyObjectTO.getType()).getSyncToken());
  }
  finally {
    resourceService.update(originalResource);
  }
}

</code></pre>

<pre class="type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void issueSYNCOPE230(){
  execProvisioningTask(taskService,10L,50,false);
  UserTO userTO=readUser("issuesyncope230");
  assertNotNull(userTO);
  String email=userTO.getPlainAttrMap().get("email").getValues().iterator().next();
  assertNotNull(email);
  JdbcTemplate jdbcTemplate=new JdbcTemplate(testDataSource);
  jdbcTemplate.execute("UPDATE TESTSYNC SET email='updatedSYNCOPE230@syncope.apache.org'");
  execProvisioningTask(taskService,10L,50,false);
  userTO=readUser("issuesyncope230");
  assertNotNull(userTO);
  email=userTO.getPlainAttrMap().get("email").getValues().iterator().next();
  assertNotNull(email);
  assertEquals("updatedSYNCOPE230@syncope.apache.org",email);
}

</code></pre>

<pre class="type-5 type-1 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void issueSYNCOPE313DB() throws Exception {
  UserTO user=UserITCase.getUniqueSampleTO("syncope313-db@syncope.apache.org");
  user.setPassword("security123");
  user.getResources().add(RESOURCE_NAME_TESTDB);
  user=createUser(user).getAny();
  assertNotNull(user);
  assertFalse(user.getResources().isEmpty());
  final JdbcTemplate jdbcTemplate=new JdbcTemplate(testDataSource);
  String value=jdbcTemplate.queryForObject("SELECT PASSWORD FROM test WHERE ID=?",String.class,user.getUsername());
  assertEquals(Encryptor.getInstance().encode("security123",CipherAlgorithm.SHA1),value.toUpperCase());
  String newCleanPassword="new-security";
  String newPassword=Encryptor.getInstance().encode(newCleanPassword,CipherAlgorithm.SHA1);
  jdbcTemplate.execute("UPDATE test set PASSWORD='" + newPassword + "' where ID='"+ user.getUsername()+ "'");
  SyncTaskTO syncTask=new SyncTaskTO();
  syncTask.setDestinationRealm(SyncopeConstants.ROOT_REALM);
  syncTask.setName("DB Sync Task");
  syncTask.setActive(true);
  syncTask.setPerformCreate(true);
  syncTask.setPerformUpdate(true);
  syncTask.setSyncMode(SyncMode.FULL_RECONCILIATION);
  syncTask.setResource(RESOURCE_NAME_TESTDB);
  syncTask.getActionsClassNames().add(DBPasswordSyncActions.class.getName());
  Response taskResponse=taskService.create(syncTask);
  SyncTaskTO actual=getObject(taskResponse.getLocation(),TaskService.class,SyncTaskTO.class);
  assertNotNull(actual);
  syncTask=taskService.read(actual.getKey(),true);
  assertNotNull(syncTask);
  assertEquals(actual.getKey(),syncTask.getKey());
  assertEquals(actual.getJobDelegateClassName(),syncTask.getJobDelegateClassName());
  TaskExecTO execution=execProvisioningTask(taskService,syncTask.getKey(),50,false);
  assertEquals(PropagationTaskExecStatus.SUCCESS,PropagationTaskExecStatus.valueOf(execution.getStatus()));
  Pair<Map<String,Set<String>>,UserTO> self=clientFactory.create(user.getUsername(),newCleanPassword).self();
  assertNotNull(self);
  taskService.delete(syncTask.getKey());
  deleteUser(user.getKey());
}

</code></pre>

<pre class="type-5 type-1 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void issueSYNCOPE68(){
  UserTO userTO=new UserTO();
  userTO.setRealm(SyncopeConstants.ROOT_REALM);
  userTO.setPassword("password123");
  userTO.setUsername("testuser2");
  userTO.getPlainAttrs().add(attrTO("firstname","testuser2"));
  userTO.getPlainAttrs().add(attrTO("surname","testuser2"));
  userTO.getPlainAttrs().add(attrTO("type","a type"));
  userTO.getPlainAttrs().add(attrTO("fullname","a type"));
  userTO.getPlainAttrs().add(attrTO("userId","testuser2@syncope.apache.org"));
  userTO.getPlainAttrs().add(attrTO("email","testuser2@syncope.apache.org"));
  userTO.getResources().add(RESOURCE_NAME_NOPROPAGATION2);
  userTO.getResources().add(RESOURCE_NAME_NOPROPAGATION4);
  userTO.getMemberships().add(new MembershipTO.Builder().group(7L).build());
  userTO=createUser(userTO).getAny();
  assertNotNull(userTO);
  assertEquals("testuser2",userTO.getUsername());
  assertEquals(1,userTO.getMemberships().size());
  assertEquals(3,userTO.getResources().size());
  try {
    UserTO template=new UserTO();
    template.getMemberships().add(new MembershipTO.Builder().group(10L).build());
    template.getResources().add(RESOURCE_NAME_NOPROPAGATION4);
    SyncTaskTO task=taskService.read(9L,true);
    assertNotNull(task);
    task.getTemplates().put(AnyTypeKind.USER.name(),template);
    taskService.update(task);
    SyncTaskTO actual=taskService.read(task.getKey(),true);
    assertNotNull(actual);
    assertEquals(task.getKey(),actual.getKey());
    assertFalse(actual.getTemplates().get(AnyTypeKind.USER.name()).getResources().isEmpty());
    assertFalse(((UserTO)actual.getTemplates().get(AnyTypeKind.USER.name())).getMemberships().isEmpty());
    TaskExecTO execution=execProvisioningTask(taskService,actual.getKey(),50,false);
    assertEquals(PropagationTaskExecStatus.SUCCESS,PropagationTaskExecStatus.valueOf(execution.getStatus()));
    userTO=readUser("testuser2");
    assertNotNull(userTO);
    assertEquals("testuser2@syncope.apache.org",userTO.getPlainAttrMap().get("userId").getValues().get(0));
    assertEquals(2,userTO.getMemberships().size());
    assertEquals(4,userTO.getResources().size());
  }
  finally {
    UserTO dUserTO=deleteUser(userTO.getKey()).getAny();
    assertNotNull(dUserTO);
  }
}

</code></pre>

<pre class="type-5 type-1 type-6 type-2 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void issueSYNCOPE313LDAP() throws Exception {
  ldapCleanup();
  String oldCleanPassword="security123";
  UserTO user=UserITCase.getUniqueSampleTO("syncope313-ldap@syncope.apache.org");
  user.setPassword(oldCleanPassword);
  user.getResources().add(RESOURCE_NAME_LDAP);
  user=createUser(user).getAny();
  assertNotNull(user);
  assertFalse(user.getResources().isEmpty());
  String newCleanPassword="new-security123";
  UserPatch userPatch=new UserPatch();
  userPatch.setKey(user.getKey());
  userPatch.setPassword(new PasswordPatch.Builder().value(newCleanPassword).build());
  user=updateUser(userPatch).getAny();
  Pair<Map<String,Set<String>>,UserTO> self=clientFactory.create(user.getUsername(),newCleanPassword).self();
  assertNotNull(self);
  ConnObjectTO connObject=resourceService.readConnObject(RESOURCE_NAME_LDAP,AnyTypeKind.USER.name(),user.getKey());
  assertNotNull(getLdapRemoteObject(connObject.getPlainAttrMap().get(Name.NAME).getValues().get(0),oldCleanPassword,connObject.getPlainAttrMap().get(Name.NAME).getValues().get(0)));
  ResourceTO ldapResource=resourceService.read(RESOURCE_NAME_LDAP);
  ConnInstanceTO resourceConnector=connectorService.read(ldapResource.getConnector(),Locale.ENGLISH.getLanguage());
  ConnConfProperty property=resourceConnector.getConfMap().get("retrievePasswordsWithSearch");
  property.getValues().clear();
  property.getValues().add(Boolean.TRUE);
  connectorService.update(resourceConnector);
  SyncTaskTO syncTask=new SyncTaskTO();
  syncTask.setDestinationRealm(SyncopeConstants.ROOT_REALM);
  syncTask.setName("LDAP Sync Task");
  syncTask.setActive(true);
  syncTask.setPerformCreate(true);
  syncTask.setPerformUpdate(true);
  syncTask.setSyncMode(SyncMode.FULL_RECONCILIATION);
  syncTask.setResource(RESOURCE_NAME_LDAP);
  syncTask.getActionsClassNames().add(LDAPPasswordSyncActions.class.getName());
  Response taskResponse=taskService.create(syncTask);
  syncTask=getObject(taskResponse.getLocation(),TaskService.class,SyncTaskTO.class);
  assertNotNull(syncTask);
  TaskExecTO execution=execProvisioningTask(taskService,syncTask.getKey(),50,false);
  assertEquals(PropagationTaskExecStatus.SUCCESS,PropagationTaskExecStatus.valueOf(execution.getStatus()));
  self=clientFactory.create(user.getUsername(),oldCleanPassword).self();
  assertNotNull(self);
  taskService.delete(syncTask.getKey());
  property.getValues().clear();
  property.getValues().add(Boolean.FALSE);
  connectorService.update(resourceConnector);
  deleteUser(user.getKey());
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
