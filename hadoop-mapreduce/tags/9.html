<h3><span class=" glyphicon glyphicon-tag"/>&nbspExecutionTester</h3><kbd>Executes methods or other tests from the same test unit</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.hadoop.fs.TestHarFileSystem </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testHarUri(){
  final Configuration conf=new Configuration();
  checkInvalidPath("har://hdfs-/foo.har",conf);
  checkInvalidPath("har://hdfs/foo.har",conf);
  checkInvalidPath("har://-hdfs/foo.har",conf);
  checkInvalidPath("har://-/foo.har",conf);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.fs.slive.TestSlive </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRename() throws Exception {
  ConfigExtractor extractor=getTestConfig(false);
  final Path src=new Path(getTestFile().getCanonicalPath());
  final Path tgt=new Path(getTestRenameFile().getCanonicalPath());
  CreateOp op=new CreateOp(extractor,rnd){
    protected Path getCreateFile(){
      return src;
    }
  }
;
  runOperationOk(extractor,op,true);
  RenameOp rop=new RenameOp(extractor,rnd){
    protected SrcTarget getRenames(){
      return new SrcTarget(src,tgt);
    }
  }
;
  runOperationOk(extractor,rop,true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testOpFailures() throws Exception {
  ConfigExtractor extractor=getTestConfig(false);
  final Path fn=new Path(getImaginaryFile().getCanonicalPath());
  ReadOp rop=new ReadOp(extractor,rnd){
    protected Path getReadFile(){
      return fn;
    }
  }
;
  runOperationBad(extractor,rop);
  DeleteOp dop=new DeleteOp(extractor,rnd){
    protected Path getDeleteFile(){
      return fn;
    }
  }
;
  runOperationBad(extractor,dop);
  RenameOp reop=new RenameOp(extractor,rnd){
    protected SrcTarget getRenames(){
      return new SrcTarget(fn,fn);
    }
  }
;
  runOperationBad(extractor,reop);
  AppendOp aop=new AppendOp(extractor,rnd){
    protected Path getAppendFile(){
      return fn;
    }
  }
;
  runOperationBad(extractor,aop);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAppendOp() throws Exception {
  ConfigExtractor extractor=getTestConfig(false);
  final Path fn=new Path(getTestFile().getCanonicalPath());
  CreateOp op=new CreateOp(extractor,rnd){
    protected Path getCreateFile(){
      return fn;
    }
  }
;
  runOperationOk(extractor,op,true);
  AppendOp aop=new AppendOp(extractor,rnd){
    protected Path getAppendFile(){
      return fn;
    }
  }
;
  runOperationOk(extractor,aop,false);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRead() throws Exception {
  ConfigExtractor extractor=getTestConfig(false);
  final Path fn=new Path(getTestFile().getCanonicalPath());
  CreateOp op=new CreateOp(extractor,rnd){
    protected Path getCreateFile(){
      return fn;
    }
  }
;
  runOperationOk(extractor,op,true);
  ReadOp rop=new ReadOp(extractor,rnd){
    protected Path getReadFile(){
      return fn;
    }
  }
;
  runOperationOk(extractor,rop,true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreateOp() throws Exception {
  ConfigExtractor extractor=getTestConfig(false);
  final Path fn=new Path(getTestFile().getCanonicalPath());
  CreateOp op=new CreateOp(extractor,rnd){
    protected Path getCreateFile(){
      return fn;
    }
  }
;
  runOperationOk(extractor,op,true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSleep() throws Exception {
  ConfigExtractor extractor=getTestConfig(true);
  SleepOp op=new SleepOp(extractor,rnd);
  runOperationOk(extractor,op,true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testList() throws Exception {
  ConfigExtractor extractor=getTestConfig(false);
  final Path dir=new Path(getTestDir().getCanonicalPath());
  MkdirOp op=new MkdirOp(extractor,rnd){
    protected Path getDirectory(){
      return dir;
    }
  }
;
  runOperationOk(extractor,op,true);
  ListOp lop=new ListOp(extractor,rnd){
    protected Path getDirectory(){
      return dir;
    }
  }
;
  runOperationOk(extractor,lop,true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testMkdir() throws Exception {
  ConfigExtractor extractor=getTestConfig(false);
  final Path dir=new Path(getTestDir().getCanonicalPath());
  MkdirOp op=new MkdirOp(extractor,rnd){
    protected Path getDirectory(){
      return dir;
    }
  }
;
  runOperationOk(extractor,op,true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDelete() throws Exception {
  ConfigExtractor extractor=getTestConfig(false);
  final Path fn=new Path(getTestFile().getCanonicalPath());
  CreateOp op=new CreateOp(extractor,rnd){
    protected Path getCreateFile(){
      return fn;
    }
  }
;
  runOperationOk(extractor,op,true);
  DeleteOp dop=new DeleteOp(extractor,rnd){
    protected Path getDeleteFile(){
      return fn;
    }
  }
;
  runOperationOk(extractor,dop,true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.hdfs.server.namenode.TestBlockPlacementPolicyRaid </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Test BlockPlacementPolicyRaid.CachedFullPathNames
 * Verify that the results obtained from cache is the same as
 * the results obtained directly
 */
@Test public void testCachedPathNames() throws IOException {
  setupCluster();
  try {
    String file1="/dir/file1";
    String file2="/dir/file2";
    DFSTestUtil.createFile(fs,new Path(file1),3,(short)1,0L);
    DFSTestUtil.createFile(fs,new Path(file2),4,(short)1,0L);
    CachedFullPathNames cachedFullPathNames=new CachedFullPathNames(namesystem);
    FSInodeInfo inode1=null;
    FSInodeInfo inode2=null;
    namesystem.dir.readLock();
    try {
      inode1=namesystem.dir.rootDir.getNode(file1,true);
      inode2=namesystem.dir.rootDir.getNode(file2,true);
    }
  finally {
      namesystem.dir.readUnlock();
    }
    verifyCachedFullPathNameResult(cachedFullPathNames,inode1);
    verifyCachedFullPathNameResult(cachedFullPathNames,inode1);
    verifyCachedFullPathNameResult(cachedFullPathNames,inode2);
    verifyCachedFullPathNameResult(cachedFullPathNames,inode2);
    try {
      Thread.sleep(1200L);
    }
 catch (    InterruptedException e) {
    }
    verifyCachedFullPathNameResult(cachedFullPathNames,inode2);
    verifyCachedFullPathNameResult(cachedFullPathNames,inode1);
  }
  finally {
    if (cluster != null) {
      cluster.shutdown();
    }
  }
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Test BlockPlacementPolicyRaid.CachedLocatedBlocks
 * Verify that the results obtained from cache is the same as
 * the results obtained directly
 */
@Test public void testCachedBlocks() throws IOException {
  setupCluster();
  try {
    String file1="/dir/file1";
    String file2="/dir/file2";
    DFSTestUtil.createFile(fs,new Path(file1),3,(short)1,0L);
    DFSTestUtil.createFile(fs,new Path(file2),4,(short)1,0L);
    CachedLocatedBlocks cachedBlocks=new CachedLocatedBlocks(namesystem);
    verifyCachedBlocksResult(cachedBlocks,namesystem,file1);
    verifyCachedBlocksResult(cachedBlocks,namesystem,file1);
    verifyCachedBlocksResult(cachedBlocks,namesystem,file2);
    verifyCachedBlocksResult(cachedBlocks,namesystem,file2);
    try {
      Thread.sleep(1200L);
    }
 catch (    InterruptedException e) {
    }
    verifyCachedBlocksResult(cachedBlocks,namesystem,file2);
    verifyCachedBlocksResult(cachedBlocks,namesystem,file1);
  }
  finally {
    if (cluster != null) {
      cluster.shutdown();
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.TestCluster </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testJobSubmission() throws Exception {
  Configuration conf=new Configuration(cluster.getConf());
  SleepJob job=new SleepJob();
  job.setConf(conf);
  Job rJob=job.createJob(1,1,100,100,100,100);
  rJob=cluster.getJTClient().submitAndVerifyJob(rJob);
  cluster.getJTClient().verifyJobHistory(rJob.getJobID());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.TestDebugScript </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Main test case which checks proper execution of the testcase.
 * @throws Exception
 */
@Test public void testDebugScript() throws Exception {
  JobConf conf=new JobConf();
  conf.setLong(TTConfig.TT_SLEEP_TIME_BEFORE_SIG_KILL,0L);
  MiniMRCluster mrCluster=new MiniMRCluster(1,"file:///",1,null,null,conf);
  Path inputPath=new Path(SCRIPT_DIR);
  Path outputPath=new Path(SCRIPT_DIR,"task_output");
  JobID jobId=runFailingMapJob(mrCluster.createJobConf(),inputPath,outputPath);
  TaskAttemptID taskId=new TaskAttemptID(new TaskID(jobId,TaskType.MAP,0),0);
  verifyDebugScriptOutput(taskId);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.TestDebugScriptWithLinuxTaskController </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDebugScriptExecutionAsDifferentUser() throws Exception {
  if (!super.shouldRun()) {
    return;
  }
  super.startCluster();
  TestDebugScript.setupDebugScriptDirs();
  final Path inDir=new Path("input");
  final Path outDir=new Path("output");
  JobConf conf=super.getClusterConf();
  FileSystem fs=inDir.getFileSystem(conf);
  fs.mkdirs(inDir);
  Path p=new Path(inDir,"1.txt");
  fs.createNewFile(p);
  String splits[]=System.getProperty(ClusterWithLinuxTaskController.TASKCONTROLLER_UGI).split(",");
  JobID jobId=UserGroupInformation.createUserForTesting(splits[0],new String[]{splits[1]}).doAs(new PrivilegedExceptionAction<JobID>(){
    public JobID run() throws IOException {
      return TestDebugScript.runFailingMapJob(TestDebugScriptWithLinuxTaskController.this.getClusterConf(),inDir,outDir);
    }
  }
);
  TaskAttemptID taskId=new TaskAttemptID(new TaskID(jobId,TaskType.MAP,0),0);
  TestDebugScript.verifyDebugScriptOutput(taskId,splits[0],taskTrackerSpecialGroup,"-rw-rw----");
  TestDebugScript.cleanupDebugScriptDirs();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.TestFairSchedulerSystem </h4><pre class="type-15 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Submit some concurrent sleep jobs, and visit the scheduler servlet
 * while they're running.
 */
@Test public void testFairSchedulerSystem() throws Exception {
  ExecutorService exec=Executors.newFixedThreadPool(NUM_THREADS);
  List<Future<Void>> futures=new ArrayList<Future<Void>>(NUM_THREADS);
  for (int i=0; i < NUM_THREADS; i++) {
    futures.add(exec.submit(new Callable<Void>(){
      public Void call() throws Exception {
        JobConf jobConf=mr.createJobConf();
        runSleepJob(jobConf);
        return null;
      }
    }
));
  }
  JobClient jc=new JobClient(mr.createJobConf(null));
  for (  Future<Void> future : futures) {
    while (true) {
      try {
        future.get(3,TimeUnit.SECONDS);
        break;
      }
 catch (      TimeoutException te) {
      }
      checkServlet(true);
      checkServlet(false);
      JobStatus jobs[]=jc.getAllJobs();
      if (jobs == null) {
        System.err.println("No jobs running, not checking tasklog servlet");
        continue;
      }
      for (      JobStatus j : jobs) {
        System.err.println("Checking task graph for " + j.getJobID());
        try {
          checkTaskGraphServlet(j.getJobID());
        }
 catch (        AssertionError err) {
          RunningJob rj=jc.getJob(j.getJobID());
          if (!rj.isRetired()) {
            throw err;
          }
        }
      }
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.TestIFile </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testIFileReaderWithCodec() throws Exception {
  Configuration conf=new Configuration();
  FileSystem localFs=FileSystem.getLocal(conf);
  FileSystem rfs=((LocalFileSystem)localFs).getRaw();
  Path path=new Path(new Path("build/test.ifile"),"data");
  DefaultCodec codec=new GzipCodec();
  codec.setConf(conf);
  IFile.Reader<Text,Text> reader=new IFile.Reader<Text,Text>(conf,rfs,path,codec,null);
  reader.close();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testIFileWriterWithCodec() throws Exception {
  Configuration conf=new Configuration();
  FileSystem localFs=FileSystem.getLocal(conf);
  FileSystem rfs=((LocalFileSystem)localFs).getRaw();
  Path path=new Path(new Path("build/test.ifile"),"data");
  DefaultCodec codec=new GzipCodec();
  codec.setConf(conf);
  IFile.Writer<Text,Text> writer=new IFile.Writer<Text,Text>(conf,rfs,path,Text.class,Text.class,codec,null);
  writer.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.TestJobConf </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testFindContainingJar() throws Exception {
  testJarAtPath(JAR_RELATIVE_PATH);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Test that findContainingJar works correctly even if the
 * path has a "+" sign or spaces in it
 */
@Test public void testFindContainingJarWithPlus() throws Exception {
  new File(TEST_DIR_WITH_SPECIAL_CHARS).mkdirs();
  Configuration conf=new Configuration();
  FileSystem localfs=FileSystem.getLocal(conf);
  FileUtil.copy(localfs,new Path(JAR_RELATIVE_PATH),localfs,new Path(TEST_DIR_WITH_SPECIAL_CHARS,"test.jar"),false,true,conf);
  testJarAtPath(TEST_DIR_WITH_SPECIAL_CHARS + File.separator + "test.jar");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.TestJobCounters </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testOldCounterC() throws Exception {
  JobConf conf=createConfiguration();
  createWordsFile(new Path(IN_DIR,"input5_2k_4"),conf);
  createWordsFile(new Path(IN_DIR,"input5_2k_5"),conf);
  conf.setNumMapTasks(4);
  conf.setInt(JobContext.IO_SORT_FACTOR,3);
  FileInputFormat.setInputPaths(conf,IN_DIR);
  FileOutputFormat.setOutputPath(conf,new Path(OUT_DIR,"outputO2"));
  RunningJob myJob=JobClient.runJob(conf);
  Counters c1=myJob.getCounters();
  validateCounters(c1,147456,25600,102400);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testOldCounterB() throws Exception {
  JobConf conf=createConfiguration();
  createWordsFile(new Path(IN_DIR,"input5_2k_4"),conf);
  removeWordsFile(new Path(IN_DIR,"input5_2k_5"),conf);
  conf.setNumMapTasks(4);
  conf.setInt(JobContext.IO_SORT_FACTOR,2);
  FileInputFormat.setInputPaths(conf,IN_DIR);
  FileOutputFormat.setOutputPath(conf,new Path(OUT_DIR,"outputO1"));
  RunningJob myJob=JobClient.runJob(conf);
  Counters c1=myJob.getCounters();
  validateCounters(c1,131072,20480,81920);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testOldCounterA() throws Exception {
  JobConf conf=createConfiguration();
  conf.setNumMapTasks(3);
  conf.setInt(JobContext.IO_SORT_FACTOR,2);
  removeWordsFile(new Path(IN_DIR,"input5_2k_4"),conf);
  removeWordsFile(new Path(IN_DIR,"input5_2k_5"),conf);
  FileInputFormat.setInputPaths(conf,IN_DIR);
  FileOutputFormat.setOutputPath(conf,new Path(OUT_DIR,"outputO0"));
  RunningJob myJob=JobClient.runJob(conf);
  Counters c1=myJob.getCounters();
  validateCounters(c1,90112,15360,61440);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.TestJobKill </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSystemJobKill() throws Exception {
  wovenClient=cluster.getJTClient().getProxy();
  Configuration conf=new Configuration(cluster.getConf());
  conf.set(MRJobConfig.MAP_MAX_ATTEMPTS,"1");
  conf.set(MRJobConfig.REDUCE_MAX_ATTEMPTS,"1");
  failJob(conf,JobKillCommitter.CommitterWithNoError.class,"JobMapperFail",JobKillCommitter.MapperFail.class,JobKillCommitter.ReducerPass.class,false);
  failJob(conf,JobKillCommitter.CommitterWithNoError.class,"JobReducerFail",JobKillCommitter.MapperPass.class,JobKillCommitter.ReducerFail.class,false);
  failJob(conf,JobKillCommitter.CommitterWithFailSetup.class,"JobSetupFail",JobKillCommitter.MapperPass.class,JobKillCommitter.ReducerPass.class,false);
  failJob(conf,JobKillCommitter.CommitterWithFailCleanup.class,"JobCleanupFail",JobKillCommitter.MapperPass.class,JobKillCommitter.ReducerPass.class,false);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * This test is used to kill the job by explicity calling the kill api
 * and making sure the clean up happens
 * @throws Exception
 */
@Test public void testUserJobKill() throws Exception {
  wovenClient=cluster.getJTClient().getProxy();
  Configuration conf=new Configuration(cluster.getConf());
  conf.set(MRJobConfig.MAP_MAX_ATTEMPTS,"1");
  conf.set(MRJobConfig.REDUCE_MAX_ATTEMPTS,"1");
  failJob(conf,JobKillCommitter.CommitterWithNoError.class,"JobUserKill",JobKillCommitter.MapperPassSleep.class,JobKillCommitter.ReducerPass.class,true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.TestJvmManager </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Create a bunch of tasks and use a special hash map to detect
 * racy access to the various internal data structures of JvmManager.
 * (Regression test for MAPREDUCE-2224)
 */
@Test public void testForRaces() throws Exception {
  JvmManagerForType mapJvmManager=jvmManager.getJvmManagerForType(TaskType.MAP);
  mapJvmManager.jvmToRunningTask=new RaceHashMap<JVMId,TaskRunner>();
  mapJvmManager.runningTaskToJvm=new RaceHashMap<TaskRunner,JVMId>();
  mapJvmManager.jvmIdToRunner=new RaceHashMap<JVMId,JvmRunner>();
  final ExecutorService exec=Executors.newFixedThreadPool(MAP_SLOTS);
  final AtomicReference<Throwable> failed=new AtomicReference<Throwable>();
  for (int i=0; i < MAP_SLOTS * 5; i++) {
    JobConf taskConf=new JobConf(ttConf);
    TaskAttemptID attemptID=new TaskAttemptID("test",0,TaskType.MAP,i,0);
    Task task=new MapTask(null,attemptID,i,null,1);
    task.setConf(taskConf);
    TaskInProgress tip=tt.new TaskInProgress(task,taskConf);
    File pidFile=new File(TEST_DIR,"pid_" + i);
    final TaskRunner taskRunner=task.createRunner(tt,tip);
    final Vector<String> vargs=new Vector<String>(2);
    vargs.add(writeScript("script_" + i,"echo hi\n",pidFile).getAbsolutePath());
    final File workDir=new File(TEST_DIR,"work_" + i);
    workDir.mkdir();
    final File stdout=new File(TEST_DIR,"stdout_" + i);
    final File stderr=new File(TEST_DIR,"stderr_" + i);
    Runnable launcher=new Runnable(){
      public void run(){
        try {
          taskRunner.launchJvmAndWait(null,vargs,stdout,stderr,100,workDir,null);
        }
 catch (        Throwable t) {
          failed.compareAndSet(null,t);
          exec.shutdownNow();
          return;
        }
      }
    }
;
    exec.submit(launcher);
  }
  exec.shutdown();
  exec.awaitTermination(3,TimeUnit.MINUTES);
  if (failed.get() != null) {
    throw new RuntimeException(failed.get());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.TestJvmReuse </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Runs job with jvm reuse and verifies that the logs for all attempts can be
 * read properly.
 * @throws IOException
 */
@Test public void testTaskLogs() throws IOException {
  MiniMRCluster mr=null;
  try {
    Configuration conf=new Configuration();
    final int taskTrackers=1;
    conf.setInt("mapred.tasktracker.map.tasks.maximum",1);
    mr=new MiniMRCluster(taskTrackers,"file:///",1);
    final Path inDir=new Path(rootDir,"input");
    final Path outDir=new Path(rootDir,"output");
    JobConf jobConf=mr.createJobConf();
    jobConf.setOutputCommitter(TestTaskFail.CommitterWithLogs.class);
    RunningJob rJob=launchJob(jobConf,inDir,outDir);
    rJob.waitForCompletion();
    validateJob(rJob,mr);
  }
  finally {
    if (mr != null) {
      mr.shutdown();
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.TestLinuxTaskController </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testTaskControllerGroup() throws Exception {
  if (!ClusterWithLinuxTaskController.isTaskExecPathPassed()) {
    return;
  }
  ClusterWithLinuxTaskController.getTaskControllerConfFile(taskControllerPath).delete();
  Configuration conf=new Configuration();
  File mapredLocal=new File(testDir,"mapred/local");
  mapredLocal.mkdirs();
  conf.set(MRConfig.LOCAL_DIR,mapredLocal.toString());
  TaskController controller=new MyLinuxTaskController();
  controller.setConf(conf);
  validateTaskControllerSetup(controller,true);
  conf.set(TTConfig.TT_GROUP,"invalid");
  ClusterWithLinuxTaskController.createTaskControllerConf(taskControllerPath,conf);
  validateTaskControllerSetup(controller,true);
  conf.set(TTConfig.TT_GROUP,ClusterWithLinuxTaskController.taskTrackerSpecialGroup);
  ClusterWithLinuxTaskController.createTaskControllerConf(taskControllerPath,conf);
  validateTaskControllerSetup(controller,false);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.TestMapRed </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCompression() throws Exception {
  EnumSet<SequenceFile.CompressionType> seq=EnumSet.allOf(SequenceFile.CompressionType.class);
  for (  CompressionType redCompression : seq) {
    for (int combine=0; combine < 2; ++combine) {
      checkCompression(false,redCompression,combine == 1);
      checkCompression(true,redCompression,combine == 1);
    }
  }
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testBiggerInput(){
  runJob(1000);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSmallInput(){
  runJob(100);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * public TestMapRed(int range, int counts, Configuration conf) throws IOException {
 * this.range = range;
 * this.counts = counts;
 * this.conf = conf;
 * }
 */
@Test public void testMapred() throws Exception {
  launch();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.TestQueueManager </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testQueueView() throws Exception {
  deleteQueuesConfigFile();
  Document doc=createDocument();
  createSimpleDocument(doc);
  writeToFile(doc,QUEUES_CONFIG_FILE_PATH);
  QueueManager qm=new QueueManager(QUEUES_CONFIG_FILE_PATH,true);
  for (  Queue queue : qm.getRoot().getChildren()) {
    checkHierarchy(queue,qm);
  }
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEmptyProperties() throws Exception {
  deleteQueuesConfigFile();
  Document doc=createDocument();
  Element queues=createQueuesNode(doc);
  Element q1=createQueue(doc,"q1");
  Element p=createProperties(doc,null);
  q1.appendChild(p);
  queues.appendChild(q1);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.TestQueueManagerRefresh </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Test to verify that the refresh of queue properties fails if queues are
 * removed.
 * @throws Exception
 */
@Test public void testRefreshWithRemovedQueues() throws Exception {
  JobQueueInfo[] queues=getSimpleQueueHierarchy();
  writeQueueConfigurationFile(QUEUES_CONFIG_FILE_PATH,new JobQueueInfo[]{queues[0]});
  QueueManager qManager=new QueueManager();
  JobQueueInfo q2=queues[2];
  queues[0].removeChild(q2);
  writeQueueConfigurationFile(QUEUES_CONFIG_FILE_PATH,new JobQueueInfo[]{queues[0]});
  testRefreshFailureWithChangeOfHierarchy(qManager);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Test to verify that the refresh of queue properties fails if a new queue is
 * added.
 * @throws Exception
 */
@Test public void testRefreshWithAddedQueues() throws Exception {
  JobQueueInfo[] queues=getSimpleQueueHierarchy();
  writeQueueConfigurationFile(QUEUES_CONFIG_FILE_PATH,new JobQueueInfo[]{queues[0]});
  QueueManager qManager=new QueueManager();
  JobQueueInfo newQueue=newJobQueueInfo(new ArrayList<JobQueueInfo>(),null,"q4",QueueState.UNDEFINED,null);
  queues[0].addChild(newQueue);
  writeQueueConfigurationFile(QUEUES_CONFIG_FILE_PATH,new JobQueueInfo[]{queues[0]});
  testRefreshFailureWithChangeOfHierarchy(qManager);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.TestRefreshOfQueues </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * @throws Throwable
 */
@Test public void testSuccessfulCapacityRefresh() throws Throwable {
  JobQueueInfo[] queues=TestQueueManagerRefresh.getSimpleQueueHierarchy();
  queues[0].getProperties().setProperty(CapacitySchedulerConf.CAPACITY_PROPERTY,String.valueOf(100));
  queues[1].getProperties().setProperty(CapacitySchedulerConf.CAPACITY_PROPERTY,String.valueOf(50));
  queues[2].getProperties().setProperty(CapacitySchedulerConf.CAPACITY_PROPERTY,String.valueOf(50));
  QueueManagerTestUtils.writeQueueConfigurationFile(queueConfigFile.getAbsolutePath(),new JobQueueInfo[]{queues[0]});
  setupAndStartSchedulerFramework(2,2,2);
  FakeJobInProgress job1=taskTrackerManager.submitJobAndInit(JobStatus.PREP,2,2,queues[1].getQueueName(),"user");
  FakeJobInProgress job2=taskTrackerManager.submitJobAndInit(JobStatus.PREP,2,2,queues[2].getQueueName(),"user");
  Map<String,String> expectedStrings=new HashMap<String,String>();
  expectedStrings.put(MAP,"attempt_test_0001_m_000001_0 on tt1");
  expectedStrings.put(REDUCE,"attempt_test_0001_r_000001_0 on tt1");
  checkMultipleTaskAssignment(taskTrackerManager,scheduler,"tt1",expectedStrings);
  expectedStrings.clear();
  expectedStrings.put(MAP,"attempt_test_0002_m_000001_0 on tt1");
  expectedStrings.put(REDUCE,"attempt_test_0002_r_000001_0 on tt1");
  checkMultipleTaskAssignment(taskTrackerManager,scheduler,"tt1",expectedStrings);
  expectedStrings.clear();
  expectedStrings.put(MAP,"attempt_test_0002_m_000002_0 on tt2");
  expectedStrings.put(REDUCE,"attempt_test_0002_r_000002_0 on tt2");
  checkMultipleTaskAssignment(taskTrackerManager,scheduler,"tt2",expectedStrings);
  expectedStrings.clear();
  expectedStrings.put(MAP,"attempt_test_0001_m_000002_0 on tt2");
  expectedStrings.put(REDUCE,"attempt_test_0001_r_000002_0 on tt2");
  checkMultipleTaskAssignment(taskTrackerManager,scheduler,"tt2",expectedStrings);
  taskTrackerManager.killJob(job1.getJobID());
  taskTrackerManager.killJob(job2.getJobID());
  queues[1].getProperties().setProperty(CapacitySchedulerConf.CAPACITY_PROPERTY,String.valueOf(25));
  queues[2].getProperties().setProperty(CapacitySchedulerConf.CAPACITY_PROPERTY,String.valueOf(75));
  QueueManagerTestUtils.writeQueueConfigurationFile(queueConfigFile.getAbsolutePath(),new JobQueueInfo[]{queues[0]});
  refreshQueues(taskTrackerManager.getQueueManager(),null,scheduler);
  job1=taskTrackerManager.submitJobAndInit(JobStatus.PREP,2,2,queues[1].getQueueName(),"user");
  job2=taskTrackerManager.submitJobAndInit(JobStatus.PREP,4,4,queues[2].getQueueName(),"user");
  expectedStrings.clear();
  expectedStrings.put(MAP,"attempt_test_0003_m_000001_0 on tt1");
  expectedStrings.put(REDUCE,"attempt_test_0003_r_000001_0 on tt1");
  checkMultipleTaskAssignment(taskTrackerManager,scheduler,"tt1",expectedStrings);
  expectedStrings.clear();
  expectedStrings.put(MAP,"attempt_test_0004_m_000001_0 on tt1");
  expectedStrings.put(REDUCE,"attempt_test_0004_r_000001_0 on tt1");
  checkMultipleTaskAssignment(taskTrackerManager,scheduler,"tt1",expectedStrings);
  expectedStrings.clear();
  expectedStrings.put(MAP,"attempt_test_0004_m_000002_0 on tt2");
  expectedStrings.put(REDUCE,"attempt_test_0004_r_000002_0 on tt2");
  checkMultipleTaskAssignment(taskTrackerManager,scheduler,"tt2",expectedStrings);
  expectedStrings.clear();
  expectedStrings.put(MAP,"attempt_test_0004_m_000003_0 on tt2");
  expectedStrings.put(REDUCE,"attempt_test_0004_r_000003_0 on tt2");
  checkMultipleTaskAssignment(taskTrackerManager,scheduler,"tt2",expectedStrings);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.TestSimulatorDeterministicReplay </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testMain() throws Exception {
  Path hadoopLogDir=new Path(System.getProperty("test.build.data"),"mumak-replay");
  Path hadoopLogDir1=new Path(hadoopLogDir,"run1");
  Path hadoopLogDir2=new Path(hadoopLogDir,"run2");
  runMumak(hadoopLogDir1,50031);
  LOG.info("Run1 done");
  runMumak(hadoopLogDir2,50032);
  compareLogDirs(hadoopLogDir1.toString(),hadoopLogDir2.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.TestSimulatorEngine </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Test {@link SimulatorEngine} using {@link TestSimulator1}. Insert a {@link TestComplexEvent1} in the beginning. The simulation stops when the{@link SimulatorEventQueue} is empty. Total number of events processed is checked
 * against expected number (5*level+1).
 * @throws IOException
 * @throws InterruptedException
 */
@Test public void testComplex1() throws IOException, InterruptedException {
  SimulatorEngine simulation=new TestSimulator1();
  simulation.run();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Test {@link SimulatorEngine} using {@link TestSimulator2}. Insert a {@link TestComplexEvent2} in the beginning. The simulation stops when the{@link SimulatorEventQueue} is empty. Total number of events processed is checked
 * against expected number (3 * 2^level - 2).
 * @throws IOException
 * @throws InterruptedException
 */
@Test public void testComplex2() throws IOException, InterruptedException {
  SimulatorEngine simulation=new TestSimulator2();
  simulation.run();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.TestSimulatorTaskTracker </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testMultipleMapAndReduceTasks(){
  LOG.debug("Testing with multiple map and reduce tasks");
  genericTest(20,mapStarts.length,reduceStarts.length,false);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testInitAndHeartbeat(){
  LOG.debug("Testing init and hearbeat mechanism");
  genericTest(5,0,0,false);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testMultipleReduceTasks(){
  LOG.debug("Testing with multiple reduce tasks");
  genericTest(20,0,reduceStarts.length,false);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testKillSingleReduceTask(){
  LOG.debug("Testing killing a single reduce task");
  genericTest(20,0,1,true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testKillSingleMapTask(){
  LOG.debug("Testing killing a single map task");
  genericTest(20,1,0,true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testKillMultipleReduceTasks(){
  LOG.debug("Testing killing multiple reduce tasks");
  genericTest(20,0,reduceStarts.length,true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSingleReduceTask(){
  LOG.debug("Testing with a single reduce task");
  genericTest(20,0,1,false);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSingleMapTask(){
  LOG.debug("Testing with a single map task");
  genericTest(20,1,0,false);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testMultipleMapTasks(){
  LOG.debug("Testing with multiple map tasks");
  genericTest(20,mapStarts.length,0,false);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testKillMultipleMapAndReduceTasks(){
  LOG.debug("Testing killing multiple map and reduce tasks");
  genericTest(20,mapStarts.length,reduceStarts.length,true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testKillMultipleMapTasks(){
  LOG.debug("Testing killing multiple map tasks");
  genericTest(20,mapStarts.length,0,true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.TestSortValidate </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testMapReduceSort() throws Exception {
  runRandomWriter(cluster.getConf(),SORT_INPUT_PATH);
  runSort(cluster.getConf(),SORT_INPUT_PATH,SORT_OUTPUT_PATH);
  runSortValidator(cluster.getConf(),SORT_INPUT_PATH,SORT_OUTPUT_PATH);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.TestTTResourceReporting </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Test that verifies that configured values are reported correctly.
 * @throws Exception
 */
@Test public void testConfiguredResourceValues() throws Exception {
  JobConf conf=new JobConf();
  conf.setLong("totalVmemOnTT",4 * 1024 * 1024* 1024L);
  conf.setLong("totalPmemOnTT",2 * 1024 * 1024* 1024L);
  conf.setLong("mapSlotMemorySize",1 * 512L);
  conf.setLong("reduceSlotMemorySize",1 * 1024L);
  conf.setLong("availableVmemOnTT",4 * 1024 * 1024* 1024L);
  conf.setLong("availablePmemOnTT",2 * 1024 * 1024* 1024L);
  conf.setLong("cumulativeCpuTime",10000L);
  conf.setLong("cpuFrequency",2000000L);
  conf.setInt("numProcessors",8);
  conf.setFloat("cpuUsage",15.5F);
  conf.setLong("procCumulativeCpuTime",1000L);
  conf.setLong("procVirtualMemorySize",2 * 1024 * 1024* 1024L);
  conf.setLong("procPhysicalMemorySize",1024 * 1024 * 1024L);
  conf.setClass(org.apache.hadoop.mapreduce.server.tasktracker.TTConfig.TT_RESOURCE_CALCULATOR_PLUGIN,DummyResourceCalculatorPlugin.class,ResourceCalculatorPlugin.class);
  conf.setLong(DummyResourceCalculatorPlugin.MAXVMEM_TESTING_PROPERTY,4 * 1024 * 1024* 1024L);
  conf.setLong(DummyResourceCalculatorPlugin.MAXPMEM_TESTING_PROPERTY,2 * 1024 * 1024* 1024L);
  conf.setLong(MRConfig.MAPMEMORY_MB,512L);
  conf.setLong(MRConfig.REDUCEMEMORY_MB,1024L);
  conf.setLong(DummyResourceCalculatorPlugin.CUMULATIVE_CPU_TIME,10000L);
  conf.setLong(DummyResourceCalculatorPlugin.CPU_FREQUENCY,2000000L);
  conf.setInt(DummyResourceCalculatorPlugin.NUM_PROCESSORS,8);
  conf.setFloat(DummyResourceCalculatorPlugin.CPU_USAGE,15.5F);
  try {
    setUpCluster(conf);
    JobConf jobConf=miniMRCluster.createJobConf();
    jobConf.setMemoryForMapTask(1 * 1024L);
    jobConf.setMemoryForReduceTask(2 * 1024L);
    jobConf.setClass(org.apache.hadoop.mapreduce.server.tasktracker.TTConfig.TT_RESOURCE_CALCULATOR_PLUGIN,DummyResourceCalculatorPlugin.class,ResourceCalculatorPlugin.class);
    jobConf.setLong(DummyResourceCalculatorPlugin.PROC_CUMULATIVE_CPU_TIME,1000L);
    jobConf.setLong(DummyResourceCalculatorPlugin.PROC_VMEM_TESTING_PROPERTY,2 * 1024 * 1024* 1024L);
    jobConf.setLong(DummyResourceCalculatorPlugin.PROC_PMEM_TESTING_PROPERTY,1024 * 1024 * 1024L);
    runSleepJob(jobConf);
    verifyTestResults();
  }
  finally {
    tearDownCluster();
  }
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Test that verifies that total memory values are calculated and reported
 * correctly.
 * @throws Exception
 */
@Test public void testResourceValuesOnLinux() throws Exception {
  if (!System.getProperty("os.name").startsWith("Linux")) {
    return;
  }
  JobConf conf=new JobConf();
  LinuxResourceCalculatorPlugin plugin=new LinuxResourceCalculatorPlugin();
  conf.setLong("totalVmemOnTT",plugin.getVirtualMemorySize());
  conf.setLong("totalPmemOnTT",plugin.getPhysicalMemorySize());
  conf.setLong("numProcessors",plugin.getNumProcessors());
  try {
    setUpCluster(conf);
    runSleepJob(miniMRCluster.createJobConf());
    verifyTestResults(true);
  }
  finally {
    tearDownCluster();
  }
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Test that verifies default values are configured and reported correctly.
 * @throws Exception
 */
@Test public void testDefaultResourceValues() throws Exception {
  JobConf conf=new JobConf();
  try {
    conf.setClass(org.apache.hadoop.mapreduce.server.tasktracker.TTConfig.TT_RESOURCE_CALCULATOR_PLUGIN,DummyResourceCalculatorPlugin.class,ResourceCalculatorPlugin.class);
    setUpCluster(conf);
    JobConf jobConf=miniMRCluster.createJobConf();
    jobConf.setClass(org.apache.hadoop.mapreduce.server.tasktracker.TTConfig.TT_RESOURCE_CALCULATOR_PLUGIN,DummyResourceCalculatorPlugin.class,ResourceCalculatorPlugin.class);
    runSleepJob(jobConf);
    verifyTestResults();
  }
  finally {
    tearDownCluster();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.TestTaskChildOptsParsing </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testParseChildJavaOptsTrailingSpace(){
  performTest("-Dfoo=bar -Dbaz=biz ");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testParseChildJavaOptsMultipleTabs(){
  performTest("-Dfoo=bar\t\t-Dbaz=biz");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testParseChildJavaOptsOneSpace(){
  performTest("-Dfoo=bar -Dbaz=biz");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testParseChildJavaOptsOneTab(){
  performTest("-Dfoo=bar\t-Dbaz=biz");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testParseChildJavaOptsLeadingSpace(){
  performTest(" -Dfoo=bar -Dbaz=biz");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testParseChildJavaOptsMulitpleSpaces(){
  performTest("-Dfoo=bar  -Dbaz=biz");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.TestTaskStatus </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testMapTaskStatusStartAndFinishTimes(){
  checkTaskStatues(true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testReduceTaskStatusStartAndFinishTimes(){
  checkTaskStatues(false);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.TestTaskTrackerDirectories </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreatesLogDir() throws Exception {
  File dir=TaskLog.getUserLogDir();
  FileUtil.fullyDelete(dir);
  setupTaskController(new Configuration());
  checkDir(dir.getAbsolutePath());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCreatesLocalDirs() throws Exception {
  Configuration conf=new Configuration();
  String[] dirs=new String[]{TEST_DIR + "/local1",TEST_DIR + "/local2"};
  conf.setStrings(MRConfig.LOCAL_DIR,dirs);
  setupTaskController(conf);
  for (  String dir : dirs) {
    checkDir(dir);
  }
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testFixesLocalDirPermissions() throws Exception {
  Configuration conf=new Configuration();
  String[] dirs=new String[]{TEST_DIR + "/badperms"};
  new File(dirs[0]).mkdirs();
  FileUtil.chmod(dirs[0],"000");
  conf.setStrings(MRConfig.LOCAL_DIR,dirs);
  setupTaskController(conf);
  for (  String dir : dirs) {
    checkDir(dir);
  }
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testFixesLogDirPermissions() throws Exception {
  File dir=TaskLog.getUserLogDir();
  FileUtil.fullyDelete(dir);
  dir.mkdirs();
  FileUtil.chmod(dir.getAbsolutePath(),"000");
  setupTaskController(new Configuration());
  checkDir(dir.getAbsolutePath());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.TestTaskTrackerMemoryManager </h4><pre class="type-18 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Is not executed with the test suite
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Test for verifying that tasks that go beyond limits get killed.
 * @throws Exception
 */
@Ignore("Intermittent, unexpected task success causes test to fail.") @Test public void testTasksBeyondLimits() throws Exception {
  if (!isProcfsBasedTreeAvailable()) {
    return;
  }
  JobConf fConf=new JobConf();
  fConf.setInt(TTConfig.TT_MEMORY_MANAGER_MONITORING_INTERVAL,100);
  fConf.setLong(MRConfig.MAPMEMORY_MB,2 * 1024);
  fConf.setLong(MRConfig.REDUCEMEMORY_MB,2 * 1024);
  startCluster(fConf);
  runJobExceedingMemoryLimit(false);
}

</code></pre>

<br>
<pre class="type-18 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Is not executed with the test suite
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Runs tests with tasks beyond limit and using old configuration values for
 * the TaskTracker.
 * @throws Exception
 */
@Ignore("Intermittent, unexpected task success causes test to fail.") @Test public void testTaskMemoryMonitoringWithDeprecatedConfiguration() throws Exception {
  if (!isProcfsBasedTreeAvailable()) {
    return;
  }
  JobConf fConf=new JobConf();
  fConf.setInt(TTConfig.TT_MEMORY_MANAGER_MONITORING_INTERVAL,100);
  fConf.setLong(JobConf.MAPRED_TASK_DEFAULT_MAXVMEM_PROPERTY,(2L * 1024L * 1024L* 1024L));
  fConf.setLong(JobConf.UPPER_LIMIT_ON_TASK_VMEM_PROPERTY,(3L * 1024L * 1024L* 1024L));
  startCluster(fConf);
  runJobExceedingMemoryLimit(false);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Test for verifying that nothing is killed when memory management is
 * disabled on the TT, even when the tasks run over their limits.
 * @throws Exception
 */
@Test public void testTTLimitsDisabled() throws Exception {
  if (!isProcfsBasedTreeAvailable()) {
    return;
  }
  startCluster(new JobConf());
  long PER_TASK_LIMIT=1L;
  JobConf conf=miniMRCluster.createJobConf();
  conf.setMemoryForMapTask(PER_TASK_LIMIT);
  conf.setMemoryForReduceTask(PER_TASK_LIMIT);
  runAndCheckSuccessfulJob(conf);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Test for verifying that tasks within limits, with the cumulative usage also
 * under TT's limits succeed.
 * @throws Exception
 */
@Test public void testTasksWithinLimits() throws Exception {
  if (!isProcfsBasedTreeAvailable()) {
    return;
  }
  long PER_TASK_LIMIT=2 * 1024L;
  JobConf fConf=new JobConf();
  fConf.setLong(MRConfig.MAPMEMORY_MB,2 * 1024L);
  fConf.setLong(MRConfig.REDUCEMEMORY_MB,2 * 1024L);
  fConf.setLong(TTConfig.TT_RESERVED_PHYSCIALMEMORY_MB,1L);
  startCluster(new JobConf());
  JobConf conf=new JobConf(miniMRCluster.createJobConf());
  conf.setMemoryForMapTask(PER_TASK_LIMIT);
  conf.setMemoryForReduceTask(PER_TASK_LIMIT);
  conf.setLong(MRJobConfig.MAP_MEMORY_PHYSICAL_MB,PER_TASK_LIMIT);
  conf.setLong(MRJobConfig.REDUCE_MEMORY_PHYSICAL_MB,PER_TASK_LIMIT);
  runAndCheckSuccessfulJob(conf);
}

</code></pre>

<br>
<pre class="type-18 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Is not executed with the test suite
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Test for verifying that tasks that go beyond physical limits get killed.
 * @throws Exception
 */
@Ignore("Intermittent, unexpected task success causes test to fail.") @Test public void testTasksBeyondPhysicalLimits() throws Exception {
  if (!isProcfsBasedTreeAvailable()) {
    return;
  }
  JobConf fConf=new JobConf();
  fConf.setInt(TTConfig.TT_MEMORY_MANAGER_MONITORING_INTERVAL,100);
  fConf.setLong(TTConfig.TT_RESERVED_PHYSCIALMEMORY_MB,1L);
  startCluster(fConf);
  runJobExceedingMemoryLimit(true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.gridmix.TestDistCacheEmulation </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Test if DistributedCacheEmulator's setup of GenerateDistCacheData is
 * working as expected.
 * @throws IOException
 * @throws InterruptedException
 */
@Test public void testSetupGenerateDistCacheData() throws IOException, InterruptedException {
  long[] sortedFileSizes=new long[5];
  JobConf jobConf=runSetupGenerateDistCacheData(true,sortedFileSizes);
  validateSetupGenDC(jobConf,sortedFileSizes);
  runSetupGenerateDistCacheData(false,sortedFileSizes);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.gridmix.TestFilePool </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testStriper() throws Exception {
  final Random r=new Random();
  final Configuration conf=new Configuration();
  final FileSystem fs=FileSystem.getLocal(conf).getRaw();
  conf.setLong(FilePool.GRIDMIX_MIN_FILE,3 * 1024);
  final FilePool pool=new FilePool(conf,base){
    @Override public BlockLocation[] locationsFor(    FileStatus stat,    long start,    long len) throws IOException {
      return new BlockLocation[]{new BlockLocation()};
    }
  }
;
  pool.refresh();
  final int expectedPoolSize=(NFILES / 2 * (NFILES / 2 + 1) - 6) * 1024;
  final InputStriper striper=new InputStriper(pool,expectedPoolSize);
  int last=0;
  for (int i=0; i < expectedPoolSize; last=Math.min(expectedPoolSize - i,r.nextInt(expectedPoolSize))) {
    checkSplitEq(fs,striper.splitFor(pool,last,0),last);
    i+=last;
  }
  final InputStriper striper2=new InputStriper(pool,expectedPoolSize);
  checkSplitEq(fs,striper2.splitFor(pool,expectedPoolSize,0),expectedPoolSize);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.gridmix.TestGridmixCompressedInputGeneration </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Disable compression emulation and verify whether input files are 
 * compressed or not.
 * @throws Exception
 */
@Test public void testGridmixInputGenerationWithoutCompressionEnable() throws Exception {
  UtilsForGridmix.cleanup(gridmixDir,rtClient.getDaemonConf());
  final long inputSizeInMB=1024 * 6;
  final String[] runtimeValues={"LOADJOB",SubmitterUserResolver.class.getName(),"STRESS",inputSizeInMB + "m","file:///dev/null"};
  final String[] otherArgs={"-D",GridMixConfig.GRIDMIX_DISTCACHE_ENABLE + "=false","-D",GridMixConfig.GRIDMIX_COMPRESSION_ENABLE + "=false"};
  LOG.info("Verify the generated uncompressed input data.");
  runAndVerify(false,inputSizeInMB,runtimeValues,otherArgs);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Generate input data and verify whether input files are compressed
 * or not.
 * @throws Exception - if an error occurs.
 */
@Test public void testGridmixCompressionInputGeneration() throws Exception {
  final long inputSizeInMB=1024 * 7;
  final String[] runtimeValues={"LOADJOB",SubmitterUserResolver.class.getName(),"STRESS",inputSizeInMB + "m","file:///dev/null"};
  final String[] otherArgs={"-D",GridMixConfig.GRIDMIX_DISTCACHE_ENABLE + "=false","-D",GridMixConfig.GRIDMIX_COMPRESSION_ENABLE + "=true"};
  LOG.info("Verify the generated compressed input data.");
  runAndVerify(true,inputSizeInMB,runtimeValues,otherArgs);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.gridmix.TestGridmixRecord </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testKeySpec() throws Exception {
  final int min=5;
  final int max=300;
  final GridmixKey a=new GridmixKey(GridmixKey.REDUCE_SPEC,1,0L);
  final GridmixKey b=new GridmixKey(GridmixKey.REDUCE_SPEC,1,0L);
  lengthTest(a,b,min,max);
  randomReplayTest(a,b,min,max);
  binSortTest(a,b,min,max,new GridmixKey.Comparator());
  eqSeedTest(a,b,max);
  checkSpec(a,b);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testBaseRecord() throws Exception {
  final int min=1;
  final int max=300;
  final GridmixRecord a=new GridmixRecord();
  final GridmixRecord b=new GridmixRecord();
  lengthTest(a,b,min,max);
  randomReplayTest(a,b,min,max);
  binSortTest(a,b,min,max,new GridmixRecord.Comparator());
  eqSeedTest(a,b,300);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testKeyData() throws Exception {
  final int min=2;
  final int max=300;
  final GridmixKey a=new GridmixKey(GridmixKey.DATA,1,0L);
  final GridmixKey b=new GridmixKey(GridmixKey.DATA,1,0L);
  lengthTest(a,b,min,max);
  randomReplayTest(a,b,min,max);
  binSortTest(a,b,min,max,new GridmixKey.Comparator());
  eqSeedTest(a,b,300);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.gridmix.TestGridmixSubmission </h4><pre class="type-15 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testStressSubmitWithDefaultQueue() throws Exception {
  policy=GridmixJobSubmissionPolicy.STRESS;
  System.out.println(" Stress with default q started at " + System.currentTimeMillis());
  doSubmission(true,false);
  System.out.println(" Stress with default q ended at " + System.currentTimeMillis());
}

</code></pre>

<br>
<pre class="type-15 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests the reading of traces in GridMix3. These traces are generated
 * by Rumen and are in the JSON format. The traces can optionally be
 * compressed and uncompressed traces can also be passed to GridMix3 via
 * its standard input stream. The testing is effected via JUnit assertions.
 * @throws Exception if there was an error.
 */
@Test public void testTraceReader() throws Exception {
  Configuration conf=new Configuration();
  FileSystem lfs=FileSystem.getLocal(conf);
  Path rootInputDir=new Path(System.getProperty("src.test.data"));
  rootInputDir=rootInputDir.makeQualified(lfs.getUri(),lfs.getWorkingDirectory());
  Path rootTempDir=new Path(System.getProperty("test.build.data",System.getProperty("java.io.tmpdir")),"testTraceReader");
  rootTempDir=rootTempDir.makeQualified(lfs.getUri(),lfs.getWorkingDirectory());
  Path inputFile=new Path(rootInputDir,"wordcount.json.gz");
  Path tempFile=new Path(rootTempDir,"gridmix3-wc.json");
  InputStream origStdIn=System.in;
  InputStream tmpIs=null;
  try {
    DebugGridmix dgm=new DebugGridmix();
    JobStoryProducer jsp=dgm.createJobStoryProducer(inputFile.toString(),conf);
    System.out.println("Verifying JobStory from compressed trace...");
    verifyWordCountJobStory(jsp.getNextJob());
    expandGzippedTrace(lfs,inputFile,tempFile);
    jsp=dgm.createJobStoryProducer(tempFile.toString(),conf);
    System.out.println("Verifying JobStory from uncompressed trace...");
    verifyWordCountJobStory(jsp.getNextJob());
    tmpIs=lfs.open(tempFile);
    System.setIn(tmpIs);
    System.out.println("Verifying JobStory from trace in standard input...");
    jsp=dgm.createJobStoryProducer("-",conf);
    verifyWordCountJobStory(jsp.getNextJob());
  }
  finally {
    System.setIn(origStdIn);
    if (tmpIs != null) {
      tmpIs.close();
    }
    lfs.delete(rootTempDir,true);
  }
}

</code></pre>

<br>
<pre class="type-15 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testStressSubmit() throws Exception {
  policy=GridmixJobSubmissionPolicy.STRESS;
  System.out.println(" Stress started at " + System.currentTimeMillis());
  doSubmission(false,false);
  System.out.println(" Stress ended at " + System.currentTimeMillis());
}

</code></pre>

<br>
<pre class="type-15 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSerialSubmit() throws Exception {
  policy=GridmixJobSubmissionPolicy.SERIAL;
  System.out.println("Serial started at " + System.currentTimeMillis());
  doSubmission(false,false);
  System.out.println("Serial ended at " + System.currentTimeMillis());
}

</code></pre>

<br>
<pre class="type-15 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testReplaySubmit() throws Exception {
  policy=GridmixJobSubmissionPolicy.REPLAY;
  System.out.println(" Replay started at " + System.currentTimeMillis());
  doSubmission(false,false);
  System.out.println(" Replay ended at " + System.currentTimeMillis());
  System.out.println(" Replay started with default output path at time " + System.currentTimeMillis());
  doSubmission(false,true);
  System.out.println(" Replay ended with default output path at time " + System.currentTimeMillis());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.gridmix.TestGridmixWith10minTrace </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Generate data and run gridmix by sleep jobs with STRESS submission 
 * policy in a RoundRobinUserResolver mode against 10 minutes trace file.
 * Verify each Gridmix job history with a corresponding job story 
 * in a trace file after completion of all the jobs execution.
 * @throws Exception - if an error occurs.
 */
@Test public void testGridmixWith10minTrace() throws Exception {
  final long inputSizeInMB=cSize * 250;
  final long minFileSize=200 * 1024 * 1024;
  String[] runtimeValues={"SLEEPJOB",RoundRobinUserResolver.class.getName(),"SERIAL",inputSizeInMB + "m","file://" + UtilsForGridmix.getProxyUsersFile(conf),map.get("10m")};
  String[] otherArgs={"-D",GridMixConfig.GRIDMIX_DISTCACHE_ENABLE + "=false","-D",GridMixConfig.GRIDMIX_COMPRESSION_ENABLE + "=false","-D",GridMixConfig.GRIDMIX_MINIMUM_FILE_SIZE + "=" + minFileSize,"-D",GridMixConfig.GRIDMIX_JOB_SUBMISSION_QUEUE_IN_TRACE + "=false","-D",GridMixConfig.GRIDMIX_SLEEPJOB_MAPTASK_ONLY + "=true","-D",GridMixConfig.GRIDMIX_SLEEP_MAP_MAX_TIME + "=10"};
  String tracePath=map.get("10m");
  runGridmixAndVerify(runtimeValues,otherArgs,tracePath);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.gridmix.TestGridmixWith12minTrace </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Generate data and run gridmix sleep jobs with REPLAY submission 
 * policy in a SubmitterUserResolver mode against 12 minutes trace file.
 * Verify each Gridmix job history with a corresponding job story 
 * in a trace file after completion of all the jobs execution.
 * @throws Exception - if an error occurs.
 */
@Test public void testGridmixWith12minTrace() throws Exception {
  final long inputSizeInMB=cSize * 150;
  String[] runtimeValues={"SLEEPJOB",SubmitterUserResolver.class.getName(),"REPLAY",inputSizeInMB + "m",map.get("12m")};
  String[] otherArgs={"-D",GridMixConfig.GRIDMIX_DISTCACHE_ENABLE + "=false","-D",GridMixConfig.GRIDMIX_COMPRESSION_ENABLE + "=false","-D",GridMixConfig.GRIDMIX_SLEEP_MAP_MAX_TIME + "=10","-D",GridMixConfig.GRIDMIX_SLEEP_REDUCE_MAX_TIME + "=5"};
  String tracePath=map.get("12m");
  runGridmixAndVerify(runtimeValues,otherArgs,tracePath);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.gridmix.TestGridmixWith1minTrace </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Generate data and run gridmix by load job with STRESS submission policy
 * in a SubmitterUserResolver mode against 1 minute trace file. 
 * Verify each Gridmix job history with a corresponding job story in the 
 * trace after completion of all the jobs execution.
 * @throws Exception - if an error occurs.
 */
@Test public void testGridmixWith1minTrace() throws Exception {
  final long inputSizeInMB=cSize * 400;
  String[] runtimeValues={"LOADJOB",SubmitterUserResolver.class.getName(),"STRESS",inputSizeInMB + "m",map.get("1m")};
  String[] otherArgs={"-D",GridMixConfig.GRIDMIX_DISTCACHE_ENABLE + "=false","-D",GridMixConfig.GRIDMIX_COMPRESSION_ENABLE + "=false"};
  String tracePath=map.get("1m");
  runGridmixAndVerify(runtimeValues,otherArgs,tracePath);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.gridmix.TestGridmixWith3minTrace </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Generate data and run gridmix by load job with REPLAY submission 
 * policy in a RoundRobinUserResolver mode by using 3 minutes trace file. 
 * Verify each Gridmix job history with a corresponding job story in 
 * a trace after completion of all the jobs execution.  
 * @throws Exception - if an error occurs.
 */
@Test public void testGridmixWith3minTrace() throws Exception {
  final long inputSizeInMB=cSize * 200;
  String[] runtimeValues={"LOADJOB",RoundRobinUserResolver.class.getName(),"REPLAY",inputSizeInMB + "m","file://" + UtilsForGridmix.getProxyUsersFile(conf),map.get("3m")};
  String[] otherArgs={"-D",GridMixConfig.GRIDMIX_DISTCACHE_ENABLE + "=false","-D",GridMixConfig.GRIDMIX_COMPRESSION_ENABLE + "=false"};
  String tracePath=map.get("3m");
  runGridmixAndVerify(runtimeValues,otherArgs,tracePath);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.gridmix.TestGridmixWith5minTrace </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Generate data and run gridmix by load job with SERIAL submission 
 * policy in a SubmitterUserResolver mode against 5 minutes trace file. 
 * Verify each Gridmix job history with a corresponding job story 
 * in a trace file after completion of all the jobs.  
 * @throws Exception - if an error occurs.
 */
@Test public void testGridmixWith5minTrace() throws Exception {
  final long inputSizeInMB=cSize * 300;
  final long minFileSize=100 * 1024 * 1024;
  String[] runtimeValues={"LOADJOB",SubmitterUserResolver.class.getName(),"SERIAL",inputSizeInMB + "m",map.get("5m")};
  String[] otherArgs={"-D",GridMixConfig.GRIDMIX_DISTCACHE_ENABLE + "=false","-D",GridMixConfig.GRIDMIX_COMPRESSION_ENABLE + "=false","-D",GridMixConfig.GRIDMIX_MINIMUM_FILE_SIZE + "=" + minFileSize};
  String tracePath=map.get("5m");
  runGridmixAndVerify(runtimeValues,otherArgs,tracePath);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.gridmix.TestGridmixWith7minTrace </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Generate data and run gridmix by sleep job with STRESS submission 
 * policy in a SubmitterUserResolver mode against 7 minute trace file.
 * Verify each Gridmix job history with a corresponding job story 
 * in a trace file after completion of all the jobs execution.
 * @throws Exception - if an error occurs.
 */
@Test public void testGridmixWith7minTrace() throws Exception {
  final long inputSizeInMB=cSize * 400;
  final long minFileSize=200 * 1024 * 1024;
  String[] runtimeValues={"SLEEPJOB",SubmitterUserResolver.class.getName(),"STRESS",inputSizeInMB + "m",map.get("7m")};
  String[] otherArgs={"-D",GridMixConfig.GRIDMIX_DISTCACHE_ENABLE + "=false","-D",GridMixConfig.GRIDMIX_COMPRESSION_ENABLE + "=false","-D",GridMixConfig.GRIDMIX_MINIMUM_FILE_SIZE + "=" + minFileSize,"-D",GridMixConfig.GRIDMIX_JOB_SUBMISSION_QUEUE_IN_TRACE + "=false"};
  String tracePath=map.get("7m");
  runGridmixAndVerify(runtimeValues,otherArgs,tracePath);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.gridmix.TestRandomAlgorithm </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRandomSelectSelector(){
  for (  int[] param : parameters) {
    testRandomSelectSelector(param[0],param[1],param[2]);
  }
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRandomSelect(){
  for (  int[] param : parameters) {
    testRandomSelect(param[0],param[1],param[2]);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.gridmix.TestRecordFactory </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testZero() throws Exception {
  final Random r=new Random();
  final long targetBytes=r.nextInt(1 << 20);
  testFactory(targetBytes,0);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRandom() throws Exception {
  final Random r=new Random();
  final long targetBytes=r.nextInt(1 << 20) + 3 * (1 << 14);
  final long targetRecs=r.nextInt(1 << 14);
  testFactory(targetBytes,targetRecs);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAvg() throws Exception {
  final Random r=new Random();
  final long avgsize=r.nextInt(1 << 10) + 1;
  final long targetRecs=r.nextInt(1 << 14);
  testFactory(targetRecs * avgsize,targetRecs);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.gridmix.TestSleepJob </h4><pre class="type-15 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testMapTasksOnlySubmit() throws Exception {
  policy=GridmixJobSubmissionPolicy.STRESS;
  System.out.println(" Map tasks only at " + System.currentTimeMillis());
  doSubmission("-D" + SleepJob.SLEEPJOB_MAPTASK_ONLY + "=true");
  System.out.println(" Map tasks only ended at " + System.currentTimeMillis());
}

</code></pre>

<br>
<pre class="type-15 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRandomLocationSubmit() throws Exception {
  policy=GridmixJobSubmissionPolicy.STRESS;
  System.out.println(" Random locations started at " + System.currentTimeMillis());
  doSubmission("-D" + JobCreator.SLEEPJOB_RANDOM_LOCATIONS + "=3");
  System.out.println(" Random locations ended at " + System.currentTimeMillis());
}

</code></pre>

<br>
<pre class="type-15 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testLimitTaskSleepTimeSubmit() throws Exception {
  policy=GridmixJobSubmissionPolicy.STRESS;
  System.out.println(" Limit sleep time only at " + System.currentTimeMillis());
  doSubmission("-D" + SleepJob.GRIDMIX_SLEEP_MAX_MAP_TIME + "=100","-D" + SleepJob.GRIDMIX_SLEEP_MAX_REDUCE_TIME + "=200");
  System.out.println(" Limit sleep time ended at " + System.currentTimeMillis());
}

</code></pre>

<br>
<pre class="type-15 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testStressSubmit() throws Exception {
  policy=GridmixJobSubmissionPolicy.STRESS;
  System.out.println(" Stress started at " + System.currentTimeMillis());
  doSubmission();
  System.out.println(" Stress ended at " + System.currentTimeMillis());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRandomLocation() throws Exception {
  UserGroupInformation ugi=UserGroupInformation.getLoginUser();
  testRandomLocation(1,10,ugi);
  testRandomLocation(2,10,ugi);
}

</code></pre>

<br>
<pre class="type-15 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testReplaySubmit() throws Exception {
  policy=GridmixJobSubmissionPolicy.REPLAY;
  System.out.println(" Replay started at " + System.currentTimeMillis());
  doSubmission();
  System.out.println(" Replay ended at " + System.currentTimeMillis());
}

</code></pre>

<br>
<pre class="type-15 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSerialSubmit() throws Exception {
  policy=GridmixJobSubmissionPolicy.SERIAL;
  System.out.println("Serial started at " + System.currentTimeMillis());
  doSubmission();
  System.out.println("Serial ended at " + System.currentTimeMillis());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapred.gridmix.TestUserResolve </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Validate the behavior of {@link RoundRobinUserResolver} for different
 * user resource files like
 * <li> Empty user resource file
 * <li> Non existent user resource file
 * <li> User resource file with valid content
 * @throws Exception
 */
@Test public void testRoundRobinResolver() throws Exception {
  final UserResolver rslv=new RoundRobinUserResolver();
  Path usersFilePath=new Path(rootDir,"users");
  URI userRsrc=new URI(usersFilePath.toString());
  fs.delete(usersFilePath,false);
  String expectedErrorMsg="File " + userRsrc + " does not exist.";
  validateBadUsersFile(rslv,userRsrc,expectedErrorMsg);
  writeUserList(usersFilePath,"");
  expectedErrorMsg=RoundRobinUserResolver.buildEmptyUsersErrorMsg(userRsrc);
  validateBadUsersFile(rslv,userRsrc,expectedErrorMsg);
  writeUserList(usersFilePath,"user0,groupA,groupB,groupC\nuser1,groupA,groupC\n");
  validateValidUsersFile(rslv,userRsrc);
  writeUserList(usersFilePath,"user0,groupA,groupB\nuser1,");
  validateValidUsersFile(rslv,userRsrc);
  writeUserList(usersFilePath,"user0\nuser1");
  validateValidUsersFile(rslv,userRsrc);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapreduce.TestJobACLs </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Test view-job-acl, modify-job-acl and acl persistence to the
 * completed-jobs-store.
 * @throws IOException
 * @throws InterruptedException
 * @throws ClassNotFoundException
 */
@Test public void testACLS() throws Exception {
  verifyACLViewJob();
  verifyACLModifyJob(modifyColleague);
  verifyACLModifyJob(qAdmin);
  verifyACLPersistence();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapreduce.TestLocalRunner </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Run a test with several mappers in parallel, operating at different
 * speeds. Verify that the correct amount of output is created.
 */
@Test(timeout=120 * 1000) public void testMultiMaps() throws Exception {
  Job job=Job.getInstance();
  Path inputPath=createMultiMapsInput();
  Path outputPath=getOutputPath();
  Configuration conf=new Configuration();
  FileSystem fs=FileSystem.getLocal(conf);
  if (fs.exists(outputPath)) {
    fs.delete(outputPath,true);
  }
  job.setMapperClass(StressMapper.class);
  job.setReducerClass(CountingReducer.class);
  job.setNumReduceTasks(1);
  LocalJobRunner.setLocalMaxRunningMaps(job,6);
  job.getConfiguration().set("io.sort.record.pct","0.50");
  job.getConfiguration().set("io.sort.mb","25");
  FileInputFormat.addInputPath(job,inputPath);
  FileOutputFormat.setOutputPath(job,outputPath);
  final Thread toInterrupt=Thread.currentThread();
  Thread interrupter=new Thread(){
    public void run(){
      try {
        Thread.sleep(120 * 1000);
        toInterrupt.interrupt();
      }
 catch (      InterruptedException ie) {
      }
    }
  }
;
  LOG.info("Submitting job...");
  job.submit();
  LOG.info("Starting thread to interrupt main thread in 2 minutes");
  interrupter.start();
  LOG.info("Waiting for job to complete...");
  try {
    job.waitForCompletion(true);
  }
 catch (  InterruptedException ie) {
    LOG.fatal("Interrupted while waiting for job completion",ie);
    for (int i=0; i < 10; i++) {
      LOG.fatal("Dumping stacks");
      ReflectionUtils.logThreadInfo(LOG,"multimap threads",0);
      Thread.sleep(1000);
    }
    throw ie;
  }
  LOG.info("Job completed, stopping interrupter");
  interrupter.interrupt();
  try {
    interrupter.join();
  }
 catch (  InterruptedException ie) {
  }
  LOG.info("Verifying output");
  verifyOutput(outputPath);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapreduce.TestMRJobClient </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testJobList(String jobId,Configuration conf) throws Exception {
  verifyJobPriority(jobId,"HIGH",conf,createJobClient());
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testJobClient() throws Exception {
  Configuration conf=createJobConf();
  Job job=runJob(conf);
  String jobId=job.getJobID().toString();
  testGetCounter(jobId,conf);
  testJobList(jobId,conf);
  testChangingJobPriority(jobId,conf);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapreduce.TestMapCollection </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSplitMetaSpill() throws Exception {
  runTest("splitmetaspill",7,1,131072,1,0.8f);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRandomCompress() throws Exception {
  Configuration conf=new Configuration();
  conf.setInt(Job.COMPLETION_POLL_INTERVAL_KEY,100);
  Job job=Job.getInstance(new Cluster(conf),conf);
  conf=job.getConfiguration();
  conf.setInt(MRJobConfig.IO_SORT_MB,1);
  conf.setBoolean(MRJobConfig.MAP_OUTPUT_COMPRESS,true);
  conf.setClass("test.mapcollection.class",RandomFactory.class,RecordFactory.class);
  final Random r=new Random();
  final long seed=r.nextLong();
  LOG.info("SEED: " + seed);
  r.setSeed(seed);
  conf.set(MRJobConfig.MAP_SORT_SPILL_PERCENT,Float.toString(Math.max(0.1f,r.nextFloat())));
  RandomFactory.setLengths(conf,r,1 << 14);
  conf.setInt("test.spillmap.records",r.nextInt(500));
  conf.setLong("test.randomfactory.seed",r.nextLong());
  runTest("randomCompress",job);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testPostSpillMeta() throws Exception {
  Configuration conf=new Configuration();
  conf.setInt(Job.COMPLETION_POLL_INTERVAL_KEY,100);
  Job job=Job.getInstance(new Cluster(conf),conf);
  conf=job.getConfiguration();
  conf.setInt(MRJobConfig.IO_SORT_MB,1);
  conf.set(MRJobConfig.MAP_SORT_SPILL_PERCENT,Float.toString(.986328125f));
  conf.setClass("test.mapcollection.class",StepFactory.class,RecordFactory.class);
  StepFactory.setLengths(conf,4000,0,96,0,252);
  conf.setInt("test.spillmap.records",1000);
  conf.setBoolean("test.disable.key.read",true);
  conf.setBoolean("test.disable.val.read",true);
  runTest("postspillmeta",job);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testValLastByte() throws Exception {
  runTest("vallastbyte",128,896,1344,1,0.5f);
  runTest("keylastbyte",512,1024,896,1,0.5f);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testLargeRecords() throws Exception {
  runTest("largerec",100,1024 * 1024,5,1,.8f);
  runTest("largekeyzeroval",1024 * 1024,0,5,1,.8f);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSpillPer2B() throws Exception {
  runTest("fullspill2B",1,1,10000,1,1.0f);
  runTest("fullspill200B",100,100,10000,1,1.0f);
  runTest("fullspillbuf",10 * 1024,20 * 1024,256,1,1.0f);
  runTest("lt50perspill",100,100,10000,1,0.3f);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testZeroVal() throws Exception {
  runTest("zeroval",1,0,10000,1,.8f);
  runTest("zerokey",0,1,10000,1,.8f);
  runTest("zerokeyval",0,0,10000,1,.8f);
  runTest("zerokeyvalfull",0,0,10000,1,1.0f);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRandom() throws Exception {
  Configuration conf=new Configuration();
  conf.setInt(Job.COMPLETION_POLL_INTERVAL_KEY,100);
  Job job=Job.getInstance(new Cluster(conf),conf);
  conf=job.getConfiguration();
  conf.setInt(MRJobConfig.IO_SORT_MB,1);
  conf.setClass("test.mapcollection.class",RandomFactory.class,RecordFactory.class);
  final Random r=new Random();
  final long seed=r.nextLong();
  LOG.info("SEED: " + seed);
  r.setSeed(seed);
  conf.set(MRJobConfig.MAP_SORT_SPILL_PERCENT,Float.toString(Math.max(0.1f,r.nextFloat())));
  RandomFactory.setLengths(conf,r,1 << 14);
  conf.setInt("test.spillmap.records",r.nextInt(500));
  conf.setLong("test.randomfactory.seed",r.nextLong());
  runTest("random",job);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSingleRecord() throws Exception {
  runTest("singlerecord",100,100,1,1,1.0f);
  runTest("zerokeyvalsingle",0,0,1,1,1.0f);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testLargeRecConcurrent() throws Exception {
  Configuration conf=new Configuration();
  conf.setInt(Job.COMPLETION_POLL_INTERVAL_KEY,100);
  Job job=Job.getInstance(new Cluster(conf),conf);
  conf=job.getConfiguration();
  conf.setInt(MRJobConfig.IO_SORT_MB,1);
  conf.set(MRJobConfig.MAP_SORT_SPILL_PERCENT,Float.toString(.986328125f));
  conf.setClass("test.mapcollection.class",StepFactory.class,RecordFactory.class);
  StepFactory.setLengths(conf,4000,261120,96,1024,251);
  conf.setInt("test.spillmap.records",255);
  conf.setBoolean("test.disable.key.read",false);
  conf.setBoolean("test.disable.val.read",false);
  runTest("largeconcurrent",job);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testLowSpill() throws Exception {
  runTest("lowspill",4000,96,20,1,0.00390625f);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapreduce.lib.input.TestFileInputFormat </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testNumInputFiles() throws Exception {
  Configuration conf=spy(new Configuration());
  Job job=make(stub(Job.class).returning(conf).from.getConfiguration());
  FileStatus stat=make(stub(FileStatus.class).returning(0L).from.getLen());
  TextInputFormat ispy=spy(new TextInputFormat());
  doReturn(Arrays.asList(stat)).when(ispy).listStatus(job);
  ispy.getSplits(job);
  verify(conf).setLong(FileInputFormat.NUM_INPUT_FILES,1);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapreduce.lib.jobcontrol.TestMapReduceJobControlWithMocks </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testKillJob() throws Exception {
  JobControl jobControl=new JobControl("Test");
  ControlledJob job=createFailedControlledJob(jobControl);
  job.killJob();
  verify(job.getJob()).killJob();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapreduce.security.TestUmbilicalProtocolWithJobToken </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testJobTokenRpc() throws Exception {
  TaskUmbilicalProtocol mockTT=mock(TaskUmbilicalProtocol.class);
  doReturn(TaskUmbilicalProtocol.versionID).when(mockTT).getProtocolVersion(anyString(),anyLong());
  doReturn(ProtocolSignature.getProtocolSignature(mockTT,TaskUmbilicalProtocol.class.getName(),TaskUmbilicalProtocol.versionID,0)).when(mockTT).getProtocolSignature(anyString(),anyLong(),anyInt());
  JobTokenSecretManager sm=new JobTokenSecretManager();
  final Server server=RPC.getServer(TaskUmbilicalProtocol.class,mockTT,ADDRESS,0,5,true,conf,sm);
  server.start();
  final UserGroupInformation current=UserGroupInformation.getCurrentUser();
  final InetSocketAddress addr=NetUtils.getConnectAddress(server);
  String jobId=current.getUserName();
  JobTokenIdentifier tokenId=new JobTokenIdentifier(new Text(jobId));
  Token<JobTokenIdentifier> token=new Token<JobTokenIdentifier>(tokenId,sm);
  sm.addTokenForJob(jobId,token);
  Text host=new Text(addr.getAddress().getHostAddress() + ":" + addr.getPort());
  token.setService(host);
  LOG.info("Service IP address for token is " + host);
  current.addToken(token);
  current.doAs(new PrivilegedExceptionAction(){
    @Override public Object run() throws Exception {
      TaskUmbilicalProtocol proxy=null;
      try {
        proxy=(TaskUmbilicalProtocol)RPC.getProxy(TaskUmbilicalProtocol.class,TaskUmbilicalProtocol.versionID,addr,conf);
        proxy.ping(null);
      }
  finally {
        server.stop();
        if (proxy != null) {
          RPC.stopProxy(proxy);
        }
      }
      return null;
    }
  }
);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.mapreduce.util.TestMRAsyncDiskService </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testVolumeNormalization() throws Throwable {
  LOG.info("TEST_ROOT_DIR is " + TEST_ROOT_DIR);
  String relativeTestRoot=relativeToWorking(TEST_ROOT_DIR);
  FileSystem localFileSystem=FileSystem.getLocal(new Configuration());
  String[] vols=new String[]{relativeTestRoot + "/0",relativeTestRoot + "/1"};
  Path delDir=new Path(vols[0],MRAsyncDiskService.TOBEDELETED);
  localFileSystem.mkdirs(delDir);
  localFileSystem.create(new Path(delDir,"foo")).close();
  MRAsyncDiskService service=new MRAsyncDiskService(localFileSystem,vols);
  makeSureCleanedUp(vols,service);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.raid.TestBlockFixer </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testParityBlockFixLocal() throws Exception {
  implParityBlockFix("testParityBlockFixLocal",true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests integrity of generated last block.
 * Create a file and delete a block entirely. Wait for the block to be
 * regenerated. Now stop RaidNode and corrupt the generated block.
 * Test that corruption in the generated block can be detected by clients.
 */
@Test public void testGeneratedLastBlockLocal() throws Exception {
  generatedBlockTestCommon("testGeneratedLastBlock",6,true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testParityHarBlockFixLocal() throws Exception {
  implParityHarBlockFix("testParityHarBlockFixLocal",true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests integrity of generated block.
 * Create a file and delete a block entirely. Wait for the block to be
 * regenerated. Now stop RaidNode and corrupt the generated block.
 * Test that corruption in the generated block can be detected by clients.
 */
@Test public void testGeneratedBlockLocal() throws Exception {
  generatedBlockTestCommon("testGeneratedBlock",3,true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testBlockFixLocal() throws Exception {
  implBlockFix(true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.raid.TestBlockFixerBlockFixDist </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testBlockFixDist() throws Exception {
  implBlockFix(false);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.raid.TestBlockFixerGeneratedBlockDist </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests integrity of generated block.
 * Create a file and delete a block entirely. Wait for the block to be
 * regenerated. Now stop RaidNode and corrupt the generated block.
 * Test that corruption in the generated block can be detected by clients.
 */
@Test public void testGeneratedBlockDist() throws Exception {
  generatedBlockTestCommon("testGeneratedBlock",3,false);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests integrity of generated last block.
 * Create a file and delete a block entirely. Wait for the block to be
 * regenerated. Now stop RaidNode and corrupt the generated block.
 * Test that corruption in the generated block can be detected by clients.
 */
@Test public void testGeneratedLastBlockDist() throws Exception {
  generatedBlockTestCommon("testGeneratedLastBlock",6,false);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.raid.TestBlockFixerParityBlockFixDist </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testParityHarBlockFixDist() throws Exception {
  implParityHarBlockFix("testParityHarBlockFixDist",false);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testParityBlockFixDist() throws Exception {
  implParityBlockFix("testParityBlockFixDist",false);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.streaming.TestStreamXmlMultipleRecords </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests if StreamXmlRecordReader will read the next record, _after_ the
 * end of a split if the split falls before the end of end-tag of a record.
 * Tests with slowmatch=false.
 * @throws Exception
 */
@Test public void testStreamXmlMultiInnerFast() throws Exception {
  if (hasPerl) {
    blockSize=60;
    isSlowMatch="false";
    super.testCommandLine();
  }
 else {
    LOG.warn("No perl; skipping test.");
  }
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests if StreamXmlRecordReader will read the next record, _after_ the
 * end of a split if the split falls before the end of end-tag of a record.
 * Tests with slowmatch=true.
 * @throws Exception
 */
@Test public void testStreamXmlMultiInnerSlow() throws Exception {
  if (hasPerl) {
    blockSize=60;
    isSlowMatch="true";
    super.testCommandLine();
  }
 else {
    LOG.warn("No perl; skipping test.");
  }
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests if StreamXmlRecordReader will read a record twice if end of a
 * split is after few characters after the end-tag of a record but before the
 * begin-tag of next record.
 * Tests with slowmatch=false.
 * @throws Exception
 */
@Test public void testStreamXmlMultiOuterFast() throws Exception {
  if (hasPerl) {
    blockSize=80;
    isSlowMatch="false";
    super.testCommandLine();
  }
 else {
    LOG.warn("No perl; skipping test.");
  }
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests if StreamXmlRecordReader will read a record twice if end of a
 * split is after few characters after the end-tag of a record but before the
 * begin-tag of next record.
 * Tests with slowmatch=true.
 * @throws Exception
 */
@Test public void testStreamXmlMultiOuterSlow() throws Exception {
  if (hasPerl) {
    blockSize=80;
    isSlowMatch="true";
    super.testCommandLine();
  }
 else {
    LOG.warn("No perl; skipping test.");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.streaming.TestStreamingBackground </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testBackgroundSubmitOk() throws Exception {
  runStreamJob();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.streaming.TestStreamingCounters </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCommandLine() throws Exception {
  super.testCommandLine();
  validateCounters();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.streaming.TestStreamingExitStatus </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testMapFailOk() throws Exception {
  runStreamJob(false,true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testMapFailNotOk() throws Exception {
  runStreamJob(true,true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testReduceFailOk() throws Exception {
  runStreamJob(false,false);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testReduceFailNotOk() throws Exception {
  runStreamJob(true,false);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.streaming.TestStreamingKeyValue </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Run the job with the indicating the input format key should be emitted. 
 */
@Test public void testCommandLineWithKey() throws Exception {
  runStreamJob(outputWithKey,false);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Run the job the default way (the input format key is not emitted).
 */
@Test public void testCommandLineWithoutKey() throws Exception {
  runStreamJob(outputWithoutKey,true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.streaming.TestStreamingOutputKeyValueTypes </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testJavaMapperAndCommandReducerAndZeroReduces() throws Exception {
  map="org.apache.hadoop.mapred.lib.IdentityMapper";
  reduce="cat";
  args.add("-numReduceTasks");
  args.add("0");
  super.testCommandLine();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCommandMapperAndCommandReducerAndZeroReduces() throws Exception {
  map="cat";
  reduce="cat";
  args.add("-numReduceTasks");
  args.add("0");
  super.testCommandLine();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testJavaMapperAndJavaReducerAndZeroReduces() throws Exception {
  map="org.apache.hadoop.mapred.lib.IdentityMapper";
  reduce="org.apache.hadoop.mapred.lib.IdentityReducer";
  args.add("-numReduceTasks");
  args.add("0");
  super.testCommandLine();
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCommandMapperAndJavaReducerAndZeroReduces() throws Exception {
  map="cat";
  reduce=MyReducer.class.getName();
  args.add("-numReduceTasks");
  args.add("0");
  super.testCommandLine();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.streaming.TestStreamingStatus </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Check if mapper/reducer with empty/nonempty input works properly if
 * reporting is done using lines like "reporter:status:" and
 * "reporter:counter:" before map()/reduce() method is called.
 * Validate the task's log of STDERR if messages are written
 * to stderr before map()/reduce() is called.
 * Also validate job output.
 * @throws IOException
 */
@Test public void testReporting() throws Exception {
  testStreamJob(false);
  testStreamJob(true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.streaming.TestStreamingStderr </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testStderrNoInput() throws Exception {
  runStreamJob("stderr-pre",false,10000,0,0);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testStderrAfterOutput() throws Exception {
  runStreamJob("stderr-post",false,0,0,10000);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testStderrCountsAsProgress() throws Exception {
  runStreamJob("stderr-progress",true,10,1000,0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.tools.rumen.TestParsedLine </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testBackSlash(){
  testOneLine("REC1","A","x","B","abc\\de","C","f");
  testOneLine("REC2","B","\\ab\\c\\de","C","f");
  testOneLine("REC3","A","x","B","abc\\\\de\\");
  testOneLine("REC4","A","x","B","abc\\\"de\\\"","C","f");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEscapedQuote(){
  testOneLine("REC","A","x","B","abc\"de","C","f");
  testOneLine("REC","B","abcde\"","C","f");
  testOneLine("REC","A","x","B","\"abcde");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEqualSign(){
  testOneLine("REC1","A","x","B","abc=de","C","f");
  testOneLine("REC2","B","=abcde","C","f");
  testOneLine("REC3","A","x","B","abcde=");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSpace(){
  testOneLine("REC1","A","x","B","abc de","C","f");
  testOneLine("REC2","B"," ab c de","C","f");
  testOneLine("REC3","A","x","B","abc\t  de  ");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testMultipleLines(){
  testOneLine("REC1","A","x","\n","B","abc.de","\n","C","f","\n",".");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testLineDelimiter(){
  testOneLine("REC1","A","x","B","abc.de","C","f");
  testOneLine("REC2","B",".ab.de");
  testOneLine("REC3","A","x","B","abc.de.");
  testOneLine("REC4","A","x","B","abc.de",".");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.tools.rumen.TestRumenJobTraces </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testJobConfigurationParser() throws Exception {
  String[] oldProps1={"mapred.job.queue.name","mapred.job.name","mapred.child.java.opts"};
  validateJobConfParser("sample-conf.file.xml",false);
  validateJobConfParser("sample-conf.file.new.xml",true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Check if processing of input arguments is as expected by passing globbed
 * input path
 * <li> without -recursive option and
 * <li> with -recursive option.
 */
@Test public void testProcessInputArgument() throws Exception {
  final Configuration conf=new Configuration();
  final FileSystem lfs=FileSystem.getLocal(conf);
  final Path rootTempDir=new Path(System.getProperty("test.build.data","/tmp")).makeQualified(lfs.getUri(),lfs.getWorkingDirectory());
  Path testRootInputDir=new Path(rootTempDir,"TestProcessInputArgument");
  Path nestedInputDir=new Path(testRootInputDir,"1/2/3/4");
  Path globbedInputNestedDir=lfs.makeQualified(new Path(testRootInputDir,"*/*/*/*/*"));
  try {
    lfs.delete(nestedInputDir,true);
    List<String> recursiveInputPaths=new ArrayList<String>();
    List<String> nonRecursiveInputPaths=new ArrayList<String>();
    createHistoryLogsHierarchy(nestedInputDir,lfs,recursiveInputPaths,nonRecursiveInputPaths);
    List<Path> inputs=MyOptions.processInputArgument(globbedInputNestedDir.toString(),conf,false);
    validateHistoryLogPaths(inputs,nonRecursiveInputPaths);
    inputs=MyOptions.processInputArgument(globbedInputNestedDir.toString(),conf,true);
    validateHistoryLogPaths(inputs,recursiveInputPaths);
  }
  finally {
    lfs.delete(testRootInputDir,true);
  }
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSmallTrace() throws Exception {
  performSingleTest("sample-job-tracker-logs.gz","job-tracker-logs-topology-output","job-tracker-logs-trace-output.gz");
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Testing {@link ResourceUsageMetrics} using {@link HadoopLogsAnalyzer}.
 */
@Test @SuppressWarnings("deprecation") public void testResourceUsageMetricsWithHadoopLogsAnalyzer() throws IOException {
  Configuration conf=new Configuration();
  Path rootInputDir=new Path(System.getProperty("test.tools.input.dir",""));
  Path rootInputSubFolder=new Path(rootInputDir,"rumen/small-trace-test");
  Path traceFile=new Path(rootInputSubFolder,"v20-resource-usage-log.gz");
  FileSystem lfs=FileSystem.getLocal(conf);
  Path rootTempDir=new Path(System.getProperty("test.build.data","/tmp"));
  Path outputDir=new Path(rootTempDir,"testResourceUsageMetricsWithHadoopLogsAnalyzer");
  lfs.delete(outputDir,true);
  lfs.deleteOnExit(outputDir);
  HadoopLogsAnalyzer analyzer=new HadoopLogsAnalyzer();
  analyzer.setConf(conf);
  Path traceOutput=new Path(outputDir,"trace.json");
  analyzer.run(new String[]{"-write-job-trace",traceOutput.toString(),"-v1",traceFile.toString()});
  JsonObjectMapperParser<LoggedJob> traceParser=new JsonObjectMapperParser<LoggedJob>(traceOutput,LoggedJob.class,conf);
  LoggedJob job=traceParser.getNext();
  LoggedTaskAttempt attempt=job.getMapTasks().get(0).getAttempts().get(0);
  ResourceUsageMetrics metrics=attempt.getResourceUsageMetrics();
  testResourceUsageMetricViaDeepCompare(metrics,200,100,75,50,true);
}

</code></pre>

<br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testTruncatedTask() throws Exception {
  performSingleTest("truncated-job-tracker-log","truncated-topology-output","truncated-trace-output");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hadoop.tools.rumen.TestZombieJob </h4><pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testMakeUpInfo(){
  checkMakeUpTask(jobStories.get(3),113,1);
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
