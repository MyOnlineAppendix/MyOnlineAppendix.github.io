<h3><span class=" glyphicon glyphicon-tag"/>&nbspNullVerifier</h3><kbd>Verifies whether objects are null</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.sshd.KeyReExchangeTest </h4><pre class="type-11 type-8 type-10 type-6 type-2 type-3 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReExchangeFromSshdClient() throws Exception {
  setUp(0L,0L,0L);
  try (SshClient client=setupTestClient()){
    client.start();
    try (ClientSession session=client.connect(getCurrentTestName(),TEST_LOCALHOST,port).verify(7L,TimeUnit.SECONDS).getSession()){
      session.addPasswordIdentity(getCurrentTestName());
      session.auth().verify(5L,TimeUnit.SECONDS);
      final Semaphore pipedCount=new Semaphore(0,true);
      try (ChannelShell channel=session.createShellChannel();ByteArrayOutputStream sent=new ByteArrayOutputStream();PipedOutputStream pipedIn=new PipedOutputStream();InputStream inPipe=new PipedInputStream(pipedIn);OutputStream teeOut=new TeeOutputStream(sent,pipedIn);ByteArrayOutputStream out=new ByteArrayOutputStream(){
        private long writeCount=0L;
        @Override public void write(        int b){
          super.write(b);
          updateWriteCount(1L);
          pipedCount.release(1);
        }
        @Override public void write(        byte[] b,        int off,        int len){
          super.write(b,off,len);
          updateWriteCount(len);
          pipedCount.release(len);
        }
        private void updateWriteCount(        long delta){
          writeCount+=delta;
          outputDebugMessage("OUT write count=%d",writeCount);
        }
      }
;ByteArrayOutputStream err=new ByteArrayOutputStream()){
        channel.setIn(inPipe);
        channel.setOut(out);
        channel.setErr(err);
        channel.open();
        teeOut.write("this is my command\n".getBytes(StandardCharsets.UTF_8));
        teeOut.flush();
        StringBuilder sb=new StringBuilder(Byte.MAX_VALUE);
        for (int i=0; i < 10; i++) {
          sb.append("0123456789");
        }
        sb.append('\n');
        byte[] data=sb.toString().getBytes(StandardCharsets.UTF_8);
        for (int i=1; i <= 10; i++) {
          teeOut.write(data);
          teeOut.flush();
          KeyExchangeFuture kexFuture=session.reExchangeKeys();
          assertTrue("Failed to complete KEX on time at iteration " + i,kexFuture.await(5L,TimeUnit.SECONDS));
          assertNull("KEX exception signalled at iteration " + i,kexFuture.getException());
        }
        teeOut.write("exit\n".getBytes(StandardCharsets.UTF_8));
        teeOut.flush();
        Collection<ClientChannel.ClientChannelEvent> result=channel.waitFor(EnumSet.of(ClientChannel.ClientChannelEvent.CLOSED),TimeUnit.SECONDS.toMillis(15L));
        assertFalse("Timeout while waiting for channel closure",result.contains(ClientChannel.ClientChannelEvent.TIMEOUT));
        byte[] expected=sent.toByteArray();
        if (!pipedCount.tryAcquire(expected.length,13L,TimeUnit.SECONDS)) {
          fail("Failed to await sent data signal for len=" + expected.length + " (available="+ pipedCount.availablePermits()+ ")");
        }
        assertArrayEquals("Mismatched sent data content",expected,out.toByteArray());
      }
     }
  finally {
      client.stop();
    }
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.WelcomeBannerTest </h4><pre class="type-8 type-10 type-3 type-15 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBanner() throws Exception {
  try (SshClient client=setupTestClient()){
    final AtomicReference<String> welcomeHolder=new AtomicReference<>(null);
    final AtomicReference<ClientSession> sessionHolder=new AtomicReference<>(null);
    client.setUserInteraction(new UserInteraction(){
      @Override public boolean isInteractionAllowed(      ClientSession session){
        return true;
      }
      @Override public void welcome(      ClientSession session,      String banner,      String lang){
        validateSession("welcome",session);
        assertNull("Multiple banner invocations",welcomeHolder.getAndSet(banner));
      }
      @Override public String[] interactive(      ClientSession session,      String name,      String instruction,      String lang,      String[] prompt,      boolean[] echo){
        validateSession("interactive",session);
        return null;
      }
      @Override public String getUpdatedPassword(      ClientSession clientSession,      String prompt,      String lang){
        throw new UnsupportedOperationException("Unexpected call");
      }
      private void validateSession(      String phase,      ClientSession session){
        ClientSession prev=sessionHolder.getAndSet(session);
        if (prev != null) {
          assertSame("Mismatched " + phase + " client session",prev,session);
        }
      }
    }
);
    client.start();
    try (ClientSession session=client.connect(getCurrentTestName(),TEST_LOCALHOST,port).verify(7L,TimeUnit.SECONDS).getSession()){
      session.addPasswordIdentity(getCurrentTestName());
      session.auth().verify(5L,TimeUnit.SECONDS);
      assertSame("Mismatched sessions",session,sessionHolder.get());
      assertEquals("Mismatched banner",WELCOME,welcomeHolder.get());
    }
  finally {
      client.stop();
    }
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.agent.AgentTest </h4><pre class="type-3 type-14 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAgentServer() throws Exception {
  Assume.assumeTrue("BouncyCastle not registered",SecurityUtils.isBouncyCastleRegistered());
  try (AgentServer agent=new AgentServer()){
    String authSocket;
    try {
      authSocket=agent.start();
    }
 catch (    RuntimeException e) {
      Throwable cause=e.getCause();
      if (cause instanceof UnsatisfiedLinkError) {
        authSocket=null;
      }
 else {
        throw e;
      }
    }
    Assume.assumeTrue("Native library N/A",authSocket != null);
    try (SshAgent client=new AgentClient(authSocket)){
      List<Pair<PublicKey,String>> keys=client.getIdentities();
      assertNotNull("No initial identities",keys);
      assertEquals("Unexpected initial identities size",0,keys.size());
      KeyPair k=createTestHostKeyProvider().loadKey(KeyPairProvider.SSH_RSA);
      client.addIdentity(k,"");
      keys=client.getIdentities();
      assertNotNull("No registered identities after add",keys);
      assertEquals("Mismatched registered keys size",1,keys.size());
      client.removeIdentity(k.getPublic());
      keys=client.getIdentities();
      assertNotNull("No registered identities after remove",keys);
      assertEquals("Registered keys size not empty",0,keys.size());
      client.removeAllIdentities();
    }
   }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.client.ClientTest </h4><pre class="type-2 type-3 type-15 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testKeyboardInteractiveInSessionUserInteractiveFailure() throws Exception {
  final AtomicInteger count=new AtomicInteger();
  final int MAX_PROMPTS=3;
  PropertyResolverUtils.updateProperty(client,ClientAuthenticationManager.PASSWORD_PROMPTS,MAX_PROMPTS);
  client.setUserAuthFactories(Collections.<NamedFactory<UserAuth>>singletonList(UserAuthKeyboardInteractiveFactory.INSTANCE));
  client.start();
  try (final ClientSession session=client.connect(getCurrentTestName(),TEST_LOCALHOST,port).verify(7L,TimeUnit.SECONDS).getSession()){
    assertNotNull("Client session creation not signalled",clientSessionHolder.get());
    session.setUserInteraction(new UserInteraction(){
      @Override public boolean isInteractionAllowed(      ClientSession session){
        return true;
      }
      @Override public void welcome(      ClientSession clientSession,      String banner,      String lang){
        assertSame("Mismatched welcome session",session,clientSession);
      }
      @Override public String[] interactive(      ClientSession clientSession,      String name,      String instruction,      String lang,      String[] prompt,      boolean[] echo){
        assertSame("Mismatched interactive session",session,clientSession);
        int attemptId=count.incrementAndGet();
        return new String[]{"bad#" + attemptId};
      }
      @Override public String getUpdatedPassword(      ClientSession clientSession,      String prompt,      String lang){
        throw new UnsupportedOperationException("Unexpected call");
      }
    }
);
    AuthFuture future=session.auth();
    assertTrue("Authentication not completed in time",future.await(11L,TimeUnit.SECONDS));
    assertTrue("Authentication not, marked as failure",future.isFailure());
    assertEquals("Mismatched authentication retry count",MAX_PROMPTS,count.get());
  }
  finally {
    client.stop();
  }
  assertNull("Session closure not signalled",clientSessionHolder.get());
}

</code></pre>

<br>
<pre class="type-15 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleClientListener() throws Exception {
  final AtomicReference<Channel> channelHolder=new AtomicReference<>(null);
  client.addChannelListener(new ChannelListener(){
    @Override public void channelOpenSuccess(    Channel channel){
      assertSame("Mismatched opened channel instances",channel,channelHolder.get());
    }
    @Override public void channelOpenFailure(    Channel channel,    Throwable reason){
      assertSame("Mismatched failed open channel instances",channel,channelHolder.get());
    }
    @Override public void channelInitialized(    Channel channel){
      assertNull("Multiple channel initialization notifications",channelHolder.getAndSet(channel));
    }
    @Override public void channelClosed(    Channel channel,    Throwable reason){
      assertSame("Mismatched closed channel instances",channel,channelHolder.getAndSet(null));
    }
  }
);
  sshd.setSubsystemFactories(Arrays.<NamedFactory<Command>>asList(new SftpSubsystemFactory()));
  client.start();
  try (final ClientSession session=createTestClientSession()){
    testClientListener(channelHolder,ChannelShell.class,new Factory<ChannelShell>(){
      @Override public ChannelShell create(){
        try {
          return session.createShellChannel();
        }
 catch (        IOException e) {
          throw new RuntimeException(e);
        }
      }
    }
);
    testClientListener(channelHolder,ChannelExec.class,new Factory<ChannelExec>(){
      @Override public ChannelExec create(){
        try {
          return session.createExecChannel(getCurrentTestName());
        }
 catch (        IOException e) {
          throw new RuntimeException(e);
        }
      }
    }
);
    testClientListener(channelHolder,SftpClient.class,new Factory<SftpClient>(){
      @Override public SftpClient create(){
        try {
          return session.createSftpClient();
        }
 catch (        IOException e) {
          throw new RuntimeException(e);
        }
      }
    }
);
  }
  finally {
    client.stop();
  }
}

</code></pre>

<br>
<pre class="type-8 type-2 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateChannelByType() throws Exception {
  client.start();
  Collection<ClientChannel> channels=new LinkedList<>();
  try (ClientSession session=createTestClientSession()){
    PropertyResolverUtils.updateProperty(session,ChannelSubsystem.REQUEST_SUBSYSTEM_REPLY,false);
    channels.add(session.createChannel(Channel.CHANNEL_SUBSYSTEM,SftpConstants.SFTP_SUBSYSTEM_NAME));
    channels.add(session.createChannel(Channel.CHANNEL_EXEC,getCurrentTestName()));
    channels.add(session.createChannel(Channel.CHANNEL_SHELL,getClass().getSimpleName()));
    Set<Integer> ids=new HashSet<Integer>(channels.size());
    for (    ClientChannel c : channels) {
      int id=((AbstractChannel)c).getId();
      assertTrue("Channel ID repeated: " + id,ids.add(Integer.valueOf(id)));
    }
  }
  finally {
    for (    Closeable c : channels) {
      try {
        c.close();
      }
 catch (      IOException e) {
      }
    }
    client.stop();
  }
  assertNull("Session closure not signalled",clientSessionHolder.get());
}

</code></pre>

<br>
<pre class="type-2 type-3 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCloseImmediateBeforeChannelOpened() throws Exception {
  channelLatch=new CountDownLatch(1);
  client.start();
  try (ClientSession session=createTestClientSession();ClientChannel channel=session.createShellChannel();InputStream inp=new ByteArrayInputStream(GenericUtils.EMPTY_BYTE_ARRAY);OutputStream out=new ByteArrayOutputStream();OutputStream err=new ByteArrayOutputStream()){
    channel.setIn(inp);
    channel.setOut(out);
    channel.setErr(err);
    OpenFuture openFuture=channel.open();
    CloseFuture closeFuture=session.close(true);
    assertNull("Session closure not signalled",clientSessionHolder.get());
    channelLatch.countDown();
    assertTrue("Channel not open in time",openFuture.await(11L,TimeUnit.SECONDS));
    assertTrue("Session closing not complete in time",closeFuture.await(8L,TimeUnit.SECONDS));
    assertNotNull("No open exception",openFuture.getException());
    assertTrue("Not closed",closeFuture.isClosed());
  }
  finally {
    client.stop();
  }
}

</code></pre>

<br>
<pre class="type-12 type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects are null
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=SshException.class) public void testOpenChannelOnClosedSession() throws Exception {
  client.start();
  try (ClientSession session=createTestClientSession();ClientChannel channel=session.createShellChannel()){
    session.close(false);
    assertNull("Session closure not signalled",clientSessionHolder.get());
    try (PipedOutputStream pipedIn=new PipedOutputStream();InputStream inPipe=new PipedInputStream(pipedIn);ByteArrayOutputStream out=new ByteArrayOutputStream();ByteArrayOutputStream err=new ByteArrayOutputStream()){
      channel.setIn(inPipe);
      channel.setOut(out);
      channel.setErr(err);
      channel.open();
    }
   }
  finally {
    client.stop();
  }
}

</code></pre>

<br>
<pre class="type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects are null
"></span><br>
@Test public void testPasswordAuthNew() throws Exception {
  client.setUserAuthFactories(Arrays.<NamedFactory<UserAuth>>asList(UserAuthPasswordFactory.INSTANCE));
  client.start();
  try (ClientSession session=createTestClientSession()){
  }
  finally {
    client.stop();
  }
  assertNull("Session closure not signalled",clientSessionHolder.get());
}

</code></pre>

<br>
<pre class="type-3 type-15 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPropertyResolutionHierarchy() throws Exception {
  final String SESSION_PROP_NAME=getCurrentTestName() + "-session";
  final AtomicReference sessionConfigValueHolder=new AtomicReference<>(null);
  client.addSessionListener(new SessionListener(){
    @Override public void sessionEvent(    Session session,    Event event){
      updateSessionConfigProperty(session,event);
    }
    @Override public void sessionCreated(    Session session){
      updateSessionConfigProperty(session,"sessionCreated");
    }
    @Override public void sessionClosed(    Session session){
      updateSessionConfigProperty(session,"sessionClosed");
    }
    @Override public void sessionException(    Session session,    Throwable t){
    }
    private void updateSessionConfigProperty(    Session session,    Object value){
      PropertyResolverUtils.updateProperty(session,SESSION_PROP_NAME,value);
      sessionConfigValueHolder.set(value);
    }
  }
);
  final String CHANNEL_PROP_NAME=getCurrentTestName() + "-channel";
  final AtomicReference channelConfigValueHolder=new AtomicReference<>(null);
  client.addChannelListener(new ChannelListener(){
    @Override public void channelOpenSuccess(    Channel channel){
      updateChannelConfigProperty(channel,"channelOpenSuccess");
    }
    @Override public void channelOpenFailure(    Channel channel,    Throwable reason){
      updateChannelConfigProperty(channel,"channelOpenFailure");
    }
    @Override public void channelInitialized(    Channel channel){
      updateChannelConfigProperty(channel,"channelInitialized");
    }
    @Override public void channelClosed(    Channel channel,    Throwable reason){
      updateChannelConfigProperty(channel,"channelClosed");
    }
    private void updateChannelConfigProperty(    Channel channel,    Object value){
      PropertyResolverUtils.updateProperty(channel,CHANNEL_PROP_NAME,value);
      channelConfigValueHolder.set(value);
    }
  }
);
  client.start();
  try (ClientSession session=client.connect(getCurrentTestName(),TEST_LOCALHOST,port).verify(7L,TimeUnit.SECONDS).getSession()){
    assertSame("Session established",sessionConfigValueHolder.get(),PropertyResolverUtils.getObject(session,SESSION_PROP_NAME));
    session.addPasswordIdentity(getCurrentTestName());
    session.auth().verify(5L,TimeUnit.SECONDS);
    assertSame("Session authenticated",sessionConfigValueHolder.get(),PropertyResolverUtils.getObject(session,SESSION_PROP_NAME));
    try (ChannelExec channel=session.createExecChannel(getCurrentTestName());OutputStream stdout=new NoCloseOutputStream(System.out);OutputStream stderr=new NoCloseOutputStream(System.err)){
      assertSame("Channel created",channelConfigValueHolder.get(),PropertyResolverUtils.getObject(channel,CHANNEL_PROP_NAME));
      assertNull("Direct channel created session prop",PropertyResolverUtils.getObject(channel.getProperties(),SESSION_PROP_NAME));
      assertSame("Indirect channel created session prop",sessionConfigValueHolder.get(),PropertyResolverUtils.getObject(channel,SESSION_PROP_NAME));
      channel.setOut(stdout);
      channel.setErr(stderr);
      channel.open().verify(9L,TimeUnit.SECONDS);
    }
   }
  finally {
    client.stop();
  }
}

</code></pre>

<br>
<pre class="type-2 type-3 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClientInverted() throws Exception {
  client.start();
  try (ClientSession session=createTestClientSession();ClientChannel channel=session.createShellChannel();ByteArrayOutputStream sent=new ByteArrayOutputStream();ByteArrayOutputStream out=new ByteArrayOutputStream();ByteArrayOutputStream err=new ByteArrayOutputStream()){
    channel.setOut(out);
    channel.setErr(err);
    channel.open().verify(9L,TimeUnit.SECONDS);
    try (OutputStream pipedIn=new TeeOutputStream(sent,channel.getInvertedIn())){
      pipedIn.write("this is my command\n".getBytes(StandardCharsets.UTF_8));
      pipedIn.flush();
      StringBuilder sb=new StringBuilder();
      for (int i=0; i < 1000; i++) {
        sb.append("0123456789");
      }
      sb.append("\n");
      pipedIn.write(sb.toString().getBytes(StandardCharsets.UTF_8));
      pipedIn.write("exit\n".getBytes(StandardCharsets.UTF_8));
      pipedIn.flush();
    }
     Collection<ClientChannel.ClientChannelEvent> result=channel.waitFor(EnumSet.of(ClientChannel.ClientChannelEvent.CLOSED),TimeUnit.SECONDS.toMillis(15L));
    assertFalse("Timeout while waiting on channel close",result.contains(ClientChannel.ClientChannelEvent.TIMEOUT));
    channel.close(false);
    client.stop();
    assertArrayEquals("Mismatched sent and received data",sent.toByteArray(),out.toByteArray());
  }
  finally {
    client.stop();
  }
  assertNull("Session closure not signalled",clientSessionHolder.get());
}

</code></pre>

<br>
<pre class="type-2 type-3 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCommandDeadlock() throws Exception {
  client.start();
  try (ClientSession session=createTestClientSession();ChannelExec channel=session.createExecChannel(getCurrentTestName());OutputStream stdout=new NoCloseOutputStream(System.out);OutputStream stderr=new NoCloseOutputStream(System.err)){
    channel.setOut(stdout);
    channel.setErr(stderr);
    channel.open().verify(9L,TimeUnit.SECONDS);
    Thread.sleep(125L);
    try {
      byte[] data="a".getBytes(StandardCharsets.UTF_8);
      OutputStream invertedStream=channel.getInvertedIn();
      for (int i=0; i < 100; i++) {
        invertedStream.write(data);
        invertedStream.flush();
      }
    }
 catch (    SshException e) {
    }
    Collection<ClientChannel.ClientChannelEvent> mask=EnumSet.of(ClientChannel.ClientChannelEvent.CLOSED);
    Collection<ClientChannel.ClientChannelEvent> result=channel.waitFor(mask,TimeUnit.SECONDS.toMillis(15L));
    assertFalse("Timeout while waiting for channel closure",result.contains(ClientChannel.ClientChannelEvent.TIMEOUT));
    assertTrue("Missing close event: " + result,result.containsAll(mask));
    assertTrue("Failed to close session on time",session.close(false).await(7L,TimeUnit.SECONDS));
  }
  finally {
    client.stop();
  }
  assertNull("Session closure not signalled",clientSessionHolder.get());
}

</code></pre>

<br>
<pre class="type-2 type-3 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAsyncClient() throws Exception {
  PropertyResolverUtils.updateProperty(sshd,FactoryManager.WINDOW_SIZE,1024);
  sshd.setShellFactory(new AsyncEchoShellFactory());
  PropertyResolverUtils.updateProperty(client,FactoryManager.WINDOW_SIZE,1024);
  client.start();
  try (ClientSession session=createTestClientSession();final ChannelShell channel=session.createShellChannel()){
    channel.setStreaming(ClientChannel.Streaming.Async);
    channel.open().verify(5L,TimeUnit.SECONDS);
    final byte[] message="0123456789\n".getBytes(StandardCharsets.UTF_8);
    final int nbMessages=1000;
    try (final ByteArrayOutputStream baosOut=new ByteArrayOutputStream();final ByteArrayOutputStream baosErr=new ByteArrayOutputStream()){
      final AtomicInteger writes=new AtomicInteger(nbMessages);
      channel.getAsyncIn().write(new ByteArrayBuffer(message)).addListener(new SshFutureListener<IoWriteFuture>(){
        @Override public void operationComplete(        IoWriteFuture future){
          try {
            if (future.isWritten()) {
              if (writes.decrementAndGet() > 0) {
                channel.getAsyncIn().write(new ByteArrayBuffer(message)).addListener(this);
              }
 else {
                channel.getAsyncIn().close(false);
              }
            }
 else {
              throw new SshException("Error writing",future.getException());
            }
          }
 catch (          IOException e) {
            if (!channel.isClosing()) {
              e.printStackTrace();
              channel.close(true);
            }
          }
        }
      }
);
      channel.getAsyncOut().read(new ByteArrayBuffer()).addListener(new SshFutureListener<IoReadFuture>(){
        @Override public void operationComplete(        IoReadFuture future){
          try {
            future.verify(5L,TimeUnit.SECONDS);
            Buffer buffer=future.getBuffer();
            baosOut.write(buffer.array(),buffer.rpos(),buffer.available());
            buffer.rpos(buffer.rpos() + buffer.available());
            buffer.compact();
            channel.getAsyncOut().read(buffer).addListener(this);
          }
 catch (          IOException e) {
            if (!channel.isClosing()) {
              e.printStackTrace();
              channel.close(true);
            }
          }
        }
      }
);
      channel.getAsyncErr().read(new ByteArrayBuffer()).addListener(new SshFutureListener<IoReadFuture>(){
        @Override public void operationComplete(        IoReadFuture future){
          try {
            future.verify(5L,TimeUnit.SECONDS);
            Buffer buffer=future.getBuffer();
            baosErr.write(buffer.array(),buffer.rpos(),buffer.available());
            buffer.rpos(buffer.rpos() + buffer.available());
            buffer.compact();
            channel.getAsyncErr().read(buffer).addListener(this);
          }
 catch (          IOException e) {
            if (!channel.isClosing()) {
              e.printStackTrace();
              channel.close(true);
            }
          }
        }
      }
);
      Collection<ClientChannel.ClientChannelEvent> result=channel.waitFor(EnumSet.of(ClientChannel.ClientChannelEvent.CLOSED),TimeUnit.SECONDS.toMillis(15L));
      assertFalse("Timeout while waiting for channel closure",result.contains(ClientChannel.ClientChannelEvent.TIMEOUT));
      assertEquals("Mismatched sent and received data size",nbMessages * message.length,baosOut.size());
    }
     client.close(true);
  }
  finally {
    client.stop();
  }
  assertNull("Session closure not signalled",clientSessionHolder.get());
}

</code></pre>

<br>
<pre class="type-11 type-2 type-3 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDefaultKeyboardInteractivePasswordPromptLocationIndependence() throws Exception {
  final Collection<String> mismatchedPrompts=new LinkedList<String>();
  client.setUserAuthFactories(Arrays.<NamedFactory<UserAuth>>asList(new UserAuthKeyboardInteractiveFactory(){
    @Override public UserAuthKeyboardInteractive create(){
      return new UserAuthKeyboardInteractive(){
        @Override protected boolean useCurrentPassword(        String password,        String name,        String instruction,        String lang,        String[] prompt,        boolean[] echo){
          boolean expected=GenericUtils.length(password) > 0;
          boolean actual=super.useCurrentPassword(password,name,instruction,lang,prompt,echo);
          if (expected != actual) {
            System.err.println("Mismatched usage result for prompt=" + prompt[0] + ": expected="+ expected+ ", actual=actual");
            mismatchedPrompts.add(prompt[0]);
          }
          return actual;
        }
      }
;
    }
  }
));
  client.start();
  final Transformer<String,String> stripper=new Transformer<String,String>(){
    @Override public String transform(    String input){
      int pos=GenericUtils.isEmpty(input) ? (-1) : input.lastIndexOf(':');
      if (pos < 0) {
        return input;
      }
 else {
        return input.substring(0,pos);
      }
    }
  }
;
  final List<Transformer<String,String>> xformers=Collections.unmodifiableList(Arrays.<Transformer<String,String>>asList(new Transformer<String,String>(){
    @Override public String transform(    String input){
      return getCurrentTestName() + " " + input;
    }
  }
,new Transformer<String,String>(){
    @Override public String transform(    String input){
      return stripper.transform(input) + " " + getCurrentTestName()+ ":";
    }
  }
,new Transformer<String,String>(){
    @Override public String transform(    String input){
      return getCurrentTestName() + " " + stripper.transform(input)+ " "+ getCurrentTestName()+ ":";
    }
  }
));
  sshd.setKeyboardInteractiveAuthenticator(new DefaultKeyboardInteractiveAuthenticator(){
    private int xformerIndex;
    @Override protected String getInteractionPrompt(    ServerSession session){
      String original=super.getInteractionPrompt(session);
      if (xformerIndex < xformers.size()) {
        Transformer<String,String> x=xformers.get(xformerIndex);
        xformerIndex++;
        return x.transform(original);
      }
 else {
        return original;
      }
    }
  }
);
  try {
    for (int index=0; index < xformers.size(); index++) {
      try (ClientSession session=client.connect(getCurrentTestName(),TEST_LOCALHOST,port).verify(7,TimeUnit.SECONDS).getSession()){
        assertNotNull("Client session creation not signalled at iteration #" + index,clientSessionHolder.get());
        String password="bad-" + getCurrentTestName() + "-"+ index;
        session.addPasswordIdentity(password);
        AuthFuture future=session.auth();
        assertTrue("Failed to verify password=" + password + " in time",future.await(5L,TimeUnit.SECONDS));
        assertFalse("Unexpected success for password=" + password,future.isSuccess());
        session.removePasswordIdentity(password);
      }
       assertNull("Session closure not signalled at iteration #" + index,clientSessionHolder.get());
    }
    try (ClientSession session=createTestClientSession()){
      assertTrue("Mismatched prompts evaluation results",mismatchedPrompts.isEmpty());
    }
     assertNull("Final session closure not signalled",clientSessionHolder.get());
  }
  finally {
    client.stop();
  }
}

</code></pre>

<br>
<pre class="type-2 type-3 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClient() throws Exception {
  client.start();
  try (ClientSession session=createTestClientSession();ClientChannel channel=session.createShellChannel();ByteArrayOutputStream sent=new ByteArrayOutputStream();PipedOutputStream pipedIn=new PipedOutputStream();PipedInputStream pipedOut=new PipedInputStream(pipedIn)){
    channel.setIn(pipedOut);
    try (OutputStream teeOut=new TeeOutputStream(sent,pipedIn);ByteArrayOutputStream out=new ByteArrayOutputStream();ByteArrayOutputStream err=new ByteArrayOutputStream()){
      channel.setOut(out);
      channel.setErr(err);
      channel.open();
      teeOut.write("this is my command\n".getBytes(StandardCharsets.UTF_8));
      teeOut.flush();
      StringBuilder sb=new StringBuilder();
      for (int i=0; i < 1000; i++) {
        sb.append("0123456789");
      }
      sb.append("\n");
      teeOut.write(sb.toString().getBytes(StandardCharsets.UTF_8));
      teeOut.write("exit\n".getBytes(StandardCharsets.UTF_8));
      teeOut.flush();
      Collection<ClientChannel.ClientChannelEvent> result=channel.waitFor(EnumSet.of(ClientChannel.ClientChannelEvent.CLOSED),TimeUnit.SECONDS.toMillis(15L));
      assertFalse("Timeout while waiting on channel close",result.contains(ClientChannel.ClientChannelEvent.TIMEOUT));
      channel.close(false);
      client.stop();
      assertArrayEquals("Mismatched sent and received data",sent.toByteArray(),out.toByteArray());
    }
   }
  finally {
    client.stop();
  }
  assertNull("Session closure not signalled",clientSessionHolder.get());
}

</code></pre>

<br>
<pre class="type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects are null
"></span><br>
@Test public void testPublicKeyAuthNewWithFailureOnFirstIdentity() throws Exception {
  SimpleGeneratorHostKeyProvider provider=new SimpleGeneratorHostKeyProvider();
  provider.setAlgorithm("RSA");
  final KeyPair pair=createTestHostKeyProvider().loadKey(KeyPairProvider.SSH_RSA);
  sshd.setPublickeyAuthenticator(new PublickeyAuthenticator(){
    @Override public boolean authenticate(    String username,    PublicKey key,    ServerSession session){
      return key.equals(pair.getPublic());
    }
  }
);
  client.setUserAuthFactories(Arrays.<NamedFactory<UserAuth>>asList(UserAuthPublicKeyFactory.INSTANCE));
  client.start();
  try (ClientSession session=client.connect(getCurrentTestName(),TEST_LOCALHOST,port).verify(7L,TimeUnit.SECONDS).getSession()){
    assertNotNull("Client session creation not signalled",clientSessionHolder.get());
    session.addPublicKeyIdentity(provider.loadKey(KeyPairProvider.SSH_RSA));
    session.addPublicKeyIdentity(pair);
    session.auth().verify(5L,TimeUnit.SECONDS);
  }
  finally {
    client.stop();
  }
  assertNull("Session closure not signalled",clientSessionHolder.get());
}

</code></pre>

<br>
<pre class="type-2 type-3 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWaitAuth() throws Exception {
  final AtomicBoolean ok=new AtomicBoolean();
  client.setServerKeyVerifier(new ServerKeyVerifier(){
    @Override public boolean verifyServerKey(    ClientSession sshClientSession,    SocketAddress remoteAddress,    PublicKey serverKey){
      outputDebugMessage("verifyServerKey(%s): %s",remoteAddress,serverKey);
      ok.set(true);
      return true;
    }
  }
);
  client.start();
  try (ClientSession session=client.connect(getCurrentTestName(),TEST_LOCALHOST,port).verify(7L,TimeUnit.SECONDS).getSession()){
    assertNotNull("Client session creation not signalled",clientSessionHolder.get());
    Collection<ClientSession.ClientSessionEvent> result=session.waitFor(EnumSet.of(ClientSession.ClientSessionEvent.WAIT_AUTH),TimeUnit.SECONDS.toMillis(10L));
    assertFalse("Timeout while waiting on channel close",result.contains(ClientSession.ClientSessionEvent.TIMEOUT));
    assertTrue("Server key verifier invoked ?",ok.get());
  }
  finally {
    client.stop();
  }
  assertNull("Session closure not signalled",clientSessionHolder.get());
}

</code></pre>

<br>
<pre class="type-2 type-3 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClientClosingStream() throws Exception {
  client.start();
  try (ClientSession session=createTestClientSession();ClientChannel channel=session.createShellChannel();ByteArrayOutputStream sent=new ByteArrayOutputStream();PipedOutputStream pipedIn=new PipedOutputStream();InputStream inPipe=new PipedInputStream(pipedIn);ByteArrayOutputStream out=new ByteArrayOutputStream();ByteArrayOutputStream err=new ByteArrayOutputStream()){
    channel.setIn(inPipe);
    channel.setOut(out);
    channel.setErr(err);
    channel.open();
    try (OutputStream teeOut=new TeeOutputStream(sent,pipedIn)){
      teeOut.write("this is my command\n".getBytes(StandardCharsets.UTF_8));
      teeOut.flush();
      StringBuilder sb=new StringBuilder();
      for (int i=0; i < 1000; i++) {
        sb.append("0123456789");
      }
      sb.append("\n");
      teeOut.write(sb.toString().getBytes(StandardCharsets.UTF_8));
    }
     Collection<ClientChannel.ClientChannelEvent> result=channel.waitFor(EnumSet.of(ClientChannel.ClientChannelEvent.CLOSED),TimeUnit.SECONDS.toMillis(15L));
    assertFalse("Timeout while waiting on channel close",result.contains(ClientChannel.ClientChannelEvent.TIMEOUT));
    channel.close(false);
    client.stop();
    assertArrayEquals("Mismatched sent and received data",sent.toByteArray(),out.toByteArray());
  }
  finally {
    client.stop();
  }
  assertNull("Session closure not signalled",clientSessionHolder.get());
}

</code></pre>

<br>
<pre class="type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects are null
"></span><br>
@Test public void testPasswordAuthNewWithFailureOnFirstIdentity() throws Exception {
  client.setUserAuthFactories(Arrays.<NamedFactory<UserAuth>>asList(UserAuthPasswordFactory.INSTANCE));
  client.start();
  try (ClientSession session=client.connect(getCurrentTestName(),TEST_LOCALHOST,port).verify(7L,TimeUnit.SECONDS).getSession()){
    assertNotNull("Client session creation not signalled",clientSessionHolder.get());
    session.addPasswordIdentity(getClass().getSimpleName());
    session.addPasswordIdentity(getCurrentTestName());
    session.auth().verify(5L,TimeUnit.SECONDS);
  }
  finally {
    client.stop();
  }
  assertNull("Session closure not signalled",clientSessionHolder.get());
}

</code></pre>

<br>
<pre class="type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects are null
"></span><br>
@Test public void testKeyboardInteractiveAuthNewWithFailureOnFirstIdentity() throws Exception {
  client.setUserAuthFactories(Arrays.<NamedFactory<UserAuth>>asList(UserAuthKeyboardInteractiveFactory.INSTANCE));
  client.start();
  try (ClientSession session=client.connect(getCurrentTestName(),TEST_LOCALHOST,port).verify(7L,TimeUnit.SECONDS).getSession()){
    assertNotNull("Client session creation not signalled",clientSessionHolder.get());
    session.addPasswordIdentity(getClass().getSimpleName());
    session.addPasswordIdentity(getCurrentTestName());
    session.auth().verify(5L,TimeUnit.SECONDS);
  }
  finally {
    client.stop();
  }
  assertNull("Session closure not signalled",clientSessionHolder.get());
}

</code></pre>

<br>
<pre class="type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects are null
"></span><br>
@Test public void testPublicKeyAuth() throws Exception {
  sshd.setPasswordAuthenticator(RejectAllPasswordAuthenticator.INSTANCE);
  sshd.setKeyboardInteractiveAuthenticator(KeyboardInteractiveAuthenticator.NONE);
  client.setUserAuthFactories(Arrays.<NamedFactory<UserAuth>>asList(UserAuthPublicKeyFactory.INSTANCE));
  client.start();
  try (ClientSession session=client.connect(getCurrentTestName(),TEST_LOCALHOST,port).verify(7L,TimeUnit.SECONDS).getSession()){
    assertNotNull("Client session creation not signalled",clientSessionHolder.get());
    session.addPublicKeyIdentity(createTestHostKeyProvider().loadKey(KeyPairProvider.SSH_RSA));
    session.auth().verify(5L,TimeUnit.SECONDS);
  }
  finally {
    client.stop();
  }
  assertNull("Session closure not signalled",clientSessionHolder.get());
}

</code></pre>

<br>
<pre class="type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects are null
"></span><br>
@Test public void testKeyboardInteractiveAuthNew() throws Exception {
  client.setUserAuthFactories(Arrays.<NamedFactory<UserAuth>>asList(UserAuthKeyboardInteractiveFactory.INSTANCE));
  client.start();
  try (ClientSession session=createTestClientSession()){
  }
  finally {
    client.stop();
  }
  assertNull("Session closure not signalled",clientSessionHolder.get());
}

</code></pre>

<br>
<pre class="type-2 type-3 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCloseCleanBeforeChannelOpened() throws Exception {
  client.start();
  try (ClientSession session=createTestClientSession();ClientChannel channel=session.createShellChannel();InputStream inp=new ByteArrayInputStream(GenericUtils.EMPTY_BYTE_ARRAY);OutputStream out=new ByteArrayOutputStream();OutputStream err=new ByteArrayOutputStream()){
    channel.setIn(inp);
    channel.setOut(out);
    channel.setErr(err);
    OpenFuture openFuture=channel.open();
    CloseFuture closeFuture=session.close(false);
    assertTrue("Channel not open in time",openFuture.await(11L,TimeUnit.SECONDS));
    assertTrue("Session closing not complete in time",closeFuture.await(8L,TimeUnit.SECONDS));
    assertTrue("Not open",openFuture.isOpened());
    assertTrue("Not closed",closeFuture.isClosed());
  }
  finally {
    client.stop();
  }
  assertNull("Session closure not signalled",clientSessionHolder.get());
}

</code></pre>

<br>
<pre class="type-2 type-3 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCloseBeforeAuthSucceed() throws Exception {
  authLatch=new CountDownLatch(1);
  client.start();
  try (ClientSession session=client.connect(getCurrentTestName(),TEST_LOCALHOST,port).verify(7L,TimeUnit.SECONDS).getSession()){
    assertNotNull("Client session creation not signalled",clientSessionHolder.get());
    session.addPasswordIdentity(getCurrentTestName());
    AuthFuture authFuture=session.auth();
    CloseFuture closeFuture=session.close(false);
    authLatch.countDown();
    assertTrue("Authentication writing not completed in time",authFuture.await(11L,TimeUnit.SECONDS));
    assertTrue("Session closing not complete in time",closeFuture.await(8L,TimeUnit.SECONDS));
    assertNotNull("No authentication exception",authFuture.getException());
    assertTrue("Future not closed",closeFuture.isClosed());
  }
  finally {
    client.stop();
  }
  assertNull("Session closure not signalled",clientSessionHolder.get());
}

</code></pre>

<br>
<pre class="type-2 type-3 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClientDisconnect() throws Exception {
  TestEchoShell.latch=new CountDownLatch(1);
  try {
    client.start();
    try (ClientSession session=createTestClientSession();ClientChannel channel=session.createShellChannel();PipedOutputStream pipedIn=new PipedOutputStream();InputStream inPipe=new PipedInputStream(pipedIn);ByteArrayOutputStream out=new ByteArrayOutputStream();ByteArrayOutputStream err=new ByteArrayOutputStream()){
      channel.setIn(inPipe);
      channel.setOut(out);
      channel.setErr(err);
      channel.open().verify(9L,TimeUnit.SECONDS);
      AbstractSession cs=(AbstractSession)session;
      Buffer buffer=cs.createBuffer(SshConstants.SSH_MSG_DISCONNECT,Integer.SIZE);
      buffer.putInt(SshConstants.SSH2_DISCONNECT_BY_APPLICATION);
      buffer.putString("Cancel");
      buffer.putString("");
      IoWriteFuture f=cs.writePacket(buffer);
      assertTrue("Packet writing not completed in time",f.await(11L,TimeUnit.SECONDS));
      suspend(cs.getIoSession());
      TestEchoShell.latch.await();
    }
  finally {
      client.stop();
    }
    assertNull("Session closure not signalled",clientSessionHolder.get());
  }
  finally {
    TestEchoShell.latch=null;
  }
}

</code></pre>

<br>
<pre class="type-2 type-3 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClientWithCustomChannel() throws Exception {
  client.start();
  try (ClientSession session=createTestClientSession();ChannelShell channel=new ChannelShell();ByteArrayOutputStream sent=new ByteArrayOutputStream();ByteArrayOutputStream out=new ByteArrayOutputStream();ByteArrayOutputStream err=new ByteArrayOutputStream()){
    session.getService(ConnectionService.class).registerChannel(channel);
    channel.setOut(out);
    channel.setErr(err);
    channel.open().verify(5L,TimeUnit.SECONDS);
    assertTrue("Failed to close channel on time",channel.close(false).await(7L,TimeUnit.SECONDS));
  }
  finally {
    client.stop();
  }
  assertNull("Session closure not signalled",clientSessionHolder.get());
}

</code></pre>

<br>
<pre class="type-8 type-10 type-2 type-3 type-15 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDefaultKeyboardInteractiveWithFailures() throws Exception {
  client.setUserAuthFactories(Collections.<NamedFactory<UserAuth>>singletonList(UserAuthKeyboardInteractiveFactory.INSTANCE));
  final AtomicInteger count=new AtomicInteger();
  final AtomicReference<ClientSession> interactionSessionHolder=new AtomicReference<>(null);
  client.setUserInteraction(new UserInteraction(){
    private final String[] BAD_RESPONSE={"bad"};
    @Override public boolean isInteractionAllowed(    ClientSession session){
      return true;
    }
    @Override public void welcome(    ClientSession session,    String banner,    String lang){
      validateSession("welcome",session);
    }
    @Override public String[] interactive(    ClientSession session,    String name,    String instruction,    String lang,    String[] prompt,    boolean[] echo){
      validateSession("interactive",session);
      count.incrementAndGet();
      return BAD_RESPONSE;
    }
    @Override public String getUpdatedPassword(    ClientSession session,    String prompt,    String lang){
      throw new UnsupportedOperationException("Unexpected call");
    }
    private void validateSession(    String phase,    ClientSession session){
      ClientSession prev=interactionSessionHolder.getAndSet(session);
      if (prev != null) {
        assertSame("Mismatched " + phase + " client session",prev,session);
      }
    }
  }
);
  final int MAX_PROMPTS=3;
  PropertyResolverUtils.updateProperty(client,ClientAuthenticationManager.PASSWORD_PROMPTS,MAX_PROMPTS);
  client.start();
  try (ClientSession session=client.connect(getCurrentTestName(),TEST_LOCALHOST,port).verify(7L,TimeUnit.SECONDS).getSession()){
    assertNotNull("Client session creation not signalled",clientSessionHolder.get());
    AuthFuture future=session.auth();
    assertTrue("Failed to complete authentication on time",future.await(15L,TimeUnit.SECONDS));
    assertTrue("Unexpected authentication success",future.isFailure());
    assertEquals("Mismatched authentication retry count",MAX_PROMPTS,count.get());
  }
  finally {
    client.stop();
  }
  assertNull("Session closure not signalled",clientSessionHolder.get());
}

</code></pre>

<br>
<pre class="type-2 type-3 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClientWithLengthyDialog() throws Exception {
  client.start();
  try (ClientSession session=createTestClientSession();ClientChannel channel=session.createShellChannel();ByteArrayOutputStream sent=new ByteArrayOutputStream();PipedOutputStream pipedIn=new PipedOutputStream();InputStream inPipe=new PipedInputStream(pipedIn);ByteArrayOutputStream out=new ByteArrayOutputStream();ByteArrayOutputStream err=new ByteArrayOutputStream()){
    channel.setIn(inPipe);
    channel.setOut(out);
    channel.setErr(err);
    channel.open().verify(9L,TimeUnit.SECONDS);
    int bytes=0;
    byte[] data="01234567890123456789012345678901234567890123456789\n".getBytes(StandardCharsets.UTF_8);
    long t0=System.currentTimeMillis();
    try (OutputStream teeOut=new TeeOutputStream(sent,pipedIn)){
      for (int i=0; i < 10000; i++) {
        teeOut.write(data);
        teeOut.flush();
        bytes+=data.length;
        if ((bytes & 0xFFF00000) != ((bytes - data.length) & 0xFFF00000)) {
          outputDebugMessage("Bytes written: %d",bytes);
        }
      }
      teeOut.write("exit\n".getBytes(StandardCharsets.UTF_8));
      teeOut.flush();
    }
     long t1=System.currentTimeMillis();
    outputDebugMessage("Sent %d Kb in %d ms",bytes / 1024,t1 - t0);
    outputDebugMessage("Waiting for channel to be closed");
    Collection<ClientChannel.ClientChannelEvent> result=channel.waitFor(EnumSet.of(ClientChannel.ClientChannelEvent.CLOSED),TimeUnit.SECONDS.toMillis(35L));
    assertFalse("Timeout while waiting on channel close",result.contains(ClientChannel.ClientChannelEvent.TIMEOUT));
    channel.close(false);
    client.stop();
    assertArrayEquals("Mismatched sent and received data",sent.toByteArray(),out.toByteArray());
  }
  finally {
    client.stop();
  }
  assertNull("Session closure not signalled",clientSessionHolder.get());
}

</code></pre>

<br>
<pre class="type-2 type-3 type-15 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDefaultKeyboardInteractiveInSessionUserInteractive() throws Exception {
  final AtomicInteger count=new AtomicInteger();
  final int MAX_PROMPTS=3;
  PropertyResolverUtils.updateProperty(client,ClientAuthenticationManager.PASSWORD_PROMPTS,MAX_PROMPTS);
  client.setUserAuthFactories(Collections.<NamedFactory<UserAuth>>singletonList(UserAuthKeyboardInteractiveFactory.INSTANCE));
  client.start();
  try (final ClientSession session=client.connect(getCurrentTestName(),TEST_LOCALHOST,port).verify(7L,TimeUnit.SECONDS).getSession()){
    assertNotNull("Client session creation not signalled",clientSessionHolder.get());
    session.setUserInteraction(new UserInteraction(){
      @Override public boolean isInteractionAllowed(      ClientSession session){
        return true;
      }
      @Override public void welcome(      ClientSession clientSession,      String banner,      String lang){
        assertSame("Mismatched welcome session",session,clientSession);
      }
      @Override public String[] interactive(      ClientSession clientSession,      String name,      String instruction,      String lang,      String[] prompt,      boolean[] echo){
        assertSame("Mismatched interactive session",session,clientSession);
        count.incrementAndGet();
        return new String[]{getCurrentTestName()};
      }
      @Override public String getUpdatedPassword(      ClientSession clientSession,      String prompt,      String lang){
        throw new UnsupportedOperationException("Unexpected call");
      }
    }
);
    AuthFuture future=session.auth();
    assertTrue("Failed to complete authentication on time",future.await(15L,TimeUnit.SECONDS));
    assertTrue("Authentication not marked as success",future.isSuccess());
    assertFalse("Authentication marked as failure",future.isFailure());
    assertEquals("Mismatched authentication attempts count",1,count.get());
  }
  finally {
    client.stop();
  }
  assertNull("Session closure not signalled",clientSessionHolder.get());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.client.config.hosts.HostConfigEntryResolverTest </h4><pre class="type-8 type-2 type-3 type-15 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUseIdentitiesOnly() throws Exception {
  Path clientIdFile=assertHierarchyTargetFolderExists(getTempTargetRelativeFile(getClass().getSimpleName()));
  KeyPairProvider clientIdProvider=Utils.createTestHostKeyProvider(clientIdFile.resolve(getCurrentTestName() + ".pem"));
  final KeyPair specificIdentity=Utils.getFirstKeyPair(sshd);
  final KeyPair defaultIdentity=Utils.getFirstKeyPair(clientIdProvider);
  ValidateUtils.checkTrue(!KeyUtils.compareKeyPairs(specificIdentity,defaultIdentity),"client identity not different then entry one");
  client.setKeyPairProvider(clientIdProvider);
  final String USER=getCurrentTestName();
  final AtomicBoolean defaultClientIdentityAttempted=new AtomicBoolean(false);
  sshd.setPublickeyAuthenticator(new PublickeyAuthenticator(){
    @Override public boolean authenticate(    String username,    PublicKey key,    ServerSession session){
      if (KeyUtils.compareKeys(defaultIdentity.getPublic(),key)) {
        defaultClientIdentityAttempted.set(true);
      }
      if (USER.equals(username)) {
        return KeyUtils.compareKeys(specificIdentity.getPublic(),key);
      }
      return false;
    }
  }
);
  sshd.setPasswordAuthenticator(RejectAllPasswordAuthenticator.INSTANCE);
  final String IDENTITY=getCurrentTestName();
  HostConfigEntry entry=new HostConfigEntry(TEST_LOCALHOST,TEST_LOCALHOST,port,USER);
  entry.addIdentity(IDENTITY);
  entry.setIdentitiesOnly(true);
  client.setClientIdentityLoader(new ClientIdentityLoader(){
    @Override public boolean isValidLocation(    String location) throws IOException {
      return IDENTITY.equals(location);
    }
    @Override public KeyPair loadClientIdentity(    String location,    FilePasswordProvider provider) throws IOException, GeneralSecurityException {
      if (isValidLocation(location)) {
        return specificIdentity;
      }
      throw new FileNotFoundException("Unknown location: " + location);
    }
  }
);
  PropertyResolverUtils.updateProperty(client,ClientFactoryManager.IGNORE_INVALID_IDENTITIES,false);
  final Collection<KeyPair> clientIdentities=Collections.singletonList(defaultIdentity);
  KeyPairProvider provider=new AbstractKeyPairProvider(){
    @Override public Iterable<KeyPair> loadKeys(){
      return clientIdentities;
    }
  }
;
  client.setKeyPairProvider(provider);
  client.start();
  try (ClientSession session=client.connect(entry).verify(7L,TimeUnit.SECONDS).getSession()){
    assertSame("Unexpected session key pairs provider",provider,session.getKeyPairProvider());
    session.auth().verify(5L,TimeUnit.SECONDS);
    assertFalse("Unexpected default client identity attempted",defaultClientIdentityAttempted.get());
    assertNull("Default client identity auto-added",session.removePublicKeyIdentity(defaultIdentity));
    assertNotNull("Entry identity not automatically added",session.removePublicKeyIdentity(specificIdentity));
    assertEffectiveRemoteAddress(session,entry);
  }
  finally {
    client.stop();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.client.config.keys.BuiltinClientIdentitiesWatcherTest </h4><pre class="type-8 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
"></span><br>
@Test public void testMultipleFilesWatch() throws Exception {
  KeyPair identity=Utils.getFirstKeyPair(createTestHostKeyProvider());
  String keyType=ValidateUtils.checkNotNullAndNotEmpty(KeyUtils.getKeyType(identity),"Cannot determine identity key type");
  Path dir=assertHierarchyTargetFolderExists(getTempTargetRelativeFile(getClass().getSimpleName()));
  final Map<BuiltinIdentities,Path> locationsMap=new EnumMap<>(BuiltinIdentities.class);
  final Map<BuiltinIdentities,KeyPair> idsMap=new EnumMap<>(BuiltinIdentities.class);
  for (  BuiltinIdentities id : BuiltinIdentities.VALUES) {
    Path idFile=dir.resolve(ClientIdentity.getIdentityFileName(id));
    Files.deleteIfExists(idFile);
    assertNull("Multiple file mappings for " + id,locationsMap.put(id,idFile));
    assertNull("Multiple identity mappings for " + id,idsMap.put(id,KeyUtils.cloneKeyPair(keyType,identity)));
  }
  ClientIdentityLoader loader=new ClientIdentityLoader(){
    @Override public KeyPair loadClientIdentity(    String location,    FilePasswordProvider provider) throws IOException, GeneralSecurityException {
      BuiltinIdentities id=findIdentity(location);
      assertNotNull("Invalid location: " + location,id);
      return idsMap.get(id);
    }
    @Override public boolean isValidLocation(    String location) throws IOException {
      return findIdentity(location) != null;
    }
    private BuiltinIdentities findIdentity(    String location){
      if (GenericUtils.isEmpty(location)) {
        return null;
      }
      for (      Map.Entry<BuiltinIdentities,Path> le : locationsMap.entrySet()) {
        Path path=le.getValue();
        if (String.CASE_INSENSITIVE_ORDER.compare(location,path.toString()) == 0) {
          return le.getKey();
        }
      }
      return null;
    }
  }
;
  Map<BuiltinIdentities,KeyPair> existing=new EnumMap<>(BuiltinIdentities.class);
  KeyPairProvider watcher=new BuiltinClientIdentitiesWatcher(dir,false,loader,FilePasswordProvider.EMPTY,false);
  testMultipleFilesWatch("No files",watcher,existing.values());
  for (  BuiltinIdentities id : BuiltinIdentities.VALUES) {
    String phase=id + " + " + Objects.toString(existing.keySet());
    touchIdentityFile(locationsMap.get(id));
    existing.put(id,idsMap.get(id));
    for (int index=0; index < Byte.SIZE; index++) {
      testMultipleFilesWatch(phase + "[" + index+ "]",watcher,existing.values());
    }
  }
  testMultipleFilesWatch("All files",watcher,existing.values());
  for (  BuiltinIdentities id : BuiltinIdentities.VALUES) {
    existing.remove(id);
    Files.deleteIfExists(locationsMap.get(id));
    String phase=Objects.toString(existing.keySet()) + " - " + id;
    for (int index=0; index < Byte.SIZE; index++) {
      testMultipleFilesWatch(phase + "[" + index+ "]",watcher,existing.values());
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.client.config.keys.ClientIdentityTest </h4><pre class="type-8 type-10 type-2 type-3 type-14 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLoadClientIdentities() throws Exception {
  Assume.assumeTrue("BouncyCastle not registered",SecurityUtils.isBouncyCastleRegistered());
  Path resFolder=getClassResourcesFolder(TEST_SUBFOLDER,getClass());
  LinkOption[] options=IoUtils.getLinkOptions(false);
  Collection<BuiltinIdentities> expected=EnumSet.noneOf(BuiltinIdentities.class);
  for (  BuiltinIdentities type : BuiltinIdentities.VALUES) {
    String fileName=ClientIdentity.getIdentityFileName(type);
    Path file=resFolder.resolve(fileName);
    if (!Files.exists(file,options)) {
      System.out.println("Skip non-existing identity file " + file);
      continue;
    }
    if (!type.isSupported()) {
      System.out.println("Skip unsupported identity file " + file);
      continue;
    }
    expected.add(type);
  }
  Map<String,KeyPair> ids=ClientIdentity.loadDefaultIdentities(resFolder,false,null,options);
  assertEquals("Mismatched loaded ids count",GenericUtils.size(expected),GenericUtils.size(ids));
  Collection<KeyPair> pairs=new ArrayList<KeyPair>(ids.size());
  for (  BuiltinIdentities type : BuiltinIdentities.VALUES) {
    if (expected.contains(type)) {
      KeyPair kp=ids.get(type.getName());
      assertNotNull("No key pair loaded for " + type,kp);
      pairs.add(kp);
    }
  }
  KeyIdentityProvider provider=IdentityUtils.createKeyPairProvider(ids,true);
  assertNotNull("No provider generated",provider);
  Iterable<KeyPair> keys=provider.loadKeys();
  for (  KeyPair kp : keys) {
    assertTrue("Unexpected loaded key: " + kp,pairs.remove(kp));
  }
  assertEquals("Not all pairs listed",0,pairs.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.client.simple.SimpleSftpClientTest </h4><pre class="type-8 type-2 type-3 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSftpProxyCalls() throws Exception {
  Path lclSftp=Utils.resolve(targetPath,SftpConstants.SFTP_SUBSYSTEM_NAME,getClass().getSimpleName(),getCurrentTestName());
  Utils.deleteRecursive(lclSftp);
  Path clientFolder=assertHierarchyTargetFolderExists(lclSftp).resolve("client");
  Path clientFile=clientFolder.resolve("file.txt");
  String remoteFileDir=Utils.resolveRelativeRemotePath(parentPath,clientFolder);
  String clientFileName=clientFile.getFileName().toString();
  String remoteFilePath=remoteFileDir + "/" + clientFileName;
  try (SftpClient sftp=login()){
    sftp.mkdir(remoteFileDir);
    byte[] written=(getClass().getSimpleName() + "#" + getCurrentTestName()+ IoUtils.EOL).getBytes(StandardCharsets.UTF_8);
    try (SftpClient.CloseableHandle h=sftp.open(remoteFilePath,EnumSet.of(SftpClient.OpenMode.Write,SftpClient.OpenMode.Create))){
      sftp.write(h,0L,written);
      SftpClient.Attributes attrs=sftp.stat(h);
      assertNotNull("No handle attributes",attrs);
      assertEquals("Mismatched remote file size",written.length,attrs.getSize());
    }
     assertTrue("Remote file not created: " + clientFile,Files.exists(clientFile,IoUtils.EMPTY_LINK_OPTIONS));
    byte[] local=Files.readAllBytes(clientFile);
    assertArrayEquals("Mismatched remote written data",written,local);
    try (SftpClient.CloseableHandle h=sftp.openDir(remoteFileDir)){
      List<SftpClient.DirEntry> dirEntries=sftp.readDir(h);
      assertNotNull("No dir entries",dirEntries);
      boolean matchFound=false;
      for (Iterator<SftpClient.DirEntry> it=dirEntries.iterator(); it.hasNext(); ) {
        SftpClient.DirEntry entry=it.next();
        String name=entry.getFilename();
        if (clientFileName.equals(name)) {
          matchFound=true;
          break;
        }
      }
      assertTrue("No directory entry found for " + clientFileName,matchFound);
    }
     sftp.remove(remoteFilePath);
    assertFalse("Remote file not removed: " + clientFile,Files.exists(clientFile,IoUtils.EMPTY_LINK_OPTIONS));
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.client.subsystem.sftp.SftpFileSystemTest </h4><pre class="type-11 type-8 type-2 type-3 type-15 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultipleFileStoresOnSameProvider() throws IOException {
  try (SshClient client=setupTestClient()){
    client.start();
    SftpFileSystemProvider provider=new SftpFileSystemProvider(client);
    Collection<SftpFileSystem> fsList=new LinkedList<>();
    try {
      Collection<String> idSet=new HashSet<>();
      Map<String,Object> empty=Collections.<String,Object>emptyMap();
      for (int index=0; index < 4; index++) {
        String credentials=getCurrentTestName() + "-user-" + index;
        SftpFileSystem expected=provider.newFileSystem(createFileSystemURI(credentials,empty),empty);
        fsList.add(expected);
        String id=expected.getId();
        assertTrue("Non unique file system id: " + id,idSet.add(id));
        SftpFileSystem actual=provider.getFileSystem(id);
        assertSame("Mismatched cached instances for " + id,expected,actual);
        outputDebugMessage("Created file system id: %s",id);
      }
      for (      SftpFileSystem fs : fsList) {
        String id=fs.getId();
        fs.close();
        assertNull("File system not removed from cache: " + id,provider.getFileSystem(id));
      }
    }
  finally {
      IOException err=null;
      for (      FileSystem fs : fsList) {
        try {
          fs.close();
        }
 catch (        IOException e) {
          err=GenericUtils.accumulateException(err,e);
        }
      }
      client.stop();
      if (err != null) {
        throw err;
      }
    }
  }
 }

</code></pre>

<br>
<pre class="type-8 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
"></span><br>
@Test public void testAttributes() throws IOException {
  Path targetPath=detectTargetFolder();
  Path lclSftp=Utils.resolve(targetPath,SftpConstants.SFTP_SUBSYSTEM_NAME,getClass().getSimpleName(),getCurrentTestName());
  Utils.deleteRecursive(lclSftp);
  try (FileSystem fs=FileSystems.newFileSystem(createDefaultFileSystemURI(),new TreeMap<String,Object>(){
    private static final long serialVersionUID=1L;
{
      put(SftpFileSystemProvider.READ_BUFFER_PROP_NAME,Integer.valueOf(SftpClient.MIN_READ_BUFFER_SIZE));
      put(SftpFileSystemProvider.WRITE_BUFFER_PROP_NAME,Integer.valueOf(SftpClient.MIN_WRITE_BUFFER_SIZE));
    }
  }
)){
    Path parentPath=targetPath.getParent();
    Path clientFolder=lclSftp.resolve("client");
    String remFilePath=Utils.resolveRelativeRemotePath(parentPath,clientFolder.resolve("file.txt"));
    Path file=fs.getPath(remFilePath);
    assertHierarchyTargetFolderExists(file.getParent());
    Files.write(file,(getCurrentTestName() + "\n").getBytes(StandardCharsets.UTF_8));
    Map<String,Object> attrs=Files.readAttributes(file,"posix:*");
    assertNotNull("No attributes read for " + file,attrs);
    Files.setAttribute(file,"basic:size",Long.valueOf(2L));
    Files.setAttribute(file,"posix:permissions",PosixFilePermissions.fromString("rwxr-----"));
    Files.setAttribute(file,"basic:lastModifiedTime",FileTime.fromMillis(100000L));
    FileSystem fileSystem=file.getFileSystem();
    try {
      UserPrincipalLookupService userLookupService=fileSystem.getUserPrincipalLookupService();
      GroupPrincipal group=userLookupService.lookupPrincipalByGroupName("everyone");
      Files.setAttribute(file,"posix:group",group);
    }
 catch (    UserPrincipalNotFoundException e) {
      if (OsUtils.isWin32()) {
        System.err.println(e.getClass().getSimpleName() + ": " + e.getMessage());
      }
 else {
        throw e;
      }
    }
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.client.subsystem.sftp.SftpTest </h4><pre class="type-8 type-2 type-3 type-15 type-14 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Sets implicit assumptions 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateSymbolicLink() throws Exception {
  Assume.assumeTrue("Skip non-Unix O/S",OsUtils.isUNIX());
  List<NamedFactory<Command>> factories=sshd.getSubsystemFactories();
  assertEquals("Mismatched subsystem factories count",1,GenericUtils.size(factories));
  NamedFactory<Command> f=factories.get(0);
  assertObjectInstanceOf("Not an SFTP subsystem factory",SftpSubsystemFactory.class,f);
  SftpSubsystemFactory factory=(SftpSubsystemFactory)f;
  final AtomicReference<LinkData> linkDataHolder=new AtomicReference<>();
  factory.addSftpEventListener(new AbstractSftpEventListenerAdapter(){
    @Override public void linking(    ServerSession session,    Path src,    Path target,    boolean symLink){
      assertNull("Multiple linking calls",linkDataHolder.getAndSet(new LinkData(src,target,symLink)));
    }
    @Override public void linked(    ServerSession session,    Path src,    Path target,    boolean symLink,    Throwable thrown){
      LinkData data=linkDataHolder.get();
      assertNotNull("No previous linking call",data);
      assertSame("Mismatched source",data.getSource(),src);
      assertSame("Mismatched target",data.getTarget(),target);
      assertEquals("Mismatched link type",data.isSymLink(),symLink);
      assertNull("Unexpected failure",thrown);
    }
  }
);
  Path targetPath=detectTargetFolder();
  Path lclSftp=Utils.resolve(targetPath,SftpConstants.SFTP_SUBSYSTEM_NAME,getClass().getSimpleName(),getCurrentTestName());
  Utils.deleteRecursive(lclSftp);
  Path parentPath=targetPath.getParent();
  Path sourcePath=assertHierarchyTargetFolderExists(lclSftp).resolve("src.txt");
  String remSrcPath="/" + Utils.resolveRelativeRemotePath(parentPath,sourcePath);
  String data=getCurrentTestName();
  ChannelSftp c=(ChannelSftp)session.openChannel(SftpConstants.SFTP_SUBSYSTEM_NAME);
  c.connect();
  try {
    try (InputStream dataStream=new ByteArrayInputStream(data.getBytes(StandardCharsets.UTF_8))){
      c.put(dataStream,remSrcPath);
    }
     assertTrue("Source file not created: " + sourcePath,Files.exists(sourcePath));
    assertEquals("Mismatched stored data in " + remSrcPath,data,readFile(remSrcPath));
    Path linkPath=lclSftp.resolve("link-" + sourcePath.getFileName());
    String remLinkPath="/" + Utils.resolveRelativeRemotePath(parentPath,linkPath);
    LinkOption[] options=IoUtils.getLinkOptions(false);
    if (Files.exists(linkPath,options)) {
      Files.delete(linkPath);
    }
    assertFalse("Target link exists before linking: " + linkPath,Files.exists(linkPath,options));
    outputDebugMessage("Symlink %s => %s",remLinkPath,remSrcPath);
    c.symlink(remSrcPath,remLinkPath);
    assertTrue("Symlink not created: " + linkPath,Files.exists(linkPath,options));
    assertEquals("Mismatched link data in " + remLinkPath,data,readFile(remLinkPath));
    String str1=c.readlink(remLinkPath);
    String str2=c.realpath(remSrcPath);
    assertEquals("Mismatched link vs. real path",str1,str2);
  }
  finally {
    c.disconnect();
  }
  assertNotNull("No symlink signalled",linkDataHolder.getAndSet(null));
}

</code></pre>

<br>
<pre class="type-8 type-10 type-2 type-3 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testServerExtensionsDeclarations() throws Exception {
  try (SshClient client=setupTestClient()){
    client.start();
    try (ClientSession session=client.connect(getCurrentTestName(),TEST_LOCALHOST,port).verify(7L,TimeUnit.SECONDS).getSession()){
      session.addPasswordIdentity(getCurrentTestName());
      session.auth().verify(5L,TimeUnit.SECONDS);
      try (SftpClient sftp=session.createSftpClient()){
        Map<String,byte[]> extensions=sftp.getServerExtensions();
        for (        String name : new String[]{SftpConstants.EXT_NEWLINE,SftpConstants.EXT_VERSIONS,SftpConstants.EXT_VENDOR_ID,SftpConstants.EXT_ACL_SUPPORTED,SftpConstants.EXT_SUPPORTED,SftpConstants.EXT_SUPPORTED2}) {
          assertTrue("Missing extension=" + name,extensions.containsKey(name));
        }
        Map<String,?> data=ParserUtils.parse(extensions);
        for (        Map.Entry<String,?> de : data.entrySet()) {
          String extName=de.getKey();
          Object extValue=de.getValue();
          outputDebugMessage("%s: %s",extName,extValue);
          if (SftpConstants.EXT_SUPPORTED.equalsIgnoreCase(extName)) {
            assertSupportedExtensions(extName,((Supported)extValue).extensionNames);
          }
 else           if (SftpConstants.EXT_SUPPORTED2.equalsIgnoreCase(extName)) {
            assertSupportedExtensions(extName,((Supported2)extValue).extensionNames);
          }
 else           if (SftpConstants.EXT_ACL_SUPPORTED.equalsIgnoreCase(extName)) {
            assertSupportedAclCapabilities((AclCapabilities)extValue);
          }
 else           if (SftpConstants.EXT_VERSIONS.equalsIgnoreCase(extName)) {
            assertSupportedVersions((Versions)extValue);
          }
 else           if (SftpConstants.EXT_NEWLINE.equalsIgnoreCase(extName)) {
            assertNewlineValue((Newline)extValue);
          }
        }
        for (        String extName : extensions.keySet()) {
          if (!data.containsKey(extName)) {
            outputDebugMessage("No parser for extension=%s",extName);
          }
        }
        for (        OpenSSHExtension expected : SftpSubsystem.DEFAULT_OPEN_SSH_EXTENSIONS) {
          String name=expected.getName();
          Object value=data.get(name);
          assertNotNull("OpenSSH extension not declared: " + name,value);
          OpenSSHExtension actual=(OpenSSHExtension)value;
          assertEquals("Mismatched version for OpenSSH extension=" + name,expected.getVersion(),actual.getVersion());
        }
        for (        BuiltinSftpClientExtensions type : BuiltinSftpClientExtensions.VALUES) {
          String extensionName=type.getName();
          boolean isOpenSSHExtension=extensionName.endsWith("@openssh.com");
          SftpClientExtension instance=sftp.getExtension(extensionName);
          assertNotNull("Extension not implemented:" + extensionName,instance);
          assertEquals("Mismatched instance name",extensionName,instance.getName());
          if (instance.isSupported()) {
            if (isOpenSSHExtension) {
              assertTrue("Unlisted default OpenSSH extension: " + extensionName,SftpSubsystem.DEFAULT_OPEN_SSH_EXTENSIONS_NAMES.contains(extensionName));
            }
          }
 else {
            assertTrue("Unsupported non-OpenSSH extension: " + extensionName,isOpenSSHExtension);
            assertFalse("Unsupported default OpenSSH extension: " + extensionName,SftpSubsystem.DEFAULT_OPEN_SSH_EXTENSIONS_NAMES.contains(extensionName));
          }
        }
      }
     }
  finally {
      client.stop();
    }
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.client.subsystem.sftp.SftpVersionsTest </h4><pre class="type-8 type-10 type-3 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSftpACLEncodeDecode() throws Exception {
  AclEntryType[] types=AclEntryType.values();
  final List<AclEntry> aclExpected=new ArrayList<>(types.length);
  for (  AclEntryType t : types) {
    aclExpected.add(AclEntry.newBuilder().setType(t).setFlags(EnumSet.allOf(AclEntryFlag.class)).setPermissions(EnumSet.allOf(AclEntryPermission.class)).setPrincipal(new DefaultGroupPrincipal(getCurrentTestName() + "@" + getClass().getPackage().getName())).build());
  }
  final AtomicInteger numInvocations=new AtomicInteger(0);
  SftpSubsystemFactory factory=new SftpSubsystemFactory(){
    @Override public Command create(){
      SftpSubsystem subsystem=new SftpSubsystem(getExecutorService(),isShutdownOnExit(),getUnsupportedAttributePolicy()){
        @Override protected Map<String,Object> resolveFileAttributes(        Path file,        int flags,        LinkOption... options) throws IOException {
          Map<String,Object> attrs=super.resolveFileAttributes(file,flags,options);
          if (GenericUtils.isEmpty(attrs)) {
            attrs=new TreeMap<String,Object>(String.CASE_INSENSITIVE_ORDER);
          }
          @SuppressWarnings("unchecked") List<AclEntry> aclActual=(List<AclEntry>)attrs.put("acl",aclExpected);
          if (aclActual != null) {
            log.info("resolveFileAttributes(" + file + ") replaced ACL: "+ aclActual);
          }
          return attrs;
        }
        @Override protected void setFileAccessControl(        Path file,        List<AclEntry> aclActual,        LinkOption... options) throws IOException {
          if (aclActual != null) {
            assertListEquals("Mismatched ACL set for file=" + file,aclExpected,aclActual);
            numInvocations.incrementAndGet();
          }
        }
      }
;
      Collection<? extends SftpEventListener> listeners=getRegisteredListeners();
      if (GenericUtils.size(listeners) > 0) {
        for (        SftpEventListener l : listeners) {
          subsystem.addSftpEventListener(l);
        }
      }
      return subsystem;
    }
  }
;
  factory.addSftpEventListener(new AbstractSftpEventListenerAdapter(){
    @Override public void modifyingAttributes(    ServerSession session,    Path path,    Map<String,?> attrs){
      @SuppressWarnings("unchecked") List<AclEntry> aclActual=GenericUtils.isEmpty(attrs) ? null : (List<AclEntry>)attrs.get("acl");
      if (getTestedVersion() > SftpConstants.SFTP_V3) {
        assertListEquals("Mismatched modifying ACL for file=" + path,aclExpected,aclActual);
      }
 else {
        assertNull("Unexpected modifying ACL for file=" + path,aclActual);
      }
    }
    @Override public void modifiedAttributes(    ServerSession session,    Path path,    Map<String,?> attrs,    Throwable thrown){
      @SuppressWarnings("unchecked") List<AclEntry> aclActual=GenericUtils.isEmpty(attrs) ? null : (List<AclEntry>)attrs.get("acl");
      if (getTestedVersion() > SftpConstants.SFTP_V3) {
        assertListEquals("Mismatched modified ACL for file=" + path,aclExpected,aclActual);
      }
 else {
        assertNull("Unexpected modified ACL for file=" + path,aclActual);
      }
    }
  }
);
  sshd.setSubsystemFactories(Collections.<NamedFactory<Command>>singletonList(factory));
  Path targetPath=detectTargetFolder();
  Path lclSftp=Utils.resolve(targetPath,SftpConstants.SFTP_SUBSYSTEM_NAME,getClass().getSimpleName());
  Files.createDirectories(lclSftp.resolve("sub-folder"));
  Path lclFile=assertHierarchyTargetFolderExists(lclSftp).resolve(getCurrentTestName() + "-" + getTestedVersion()+ ".txt");
  Files.write(lclFile,getClass().getName().getBytes(StandardCharsets.UTF_8));
  Path parentPath=targetPath.getParent();
  String remotePath=Utils.resolveRelativeRemotePath(parentPath,lclSftp);
  int numInvoked=0;
  try (SshClient client=setupTestClient()){
    client.start();
    try (ClientSession session=client.connect(getCurrentTestName(),TEST_LOCALHOST,port).verify(7L,TimeUnit.SECONDS).getSession()){
      session.addPasswordIdentity(getCurrentTestName());
      session.auth().verify(5L,TimeUnit.SECONDS);
      try (SftpClient sftp=session.createSftpClient(getTestedVersion())){
        for (        DirEntry entry : sftp.readDir(remotePath)) {
          String fileName=entry.getFilename();
          if (".".equals(fileName) || "..".equals(fileName)) {
            continue;
          }
          Attributes attrs=validateSftpFileTypeAndPermissions(fileName,getTestedVersion(),entry.getAttributes());
          List<AclEntry> aclActual=attrs.getAcl();
          if (getTestedVersion() == SftpConstants.SFTP_V3) {
            assertNull("Unexpected ACL for entry=" + fileName,aclActual);
          }
 else {
            assertListEquals("Mismatched ACL for entry=" + fileName,aclExpected,aclActual);
          }
          attrs.getFlags().clear();
          attrs.setAcl(aclExpected);
          sftp.setStat(remotePath + "/" + fileName,attrs);
          if (getTestedVersion() > SftpConstants.SFTP_V3) {
            numInvoked++;
          }
        }
      }
     }
  finally {
      client.stop();
    }
  }
   assertEquals("Mismatched invocations count",numInvoked,numInvocations.get());
}

</code></pre>

<br>
<pre class="type-11 type-8 type-10 type-2 type-3 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEndOfListIndicator() throws Exception {
  try (SshClient client=setupTestClient()){
    client.start();
    try (ClientSession session=client.connect(getCurrentTestName(),TEST_LOCALHOST,port).verify(7L,TimeUnit.SECONDS).getSession()){
      session.addPasswordIdentity(getCurrentTestName());
      session.auth().verify(5L,TimeUnit.SECONDS);
      try (SftpClient sftp=session.createSftpClient(getTestedVersion())){
        AtomicReference<Boolean> eolIndicator=new AtomicReference<>();
        int version=sftp.getVersion();
        Path targetPath=detectTargetFolder();
        Path parentPath=targetPath.getParent();
        String remotePath=Utils.resolveRelativeRemotePath(parentPath,targetPath);
        try (CloseableHandle handle=sftp.openDir(remotePath)){
          List<DirEntry> entries=sftp.readDir(handle,eolIndicator);
          for (int index=1; entries != null; entries=sftp.readDir(handle,eolIndicator), index++) {
            Boolean value=eolIndicator.get();
            if (version < SftpConstants.SFTP_V6) {
              assertNull("Unexpected indicator value at iteration #" + index,value);
            }
 else {
              assertNotNull("No indicator returned at iteration #" + index,value);
              if (value.booleanValue()) {
                break;
              }
            }
            eolIndicator.set(null);
          }
          Boolean value=eolIndicator.get();
          if (version < SftpConstants.SFTP_V6) {
            assertNull("Unexpected end-of-list indication received at end of entries",value);
            assertNull("Unexpected no last entries indication",entries);
          }
 else {
            assertNotNull("No end-of-list indication received at end of entries",value);
            assertNotNull("No last received entries",entries);
            assertTrue("Bad end-of-list value",value.booleanValue());
          }
        }
       }
     }
  finally {
      client.stop();
    }
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.client.subsystem.sftp.extensions.BuiltinSftpClientExtensionsTest </h4><pre class="type-8 type-3 type-15 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFromInstance(){
  for (  Object instance : new Object[]{null,this}) {
    assertNull("Unexpected value for " + instance,BuiltinSftpClientExtensions.fromInstance(instance));
  }
  SftpClient mockClient=Mockito.mock(SftpClient.class);
  RawSftpClient mockRaw=Mockito.mock(RawSftpClient.class);
  for (  BuiltinSftpClientExtensions expected : BuiltinSftpClientExtensions.VALUES) {
    SftpClientExtension e=expected.create(mockClient,mockRaw);
    BuiltinSftpClientExtensions actual=BuiltinSftpClientExtensions.fromInstance(e);
    assertSame(expected.getName(),expected,actual);
    assertEquals("Mismatched extension name",expected.getName(),actual.getName());
  }
}

</code></pre>

<br>
<pre class="type-11 type-8 type-3 type-15 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFromName(){
  for (  String name : new String[]{null,"",getCurrentTestName()}) {
    assertNull("Unexpected result for name='" + name + "'",BuiltinSftpClientExtensions.fromName(name));
  }
  for (  BuiltinSftpClientExtensions expected : BuiltinSftpClientExtensions.VALUES) {
    String name=expected.getName();
    for (int index=0; index < name.length(); index++) {
      BuiltinSftpClientExtensions actual=BuiltinSftpClientExtensions.fromName(name);
      assertSame(name,expected,actual);
      name=shuffleCase(name);
    }
  }
}

</code></pre>

<br>
<pre class="type-8 type-3 type-15 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFromType(){
  for (  Class<?> clazz : new Class<?>[]{null,getClass(),SftpClientExtension.class}) {
    assertNull("Unexpected value for class=" + clazz,BuiltinSftpClientExtensions.fromType(clazz));
  }
  for (  BuiltinSftpClientExtensions expected : BuiltinSftpClientExtensions.VALUES) {
    Class<?> type=expected.getType();
    BuiltinSftpClientExtensions actual=BuiltinSftpClientExtensions.fromType(type);
    assertSame(type.getSimpleName(),expected,actual);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.common.ForwardingFilterTest </h4><pre class="type-11 type-8 type-3 type-15 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFromStringForwardingFilterType(){
  for (  String name : new String[]{null,"",getCurrentTestName()}) {
    assertNull("Unexpected value for name='" + name + "'",ForwardingFilter.Type.fromString(name));
  }
  for (  ForwardingFilter.Type expected : ForwardingFilter.Type.VALUES) {
    for (    String name : new String[]{expected.name(),expected.getName()}) {
      for (int index=0; index < name.length(); index++) {
        ForwardingFilter.Type actual=ForwardingFilter.Type.fromString(name);
        assertSame("Mismatched instance for name=" + name,expected,actual);
        name=shuffleCase(name);
      }
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.common.PropertyResolverUtilsTest </h4><pre class="type-3 type-15 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveAndUpdateClosestPropertyValue(){
  final String NAME=getCurrentTestName();
  final String ROOT_VALUE=getClass().getPackage().getName();
  Session resolver=createMockSession();
  FactoryManager root=ValidateUtils.checkNotNull(resolver.getFactoryManager(),"No manager");
  assertNull("Unexpected root previous value",PropertyResolverUtils.updateProperty(root,NAME,ROOT_VALUE));
  assertSame("Mismatched root value",ROOT_VALUE,PropertyResolverUtils.getString(resolver,NAME));
  final String NODE_VALUE=getClass().getSimpleName();
  assertNull("Unexpected node previous value",PropertyResolverUtils.updateProperty(resolver,NAME,NODE_VALUE));
  assertSame("Mismatched node value",NODE_VALUE,PropertyResolverUtils.getString(resolver,NAME));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.common.auth.SinglePublicKeyAuthTest </h4><pre class="type-8 type-2 type-3 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPublicKeyAuthWithoutCache() throws Exception {
  final ConcurrentHashMap<String,AtomicInteger> count=new ConcurrentHashMap<String,AtomicInteger>();
  delegate=new PublickeyAuthenticator(){
    @SuppressWarnings("synthetic-access") @Override public boolean authenticate(    String username,    PublicKey key,    ServerSession session){
      String fp=KeyUtils.getFingerPrint(key);
      count.putIfAbsent(fp,new AtomicInteger());
      count.get(fp).incrementAndGet();
      return key.equals(pairRsa.getPublic());
    }
  }
;
  try (SshClient client=setupTestClient()){
    client.start();
    try (ClientSession session=client.connect(getCurrentTestName(),TEST_LOCALHOST,port).verify(7L,TimeUnit.SECONDS).getSession()){
      session.addPublicKeyIdentity(pairRsaBad);
      session.addPublicKeyIdentity(pairRsa);
      AuthFuture auth=session.auth();
      assertTrue("Failed to authenticate on time",auth.await(5L,TimeUnit.SECONDS));
      assertTrue("Authentication failed",auth.isSuccess());
    }
  finally {
      client.stop();
    }
  }
   assertEquals("Mismatched attempted keys count",2,count.size());
  String badFingerPrint=KeyUtils.getFingerPrint(pairRsaBad.getPublic());
  Number badIndex=count.get(badFingerPrint);
  assertNotNull("Missing bad RSA key",badIndex);
  assertEquals("Mismatched attempt index for bad key",1,badIndex.intValue());
  String goodFingerPrint=KeyUtils.getFingerPrint(pairRsa.getPublic());
  Number goodIndex=count.get(goodFingerPrint);
  assertNotNull("Missing good RSA key",goodIndex);
  assertEquals("Mismatched attempt index for good key",2,goodIndex.intValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.common.cipher.BuiltinCiphersTest </h4><pre class="type-8 type-2 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAllConstantsCovered() throws Exception {
  Set<BuiltinCiphers> avail=EnumSet.noneOf(BuiltinCiphers.class);
  Field[] fields=BuiltinCiphers.Constants.class.getFields();
  for (  Field f : fields) {
    int mods=f.getModifiers();
    if (!Modifier.isStatic(mods)) {
      continue;
    }
    Class<?> type=f.getType();
    if (!String.class.isAssignableFrom(type)) {
      continue;
    }
    String name=Objects.toString(f.get(null),null);
    BuiltinCiphers value=BuiltinCiphers.fromFactoryName(name);
    assertNotNull("No match found for " + name,value);
    assertTrue(name + " re-specified",avail.add(value));
  }
  assertEquals("Incomplete coverage",BuiltinCiphers.VALUES,avail);
}

</code></pre>

<br>
<pre class="type-8 type-3 type-15 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveFactoryOnRegisteredExtension(){
  CipherFactory expected=Mockito.mock(CipherFactory.class);
  Mockito.when(expected.getName()).thenReturn(getCurrentTestName());
  String name=expected.getName();
  try {
    assertNull("Extension already registered",BuiltinCiphers.resolveFactory(name));
    BuiltinCiphers.registerExtension(expected);
    NamedFactory<Cipher> actual=BuiltinCiphers.resolveFactory(name);
    assertSame("Mismatched resolved instance",expected,actual);
  }
  finally {
    NamedFactory<Cipher> actual=BuiltinCiphers.unregisterExtension(name);
    assertSame("Mismatched unregistered instance",expected,actual);
    assertNull("Extension not un-registered",BuiltinCiphers.resolveFactory(name));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.common.cipher.ECCurvesTest </h4><pre class="type-8 type-2 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAllNamesListed(){
  Set<ECCurves> listed=EnumSet.noneOf(ECCurves.class);
  for (  String name : ECCurves.NAMES) {
    ECCurves c=ECCurves.fromCurveName(name);
    assertNotNull("No curve for listed name=" + name,c);
    assertTrue("Duplicated listed name: " + name,listed.add(c));
  }
  assertEquals("Mismatched listed vs. values",ECCurves.VALUES,listed);
}

</code></pre>

<br>
<pre class="type-8 type-2 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAllKeyTypesListed(){
  Set<ECCurves> listed=EnumSet.noneOf(ECCurves.class);
  for (  String name : ECCurves.KEY_TYPES) {
    ECCurves c=ECCurves.fromKeyType(name);
    assertNotNull("No curve for listed key type=" + name,c);
    assertTrue("Duplicated listed key type: " + name,listed.add(c));
  }
  assertEquals("Mismatched listed vs. values",ECCurves.VALUES,listed);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.common.compression.BuiltinCompressionsTest </h4><pre class="type-8 type-3 type-15 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveFactoryOnRegisteredExtension(){
  CompressionFactory expected=Mockito.mock(CompressionFactory.class);
  Mockito.when(expected.getName()).thenReturn(getCurrentTestName());
  String name=expected.getName();
  try {
    assertNull("Extension already registered",BuiltinCompressions.resolveFactory(name));
    BuiltinCompressions.registerExtension(expected);
    NamedFactory<Compression> actual=BuiltinCompressions.resolveFactory(name);
    assertSame("Mismatched resolved instance",expected,actual);
  }
  finally {
    NamedFactory<Compression> actual=BuiltinCompressions.unregisterExtension(name);
    assertSame("Mismatched unregistered instance",expected,actual);
    assertNull("Extension not un-registered",BuiltinCompressions.resolveFactory(name));
  }
}

</code></pre>

<br>
<pre class="type-8 type-2 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAllConstantsCovered() throws Exception {
  Set<BuiltinCompressions> avail=EnumSet.noneOf(BuiltinCompressions.class);
  Field[] fields=BuiltinCompressions.Constants.class.getFields();
  for (  Field f : fields) {
    String name=(String)f.get(null);
    BuiltinCompressions value=BuiltinCompressions.fromFactoryName(name);
    assertNotNull("No match found for " + name,value);
    assertTrue(name + " re-specified",avail.add(value));
  }
  assertEquals("Incomplete coverage",BuiltinCompressions.VALUES,avail);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.common.config.SshConfigFileReaderTest </h4><pre class="type-8 type-2 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReadFromURL() throws IOException {
  URL url=getClass().getResource("sshd_config");
  assertNotNull("Cannot locate test file",url);
  Properties props=SshConfigFileReader.readConfigFile(url);
  assertFalse("No properties read",props.isEmpty());
  assertTrue("Unexpected commented property data",GenericUtils.isEmpty(props.getProperty("ListenAddress")));
  assertTrue("Unexpected non-existing property data",GenericUtils.isEmpty(props.getProperty(getCurrentTestName())));
  String keysList=props.getProperty("HostKey");
  assertFalse("No host keys",GenericUtils.isEmpty(keysList));
  String[] keys=GenericUtils.split(keysList,',');
  assertTrue("No multiple keys",GenericUtils.length((Object[])keys) > 1);
}

</code></pre>

<br>
<pre class="type-8 type-3 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetCompression(){
  Properties props=new Properties();
  for (  CompressionConfigValue expected : CompressionConfigValue.VALUES) {
    props.setProperty(SshConfigFileReader.COMPRESSION_PROP,expected.name().toLowerCase());
    NamedResource actual=SshConfigFileReader.getCompression(props);
    assertNotNull("No match for " + expected.name(),actual);
    assertEquals(expected.name(),expected.getName(),actual.getName());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.common.config.keys.BuiltinIdentitiesTest </h4><pre class="type-8 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
"></span><br>
@Test public void testAllConstantsCovered() throws Exception {
  Field[] fields=BuiltinIdentities.Constants.class.getFields();
  for (  Field f : fields) {
    int mods=f.getModifiers();
    if (!Modifier.isStatic(mods)) {
      continue;
    }
    if (!Modifier.isFinal(mods)) {
      continue;
    }
    Class<?> type=f.getType();
    if (!String.class.isAssignableFrom(type)) {
      continue;
    }
    String name=f.getName(), value=(String)f.get(null);
    BuiltinIdentities id=BuiltinIdentities.fromName(value);
    assertNotNull("No match found for field " + name + "="+ value,id);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.common.config.keys.KeyUtilsTest </h4><pre class="type-8 type-3 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGenerateDefaultFingerprintDigest(){
  final DigestFactory defaultValue=KeyUtils.getDefaultFingerPrintFactory();
  assertNotNull("No current default fingerprint digest factory",defaultValue);
  try {
    for (    DigestFactory f : BuiltinDigests.VALUES) {
      if (!f.isSupported()) {
        System.out.println("Skip unsupported digest=" + f.getAlgorithm());
        continue;
      }
      KeyUtils.setDefaultFingerPrintFactory(f);
      String data=getClass().getName() + "#" + getCurrentTestName()+ "("+ f.getName()+ ")";
      String expected=KeyUtils.getFingerPrint(f,data);
      String actual=KeyUtils.getFingerPrint(data);
      assertEquals("Mismatched fingerprint for digest=" + f.getName(),expected,actual);
    }
  }
  finally {
    KeyUtils.setDefaultFingerPrintFactory(defaultValue);
  }
}

</code></pre>

<br>
<pre class="type-8 type-10 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies whether objects are null
"></span><br>
@Test public void testValidateStrictKeyFilePermissions() throws IOException {
  Path file=getTempTargetRelativeFile(getClass().getSimpleName(),getCurrentTestName());
  outputDebugMessage("%s deletion result=%s",file,Files.deleteIfExists(file));
  assertNull("Unexpected violation for non-existent file: " + file,KeyUtils.validateStrictKeyFilePermissions(file));
  assertHierarchyTargetFolderExists(file.getParent());
  try (OutputStream output=Files.newOutputStream(file)){
    output.write((getClass().getName() + "#" + getCurrentTestName()+ "@"+ new Date(System.currentTimeMillis())).getBytes(StandardCharsets.UTF_8));
  }
   Collection<PosixFilePermission> perms=IoUtils.getPermissions(file);
  if (GenericUtils.isEmpty(perms)) {
    assertNull("Unexpected violation for no permissions file: " + file,KeyUtils.validateStrictKeyFilePermissions(file));
  }
 else   if (OsUtils.isUNIX()) {
    Pair<String,Object> violation=null;
    for (    PosixFilePermission p : KeyUtils.STRICTLY_PROHIBITED_FILE_PERMISSION) {
      if (perms.contains(p)) {
        violation=KeyUtils.validateStrictKeyFilePermissions(file);
        assertNotNull("Unexpected success for permission=" + p + " of file "+ file+ " permissions="+ perms,violation);
        break;
      }
    }
    if (violation == null) {
      assertNotNull("Unexpected UNIX success for file " + file + " permissions="+ perms,KeyUtils.validateStrictKeyFilePermissions(file));
    }
  }
 else {
    assertNull("Unexpected Windows violation for file " + file + " permissions="+ perms,KeyUtils.validateStrictKeyFilePermissions(file));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.common.config.keys.PublicKeyEntryTest </h4><pre class="type-3 type-15 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFallbackResolver() throws Exception {
  PublicKeyEntry entry=PublicKeyEntry.parsePublicKeyEntry(GenericUtils.join(Arrays.asList(getCurrentTestName(),"AAAA",getClass().getSimpleName()),' '));
  for (  PublicKeyEntryResolver resolver : new PublicKeyEntryResolver[]{null,PublicKeyEntryResolver.FAILING,PublicKeyEntryResolver.IGNORING}) {
    try {
      PublicKey key=entry.resolvePublicKey(resolver);
      assertSame("Mismatched successful resolver",PublicKeyEntryResolver.IGNORING,resolver);
      assertNull("Unexpected success for resolver=" + resolver + ": "+ KeyUtils.getFingerPrint(key),key);
    }
 catch (    GeneralSecurityException e) {
      assertObjectInstanceOf("Mismatched thrown exception for resolver=" + resolver,InvalidKeySpecException.class,e);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.common.digest.BuiltinDigestsTest </h4><pre class="type-8 type-2 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAllConstantsCovered() throws Exception {
  Set<BuiltinDigests> avail=EnumSet.noneOf(BuiltinDigests.class);
  Field[] fields=BuiltinDigests.Constants.class.getFields();
  for (  Field f : fields) {
    String name=(String)f.get(null);
    BuiltinDigests value=BuiltinDigests.fromFactoryName(name);
    assertNotNull("No match found for " + name,value);
    assertTrue(name + " re-specified",avail.add(value));
  }
  assertEquals("Incomplete coverage",BuiltinDigests.VALUES,avail);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.common.forward.PortForwardingLoadTest </h4><pre class="type-11 type-2 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRemoteForwardingPayload() throws Exception {
  final int NUM_ITERATIONS=100;
  final String PAYLOAD="This is significantly longer Test Data. This is significantly " + "longer Test Data. This is significantly longer Test Data. This is significantly " + "longer Test Data. This is significantly longer Test Data. This is significantly "+ "longer Test Data. This is significantly longer Test Data. This is significantly "+ "longer Test Data. This is significantly longer Test Data. This is significantly "+ "longer Test Data. ";
  Session session=createSession();
  try (final ServerSocket ss=new ServerSocket()){
    ss.setReuseAddress(true);
    ss.bind(new InetSocketAddress((InetAddress)null,0));
    int forwardedPort=ss.getLocalPort();
    int sinkPort=Utils.getFreePort();
    session.setPortForwardingR(sinkPort,TEST_LOCALHOST,forwardedPort);
    final boolean started[]=new boolean[1];
    started[0]=false;
    final AtomicInteger conCount=new AtomicInteger(0);
    Thread tWriter=new Thread(getCurrentTestName() + "Writer"){
      @SuppressWarnings("synthetic-access") @Override public void run(){
        started[0]=true;
        try {
          byte[] bytes=PAYLOAD.getBytes(StandardCharsets.UTF_8);
          for (int i=0; i < NUM_ITERATIONS; ++i) {
            try (Socket s=ss.accept()){
              conCount.incrementAndGet();
              try (OutputStream sockOut=s.getOutputStream()){
                sockOut.write(bytes);
                sockOut.flush();
              }
             }
           }
        }
 catch (        Exception e) {
          log.error("Failed to complete run loop",e);
        }
      }
    }
;
    tWriter.start();
    Thread.sleep(50);
    assertTrue("Server not started",started[0]);
    final RuntimeException lenOK[]=new RuntimeException[NUM_ITERATIONS];
    final RuntimeException dataOK[]=new RuntimeException[NUM_ITERATIONS];
    byte b2[]=new byte[PAYLOAD.length()];
    byte b1[]=new byte[b2.length / 2];
    for (int i=0; i < NUM_ITERATIONS; i++) {
      final int ii=i;
      try (Socket s=new Socket(TEST_LOCALHOST,sinkPort);InputStream sockIn=s.getInputStream()){
        s.setSoTimeout((int)TimeUnit.SECONDS.toMillis(10L));
        int read1=sockIn.read(b1);
        String part1=new String(b1,0,read1,StandardCharsets.UTF_8);
        Thread.sleep(50);
        int read2=sockIn.read(b2);
        String part2=new String(b2,0,read2,StandardCharsets.UTF_8);
        int totalRead=read1 + read2;
        lenOK[ii]=(PAYLOAD.length() == totalRead) ? null : new IndexOutOfBoundsException("Mismatched length: expected=" + PAYLOAD.length() + ", actual="+ totalRead);
        String readData=part1 + part2;
        dataOK[ii]=PAYLOAD.equals(readData) ? null : new IllegalStateException("Mismatched content");
        if (lenOK[ii] != null) {
          throw lenOK[ii];
        }
        if (dataOK[ii] != null) {
          throw dataOK[ii];
        }
      }
 catch (      Exception e) {
        if (e instanceof IOException) {
          log.warn("I/O exception in iteration #" + i,e);
        }
 else {
          log.error("Failed to complete iteration #" + i,e);
        }
      }
    }
    int ok=0;
    for (int i=0; i < NUM_ITERATIONS; i++) {
      ok+=(lenOK[i] == null) ? 1 : 0;
    }
    log.info("Successful iteration: " + ok + " out of "+ NUM_ITERATIONS);
    Thread.sleep(55L);
    for (int i=0; i < NUM_ITERATIONS; i++) {
      assertNull("Bad length at iteration " + i,lenOK[i]);
      assertNull("Bad data at iteration " + i,dataOK[i]);
    }
    session.delPortForwardingR(forwardedPort);
    ss.close();
    tWriter.join(TimeUnit.SECONDS.toMillis(5L));
  }
  finally {
    session.disconnect();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.common.io.BuiltinIoServiceFactoryFactoriesTest </h4><pre class="type-3 type-15 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFromFactoryName(){
  for (  String name : new String[]{null,"",getCurrentTestName()}) {
    assertNull("Unexpected success for name='" + name + "'",BuiltinIoServiceFactoryFactories.fromFactoryName(name));
  }
  for (  BuiltinIoServiceFactoryFactories expected : BuiltinIoServiceFactoryFactories.VALUES) {
    String name=expected.getName();
    assertSame(name,expected,BuiltinIoServiceFactoryFactories.fromFactoryName(name));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.common.kex.BuiltinDHFactoriesTest </h4><pre class="type-8 type-3 type-15 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveFactoryOnRegisteredExtension(){
  DHFactory expected=Mockito.mock(DHFactory.class);
  Mockito.when(expected.getName()).thenReturn(getCurrentTestName());
  String name=expected.getName();
  try {
    assertNull("Extension already registered",BuiltinDHFactories.resolveFactory(name));
    BuiltinDHFactories.registerExtension(expected);
    DHFactory actual=BuiltinDHFactories.resolveFactory(name);
    assertSame("Mismatched resolved instance",expected,actual);
  }
  finally {
    DHFactory actual=BuiltinDHFactories.unregisterExtension(name);
    assertSame("Mismatched unregistered instance",expected,actual);
    assertNull("Extension not un-registered",BuiltinDHFactories.resolveFactory(name));
  }
}

</code></pre>

<br>
<pre class="type-8 type-2 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAllConstantsCovered() throws Exception {
  Set<BuiltinDHFactories> avail=EnumSet.noneOf(BuiltinDHFactories.class);
  Field[] fields=BuiltinDHFactories.Constants.class.getFields();
  for (  Field f : fields) {
    String name=(String)f.get(null);
    BuiltinDHFactories value=BuiltinDHFactories.fromFactoryName(name);
    assertNotNull("No match found for " + name,value);
    assertTrue(name + " re-specified",avail.add(value));
  }
  assertEquals("Incomplete coverage",BuiltinDHFactories.VALUES,avail);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.common.kex.KexProposalOptionTest </h4><pre class="type-11 type-8 type-3 type-15 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFromName(){
  for (  String n : new String[]{null,"",getCurrentTestName()}) {
    KexProposalOption o=KexProposalOption.fromName(n);
    assertNull("Unexpected value for name='" + n + "'",o);
  }
  for (  KexProposalOption expected : KexProposalOption.VALUES) {
    String n=expected.name();
    for (int index=0; index < n.length(); index++) {
      KexProposalOption actual=KexProposalOption.fromName(n);
      assertSame("Mismatched option for name=" + n,expected,actual);
      n=shuffleCase(n);
    }
  }
}

</code></pre>

<br>
<pre class="type-8 type-3 type-15 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFromProposalIndex(){
  for (  int index : new int[]{(-1),KexProposalOption.VALUES.size()}) {
    KexProposalOption o=KexProposalOption.fromProposalIndex(index);
    assertNull("Unexpected value for index=" + index,o);
  }
  for (  KexProposalOption expected : KexProposalOption.VALUES) {
    int index=expected.getProposalIndex();
    KexProposalOption actual=KexProposalOption.fromProposalIndex(index);
    assertSame("Mismatched values for index=" + index,expected,actual);
  }
}

</code></pre>

<br>
<pre class="type-8 type-2 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAllConstantsCovered() throws Exception {
  Field[] fields=Constants.class.getFields();
  Collection<KexProposalOption> options=EnumSet.allOf(KexProposalOption.class);
  for (  Field f : fields) {
    int mods=f.getModifiers();
    if (!Modifier.isStatic(mods)) {
      continue;
    }
    Class<?> type=f.getType();
    if (!Integer.TYPE.isAssignableFrom(type)) {
      continue;
    }
    int index=f.getInt(null);
    KexProposalOption o=KexProposalOption.fromProposalIndex(index);
    assertNotNull("No matching option for index=" + index,o);
    assertTrue("Option not in known options: " + o,options.remove(o));
  }
  assertTrue("Not all options covered: " + options,GenericUtils.isEmpty(options));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.common.keyprovider.KeyPairProviderTest </h4><pre class="type-2 type-3 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEmptyKeyProvider(){
  KeyPairProvider provider=KeyPairProvider.EMPTY_KEYPAIR_PROVIDER;
  assertTrue("Non empty loaded keys",GenericUtils.isEmpty(provider.loadKeys()));
  assertTrue("Non empty key type",GenericUtils.isEmpty(provider.getKeyTypes()));
  for (  String keyType : new String[]{null,"",getCurrentTestName()}) {
    assertNull("Unexpected key-pair loaded for type='" + keyType + "'",provider.loadKey(keyType));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.common.mac.BuiltinMacsTest </h4><pre class="type-8 type-2 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAllConstantsCovered() throws Exception {
  Set<BuiltinMacs> avail=EnumSet.noneOf(BuiltinMacs.class);
  Field[] fields=BuiltinMacs.Constants.class.getFields();
  for (  Field f : fields) {
    String name=(String)f.get(null);
    BuiltinMacs value=BuiltinMacs.fromFactoryName(name);
    assertNotNull("No match found for " + name,value);
    assertTrue(name + " re-specified",avail.add(value));
  }
  assertEquals("Incomplete coverage",BuiltinMacs.VALUES,avail);
}

</code></pre>

<br>
<pre class="type-8 type-3 type-15 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveFactoryOnRegisteredExtension(){
  MacFactory expected=Mockito.mock(MacFactory.class);
  Mockito.when(expected.getName()).thenReturn(getCurrentTestName());
  String name=expected.getName();
  try {
    assertNull("Extension already registered",BuiltinMacs.resolveFactory(name));
    BuiltinMacs.registerExtension(expected);
    MacFactory actual=BuiltinMacs.resolveFactory(name);
    assertSame("Mismatched resolved instance",expected,actual);
  }
  finally {
    MacFactory actual=BuiltinMacs.unregisterExtension(name);
    assertSame("Mismatched unregistered instance",expected,actual);
    assertNull("Extension not un-registered",BuiltinMacs.resolveFactory(name));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.common.session.AbstractSessionTest </h4><pre class="type-8 type-3 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReadIdentWithSplitPackets(){
  Buffer buf=new ByteArrayBuffer("header line\r\nSSH".getBytes(StandardCharsets.UTF_8));
  String ident=session.doReadIdentification(buf);
  assertNull(ident);
  buf.putRawBytes("-2.0-software\r\n".getBytes(StandardCharsets.UTF_8));
  ident=session.doReadIdentification(buf);
  assertEquals("SSH-2.0-software",ident);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.common.signature.BuiltinSignaturesTest </h4><pre class="type-8 type-3 type-15 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveFactoryOnRegisteredExtension(){
  SignatureFactory expected=Mockito.mock(SignatureFactory.class);
  Mockito.when(expected.getName()).thenReturn(getCurrentTestName());
  String name=expected.getName();
  try {
    assertNull("Extension already registered",BuiltinSignatures.resolveFactory(name));
    BuiltinSignatures.registerExtension(expected);
    SignatureFactory actual=BuiltinSignatures.resolveFactory(name);
    assertSame("Mismatched resolved instance",expected,actual);
  }
  finally {
    SignatureFactory actual=BuiltinSignatures.unregisterExtension(name);
    assertSame("Mismatched unregistered instance",expected,actual);
    assertNull("Extension not un-registered",BuiltinSignatures.resolveFactory(name));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.common.subsystem.sftp.SftpUniversalOwnerAndGroupTest </h4><pre class="type-11 type-3 type-15 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFromName(){
  for (  String name : new String[]{null,"",getCurrentTestName()}) {
    assertNull("Unexpected value for '" + name + "'",SftpUniversalOwnerAndGroup.fromName(name));
  }
  for (  SftpUniversalOwnerAndGroup expected : SftpUniversalOwnerAndGroup.VALUES) {
    String name=expected.getName();
    for (int index=0; index < name.length(); index++) {
      assertSame(name,expected,SftpUniversalOwnerAndGroup.fromName(name));
      name=shuffleCase(name);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.common.util.GenericUtilsTest </h4><pre class="type-15 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAccumulateExceptionOnNullValues(){
  assertNull("Unexpected null/null result",GenericUtils.accumulateException(null,null));
  Throwable expected=new NoSuchMethodException(getClass().getName() + "#" + getCurrentTestName());
  assertSame("Mismatched null/extra result",expected,GenericUtils.accumulateException(null,expected));
  assertSame("Mismatched current/null result",expected,GenericUtils.accumulateException(expected,null));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.common.util.NumberUtilsTest </h4><pre class="type-8 type-10 type-15 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testToInteger(){
  assertNull("Unexpected null value",NumberUtils.toInteger(null));
  for (  Number n : new Number[]{Byte.valueOf(Byte.MAX_VALUE),Short.valueOf(Short.MIN_VALUE),Integer.valueOf(Short.MAX_VALUE),Long.valueOf(82007160L)}) {
    Integer i=NumberUtils.toInteger(n);
    if (n instanceof Integer) {
      assertSame("Unexpected conversion",n,i);
    }
 else {
      assertEquals("Mismatched values",n.intValue(),i.intValue());
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.common.util.ThreadUtilsTest </h4><pre class="type-8 type-2 type-15 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testProtectExecutorServiceShutdown(){
  for (  boolean shutdownOnExit : new boolean[]{true,false}) {
    assertNull("Unexpected instance for shutdown=" + shutdownOnExit,ThreadUtils.protectExecutorServiceShutdown(null,shutdownOnExit));
  }
  ExecutorService service=Executors.newSingleThreadExecutor();
  try {
    assertSame("Unexpected wrapped instance",service,ThreadUtils.protectExecutorServiceShutdown(service,true));
    ExecutorService wrapped=ThreadUtils.protectExecutorServiceShutdown(service,false);
    try {
      assertNotSame("No wrapping occurred",service,wrapped);
      wrapped.shutdown();
      assertTrue("Wrapped service not shutdown",wrapped.isShutdown());
      assertFalse("Protected service is shutdown",service.isShutdown());
      Collection<?> running=wrapped.shutdownNow();
      assertTrue("Non-empty runners list",running.isEmpty());
      assertTrue("Wrapped service not shutdownNow",wrapped.isShutdown());
      assertFalse("Protected service is shutdownNow",service.isShutdown());
    }
  finally {
      wrapped.shutdownNow();
    }
  }
  finally {
    service.shutdownNow();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.common.util.TransformerTest </h4><pre class="type-8 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExtractEnumName(){
  assertNull("Invalid null result",Transformer.ENUM_NAME_EXTRACTOR.transform(null));
  for (  TimeUnit u : TimeUnit.values()) {
    String expected=u.name();
    String actual=Transformer.ENUM_NAME_EXTRACTOR.transform(u);
    assertEquals("Mismatched name",expected,actual);
  }
}

</code></pre>

<br>
<pre class="type-8 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testToString(){
  assertNull("Invalid null result",Transformer.TOSTRING.transform(null));
  for (  Object o : new Object[]{"",getClass(),new Date()}) {
    String expected=o.toString();
    String actual=Transformer.TOSTRING.transform(o);
    assertEquals("Mismatched result for type=" + o.getClass().getSimpleName(),expected,actual);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.common.util.io.ModifiableFileWatcherTest </h4><pre class="type-8 type-10 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies whether objects are null
"></span><br>
@Test public void testValidateStrictConfigFilePermissions() throws IOException {
  Path file=getTempTargetRelativeFile(getClass().getSimpleName(),getCurrentTestName());
  outputDebugMessage("%s deletion result=%s",file,Files.deleteIfExists(file));
  assertNull("Unexpected violation for non-existent file: " + file,ModifiableFileWatcher.validateStrictConfigFilePermissions(file));
  assertHierarchyTargetFolderExists(file.getParent());
  try (OutputStream output=Files.newOutputStream(file)){
    output.write((getClass().getName() + "#" + getCurrentTestName()+ "@"+ new Date(System.currentTimeMillis())).getBytes(StandardCharsets.UTF_8));
  }
   Collection<PosixFilePermission> perms=IoUtils.getPermissions(file);
  if (GenericUtils.isEmpty(perms)) {
    assertNull("Unexpected violation for no permissions file: " + file,ModifiableFileWatcher.validateStrictConfigFilePermissions(file));
  }
 else   if (OsUtils.isUNIX()) {
    Pair<String,Object> violation=null;
    for (    PosixFilePermission p : ModifiableFileWatcher.STRICTLY_PROHIBITED_FILE_PERMISSION) {
      if (perms.contains(p)) {
        violation=ModifiableFileWatcher.validateStrictConfigFilePermissions(file);
        assertNotNull("Unexpected success for permission=" + p + " of file "+ file+ " permissions="+ perms,violation);
        break;
      }
    }
    if (violation == null) {
      assertNull("Unexpected UNIX violation for file " + file + " permissions="+ perms,ModifiableFileWatcher.validateStrictConfigFilePermissions(file));
    }
  }
 else {
    assertNull("Unexpected Windows violation for file " + file + " permissions="+ perms,ModifiableFileWatcher.validateStrictConfigFilePermissions(file));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.server.ServerTest </h4><pre class="type-11 type-2 type-3 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFailAuthenticationWithFuture() throws Exception {
  final int MAX_AUTH_REQUESTS=10;
  PropertyResolverUtils.updateProperty(sshd,ServerAuthenticationManager.MAX_AUTH_REQUESTS,MAX_AUTH_REQUESTS);
  sshd.start();
  client.setServiceFactories(Arrays.asList(new ClientUserAuthServiceOld.Factory(),ClientConnectionServiceFactory.INSTANCE));
  client.start();
  try (ClientSession s=client.connect(getCurrentTestName(),TEST_LOCALHOST,sshd.getPort()).verify(7L,TimeUnit.SECONDS).getSession()){
    int nbTrials=0;
    AuthFuture authFuture;
    do {
      nbTrials++;
      assertTrue("Number of trials below max.",nbTrials < 100);
      authFuture=s.getService(ClientUserAuthServiceOld.class).auth(new org.apache.sshd.deprecated.UserAuthPassword(s,"ssh-connection","buggy"));
      assertTrue("Authentication wait failed",authFuture.await(5L,TimeUnit.SECONDS));
      assertTrue("Authentication not done",authFuture.isDone());
      assertFalse("Authentication unexpectedly successful",authFuture.isSuccess());
    }
 while (authFuture.getException() == null);
    Throwable t=authFuture.getException();
    assertNotNull("Missing auth future exception",t);
    assertTrue("Number trials (" + nbTrials + ") below min.="+ MAX_AUTH_REQUESTS,nbTrials > MAX_AUTH_REQUESTS);
  }
  finally {
    client.stop();
  }
}

</code></pre>

<br>
<pre class="type-10 type-2 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLanguageNegotiation() throws Exception {
  sshd.start();
  client.setSessionFactory(new org.apache.sshd.client.session.SessionFactory(client){
    @Override protected ClientSessionImpl doCreateSession(    IoSession ioSession) throws Exception {
      return new ClientSessionImpl(getClient(),ioSession){
        @Override protected Map<KexProposalOption,String> createProposal(        String hostKeyTypes){
          Map<KexProposalOption,String> proposal=super.createProposal(hostKeyTypes);
          proposal.put(KexProposalOption.S2CLANG,"en-US");
          proposal.put(KexProposalOption.C2SLANG,"en-US");
          return proposal;
        }
      }
;
    }
  }
);
  final Semaphore sigSem=new Semaphore(0,true);
  client.addSessionListener(new SessionListener(){
    @Override public void sessionCreated(    Session session){
      outputDebugMessage("Session created: %s",session);
    }
    @Override public void sessionEvent(    Session session,    Event event){
      if (Event.KeyEstablished.equals(event)) {
        for (        KexProposalOption option : new KexProposalOption[]{KexProposalOption.S2CLANG,KexProposalOption.C2SLANG}) {
          assertNull("Unexpected negotiated language for " + option,session.getNegotiatedKexParameter(option));
        }
        sigSem.release();
      }
    }
    @Override public void sessionException(    Session session,    Throwable t){
      outputDebugMessage("Session %s exception %s caught: %s",session,t.getClass().getSimpleName(),t.getMessage());
    }
    @Override public void sessionClosed(    Session session){
      outputDebugMessage("Session closed: %s",session);
    }
  }
);
  client.start();
  try (ClientSession s=client.connect(getCurrentTestName(),TEST_LOCALHOST,sshd.getPort()).verify(7L,TimeUnit.SECONDS).getSession()){
    assertTrue("Failed to receive signal on time",sigSem.tryAcquire(11L,TimeUnit.SECONDS));
  }
  finally {
    client.stop();
  }
}

</code></pre>

<br>
<pre class="type-2 type-3 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCompressionNegotiation() throws Exception {
  sshd.setSessionFactory(new org.apache.sshd.server.session.SessionFactory(sshd){
    @Override protected ServerSessionImpl doCreateSession(    IoSession ioSession) throws Exception {
      return new ServerSessionImpl(getServer(),ioSession){
        @Override protected Map<KexProposalOption,String> createProposal(        String hostKeyTypes){
          Map<KexProposalOption,String> proposal=super.createProposal(hostKeyTypes);
          proposal.put(KexProposalOption.C2SCOMP,getCurrentTestName());
          proposal.put(KexProposalOption.S2CCOMP,getCurrentTestName());
          return proposal;
        }
      }
;
    }
  }
);
  sshd.start();
  client.setSessionFactory(new org.apache.sshd.client.session.SessionFactory(client){
    @Override protected ClientSessionImpl doCreateSession(    IoSession ioSession) throws Exception {
      return new ClientSessionImpl(getClient(),ioSession){
        @Override protected Map<KexProposalOption,String> createProposal(        String hostKeyTypes){
          Map<KexProposalOption,String> proposal=super.createProposal(hostKeyTypes);
          proposal.put(KexProposalOption.C2SCOMP,getCurrentTestName());
          proposal.put(KexProposalOption.S2CCOMP,getCurrentTestName());
          return proposal;
        }
      }
;
    }
  }
);
  final Semaphore sigSem=new Semaphore(0,true);
  client.addSessionListener(new SessionListener(){
    @Override public void sessionCreated(    Session session){
      outputDebugMessage("Session created: %s",session);
    }
    @Override public void sessionEvent(    Session session,    Event event){
      assertNotEquals("Unexpected key establishment success",Event.KeyEstablished,event);
    }
    @Override public void sessionException(    Session session,    Throwable t){
      outputDebugMessage("Session %s exception %s caught: %s",session,t.getClass().getSimpleName(),t.getMessage());
    }
    @Override public void sessionClosed(    Session session){
      sigSem.release();
    }
  }
);
  client.start();
  try {
    try (ClientSession s=client.connect(getCurrentTestName(),TEST_LOCALHOST,sshd.getPort()).verify(7L,TimeUnit.SECONDS).getSession()){
      assertTrue("Session closing not signalled on time",sigSem.tryAcquire(5L,TimeUnit.SECONDS));
      for (      boolean incoming : new boolean[]{true,false}) {
        assertNull("Unexpected compression information for incoming=" + incoming,s.getCompressionInformation(incoming));
      }
      assertFalse("Session unexpectedly still open",s.isOpen());
    }
   }
  finally {
    client.stop();
  }
}

</code></pre>

<br>
<pre class="type-8 type-2 type-3 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEnvironmentVariablesPropagationToServer() throws Exception {
  final AtomicReference<Environment> envHolder=new AtomicReference<Environment>(null);
  sshd.setCommandFactory(new CommandFactory(){
    @Override public Command createCommand(    final String command){
      ValidateUtils.checkTrue(String.CASE_INSENSITIVE_ORDER.compare(command,getCurrentTestName()) == 0,"Unexpected command: %s",command);
      return new Command(){
        private ExitCallback cb;
        @Override public void setOutputStream(        OutputStream out){
        }
        @Override public void setInputStream(        InputStream in){
        }
        @Override public void setExitCallback(        ExitCallback callback){
          cb=callback;
        }
        @Override public void setErrorStream(        OutputStream err){
        }
        @Override public void destroy(){
        }
        @Override public void start(        Environment env) throws IOException {
          if (envHolder.getAndSet(env) != null) {
            throw new StreamCorruptedException("Multiple starts for command=" + command);
          }
          cb.onExit(0,command);
        }
      }
;
    }
  }
);
  TestChannelListener channelListener=new TestChannelListener();
  sshd.addChannelListener(channelListener);
  sshd.start();
  @SuppressWarnings("synthetic-access") Map<String,String> expected=new TreeMap<String,String>(String.CASE_INSENSITIVE_ORDER){
    private static final long serialVersionUID=1L;
{
      put("test",getCurrentTestName());
      put("port",Integer.toString(sshd.getPort()));
      put("user",OsUtils.getCurrentUser());
    }
  }
;
  client.start();
  try (ClientSession s=createTestClientSession(sshd);ChannelExec shell=s.createExecChannel(getCurrentTestName())){
    for (    Map.Entry<String,String> ee : expected.entrySet()) {
      shell.setEnv(ee.getKey(),ee.getValue());
    }
    shell.open().verify(5L,TimeUnit.SECONDS);
    assertTrue("No changes in activated channels",channelListener.waitForModification(3L,TimeUnit.SECONDS));
    assertTrue("No activated server side channels",GenericUtils.size(channelListener.getActiveChannels()) > 0);
    assertTrue("No changes in open channels",channelListener.waitForModification(3L,TimeUnit.SECONDS));
    assertTrue("No open server side channels",GenericUtils.size(channelListener.getOpenChannels()) > 0);
    Collection<ClientChannel.ClientChannelEvent> result=shell.waitFor(EnumSet.of(ClientChannel.ClientChannelEvent.CLOSED),TimeUnit.SECONDS.toMillis(17L));
    assertFalse("Channel close timeout",result.contains(ClientChannel.ClientChannelEvent.TIMEOUT));
    Integer status=shell.getExitStatus();
    assertNotNull("No exit status",status);
    assertEquals("Bad exit status",0,status.intValue());
  }
  finally {
    client.stop();
  }
  assertTrue("No changes in closed channels",channelListener.waitForModification(3L,TimeUnit.SECONDS));
  assertTrue("Still activated server side channels",GenericUtils.isEmpty(channelListener.getActiveChannels()));
  Environment cmdEnv=envHolder.get();
  assertNotNull("No environment set",cmdEnv);
  Map<String,String> vars=cmdEnv.getEnv();
  assertTrue("Mismatched vars count",GenericUtils.size(vars) >= GenericUtils.size(expected));
  for (  Map.Entry<String,String> ee : expected.entrySet()) {
    String key=ee.getKey(), expValue=ee.getValue(), actValue=vars.get(key);
    assertEquals("Mismatched value for " + key,expValue,actValue);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.server.command.ScpCommandFactoryTest </h4><pre class="type-2 type-3 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Make sure that the builder returns a factory with the default values
 * if no {@code withXXX} method is invoked
 */
@Test public void testBuilderDefaultFactoryValues(){
  ScpCommandFactory factory=new ScpCommandFactory.Builder().build();
  assertNull("Mismatched delegate",factory.getDelegateCommandFactory());
  assertNull("Mismatched executor",factory.getExecutorService());
  assertEquals("Mismatched send size",ScpHelper.MIN_SEND_BUFFER_SIZE,factory.getSendBufferSize());
  assertEquals("Mismatched receive size",ScpHelper.MIN_RECEIVE_BUFFER_SIZE,factory.getReceiveBufferSize());
  assertFalse("Mismatched shutdown state",factory.isShutdownOnExit());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.server.config.keys.AuthorizedKeyEntryTest </h4><pre class="type-10 type-2 type-12 type-18 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects are null
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @Ignore("It might cause some exceptions if user's file contains unsupported keys") public void testReadDefaultAuthorizedKeysFile() throws Exception {
  Path path=AuthorizedKeyEntry.getDefaultAuthorizedKeysFile();
  assertNotNull("No default location",path);
  LinkOption[] options=IoUtils.getLinkOptions(false);
  if (!Files.exists(path,options)) {
    outputDebugMessage("Verify non-existing %s",path);
    Collection<AuthorizedKeyEntry> entries=AuthorizedKeyEntry.readDefaultAuthorizedKeys();
    assertTrue("Non-empty keys even though file not found: " + entries,GenericUtils.isEmpty(entries));
  }
 else {
    assertFalse("Not a file: " + path,Files.isDirectory(path,options));
    runAuthorizedKeysTests(AuthorizedKeyEntry.readDefaultAuthorizedKeys());
  }
}

</code></pre>

<br>
<pre class="type-8 type-3 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEncodePublicKeyEntry() throws Exception {
  List<String> keyLines=loadDefaultSupportedKeys();
  StringBuilder sb=new StringBuilder(Byte.MAX_VALUE);
  for (  String line : keyLines) {
    int pos=line.indexOf(' ');
    String data=line;
    String keyType=line.substring(0,pos);
    if (KeyUtils.getPublicKeyEntryDecoder(keyType) == null) {
      data=line.substring(pos + 1).trim();
    }
    AuthorizedKeyEntry entry=AuthorizedKeyEntry.parseAuthorizedKeyEntry(data);
    if (sb.length() > 0) {
      sb.setLength(0);
    }
    PublicKey key=entry.appendPublicKey(sb,PublicKeyEntryResolver.FAILING);
    assertNotNull("No key for line=" + line,key);
    String encoded=sb.toString();
    assertEquals("Mismatched encoded form for line=" + line,data,encoded);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.server.config.keys.ServerIdentityTest </h4><pre class="type-8 type-10 type-2 type-3 type-14 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLoadServerIdentities() throws Exception {
  Assume.assumeTrue("BouncyCastle not registered",SecurityUtils.isBouncyCastleRegistered());
  Path resFolder=getClassResourcesFolder(TEST_SUBFOLDER,getClass());
  Collection<Path> paths=new ArrayList<Path>(BuiltinIdentities.VALUES.size());
  LinkOption[] options=IoUtils.getLinkOptions(false);
  Collection<BuiltinIdentities> expected=EnumSet.noneOf(BuiltinIdentities.class);
  for (  BuiltinIdentities type : BuiltinIdentities.VALUES) {
    String fileName=ServerIdentity.getIdentityFileName(type);
    Path file=resFolder.resolve(fileName);
    if (!Files.exists(file,options)) {
      System.out.println("Skip non-existing identity file " + file);
      continue;
    }
    if (!type.isSupported()) {
      System.out.println("Skip unsupported identity file " + file);
      continue;
    }
    paths.add(file);
    expected.add(type);
  }
  Properties props=new Properties();
  props.setProperty(ServerIdentity.HOST_KEY_CONFIG_PROP,GenericUtils.join(paths,','));
  Map<String,KeyPair> ids=ServerIdentity.loadIdentities(props,options);
  assertEquals("Mismatched loaded ids count",GenericUtils.size(paths),GenericUtils.size(ids));
  Collection<KeyPair> pairs=new ArrayList<KeyPair>(ids.size());
  for (  BuiltinIdentities type : BuiltinIdentities.VALUES) {
    if (expected.contains(type)) {
      KeyPair kp=ids.get(type.getName());
      assertNotNull("No key pair loaded for " + type,kp);
      pairs.add(kp);
    }
  }
  KeyPairProvider provider=IdentityUtils.createKeyPairProvider(ids,true);
  assertNotNull("No provider generated",provider);
  Iterable<KeyPair> keys=provider.loadKeys();
  for (  KeyPair kp : keys) {
    assertTrue("Unexpected loaded key: " + kp,pairs.remove(kp));
  }
  assertEquals("Not all pairs listed",0,pairs.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.server.jaas.JaasPasswordAuthenticatorTest </h4><pre class="type-2 type-3 type-7 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAuthenticator(){
  JaasPasswordAuthenticator auth=new JaasPasswordAuthenticator();
  assertNull(auth.getDomain());
  auth.setDomain("domain");
  assertEquals("domain",auth.getDomain());
  assertTrue(auth.authenticate("sshd","sshd"));
  assertFalse(auth.authenticate("sshd","dummy"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sshd.server.subsystem.sftp.SftpSubsystemFactoryTest </h4><pre class="type-2 type-3 type-15 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Make sure that the builder returns a factory with the default values
 * if no {@code withXXX} method is invoked
 */
@Test public void testBuilderDefaultFactoryValues(){
  SftpSubsystemFactory factory=new SftpSubsystemFactory.Builder().build();
  assertNull("Mismatched executor",factory.getExecutorService());
  assertFalse("Mismatched shutdown state",factory.isShutdownOnExit());
  assertSame("Mismatched unsupported attribute policy",SftpSubsystemFactory.DEFAULT_POLICY,factory.getUnsupportedAttributePolicy());
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
