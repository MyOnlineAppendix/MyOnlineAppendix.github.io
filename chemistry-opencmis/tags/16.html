<h3><span class=" glyphicon glyphicon-tag"/>&nbspBranchVerifier</h3><kbd>Verifies assertions inside branch conditions</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.chemistry.opencmis.inmemory.AclPermissionsTest </h4><pre class="type-16 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testMultiFilingServiceGeneralAccess(){
  switchCallContext("TestAdmin");
  String docId=createDocumentWithAcls("doc",fRootFolderId,"ComplexType",standardAcl,defaultAcl);
  String folderId=createFolderWithAcls("folder",fRootFolderId,"cmis:folder",addAcl,defaultAcl);
  String noReadFolderId=createFolderWithAcls("noReadFolder",folderId,"cmis:folder",null,readAcl);
  switchCallContext("TestUser");
  boolean exceptionThrown=false;
  try {
    fMultiSvc.addObjectToFolder(fRepositoryId,docId,folderId,true,null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("TestUser has no permissions at the document to add a parent");
  }
  exceptionThrown=false;
  switchCallContext("Reader");
  try {
    fMultiSvc.addObjectToFolder(fRepositoryId,docId,noReadFolderId,true,null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("Reader has no permission at the folder to add a parent");
  }
  switchCallContext("TestAdmin");
  fMultiSvc.addObjectToFolder(fRepositoryId,docId,noReadFolderId,true,null);
  fMultiSvc.addObjectToFolder(fRepositoryId,docId,folderId,true,null);
  switchCallContext("Reader");
  try {
    fMultiSvc.removeObjectFromFolder(fRepositoryId,docId,noReadFolderId,null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("Reader has no permission at the folder to remove a parent");
  }
  switchCallContext("TestUser");
  try {
    fMultiSvc.removeObjectFromFolder(fRepositoryId,docId,folderId,null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("TestUser has no permission at the object to remove a parent");
  }
}

</code></pre>

<br>
<pre class="type-16 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void checkNavigationServiceGeneralAccess(){
  switchCallContext("TestAdmin");
  String docId=createDocumentWithAcls("doc",fRootFolderId,"ComplexType",standardAcl,defaultAcl);
  String folderId=createFolderWithAcls("folder",fRootFolderId,"cmis:folder",standardAcl,defaultAcl);
  String subFolderId=createFolderWithAcls("subFolder",folderId,"cmis:folder",standardAcl,null);
  switchCallContext("TestUser");
  boolean exceptionThrown=false;
  try {
    ObjectInFolderList list=fNavSvc.getChildren(fRepositoryId,folderId,null,null,false,IncludeRelationships.NONE,null,null,BigInteger.ZERO,BigInteger.ZERO,null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("TestUser has no permissions)");
  }
  switchCallContext("Reader");
  ObjectInFolderList list=fNavSvc.getChildren(fRepositoryId,folderId,null,null,false,IncludeRelationships.NONE,null,null,BigInteger.ZERO,BigInteger.ZERO,null);
  switchCallContext("TestUser");
  exceptionThrown=false;
  try {
    List<ObjectInFolderContainer> list2=fNavSvc.getDescendants(fRepositoryId,folderId,MINUS_ONE,null,null,null,null,null,null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("TestUser has no permissions)");
  }
  switchCallContext("Reader");
  List<ObjectInFolderContainer> list2=fNavSvc.getDescendants(fRepositoryId,folderId,MINUS_ONE,null,null,null,null,null,null);
  switchCallContext("TestUser");
  exceptionThrown=false;
  try {
    List<ObjectInFolderContainer> list3=fNavSvc.getFolderTree(fRepositoryId,folderId,BigInteger.ONE,null,null,null,null,null,null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("TestUser has no permissions)");
  }
  switchCallContext("Reader");
  List<ObjectInFolderContainer> list3=fNavSvc.getFolderTree(fRepositoryId,folderId,BigInteger.ONE,null,null,null,null,null,null);
  switchCallContext("TestUser");
  exceptionThrown=false;
  try {
    List<ObjectParentData> list4=fNavSvc.getObjectParents(fRepositoryId,folderId,null,null,null,null,null,null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("TestUser has no permissions)");
  }
  switchCallContext("Reader");
  List<ObjectParentData> list4=fNavSvc.getObjectParents(fRepositoryId,folderId,null,null,null,null,null,null);
  switchCallContext("TestUser");
  exceptionThrown=false;
  try {
    ObjectData list5=fNavSvc.getFolderParent(fRepositoryId,folderId,null,null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("TestUser has no permissions)");
  }
  switchCallContext("Reader");
  ObjectData list5=fNavSvc.getFolderParent(fRepositoryId,folderId,null,null);
  switchCallContext("TestUser");
  exceptionThrown=false;
  try {
    ObjectList list6=fNavSvc.getCheckedOutDocs(fRepositoryId,folderId,null,null,null,IncludeRelationships.NONE,null,MINUS_ONE,MINUS_ONE,null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("TestUser has no permissions)");
  }
  switchCallContext("Reader");
  ObjectList list6=fNavSvc.getCheckedOutDocs(fRepositoryId,folderId,null,null,null,IncludeRelationships.NONE,null,MINUS_ONE,MINUS_ONE,null);
}

</code></pre>

<br>
<pre class="type-8 type-16 type-12 type-3 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAclServiceGeneralAccess(){
  List<Ace> initialACEs=new ArrayList<Ace>(4);
  initialACEs.addAll(standardACEs);
  initialACEs.add(createAce("Admin2",EnumBasicPermissions.CMIS_ALL));
  Acl initialAcl=fFactory.createAccessControlList(initialACEs);
  List<Ace> expectedACEs=new ArrayList<Ace>(5);
  expectedACEs.addAll(initialACEs);
  expectedACEs.addAll(testUserACEs);
  Acl expectedAcl=fFactory.createAccessControlList(expectedACEs);
  List<Ace> removeACEs=new ArrayList<Ace>(1);
  removeACEs.add(createAce("TestAdmin",EnumBasicPermissions.CMIS_ALL));
  Acl removeAcl=fFactory.createAccessControlList(removeACEs);
  List<Ace> removeACEs2=new ArrayList<Ace>(2);
  removeACEs2.add(createAce("TestAdmin",EnumBasicPermissions.CMIS_ALL));
  removeACEs2.add(createAce("Reader",EnumBasicPermissions.CMIS_READ));
  Acl removeAcl2=fFactory.createAccessControlList(removeACEs2);
  List<Ace> testUserACEs=new ArrayList<Ace>(1);
  testUserACEs.add(createAce("TestUser",EnumBasicPermissions.CMIS_WRITE));
  Acl testUserAcl=fFactory.createAccessControlList(testUserACEs);
  switchCallContext("TestAdmin");
  String docId=createDocumentWithAcls("doc",fRootFolderId,"ComplexType",initialAcl,defaultAcl);
  String folderId=createFolderWithAcls("folder",fRootFolderId,"cmis:folder",initialAcl,defaultAcl);
  String subFolderId=createFolderWithAcls("subFolder",folderId,"cmis:folder",initialAcl,defaultAcl);
  switchCallContext("TestUser");
  boolean exceptionThrown=false;
  try {
    Acl acl=fAclSvc.getAcl(fRepositoryId,folderId,null,null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("TestUser has no permissions to get acl of folder");
  }
  switchCallContext("Reader");
  Acl acl=fAclSvc.getAcl(fRepositoryId,folderId,null,null);
  switchCallContext("TestUser");
  exceptionThrown=false;
  try {
    Acl docAcl=fAclSvc.getAcl(fRepositoryId,docId,true,null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("TestUser has no permissions to get acl of doc)");
  }
  switchCallContext("Reader");
  Acl docAcl=fAclSvc.getAcl(fRepositoryId,docId,true,null);
  switchCallContext("Reader");
  exceptionThrown=false;
  try {
    Acl docAcl2=fAclSvc.applyAcl(fRepositoryId,docId,initialAcl,null,AclPropagation.OBJECTONLY,null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("TestUser has no permissions)");
  }
  switchCallContext("TestAdmin");
  Acl docAcl2=fAclSvc.applyAcl(fRepositoryId,docId,initialAcl,null,AclPropagation.OBJECTONLY,null);
  switchCallContext("TestAdmin");
  Acl docAcl4=fAclSvc.applyAcl(fRepositoryId,subFolderId,null,removeAcl,AclPropagation.OBJECTONLY,null);
  switchCallContext("TestAdmin");
  Acl docAcl5=fAclSvc.applyAcl(fRepositoryId,folderId,testUserAcl,null,AclPropagation.PROPAGATE,null);
  switchCallContext("Admin");
  Acl docAcl6=fAclSvc.getAcl(fRepositoryId,folderId,true,null);
  assertTrue(aclEquals(expectedAcl,docAcl6));
  Acl docAcl7=fAclSvc.getAcl(fRepositoryId,subFolderId,true,null);
  assertTrue(aclEquals(standardAcl,docAcl7));
}

</code></pre>

<br>
<pre class="type-16 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testVersioningServiceGeneralAccess(){
  switchCallContext("TestAdmin");
  String docId=createDocumentWithAcls("doc",fRootFolderId,UnitTestTypeSystemCreator.VERSIONED_TYPE,VersioningState.MAJOR,standardAcl,defaultAcl);
  switchCallContext("TestUser");
  boolean exceptionThrown=false;
  try {
    Holder<String> docIdHolder=new Holder<String>(docId);
    fVerSvc.checkOut(fRepositoryId,docIdHolder,null,new Holder<Boolean>(false));
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("TestUser has no permission to checkout)");
  }
  switchCallContext("Reader");
  exceptionThrown=false;
  try {
    fVerSvc.checkOut(fRepositoryId,new Holder<String>(docId),null,new Holder<Boolean>(false));
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("Reader has not enough permission to checkout)");
  }
  switchCallContext("TestAdmin");
  fAclSvc.applyAcl(fRepositoryId,docId,testUserAcl,null,AclPropagation.OBJECTONLY,null);
  switchCallContext("TestUser");
  Holder<String> docIdHolder=new Holder<String>(docId);
  fVerSvc.checkOut(fRepositoryId,docIdHolder,null,new Holder<Boolean>(false));
  switchCallContext("TestAdmin");
  fAclSvc.applyAcl(fRepositoryId,docId,null,testUserAcl,AclPropagation.OBJECTONLY,null);
  switchCallContext("TestUser");
  exceptionThrown=false;
  try {
    fVerSvc.cancelCheckOut(fRepositoryId,docId,null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("TestUser has no permission to cancelCheckOut)");
  }
  switchCallContext("TestAdmin");
  fAclSvc.applyAcl(fRepositoryId,docId,testUserAcl,null,AclPropagation.OBJECTONLY,null);
  switchCallContext("TestUser");
  fVerSvc.cancelCheckOut(fRepositoryId,docId,null);
  switchCallContext("Writer");
  fVerSvc.checkOut(fRepositoryId,new Holder<String>(docId),null,new Holder<Boolean>(false));
  switchCallContext("TestAdmin");
  fAclSvc.applyAcl(fRepositoryId,docId,null,readWriteAcl,AclPropagation.OBJECTONLY,null);
  switchCallContext("Writer");
  exceptionThrown=false;
  try {
    fVerSvc.cancelCheckOut(fRepositoryId,docId,null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("Reader has not enough permission to cancelCheckOut)");
  }
  switchCallContext("TestAdmin");
  fAclSvc.applyAcl(fRepositoryId,docId,readWriteAcl,null,AclPropagation.OBJECTONLY,null);
  switchCallContext("Writer");
  fVerSvc.cancelCheckOut(fRepositoryId,docId,null);
  switchCallContext("TestAdmin");
  fAclSvc.applyAcl(fRepositoryId,docId,testUserAcl,null,AclPropagation.OBJECTONLY,null);
  switchCallContext("TestUser");
  fVerSvc.checkOut(fRepositoryId,new Holder<String>(docId),null,new Holder<Boolean>(false));
  switchCallContext("TestAdmin");
  fAclSvc.applyAcl(fRepositoryId,docId,null,testUserAcl,AclPropagation.OBJECTONLY,null);
  switchCallContext("TestUser");
  exceptionThrown=false;
  try {
    fVerSvc.checkIn(fRepositoryId,new Holder<String>(docId),true,null,null,null,null,null,null,null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("TestUser has no permission to checkIn)");
  }
  switchCallContext("TestAdmin");
  fAclSvc.applyAcl(fRepositoryId,docId,testUserAcl,null,AclPropagation.OBJECTONLY,null);
  switchCallContext("TestUser");
  fVerSvc.checkIn(fRepositoryId,new Holder<String>(docId),true,null,null,null,null,null,null,null);
  switchCallContext("TestAdmin");
  fAclSvc.applyAcl(fRepositoryId,docId,null,testUserAcl,AclPropagation.OBJECTONLY,null);
  switchCallContext("Writer");
  fVerSvc.checkOut(fRepositoryId,new Holder<String>(docId),null,new Holder<Boolean>(false));
  switchCallContext("TestAdmin");
  fAclSvc.applyAcl(fRepositoryId,docId,null,readWriteAcl,AclPropagation.OBJECTONLY,null);
  switchCallContext("Writer");
  exceptionThrown=false;
  try {
    fVerSvc.checkIn(fRepositoryId,new Holder<String>(docId),true,null,null,null,null,null,null,null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("Writer has not enough permission to checkIn)");
  }
  switchCallContext("TestAdmin");
  fAclSvc.applyAcl(fRepositoryId,docId,readWriteAcl,null,AclPropagation.OBJECTONLY,null);
  switchCallContext("Writer");
  fVerSvc.checkIn(fRepositoryId,new Holder<String>(docId),true,null,null,null,null,null,null,null);
  switchCallContext("TestUser");
  exceptionThrown=false;
  try {
    ObjectData objectData=fVerSvc.getObjectOfLatestVersion(fRepositoryId,docId,null,true,null,false,IncludeRelationships.NONE,null,false,false,null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("TestUser has not enough permission to getObjectOfLatestVersion)");
  }
  exceptionThrown=false;
  try {
    List<ObjectData> objectDataList=fVerSvc.getAllVersions(fRepositoryId,docId,docId,null,false,null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("TestUser has not enough permission to getAllVersions)");
  }
  exceptionThrown=false;
  try {
    Properties properties=fVerSvc.getPropertiesOfLatestVersion(fRepositoryId,docId,null,false,null,null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("TestUser has not enough permission to getAllVersions)");
  }
}

</code></pre>

<br>
<pre class="type-16 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testObjectServiceGeneralAccess(){
  switchCallContext("TestAdmin");
  String docId=createDocumentWithAcls("doc",fRootFolderId,"ComplexType",standardAcl,defaultAcl);
  String folderId=createFolderWithAcls("folder",fRootFolderId,"cmis:folder",standardAcl,defaultAcl);
  String subFolderId=createFolderWithAcls("subFolder",folderId,"cmis:folder",standardAcl,null);
  String noReadFolderId=createFolderWithAcls("noReadFolder",folderId,"cmis:folder",null,readAcl);
  String adminFolderId=createFolderWithAcls("adminFolder",folderId,"cmis:folder",null,readWriteAcl);
  switchCallContext("TestUser");
  boolean exceptionThrown=false;
  try {
    Properties properties=createDocumentProperties("doc","ComplexType");
    String id=fObjSvc.createDocument(fRepositoryId,properties,folderId,null,null,null,null,null,null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("TestUser has no permissions to create a document");
  }
  exceptionThrown=false;
  try {
    String id=fObjSvc.createFolder(fRepositoryId,null,folderId,null,null,null,null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("TestUser has no permissions to create a folder");
  }
  exceptionThrown=false;
  try {
    Properties props=fObjSvc.getProperties(fRepositoryId,folderId,null,null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("TestUser has no permissions to get properties of the folder");
  }
  exceptionThrown=false;
  try {
    Properties props=fObjSvc.getProperties(fRepositoryId,docId,null,null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("TestUser has no permissions to get properties of the document");
  }
  exceptionThrown=false;
  try {
    List<RenditionData> renditions=fObjSvc.getRenditions(fRepositoryId,docId,null,BigInteger.valueOf(-1),BigInteger.valueOf(-1),null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("TestUser has no permissions to get renditions of the document");
  }
  exceptionThrown=false;
  try {
    ContentStream contentStream=fObjSvc.getContentStream(fRepositoryId,docId,null,BigInteger.valueOf(-1),BigInteger.valueOf(-1),null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("TestUser has no permissions to get contentStream of the document");
  }
  switchCallContext("Reader");
  exceptionThrown=false;
  Properties properties=createDocumentProperties("name","typeId");
  try {
    fObjSvc.updateProperties(fRepositoryId,new Holder<String>(docId),new Holder<String>("changeToken"),properties,null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("Reader has no permissions to update properties of the document");
  }
  exceptionThrown=false;
  properties=createDocumentProperties("name","typeId");
  try {
    fObjSvc.updateProperties(fRepositoryId,new Holder<String>(docId),new Holder<String>("changeToken"),properties,null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("Reader has no permissions to update properties of the document");
  }
  exceptionThrown=false;
  try {
    fObjSvc.moveObject(fRepositoryId,new Holder<String>(docId),subFolderId,fRootFolderId,null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("Reader has no permissions to move document");
  }
  switchCallContext("Writer");
  exceptionThrown=false;
  try {
    fObjSvc.moveObject(fRepositoryId,new Holder<String>(docId),adminFolderId,fRootFolderId,null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("Writer has no permissions to move document to admin folder");
  }
  switchCallContext("Reader");
  exceptionThrown=false;
  try {
    fObjSvc.deleteObject(fRepositoryId,docId,true,null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("Reader has no permissions to delete document ");
  }
  exceptionThrown=false;
  try {
    fObjSvc.deleteObject(fRepositoryId,adminFolderId,true,null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("Reader has no permissions to delete admin folder ");
  }
  exceptionThrown=false;
  try {
    fObjSvc.setContentStream(fRepositoryId,new Holder<String>(docId),true,new Holder<String>("changeToken"),null,null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("Reader has no permissions to set content ");
  }
  exceptionThrown=false;
  try {
    fObjSvc.deleteContentStream(fRepositoryId,new Holder<String>(docId),new Holder<String>("changeToken"),null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("Reader has no permissions to delete content ");
  }
  exceptionThrown=false;
  try {
    fObjSvc.deleteTree(fRepositoryId,folderId,true,null,false,null);
  }
 catch (  CmisPermissionDeniedException e) {
    exceptionThrown=true;
  }
  if (!exceptionThrown) {
    fail("Reader has no permissions to delete tree ");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.chemistry.opencmis.inmemory.DiscoveryServiceTest </h4><pre class="type-9 type-8 type-16 type-4 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testQueryPaging(){
  log.info("starting testQuery() ...");
  String statement;
  ObjectList res;
  ObjectGenerator gen=new ObjectGenerator(fFactory,fNavSvc,fObjSvc,fRepSvc,fRepositoryId,ObjectGenerator.ContentKind.LOREM_IPSUM_TEXT);
  gen.setNumberOfDocumentsToCreatePerFolder(3);
  gen.setDocumentTypeId(TEST_DOCUMENT_TYPE_ID);
  gen.setFolderTypeId(TEST_FOLDER_TYPE_ID);
  List<String> propsToSet=new ArrayList<String>();
  propsToSet.add(TEST_DOCUMENT_STRING_PROP_ID);
  gen.setDocumentPropertiesToGenerate(propsToSet);
  propsToSet=new ArrayList<String>();
  propsToSet.add(TEST_FOLDER_STRING_PROP_ID);
  gen.setFolderPropertiesToGenerate(propsToSet);
  gen.createFolderHierachy(2,2,fRootFolderId);
  Boolean searchAllVersions=Boolean.FALSE;
  Boolean includeAllowableActions=Boolean.FALSE;
  IncludeRelationships includeRelationships=IncludeRelationships.NONE;
  String renditionFilter=null;
  BigInteger skipCount=BigInteger.valueOf(0);
  BigInteger maxItems=BigInteger.valueOf(3);
  int count=0;
  boolean hasMoreItems=true;
  statement="SELECT * FROM cmis:document";
  while (hasMoreItems) {
    res=fDiscSvc.query(fRepositoryId,statement,searchAllVersions,includeAllowableActions,includeRelationships,renditionFilter,maxItems,skipCount,null);
    hasMoreItems=res.hasMoreItems();
    assertEquals(3,res.getObjects().size());
    if (res.getNumItems() != null) {
      assertEquals(9L,res.getNumItems().longValue());
    }
    skipCount=skipCount.add(maxItems);
    ++count;
  }
  assertEquals(3,count);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.chemistry.opencmis.inmemory.ObjectServiceTest </h4><pre class="type-8 type-16 type-12 type-4 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateDocumentWithContentNoFileNameNoMimeType(){
  log.info("starting testCreateDocumentWithContent() ...");
  ContentStreamDataImpl contentStream=null;
  List<String> policies=null;
  Acl addACEs=null;
  Acl removeACEs=null;
  ExtensionsData extension=null;
  Properties props=createDocumentProperties(DOCUMENT_ID,DOCUMENT_TYPE_ID);
  contentStream=(ContentStreamDataImpl)createContent();
  contentStream.setFileName(null);
  contentStream.setMimeType(null);
  String id=null;
  try {
    id=fObjSvc.createDocument(fRepositoryId,props,fRootFolderId,contentStream,VersioningState.NONE,policies,addACEs,removeACEs,extension);
    if (null == id) {
      fail("createDocument failed.");
    }
    ContentStream sd=fObjSvc.getContentStream(fRepositoryId,id,null,BigInteger.valueOf(-1),BigInteger.valueOf(-1),null);
    assertNotNull(sd.getMimeType());
    assertNotNull(sd.getFileName());
  }
 catch (  Exception e) {
    fail("createDocument() failed with exception: " + e);
  }
}

</code></pre>

<br>
<pre class="type-16 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testCreateDocumentFromSource(){
  log.info("starting testCreateDocumentFromSource() ...");
  String id1=createDocument(fRootFolderId,true);
  String id2=null;
  try {
    VersioningState versioningState=VersioningState.NONE;
    Properties props=createDocumentPropertiesForDocumentFromSource("Document From Source");
    id2=fObjSvc.createDocumentFromSource(fRepositoryId,id1,props,fRootFolderId,versioningState,null,null,null,null);
    if (null == id2) {
      fail("createDocumentFromSource failed.");
    }
  }
 catch (  Exception e) {
    fail("createDocumentFromSource() failed with exception: " + e);
  }
  ContentStream sd=fObjSvc.getContentStream(fRepositoryId,id2,null,BigInteger.valueOf(-1),BigInteger.valueOf(-1),null);
  verifyContentResult(sd);
  fObjSvc.deleteObject(fRepositoryId,id1,true,null);
  fObjSvc.deleteObject(fRepositoryId,id2,true,null);
  log.info("... testCreateDocumentFromSource() finished.");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.chemistry.opencmis.inmemory.RelationshipServiceTest </h4><pre class="type-8 type-16 type-12 type-3 type-4 type-5 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetChildren(){
  final String id1=createRelationship("CrossReference1",BaseTypeId.CMIS_RELATIONSHIP.value(),docId1,targetId,null);
  assertNotNull(id1);
  final String id2=createRelationship("CrossReference1",BaseTypeId.CMIS_RELATIONSHIP.value(),docId2,targetId,null);
  assertNotNull(id2);
  ObjectInFolderList ods=fNavSvc.getChildren(fRepositoryId,fRootFolderId,null,null,false,IncludeRelationships.SOURCE,null,false,null,null,null);
  assertEquals(3,ods.getNumItems().intValue());
  for (  ObjectInFolderData of : ods.getObjects()) {
    String id=of.getObject().getId();
    List<ObjectData> rels=of.getObject().getRelationships();
    if (id.equals(docId1)) {
      assertEquals(1,rels.size());
      ArrayList<String> ids=new ArrayList<String>(Collections.singletonList(id1));
      verifyRelation(rels.get(0),ids,null,docId1,RelationshipDirection.SOURCE);
      assertTrue(ids.isEmpty());
    }
 else     if (id.equals(docId2)) {
      assertEquals(1,rels.size());
      ArrayList<String> ids=new ArrayList<String>(Collections.singletonList(id2));
      verifyRelation(rels.get(0),ids,null,docId2,RelationshipDirection.SOURCE);
      assertTrue(ids.isEmpty());
    }
 else     if (id.equals(targetId)) {
      assertEquals(0,rels.size());
    }
 else {
      fail("Unexpected object in getChildren");
    }
  }
}

</code></pre>

<br>
<pre class="type-8 type-16 type-3 type-5 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetDescendants(){
  boolean found1=false;
  boolean found2=false;
  boolean found3=false;
  boolean found4=false;
  boolean found5=false;
  createHierarchy();
  final String id1=createRelationship("CrossReference1",ObjectServiceTest.TEST_RELATION_TYPE_ID,docId1,targetId,null);
  assertNotNull(id1);
  final String id2=createRelationship("CrossReference2",ObjectServiceTest.TEST_RELATION_TYPE_ID,docId2,targetId,null);
  assertNotNull(id2);
  final String id3=createRelationship("CrossReference3",ObjectServiceTest.TEST_RELATION_TYPE_ID,docId3,targetId,null);
  assertNotNull(id3);
  final String id4=createRelationship("CrossReference4",ObjectServiceTest.TEST_RELATION_TYPE_ID,docId4,targetId,null);
  assertNotNull(id4);
  List<ObjectInFolderContainer> ofcs=fNavSvc.getDescendants(fRepositoryId,fRootFolderId,BigInteger.valueOf(-1),null,false,IncludeRelationships.BOTH,null,false,null);
  Map<String,List<ObjectData>> relMap=new HashMap<String,List<ObjectData>>();
  getRelationshipsOfDescendants(ofcs,relMap);
  assertEquals(5,relMap.size());
  for (  Entry<String,List<ObjectData>> relEntry : relMap.entrySet()) {
    List<ObjectData> rels=relEntry.getValue();
    String srcId=relEntry.getKey();
    if (srcId.equals(docId1)) {
      assertEquals(1,rels.size());
      assertEquals(id1,rels.get(0).getId());
      found1=true;
    }
 else     if (srcId.equals(docId2)) {
      assertEquals(1,rels.size());
      assertEquals(id2,rels.get(0).getId());
      found2=true;
    }
 else     if (srcId.equals(docId3)) {
      assertEquals(1,rels.size());
      assertEquals(id3,rels.get(0).getId());
      found3=true;
    }
 else     if (srcId.equals(docId4)) {
      assertEquals(1,rels.size());
      assertEquals(id4,rels.get(0).getId());
      found4=true;
    }
 else     if (srcId.equals(targetId)) {
      assertEquals(4,rels.size());
      found5=true;
    }
  }
  assertTrue(found1 && found2 && found3&& found4&& found5);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.chemistry.opencmis.inmemory.query.QueryTypesTest </h4><pre class="type-8 type-16 type-12 type-3 type-4 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void resolveJoinTypesSimple() throws Exception {
  String statement="SELECT * FROM MyDocType JOIN BookType ON MyDocType.MyStringProp = BookType.Title";
  CmisQueryWalker walker=getWalker(statement);
  assertNotNull(queryObj);
  assertNotNull(walker);
  List<CmisSelector> joins=queryObj.getJoinReferences();
  assertTrue(2 == joins.size());
  for (  CmisSelector join : joins) {
    assertTrue(join instanceof ColumnReference);
    ColumnReference colRef=((ColumnReference)join);
    if (myType.equals(colRef.getTypeDefinition())) {
      assertTrue(colRef.getPropertyQueryName().equals(STRING_PROP));
    }
 else     if (bookType.equals(colRef.getTypeDefinition())) {
      assertTrue(colRef.getPropertyQueryName().equals(TITLE_PROP));
    }
 else {
      fail("Unexpected type in JOIN reference");
    }
  }
}

</code></pre>

<br>
<pre class="type-8 type-16 type-12 type-3 type-4 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void resolveJoinTypesWithAlias() throws Exception {
  String statement="SELECT Y.ISBN, X.MyBooleanProp, Y.Author FROM (MyDocType AS X JOIN BookType AS Y ON X.MyStringProp = Y.Title) " + "WHERE ('Joe' = ANY Y.Author)";
  CmisQueryWalker walker=getWalker(statement);
  assertNotNull(queryObj);
  assertNotNull(walker);
  List<CmisSelector> joins=queryObj.getJoinReferences();
  assertTrue(2 == joins.size());
  for (  CmisSelector join : joins) {
    assertTrue(join instanceof ColumnReference);
    ColumnReference colRef=((ColumnReference)join);
    if (myType.equals(colRef.getTypeDefinition())) {
      assertTrue(colRef.getPropertyQueryName().equals(STRING_PROP));
    }
 else     if (bookType.equals(colRef.getTypeDefinition())) {
      assertTrue(colRef.getPropertyQueryName().equals(TITLE_PROP));
    }
 else {
      fail("Unexpected type in JOIN reference");
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.chemistry.opencmis.server.impl.ThresholdOutputStreamTest </h4><pre class="type-9 type-8 type-16 type-3 type-4 type-5 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testThreshold() throws Exception {
  int threshold=8;
  TempStoreOutputStreamFactory streamFactory=TempStoreOutputStreamFactory.newInstance(null,threshold,1024,false);
  for (int i=0; i < 20; i++) {
    TempStoreOutputStream tempStream=streamFactory.newOutputStream();
    assertTrue(tempStream instanceof ThresholdOutputStream);
    ThresholdOutputStream tos=(ThresholdOutputStream)tempStream;
    for (int j=0; j < i; j++) {
      tos.write('0' + j);
    }
    tos.close();
    ThresholdInputStream tis=(ThresholdInputStream)tos.getInputStream();
    if (i > threshold) {
      assertFalse(tis.isInMemory());
    }
 else {
      assertTrue(tis.isInMemory());
    }
    File tempFile=tis.getTemporaryFile();
    tis.close();
    assertEquals(-1,tis.read());
    if (tis.isInMemory()) {
      assertNull(tempFile);
    }
 else {
      assertNotNull(tempFile);
      assertFalse(tempFile.exists());
    }
  }
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
