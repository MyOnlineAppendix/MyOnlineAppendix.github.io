<h3><span class=" glyphicon glyphicon-tag"/>&nbspBooleanVerifier</h3><kbd>Verifies boolean conditions</kbd><br><br><br><h4 style="margin:0px">Class: $.SimpleOrderServiceIntegrationTest </h4><pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void simpleRoundTripTest() throws Exception {
  Order simpleOrder=createOrder();
  Confirmation c=client.submitOrder(simpleOrder);
  assertEquals(c.getOrderId(),simpleOrder.getOrderId());
  assertEquals(c.getCustomerId(),simpleOrder.getCustomerId());
  assertTrue(c.getEstimatedCompletion() > 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestCircularReferences </h4><pre class="type-10 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test() throws IOException {
  ReferenceManager manager=new ReferenceManager();
  GenericData model=new GenericData();
  model.addLogicalTypeConversion(manager.getTracker());
  model.addLogicalTypeConversion(manager.getHandler());
  Schema parentSchema=Schema.createRecord("Parent",null,null,false);
  Schema parentRefSchema=Schema.createUnion(Schema.create(Schema.Type.NULL),Schema.create(Schema.Type.LONG),parentSchema);
  Reference parentRef=new Reference("parent");
  List<Schema.Field> childFields=new ArrayList<Schema.Field>();
  childFields.add(new Schema.Field("c",Schema.create(Schema.Type.STRING),null,null));
  childFields.add(new Schema.Field("parent",parentRefSchema,null,null));
  Schema childSchema=parentRef.addToSchema(Schema.createRecord("Child",null,null,false,childFields));
  List<Schema.Field> parentFields=new ArrayList<Schema.Field>();
  parentFields.add(new Schema.Field("id",Schema.create(Schema.Type.LONG),null,null));
  parentFields.add(new Schema.Field("p",Schema.create(Schema.Type.STRING),null,null));
  parentFields.add(new Schema.Field("child",childSchema,null,null));
  parentSchema.setFields(parentFields);
  Referenceable idRef=new Referenceable("id");
  Schema schema=idRef.addToSchema(parentSchema);
  System.out.println("Schema: " + schema.toString(true));
  Record parent=new Record(schema);
  parent.put("id",1L);
  parent.put("p","parent data!");
  Record child=new Record(childSchema);
  child.put("c","child data!");
  child.put("parent",parent);
  parent.put("child",child);
  File data=write(model,schema,parent);
  List<Record> records=read(model,schema,data);
  Record actual=records.get(0);
  Assert.assertEquals("Should correctly read back the parent id",1L,actual.get("id"));
  Assert.assertEquals("Should correctly read back the parent data",new Utf8("parent data!"),actual.get("p"));
  Record actualChild=(Record)actual.get("child");
  Assert.assertEquals("Should correctly read back the child data",new Utf8("child data!"),actualChild.get("c"));
  Object childParent=actualChild.get("parent");
  Assert.assertTrue("Should have a parent Record object",childParent instanceof Record);
  Record childParentRecord=(Record)actualChild.get("parent");
  Assert.assertEquals("Should have the right parent id",1L,childParentRecord.get("id"));
  Assert.assertEquals("Should have the right parent data",new Utf8("parent data!"),childParentRecord.get("p"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestDataFile </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testFlushCount() throws IOException {
  DataFileWriter writer=new DataFileWriter(new GenericDatumWriter());
  writer.setFlushOnEveryBlock(false);
  TestingByteArrayOutputStream out=new TestingByteArrayOutputStream();
  writer.create(SCHEMA,out);
  int currentCount=0;
  int flushCounter=0;
  try {
    for (    Object datum : new RandomData(SCHEMA,COUNT,SEED + 1)) {
      currentCount++;
      writer.append(datum);
      writer.sync();
      if (currentCount % 10 == 0) {
        flushCounter++;
        writer.flush();
      }
    }
  }
  finally {
    writer.close();
  }
  System.out.println("Total number of flushes: " + out.flushCount);
  Assert.assertTrue(out.flushCount < currentCount && out.flushCount >= flushCounter);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestDataFileCorruption </h4><pre class="type-13 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCorruptedFile() throws IOException {
  Schema schema=Schema.create(Type.STRING);
  DataFileWriter<Utf8> w=new DataFileWriter<Utf8>(new GenericDatumWriter<Utf8>(schema));
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  w.create(schema,baos);
  w.append(new Utf8("apple"));
  w.append(new Utf8("banana"));
  w.sync();
  w.append(new Utf8("celery"));
  w.append(new Utf8("date"));
  long pos=w.sync();
  w.append(new Utf8("endive"));
  w.append(new Utf8("fig"));
  w.close();
  byte[] original=baos.toByteArray();
  int corruptPosition=(int)pos - DataFileConstants.SYNC_SIZE;
  int corruptedBytes=3;
  byte[] corrupted=new byte[original.length + corruptedBytes];
  System.arraycopy(original,0,corrupted,0,corruptPosition);
  System.arraycopy(original,corruptPosition,corrupted,corruptPosition + corruptedBytes,original.length - corruptPosition);
  File file=makeFile("corrupt");
  file.deleteOnExit();
  FileOutputStream out=new FileOutputStream(file);
  out.write(corrupted);
  out.close();
  DataFileReader r=new DataFileReader<Utf8>(file,new GenericDatumReader<Utf8>(schema));
  assertEquals("apple",r.next().toString());
  assertEquals("banana",r.next().toString());
  long prevSync=r.previousSync();
  try {
    r.next();
    fail("Corrupt block should throw exception");
  }
 catch (  AvroRuntimeException e) {
    assertEquals("Invalid sync!",e.getCause().getMessage());
  }
  r.sync(prevSync);
  assertEquals("endive",r.next().toString());
  assertEquals("fig",r.next().toString());
  assertFalse(r.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestDataFileCustomSync </h4><pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testRandomSync() throws IOException {
  byte[] sync=generateSync();
  byte[] randSyncFile=createDataFile(null);
  byte[] customSyncFile=createDataFile(sync);
  assertFalse(Arrays.equals(randSyncFile,customSyncFile));
}

</code></pre>

<br>
<pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testCustomSync() throws IOException {
  byte[] sync=generateSync();
  byte[] customSyncFile=createDataFile(sync);
  byte[] sameCustomSyncFile=createDataFile(sync);
  assertTrue(Arrays.equals(customSyncFile,sameCustomSyncFile));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestDataFileDeflate </h4><pre class="type-10 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWriteAndRead() throws IOException {
  Schema schema=Schema.create(Type.STRING);
  DataFileWriter<Utf8> w=new DataFileWriter<Utf8>(new GenericDatumWriter<Utf8>(schema));
  w.setCodec(CodecFactory.deflateCodec(6));
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  w.create(schema,baos);
  w.append(new Utf8("hello world"));
  w.append(new Utf8("hello moon"));
  w.sync();
  w.append(new Utf8("bye bye world"));
  w.append(new Utf8("bye bye moon"));
  w.close();
  DataFileStream<Utf8> r=new DataFileStream<Utf8>(new ByteArrayInputStream(baos.toByteArray()),new GenericDatumReader<Utf8>(schema));
  assertEquals("hello world",r.next().toString());
  assertEquals("hello moon",r.next().toString());
  assertEquals("bye bye world",r.next().toString());
  assertEquals("bye bye moon",r.next().toString());
  assertFalse(r.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestDataFileMeta </h4><pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test() public void testUseMeta() throws IOException {
  DataFileWriter<?> w=new DataFileWriter(new GenericDatumWriter());
  File f=AvroTestUtil.tempFile(getClass(),"testDataFileMeta.avro");
  w.setMeta("hello","bar");
  w.create(Schema.create(Type.NULL),f);
  w.close();
  DataFileStream<Void> r=new DataFileStream<Void>(new FileInputStream(f),new GenericDatumReader<Void>());
  assertTrue(r.getMetaKeys().contains("hello"));
  assertEquals("bar",r.getMetaString("hello"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestLogicalType </h4><pre class="type-10 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDecimalFromSchema(){
  Schema schema=Schema.createFixed("aFixed",null,null,4);
  schema.addProp("logicalType","decimal");
  schema.addProp("precision",9);
  schema.addProp("scale",2);
  LogicalType logicalType=LogicalTypes.fromSchemaIgnoreInvalid(schema);
  Assert.assertTrue("Should be a Decimal",logicalType instanceof LogicalTypes.Decimal);
  LogicalTypes.Decimal decimal=(LogicalTypes.Decimal)logicalType;
  Assert.assertEquals("Should have correct precision",9,decimal.getPrecision());
  Assert.assertEquals("Should have correct scale",2,decimal.getScale());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestProtocol </h4><pre class="type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testPropEquals(){
  Protocol p1=new Protocol("P",null,"foo");
  p1.addProp("a","1");
  Protocol p2=new Protocol("P",null,"foo");
  p2.addProp("a","2");
  assertFalse(p1.equals(p2));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestProtocolGeneric </h4><pre class="type-4 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUndeclaredError() throws IOException {
  this.throwUndeclaredError=true;
  RuntimeException error=null;
  GenericRecord params=new GenericData.Record(PROTOCOL.getMessages().get("error").getRequest());
  try {
    requestor.request("error",params);
  }
 catch (  RuntimeException e) {
    error=e;
  }
 finally {
    this.throwUndeclaredError=false;
  }
  assertNotNull(error);
  assertTrue(error.toString().contains("foo"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestProtocolParsing </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void oneWay() throws Exception {
  Message m;
  m=parseMessage("\"ack\": {" + "\"request\": []," + "\"response\": \"null\","+ "\"one-way\": true}");
  assertTrue(m.isOneWay());
  m=parseMessage("\"ack\": {" + "\"request\": []," + "\"one-way\": true}");
  assertTrue(m.isOneWay());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestProtocolReflect </h4><pre class="type-4 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUndeclaredError() throws Exception {
  this.throwUndeclaredError=true;
  RuntimeException error=null;
  try {
    proxy.error();
  }
 catch (  RuntimeException e) {
    error=e;
  }
 finally {
    this.throwUndeclaredError=false;
  }
  assertNotNull(error);
  assertTrue(error.toString().contains("foo"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestProtocolSpecific </h4><pre class="type-4 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUndeclaredError() throws Exception {
  this.throwUndeclaredError=true;
  RuntimeException error=null;
  try {
    proxy.error();
  }
 catch (  RuntimeException e) {
    error=e;
  }
 finally {
    this.throwUndeclaredError=false;
  }
  assertNotNull(error);
  assertTrue(error.toString().contains("foo"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestSchema </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testUnion() throws Exception {
  check("[\"string\", \"long\"]",false);
  checkDefault("[\"double\", \"long\"]","1.1",new Double(1.1));
  for (  String type : new String[]{"int","long","float","double","string","bytes","boolean"}) {
    checkValidateDefaults("[\"" + type + "\", \"null\"]","null");
    boolean error=false;
    try {
      checkDefault("[\"" + type + "\", \"null\"]","null",0);
    }
 catch (    AvroTypeException e) {
      error=true;
    }
    assertTrue(error);
    checkValidateDefaults("[\"null\", \"" + type + "\"]","0");
    error=false;
    try {
      checkDefault("[\"null\", \"" + type + "\"]","0",null);
    }
 catch (    AvroTypeException e) {
      error=true;
    }
    assertTrue(error);
  }
  String record="{\"type\":\"record\",\"name\":\"Foo\",\"fields\":[]}";
  String fixed="{\"type\":\"fixed\",\"name\":\"Bar\",\"size\": 1}";
  String enu="{\"type\":\"enum\",\"name\":\"Baz\",\"symbols\": [\"X\"]}";
  Schema union=Schema.parse("[\"null\",\"string\"," + record + ","+ enu+ ","+ fixed+ "]");
  checkJson(union,null,"null");
  checkJson(union,new Utf8("foo"),"{\"string\":\"foo\"}");
  checkJson(union,new GenericData.Record(Schema.parse(record)),"{\"Foo\":{}}");
  checkJson(union,new GenericData.Fixed(Schema.parse(fixed),new byte[]{(byte)'a'}),"{\"Bar\":\"a\"}");
  checkJson(union,new GenericData.EnumSymbol(Schema.parse(enu),"X"),"{\"Baz\":\"X\"}");
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAliases() throws Exception {
  String t1="{\"type\":\"record\",\"name\":\"a.b\",\"fields\":[" + "{\"name\":\"f\",\"type\":\"long\"}," + "{\"name\":\"h\",\"type\":\"int\"}]}";
  String t2="{\"type\":\"record\",\"name\":\"x.y\",\"aliases\":[\"a.b\"]," + "\"fields\":[{\"name\":\"g\",\"type\":\"long\",\"aliases\":[\"f\"]}," + "{\"name\":\"h\",\"type\":\"int\"}]}";
  Schema s1=Schema.parse(t1);
  Schema s2=Schema.parse(t2);
  assertEquals(s1.getAliases(),Collections.emptySet());
  assertEquals(s1.getField("f").aliases(),Collections.emptySet());
  assertEquals(s2.getAliases(),Collections.singleton("a.b"));
  assertEquals(s2.getField("g").aliases(),Collections.singleton("f"));
  Schema s3=Schema.applyAliases(s1,s2);
  assertFalse(s2 == s3);
  assertEquals(s2,s3);
  t1="{\"type\":\"enum\",\"name\":\"a.b\"," + "\"symbols\":[\"x\"]}";
  t2="{\"type\":\"enum\",\"name\":\"a.c\",\"aliases\":[\"b\"]," + "\"symbols\":[\"x\"]}";
  s1=Schema.parse(t1);
  s2=Schema.parse(t2);
  s3=Schema.applyAliases(s1,s2);
  assertFalse(s2 == s3);
  assertEquals(s2,s3);
  t1="{\"type\":\"fixed\",\"name\":\"a\"," + "\"size\": 5}";
  t2="{\"type\":\"fixed\",\"name\":\"b\",\"aliases\":[\"a\"]," + "\"size\": 5}";
  s1=Schema.parse(t1);
  s2=Schema.parse(t2);
  s3=Schema.applyAliases(s1,s2);
  assertFalse(s2 == s3);
  assertEquals(s2,s3);
}

</code></pre>

<br>
<pre class="type-13 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDuplicateRecordFieldName(){
  final Schema schema=Schema.createRecord("RecordName",null,null,false);
  final List<Field> fields=new ArrayList<Field>();
  fields.add(new Field("field_name",Schema.create(Type.NULL),null,null));
  fields.add(new Field("field_name",Schema.create(Type.INT),null,null));
  try {
    schema.setFields(fields);
    fail("Should not be able to create a record with duplicate field name.");
  }
 catch (  AvroRuntimeException are) {
    assertTrue(are.getMessage().contains("Duplicate field field_name in record RecordName"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestSchemaBuilder </h4><pre class="type-10 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFieldTypesAndDefaultValues(){
  byte[] bytedef=new byte[]{3};
  ByteBuffer bufdef=ByteBuffer.wrap(bytedef);
  String strdef="\u0003";
  HashMap<String,String> mapdef=new HashMap<String,String>();
  mapdef.put("a","A");
  ArrayList<String> arrdef=new ArrayList<String>();
  arrdef.add("arr");
  Schema rec=SchemaBuilder.record("inner").fields().name("f").type().intType().noDefault().endRecord();
  Schema rec2=SchemaBuilder.record("inner2").fields().name("f2").type().intType().noDefault().endRecord();
  GenericData.Record recdef=new GenericRecordBuilder(rec).set("f",1).build();
  GenericData.Record recdef2=new GenericRecordBuilder(rec2).set("f2",2).build();
  Schema r=SchemaBuilder.record("r").fields().name("boolF").type().booleanType().booleanDefault(false).name("intF").type().intType().intDefault(1).name("longF").type().longType().longDefault(2L).name("floatF").type().floatType().floatDefault(3.0f).name("doubleF").type().doubleType().doubleDefault(4.0d).name("stringF").type().stringType().stringDefault("def").name("bytesF1").type().bytesType().bytesDefault(bytedef).name("bytesF2").type().bytesType().bytesDefault(bufdef).name("bytesF3").type().bytesType().bytesDefault(strdef).name("nullF").type().nullType().nullDefault().name("fixedF1").type().fixed("F1").size(1).fixedDefault(bytedef).name("fixedF2").type().fixed("F2").size(1).fixedDefault(bufdef).name("fixedF3").type().fixed("F3").size(1).fixedDefault(strdef).name("enumF").type().enumeration("E1").symbols("S").enumDefault("S").name("mapF").type().map().values().stringType().mapDefault(mapdef).name("arrayF").type().array().items().stringType().arrayDefault(arrdef).name("recordF").type().record("inner").fields().name("f").type().intType().noDefault().endRecord().recordDefault(recdef).name("byName").type("E1").withDefault("S").name("boolU").type().unionOf().booleanType().and().intType().endUnion().booleanDefault(false).name("intU").type().unionOf().intType().and().longType().endUnion().intDefault(1).name("longU").type().unionOf().longType().and().intType().endUnion().longDefault(2L).name("floatU").type().unionOf().floatType().and().intType().endUnion().floatDefault(3.0f).name("doubleU").type().unionOf().doubleType().and().intType().endUnion().doubleDefault(4.0d).name("stringU").type().unionOf().stringType().and().intType().endUnion().stringDefault("def").name("bytesU").type().unionOf().bytesType().and().intType().endUnion().bytesDefault(bytedef).name("nullU").type().unionOf().nullType().and().intType().endUnion().nullDefault().name("fixedU").type().unionOf().fixed("F4").size(1).and().intType().endUnion().fixedDefault(bytedef).name("enumU").type().unionOf().enumeration("E2").symbols("SS").and().intType().endUnion().enumDefault("SS").name("mapU").type().unionOf().map().values().stringType().and().intType().endUnion().mapDefault(mapdef).name("arrayU").type().unionOf().array().items().stringType().and().intType().endUnion().arrayDefault(arrdef).name("recordU").type().unionOf().record("inner2").fields().name("f2").type().intType().noDefault().endRecord().and().intType().endUnion().recordDefault(recdef2).endRecord();
  GenericData.Record newRec=new GenericRecordBuilder(r).build();
  Assert.assertEquals(false,newRec.get("boolF"));
  Assert.assertEquals(false,newRec.get("boolU"));
  Assert.assertEquals(1,newRec.get("intF"));
  Assert.assertEquals(1,newRec.get("intU"));
  Assert.assertEquals(2L,newRec.get("longF"));
  Assert.assertEquals(2L,newRec.get("longU"));
  Assert.assertEquals(3f,newRec.get("floatF"));
  Assert.assertEquals(3f,newRec.get("floatU"));
  Assert.assertEquals(4d,newRec.get("doubleF"));
  Assert.assertEquals(4d,newRec.get("doubleU"));
  Assert.assertEquals("def",newRec.get("stringF").toString());
  Assert.assertEquals("def",newRec.get("stringU").toString());
  Assert.assertEquals(bufdef,newRec.get("bytesF1"));
  Assert.assertEquals(bufdef,newRec.get("bytesF2"));
  Assert.assertEquals(bufdef,newRec.get("bytesF3"));
  Assert.assertEquals(bufdef,newRec.get("bytesU"));
  Assert.assertNull(newRec.get("nullF"));
  Assert.assertNull(newRec.get("nullU"));
  Assert.assertArrayEquals(bytedef,((GenericData.Fixed)newRec.get("fixedF1")).bytes());
  Assert.assertArrayEquals(bytedef,((GenericData.Fixed)newRec.get("fixedF2")).bytes());
  Assert.assertArrayEquals(bytedef,((GenericData.Fixed)newRec.get("fixedF3")).bytes());
  Assert.assertArrayEquals(bytedef,((GenericData.Fixed)newRec.get("fixedU")).bytes());
  Assert.assertEquals("S",newRec.get("enumF").toString());
  Assert.assertEquals("SS",newRec.get("enumU").toString());
  @SuppressWarnings("unchecked") Map<CharSequence,CharSequence> map=(Map<CharSequence,CharSequence>)newRec.get("mapF");
  Assert.assertEquals(mapdef.size(),map.size());
  for (  Map.Entry<CharSequence,CharSequence> e : map.entrySet()) {
    Assert.assertEquals(mapdef.get(e.getKey().toString()),e.getValue().toString());
  }
  Assert.assertEquals(newRec.get("mapF"),newRec.get("mapU"));
  @SuppressWarnings("unchecked") GenericData.Array<CharSequence> arr=(GenericData.Array<CharSequence>)newRec.get("arrayF");
  Assert.assertEquals(arrdef.size(),arr.size());
  for (  CharSequence c : arr) {
    Assert.assertTrue(arrdef.contains(c.toString()));
  }
  Assert.assertEquals(newRec.get("arrF"),newRec.get("arrU"));
  Assert.assertEquals(recdef,newRec.get("recordF"));
  Assert.assertEquals(recdef2,newRec.get("recordU"));
  Assert.assertEquals("S",newRec.get("byName").toString());
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFields(){
  Schema rec=SchemaBuilder.record("Rec").fields().name("documented").doc("documented").type().nullType().noDefault().name("ascending").orderAscending().type().booleanType().noDefault().name("descending").orderDescending().type().floatType().noDefault().name("ignored").orderIgnore().type().doubleType().noDefault().name("aliased").aliases("anAlias").type().stringType().noDefault().endRecord();
  Assert.assertEquals("documented",rec.getField("documented").doc());
  Assert.assertEquals(Order.ASCENDING,rec.getField("ascending").order());
  Assert.assertEquals(Order.DESCENDING,rec.getField("descending").order());
  Assert.assertEquals(Order.IGNORE,rec.getField("ignored").order());
  Assert.assertTrue(rec.getField("aliased").aliases().contains("anAlias"));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRecord(){
  Schema schema=SchemaBuilder.record("myrecord").namespace("org.example").aliases("oldrecord").fields().name("f0").aliases("f0alias").type().stringType().noDefault().name("f1").doc("This is f1").type().longType().noDefault().name("f2").type().nullable().booleanType().booleanDefault(true).endRecord();
  Assert.assertEquals("myrecord",schema.getName());
  Assert.assertEquals("org.example",schema.getNamespace());
  Assert.assertEquals("org.example.oldrecord",schema.getAliases().iterator().next());
  Assert.assertFalse(schema.isError());
  List<Schema.Field> fields=schema.getFields();
  Assert.assertEquals(3,fields.size());
  Assert.assertEquals(new Schema.Field("f0",Schema.create(Schema.Type.STRING),null,null),fields.get(0));
  Assert.assertTrue(fields.get(0).aliases().contains("f0alias"));
  Assert.assertEquals(new Schema.Field("f1",Schema.create(Schema.Type.LONG),"This is f1",null),fields.get(1));
  List<Schema> types=new ArrayList<Schema>();
  types.add(Schema.create(Schema.Type.BOOLEAN));
  types.add(Schema.create(Schema.Type.NULL));
  Schema optional=Schema.createUnion(types);
  Assert.assertEquals(new Schema.Field("f2",optional,null,true),fields.get(2));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.compiler.TestSpecificCompiler </h4><pre class="type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSettersCreatedByDefault() throws IOException {
  SpecificCompiler compiler=createCompiler();
  assertTrue(compiler.isCreateSetters());
  compiler.compileToDestination(this.src,this.outputDir);
  assertTrue(this.outputFile.exists());
  BufferedReader reader=new BufferedReader(new FileReader(this.outputFile));
  int foundSetters=0;
  String line=null;
  while ((line=reader.readLine()) != null) {
    line=line.trim();
    if (line.startsWith("public void setValue(")) {
      foundSetters++;
    }
  }
  assertEquals("Found the wrong number of setters",1,foundSetters);
}

</code></pre>

<br>
<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testCanReadTemplateFilesOnTheFilesystem() throws IOException, URISyntaxException {
  SpecificCompiler compiler=createCompiler();
  compiler.compileToDestination(this.src,this.outputDir);
  assertTrue(this.outputFile.exists());
}

</code></pre>

<br>
<pre class="type-10 type-9 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSettersNotCreatedWhenOptionTurnedOff() throws IOException {
  SpecificCompiler compiler=createCompiler();
  compiler.setCreateSetters(false);
  assertFalse(compiler.isCreateSetters());
  compiler.compileToDestination(this.src,this.outputDir);
  assertTrue(this.outputFile.exists());
  BufferedReader reader=new BufferedReader(new FileReader(this.outputFile));
  String line=null;
  while ((line=reader.readLine()) != null) {
    line=line.trim();
    assertFalse("No line should include the setter: " + line,line.startsWith("public void setValue("));
  }
}

</code></pre>

<br>
<pre class="type-10 type-9 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testPublicFieldVisibility() throws IOException {
  SpecificCompiler compiler=createCompiler();
  compiler.setFieldVisibility(SpecificCompiler.FieldVisibility.PUBLIC);
  assertFalse(compiler.deprecatedFields());
  assertTrue(compiler.publicFields());
  assertFalse(compiler.privateFields());
  compiler.compileToDestination(this.src,this.outputDir);
  assertTrue(this.outputFile.exists());
  BufferedReader reader=new BufferedReader(new FileReader(this.outputFile));
  String line=null;
  while ((line=reader.readLine()) != null) {
    line=line.trim();
    assertFalse("Line started with a deprecated field declaration: " + line,line.startsWith("@Deprecated public int value"));
  }
}

</code></pre>

<br>
<pre class="type-10 type-9 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testPublicDeprecatedFieldVisibility() throws IOException {
  SpecificCompiler compiler=createCompiler();
  assertTrue(compiler.deprecatedFields());
  assertTrue(compiler.publicFields());
  assertFalse(compiler.privateFields());
  compiler.compileToDestination(this.src,this.outputDir);
  assertTrue(this.outputFile.exists());
  BufferedReader reader=new BufferedReader(new FileReader(this.outputFile));
  String line=null;
  while ((line=reader.readLine()) != null) {
    line=line.trim();
    assertFalse("Line started with a public field declaration: " + line,line.startsWith("public int value"));
  }
}

</code></pre>

<br>
<pre class="type-10 type-9 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testPrivateFieldVisibility() throws IOException {
  SpecificCompiler compiler=createCompiler();
  compiler.setFieldVisibility(SpecificCompiler.FieldVisibility.PRIVATE);
  assertFalse(compiler.deprecatedFields());
  assertFalse(compiler.publicFields());
  assertTrue(compiler.privateFields());
  compiler.compileToDestination(this.src,this.outputDir);
  assertTrue(this.outputFile.exists());
  BufferedReader reader=new BufferedReader(new FileReader(this.outputFile));
  String line=null;
  while ((line=reader.readLine()) != null) {
    line=line.trim();
    assertFalse("Line started with a public field declaration: " + line,line.startsWith("public int value"));
    assertFalse("Line started with a deprecated field declaration: " + line,line.startsWith("@Deprecated public int value"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.compiler.idl.TestIdl </h4><pre class="type-8 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void loadTests(){
  assertTrue(TEST_DIR.exists());
  assertTrue(TEST_INPUT_DIR.exists());
  assertTrue(TEST_OUTPUT_DIR.exists());
  tests=new ArrayList<GenTest>();
  for (  File inF : TEST_INPUT_DIR.listFiles()) {
    if (!inF.getName().endsWith(".avdl"))     continue;
    if (inF.getName().startsWith("."))     continue;
    File outF=new File(TEST_OUTPUT_DIR,inF.getName().replaceFirst("\\.avdl$",".avpr"));
    tests.add(new GenTest(inF,outF));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.compiler.specific.TestSpecificCompiler </h4><pre class="type-10 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testManglingForRecords() throws IOException {
  Collection<OutputFile> c=new SpecificCompiler(Schema.parse(SCHEMA)).compile();
  assertEquals(1,c.size());
  String contents=c.iterator().next().contents;
  assertTrue(contents.contains("public java.lang.CharSequence package$;"));
  assertTrue(contents.contains("class volatile$ extends"));
  assertTrue(contents.contains("volatile$ short$;"));
  assertCompilesWithJavaCompiler(c);
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAliases() throws IOException {
  Schema s=Schema.parse("{\"name\":\"X\",\"type\":\"record\",\"aliases\":[\"Y\"],\"fields\":[" + "{\"name\":\"f\",\"type\":\"int\",\"aliases\":[\"g\"]}]}");
  SpecificCompiler compiler=new SpecificCompiler(s);
  compiler.setStringType(StringType.valueOf("String"));
  Collection<OutputFile> outputs=compiler.compile();
  assertEquals(1,outputs.size());
  OutputFile o=outputs.iterator().next();
  assertEquals(o.path,"X.java");
  assertTrue(o.contents.contains("[\\\"Y\\\"]"));
  assertTrue(o.contents.contains("[\\\"g\\\"]"));
}

</code></pre>

<br>
<pre class="type-10 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleEnumSchema() throws IOException {
  Collection<OutputFile> outputs=new SpecificCompiler(Schema.parse(TestSchema.BASIC_ENUM_SCHEMA)).compile();
  assertEquals(1,outputs.size());
  OutputFile o=outputs.iterator().next();
  assertEquals(o.path,"Test.java");
  assertTrue(o.contents.contains("public enum Test"));
  assertCompilesWithJavaCompiler(outputs);
}

</code></pre>

<br>
<pre class="type-10 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testManglingForEnums() throws IOException {
  String enumSchema="" + "{ \"name\": \"instanceof\", \"type\": \"enum\"," + "  \"symbols\": [\"new\", \"super\", \"switch\"] }";
  Collection<OutputFile> c=new SpecificCompiler(Schema.parse(enumSchema)).compile();
  assertEquals(1,c.size());
  String contents=c.iterator().next().contents;
  assertTrue(contents.contains("new$"));
  assertCompilesWithJavaCompiler(c);
}

</code></pre>

<br>
<pre class="type-10 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNeedCompile() throws IOException, InterruptedException {
  String schema="" + "{ \"name\": \"Foo\", \"type\": \"record\", " + "  \"fields\": [ {\"name\": \"package\", \"type\": \"string\" },"+ "                {\"name\": \"short\", \"type\": \"Foo\" } ] }";
  File inputFile=AvroTestUtil.tempFile(getClass(),"input.avsc");
  FileWriter fw=new FileWriter(inputFile);
  fw.write(schema);
  fw.close();
  File outputDir=new File(System.getProperty("test.dir","target/test") + System.getProperty("file.separator") + "test_need_compile");
  File outputFile=new File(outputDir,"Foo.java");
  outputFile.delete();
  assertTrue(!outputFile.exists());
  outputDir.delete();
  assertTrue(!outputDir.exists());
  SpecificCompiler.compileSchema(inputFile,outputDir);
  assertTrue(outputDir.exists());
  assertTrue(outputFile.exists());
  long lastModified=outputFile.lastModified();
  Thread.sleep(1000);
  SpecificCompiler.compileSchema(inputFile,outputDir);
  assertEquals(lastModified,outputFile.lastModified());
  fw=new FileWriter(inputFile);
  fw.write(schema);
  fw.close();
  SpecificCompiler.compileSchema(inputFile,outputDir);
  assertTrue(lastModified != outputFile.lastModified());
}

</code></pre>

<br>
<pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testManglingForProtocols() throws IOException {
  String protocolDef=PROTOCOL;
  Collection<OutputFile> c=new SpecificCompiler(Protocol.parse(protocolDef)).compile();
  Iterator<OutputFile> i=c.iterator();
  String errType=i.next().contents;
  String protocol=i.next().contents;
  assertTrue(errType.contains("public class finally$ extends org.apache.avro.specific.SpecificExceptionBase"));
  assertTrue(errType.contains("public boolean catch$;"));
  assertTrue(protocol.contains("java.lang.CharSequence goto$(java.lang.CharSequence break$)"));
  assertTrue(protocol.contains("public interface default$"));
  assertTrue(protocol.contains("throws org.apache.avro.AvroRemoteException, finally$"));
  assertCompilesWithJavaCompiler(c);
}

</code></pre>

<br>
<pre class="type-12 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSchemaWithDocs(){
  Collection<OutputFile> outputs=new SpecificCompiler(Schema.parse(TestSchema.SCHEMA_WITH_DOC_TAGS)).compile();
  assertEquals(3,outputs.size());
  int count=0;
  for (  OutputFile o : outputs) {
    if (o.path.endsWith("outer_record.java")) {
      count++;
      assertTrue(o.contents.contains("/** This is not a world record. */"));
      assertTrue(o.contents.contains("/** Inner Fixed */"));
      assertTrue(o.contents.contains("/** Inner Enum */"));
      assertTrue(o.contents.contains("/** Inner String */"));
    }
    if (o.path.endsWith("very_inner_fixed.java")) {
      count++;
      assertTrue(o.contents.contains("/** Very Inner Fixed */"));
      assertTrue(o.contents.contains("@org.apache.avro.specific.FixedSize(1)"));
    }
    if (o.path.endsWith("very_inner_enum.java")) {
      count++;
      assertTrue(o.contents.contains("/** Very Inner Enum */"));
    }
  }
  assertEquals(3,count);
}

</code></pre>

<br>
<pre class="type-12 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testProtocolWithDocs() throws IOException {
  Protocol protocol=TestProtocolParsing.getSimpleProtocol();
  Collection<OutputFile> out=new SpecificCompiler(protocol).compile();
  assertEquals(6,out.size());
  int count=0;
  for (  OutputFile o : out) {
    if (o.path.endsWith("Simple.java")) {
      count++;
      assertTrue(o.contents.contains("/** Protocol used for testing. */"));
      assertTrue(o.contents.contains("* Send a greeting"));
    }
  }
  assertEquals("Missed generated protocol!",1,count);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.data.RecordBuilderBaseTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsValidValueWithUnion(){
  Schema unionWithoutNull=Schema.createUnion(Arrays.asList(new Schema[]{Schema.create(Type.STRING),Schema.create(Type.BOOLEAN)}));
  Assert.assertTrue(RecordBuilderBase.isValidValue(new Field("f",unionWithoutNull,null,null),new Object()));
  Assert.assertFalse(RecordBuilderBase.isValidValue(new Field("f",unionWithoutNull,null,null),null));
  Schema unionWithNull=Schema.createUnion(Arrays.asList(new Schema[]{Schema.create(Type.STRING),Schema.create(Type.NULL)}));
  Assert.assertTrue(RecordBuilderBase.isValidValue(new Field("f",unionWithNull,null,null),new Object()));
  Assert.assertTrue(RecordBuilderBase.isValidValue(new Field("f",unionWithNull,null,null),null));
}

</code></pre>

<br>
<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsValidValueWithNullField(){
  Assert.assertTrue(RecordBuilderBase.isValidValue(new Field("f",Schema.create(Type.NULL),null,null),null));
}

</code></pre>

<br>
<pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testIsValidValueWithPrimitives(){
  for (  Type type : primitives) {
    Field f=new Field("f",Schema.create(type),null,null);
    Assert.assertTrue(RecordBuilderBase.isValidValue(f,new Object()));
  }
  for (  Type type : nonNullPrimitives) {
    Field f=new Field("f",Schema.create(type),null,null);
    Assert.assertFalse(RecordBuilderBase.isValidValue(f,null));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.file.TestBZip2Codec </h4><pre class="type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testBZip2CompressionAndDecompression() throws IOException {
  Codec codec=CodecFactory.fromString("bzip2").createInstance();
  assertTrue(codec instanceof BZip2Codec);
  assertTrue(codec.getName().equals("bzip2"));
  final int inputByteSize=BZip2Codec.DEFAULT_BUFFER_SIZE * 3 + 42;
  byte[] inputByteArray=new byte[inputByteSize];
  for (int i=0; i < inputByteSize; i++) {
    inputByteArray[i]=(byte)(65 + i % 10);
  }
  ByteBuffer inputByteBuffer=ByteBuffer.allocate(inputByteSize * 2);
  inputByteBuffer.put(inputByteArray);
  ByteBuffer compressedBuffer=codec.compress(inputByteBuffer);
  assertTrue(compressedBuffer.array().length > 0);
  assertTrue(compressedBuffer.array().length < inputByteArray.length);
  ByteBuffer decompressedBuffer=codec.decompress(compressedBuffer);
  assertTrue(decompressedBuffer.array().length == inputByteArray.length);
  byte[] outputByteArray=decompressedBuffer.array();
  for (int i=0; i < inputByteSize; i++) {
    inputByteArray[i]=outputByteArray[i];
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.file.TestCustomCodec </h4><pre class="type-10 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCustomCodec(){
  CustomCodec customCodec=new CustomCodec();
  Codec snappyCodec=new SnappyCodec.Option().createInstance();
  assertTrue(customCodec.equals(new CustomCodec()));
  assertFalse(customCodec.equals(snappyCodec));
  String testString="Testing 123";
  ByteBuffer original=ByteBuffer.allocate(testString.getBytes().length);
  original.put(testString.getBytes());
  original.rewind();
  ByteBuffer decompressed=null;
  try {
    ByteBuffer compressed=customCodec.compress(original);
    compressed.rewind();
    decompressed=customCodec.decompress(compressed);
  }
 catch (  IOException e) {
    e.printStackTrace();
  }
  assertEquals(testString,new String(decompressed.array()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.file.TestSeekableByteArrayInput </h4><pre class="type-10 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSerialization() throws Exception {
  Schema testSchema=getTestSchema();
  GenericRecord message=new Record(testSchema);
  message.put("name","testValue");
  byte[] data=getSerializedMessage(message,testSchema);
  GenericDatumReader<IndexedRecord> reader=new GenericDatumReader<IndexedRecord>(testSchema);
  SeekableInput in=new SeekableByteArrayInput(data);
  FileReader<IndexedRecord> dfr=null;
  IndexedRecord result=null;
  try {
    dfr=DataFileReader.openReader(in,reader);
    result=dfr.next();
  }
  finally {
    if (dfr != null) {
      dfr.close();
    }
  }
  Assert.assertNotNull(result);
  Assert.assertTrue(result instanceof GenericRecord);
  Assert.assertEquals(new Utf8("testValue"),((GenericRecord)result).get("name"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.generic.TestDeepCopy </h4><pre class="type-12 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeepCopy(){
  Interop.Builder interopBuilder=Interop.newBuilder();
  interopBuilder.setArrayField(Arrays.asList(new Double[]{1.1,1.2,1.3,1.4}));
  interopBuilder.setBoolField(true);
  interopBuilder.setBytesField(ByteBuffer.wrap(new byte[]{1,2,3,4}));
  interopBuilder.setDoubleField(3.14d);
  interopBuilder.setEnumField(Kind.B);
  interopBuilder.setFixedField(new MD5(new byte[]{4,3,2,1,4,3,2,1,4,3,2,1,4,3,2,1}));
  interopBuilder.setFloatField(6.022f);
  interopBuilder.setIntField(32);
  interopBuilder.setLongField(64L);
  Map<java.lang.String,org.apache.avro.Foo> map=new HashMap<java.lang.String,org.apache.avro.Foo>(1);
  map.put("foo",Foo.newBuilder().setLabel("bar").build());
  interopBuilder.setMapField(map);
  interopBuilder.setNullField(null);
  Node.Builder rootBuilder=Node.newBuilder().setLabel("/");
  Node.Builder homeBuilder=Node.newBuilder().setLabel("home");
  homeBuilder.setChildren(new ArrayList<Node>(0));
  rootBuilder.setChildren(Arrays.asList(new Node[]{homeBuilder.build()}));
  interopBuilder.setRecordField(rootBuilder.build());
  interopBuilder.setStringField("Hello");
  interopBuilder.setUnionField(Arrays.asList(new ByteBuffer[]{ByteBuffer.wrap(new byte[]{1,2})}));
  Interop interop=interopBuilder.build();
  for (  Field field : Interop.SCHEMA$.getFields()) {
    if (interop.get(field.pos()) instanceof ByteBuffer) {
      assertTrue(Arrays.equals(((ByteBuffer)interop.get(field.pos())).array(),((ByteBuffer)GenericData.get().deepCopy(field.schema(),interop.get(field.pos()))).array()));
    }
 else {
      assertEquals(interop.get(field.pos()),SpecificData.get().deepCopy(field.schema(),interop.get(field.pos())));
    }
    if ((field.schema().getType() != Type.ENUM) && (field.schema().getType() != Type.NULL) && (field.schema().getType() != Type.BOOLEAN)&& (field.schema().getType() != Type.INT)&& (field.schema().getType() != Type.LONG)&& (field.schema().getType() != Type.FLOAT)&& (field.schema().getType() != Type.DOUBLE)&& (field.schema().getType() != Type.STRING)) {
      assertFalse("Field " + field.name() + " is same instance in deep copy",interop.get(field.pos()) == GenericData.get().deepCopy(field.schema(),interop.get(field.pos())));
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.generic.TestGenericData </h4><pre class="type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testEquals2(){
  Schema schema1=Schema.createRecord("r",null,"x",false);
  List<Field> fields1=new ArrayList<Field>();
  fields1.add(new Field("a",Schema.create(Schema.Type.STRING),null,null,Field.Order.IGNORE));
  schema1.setFields(fields1);
  Schema schema2=Schema.createRecord("r",null,"x",false);
  List<Field> fields2=new ArrayList<Field>();
  fields2.add(new Field("a",Schema.create(Schema.Type.STRING),null,null,Field.Order.ASCENDING));
  schema2.setFields(fields2);
  GenericRecord record1=new GenericData.Record(schema1);
  record1.put("a","1");
  GenericRecord record2=new GenericData.Record(schema2);
  record2.put("a","2");
  assertFalse(record2.equals(record1));
  assertFalse(record1.equals(record2));
}

</code></pre>

<br>
<pre class="type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testArrayReversal(){
  Schema schema=Schema.createArray(Schema.create(Schema.Type.INT));
  GenericArray<Integer> forward=new GenericData.Array<Integer>(10,schema);
  GenericArray<Integer> backward=new GenericData.Array<Integer>(10,schema);
  for (int i=0; i <= 9; i++) {
    forward.add(i);
  }
  for (int i=9; i >= 0; i--) {
    backward.add(i);
  }
  forward.reverse();
  assertTrue(forward.equals(backward));
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEnumCompare(){
  Schema s=Schema.createEnum("Kind",null,null,Arrays.asList("Z","Y","X"));
  GenericEnumSymbol z=new GenericData.EnumSymbol(s,"Z");
  GenericEnumSymbol y=new GenericData.EnumSymbol(s,"Y");
  assertEquals(0,z.compareTo(z));
  assertTrue(y.compareTo(z) > 0);
  assertTrue(z.compareTo(y) < 0);
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testValidateUnion(){
  Schema type1Schema=SchemaBuilder.record("Type1").fields().requiredString("myString").requiredInt("myInt").endRecord();
  Schema type2Schema=SchemaBuilder.record("Type2").fields().requiredString("myString").endRecord();
  Schema unionSchema=SchemaBuilder.unionOf().type(type1Schema).and().type(type2Schema).endUnion();
  GenericRecord record=new GenericData.Record(type2Schema);
  record.put("myString","myValue");
  assertTrue(GenericData.get().validate(unionSchema,record));
}

</code></pre>

<br>
<pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testValidateNullableEnum(){
  List<Schema> unionTypes=new ArrayList<Schema>();
  Schema schema;
  Schema nullSchema=Schema.create(Type.NULL);
  Schema enumSchema=Schema.createEnum("AnEnum",null,null,Arrays.asList("X","Y","Z"));
  GenericEnumSymbol w=new GenericData.EnumSymbol(enumSchema,"W");
  GenericEnumSymbol x=new GenericData.EnumSymbol(enumSchema,"X");
  GenericEnumSymbol y=new GenericData.EnumSymbol(enumSchema,"Y");
  GenericEnumSymbol z=new GenericData.EnumSymbol(enumSchema,"Z");
  unionTypes.clear();
  unionTypes.add(nullSchema);
  unionTypes.add(enumSchema);
  schema=Schema.createUnion(unionTypes);
  assertTrue(GenericData.get().validate(schema,z));
  assertTrue(GenericData.get().validate(schema,y));
  assertTrue(GenericData.get().validate(schema,x));
  assertFalse(GenericData.get().validate(schema,w));
  assertTrue(GenericData.get().validate(schema,null));
  unionTypes.clear();
  unionTypes.add(enumSchema);
  unionTypes.add(nullSchema);
  schema=Schema.createUnion(unionTypes);
  assertTrue(GenericData.get().validate(schema,z));
  assertTrue(GenericData.get().validate(schema,y));
  assertTrue(GenericData.get().validate(schema,x));
  assertFalse(GenericData.get().validate(schema,w));
  assertTrue(GenericData.get().validate(schema,null));
}

</code></pre>

<br>
<pre class="type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void validateRequiresGenericSymbolForEnumSchema(){
  final Schema schema=Schema.createEnum("my_enum","doc","namespace",Arrays.asList("ONE","TWO","THREE"));
  final GenericData gd=GenericData.get();
  assertTrue(gd.validate(schema,new GenericData.EnumSymbol(schema,"ONE")));
  assertTrue(gd.validate(schema,new GenericData.EnumSymbol(schema,anEnum.ONE)));
  assertFalse("We don't expect GenericData to allow a String datum for an enum schema",gd.validate(schema,"ONE"));
  assertFalse("We don't expect GenericData to allow a Java Enum for an enum schema",gd.validate(schema,anEnum.ONE));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.generic.TestGenericDatumWriter </h4><pre class="type-13 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMapConcurrentModification() throws Exception {
  String json="{\"type\": \"map\", \"values\": \"int\" }";
  Schema s=Schema.parse(json);
  final Map<String,Integer> m=new HashMap<String,Integer>();
  ByteArrayOutputStream bao=new ByteArrayOutputStream();
  final GenericDatumWriter<Map<String,Integer>> w=new GenericDatumWriter<Map<String,Integer>>(s);
  CountDownLatch sizeWrittenSignal=new CountDownLatch(1);
  CountDownLatch eltAddedSignal=new CountDownLatch(1);
  final TestEncoder e=new TestEncoder(EncoderFactory.get().directBinaryEncoder(bao,null),sizeWrittenSignal,eltAddedSignal);
  ExecutorService executor=Executors.newSingleThreadExecutor();
  Future<Void> result=executor.submit(new Callable<Void>(){
    @Override public Void call() throws Exception {
      w.write(m,e);
      return null;
    }
  }
);
  sizeWrittenSignal.await();
  m.put("a",7);
  eltAddedSignal.countDown();
  try {
    result.get();
    fail("Expected ConcurrentModificationException");
  }
 catch (  ExecutionException ex) {
    assertTrue(ex.getCause() instanceof ConcurrentModificationException);
  }
}

</code></pre>

<br>
<pre class="type-13 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testArrayConcurrentModification() throws Exception {
  String json="{\"type\": \"array\", \"items\": \"int\" }";
  Schema s=Schema.parse(json);
  final GenericArray<Integer> a=new GenericData.Array<Integer>(1,s);
  ByteArrayOutputStream bao=new ByteArrayOutputStream();
  final GenericDatumWriter<GenericArray<Integer>> w=new GenericDatumWriter<GenericArray<Integer>>(s);
  CountDownLatch sizeWrittenSignal=new CountDownLatch(1);
  CountDownLatch eltAddedSignal=new CountDownLatch(1);
  final TestEncoder e=new TestEncoder(EncoderFactory.get().directBinaryEncoder(bao,null),sizeWrittenSignal,eltAddedSignal);
  ExecutorService executor=Executors.newSingleThreadExecutor();
  Future<Void> result=executor.submit(new Callable<Void>(){
    @Override public Void call() throws Exception {
      w.write(a,e);
      return null;
    }
  }
);
  sizeWrittenSignal.await();
  a.add(7);
  eltAddedSignal.countDown();
  try {
    result.get();
    fail("Expected ConcurrentModificationException");
  }
 catch (  ExecutionException ex) {
    assertTrue(ex.getCause() instanceof ConcurrentModificationException);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.generic.TestGenericRecordBuilder </h4><pre class="type-13 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test() public void buildWithoutSettingRequiredFields2(){
  try {
    new GenericRecordBuilder(recordSchema()).set("anArray",Arrays.asList(new String[]{"one"})).build();
    Assert.fail("Should have thrown " + AvroRuntimeException.class.getCanonicalName());
  }
 catch (  AvroRuntimeException e) {
    Assert.assertTrue(e.getMessage().contains("intField"));
  }
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGenericBuilder(){
  Schema schema=recordSchema();
  GenericRecordBuilder builder=new GenericRecordBuilder(schema);
  for (  Field field : schema.getFields()) {
    Assert.assertFalse("RecordBuilder should not have field " + field.name(),builder.has(field.name()));
    Assert.assertNull("Field " + field.name() + " should be null",builder.get(field.name()));
  }
  builder.set("intField",1);
  List<String> anArray=Arrays.asList(new String[]{"one","two","three"});
  builder.set("anArray",anArray);
  Assert.assertTrue("anArray should be set",builder.has("anArray"));
  Assert.assertEquals(anArray,builder.get("anArray"));
  Assert.assertFalse("id should not be set",builder.has("id"));
  Assert.assertNull(builder.get("id"));
  Record record=builder.build();
  Assert.assertEquals(new Integer(1),record.get("intField"));
  Assert.assertEquals(anArray,record.get("anArray"));
  Assert.assertNotNull(record.get("id"));
  Assert.assertEquals("0",record.get("id").toString());
  Assert.assertEquals(builder,new GenericRecordBuilder(builder));
  Assert.assertEquals(record,new GenericRecordBuilder(record).build());
  builder.clear("intField");
  Assert.assertFalse(builder.has("intField"));
  Assert.assertNull(builder.get("intField"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.hadoop.file.TestHadoopCodecFactory </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testHadoopCodecFactorySnappy(){
  CodecFactory hadoopSnappyCodec=HadoopCodecFactory.fromHadoopString("org.apache.hadoop.io.compress.SnappyCodec");
  CodecFactory avroSnappyCodec=CodecFactory.fromString("snappy");
  assertTrue(hadoopSnappyCodec.getClass().equals(avroSnappyCodec.getClass()));
}

</code></pre>

<br>
<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testHadoopCodecFactoryBZip2(){
  CodecFactory hadoopSnappyCodec=HadoopCodecFactory.fromHadoopString("org.apache.hadoop.io.compress.BZip2Codec");
  CodecFactory avroSnappyCodec=CodecFactory.fromString("bzip2");
  assertTrue(hadoopSnappyCodec.getClass().equals(avroSnappyCodec.getClass()));
}

</code></pre>

<br>
<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testHadoopCodecFactoryGZip(){
  CodecFactory hadoopSnappyCodec=HadoopCodecFactory.fromHadoopString("org.apache.hadoop.io.compress.GZipCodec");
  CodecFactory avroSnappyCodec=CodecFactory.fromString("deflate");
  assertTrue(hadoopSnappyCodec.getClass().equals(avroSnappyCodec.getClass()));
}

</code></pre>

<br>
<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testHadoopCodecFactoryFail(){
  CodecFactory hadoopSnappyCodec=HadoopCodecFactory.fromHadoopString("org.apache.hadoop.io.compress.FooCodec");
  assertTrue(hadoopSnappyCodec == null);
}

</code></pre>

<br>
<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testHadoopCodecFactoryDeflate(){
  CodecFactory hadoopDeflateCodec=HadoopCodecFactory.fromHadoopString("org.apache.hadoop.io.compress.DeflateCodec");
  CodecFactory avroDeflateCodec=CodecFactory.fromString("deflate");
  assertTrue(hadoopDeflateCodec.getClass().equals(avroDeflateCodec.getClass()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.hadoop.file.TestSortedKeyValueFile </h4><pre class="type-10 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWriter() throws IOException {
  LOG.debug("Writing some records to a SortedKeyValueFile...");
  Configuration conf=new Configuration();
  SortedKeyValueFile.Writer.Options options=new SortedKeyValueFile.Writer.Options().withKeySchema(Schema.create(Schema.Type.STRING)).withValueSchema(Schema.create(Schema.Type.STRING)).withConfiguration(conf).withPath(new Path(mTempDir.getRoot().getPath(),"myfile")).withIndexInterval(2);
  SortedKeyValueFile.Writer<CharSequence,CharSequence> writer=new SortedKeyValueFile.Writer<CharSequence,CharSequence>(options);
  try {
    writer.append("apple","Apple");
    writer.append("banana","Banana");
    writer.append("carrot","Carrot");
    writer.append("durian","Durian");
  }
  finally {
    writer.close();
  }
  LOG.debug("Checking the generated directory...");
  File directory=new File(mTempDir.getRoot().getPath(),"myfile");
  assertTrue(directory.exists());
  LOG.debug("Checking the generated index file...");
  File indexFile=new File(directory,SortedKeyValueFile.INDEX_FILENAME);
  DatumReader<GenericRecord> indexReader=new GenericDatumReader<GenericRecord>(AvroKeyValue.getSchema(options.getKeySchema(),Schema.create(Schema.Type.LONG)));
  FileReader<GenericRecord> indexFileReader=DataFileReader.openReader(indexFile,indexReader);
  List<AvroKeyValue<CharSequence,Long>> indexRecords=new ArrayList<AvroKeyValue<CharSequence,Long>>();
  try {
    for (    GenericRecord indexRecord : indexFileReader) {
      indexRecords.add(new AvroKeyValue<CharSequence,Long>(indexRecord));
    }
  }
  finally {
    indexFileReader.close();
  }
  assertEquals(2,indexRecords.size());
  assertEquals("apple",indexRecords.get(0).getKey().toString());
  LOG.debug("apple's position in the file: " + indexRecords.get(0).getValue());
  assertEquals("carrot",indexRecords.get(1).getKey().toString());
  LOG.debug("carrot's position in the file: " + indexRecords.get(1).getValue());
  LOG.debug("Checking the generated data file...");
  File dataFile=new File(directory,SortedKeyValueFile.DATA_FILENAME);
  DatumReader<GenericRecord> dataReader=new GenericDatumReader<GenericRecord>(AvroKeyValue.getSchema(options.getKeySchema(),options.getValueSchema()));
  DataFileReader<GenericRecord> dataFileReader=new DataFileReader<GenericRecord>(dataFile,dataReader);
  try {
    dataFileReader.seek(indexRecords.get(0).getValue());
    assertTrue(dataFileReader.hasNext());
    AvroKeyValue<CharSequence,CharSequence> appleRecord=new AvroKeyValue<CharSequence,CharSequence>(dataFileReader.next());
    assertEquals("apple",appleRecord.getKey().toString());
    assertEquals("Apple",appleRecord.getValue().toString());
    dataFileReader.seek(indexRecords.get(1).getValue());
    assertTrue(dataFileReader.hasNext());
    AvroKeyValue<CharSequence,CharSequence> carrotRecord=new AvroKeyValue<CharSequence,CharSequence>(dataFileReader.next());
    assertEquals("carrot",carrotRecord.getKey().toString());
    assertEquals("Carrot",carrotRecord.getValue().toString());
    assertTrue(dataFileReader.hasNext());
    AvroKeyValue<CharSequence,CharSequence> durianRecord=new AvroKeyValue<CharSequence,CharSequence>(dataFileReader.next());
    assertEquals("durian",durianRecord.getKey().toString());
    assertEquals("Durian",durianRecord.getValue().toString());
  }
  finally {
    dataFileReader.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.hadoop.io.TestAvroSequenceFile </h4><pre class="type-10 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that reading and writing ordinary Writables still works. 
 */
@Test public void testReadWritables() throws IOException {
  Path sequenceFilePath=new Path(new File(mTempDir.getRoot(),"output.seq").getPath());
  writeSequenceFile(sequenceFilePath,Text.class,IntWritable.class,null,null,new Text("one"),new IntWritable(1),new Text("two"),new IntWritable(2));
  Configuration conf=new Configuration();
  FileSystem fs=FileSystem.get(conf);
  AvroSequenceFile.Reader.Options options=new AvroSequenceFile.Reader.Options().withFileSystem(fs).withInputPath(sequenceFilePath).withConfiguration(conf);
  SequenceFile.Reader reader=new AvroSequenceFile.Reader(options);
  Text key=new Text();
  IntWritable value=new IntWritable();
  assertTrue(reader.next(key));
  assertEquals("one",key.toString());
  reader.getCurrentValue(value);
  assertNotNull(value);
  assertEquals(1,value.get());
  assertTrue(reader.next(key));
  assertEquals("two",key.toString());
  reader.getCurrentValue(value);
  assertNotNull(value);
  assertEquals(2,value.get());
  assertFalse("Should be no more records.",reader.next(key));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.hadoop.io.TestAvroSerialization </h4><pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetDeserializerForValue() throws IOException {
  Schema readerSchema=Schema.create(Schema.Type.STRING);
  Job job=new Job();
  AvroJob.setMapOutputValueSchema(job,readerSchema);
  AvroSerialization serialization=ReflectionUtils.newInstance(AvroSerialization.class,job.getConfiguration());
  @SuppressWarnings("unchecked") Deserializer<AvroWrapper> deserializer=serialization.getDeserializer(AvroValue.class);
  assertTrue(deserializer instanceof AvroValueDeserializer);
  AvroValueDeserializer avroDeserializer=(AvroValueDeserializer)deserializer;
  assertEquals(readerSchema,avroDeserializer.getReaderSchema());
}

</code></pre>

<br>
<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testRoundTrip() throws Exception {
  Schema schema=Schema.create(Schema.Type.STRING);
  assertTrue(roundTrip(schema,"record",null) instanceof String);
  assertTrue(roundTrip(schema,"record",GenericData.class) instanceof Utf8);
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetDeserializerForKey() throws IOException {
  Schema readerSchema=Schema.create(Schema.Type.STRING);
  Job job=new Job();
  AvroJob.setMapOutputKeySchema(job,readerSchema);
  AvroSerialization serialization=ReflectionUtils.newInstance(AvroSerialization.class,job.getConfiguration());
  @SuppressWarnings("unchecked") Deserializer<AvroWrapper> deserializer=serialization.getDeserializer(AvroKey.class);
  assertTrue(deserializer instanceof AvroKeyDeserializer);
  AvroKeyDeserializer avroDeserializer=(AvroKeyDeserializer)deserializer;
  assertEquals(readerSchema,avroDeserializer.getReaderSchema());
}

</code></pre>

<br>
<pre class="type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testAccept(){
  AvroSerialization<CharSequence> serialization=new AvroSerialization<CharSequence>();
  assertTrue(serialization.accept(AvroKey.class));
  assertTrue(serialization.accept(AvroValue.class));
  assertFalse(serialization.accept(AvroWrapper.class));
  assertFalse(serialization.accept(String.class));
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetSerializerForValue() throws IOException {
  Schema writerSchema=Schema.create(Schema.Type.STRING);
  Job job=new Job();
  AvroJob.setMapOutputValueSchema(job,writerSchema);
  AvroSerialization serialization=ReflectionUtils.newInstance(AvroSerialization.class,job.getConfiguration());
  @SuppressWarnings("unchecked") Serializer<AvroWrapper> serializer=serialization.getSerializer(AvroValue.class);
  assertTrue(serializer instanceof AvroSerializer);
  AvroSerializer avroSerializer=(AvroSerializer)serializer;
  assertEquals(writerSchema,avroSerializer.getWriterSchema());
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetSerializerForKey() throws IOException {
  Schema writerSchema=Schema.create(Schema.Type.STRING);
  Job job=new Job();
  AvroJob.setMapOutputKeySchema(job,writerSchema);
  AvroSerialization serialization=ReflectionUtils.newInstance(AvroSerialization.class,job.getConfiguration());
  @SuppressWarnings("unchecked") Serializer<AvroWrapper> serializer=serialization.getSerializer(AvroKey.class);
  assertTrue(serializer instanceof AvroSerializer);
  AvroSerializer avroSerializer=(AvroSerializer)serializer;
  assertEquals(writerSchema,avroSerializer.getWriterSchema());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.io.TestBinaryDecoder </h4><pre class="type-10 type-12 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSkipping() throws IOException {
  Decoder d=newDecoder(data);
  skipGenerated(d);
  if (d instanceof BinaryDecoder) {
    BinaryDecoder bd=(BinaryDecoder)d;
    try {
      Assert.assertTrue(bd.isEnd());
    }
 catch (    UnsupportedOperationException e) {
      if (bd.getClass() != DirectBinaryDecoder.class) {
        throw e;
      }
    }
    bd=factory.binaryDecoder(new ByteArrayInputStream(data),bd);
    skipGenerated(bd);
    try {
      Assert.assertTrue(bd.isEnd());
    }
 catch (    UnsupportedOperationException e) {
      if (bd.getClass() != DirectBinaryDecoder.class) {
        throw e;
      }
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testInputStreamPartiallyUsed() throws IOException {
  BinaryDecoder bd=factory.binaryDecoder(new ByteArrayInputStream(data),null);
  InputStream test=bd.inputStream();
  InputStream check=new ByteArrayInputStream(data);
  try {
    Assert.assertFalse(bd.isEnd());
  }
 catch (  UnsupportedOperationException e) {
    if (bd.getClass() != DirectBinaryDecoder.class) {
      throw e;
    }
  }
  bd.readFloat();
  check.skip(4);
  validateInputStreamReads(test,check);
}

</code></pre>

<br>
<pre class="type-10 type-12 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testInputStreamProxyDetached() throws IOException {
  Decoder d=newDecoder(data);
  if (d instanceof BinaryDecoder) {
    BinaryDecoder bd=(BinaryDecoder)d;
    InputStream test=bd.inputStream();
    InputStream check=new ByteArrayInputStream(data);
    factory.binaryDecoder(new byte[56],null);
    InputStream bad=bd.inputStream();
    InputStream check2=new ByteArrayInputStream(data);
    validateInputStreamReads(test,check);
    Assert.assertFalse(bad.read() == check2.read());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.io.TestEncoders </h4><pre class="type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testBlockingBinaryEncoderInit() throws IOException {
  OutputStream out=new ByteArrayOutputStream();
  BinaryEncoder reuse=null;
  reuse=factory.blockingBinaryEncoder(out,reuse);
  Assert.assertTrue(reuse == factory.blockingBinaryEncoder(out,reuse));
}

</code></pre>

<br>
<pre class="type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDirectBinaryEncoderInit() throws IOException {
  OutputStream out=new ByteArrayOutputStream();
  BinaryEncoder enc=factory.directBinaryEncoder(out,null);
  Assert.assertTrue(enc == factory.directBinaryEncoder(out,enc));
}

</code></pre>

<br>
<pre class="type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testBinaryEncoderInit() throws IOException {
  OutputStream out=new ByteArrayOutputStream();
  BinaryEncoder enc=factory.binaryEncoder(out,null);
  Assert.assertTrue(enc == factory.binaryEncoder(out,enc));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.io.parsing.TestResolvingGrammarGenerator2 </h4><pre class="type-10 type-2 type-4 type-3 type-17 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnionResolutionFirstStructureMatch3d() throws Exception {
  Schema read=Schema.createUnion(Arrays.asList(Schema.create(Schema.Type.NULL),point3dNoDefault,point3d,point2d));
  Symbol grammar=new ResolvingGrammarGenerator().generate(point2dFullname,read);
  Assert.assertTrue(grammar.production[1] instanceof Symbol.UnionAdjustAction);
  Symbol.UnionAdjustAction action=(Symbol.UnionAdjustAction)grammar.production[1];
  Assert.assertEquals(2,action.rindex);
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-17 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnionResolutionNamedStructureMatch() throws Exception {
  Schema read=Schema.createUnion(Arrays.asList(Schema.create(Schema.Type.NULL),point2d,point3dMatchName,point3d));
  Symbol grammar=new ResolvingGrammarGenerator().generate(point2dFullname,read);
  Assert.assertTrue(grammar.production[1] instanceof Symbol.UnionAdjustAction);
  Symbol.UnionAdjustAction action=(Symbol.UnionAdjustAction)grammar.production[1];
  Assert.assertEquals(2,action.rindex);
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-17 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnionResolutionFullNameMatch() throws Exception {
  Schema read=Schema.createUnion(Arrays.asList(Schema.create(Schema.Type.NULL),point2d,point3dMatchName,point3d,point2dFullname));
  Symbol grammar=new ResolvingGrammarGenerator().generate(point2dFullname,read);
  Assert.assertTrue(grammar.production[1] instanceof Symbol.UnionAdjustAction);
  Symbol.UnionAdjustAction action=(Symbol.UnionAdjustAction)grammar.production[1];
  Assert.assertEquals(4,action.rindex);
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-17 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnionResolutionFirstStructureMatch2d() throws Exception {
  Schema read=Schema.createUnion(Arrays.asList(Schema.create(Schema.Type.NULL),point3dNoDefault,point2d,point3d));
  Symbol grammar=new ResolvingGrammarGenerator().generate(point2dFullname,read);
  Assert.assertTrue(grammar.production[1] instanceof Symbol.UnionAdjustAction);
  Symbol.UnionAdjustAction action=(Symbol.UnionAdjustAction)grammar.production[1];
  Assert.assertEquals(2,action.rindex);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.ipc.TestNettyServer </h4><pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testBadRequest() throws IOException {
  int port=server.getPort();
  String msg="GET /status HTTP/1.1\n\n";
  InetSocketAddress sockAddr=new InetSocketAddress("127.0.0.1",port);
  Socket sock=new Socket();
  sock.connect(sockAddr);
  OutputStream out=sock.getOutputStream();
  out.write(msg.getBytes(Charset.forName("UTF-8")));
  out.flush();
  byte[] buf=new byte[2048];
  int bytesRead=sock.getInputStream().read(buf);
  Assert.assertTrue("Connection should have been closed",bytesRead == -1);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.ipc.TestNettyServerWithCallbacks </h4><pre class="type-10 type-9 type-4 type-3 type-18 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Ignore @Test public void performanceTest() throws Exception {
  final int threadCount=8;
  final long runTimeMillis=10 * 1000L;
  ExecutorService threadPool=Executors.newFixedThreadPool(threadCount);
  System.out.println("Running performance test for " + runTimeMillis + "ms...");
  final AtomicLong rpcCount=new AtomicLong(0L);
  final AtomicBoolean runFlag=new AtomicBoolean(true);
  final CountDownLatch startLatch=new CountDownLatch(threadCount);
  for (int ii=0; ii < threadCount; ii++) {
    threadPool.submit(new Runnable(){
      @Override public void run(){
        try {
          startLatch.countDown();
          startLatch.await(2,TimeUnit.SECONDS);
          while (runFlag.get()) {
            rpcCount.incrementAndGet();
            Assert.assertEquals("Hello, World!",simpleClient.hello("World!"));
          }
        }
 catch (        Exception e) {
          e.printStackTrace();
        }
      }
    }
);
  }
  startLatch.await(2,TimeUnit.SECONDS);
  Thread.sleep(runTimeMillis);
  runFlag.set(false);
  threadPool.shutdown();
  Assert.assertTrue("Timed out shutting down thread pool",threadPool.awaitTermination(2,TimeUnit.SECONDS));
  System.out.println("Completed " + rpcCount.get() + " RPCs in "+ runTimeMillis+ "ms => "+ (((double)rpcCount.get() / (double)runTimeMillis) * 1000)+ " RPCs/sec, "+ ((double)runTimeMillis / (double)rpcCount.get())+ " ms/RPC.");
}

</code></pre>

<br>
<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void ack() throws Exception {
  simpleClient.ack();
  ackLatch.get().await(2,TimeUnit.SECONDS);
  Assert.assertTrue("Expected ack flag to be set",ackFlag.get());
  ackLatch.set(new CountDownLatch(1));
  simpleClient.ack();
  ackLatch.get().await(2,TimeUnit.SECONDS);
  Assert.assertFalse("Expected ack flag to be cleared",ackFlag.get());
}

</code></pre>

<br>
<pre class="type-13 type-2 type-4 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test() public void error() throws IOException, InterruptedException, TimeoutException {
  try {
    simpleClient.error();
    Assert.fail("Expected " + TestError.class.getCanonicalName());
  }
 catch (  TestError e) {
  }
catch (  AvroRemoteException e) {
    e.printStackTrace();
    Assert.fail("Unexpected error: " + e.toString());
  }
  CallFuture<Void> future=new CallFuture<Void>();
  simpleClient.error(future);
  try {
    future.get(2,TimeUnit.SECONDS);
    Assert.fail("Expected " + TestError.class.getCanonicalName() + " to be thrown");
  }
 catch (  ExecutionException e) {
    Assert.assertTrue("Expected " + TestError.class.getCanonicalName(),e.getCause() instanceof TestError);
  }
  Assert.assertNotNull(future.getError());
  Assert.assertTrue("Expected " + TestError.class.getCanonicalName(),future.getError() instanceof TestError);
  Assert.assertNull(future.getResult());
  final CountDownLatch latch=new CountDownLatch(1);
  final AtomicReference<Throwable> errorRef=new AtomicReference<Throwable>();
  simpleClient.error(new Callback<Void>(){
    @Override public void handleResult(    Void result){
      Assert.fail("Expected " + TestError.class.getCanonicalName());
    }
    @Override public void handleError(    Throwable error){
      errorRef.set(error);
      latch.countDown();
    }
  }
);
  Assert.assertTrue("Timed out waiting for error",latch.await(2,TimeUnit.SECONDS));
  Assert.assertNotNull(errorRef.get());
  Assert.assertTrue(errorRef.get() instanceof TestError);
}

</code></pre>

<br>
<pre class="type-10 type-13 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void cancelPendingRequestsOnTransceiverClose() throws Exception {
  BlockingSimpleImpl blockingSimpleImpl=new BlockingSimpleImpl();
  Server server2=new NettyServer(new SpecificResponder(Simple.class,blockingSimpleImpl),new InetSocketAddress(0));
  server2.start();
  try {
    int serverPort=server2.getPort();
    System.out.println("server2 port : " + serverPort);
    CallFuture<Integer> addFuture=new CallFuture<Integer>();
    Transceiver transceiver2=new NettyTransceiver(new InetSocketAddress(serverPort),TestNettyServer.CONNECT_TIMEOUT_MILLIS);
    try {
      Simple.Callback simpleClient2=SpecificRequestor.getClient(Simple.Callback.class,transceiver2);
      Assert.assertEquals(3,simpleClient2.add(1,2));
      blockingSimpleImpl.acquireRunPermit();
      simpleClient2.add(1,2,addFuture);
    }
  finally {
      transceiver2.close();
    }
    boolean ioeThrown=false;
    try {
      addFuture.get();
    }
 catch (    ExecutionException e) {
      ioeThrown=e.getCause() instanceof IOException;
      Assert.assertTrue(e.getCause() instanceof IOException);
    }
catch (    Exception e) {
      e.printStackTrace();
      Assert.fail("Unexpected Exception: " + e.toString());
    }
    Assert.assertTrue("Expected IOException to be thrown",ioeThrown);
  }
  finally {
    blockingSimpleImpl.releaseRunPermit();
    server2.close();
  }
}

</code></pre>

<br>
<pre class="type-10 type-13 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSendAfterChannelClose() throws Exception {
  Server server2=new NettyServer(new SpecificResponder(Simple.class,simpleService),new InetSocketAddress(0));
  server2.start();
  try {
    int serverPort=server2.getPort();
    System.out.println("server2 port : " + serverPort);
    Transceiver transceiver2=new NettyTransceiver(new InetSocketAddress(serverPort),TestNettyServer.CONNECT_TIMEOUT_MILLIS);
    try {
      Simple.Callback simpleClient2=SpecificRequestor.getClient(Simple.Callback.class,transceiver2);
      Assert.assertEquals(3,simpleClient2.add(1,2));
      CallFuture<Integer> addFuture=new CallFuture<Integer>();
      simpleClient2.add(1,2,addFuture);
      Assert.assertEquals(new Integer(3),addFuture.get());
      server2.close();
      Thread.sleep(1000L);
      boolean ioeCaught=false;
      try {
        simpleClient2.add(1,2);
        Assert.fail("Send after server close should have thrown Exception");
      }
 catch (      AvroRemoteException e) {
        ioeCaught=e.getCause() instanceof IOException;
        Assert.assertTrue("Expected IOException",ioeCaught);
      }
catch (      Exception e) {
        e.printStackTrace();
        throw e;
      }
      Assert.assertTrue("Expected IOException",ioeCaught);
      ioeCaught=false;
      try {
        addFuture=new CallFuture<Integer>();
        simpleClient2.add(1,2,addFuture);
        addFuture.get();
        Assert.fail("Send after server close should have thrown Exception");
      }
 catch (      IOException e) {
        ioeCaught=true;
      }
catch (      Exception e) {
        e.printStackTrace();
        throw e;
      }
      Assert.assertTrue("Expected IOException",ioeCaught);
    }
  finally {
      transceiver2.close();
    }
  }
  finally {
    server2.close();
  }
}

</code></pre>

<br>
<pre class="type-10 type-13 type-2 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void cancelPendingRequestsAfterChannelCloseByServerShutdown() throws Exception {
  BlockingSimpleImpl blockingSimpleImpl=new BlockingSimpleImpl();
  Server server2=new NettyServer(new SpecificResponder(Simple.class,blockingSimpleImpl),new InetSocketAddress(0));
  server2.start();
  Transceiver transceiver2=null;
  try {
    int serverPort=server2.getPort();
    System.out.println("server2 port : " + serverPort);
    transceiver2=new NettyTransceiver(new InetSocketAddress(serverPort),TestNettyServer.CONNECT_TIMEOUT_MILLIS);
    final Simple.Callback simpleClient2=SpecificRequestor.getClient(Simple.Callback.class,transceiver2);
    blockingSimpleImpl.acquireEnterPermit();
    blockingSimpleImpl.acquireRunPermit();
    Thread t=new Thread(new Runnable(){
      @Override public void run(){
        try {
          simpleClient2.add(3,4);
          Assert.fail("Expected an exception");
        }
 catch (        Exception e) {
        }
      }
    }
);
    t.start();
    blockingSimpleImpl.acquireEnterPermit();
    server2.close();
    t.join(10000);
    Assert.assertFalse("Client request should not be blocked on server shutdown",t.isAlive());
  }
  finally {
    blockingSimpleImpl.releaseRunPermit();
    server2.close();
    if (transceiver2 != null)     transceiver2.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.ipc.stats.TestHistogram </h4><pre class="type-9 type-12 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicOperation(){
  Segmenter<String,Integer> s=new Histogram.TreeMapSegmenter<Integer>(new TreeSet<Integer>(Arrays.asList(0,1,2,4,8,16)));
  Histogram<String,Integer> h=new Histogram<String,Integer>(s);
  for (int i=0; i < 20; ++i) {
    h.add(i);
  }
  assertEquals(20,h.getCount());
  assertArrayEquals(new int[]{1,1,2,4,8,4},h.getHistogram());
  assertEquals("[0,1)=1;[1,2)=1;[2,4)=2;[4,8)=4;[8,16)=8;[16,infinity)=4",h.toString());
  String[] correctBucketLabels={"[0,1)","[1,2)","[2,4)","[4,8)","[8,16)","[16,infinity)"};
  int pos=0;
  Iterator<String> it=h.getSegmenter().getBuckets();
  while (it.hasNext()) {
    assertEquals(correctBucketLabels[pos],it.next());
    pos=pos + 1;
  }
  assertEquals(correctBucketLabels.length,pos);
  List<String> labels=h.getSegmenter().getBucketLabels();
  assertEquals(correctBucketLabels.length,labels.size());
  if (labels.size() == correctBucketLabels.length) {
    for (int i=0; i < labels.size(); i++) {
      assertEquals(correctBucketLabels[i],labels.get(i));
    }
  }
  String[] correctBoundryLabels={"0","1","2","4","8","16"};
  List<String> boundryLabels=h.getSegmenter().getBoundaryLabels();
  assertEquals(correctBoundryLabels.length,boundryLabels.size());
  if (boundryLabels.size() == correctBoundryLabels.length) {
    for (int i=0; i < boundryLabels.size(); i++) {
      assertEquals(correctBoundryLabels[i],boundryLabels.get(i));
    }
  }
  List<Entry<String>> entries=new ArrayList<Entry<String>>();
  for (  Entry<String> entry : h.entries()) {
    entries.add(entry);
  }
  assertEquals("[0,1)",entries.get(0).bucket);
  assertEquals(4,entries.get(5).count);
  assertEquals(6,entries.size());
  h.add(1010);
  h.add(9191);
  List<Integer> recent=h.getRecentAdditions();
  assertTrue(recent.contains(1010));
  assertTrue(recent.contains(9191));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.ipc.stats.TestStatsPluginAndServlet </h4><pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testFullServerPath() throws IOException {
  Responder r=new TestResponder(protocol);
  StatsPlugin statsPlugin=new StatsPlugin();
  r.addRPCPlugin(statsPlugin);
  Transceiver t=new LocalTransceiver(r);
  for (int i=0; i < 10; ++i) {
    makeRequest(t);
  }
  String o=generateServletResponse(statsPlugin);
  assertTrue(o.contains("10 calls"));
}

</code></pre>

<br>
<pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testPayloadSize() throws IOException {
  Responder r=new TestResponder(protocol);
  StatsPlugin statsPlugin=new StatsPlugin();
  r.addRPCPlugin(statsPlugin);
  Transceiver t=new LocalTransceiver(r);
  makeRequest(t);
  String resp=generateServletResponse(statsPlugin);
  assertTrue(resp.contains("Average: 2.0"));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testMultipleRPCs() throws IOException {
  FakeTicks t=new FakeTicks();
  StatsPlugin statsPlugin=new StatsPlugin(t,StatsPlugin.LATENCY_SEGMENTER,StatsPlugin.PAYLOAD_SEGMENTER);
  RPCContext context1=makeContext();
  RPCContext context2=makeContext();
  statsPlugin.serverReceiveRequest(context1);
  t.passTime(100 * MS);
  statsPlugin.serverReceiveRequest(context2);
  String r=generateServletResponse(statsPlugin);
  assertTrue(r.contains("m: 0ms"));
  assertTrue(r.contains("m: 100ms"));
  statsPlugin.serverSendResponse(context1);
  t.passTime(900 * MS);
  statsPlugin.serverSendResponse(context2);
  r=generateServletResponse(statsPlugin);
  assertTrue(r.contains("Average: 500.0ms"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.ipc.stats.TestStopwatch </h4><pre class="type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSystemStopwatch(){
  Stopwatch s=new Stopwatch(Stopwatch.SYSTEM_TICKS);
  s.start();
  s.stop();
  assertTrue(s.elapsedNanos() >= 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.mapred.TestAvroInputFormat </h4><pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("rawtypes") @Test public void testIgnoreFilesWithoutExtension() throws Exception {
  fs.mkdirs(inputDir);
  Path avroFile=new Path(inputDir,"somefile.avro");
  Path textFile=new Path(inputDir,"someotherfile.txt");
  fs.create(avroFile).close();
  fs.create(textFile).close();
  FileInputFormat.setInputPaths(conf,inputDir);
  AvroInputFormat inputFormat=new AvroInputFormat();
  FileStatus[] statuses=inputFormat.listStatus(conf);
  Assert.assertEquals(1,statuses.length);
  Assert.assertEquals("somefile.avro",statuses[0].getPath().getName());
  conf.setBoolean(AvroInputFormat.IGNORE_FILES_WITHOUT_EXTENSION_KEY,false);
  statuses=inputFormat.listStatus(conf);
  Assert.assertEquals(2,statuses.length);
  Set<String> names=new HashSet<String>();
  names.add(statuses[0].getPath().getName());
  names.add(statuses[1].getPath().getName());
  Assert.assertTrue(names.contains("somefile.avro"));
  Assert.assertTrue(names.contains("someotherfile.txt"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.mapred.TestAvroOutputFormat </h4><pre class="type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testNoCodec() throws UnsupportedEncodingException {
  JobConf job=new JobConf();
  assertTrue(AvroOutputFormat.getCodecFactory(job) == null);
  job=new JobConf();
  job.set("mapred.output.compress","false");
  job.set("mapred.output.compression.codec","org.apache.hadoop.io.compress.BZip2Codec");
  assertTrue(AvroOutputFormat.getCodecFactory(job) == null);
  job=new JobConf();
  job.set("mapred.output.compress","false");
  job.set(AvroJob.OUTPUT_CODEC,"bzip2");
  assertTrue(AvroOutputFormat.getCodecFactory(job) == null);
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSnappyCodecUsingHadoopClass() throws UnsupportedEncodingException {
  CodecFactory avroSnappyCodec=CodecFactory.fromString("snappy");
  JobConf job=new JobConf();
  job.set("mapred.output.compress","true");
  job.set("mapred.output.compression.codec","org.apache.hadoop.io.compress.SnappyCodec");
  CodecFactory factory=AvroOutputFormat.getCodecFactory(job);
  assertTrue(factory != null);
  assertTrue(factory.getClass().equals(avroSnappyCodec.getClass()));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDeflateCodecUsingHadoopClass() throws UnsupportedEncodingException {
  CodecFactory avroDeflateCodec=CodecFactory.fromString("deflate");
  JobConf job=new JobConf();
  job.set("mapred.output.compress","true");
  job.set("mapred.output.compression.codec","org.apache.hadoop.io.compress.DeflateCodec");
  CodecFactory factory=AvroOutputFormat.getCodecFactory(job);
  assertTrue(factory != null);
  assertTrue(factory.getClass().equals(avroDeflateCodec.getClass()));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSnappyCodecUsingAvroCodec() throws UnsupportedEncodingException {
  CodecFactory avroSnappyCodec=CodecFactory.fromString("snappy");
  JobConf job=new JobConf();
  job.set("mapred.output.compress","true");
  job.set(AvroJob.OUTPUT_CODEC,"snappy");
  CodecFactory factory=AvroOutputFormat.getCodecFactory(job);
  assertTrue(factory != null);
  assertTrue(factory.getClass().equals(avroSnappyCodec.getClass()));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGZipCodecUsingHadoopClass() throws UnsupportedEncodingException {
  CodecFactory avroDeflateCodec=CodecFactory.fromString("deflate");
  JobConf job=new JobConf();
  job.set("mapred.output.compress","true");
  job.set("mapred.output.compression.codec","org.apache.hadoop.io.compress.GZipCodec");
  CodecFactory factory=AvroOutputFormat.getCodecFactory(job);
  assertTrue(factory != null);
  assertTrue(factory.getClass().equals(avroDeflateCodec.getClass()));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testBZip2CodecUsingAvroCodec() throws UnsupportedEncodingException {
  CodecFactory avroBZip2Codec=CodecFactory.fromString("bzip2");
  JobConf job=new JobConf();
  job.set("mapred.output.compress","true");
  job.set(AvroJob.OUTPUT_CODEC,"bzip2");
  CodecFactory factory=AvroOutputFormat.getCodecFactory(job);
  assertTrue(factory != null);
  assertTrue(factory.getClass().equals(avroBZip2Codec.getClass()));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDeflateCodecUsingAvroCodec() throws UnsupportedEncodingException {
  CodecFactory avroDeflateCodec=CodecFactory.fromString("deflate");
  JobConf job=new JobConf();
  job.set("mapred.output.compress","true");
  job.set(AvroJob.OUTPUT_CODEC,"deflate");
  CodecFactory factory=AvroOutputFormat.getCodecFactory(job);
  assertTrue(factory != null);
  assertTrue(factory.getClass().equals(avroDeflateCodec.getClass()));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testBZip2CodecUsingHadoopClass() throws UnsupportedEncodingException {
  CodecFactory avroBZip2Codec=CodecFactory.fromString("bzip2");
  JobConf job=new JobConf();
  job.set("mapred.output.compress","true");
  job.set("mapred.output.compression.codec","org.apache.hadoop.io.compress.BZip2Codec");
  CodecFactory factory=AvroOutputFormat.getCodecFactory(job);
  assertTrue(factory != null);
  assertTrue(factory.getClass().equals(avroBZip2Codec.getClass()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.mapred.TestAvroTextOutputFormat </h4><pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAvroTextRecordWriter() throws Exception {
  File file=new File(System.getProperty("test.dir","."),"writer");
  Schema schema=Schema.create(Schema.Type.BYTES);
  DatumWriter<ByteBuffer> datumWriter=new GenericDatumWriter<ByteBuffer>(schema);
  DataFileWriter<ByteBuffer> fileWriter=new DataFileWriter<ByteBuffer>(datumWriter);
  fileWriter.create(schema,file);
  RecordWriter<Object,Object> rw=new AvroTextOutputFormat<Object,Object>().new AvroTextRecordWriter(fileWriter,"\t".getBytes(UTF8));
  rw.write(null,null);
  rw.write(null,NullWritable.get());
  rw.write(NullWritable.get(),null);
  rw.write(NullWritable.get(),NullWritable.get());
  rw.write("k1",null);
  rw.write("k2",NullWritable.get());
  rw.write(null,"v1");
  rw.write(NullWritable.get(),"v2");
  rw.write("k3","v3");
  rw.write(new Text("k4"),new Text("v4"));
  rw.close(null);
  DatumReader<ByteBuffer> reader=new GenericDatumReader<ByteBuffer>();
  DataFileReader<ByteBuffer> fileReader=new DataFileReader<ByteBuffer>(file,reader);
  assertEquals("k1",asString(fileReader.next()));
  assertEquals("k2",asString(fileReader.next()));
  assertEquals("v1",asString(fileReader.next()));
  assertEquals("v2",asString(fileReader.next()));
  assertEquals("k3\tv3",asString(fileReader.next()));
  assertEquals("k4\tv4",asString(fileReader.next()));
  assertFalse("End",fileReader.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.mapred.TestPair </h4><pre class="type-13 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCollectionFailure() throws Exception {
  try {
    new Pair("foo",new ArrayList());
  }
 catch (  AvroRuntimeException e) {
    assertTrue(e.getMessage().startsWith("Cannot infer schema"));
    return;
  }
  fail("Expected an AvroRuntimeException");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.mapreduce.TestAvroKeyRecordReader </h4><pre class="type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verifies that avro records can be read and progress is reported correctly.
 */
@Test public void testReadRecords() throws IOException, InterruptedException {
  final SeekableInput avroFileInput=new SeekableFileInput(AvroFiles.createFile(new File(mTempDir.getRoot(),"myStringfile.avro"),Schema.create(Schema.Type.STRING),"first","second"));
  Schema readerSchema=Schema.create(Schema.Type.STRING);
  RecordReader<AvroKey<CharSequence>,NullWritable> recordReader=new AvroKeyRecordReader<CharSequence>(readerSchema){
    @Override protected SeekableInput createSeekableInput(    Configuration conf,    Path path) throws IOException {
      return avroFileInput;
    }
  }
;
  Configuration conf=new Configuration();
  FileSplit inputSplit=createMock(FileSplit.class);
  expect(inputSplit.getPath()).andReturn(new Path("/path/to/an/avro/file")).anyTimes();
  expect(inputSplit.getStart()).andReturn(0L).anyTimes();
  expect(inputSplit.getLength()).andReturn(avroFileInput.length()).anyTimes();
  TaskAttemptContext context=createMock(TaskAttemptContext.class);
  expect(context.getConfiguration()).andReturn(conf).anyTimes();
  replay(inputSplit);
  replay(context);
  recordReader.initialize(inputSplit,context);
  assertEquals("Progress should be zero before any records are read",0.0f,recordReader.getProgress(),0.0f);
  AvroKey<CharSequence> key;
  NullWritable value;
  assertTrue("Expected at least one record",recordReader.nextKeyValue());
  key=recordReader.getCurrentKey();
  value=recordReader.getCurrentValue();
  assertNotNull("First record had null key",key);
  assertNotNull("First record had null value",value);
  CharSequence firstString=key.datum();
  assertEquals("first",firstString.toString());
  assertTrue("getCurrentKey() returned different keys for the same record",key == recordReader.getCurrentKey());
  assertTrue("getCurrentValue() returned different values for the same record",value == recordReader.getCurrentValue());
  assertTrue("Expected to read a second record",recordReader.nextKeyValue());
  key=recordReader.getCurrentKey();
  value=recordReader.getCurrentValue();
  assertNotNull("Second record had null key",key);
  assertNotNull("Second record had null value",value);
  CharSequence secondString=key.datum();
  assertEquals("second",secondString.toString());
  assertEquals("Progress should be complete (2 out of 2 records processed)",1.0f,recordReader.getProgress(),0.0f);
  assertFalse("Expected only 2 records",recordReader.nextKeyValue());
  recordReader.close();
  verify(inputSplit);
  verify(context);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.mapreduce.TestAvroKeyRecordWriter </h4><pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSycnableWrite() throws IOException {
  Schema writerSchema=Schema.create(Schema.Type.INT);
  GenericData dataModel=new ReflectData();
  CodecFactory compressionCodec=CodecFactory.nullCodec();
  FileOutputStream outputStream=new FileOutputStream(new File("target/temp.avro"));
  TaskAttemptContext context=createMock(TaskAttemptContext.class);
  replay(context);
  AvroKeyRecordWriter<Integer> recordWriter=new AvroKeyRecordWriter<Integer>(writerSchema,dataModel,compressionCodec,outputStream);
  long positionOne=recordWriter.sync();
  recordWriter.write(new AvroKey<Integer>(1),NullWritable.get());
  long positionTwo=recordWriter.sync();
  recordWriter.write(new AvroKey<Integer>(2),NullWritable.get());
  recordWriter.close(context);
  verify(context);
  Configuration conf=new Configuration();
  conf.set("fs.default.name","file:///");
  Path avroFile=new Path("target/temp.avro");
  DataFileReader<GenericData.Record> dataFileReader=new DataFileReader<GenericData.Record>(new FsInput(avroFile,conf),new SpecificDatumReader<GenericData.Record>());
  dataFileReader.seek(positionTwo);
  assertTrue(dataFileReader.hasNext());
  assertEquals(2,dataFileReader.next());
  dataFileReader.seek(positionOne);
  assertTrue(dataFileReader.hasNext());
  assertEquals(1,dataFileReader.next());
  dataFileReader.close();
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWrite() throws IOException {
  Schema writerSchema=Schema.create(Schema.Type.INT);
  GenericData dataModel=new ReflectData();
  CodecFactory compressionCodec=CodecFactory.nullCodec();
  ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  TaskAttemptContext context=createMock(TaskAttemptContext.class);
  replay(context);
  AvroKeyRecordWriter<Integer> recordWriter=new AvroKeyRecordWriter<Integer>(writerSchema,dataModel,compressionCodec,outputStream);
  recordWriter.write(new AvroKey<Integer>(1),NullWritable.get());
  recordWriter.write(new AvroKey<Integer>(2),NullWritable.get());
  recordWriter.close(context);
  verify(context);
  InputStream inputStream=new ByteArrayInputStream(outputStream.toByteArray());
  Schema readerSchema=Schema.create(Schema.Type.INT);
  DatumReader<Integer> datumReader=new SpecificDatumReader<Integer>(readerSchema);
  DataFileStream<Integer> dataFileReader=new DataFileStream<Integer>(inputStream,datumReader);
  assertTrue(dataFileReader.hasNext());
  assertEquals(1,dataFileReader.next().intValue());
  assertTrue(dataFileReader.hasNext());
  assertEquals(2,dataFileReader.next().intValue());
  assertFalse(dataFileReader.hasNext());
  dataFileReader.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.mapreduce.TestAvroKeyValueRecordReader </h4><pre class="type-10 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verifies that avro records can be read and progress is reported correctly.
 */
@Test public void testReadRecords() throws IOException, InterruptedException {
  Schema keyValueSchema=AvroKeyValue.getSchema(Schema.create(Schema.Type.STRING),Schema.create(Schema.Type.INT));
  AvroKeyValue<CharSequence,Integer> firstInputRecord=new AvroKeyValue<CharSequence,Integer>(new GenericData.Record(keyValueSchema));
  firstInputRecord.setKey("first");
  firstInputRecord.setValue(1);
  AvroKeyValue<CharSequence,Integer> secondInputRecord=new AvroKeyValue<CharSequence,Integer>(new GenericData.Record(keyValueSchema));
  secondInputRecord.setKey("second");
  secondInputRecord.setValue(2);
  final SeekableInput avroFileInput=new SeekableFileInput(AvroFiles.createFile(new File(mTempDir.getRoot(),"myInputFile.avro"),keyValueSchema,firstInputRecord.get(),secondInputRecord.get()));
  RecordReader<AvroKey<CharSequence>,AvroValue<Integer>> recordReader=new AvroKeyValueRecordReader<CharSequence,Integer>(Schema.create(Schema.Type.STRING),Schema.create(Schema.Type.INT)){
    @Override protected SeekableInput createSeekableInput(    Configuration conf,    Path path) throws IOException {
      return avroFileInput;
    }
  }
;
  Configuration conf=new Configuration();
  FileSplit inputSplit=createMock(FileSplit.class);
  expect(inputSplit.getPath()).andReturn(new Path("/path/to/an/avro/file")).anyTimes();
  expect(inputSplit.getStart()).andReturn(0L).anyTimes();
  expect(inputSplit.getLength()).andReturn(avroFileInput.length()).anyTimes();
  TaskAttemptContext context=createMock(TaskAttemptContext.class);
  expect(context.getConfiguration()).andReturn(conf).anyTimes();
  replay(inputSplit);
  replay(context);
  recordReader.initialize(inputSplit,context);
  assertEquals("Progress should be zero before any records are read",0.0f,recordReader.getProgress(),0.0f);
  AvroKey<CharSequence> key;
  AvroValue<Integer> value;
  assertTrue("Expected at least one record",recordReader.nextKeyValue());
  key=recordReader.getCurrentKey();
  value=recordReader.getCurrentValue();
  assertNotNull("First record had null key",key);
  assertNotNull("First record had null value",value);
  assertEquals("first",key.datum().toString());
  assertEquals(1,value.datum().intValue());
  assertTrue("getCurrentKey() returned different keys for the same record",key == recordReader.getCurrentKey());
  assertTrue("getCurrentValue() returned different values for the same record",value == recordReader.getCurrentValue());
  assertTrue("Expected to read a second record",recordReader.nextKeyValue());
  key=recordReader.getCurrentKey();
  value=recordReader.getCurrentValue();
  assertNotNull("Second record had null key",key);
  assertNotNull("Second record had null value",value);
  assertEquals("second",key.datum().toString());
  assertEquals(2,value.datum().intValue());
  assertEquals("Progress should be complete (2 out of 2 records processed)",1.0f,recordReader.getProgress(),0.0f);
  assertFalse("Expected only 2 records",recordReader.nextKeyValue());
  recordReader.close();
  verify(inputSplit);
  verify(context);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.mapreduce.TestAvroKeyValueRecordWriter </h4><pre class="type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSyncableWriteRecords() throws IOException {
  Job job=new Job();
  AvroJob.setOutputValueSchema(job,TextStats.SCHEMA$);
  TaskAttemptContext context=createMock(TaskAttemptContext.class);
  replay(context);
  AvroDatumConverterFactory factory=new AvroDatumConverterFactory(job.getConfiguration());
  AvroDatumConverter<Text,?> keyConverter=factory.create(Text.class);
  AvroValue<TextStats> avroValue=new AvroValue<TextStats>(null);
  @SuppressWarnings("unchecked") AvroDatumConverter<AvroValue<TextStats>,?> valueConverter=factory.create((Class<AvroValue<TextStats>>)avroValue.getClass());
  CodecFactory compressionCodec=CodecFactory.nullCodec();
  FileOutputStream outputStream=new FileOutputStream(new File("target/temp.avro"));
  AvroKeyValueRecordWriter<Text,AvroValue<TextStats>> writer=new AvroKeyValueRecordWriter<Text,AvroValue<TextStats>>(keyConverter,valueConverter,new ReflectData(),compressionCodec,outputStream);
  TextStats appleStats=new TextStats();
  appleStats.name="apple";
  long pointOne=writer.sync();
  writer.write(new Text("apple"),new AvroValue<TextStats>(appleStats));
  TextStats bananaStats=new TextStats();
  bananaStats.name="banana";
  long pointTwo=writer.sync();
  writer.write(new Text("banana"),new AvroValue<TextStats>(bananaStats));
  writer.close(context);
  verify(context);
  Configuration conf=new Configuration();
  conf.set("fs.default.name","file:///");
  Path avroFile=new Path("target/temp.avro");
  DataFileReader<GenericData.Record> avroFileReader=new DataFileReader<GenericData.Record>(new FsInput(avroFile,conf),new SpecificDatumReader<GenericData.Record>());
  avroFileReader.seek(pointTwo);
  assertTrue(avroFileReader.hasNext());
  AvroKeyValue<CharSequence,TextStats> secondRecord=new AvroKeyValue<CharSequence,TextStats>(avroFileReader.next());
  assertNotNull(secondRecord.get());
  assertEquals("banana",secondRecord.getKey().toString());
  assertEquals("banana",secondRecord.getValue().name.toString());
  avroFileReader.seek(pointOne);
  assertTrue(avroFileReader.hasNext());
  AvroKeyValue<CharSequence,TextStats> firstRecord=new AvroKeyValue<CharSequence,TextStats>(avroFileReader.next());
  assertNotNull(firstRecord.get());
  assertEquals("apple",firstRecord.getKey().toString());
  assertEquals("apple",firstRecord.getValue().name.toString());
  avroFileReader.close();
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWriteRecords() throws IOException {
  Job job=new Job();
  AvroJob.setOutputValueSchema(job,TextStats.SCHEMA$);
  TaskAttemptContext context=createMock(TaskAttemptContext.class);
  replay(context);
  AvroDatumConverterFactory factory=new AvroDatumConverterFactory(job.getConfiguration());
  AvroDatumConverter<Text,?> keyConverter=factory.create(Text.class);
  AvroValue<TextStats> avroValue=new AvroValue<TextStats>(null);
  @SuppressWarnings("unchecked") AvroDatumConverter<AvroValue<TextStats>,?> valueConverter=factory.create((Class<AvroValue<TextStats>>)avroValue.getClass());
  CodecFactory compressionCodec=CodecFactory.nullCodec();
  ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  AvroKeyValueRecordWriter<Text,AvroValue<TextStats>> writer=new AvroKeyValueRecordWriter<Text,AvroValue<TextStats>>(keyConverter,valueConverter,new ReflectData(),compressionCodec,outputStream);
  TextStats appleStats=new TextStats();
  appleStats.name="apple";
  writer.write(new Text("apple"),new AvroValue<TextStats>(appleStats));
  TextStats bananaStats=new TextStats();
  bananaStats.name="banana";
  writer.write(new Text("banana"),new AvroValue<TextStats>(bananaStats));
  writer.close(context);
  verify(context);
  ByteArrayInputStream inputStream=new ByteArrayInputStream(outputStream.toByteArray());
  Schema readerSchema=AvroKeyValue.getSchema(Schema.create(Schema.Type.STRING),TextStats.SCHEMA$);
  DatumReader<GenericRecord> datumReader=new SpecificDatumReader<GenericRecord>(readerSchema);
  DataFileStream<GenericRecord> avroFileReader=new DataFileStream<GenericRecord>(inputStream,datumReader);
  assertTrue(avroFileReader.hasNext());
  AvroKeyValue<CharSequence,TextStats> firstRecord=new AvroKeyValue<CharSequence,TextStats>(avroFileReader.next());
  assertNotNull(firstRecord.get());
  assertEquals("apple",firstRecord.getKey().toString());
  assertEquals("apple",firstRecord.getValue().name.toString());
  assertTrue(avroFileReader.hasNext());
  AvroKeyValue<CharSequence,TextStats> secondRecord=new AvroKeyValue<CharSequence,TextStats>(avroFileReader.next());
  assertNotNull(secondRecord.get());
  assertEquals("banana",secondRecord.getKey().toString());
  assertEquals("banana",secondRecord.getValue().name.toString());
  assertFalse(avroFileReader.hasNext());
  avroFileReader.close();
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUsingReflection() throws Exception {
  Job job=new Job();
  Schema schema=ReflectData.get().getSchema(R1.class);
  AvroJob.setOutputValueSchema(job,schema);
  TaskAttemptContext context=createMock(TaskAttemptContext.class);
  replay(context);
  R1 record=new R1();
  record.attribute="test";
  AvroValue<R1> avroValue=new AvroValue<R1>(record);
  ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  AvroDatumConverterFactory factory=new AvroDatumConverterFactory(job.getConfiguration());
  AvroDatumConverter<Text,?> keyConverter=factory.create(Text.class);
  @SuppressWarnings("unchecked") AvroDatumConverter<AvroValue<R1>,R1> valueConverter=factory.create((Class<AvroValue<R1>>)avroValue.getClass());
  AvroKeyValueRecordWriter<Text,AvroValue<R1>> writer=new AvroKeyValueRecordWriter<Text,AvroValue<R1>>(keyConverter,valueConverter,new ReflectData(),CodecFactory.nullCodec(),outputStream);
  writer.write(new Text("reflectionData"),avroValue);
  writer.close(context);
  verify(context);
  ByteArrayInputStream inputStream=new ByteArrayInputStream(outputStream.toByteArray());
  Schema readerSchema=AvroKeyValue.getSchema(Schema.create(Schema.Type.STRING),schema);
  DatumReader<GenericRecord> datumReader=new ReflectDatumReader<GenericRecord>(readerSchema);
  DataFileStream<GenericRecord> avroFileReader=new DataFileStream<GenericRecord>(inputStream,datumReader);
  assertTrue(avroFileReader.hasNext());
  AvroKeyValue<CharSequence,R1> firstRecord=new AvroKeyValue<CharSequence,R1>(avroFileReader.next());
  assertNotNull(firstRecord.get());
  assertEquals("reflectionData",firstRecord.getKey().toString());
  assertEquals(record.attribute,firstRecord.getValue().attribute);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.mapreduce.TestAvroMultipleOutputs </h4><pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAvroInput() throws Exception {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.avro").toURI().toString()));
  job.setInputFormatClass(AvroKeyInputFormat.class);
  AvroJob.setInputKeySchema(job,TextStats.SCHEMA$);
  AvroMultipleOutputs.addNamedOutput(job,"myavro3",AvroKeyOutputFormat.class,TextStats.SCHEMA$,null);
  job.setMapperClass(StatCountMapper.class);
  job.setMapOutputKeyClass(Text.class);
  job.setMapOutputValueClass(IntWritable.class);
  job.setReducerClass(SpecificStatsReducer.class);
  AvroJob.setOutputKeySchema(job,TextStats.SCHEMA$);
  job.setOutputFormatClass(AvroKeyOutputFormat.class);
  Path outputPath=new Path(tmpFolder.getRoot().getPath() + "/out-specific-input");
  FileOutputFormat.setOutputPath(job,outputPath);
  Assert.assertTrue(job.waitForCompletion(true));
  FileSystem fileSystem=FileSystem.get(job.getConfiguration());
  FileStatus[] outputFiles=fileSystem.globStatus(outputPath.suffix("/myavro3-*"));
  Assert.assertEquals(1,outputFiles.length);
  DataFileReader<TextStats> reader=new DataFileReader<TextStats>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new SpecificDatumReader<TextStats>());
  Map<String,Integer> counts=new HashMap<String,Integer>();
  for (  TextStats record : reader) {
    counts.put(record.name.toString(),record.count);
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAvroGenericOutput() throws Exception {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.txt").toURI().toString()));
  job.setInputFormatClass(TextInputFormat.class);
  job.setMapperClass(LineCountMapper.class);
  job.setMapOutputKeyClass(Text.class);
  job.setMapOutputValueClass(IntWritable.class);
  job.setReducerClass(GenericStatsReducer.class);
  AvroJob.setOutputKeySchema(job,STATS_SCHEMA);
  AvroMultipleOutputs.addNamedOutput(job,"myavro",AvroKeyOutputFormat.class,STATS_SCHEMA,null);
  AvroMultipleOutputs.addNamedOutput(job,"myavro1",AvroKeyOutputFormat.class,STATS_SCHEMA_2);
  job.setOutputFormatClass(AvroKeyOutputFormat.class);
  String dir=System.getProperty("test.dir",".") + "/mapred";
  Path outputPath=new Path(dir + "/out");
  outputPath.getFileSystem(job.getConfiguration()).delete(outputPath);
  FileOutputFormat.setOutputPath(job,outputPath);
  Assert.assertTrue(job.waitForCompletion(true));
  FileSystem fileSystem=FileSystem.get(job.getConfiguration());
  FileStatus[] outputFiles=fileSystem.globStatus(outputPath.suffix("/myavro-r-00000.avro"));
  Assert.assertEquals(1,outputFiles.length);
  DataFileReader<GenericData.Record> reader=new DataFileReader<GenericData.Record>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new GenericDatumReader<GenericData.Record>(STATS_SCHEMA));
  Map<String,Integer> counts=new HashMap<String,Integer>();
  for (  GenericData.Record record : reader) {
    counts.put(((Utf8)record.get("name")).toString(),(Integer)record.get("count"));
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
  outputFiles=fileSystem.globStatus(outputPath.suffix("/myavro1-r-00000.avro"));
  Assert.assertEquals(1,outputFiles.length);
  reader=new DataFileReader<GenericData.Record>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new GenericDatumReader<GenericData.Record>(STATS_SCHEMA_2));
  counts=new HashMap<String,Integer>();
  for (  GenericData.Record record : reader) {
    counts.put(((Utf8)record.get("name1")).toString(),(Integer)record.get("count1"));
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
  outputFiles=fileSystem.globStatus(outputPath.suffix("/testnewwrite-r-00000.avro"));
  Assert.assertEquals(1,outputFiles.length);
  reader=new DataFileReader<GenericData.Record>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new GenericDatumReader<GenericData.Record>(STATS_SCHEMA));
  counts=new HashMap<String,Integer>();
  for (  GenericData.Record record : reader) {
    counts.put(((Utf8)record.get("name")).toString(),(Integer)record.get("count"));
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
  outputFiles=fileSystem.globStatus(outputPath.suffix("/testnewwrite2-r-00000.avro"));
  Assert.assertEquals(1,outputFiles.length);
  reader=new DataFileReader<GenericData.Record>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new GenericDatumReader<GenericData.Record>(STATS_SCHEMA_2));
  counts=new HashMap<String,Integer>();
  for (  GenericData.Record record : reader) {
    counts.put(((Utf8)record.get("name1")).toString(),(Integer)record.get("count1"));
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
  outputFiles=fileSystem.globStatus(outputPath.suffix("/testwritenonschema-r-00000.avro"));
  Assert.assertEquals(1,outputFiles.length);
  reader=new DataFileReader<GenericData.Record>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new GenericDatumReader<GenericData.Record>(STATS_SCHEMA));
  counts=new HashMap<String,Integer>();
  for (  GenericData.Record record : reader) {
    counts.put(((Utf8)record.get("name")).toString(),(Integer)record.get("count"));
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAvroMapOutput() throws Exception {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.avro").toURI().toString()));
  job.setInputFormatClass(AvroKeyInputFormat.class);
  AvroJob.setInputKeySchema(job,TextStats.SCHEMA$);
  job.setMapperClass(SortMapper.class);
  AvroJob.setMapOutputKeySchema(job,TextStats.SCHEMA$);
  job.setMapOutputValueClass(NullWritable.class);
  job.setReducerClass(SortReducer.class);
  AvroJob.setOutputKeySchema(job,TextStats.SCHEMA$);
  job.setOutputFormatClass(AvroKeyOutputFormat.class);
  Path outputPath=new Path(tmpFolder.getRoot().getPath() + "/out-specific-input");
  FileOutputFormat.setOutputPath(job,outputPath);
  Assert.assertTrue(job.waitForCompletion(true));
  FileSystem fileSystem=FileSystem.get(job.getConfiguration());
  FileStatus[] outputFiles=fileSystem.globStatus(outputPath.suffix("/part-*"));
  Assert.assertEquals(1,outputFiles.length);
  DataFileReader<TextStats> reader=new DataFileReader<TextStats>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new SpecificDatumReader<TextStats>());
  Map<String,Integer> counts=new HashMap<String,Integer>();
  for (  TextStats record : reader) {
    counts.put(record.name.toString(),record.count);
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAvroSpecificOutput() throws Exception {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.txt").toURI().toString()));
  job.setInputFormatClass(TextInputFormat.class);
  job.setMapperClass(LineCountMapper.class);
  job.setMapOutputKeyClass(Text.class);
  job.setMapOutputValueClass(IntWritable.class);
  AvroMultipleOutputs.addNamedOutput(job,"myavro3",AvroKeyOutputFormat.class,TextStats.SCHEMA$,null);
  job.setReducerClass(SpecificStatsReducer.class);
  AvroJob.setOutputKeySchema(job,TextStats.SCHEMA$);
  job.setOutputFormatClass(AvroKeyOutputFormat.class);
  String dir=System.getProperty("test.dir",".") + "/mapred";
  Path outputPath=new Path(dir + "/out-specific");
  outputPath.getFileSystem(job.getConfiguration()).delete(outputPath);
  FileOutputFormat.setOutputPath(job,outputPath);
  Assert.assertTrue(job.waitForCompletion(true));
  FileSystem fileSystem=FileSystem.get(job.getConfiguration());
  FileStatus[] outputFiles=fileSystem.globStatus(outputPath.suffix("/myavro3-*"));
  Assert.assertEquals(1,outputFiles.length);
  DataFileReader<TextStats> reader=new DataFileReader<TextStats>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new SpecificDatumReader<TextStats>());
  Map<String,Integer> counts=new HashMap<String,Integer>();
  for (  TextStats record : reader) {
    counts.put(record.name.toString(),record.count);
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.mapreduce.TestAvroMultipleOutputsSyncable </h4><pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAvroMapOutput() throws Exception {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.avro").toURI().toString()));
  job.setInputFormatClass(AvroKeyInputFormat.class);
  AvroJob.setInputKeySchema(job,TextStats.SCHEMA$);
  job.setMapperClass(SortMapper.class);
  AvroJob.setMapOutputKeySchema(job,TextStats.SCHEMA$);
  job.setMapOutputValueClass(NullWritable.class);
  job.setReducerClass(SortReducer.class);
  AvroJob.setOutputKeySchema(job,TextStats.SCHEMA$);
  job.setOutputFormatClass(AvroKeyOutputFormat.class);
  Path outputPath=new Path(tmpFolder.getRoot().getPath() + "/out-specific-input");
  FileOutputFormat.setOutputPath(job,outputPath);
  Assert.assertTrue(job.waitForCompletion(true));
  FileSystem fileSystem=FileSystem.get(job.getConfiguration());
  FileStatus[] outputFiles=fileSystem.globStatus(outputPath.suffix("/part-*"));
  Assert.assertEquals(1,outputFiles.length);
  DataFileReader<TextStats> reader=new DataFileReader<TextStats>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new SpecificDatumReader<TextStats>());
  Map<String,Integer> counts=new HashMap<String,Integer>();
  for (  TextStats record : reader) {
    counts.put(record.name.toString(),record.count);
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAvroGenericOutput() throws Exception {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.txt").toURI().toString()));
  job.setInputFormatClass(TextInputFormat.class);
  job.setMapperClass(LineCountMapper.class);
  job.setMapOutputKeyClass(Text.class);
  job.setMapOutputValueClass(IntWritable.class);
  job.setReducerClass(GenericStatsReducer.class);
  AvroJob.setOutputKeySchema(job,STATS_SCHEMA);
  AvroMultipleOutputs.addNamedOutput(job,"myavro",AvroKeyOutputFormat.class,STATS_SCHEMA,null);
  AvroMultipleOutputs.addNamedOutput(job,"myavro1",AvroKeyOutputFormat.class,STATS_SCHEMA_2);
  job.setOutputFormatClass(AvroKeyOutputFormat.class);
  String dir=System.getProperty("test.dir",".") + "/mapred";
  Path outputPath=new Path(dir + "/out");
  outputPath.getFileSystem(job.getConfiguration()).delete(outputPath);
  FileOutputFormat.setOutputPath(job,outputPath);
  Assert.assertTrue(job.waitForCompletion(true));
  FileSystem fileSystem=FileSystem.get(job.getConfiguration());
  FileStatus[] outputFiles=fileSystem.globStatus(outputPath.suffix("/myavro-r-00000.avro"));
  Assert.assertEquals(1,outputFiles.length);
  DataFileReader<GenericData.Record> reader=new DataFileReader<GenericData.Record>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new GenericDatumReader<GenericData.Record>(STATS_SCHEMA));
  Map<String,Integer> counts=new HashMap<String,Integer>();
  for (  GenericData.Record record : reader) {
    counts.put(((Utf8)record.get("name")).toString(),(Integer)record.get("count"));
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
  outputFiles=fileSystem.globStatus(outputPath.suffix("/myavro1-r-00000.avro"));
  Assert.assertEquals(1,outputFiles.length);
  reader=new DataFileReader<GenericData.Record>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new GenericDatumReader<GenericData.Record>(STATS_SCHEMA_2));
  counts=new HashMap<String,Integer>();
  for (  GenericData.Record record : reader) {
    counts.put(((Utf8)record.get("name1")).toString(),(Integer)record.get("count1"));
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
  outputFiles=fileSystem.globStatus(outputPath.suffix("/testnewwrite-r-00000.avro"));
  Assert.assertEquals(1,outputFiles.length);
  reader=new DataFileReader<GenericData.Record>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new GenericDatumReader<GenericData.Record>(STATS_SCHEMA));
  counts=new HashMap<String,Integer>();
  for (  GenericData.Record record : reader) {
    counts.put(((Utf8)record.get("name")).toString(),(Integer)record.get("count"));
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
  outputFiles=fileSystem.globStatus(outputPath.suffix("/testnewwrite2-r-00000.avro"));
  Assert.assertEquals(1,outputFiles.length);
  reader=new DataFileReader<GenericData.Record>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new GenericDatumReader<GenericData.Record>(STATS_SCHEMA_2));
  counts=new HashMap<String,Integer>();
  for (  GenericData.Record record : reader) {
    counts.put(((Utf8)record.get("name1")).toString(),(Integer)record.get("count1"));
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
  outputFiles=fileSystem.globStatus(outputPath.suffix("/testwritenonschema-r-00000.avro"));
  Assert.assertEquals(1,outputFiles.length);
  reader=new DataFileReader<GenericData.Record>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new GenericDatumReader<GenericData.Record>(STATS_SCHEMA));
  counts=new HashMap<String,Integer>();
  for (  GenericData.Record record : reader) {
    counts.put(((Utf8)record.get("name")).toString(),(Integer)record.get("count"));
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAvroSpecificOutput() throws Exception {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.txt").toURI().toString()));
  job.setInputFormatClass(TextInputFormat.class);
  job.setMapperClass(LineCountMapper.class);
  job.setMapOutputKeyClass(Text.class);
  job.setMapOutputValueClass(IntWritable.class);
  AvroMultipleOutputs.addNamedOutput(job,"myavro3",AvroKeyOutputFormat.class,TextStats.SCHEMA$,null);
  job.setReducerClass(SpecificStatsReducer.class);
  AvroJob.setOutputKeySchema(job,TextStats.SCHEMA$);
  job.setOutputFormatClass(AvroKeyOutputFormat.class);
  String dir=System.getProperty("test.dir",".") + "/mapred";
  Path outputPath=new Path(dir + "/out-specific");
  outputPath.getFileSystem(job.getConfiguration()).delete(outputPath);
  FileOutputFormat.setOutputPath(job,outputPath);
  Assert.assertTrue(job.waitForCompletion(true));
  FileSystem fileSystem=FileSystem.get(job.getConfiguration());
  FileStatus[] outputFiles=fileSystem.globStatus(outputPath.suffix("/myavro3-*"));
  Assert.assertEquals(1,outputFiles.length);
  DataFileReader<TextStats> reader=new DataFileReader<TextStats>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new SpecificDatumReader<TextStats>());
  Map<String,Integer> counts=new HashMap<String,Integer>();
  for (  TextStats record : reader) {
    counts.put(record.name.toString(),record.count);
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAvroInput() throws Exception {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.avro").toURI().toString()));
  job.setInputFormatClass(AvroKeyInputFormat.class);
  AvroJob.setInputKeySchema(job,TextStats.SCHEMA$);
  AvroMultipleOutputs.addNamedOutput(job,"myavro3",AvroKeyOutputFormat.class,TextStats.SCHEMA$,null);
  job.setMapperClass(StatCountMapper.class);
  job.setMapOutputKeyClass(Text.class);
  job.setMapOutputValueClass(IntWritable.class);
  job.setReducerClass(SpecificStatsReducer.class);
  AvroJob.setOutputKeySchema(job,TextStats.SCHEMA$);
  job.setOutputFormatClass(AvroKeyOutputFormat.class);
  Path outputPath=new Path(tmpFolder.getRoot().getPath() + "/out-specific-input");
  FileOutputFormat.setOutputPath(job,outputPath);
  Assert.assertTrue(job.waitForCompletion(true));
  FileSystem fileSystem=FileSystem.get(job.getConfiguration());
  FileStatus[] outputFiles=fileSystem.globStatus(outputPath.suffix("/myavro3-*"));
  Assert.assertEquals(1,outputFiles.length);
  DataFileReader<TextStats> reader=new DataFileReader<TextStats>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new SpecificDatumReader<TextStats>());
  Map<String,Integer> counts=new HashMap<String,Integer>();
  for (  TextStats record : reader) {
    counts.put(record.name.toString(),record.count);
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.mapreduce.TestKeyValueInput </h4><pre class="type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testKeyValueInputMapOnly() throws ClassNotFoundException, IOException, InterruptedException {
  File inputFile=createInputFile();
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(inputFile.getAbsolutePath()));
  job.setInputFormatClass(AvroKeyValueInputFormat.class);
  AvroJob.setInputKeySchema(job,Schema.create(Schema.Type.INT));
  AvroJob.setInputValueSchema(job,Schema.create(Schema.Type.STRING));
  AvroJob.setMapOutputKeySchema(job,Schema.create(Schema.Type.INT));
  AvroJob.setMapOutputValueSchema(job,Schema.create(Schema.Type.STRING));
  job.setNumReduceTasks(0);
  job.setOutputKeyClass(AvroKey.class);
  job.setOutputValueClass(AvroValue.class);
  job.setOutputFormatClass(AvroKeyValueOutputFormat.class);
  Path outputPath=new Path(mTempDir.getRoot().getPath(),"out-index");
  FileOutputFormat.setOutputPath(job,outputPath);
  assertTrue(job.waitForCompletion(true));
  File avroFile=new File(outputPath.toString(),"part-m-00000.avro");
  DatumReader<GenericRecord> datumReader=new SpecificDatumReader<GenericRecord>(AvroKeyValue.getSchema(Schema.create(Schema.Type.INT),Schema.create(Schema.Type.STRING)));
  DataFileReader<GenericRecord> avroFileReader=new DataFileReader<GenericRecord>(avroFile,datumReader);
  assertTrue(avroFileReader.hasNext());
  AvroKeyValue<Integer,CharSequence> record1=new AvroKeyValue<Integer,CharSequence>(avroFileReader.next());
  assertNotNull(record1.get());
  assertEquals(1,record1.getKey().intValue());
  assertEquals("apple banana carrot",record1.getValue().toString());
  assertTrue(avroFileReader.hasNext());
  AvroKeyValue<Integer,CharSequence> record2=new AvroKeyValue<Integer,CharSequence>(avroFileReader.next());
  assertNotNull(record2.get());
  assertEquals(2,record2.getKey().intValue());
  assertEquals("apple banana",record2.getValue().toString());
  assertTrue(avroFileReader.hasNext());
  AvroKeyValue<Integer,CharSequence> record3=new AvroKeyValue<Integer,CharSequence>(avroFileReader.next());
  assertNotNull(record3.get());
  assertEquals(3,record3.getKey().intValue());
  assertEquals("apple",record3.getValue().toString());
  assertFalse(avroFileReader.hasNext());
  avroFileReader.close();
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testKeyValueInput() throws ClassNotFoundException, IOException, InterruptedException {
  File inputFile=createInputFile();
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(inputFile.getAbsolutePath()));
  job.setInputFormatClass(AvroKeyValueInputFormat.class);
  AvroJob.setInputKeySchema(job,Schema.create(Schema.Type.INT));
  AvroJob.setInputValueSchema(job,Schema.create(Schema.Type.STRING));
  job.setMapperClass(IndexMapper.class);
  job.setMapOutputKeyClass(Text.class);
  job.setMapOutputValueClass(IntWritable.class);
  job.setReducerClass(IndexReducer.class);
  job.setOutputKeyClass(Text.class);
  job.setOutputValueClass(AvroValue.class);
  AvroJob.setOutputValueSchema(job,Schema.createArray(Schema.create(Schema.Type.INT)));
  job.setOutputFormatClass(AvroKeyValueOutputFormat.class);
  Path outputPath=new Path(mTempDir.getRoot().getPath(),"out-index");
  FileOutputFormat.setOutputPath(job,outputPath);
  assertTrue(job.waitForCompletion(true));
  File avroFile=new File(outputPath.toString(),"part-r-00000.avro");
  DatumReader<GenericRecord> datumReader=new SpecificDatumReader<GenericRecord>(AvroKeyValue.getSchema(Schema.create(Schema.Type.STRING),Schema.createArray(Schema.create(Schema.Type.INT))));
  DataFileReader<GenericRecord> avroFileReader=new DataFileReader<GenericRecord>(avroFile,datumReader);
  assertTrue(avroFileReader.hasNext());
  AvroKeyValue<CharSequence,List<Integer>> appleRecord=new AvroKeyValue<CharSequence,List<Integer>>(avroFileReader.next());
  assertNotNull(appleRecord.get());
  assertEquals("apple",appleRecord.getKey().toString());
  List<Integer> appleDocs=appleRecord.getValue();
  assertEquals(3,appleDocs.size());
  assertTrue(appleDocs.contains(1));
  assertTrue(appleDocs.contains(2));
  assertTrue(appleDocs.contains(3));
  assertTrue(avroFileReader.hasNext());
  AvroKeyValue<CharSequence,List<Integer>> bananaRecord=new AvroKeyValue<CharSequence,List<Integer>>(avroFileReader.next());
  assertNotNull(bananaRecord.get());
  assertEquals("banana",bananaRecord.getKey().toString());
  List<Integer> bananaDocs=bananaRecord.getValue();
  assertEquals(2,bananaDocs.size());
  assertTrue(bananaDocs.contains(1));
  assertTrue(bananaDocs.contains(2));
  assertTrue(avroFileReader.hasNext());
  AvroKeyValue<CharSequence,List<Integer>> carrotRecord=new AvroKeyValue<CharSequence,List<Integer>>(avroFileReader.next());
  assertEquals("carrot",carrotRecord.getKey().toString());
  List<Integer> carrotDocs=carrotRecord.getValue();
  assertEquals(1,carrotDocs.size());
  assertTrue(carrotDocs.contains(1));
  assertFalse(avroFileReader.hasNext());
  avroFileReader.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.mapreduce.TestKeyValueWordCount </h4><pre class="type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testKeyValueMapReduce() throws ClassNotFoundException, IOException, InterruptedException, URISyntaxException {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.txt").toURI().toString()));
  job.setInputFormatClass(TextInputFormat.class);
  job.setMapperClass(LineCountMapper.class);
  job.setMapOutputKeyClass(Text.class);
  job.setMapOutputValueClass(IntWritable.class);
  job.setReducerClass(IntSumReducer.class);
  job.setOutputKeyClass(Text.class);
  job.setOutputValueClass(IntWritable.class);
  job.setOutputFormatClass(AvroKeyValueOutputFormat.class);
  Path outputPath=new Path(mTempDir.getRoot().getPath() + "/out-wordcount");
  FileOutputFormat.setOutputPath(job,outputPath);
  assertTrue(job.waitForCompletion(true));
  File avroFile=new File(outputPath.toString(),"part-r-00000.avro");
  DatumReader<GenericRecord> datumReader=new SpecificDatumReader<GenericRecord>(AvroKeyValue.getSchema(Schema.create(Schema.Type.STRING),Schema.create(Schema.Type.INT)));
  DataFileReader<GenericRecord> avroFileReader=new DataFileReader<GenericRecord>(avroFile,datumReader);
  assertTrue(avroFileReader.hasNext());
  AvroKeyValue<CharSequence,Integer> appleRecord=new AvroKeyValue<CharSequence,Integer>(avroFileReader.next());
  assertNotNull(appleRecord.get());
  assertEquals("apple",appleRecord.getKey().toString());
  assertEquals(3,appleRecord.getValue().intValue());
  assertTrue(avroFileReader.hasNext());
  AvroKeyValue<CharSequence,Integer> bananaRecord=new AvroKeyValue<CharSequence,Integer>(avroFileReader.next());
  assertNotNull(bananaRecord.get());
  assertEquals("banana",bananaRecord.getKey().toString());
  assertEquals(2,bananaRecord.getValue().intValue());
  assertTrue(avroFileReader.hasNext());
  AvroKeyValue<CharSequence,Integer> carrotRecord=new AvroKeyValue<CharSequence,Integer>(avroFileReader.next());
  assertEquals("carrot",carrotRecord.getKey().toString());
  assertEquals(1,carrotRecord.getValue().intValue());
  assertFalse(avroFileReader.hasNext());
  avroFileReader.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.mapreduce.TestWordCount </h4><pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAvroInput() throws Exception {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.avro").toURI().toString()));
  job.setInputFormatClass(AvroKeyInputFormat.class);
  AvroJob.setInputKeySchema(job,TextStats.SCHEMA$);
  job.setMapperClass(StatCountMapper.class);
  job.setMapOutputKeyClass(Text.class);
  job.setMapOutputValueClass(IntWritable.class);
  job.setReducerClass(SpecificStatsReducer.class);
  AvroJob.setOutputKeySchema(job,TextStats.SCHEMA$);
  job.setOutputFormatClass(AvroKeyOutputFormat.class);
  Path outputPath=new Path(tmpFolder.getRoot().getPath() + "/out-specific-input");
  FileOutputFormat.setOutputPath(job,outputPath);
  Assert.assertTrue(job.waitForCompletion(true));
  FileSystem fileSystem=FileSystem.get(job.getConfiguration());
  FileStatus[] outputFiles=fileSystem.globStatus(outputPath.suffix("/part-*"));
  Assert.assertEquals(1,outputFiles.length);
  DataFileReader<TextStats> reader=new DataFileReader<TextStats>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new SpecificDatumReader<TextStats>());
  Map<String,Integer> counts=new HashMap<String,Integer>();
  for (  TextStats record : reader) {
    counts.put(record.name.toString(),record.count);
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests the MR output to text files when using AvroKey and AvroValue records.
 */
@Test public void testAvroUsingTextFileOutput() throws Exception {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.txt").toURI().toString()));
  job.setInputFormatClass(TextInputFormat.class);
  job.setMapperClass(LineCountMapper.class);
  job.setMapOutputKeyClass(Text.class);
  job.setMapOutputValueClass(IntWritable.class);
  job.setReducerClass(AvroSumReducer.class);
  AvroJob.setOutputKeySchema(job,Schema.create(Schema.Type.STRING));
  AvroJob.setOutputValueSchema(job,Schema.create(Schema.Type.INT));
  job.setOutputFormatClass(TextOutputFormat.class);
  Path outputPath=new Path(tmpFolder.getRoot().getPath() + "/out-text");
  FileOutputFormat.setOutputPath(job,outputPath);
  Assert.assertTrue(job.waitForCompletion(true));
  FileSystem fileSystem=FileSystem.get(job.getConfiguration());
  FileStatus[] outputFiles=fileSystem.globStatus(outputPath.suffix("/part-*"));
  Assert.assertEquals(1,outputFiles.length);
  Path filePath=outputFiles[0].getPath();
  InputStream inputStream=filePath.getFileSystem(job.getConfiguration()).open(filePath);
  Assert.assertNotNull(inputStream);
  BufferedReader reader=new BufferedReader(new InputStreamReader(inputStream));
  try {
    Assert.assertTrue(reader.ready());
    Assert.assertEquals("apple\t3",reader.readLine());
    Assert.assertEquals("banana\t2",reader.readLine());
    Assert.assertEquals("carrot\t1",reader.readLine());
    Assert.assertFalse(reader.ready());
  }
  finally {
    reader.close();
  }
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAvroGenericOutput() throws Exception {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.txt").toURI().toString()));
  job.setInputFormatClass(TextInputFormat.class);
  job.setMapperClass(LineCountMapper.class);
  job.setMapOutputKeyClass(Text.class);
  job.setMapOutputValueClass(IntWritable.class);
  job.setReducerClass(GenericStatsReducer.class);
  AvroJob.setOutputKeySchema(job,STATS_SCHEMA);
  job.setOutputFormatClass(AvroKeyOutputFormat.class);
  Path outputPath=new Path(tmpFolder.getRoot().getPath() + "/out-generic");
  FileOutputFormat.setOutputPath(job,outputPath);
  Assert.assertTrue(job.waitForCompletion(true));
  FileSystem fileSystem=FileSystem.get(job.getConfiguration());
  FileStatus[] outputFiles=fileSystem.globStatus(outputPath.suffix("/part-*"));
  Assert.assertEquals(1,outputFiles.length);
  DataFileReader<GenericData.Record> reader=new DataFileReader<GenericData.Record>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new GenericDatumReader<GenericData.Record>(STATS_SCHEMA));
  Map<String,Integer> counts=new HashMap<String,Integer>();
  for (  GenericData.Record record : reader) {
    counts.put(((Utf8)record.get("name")).toString(),(Integer)record.get("count"));
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAvroMapOutput() throws Exception {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.avro").toURI().toString()));
  job.setInputFormatClass(AvroKeyInputFormat.class);
  AvroJob.setInputKeySchema(job,TextStats.SCHEMA$);
  job.setMapperClass(SortMapper.class);
  AvroJob.setMapOutputKeySchema(job,TextStats.SCHEMA$);
  job.setMapOutputValueClass(NullWritable.class);
  job.setReducerClass(SortReducer.class);
  AvroJob.setOutputKeySchema(job,TextStats.SCHEMA$);
  job.setOutputFormatClass(AvroKeyOutputFormat.class);
  Path outputPath=new Path(tmpFolder.getRoot().getPath() + "/out-specific-input");
  FileOutputFormat.setOutputPath(job,outputPath);
  Assert.assertTrue(job.waitForCompletion(true));
  FileSystem fileSystem=FileSystem.get(job.getConfiguration());
  FileStatus[] outputFiles=fileSystem.globStatus(outputPath.suffix("/part-*"));
  Assert.assertEquals(1,outputFiles.length);
  DataFileReader<TextStats> reader=new DataFileReader<TextStats>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new SpecificDatumReader<TextStats>());
  Map<String,Integer> counts=new HashMap<String,Integer>();
  for (  TextStats record : reader) {
    counts.put(record.name.toString(),record.count);
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAvroReflectOutput() throws Exception {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.txt").toURI().toString()));
  job.setInputFormatClass(TextInputFormat.class);
  job.setMapperClass(LineCountMapper.class);
  job.setMapOutputKeyClass(Text.class);
  job.setMapOutputValueClass(IntWritable.class);
  job.setReducerClass(ReflectStatsReducer.class);
  AvroJob.setOutputKeySchema(job,REFLECT_STATS_SCHEMA);
  job.setOutputFormatClass(AvroKeyOutputFormat.class);
  Path outputPath=new Path(tmpFolder.getRoot().getPath() + "/out-reflect");
  FileOutputFormat.setOutputPath(job,outputPath);
  Assert.assertTrue(job.waitForCompletion(true));
  FileSystem fileSystem=FileSystem.get(job.getConfiguration());
  FileStatus[] outputFiles=fileSystem.globStatus(outputPath.suffix("/part-*"));
  Assert.assertEquals(1,outputFiles.length);
  DataFileReader<ReflectStats> reader=new DataFileReader<ReflectStats>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new ReflectDatumReader<ReflectStats>());
  Map<String,Integer> counts=new HashMap<String,Integer>();
  for (  ReflectStats record : reader) {
    counts.put(record.name.toString(),record.count);
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReflectInput() throws Exception {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.avro").toURI().toString()));
  job.setInputFormatClass(AvroKeyInputFormat.class);
  AvroJob.setInputKeySchema(job,REFLECT_STATS_SCHEMA);
  job.setMapperClass(ReflectCountMapper.class);
  job.setMapOutputKeyClass(Text.class);
  job.setMapOutputValueClass(IntWritable.class);
  job.setReducerClass(ReflectStatsReducer.class);
  AvroJob.setOutputKeySchema(job,REFLECT_STATS_SCHEMA);
  job.setOutputFormatClass(AvroKeyOutputFormat.class);
  Path outputPath=new Path(tmpFolder.getRoot().getPath() + "/out-reflect-input");
  FileOutputFormat.setOutputPath(job,outputPath);
  Assert.assertTrue(job.waitForCompletion(true));
  FileSystem fileSystem=FileSystem.get(job.getConfiguration());
  FileStatus[] outputFiles=fileSystem.globStatus(outputPath.suffix("/part-*"));
  Assert.assertEquals(1,outputFiles.length);
  DataFileReader<ReflectStats> reader=new DataFileReader<ReflectStats>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new ReflectDatumReader<ReflectStats>());
  Map<String,Integer> counts=new HashMap<String,Integer>();
  for (  ReflectStats record : reader) {
    counts.put(record.name.toString(),record.count);
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAvroSpecificOutput() throws Exception {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.txt").toURI().toString()));
  job.setInputFormatClass(TextInputFormat.class);
  job.setMapperClass(LineCountMapper.class);
  job.setMapOutputKeyClass(Text.class);
  job.setMapOutputValueClass(IntWritable.class);
  job.setReducerClass(SpecificStatsReducer.class);
  AvroJob.setOutputKeySchema(job,TextStats.SCHEMA$);
  job.setOutputFormatClass(AvroKeyOutputFormat.class);
  Path outputPath=new Path(tmpFolder.getRoot().getPath() + "/out-specific");
  FileOutputFormat.setOutputPath(job,outputPath);
  Assert.assertTrue(job.waitForCompletion(true));
  FileSystem fileSystem=FileSystem.get(job.getConfiguration());
  FileStatus[] outputFiles=fileSystem.globStatus(outputPath.suffix("/part-*"));
  Assert.assertEquals(1,outputFiles.length);
  DataFileReader<TextStats> reader=new DataFileReader<TextStats>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new SpecificDatumReader<TextStats>());
  Map<String,Integer> counts=new HashMap<String,Integer>();
  for (  TextStats record : reader) {
    counts.put(record.name.toString(),record.count);
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.reflect.TestNonStringMapKeys </h4><pre class="type-10 type-9 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNonStringMapKeysInNestedMaps() throws Exception {
  Company2 entityObj1=buildCompany2();
  String testType="NestedMapsTest";
  Company2[] entityObjs={entityObj1};
  byte[] bytes=testSerialization(testType,entityObj1);
  List<GenericRecord> records=(List<GenericRecord>)testGenericDatumRead(testType,bytes,entityObjs);
  GenericRecord record=records.get(0);
  Object employees=record.get("employees");
  assertTrue("Unable to read 'employees' map",employees instanceof GenericArray);
  GenericArray employeesMapArray=((GenericArray)employees);
  Object employeeMapElement=employeesMapArray.get(0);
  assertTrue(employeeMapElement instanceof GenericRecord);
  Object key=((GenericRecord)employeeMapElement).get(ReflectData.NS_MAP_KEY);
  Object value=((GenericRecord)employeeMapElement).get(ReflectData.NS_MAP_VALUE);
  assertEquals(11,key);
  assertTrue(value instanceof GenericRecord);
  GenericRecord employeeInfo=(GenericRecord)value;
  Object name=employeeInfo.get("name").toString();
  assertEquals("Foo",name);
  Object companyMap=employeeInfo.get("companyMap");
  assertTrue(companyMap instanceof GenericArray);
  GenericArray companyMapArray=(GenericArray)companyMap;
  Object companyMapElement=companyMapArray.get(0);
  assertTrue(companyMapElement instanceof GenericRecord);
  key=((GenericRecord)companyMapElement).get(ReflectData.NS_MAP_KEY);
  value=((GenericRecord)companyMapElement).get(ReflectData.NS_MAP_VALUE);
  assertEquals(14,key);
  if (value instanceof Utf8)   value=((Utf8)value).toString();
  assertEquals("CompanyFoo",value);
  List<Company2> records2=(List<Company2>)testReflectDatumRead(testType,bytes,entityObjs);
  Company2 co=records2.get(0);
  log("Read: " + co);
  assertNotNull(co.getEmployees());
  assertEquals(1,co.getEmployees().size());
  Iterator<Entry<Integer,EmployeeInfo2>> itr=co.getEmployees().entrySet().iterator();
  while (itr.hasNext()) {
    Entry<Integer,EmployeeInfo2> e=itr.next();
    Integer id=e.getKey();
    name=e.getValue().getName();
    assertTrue(id.equals(11) && name.equals("Foo"));
    assertEquals("CompanyFoo",e.getValue().companyMap.values().iterator().next());
  }
  byte[] jsonBytes=testJsonEncoder(testType,entityObj1);
  assertNotNull("Unable to serialize using jsonEncoder",jsonBytes);
  GenericRecord jsonRecord=testJsonDecoder(testType,jsonBytes,entityObj1);
  assertEquals("JSON decoder output not same as Binary Decoder",record,jsonRecord);
}

</code></pre>

<br>
<pre class="type-10 type-9 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNonStringMapKeys() throws Exception {
  Company entityObj1=buildCompany();
  Company entityObj2=buildCompany();
  String testType="NonStringKeysTest";
  Company[] entityObjs={entityObj1,entityObj2};
  byte[] bytes=testSerialization(testType,entityObj1,entityObj2);
  List<GenericRecord> records=(List<GenericRecord>)testGenericDatumRead(testType,bytes,entityObjs);
  GenericRecord record=records.get(0);
  Object employees=record.get("employees");
  assertTrue("Unable to read 'employees' map",employees instanceof GenericArray);
  GenericArray arrayEmployees=((GenericArray)employees);
  Object employeeRecord=arrayEmployees.get(0);
  assertTrue(employeeRecord instanceof GenericRecord);
  Object key=((GenericRecord)employeeRecord).get(ReflectData.NS_MAP_KEY);
  Object value=((GenericRecord)employeeRecord).get(ReflectData.NS_MAP_VALUE);
  assertTrue(key instanceof GenericRecord);
  assertTrue(value instanceof GenericRecord);
  Object id=((GenericRecord)key).get("id");
  Object name=((GenericRecord)value).get("name").toString();
  assertTrue((id.equals(1) && name.equals("Foo")) || (id.equals(2) && name.equals("Bar")));
  List<Company> records2=(List<Company>)testReflectDatumRead(testType,bytes,entityObjs);
  Company co=records2.get(0);
  log("Read: " + co);
  assertNotNull(co.getEmployees());
  assertEquals(2,co.getEmployees().size());
  Iterator<Entry<EmployeeId,EmployeeInfo>> itr=co.getEmployees().entrySet().iterator();
  while (itr.hasNext()) {
    Entry<EmployeeId,EmployeeInfo> e=itr.next();
    id=e.getKey().getId();
    name=e.getValue().getName();
    assertTrue((id.equals(1) && name.equals("Foo")) || (id.equals(2) && name.equals("Bar")));
  }
  byte[] jsonBytes=testJsonEncoder(testType,entityObj1);
  assertNotNull("Unable to serialize using jsonEncoder",jsonBytes);
  GenericRecord jsonRecord=testJsonDecoder(testType,jsonBytes,entityObj1);
  assertEquals("JSON decoder output not same as Binary Decoder",record,jsonRecord);
}

</code></pre>

<br>
<pre class="type-10 type-9 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRecordNameInvariance() throws Exception {
  SameMapSignature entityObj1=buildSameMapSignature();
  String testType="RecordNameInvariance";
  SameMapSignature[] entityObjs={entityObj1};
  byte[] bytes=testSerialization(testType,entityObj1);
  List<GenericRecord> records=(List<GenericRecord>)testGenericDatumRead(testType,bytes,entityObjs);
  GenericRecord record=records.get(0);
  Object map1obj=record.get("map1");
  assertTrue("Unable to read map1",map1obj instanceof GenericArray);
  GenericArray map1array=((GenericArray)map1obj);
  Object map1element=map1array.get(0);
  assertTrue(map1element instanceof GenericRecord);
  Object key=((GenericRecord)map1element).get(ReflectData.NS_MAP_KEY);
  Object value=((GenericRecord)map1element).get(ReflectData.NS_MAP_VALUE);
  assertEquals(1,key);
  assertEquals("Foo",value.toString());
  Object map2obj=record.get("map2");
  assertEquals(map1obj,map2obj);
  List<SameMapSignature> records2=(List<SameMapSignature>)testReflectDatumRead(testType,bytes,entityObjs);
  SameMapSignature entity=records2.get(0);
  log("Read: " + entity);
  assertNotNull(entity.getMap1());
  assertEquals(1,entity.getMap1().size());
  Iterator<Entry<Integer,String>> itr=entity.getMap1().entrySet().iterator();
  while (itr.hasNext()) {
    Entry<Integer,String> e=itr.next();
    key=e.getKey();
    value=e.getValue();
    assertEquals(1,key);
    assertEquals("Foo",value.toString());
  }
  assertEquals(entity.getMap1(),entity.getMap2());
  ReflectData rdata=ReflectData.get();
  Schema schema=rdata.getSchema(SameMapSignature.class);
  Schema map1schema=schema.getField("map1").schema().getElementType();
  Schema map2schema=schema.getField("map2").schema().getElementType();
  log("Schema for map1 = " + map1schema);
  log("Schema for map2 = " + map2schema);
  assertEquals(map1schema.getFullName(),"org.apache.avro.reflect.PairIntegerString");
  assertEquals(map1schema,map2schema);
  byte[] jsonBytes=testJsonEncoder(testType,entityObj1);
  assertNotNull("Unable to serialize using jsonEncoder",jsonBytes);
  GenericRecord jsonRecord=testJsonDecoder(testType,jsonBytes,entityObj1);
  assertEquals("JSON decoder output not same as Binary Decoder",record.get("map1"),jsonRecord.get("map1"));
  assertEquals("JSON decoder output not same as Binary Decoder",record.get("map2"),jsonRecord.get("map2"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.reflect.TestReflect </h4><pre class="type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testMultipleAnnotations() throws IOException {
  Schema schm=ReflectData.get().getSchema(multipleAnnotationRecord.class);
  ReflectDatumWriter<multipleAnnotationRecord> writer=new ReflectDatumWriter<multipleAnnotationRecord>(schm);
  ByteArrayOutputStream out=new ByteArrayOutputStream();
  multipleAnnotationRecord record=new multipleAnnotationRecord();
  record.i1=1;
  record.i2=2;
  record.i3=3;
  record.i4=new java.util.Date(4L);
  record.i5=5;
  record.i6=6;
  record.i7=new java.util.Date(7L);
  record.i8=8;
  record.i9=new java.util.Date(9L);
  record.i10=new java.util.Date(10L);
  record.i11=new java.util.Date(11L);
  writer.write(record,factory.directBinaryEncoder(out,null));
  ReflectDatumReader<multipleAnnotationRecord> reader=new ReflectDatumReader<multipleAnnotationRecord>(schm);
  multipleAnnotationRecord decoded=reader.read(new multipleAnnotationRecord(),DecoderFactory.get().binaryDecoder(out.toByteArray(),null));
  assertTrue(decoded.i1 == null);
  assertTrue(decoded.i2 == null);
  assertTrue(decoded.i3 == null);
  assertTrue(decoded.i4 == null);
  assertTrue(decoded.i5 == 5);
  assertTrue(decoded.i6 == 6);
  assertTrue(decoded.i7.getTime() == 7);
  assertTrue(decoded.i8 == 8);
  assertTrue(decoded.i9.getTime() == 9);
  assertTrue(decoded.i10.getTime() == 10);
  assertTrue(decoded.i11.getTime() == 11);
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testP2() throws Exception {
  Schema e1=ReflectData.get().getSchema(E1.class);
  assertEquals(Schema.Type.RECORD,e1.getType());
  assertTrue(e1.isError());
  Field message=e1.getField("detailMessage");
  assertNotNull("field 'detailMessage' should not be null",message);
  Schema messageSchema=message.schema();
  assertEquals(Schema.Type.UNION,messageSchema.getType());
  assertEquals(Schema.Type.NULL,messageSchema.getTypes().get(0).getType());
  assertEquals(Schema.Type.STRING,messageSchema.getTypes().get(1).getType());
  Protocol p2=ReflectData.get().getProtocol(P2.class);
  Protocol.Message m=p2.getMessages().get("error");
  Schema response=m.getErrors();
  assertEquals(Schema.Type.UNION,response.getType());
  assertEquals(Schema.Type.STRING,response.getTypes().get(0).getType());
  assertEquals(e1,response.getTypes().get(1));
}

</code></pre>

<br>
<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Test that the error message contains the name of the class. 
 */
@Test public void testReflectFieldError() throws Exception {
  Object datum="";
  try {
    ReflectData.get().getField(datum,"notAFieldOfString",0);
  }
 catch (  AvroRuntimeException e) {
    assertTrue(e.getMessage().contains(datum.getClass().getName()));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.reflect.TestReflectLogicalTypes </h4><pre class="type-10 type-2 type-4 type-19 type-17 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Sets implicit assumptions 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReadUUIDMissingLogicalTypeUnsafe() throws IOException {
  String unsafeValue=System.getProperty("avro.disable.unsafe");
  try {
    System.clearProperty("avro.disable.unsafe");
    Assume.assumeTrue(ReflectionUtil.getFieldAccess() instanceof FieldAccessUnsafe);
    Schema uuidSchema=SchemaBuilder.record(RecordWithUUID.class.getName()).fields().requiredString("uuid").endRecord();
    LogicalTypes.uuid().addToSchema(uuidSchema.getField("uuid").schema());
    UUID u1=UUID.randomUUID();
    RecordWithStringUUID r1=new RecordWithStringUUID();
    r1.uuid=u1.toString();
    File test=write(ReflectData.get().getSchema(RecordWithStringUUID.class),r1);
    RecordWithUUID datum=(RecordWithUUID)read(ReflectData.get().createDatumReader(uuidSchema),test).get(0);
    Object uuid=datum.uuid;
    Assert.assertTrue("UUID should be a String (unsafe)",uuid instanceof String);
  }
  finally {
    if (unsafeValue != null) {
      System.setProperty("avro.disable.unsafe",unsafeValue);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.specific.TestSpecificData </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testClassTypes(){
  assertTrue(intClass.isPrimitive());
  assertFalse(integerClass.isPrimitive());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.specific.TestSpecificErrorBuilder </h4><pre class="type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSpecificErrorBuilder(){
  TestError.Builder testErrorBuilder=TestError.newBuilder().setValue("value").setCause(new NullPointerException()).setMessage$("message$");
  Assert.assertTrue(testErrorBuilder.hasValue());
  Assert.assertNotNull(testErrorBuilder.getValue());
  Assert.assertTrue(testErrorBuilder.hasCause());
  Assert.assertNotNull(testErrorBuilder.getCause());
  Assert.assertTrue(testErrorBuilder.hasMessage$());
  Assert.assertNotNull(testErrorBuilder.getMessage$());
  TestError testError=testErrorBuilder.build();
  Assert.assertEquals("value",testError.getValue());
  Assert.assertEquals("value",testError.getMessage());
  Assert.assertEquals("message$",testError.getMessage$());
  Assert.assertEquals(testErrorBuilder,TestError.newBuilder(testErrorBuilder));
  Assert.assertEquals(testErrorBuilder,TestError.newBuilder(testError));
  TestError error=new TestError("value",new NullPointerException());
  error.setMessage$("message");
  Assert.assertEquals(error,TestError.newBuilder().setValue("value").setCause(new NullPointerException()).setMessage$("message").build());
  testErrorBuilder.clearValue();
  Assert.assertFalse(testErrorBuilder.hasValue());
  Assert.assertNull(testErrorBuilder.getValue());
  testErrorBuilder.clearCause();
  Assert.assertFalse(testErrorBuilder.hasCause());
  Assert.assertNull(testErrorBuilder.getCause());
  testErrorBuilder.clearMessage$();
  Assert.assertFalse(testErrorBuilder.hasMessage$());
  Assert.assertNull(testErrorBuilder.getMessage$());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.specific.TestSpecificRecordBuilder </h4><pre class="type-13 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void buildWithoutSettingRequiredFields2(){
  try {
    Person.newBuilder().setYearOfBirth(1900).setState("MA").build();
    Assert.fail("Should have thrown " + AvroRuntimeException.class.getCanonicalName());
  }
 catch (  AvroRuntimeException e) {
    Assert.assertTrue(e.getMessage().contains("name"));
  }
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSpecificBuilder(){
  Person.Builder builder=Person.newBuilder().setName("James Gosling").setYearOfBirth(1955).setState("CA");
  Assert.assertTrue(builder.hasName());
  Assert.assertEquals("James Gosling",builder.getName().toString());
  Assert.assertTrue(builder.hasYearOfBirth());
  Assert.assertEquals(new Integer(1955),builder.getYearOfBirth());
  Assert.assertFalse(builder.hasCountry());
  Assert.assertNull(builder.getCountry());
  Assert.assertTrue(builder.hasState());
  Assert.assertEquals("CA",builder.getState().toString());
  Assert.assertFalse(builder.hasFriends());
  Assert.assertNull(builder.getFriends());
  Assert.assertFalse(builder.hasLanguages());
  Assert.assertNull(builder.getLanguages());
  Person person=builder.build();
  Assert.assertEquals("James Gosling",person.getName().toString());
  Assert.assertEquals(new Integer(1955),person.getYearOfBirth());
  Assert.assertEquals("US",person.getCountry().toString());
  Assert.assertEquals("CA",person.getState().toString());
  Assert.assertNotNull(person.getFriends());
  Assert.assertEquals(0,person.getFriends().size());
  Assert.assertNotNull(person.getLanguages());
  Assert.assertEquals(2,person.getLanguages().size());
  Assert.assertEquals("English",person.getLanguages().get(0).toString());
  Assert.assertEquals("Java",person.getLanguages().get(1).toString());
  Assert.assertEquals(builder,Person.newBuilder(builder));
  Assert.assertEquals(person,Person.newBuilder(person).build());
  Person.Builder builderCopy=Person.newBuilder(person);
  Assert.assertEquals("James Gosling",builderCopy.getName().toString());
  Assert.assertEquals(new Integer(1955),builderCopy.getYearOfBirth());
  Assert.assertEquals("US",builderCopy.getCountry().toString());
  Assert.assertEquals("CA",builderCopy.getState().toString());
  Assert.assertNotNull(builderCopy.getFriends());
  Assert.assertEquals(0,builderCopy.getFriends().size());
  builderCopy.clearFriends().clearCountry();
  Assert.assertFalse(builderCopy.hasFriends());
  Assert.assertFalse(builderCopy.hasCountry());
  Assert.assertNull(builderCopy.getFriends());
  Assert.assertNull(builderCopy.getCountry());
  Person person2=builderCopy.build();
  Assert.assertNotNull(person2.getFriends());
  Assert.assertTrue(person2.getFriends().isEmpty());
}

</code></pre>

<br>
<pre class="type-13 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void buildWithoutSettingRequiredFields3(){
  try {
    Person.newBuilder().setName("Anon").setState("CA").build();
    Assert.fail("Should have thrown " + AvroRuntimeException.class.getCanonicalName());
  }
 catch (  AvroRuntimeException e) {
    Assert.assertTrue(e.getMessage().contains("year_of_birth"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.tool.TestCatTool </h4><pre class="type-10 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSamplerateAccuracy() throws Exception {
  Map<String,String> metadata=new HashMap<String,String>();
  metadata.put("myMetaKey","myMetaValue");
  File input1=generateData("input1.avro",Type.INT,metadata,DEFLATE);
  File output=AvroTestUtil.tempFile(getClass(),"out/default-output.avro");
  output.deleteOnExit();
  List<String> args=asList(input1.getAbsolutePath(),output.getAbsolutePath(),"--offset",String.valueOf(OFFSET),"--samplerate",String.valueOf(SAMPLERATE));
  int returnCode=new CatTool().run(System.in,System.out,System.err,args);
  assertEquals(0,returnCode);
  assertTrue("Outputsize is not roughly (Inputsize - Offset) * samplerate",(ROWS_IN_INPUT_FILES - OFFSET) * SAMPLERATE - numRowsInFile(output) < 2);
  assertTrue("",(ROWS_IN_INPUT_FILES - OFFSET) * SAMPLERATE - numRowsInFile(output) > -2);
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHelpfulMessageWhenNoArgsGiven() throws Exception {
  ByteArrayOutputStream buffer=new ByteArrayOutputStream(1024);
  PrintStream out=new PrintStream(buffer);
  int returnCode=new CatTool().run(System.in,out,System.err,Collections.<String>emptyList());
  out.close();
  assertEquals(0,returnCode);
  assertTrue("should have lots of help",buffer.toString().trim().length() > 200);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.tool.TestConcatTool </h4><pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHelpfulMessageWhenNoArgsGiven() throws Exception {
  ByteArrayOutputStream buffer=new ByteArrayOutputStream(1024);
  PrintStream out=new PrintStream(buffer);
  int returnCode=new ConcatTool().run(System.in,out,System.err,Collections.<String>emptyList());
  out.close();
  assertEquals(0,returnCode);
  assertTrue("should have lots of help",buffer.toString().trim().length() > 200);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.tool.TestDataFileRepairTool </h4><pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testRepairPriorCorruptBlock() throws Exception {
  String output=run(new DataFileRepairTool(),"-o","prior",corruptBlockFile.getPath(),repairedFile.getPath());
  assertTrue(output,output.contains("Number of blocks: 2 Number of corrupt blocks: 1"));
  assertTrue(output,output.contains("Number of records: 5 Number of corrupt records: 0"));
  checkFileContains(repairedFile,"apple","banana","celery");
}

</code></pre>

<br>
<pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testRepairAfterCorruptBlock() throws Exception {
  String output=run(new DataFileRepairTool(),"-o","after",corruptBlockFile.getPath(),repairedFile.getPath());
  assertTrue(output,output.contains("Number of blocks: 2 Number of corrupt blocks: 1"));
  assertTrue(output,output.contains("Number of records: 5 Number of corrupt records: 0"));
  checkFileContains(repairedFile,"guava","hazelnut");
}

</code></pre>

<br>
<pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testReportCorruptRecord() throws Exception {
  String output=run(new DataFileRepairTool(),"-o","report",corruptRecordFile.getPath());
  assertTrue(output,output.contains("Number of blocks: 3 Number of corrupt blocks: 1"));
  assertTrue(output,output.contains("Number of records: 8 Number of corrupt records: 2"));
}

</code></pre>

<br>
<pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testRepairPriorCorruptRecord() throws Exception {
  String output=run(new DataFileRepairTool(),"-o","prior",corruptRecordFile.getPath(),repairedFile.getPath());
  assertTrue(output,output.contains("Number of blocks: 3 Number of corrupt blocks: 1"));
  assertTrue(output,output.contains("Number of records: 8 Number of corrupt records: 2"));
  checkFileContains(repairedFile,"apple","banana","celery","date");
}

</code></pre>

<br>
<pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testRepairAllCorruptBlock() throws Exception {
  String output=run(new DataFileRepairTool(),"-o","all",corruptBlockFile.getPath(),repairedFile.getPath());
  assertTrue(output,output.contains("Number of blocks: 2 Number of corrupt blocks: 1"));
  assertTrue(output,output.contains("Number of records: 5 Number of corrupt records: 0"));
  checkFileContains(repairedFile,"apple","banana","celery","guava","hazelnut");
}

</code></pre>

<br>
<pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testRepairAllCorruptRecord() throws Exception {
  String output=run(new DataFileRepairTool(),"-o","all",corruptRecordFile.getPath(),repairedFile.getPath());
  assertTrue(output,output.contains("Number of blocks: 3 Number of corrupt blocks: 1"));
  assertTrue(output,output.contains("Number of records: 8 Number of corrupt records: 2"));
  checkFileContains(repairedFile,"apple","banana","celery","date","guava","hazelnut");
}

</code></pre>

<br>
<pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testRepairAfterCorruptRecord() throws Exception {
  String output=run(new DataFileRepairTool(),"-o","after",corruptRecordFile.getPath(),repairedFile.getPath());
  assertTrue(output,output.contains("Number of blocks: 3 Number of corrupt blocks: 1"));
  assertTrue(output,output.contains("Number of records: 8 Number of corrupt records: 2"));
  checkFileContains(repairedFile,"guava","hazelnut");
}

</code></pre>

<br>
<pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testReportCorruptBlock() throws Exception {
  String output=run(new DataFileRepairTool(),"-o","report",corruptBlockFile.getPath());
  assertTrue(output,output.contains("Number of blocks: 2 Number of corrupt blocks: 1"));
  assertTrue(output,output.contains("Number of records: 5 Number of corrupt records: 0"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.tool.TestDataFileTools </h4><pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testGetMeta() throws Exception {
  String output=run(new DataFileGetMetaTool(),sampleFile.getPath());
  assertTrue(output,output.contains("avro.schema\t" + schema.toString() + "\n"));
  assertTrue(output,output.contains(ESCAPED_KEY + "\t\n"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.tool.TestRpcReceiveAndSendTools </h4><pre class="type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Starts a server (using the tool) and sends a single message to it.
 */
@Test public void testServeAndSend() throws Exception {
  String protocolFile=System.getProperty("share.dir","../../../share") + "/test/schemas/simple.avpr";
  ByteArrayOutputStream baos1=new ByteArrayOutputStream();
  PrintStream p1=new PrintStream(baos1);
  RpcReceiveTool receive=new RpcReceiveTool();
  receive.run1(null,p1,System.err,Arrays.asList("http://0.0.0.0:0/",protocolFile,"hello","-data","\"Hello!\""));
  ByteArrayOutputStream baos2=new ByteArrayOutputStream();
  PrintStream p2=new PrintStream(baos2);
  RpcSendTool send=new RpcSendTool();
  send.run(null,p2,System.err,Arrays.asList("http://127.0.0.1:" + receive.server.getPort() + "/",protocolFile,"hello","-data","{ \"greeting\": \"Hi!\" }"));
  receive.run2(System.err);
  assertTrue(baos1.toString("UTF-8").replace("\r","").endsWith("hello\t{\"greeting\":\"Hi!\"}\n"));
  assertEquals("\"Hello!\"\n",baos2.toString("UTF-8").replace("\r",""));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.util.TestCaseFinder.SimpleCases </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testOutput() throws Exception {
  List<Object[]> result=new ArrayList<Object[]>();
  CaseFinder.find(mk(input),label,result);
  assertTrue(pr(result),eq(result,expectedOutput));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.trevni.TestBZip2Codec </h4><pre class="type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testBZip2CompressionAndDecompression() throws IOException {
  MetaData meta=new MetaData();
  meta.setCodec("bzip2");
  Codec codec=Codec.get(meta);
  assertTrue(codec instanceof BZip2Codec);
  final int inputByteSize=BZip2Codec.DEFAULT_BUFFER_SIZE * 3 + 42;
  byte[] inputByteArray=new byte[inputByteSize];
  for (int i=0; i < inputByteSize; i++) {
    inputByteArray[i]=(byte)(65 + i % 10);
  }
  ByteBuffer inputByteBuffer=ByteBuffer.wrap(inputByteArray);
  ByteBuffer compressedBuffer=codec.compress(inputByteBuffer);
  assertTrue(compressedBuffer.array().length > 0);
  assertTrue(compressedBuffer.array().length < inputByteArray.length);
  ByteBuffer decompressedBuffer=codec.decompress(compressedBuffer);
  assertTrue(decompressedBuffer.array().length == inputByteArray.length);
  byte[] outputByteArray=decompressedBuffer.array();
  for (int i=0; i < inputByteSize; i++) {
    inputByteArray[i]=outputByteArray[i];
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.trevni.TestUtil </h4><pre class="type-10 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRandomLength(){
  long total=0;
  int count=1024 * 1024;
  int min=Short.MAX_VALUE;
  int max=0;
  Random r=createRandom();
  for (int i=0; i < count; i++) {
    int length=randomLength(r);
    if (min > length)     min=length;
    if (max < length)     max=length;
    total+=length;
  }
  Assert.assertEquals(0,min);
  Assert.assertTrue(max > 1024 * 32);
  float average=total / (float)count;
  Assert.assertTrue(average > 16.0f);
  Assert.assertTrue(average < 64.0f);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.trevni.avro.TestEvolvedSchema </h4><pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTrevniEvolvedRead() throws IOException {
  AvroColumnWriter<GenericRecord> acw=new AvroColumnWriter<GenericRecord>(writer,new ColumnFileMetaData());
  acw.write(writtenRecord);
  File serializedTrevni=File.createTempFile("trevni",null);
  acw.writeTo(serializedTrevni);
  AvroColumnReader.Params params=new Params(serializedTrevni);
  params.setSchema(evolved);
  AvroColumnReader<GenericRecord> acr=new AvroColumnReader<GenericRecord>(params);
  GenericRecord readRecord=acr.next();
  assertEquals(evolvedRecord,readRecord);
  assertFalse(acr.hasNext());
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAvroEvolvedRead() throws IOException {
  File serializedAvro=File.createTempFile("avro",null);
  DatumWriter<GenericRecord> dw=new GenericDatumWriter<GenericRecord>(writer);
  DataFileWriter<GenericRecord> dfw=new DataFileWriter<GenericRecord>(dw);
  dfw.create(writer,serializedAvro);
  dfw.append(writtenRecord);
  dfw.flush();
  dfw.close();
  GenericDatumReader<GenericRecord> reader=new GenericDatumReader<GenericRecord>(writer);
  reader.setExpected(evolved);
  DataFileReader<GenericRecord> dfr=new DataFileReader<GenericRecord>(serializedAvro,reader);
  GenericRecord readRecord=dfr.next();
  assertEquals(evolvedRecord,readRecord);
  assertFalse(dfr.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.trevni.avro.TestMetadataFiltering </h4><pre class="type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testMetadataFiltering() throws Exception {
  JobConf job=new JobConf();
  job.set(AvroTrevniOutputFormat.META_PREFIX + "test1","1");
  job.set(AvroTrevniOutputFormat.META_PREFIX + "test2","2");
  job.set("test3","3");
  job.set(AvroJob.TEXT_PREFIX + "test4","4");
  job.set(AvroTrevniOutputFormat.META_PREFIX + "test5","5");
  ColumnFileMetaData metadata=AvroTrevniOutputFormat.filterMetadata(job);
  assertTrue(metadata.get("test1") != null);
  assertTrue(new String(metadata.get("test1")).equals("1"));
  assertTrue(metadata.get("test2") != null);
  assertTrue(new String(metadata.get("test2")).equals("2"));
  assertTrue(metadata.get("test5") != null);
  assertTrue(new String(metadata.get("test5")).equals("5"));
  assertTrue(metadata.get("test3") == null);
  assertTrue(metadata.get("test4") == null);
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
