<h3><span class=" glyphicon glyphicon-tag"/>&nbspUtilityVerifier</h3><kbd>Verifies (un)successful execution of the test case by reporting explicitly a failure</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.avro.TestDataFileCorruption </h4><pre class="type-13 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCorruptedFile() throws IOException {
  Schema schema=Schema.create(Type.STRING);
  DataFileWriter<Utf8> w=new DataFileWriter<Utf8>(new GenericDatumWriter<Utf8>(schema));
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  w.create(schema,baos);
  w.append(new Utf8("apple"));
  w.append(new Utf8("banana"));
  w.sync();
  w.append(new Utf8("celery"));
  w.append(new Utf8("date"));
  long pos=w.sync();
  w.append(new Utf8("endive"));
  w.append(new Utf8("fig"));
  w.close();
  byte[] original=baos.toByteArray();
  int corruptPosition=(int)pos - DataFileConstants.SYNC_SIZE;
  int corruptedBytes=3;
  byte[] corrupted=new byte[original.length + corruptedBytes];
  System.arraycopy(original,0,corrupted,0,corruptPosition);
  System.arraycopy(original,corruptPosition,corrupted,corruptPosition + corruptedBytes,original.length - corruptPosition);
  File file=makeFile("corrupt");
  file.deleteOnExit();
  FileOutputStream out=new FileOutputStream(file);
  out.write(corrupted);
  out.close();
  DataFileReader r=new DataFileReader<Utf8>(file,new GenericDatumReader<Utf8>(schema));
  assertEquals("apple",r.next().toString());
  assertEquals("banana",r.next().toString());
  long prevSync=r.previousSync();
  try {
    r.next();
    fail("Corrupt block should throw exception");
  }
 catch (  AvroRuntimeException e) {
    assertEquals("Invalid sync!",e.getCause().getMessage());
  }
  r.sync(prevSync);
  assertEquals("endive",r.next().toString());
  assertEquals("fig",r.next().toString());
  assertFalse(r.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestSchema </h4><pre class="type-10 type-13 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEnumMismatch() throws Exception {
  Schema actual=Schema.parse("{\"type\":\"enum\",\"name\":\"E\",\"symbols\":[\"X\",\"Y\"]}");
  Schema expected=Schema.parse("{\"type\":\"enum\",\"name\":\"E\",\"symbols\":[\"Y\",\"Z\"]}");
  ByteArrayOutputStream out=new ByteArrayOutputStream();
  DatumWriter writer=new GenericDatumWriter(actual);
  Encoder encoder=EncoderFactory.get().directBinaryEncoder(out,null);
  writer.write(new GenericData.EnumSymbol(actual,"Y"),encoder);
  writer.write(new GenericData.EnumSymbol(actual,"X"),encoder);
  encoder.flush();
  byte[] data=out.toByteArray();
  Decoder decoder=DecoderFactory.get().binaryDecoder(data,null);
  DatumReader<String> in=new GenericDatumReader<String>(actual,expected);
  assertEquals("Wrong value",new GenericData.EnumSymbol(expected,"Y"),in.read(null,decoder));
  try {
    in.read(null,decoder);
    fail("Should have thrown exception.");
  }
 catch (  AvroTypeException e) {
  }
}

</code></pre>

<br>
<pre class="type-13 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDuplicateRecordFieldName(){
  final Schema schema=Schema.createRecord("RecordName",null,null,false);
  final List<Field> fields=new ArrayList<Field>();
  fields.add(new Field("field_name",Schema.create(Type.NULL),null,null));
  fields.add(new Field("field_name",Schema.create(Type.INT),null,null));
  try {
    schema.setFields(fields);
    fail("Should not be able to create a record with duplicate field name.");
  }
 catch (  AvroRuntimeException are) {
    assertTrue(are.getMessage().contains("Duplicate field field_name in record RecordName"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.compiler.idl.TestIdl </h4><pre class="type-12 type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void runTests() throws Exception {
  if (!"run".equals(TEST_MODE))   return;
  int passed=0, failed=0;
  for (  GenTest t : tests) {
    try {
      t.run();
      passed++;
    }
 catch (    Exception e) {
      failed++;
      System.err.println("Failed: " + t.testName());
      e.printStackTrace(System.err);
    }
  }
  if (failed > 0) {
    fail(String.valueOf(failed) + " tests failed");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.data.TestTimeConversions </h4><pre class="type-13 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTimestampMicrosConversion() throws Exception {
  TimestampMicrosConversion conversion=new TimestampMicrosConversion();
  long May_28_2015_21_46_53_221_843_instant=1432849613221L * 1000 + 843;
  DateTime May_28_2015_21_46_53_221=new DateTime(2015,5,28,21,46,53,221,DateTimeZone.UTC);
  Assert.assertEquals("Known date should be correct",May_28_2015_21_46_53_221,conversion.fromLong(May_28_2015_21_46_53_221_843_instant,TIMESTAMP_MICROS_SCHEMA,LogicalTypes.timestampMicros()));
  try {
    conversion.toLong(May_28_2015_21_46_53_221,TIMESTAMP_MICROS_SCHEMA,LogicalTypes.timestampMicros());
    Assert.fail("Should not convert DateTime to long");
  }
 catch (  UnsupportedOperationException e) {
  }
}

</code></pre>

<br>
<pre class="type-13 type-2 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTimeMicrosConversion() throws Exception {
  TimeMicrosConversion conversion=new TimeMicrosConversion();
  LocalTime oneAM=new LocalTime(1,0);
  LocalTime afternoon=new LocalTime(15,14,15,926);
  long afternoonMicros=((long)(15 * 60 + 14) * 60 + 15) * 1000000 + 926551;
  Assert.assertEquals("Midnight should be 0",LocalTime.MIDNIGHT,conversion.fromLong(0L,TIME_MICROS_SCHEMA,LogicalTypes.timeMicros()));
  Assert.assertEquals("01:00 should be 3,600,000,000",oneAM,conversion.fromLong(3600000000L,TIME_MICROS_SCHEMA,LogicalTypes.timeMicros()));
  Assert.assertEquals("15:14:15.926000 should be " + afternoonMicros,afternoon,conversion.fromLong(afternoonMicros,TIME_MICROS_SCHEMA,LogicalTypes.timeMicros()));
  try {
    conversion.toLong(afternoon,TIMESTAMP_MICROS_SCHEMA,LogicalTypes.timestampMicros());
    Assert.fail("Should not convert LocalTime to long");
  }
 catch (  UnsupportedOperationException e) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.generic.TestGenericData </h4><pre class="type-13 type-2 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testArrayListInterface(){
  Schema schema=Schema.createArray(Schema.create(Schema.Type.INT));
  GenericArray<Integer> array=new GenericData.Array<Integer>(1,schema);
  array.add(99);
  assertEquals(new Integer(99),array.get(0));
  List<Integer> list=new ArrayList<Integer>();
  list.add(99);
  assertEquals(array,list);
  assertEquals(list,array);
  assertEquals(list.hashCode(),array.hashCode());
  try {
    array.get(2);
    fail("Expected IndexOutOfBoundsException getting index 2");
  }
 catch (  IndexOutOfBoundsException e) {
  }
  array.clear();
  assertEquals(0,array.size());
  try {
    array.get(0);
    fail("Expected IndexOutOfBoundsException getting index 0 after clear()");
  }
 catch (  IndexOutOfBoundsException e) {
  }
}

</code></pre>

<br>
<pre class="type-13 type-2 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testArrayRemove(){
  Schema schema=Schema.createArray(Schema.create(Schema.Type.INT));
  GenericArray<Integer> array=new GenericData.Array<Integer>(10,schema);
  array.clear();
  for (int i=0; i < 10; ++i)   array.add(i);
  assertEquals(10,array.size());
  assertEquals(new Integer(0),array.get(0));
  assertEquals(new Integer(9),array.get(9));
  array.remove(0);
  assertEquals(9,array.size());
  assertEquals(new Integer(1),array.get(0));
  assertEquals(new Integer(2),array.get(1));
  assertEquals(new Integer(9),array.get(8));
  try {
    array.get(9);
    fail("Expected IndexOutOfBoundsException after removing an element");
  }
 catch (  IndexOutOfBoundsException e) {
  }
  try {
    array.set(9,99);
    fail("Expected IndexOutOfBoundsException after removing an element");
  }
 catch (  IndexOutOfBoundsException e) {
  }
  try {
    array.remove(9);
    fail("Expected IndexOutOfBoundsException after removing an element");
  }
 catch (  IndexOutOfBoundsException e) {
  }
  assertEquals(new Integer(9),array.remove(8));
  assertEquals(8,array.size());
  array.add(88);
  assertEquals(new Integer(88),array.get(8));
}

</code></pre>

<br>
<pre class="type-10 type-13 type-2 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCompare(){
  Field integerField=new Field("test",Schema.create(Type.INT),null,null);
  List<Field> fields=new ArrayList<Field>();
  fields.add(integerField);
  Schema record=Schema.createRecord("test",null,null,false);
  record.setFields(fields);
  ByteArrayOutputStream b1=new ByteArrayOutputStream(5);
  ByteArrayOutputStream b2=new ByteArrayOutputStream(5);
  BinaryEncoder b1Enc=EncoderFactory.get().binaryEncoder(b1,null);
  BinaryEncoder b2Enc=EncoderFactory.get().binaryEncoder(b2,null);
  Record testDatum1=new Record(record);
  testDatum1.put(0,1);
  Record testDatum2=new Record(record);
  testDatum2.put(0,2);
  GenericDatumWriter<Record> gWriter=new GenericDatumWriter<Record>(record);
  Integer start1=0, start2=0;
  try {
    gWriter.write(testDatum1,b1Enc);
    b1Enc.flush();
    start1=b1.size();
    gWriter.write(testDatum1,b1Enc);
    b1Enc.flush();
    b1.close();
    gWriter.write(testDatum2,b2Enc);
    b2Enc.flush();
    start2=b2.size();
    gWriter.write(testDatum2,b2Enc);
    b2Enc.flush();
    b2.close();
    assertEquals(-1,BinaryData.compare(b1.toByteArray(),start1,b2.toByteArray(),start2,record));
  }
 catch (  IOException e) {
    fail("IOException while writing records to output stream.");
  }
}

</code></pre>

<br>
<pre class="type-13 type-2 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testArrayAddAtLocation(){
  Schema schema=Schema.createArray(Schema.create(Schema.Type.INT));
  GenericArray<Integer> array=new GenericData.Array<Integer>(6,schema);
  array.clear();
  for (int i=0; i < 5; ++i)   array.add(i);
  assertEquals(5,array.size());
  array.add(0,6);
  assertEquals(new Integer(6),array.get(0));
  assertEquals(6,array.size());
  assertEquals(new Integer(0),array.get(1));
  assertEquals(new Integer(4),array.get(5));
  array.add(6,7);
  assertEquals(new Integer(7),array.get(6));
  assertEquals(7,array.size());
  assertEquals(new Integer(6),array.get(0));
  assertEquals(new Integer(4),array.get(5));
  array.add(1,8);
  assertEquals(new Integer(8),array.get(1));
  assertEquals(new Integer(0),array.get(2));
  assertEquals(new Integer(6),array.get(0));
  assertEquals(8,array.size());
  try {
    array.get(9);
    fail("Expected IndexOutOfBoundsException after adding elements");
  }
 catch (  IndexOutOfBoundsException e) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.generic.TestGenericDatumWriter </h4><pre class="type-13 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMapConcurrentModification() throws Exception {
  String json="{\"type\": \"map\", \"values\": \"int\" }";
  Schema s=Schema.parse(json);
  final Map<String,Integer> m=new HashMap<String,Integer>();
  ByteArrayOutputStream bao=new ByteArrayOutputStream();
  final GenericDatumWriter<Map<String,Integer>> w=new GenericDatumWriter<Map<String,Integer>>(s);
  CountDownLatch sizeWrittenSignal=new CountDownLatch(1);
  CountDownLatch eltAddedSignal=new CountDownLatch(1);
  final TestEncoder e=new TestEncoder(EncoderFactory.get().directBinaryEncoder(bao,null),sizeWrittenSignal,eltAddedSignal);
  ExecutorService executor=Executors.newSingleThreadExecutor();
  Future<Void> result=executor.submit(new Callable<Void>(){
    @Override public Void call() throws Exception {
      w.write(m,e);
      return null;
    }
  }
);
  sizeWrittenSignal.await();
  m.put("a",7);
  eltAddedSignal.countDown();
  try {
    result.get();
    fail("Expected ConcurrentModificationException");
  }
 catch (  ExecutionException ex) {
    assertTrue(ex.getCause() instanceof ConcurrentModificationException);
  }
}

</code></pre>

<br>
<pre class="type-13 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testArrayConcurrentModification() throws Exception {
  String json="{\"type\": \"array\", \"items\": \"int\" }";
  Schema s=Schema.parse(json);
  final GenericArray<Integer> a=new GenericData.Array<Integer>(1,s);
  ByteArrayOutputStream bao=new ByteArrayOutputStream();
  final GenericDatumWriter<GenericArray<Integer>> w=new GenericDatumWriter<GenericArray<Integer>>(s);
  CountDownLatch sizeWrittenSignal=new CountDownLatch(1);
  CountDownLatch eltAddedSignal=new CountDownLatch(1);
  final TestEncoder e=new TestEncoder(EncoderFactory.get().directBinaryEncoder(bao,null),sizeWrittenSignal,eltAddedSignal);
  ExecutorService executor=Executors.newSingleThreadExecutor();
  Future<Void> result=executor.submit(new Callable<Void>(){
    @Override public Void call() throws Exception {
      w.write(a,e);
      return null;
    }
  }
);
  sizeWrittenSignal.await();
  a.add(7);
  eltAddedSignal.countDown();
  try {
    result.get();
    fail("Expected ConcurrentModificationException");
  }
 catch (  ExecutionException ex) {
    assertTrue(ex.getCause() instanceof ConcurrentModificationException);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.generic.TestGenericRecordBuilder </h4><pre class="type-13 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test() public void buildWithoutSettingRequiredFields2(){
  try {
    new GenericRecordBuilder(recordSchema()).set("anArray",Arrays.asList(new String[]{"one"})).build();
    Assert.fail("Should have thrown " + AvroRuntimeException.class.getCanonicalName());
  }
 catch (  AvroRuntimeException e) {
    Assert.assertTrue(e.getMessage().contains("intField"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.io.parsing.TestResolvingGrammarGenerator </h4><pre class="type-13 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRecordMissingRequiredFieldError() throws Exception {
  Schema schemaWithoutField=SchemaBuilder.record("MyRecord").namespace("ns").fields().name("field1").type().stringType().noDefault().endRecord();
  Schema schemaWithField=SchemaBuilder.record("MyRecord").namespace("ns").fields().name("field1").type().stringType().noDefault().name("field2").type().stringType().noDefault().endRecord();
  GenericData.Record record=new GenericRecordBuilder(schemaWithoutField).set("field1","someValue").build();
  byte[] data=writeRecord(schemaWithoutField,record);
  try {
    readRecord(schemaWithField,data);
    Assert.fail("Expected exception not thrown");
  }
 catch (  AvroTypeException typeException) {
    Assert.assertEquals("Incorrect exception message","Found ns.MyRecord, expecting ns.MyRecord, missing required field field2",typeException.getMessage());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.ipc.TestNettyServerWithCallbacks </h4><pre class="type-13 type-2 type-4 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test() public void error() throws IOException, InterruptedException, TimeoutException {
  try {
    simpleClient.error();
    Assert.fail("Expected " + TestError.class.getCanonicalName());
  }
 catch (  TestError e) {
  }
catch (  AvroRemoteException e) {
    e.printStackTrace();
    Assert.fail("Unexpected error: " + e.toString());
  }
  CallFuture<Void> future=new CallFuture<Void>();
  simpleClient.error(future);
  try {
    future.get(2,TimeUnit.SECONDS);
    Assert.fail("Expected " + TestError.class.getCanonicalName() + " to be thrown");
  }
 catch (  ExecutionException e) {
    Assert.assertTrue("Expected " + TestError.class.getCanonicalName(),e.getCause() instanceof TestError);
  }
  Assert.assertNotNull(future.getError());
  Assert.assertTrue("Expected " + TestError.class.getCanonicalName(),future.getError() instanceof TestError);
  Assert.assertNull(future.getResult());
  final CountDownLatch latch=new CountDownLatch(1);
  final AtomicReference<Throwable> errorRef=new AtomicReference<Throwable>();
  simpleClient.error(new Callback<Void>(){
    @Override public void handleResult(    Void result){
      Assert.fail("Expected " + TestError.class.getCanonicalName());
    }
    @Override public void handleError(    Throwable error){
      errorRef.set(error);
      latch.countDown();
    }
  }
);
  Assert.assertTrue("Timed out waiting for error",latch.await(2,TimeUnit.SECONDS));
  Assert.assertNotNull(errorRef.get());
  Assert.assertTrue(errorRef.get() instanceof TestError);
}

</code></pre>

<br>
<pre class="type-10 type-13 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void cancelPendingRequestsOnTransceiverClose() throws Exception {
  BlockingSimpleImpl blockingSimpleImpl=new BlockingSimpleImpl();
  Server server2=new NettyServer(new SpecificResponder(Simple.class,blockingSimpleImpl),new InetSocketAddress(0));
  server2.start();
  try {
    int serverPort=server2.getPort();
    System.out.println("server2 port : " + serverPort);
    CallFuture<Integer> addFuture=new CallFuture<Integer>();
    Transceiver transceiver2=new NettyTransceiver(new InetSocketAddress(serverPort),TestNettyServer.CONNECT_TIMEOUT_MILLIS);
    try {
      Simple.Callback simpleClient2=SpecificRequestor.getClient(Simple.Callback.class,transceiver2);
      Assert.assertEquals(3,simpleClient2.add(1,2));
      blockingSimpleImpl.acquireRunPermit();
      simpleClient2.add(1,2,addFuture);
    }
  finally {
      transceiver2.close();
    }
    boolean ioeThrown=false;
    try {
      addFuture.get();
    }
 catch (    ExecutionException e) {
      ioeThrown=e.getCause() instanceof IOException;
      Assert.assertTrue(e.getCause() instanceof IOException);
    }
catch (    Exception e) {
      e.printStackTrace();
      Assert.fail("Unexpected Exception: " + e.toString());
    }
    Assert.assertTrue("Expected IOException to be thrown",ioeThrown);
  }
  finally {
    blockingSimpleImpl.releaseRunPermit();
    server2.close();
  }
}

</code></pre>

<br>
<pre class="type-10 type-13 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSendAfterChannelClose() throws Exception {
  Server server2=new NettyServer(new SpecificResponder(Simple.class,simpleService),new InetSocketAddress(0));
  server2.start();
  try {
    int serverPort=server2.getPort();
    System.out.println("server2 port : " + serverPort);
    Transceiver transceiver2=new NettyTransceiver(new InetSocketAddress(serverPort),TestNettyServer.CONNECT_TIMEOUT_MILLIS);
    try {
      Simple.Callback simpleClient2=SpecificRequestor.getClient(Simple.Callback.class,transceiver2);
      Assert.assertEquals(3,simpleClient2.add(1,2));
      CallFuture<Integer> addFuture=new CallFuture<Integer>();
      simpleClient2.add(1,2,addFuture);
      Assert.assertEquals(new Integer(3),addFuture.get());
      server2.close();
      Thread.sleep(1000L);
      boolean ioeCaught=false;
      try {
        simpleClient2.add(1,2);
        Assert.fail("Send after server close should have thrown Exception");
      }
 catch (      AvroRemoteException e) {
        ioeCaught=e.getCause() instanceof IOException;
        Assert.assertTrue("Expected IOException",ioeCaught);
      }
catch (      Exception e) {
        e.printStackTrace();
        throw e;
      }
      Assert.assertTrue("Expected IOException",ioeCaught);
      ioeCaught=false;
      try {
        addFuture=new CallFuture<Integer>();
        simpleClient2.add(1,2,addFuture);
        addFuture.get();
        Assert.fail("Send after server close should have thrown Exception");
      }
 catch (      IOException e) {
        ioeCaught=true;
      }
catch (      Exception e) {
        e.printStackTrace();
        throw e;
      }
      Assert.assertTrue("Expected IOException",ioeCaught);
    }
  finally {
      transceiver2.close();
    }
  }
  finally {
    server2.close();
  }
}

</code></pre>

<br>
<pre class="type-10 type-13 type-2 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void cancelPendingRequestsAfterChannelCloseByServerShutdown() throws Exception {
  BlockingSimpleImpl blockingSimpleImpl=new BlockingSimpleImpl();
  Server server2=new NettyServer(new SpecificResponder(Simple.class,blockingSimpleImpl),new InetSocketAddress(0));
  server2.start();
  Transceiver transceiver2=null;
  try {
    int serverPort=server2.getPort();
    System.out.println("server2 port : " + serverPort);
    transceiver2=new NettyTransceiver(new InetSocketAddress(serverPort),TestNettyServer.CONNECT_TIMEOUT_MILLIS);
    final Simple.Callback simpleClient2=SpecificRequestor.getClient(Simple.Callback.class,transceiver2);
    blockingSimpleImpl.acquireEnterPermit();
    blockingSimpleImpl.acquireRunPermit();
    Thread t=new Thread(new Runnable(){
      @Override public void run(){
        try {
          simpleClient2.add(3,4);
          Assert.fail("Expected an exception");
        }
 catch (        Exception e) {
        }
      }
    }
);
    t.start();
    blockingSimpleImpl.acquireEnterPermit();
    server2.close();
    t.join(10000);
    Assert.assertFalse("Client request should not be blocked on server shutdown",t.isAlive());
  }
  finally {
    blockingSimpleImpl.releaseRunPermit();
    server2.close();
    if (transceiver2 != null)     transceiver2.close();
  }
}

</code></pre>

<br>
<pre class="type-10 type-13 type-2 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void clientReconnectAfterServerRestart() throws Exception {
  SimpleImpl simpleImpl=new BlockingSimpleImpl();
  Server server2=new NettyServer(new SpecificResponder(Simple.class,simpleImpl),new InetSocketAddress(0));
  try {
    server2.start();
    int serverPort=server2.getPort();
    System.out.println("server2 port : " + serverPort);
    Transceiver transceiver2=new NettyTransceiver(new InetSocketAddress(serverPort),TestNettyServer.CONNECT_TIMEOUT_MILLIS);
    Simple.Callback simpleClient2=SpecificRequestor.getClient(Simple.Callback.class,transceiver2);
    Assert.assertEquals(3,simpleClient2.add(1,2));
    server2.close();
    try {
      simpleClient2.add(2,-1);
      Assert.fail("Client should not be able to invoke RPCs " + "because server is no longer running");
    }
 catch (    Exception e) {
    }
    Thread.sleep(2000L);
    server2=new NettyServer(new SpecificResponder(Simple.class,simpleImpl),new InetSocketAddress(serverPort));
    server2.start();
    Assert.assertEquals(3,simpleClient2.add(1,2));
  }
  finally {
    server2.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.ipc.specific.TestSpecificRequestor </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testHashCode() throws IOException {
  try {
    proxy.hashCode();
  }
 catch (  AvroRuntimeException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testEquals() throws IOException {
  try {
    proxy.equals(proxy);
  }
 catch (  AvroRuntimeException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testToString() throws IOException {
  try {
    proxy.toString();
  }
 catch (  AvroRuntimeException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.mapred.TestPair </h4><pre class="type-13 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCollectionFailure() throws Exception {
  try {
    new Pair("foo",new ArrayList());
  }
 catch (  AvroRuntimeException e) {
    assertTrue(e.getMessage().startsWith("Cannot infer schema"));
    return;
  }
  fail("Expected an AvroRuntimeException");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.specific.TestSpecificBuilderTree </h4><pre class="type-13 type-14 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=org.apache.avro.AvroRuntimeException.class) public void failOnIncompleteTree(){
  Request.Builder requestBuilder=createPartialBuilder();
  Request request=requestBuilder.build();
  fail("Should NEVER get here");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.specific.TestSpecificData </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * Tests that non Stringable datum are rejected by specific writers. 
 */
@Test public void testNonStringable() throws Exception {
  final Schema string=Schema.create(Type.STRING);
  final ByteArrayOutputStream baos=new ByteArrayOutputStream();
  final Encoder encoder=EncoderFactory.get().directBinaryEncoder(baos,null);
  final DatumWriter writer=new SpecificDatumWriter(string);
  try {
    writer.write(new Object(),encoder);
    fail("Non stringable object should be rejected.");
  }
 catch (  ClassCastException cce) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.specific.TestSpecificRecordBuilder </h4><pre class="type-13 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void buildWithoutSettingRequiredFields2(){
  try {
    Person.newBuilder().setYearOfBirth(1900).setState("MA").build();
    Assert.fail("Should have thrown " + AvroRuntimeException.class.getCanonicalName());
  }
 catch (  AvroRuntimeException e) {
    Assert.assertTrue(e.getMessage().contains("name"));
  }
}

</code></pre>

<br>
<pre class="type-13 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void buildWithoutSettingRequiredFields3(){
  try {
    Person.newBuilder().setName("Anon").setState("CA").build();
    Assert.fail("Should have thrown " + AvroRuntimeException.class.getCanonicalName());
  }
 catch (  AvroRuntimeException e) {
    Assert.assertTrue(e.getMessage().contains("year_of_birth"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.tool.TestDataFileTools </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testFailureOnWritingPartialJSONValues() throws Exception {
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  PrintStream out=new PrintStream(baos);
  try {
    new DataFileWriteTool().run(new StringBufferInputStream("{"),new PrintStream(out),null,Arrays.asList("-schema","{ \"type\":\"record\", \"fields\":" + "[{\"name\":\"foo\", \"type\":\"string\"}], " + "\"name\":\"boring\" }","-"));
    fail("Expected exception.");
  }
 catch (  IOException expected) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.tool.TestMain </h4><pre class="type-12 type-13 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testToolDescriptionLength(){
  Main m=new Main();
  for (  Tool t : m.tools.values()) {
    if (m.maxLen + 2 + t.getShortDescription().length() > 80) {
      fail("Tool description too long: " + t.getName());
    }
  }
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
