<h3><span class=" glyphicon glyphicon-tag"/>&nbspHybridVerifier</h3><kbd>Contains more than 2 JUnit-based stereotypes</kbd><br><br><br><h4 style="margin:0px">Class: $.SimpleOrderServiceIntegrationTest </h4><pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void simpleRoundTripTest() throws Exception {
  Order simpleOrder=createOrder();
  Confirmation c=client.submitOrder(simpleOrder);
  assertEquals(c.getOrderId(),simpleOrder.getOrderId());
  assertEquals(c.getCustomerId(),simpleOrder.getCustomerId());
  assertTrue(c.getEstimatedCompletion() > 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestCircularReferences </h4><pre class="type-10 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test() throws IOException {
  ReferenceManager manager=new ReferenceManager();
  GenericData model=new GenericData();
  model.addLogicalTypeConversion(manager.getTracker());
  model.addLogicalTypeConversion(manager.getHandler());
  Schema parentSchema=Schema.createRecord("Parent",null,null,false);
  Schema parentRefSchema=Schema.createUnion(Schema.create(Schema.Type.NULL),Schema.create(Schema.Type.LONG),parentSchema);
  Reference parentRef=new Reference("parent");
  List<Schema.Field> childFields=new ArrayList<Schema.Field>();
  childFields.add(new Schema.Field("c",Schema.create(Schema.Type.STRING),null,null));
  childFields.add(new Schema.Field("parent",parentRefSchema,null,null));
  Schema childSchema=parentRef.addToSchema(Schema.createRecord("Child",null,null,false,childFields));
  List<Schema.Field> parentFields=new ArrayList<Schema.Field>();
  parentFields.add(new Schema.Field("id",Schema.create(Schema.Type.LONG),null,null));
  parentFields.add(new Schema.Field("p",Schema.create(Schema.Type.STRING),null,null));
  parentFields.add(new Schema.Field("child",childSchema,null,null));
  parentSchema.setFields(parentFields);
  Referenceable idRef=new Referenceable("id");
  Schema schema=idRef.addToSchema(parentSchema);
  System.out.println("Schema: " + schema.toString(true));
  Record parent=new Record(schema);
  parent.put("id",1L);
  parent.put("p","parent data!");
  Record child=new Record(childSchema);
  child.put("c","child data!");
  child.put("parent",parent);
  parent.put("child",child);
  File data=write(model,schema,parent);
  List<Record> records=read(model,schema,data);
  Record actual=records.get(0);
  Assert.assertEquals("Should correctly read back the parent id",1L,actual.get("id"));
  Assert.assertEquals("Should correctly read back the parent data",new Utf8("parent data!"),actual.get("p"));
  Record actualChild=(Record)actual.get("child");
  Assert.assertEquals("Should correctly read back the child data",new Utf8("child data!"),actualChild.get("c"));
  Object childParent=actualChild.get("parent");
  Assert.assertTrue("Should have a parent Record object",childParent instanceof Record);
  Record childParentRecord=(Record)actualChild.get("parent");
  Assert.assertEquals("Should have the right parent id",1L,childParentRecord.get("id"));
  Assert.assertEquals("Should have the right parent data",new Utf8("parent data!"),childParentRecord.get("p"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestDataFileCorruption </h4><pre class="type-13 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCorruptedFile() throws IOException {
  Schema schema=Schema.create(Type.STRING);
  DataFileWriter<Utf8> w=new DataFileWriter<Utf8>(new GenericDatumWriter<Utf8>(schema));
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  w.create(schema,baos);
  w.append(new Utf8("apple"));
  w.append(new Utf8("banana"));
  w.sync();
  w.append(new Utf8("celery"));
  w.append(new Utf8("date"));
  long pos=w.sync();
  w.append(new Utf8("endive"));
  w.append(new Utf8("fig"));
  w.close();
  byte[] original=baos.toByteArray();
  int corruptPosition=(int)pos - DataFileConstants.SYNC_SIZE;
  int corruptedBytes=3;
  byte[] corrupted=new byte[original.length + corruptedBytes];
  System.arraycopy(original,0,corrupted,0,corruptPosition);
  System.arraycopy(original,corruptPosition,corrupted,corruptPosition + corruptedBytes,original.length - corruptPosition);
  File file=makeFile("corrupt");
  file.deleteOnExit();
  FileOutputStream out=new FileOutputStream(file);
  out.write(corrupted);
  out.close();
  DataFileReader r=new DataFileReader<Utf8>(file,new GenericDatumReader<Utf8>(schema));
  assertEquals("apple",r.next().toString());
  assertEquals("banana",r.next().toString());
  long prevSync=r.previousSync();
  try {
    r.next();
    fail("Corrupt block should throw exception");
  }
 catch (  AvroRuntimeException e) {
    assertEquals("Invalid sync!",e.getCause().getMessage());
  }
  r.sync(prevSync);
  assertEquals("endive",r.next().toString());
  assertEquals("fig",r.next().toString());
  assertFalse(r.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestDataFileDeflate </h4><pre class="type-10 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWriteAndRead() throws IOException {
  Schema schema=Schema.create(Type.STRING);
  DataFileWriter<Utf8> w=new DataFileWriter<Utf8>(new GenericDatumWriter<Utf8>(schema));
  w.setCodec(CodecFactory.deflateCodec(6));
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  w.create(schema,baos);
  w.append(new Utf8("hello world"));
  w.append(new Utf8("hello moon"));
  w.sync();
  w.append(new Utf8("bye bye world"));
  w.append(new Utf8("bye bye moon"));
  w.close();
  DataFileStream<Utf8> r=new DataFileStream<Utf8>(new ByteArrayInputStream(baos.toByteArray()),new GenericDatumReader<Utf8>(schema));
  assertEquals("hello world",r.next().toString());
  assertEquals("hello moon",r.next().toString());
  assertEquals("bye bye world",r.next().toString());
  assertEquals("bye bye moon",r.next().toString());
  assertFalse(r.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestDataFileMeta </h4><pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test() public void testUseMeta() throws IOException {
  DataFileWriter<?> w=new DataFileWriter(new GenericDatumWriter());
  File f=AvroTestUtil.tempFile(getClass(),"testDataFileMeta.avro");
  w.setMeta("hello","bar");
  w.create(Schema.create(Type.NULL),f);
  w.close();
  DataFileStream<Void> r=new DataFileStream<Void>(new FileInputStream(f),new GenericDatumReader<Void>());
  assertTrue(r.getMetaKeys().contains("hello"));
  assertEquals("bar",r.getMetaString("hello"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestLogicalType </h4><pre class="type-10 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDecimalFromSchema(){
  Schema schema=Schema.createFixed("aFixed",null,null,4);
  schema.addProp("logicalType","decimal");
  schema.addProp("precision",9);
  schema.addProp("scale",2);
  LogicalType logicalType=LogicalTypes.fromSchemaIgnoreInvalid(schema);
  Assert.assertTrue("Should be a Decimal",logicalType instanceof LogicalTypes.Decimal);
  LogicalTypes.Decimal decimal=(LogicalTypes.Decimal)logicalType;
  Assert.assertEquals("Should have correct precision",9,decimal.getPrecision());
  Assert.assertEquals("Should have correct scale",2,decimal.getScale());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestNamespaceSpecific </h4><pre class="type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testError() throws IOException {
  TestError error=null;
  try {
    proxy.error();
  }
 catch (  TestError e) {
    error=e;
  }
  assertNotNull(error);
  assertEquals("an error",error.getMessage$().toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestProtocol </h4><pre class="type-10 type-2 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSplitProtocolBuild(){
  Protocol p=new Protocol("P",null,"foo");
  p.addProp("property","some value");
  String protocolString=p.toString();
  final int mid=protocolString.length() / 2;
  String[] parts={protocolString.substring(0,mid),protocolString.substring(mid)};
  Protocol parsedStringProtocol=org.apache.avro.Protocol.parse(protocolString);
  Protocol parsedArrayOfStringProtocol=org.apache.avro.Protocol.parse(protocolString.substring(0,mid),protocolString.substring(mid));
  assertNotNull(parsedStringProtocol);
  assertNotNull(parsedArrayOfStringProtocol);
  assertEquals(parsedStringProtocol.toString(),parsedArrayOfStringProtocol.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestProtocolGeneric </h4><pre class="type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testError() throws IOException {
  GenericRecord params=new GenericData.Record(PROTOCOL.getMessages().get("error").getRequest());
  AvroRemoteException error=null;
  try {
    requestor.request("error",params);
  }
 catch (  AvroRemoteException e) {
    error=e;
  }
  assertNotNull(error);
  assertEquals("an error",((GenericRecord)error.getValue()).get("message").toString());
}

</code></pre>

<br>
<pre class="type-4 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUndeclaredError() throws IOException {
  this.throwUndeclaredError=true;
  RuntimeException error=null;
  GenericRecord params=new GenericData.Record(PROTOCOL.getMessages().get("error").getRequest());
  try {
    requestor.request("error",params);
  }
 catch (  RuntimeException e) {
    error=e;
  }
 finally {
    this.throwUndeclaredError=false;
  }
  assertNotNull(error);
  assertTrue(error.toString().contains("foo"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestProtocolReflect </h4><pre class="type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testError() throws IOException {
  SimpleException error=null;
  try {
    proxy.error();
  }
 catch (  SimpleException e) {
    error=e;
  }
  assertNotNull(error);
  assertEquals("foo",error.getMessage());
}

</code></pre>

<br>
<pre class="type-4 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUndeclaredError() throws Exception {
  this.throwUndeclaredError=true;
  RuntimeException error=null;
  try {
    proxy.error();
  }
 catch (  RuntimeException e) {
    error=e;
  }
 finally {
    this.throwUndeclaredError=false;
  }
  assertNotNull(error);
  assertTrue(error.toString().contains("foo"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestProtocolSpecific </h4><pre class="type-4 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUndeclaredError() throws Exception {
  this.throwUndeclaredError=true;
  RuntimeException error=null;
  try {
    proxy.error();
  }
 catch (  RuntimeException e) {
    error=e;
  }
 finally {
    this.throwUndeclaredError=false;
  }
  assertNotNull(error);
  assertTrue(error.toString().contains("foo"));
}

</code></pre>

<br>
<pre class="type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testError() throws IOException {
  TestError error=null;
  try {
    proxy.error();
  }
 catch (  TestError e) {
    error=e;
  }
  assertNotNull(error);
  assertEquals("an error",error.getMessage$().toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestSchema </h4><pre class="type-10 type-2 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSchemaWithFields(){
  List<Field> fields=new ArrayList<Field>();
  fields.add(new Field("field_name1",Schema.create(Type.NULL),null,null));
  fields.add(new Field("field_name2",Schema.create(Type.INT),null,null));
  Schema schema=Schema.createRecord("foobar",null,null,false,fields);
  String schemaString=schema.toString();
  assertNotNull(schemaString);
  assertEquals(2,schema.getFields().size());
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAliases() throws Exception {
  String t1="{\"type\":\"record\",\"name\":\"a.b\",\"fields\":[" + "{\"name\":\"f\",\"type\":\"long\"}," + "{\"name\":\"h\",\"type\":\"int\"}]}";
  String t2="{\"type\":\"record\",\"name\":\"x.y\",\"aliases\":[\"a.b\"]," + "\"fields\":[{\"name\":\"g\",\"type\":\"long\",\"aliases\":[\"f\"]}," + "{\"name\":\"h\",\"type\":\"int\"}]}";
  Schema s1=Schema.parse(t1);
  Schema s2=Schema.parse(t2);
  assertEquals(s1.getAliases(),Collections.emptySet());
  assertEquals(s1.getField("f").aliases(),Collections.emptySet());
  assertEquals(s2.getAliases(),Collections.singleton("a.b"));
  assertEquals(s2.getField("g").aliases(),Collections.singleton("f"));
  Schema s3=Schema.applyAliases(s1,s2);
  assertFalse(s2 == s3);
  assertEquals(s2,s3);
  t1="{\"type\":\"enum\",\"name\":\"a.b\"," + "\"symbols\":[\"x\"]}";
  t2="{\"type\":\"enum\",\"name\":\"a.c\",\"aliases\":[\"b\"]," + "\"symbols\":[\"x\"]}";
  s1=Schema.parse(t1);
  s2=Schema.parse(t2);
  s3=Schema.applyAliases(s1,s2);
  assertFalse(s2 == s3);
  assertEquals(s2,s3);
  t1="{\"type\":\"fixed\",\"name\":\"a\"," + "\"size\": 5}";
  t2="{\"type\":\"fixed\",\"name\":\"b\",\"aliases\":[\"a\"]," + "\"size\": 5}";
  s1=Schema.parse(t1);
  s2=Schema.parse(t2);
  s3=Schema.applyAliases(s1,s2);
  assertFalse(s2 == s3);
  assertEquals(s2,s3);
}

</code></pre>

<br>
<pre class="type-10 type-13 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEnumMismatch() throws Exception {
  Schema actual=Schema.parse("{\"type\":\"enum\",\"name\":\"E\",\"symbols\":[\"X\",\"Y\"]}");
  Schema expected=Schema.parse("{\"type\":\"enum\",\"name\":\"E\",\"symbols\":[\"Y\",\"Z\"]}");
  ByteArrayOutputStream out=new ByteArrayOutputStream();
  DatumWriter writer=new GenericDatumWriter(actual);
  Encoder encoder=EncoderFactory.get().directBinaryEncoder(out,null);
  writer.write(new GenericData.EnumSymbol(actual,"Y"),encoder);
  writer.write(new GenericData.EnumSymbol(actual,"X"),encoder);
  encoder.flush();
  byte[] data=out.toByteArray();
  Decoder decoder=DecoderFactory.get().binaryDecoder(data,null);
  DatumReader<String> in=new GenericDatumReader<String>(actual,expected);
  assertEquals("Wrong value",new GenericData.EnumSymbol(expected,"Y"),in.read(null,decoder));
  try {
    in.read(null,decoder);
    fail("Should have thrown exception.");
  }
 catch (  AvroTypeException e) {
  }
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSplitSchemaBuild(){
  Schema s=SchemaBuilder.record("HandshakeRequest").namespace("org.apache.avro.ipc").fields().name("clientProtocol").type().optional().stringType().name("meta").type().optional().map().values().bytesType().endRecord();
  String schemaString=s.toString();
  final int mid=schemaString.length() / 2;
  Schema parsedStringSchema=new org.apache.avro.Schema.Parser().parse(s.toString());
  Schema parsedArrayOfStringSchema=new org.apache.avro.Schema.Parser().parse(schemaString.substring(0,mid),schemaString.substring(mid));
  assertNotNull(parsedStringSchema);
  assertNotNull(parsedArrayOfStringSchema);
  assertEquals(parsedStringSchema.toString(),parsedArrayOfStringSchema.toString());
}

</code></pre>

<br>
<pre class="type-13 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDuplicateRecordFieldName(){
  final Schema schema=Schema.createRecord("RecordName",null,null,false);
  final List<Field> fields=new ArrayList<Field>();
  fields.add(new Field("field_name",Schema.create(Type.NULL),null,null));
  fields.add(new Field("field_name",Schema.create(Type.INT),null,null));
  try {
    schema.setFields(fields);
    fail("Should not be able to create a record with duplicate field name.");
  }
 catch (  AvroRuntimeException are) {
    assertTrue(are.getMessage().contains("Duplicate field field_name in record RecordName"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestSchemaBuilder </h4><pre class="type-10 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFieldTypesAndDefaultValues(){
  byte[] bytedef=new byte[]{3};
  ByteBuffer bufdef=ByteBuffer.wrap(bytedef);
  String strdef="\u0003";
  HashMap<String,String> mapdef=new HashMap<String,String>();
  mapdef.put("a","A");
  ArrayList<String> arrdef=new ArrayList<String>();
  arrdef.add("arr");
  Schema rec=SchemaBuilder.record("inner").fields().name("f").type().intType().noDefault().endRecord();
  Schema rec2=SchemaBuilder.record("inner2").fields().name("f2").type().intType().noDefault().endRecord();
  GenericData.Record recdef=new GenericRecordBuilder(rec).set("f",1).build();
  GenericData.Record recdef2=new GenericRecordBuilder(rec2).set("f2",2).build();
  Schema r=SchemaBuilder.record("r").fields().name("boolF").type().booleanType().booleanDefault(false).name("intF").type().intType().intDefault(1).name("longF").type().longType().longDefault(2L).name("floatF").type().floatType().floatDefault(3.0f).name("doubleF").type().doubleType().doubleDefault(4.0d).name("stringF").type().stringType().stringDefault("def").name("bytesF1").type().bytesType().bytesDefault(bytedef).name("bytesF2").type().bytesType().bytesDefault(bufdef).name("bytesF3").type().bytesType().bytesDefault(strdef).name("nullF").type().nullType().nullDefault().name("fixedF1").type().fixed("F1").size(1).fixedDefault(bytedef).name("fixedF2").type().fixed("F2").size(1).fixedDefault(bufdef).name("fixedF3").type().fixed("F3").size(1).fixedDefault(strdef).name("enumF").type().enumeration("E1").symbols("S").enumDefault("S").name("mapF").type().map().values().stringType().mapDefault(mapdef).name("arrayF").type().array().items().stringType().arrayDefault(arrdef).name("recordF").type().record("inner").fields().name("f").type().intType().noDefault().endRecord().recordDefault(recdef).name("byName").type("E1").withDefault("S").name("boolU").type().unionOf().booleanType().and().intType().endUnion().booleanDefault(false).name("intU").type().unionOf().intType().and().longType().endUnion().intDefault(1).name("longU").type().unionOf().longType().and().intType().endUnion().longDefault(2L).name("floatU").type().unionOf().floatType().and().intType().endUnion().floatDefault(3.0f).name("doubleU").type().unionOf().doubleType().and().intType().endUnion().doubleDefault(4.0d).name("stringU").type().unionOf().stringType().and().intType().endUnion().stringDefault("def").name("bytesU").type().unionOf().bytesType().and().intType().endUnion().bytesDefault(bytedef).name("nullU").type().unionOf().nullType().and().intType().endUnion().nullDefault().name("fixedU").type().unionOf().fixed("F4").size(1).and().intType().endUnion().fixedDefault(bytedef).name("enumU").type().unionOf().enumeration("E2").symbols("SS").and().intType().endUnion().enumDefault("SS").name("mapU").type().unionOf().map().values().stringType().and().intType().endUnion().mapDefault(mapdef).name("arrayU").type().unionOf().array().items().stringType().and().intType().endUnion().arrayDefault(arrdef).name("recordU").type().unionOf().record("inner2").fields().name("f2").type().intType().noDefault().endRecord().and().intType().endUnion().recordDefault(recdef2).endRecord();
  GenericData.Record newRec=new GenericRecordBuilder(r).build();
  Assert.assertEquals(false,newRec.get("boolF"));
  Assert.assertEquals(false,newRec.get("boolU"));
  Assert.assertEquals(1,newRec.get("intF"));
  Assert.assertEquals(1,newRec.get("intU"));
  Assert.assertEquals(2L,newRec.get("longF"));
  Assert.assertEquals(2L,newRec.get("longU"));
  Assert.assertEquals(3f,newRec.get("floatF"));
  Assert.assertEquals(3f,newRec.get("floatU"));
  Assert.assertEquals(4d,newRec.get("doubleF"));
  Assert.assertEquals(4d,newRec.get("doubleU"));
  Assert.assertEquals("def",newRec.get("stringF").toString());
  Assert.assertEquals("def",newRec.get("stringU").toString());
  Assert.assertEquals(bufdef,newRec.get("bytesF1"));
  Assert.assertEquals(bufdef,newRec.get("bytesF2"));
  Assert.assertEquals(bufdef,newRec.get("bytesF3"));
  Assert.assertEquals(bufdef,newRec.get("bytesU"));
  Assert.assertNull(newRec.get("nullF"));
  Assert.assertNull(newRec.get("nullU"));
  Assert.assertArrayEquals(bytedef,((GenericData.Fixed)newRec.get("fixedF1")).bytes());
  Assert.assertArrayEquals(bytedef,((GenericData.Fixed)newRec.get("fixedF2")).bytes());
  Assert.assertArrayEquals(bytedef,((GenericData.Fixed)newRec.get("fixedF3")).bytes());
  Assert.assertArrayEquals(bytedef,((GenericData.Fixed)newRec.get("fixedU")).bytes());
  Assert.assertEquals("S",newRec.get("enumF").toString());
  Assert.assertEquals("SS",newRec.get("enumU").toString());
  @SuppressWarnings("unchecked") Map<CharSequence,CharSequence> map=(Map<CharSequence,CharSequence>)newRec.get("mapF");
  Assert.assertEquals(mapdef.size(),map.size());
  for (  Map.Entry<CharSequence,CharSequence> e : map.entrySet()) {
    Assert.assertEquals(mapdef.get(e.getKey().toString()),e.getValue().toString());
  }
  Assert.assertEquals(newRec.get("mapF"),newRec.get("mapU"));
  @SuppressWarnings("unchecked") GenericData.Array<CharSequence> arr=(GenericData.Array<CharSequence>)newRec.get("arrayF");
  Assert.assertEquals(arrdef.size(),arr.size());
  for (  CharSequence c : arr) {
    Assert.assertTrue(arrdef.contains(c.toString()));
  }
  Assert.assertEquals(newRec.get("arrF"),newRec.get("arrU"));
  Assert.assertEquals(recdef,newRec.get("recordF"));
  Assert.assertEquals(recdef2,newRec.get("recordU"));
  Assert.assertEquals("S",newRec.get("byName").toString());
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFields(){
  Schema rec=SchemaBuilder.record("Rec").fields().name("documented").doc("documented").type().nullType().noDefault().name("ascending").orderAscending().type().booleanType().noDefault().name("descending").orderDescending().type().floatType().noDefault().name("ignored").orderIgnore().type().doubleType().noDefault().name("aliased").aliases("anAlias").type().stringType().noDefault().endRecord();
  Assert.assertEquals("documented",rec.getField("documented").doc());
  Assert.assertEquals(Order.ASCENDING,rec.getField("ascending").order());
  Assert.assertEquals(Order.DESCENDING,rec.getField("descending").order());
  Assert.assertEquals(Order.IGNORE,rec.getField("ignored").order());
  Assert.assertTrue(rec.getField("aliased").aliases().contains("anAlias"));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRecord(){
  Schema schema=SchemaBuilder.record("myrecord").namespace("org.example").aliases("oldrecord").fields().name("f0").aliases("f0alias").type().stringType().noDefault().name("f1").doc("This is f1").type().longType().noDefault().name("f2").type().nullable().booleanType().booleanDefault(true).endRecord();
  Assert.assertEquals("myrecord",schema.getName());
  Assert.assertEquals("org.example",schema.getNamespace());
  Assert.assertEquals("org.example.oldrecord",schema.getAliases().iterator().next());
  Assert.assertFalse(schema.isError());
  List<Schema.Field> fields=schema.getFields();
  Assert.assertEquals(3,fields.size());
  Assert.assertEquals(new Schema.Field("f0",Schema.create(Schema.Type.STRING),null,null),fields.get(0));
  Assert.assertTrue(fields.get(0).aliases().contains("f0alias"));
  Assert.assertEquals(new Schema.Field("f1",Schema.create(Schema.Type.LONG),"This is f1",null),fields.get(1));
  List<Schema> types=new ArrayList<Schema>();
  types.add(Schema.create(Schema.Type.BOOLEAN));
  types.add(Schema.create(Schema.Type.NULL));
  Schema optional=Schema.createUnion(types);
  Assert.assertEquals(new Schema.Field("f2",optional,null,true),fields.get(2));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.compiler.TestSpecificCompiler </h4><pre class="type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSettersCreatedByDefault() throws IOException {
  SpecificCompiler compiler=createCompiler();
  assertTrue(compiler.isCreateSetters());
  compiler.compileToDestination(this.src,this.outputDir);
  assertTrue(this.outputFile.exists());
  BufferedReader reader=new BufferedReader(new FileReader(this.outputFile));
  int foundSetters=0;
  String line=null;
  while ((line=reader.readLine()) != null) {
    line=line.trim();
    if (line.startsWith("public void setValue(")) {
      foundSetters++;
    }
  }
  assertEquals("Found the wrong number of setters",1,foundSetters);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.compiler.idl.TestIdl </h4><pre class="type-8 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void loadTests(){
  assertTrue(TEST_DIR.exists());
  assertTrue(TEST_INPUT_DIR.exists());
  assertTrue(TEST_OUTPUT_DIR.exists());
  tests=new ArrayList<GenTest>();
  for (  File inF : TEST_INPUT_DIR.listFiles()) {
    if (!inF.getName().endsWith(".avdl"))     continue;
    if (inF.getName().startsWith("."))     continue;
    File outF=new File(TEST_OUTPUT_DIR,inF.getName().replaceFirst("\\.avdl$",".avpr"));
    tests.add(new GenTest(inF,outF));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.compiler.specific.TestSpecificCompiler </h4><pre class="type-10 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testManglingForRecords() throws IOException {
  Collection<OutputFile> c=new SpecificCompiler(Schema.parse(SCHEMA)).compile();
  assertEquals(1,c.size());
  String contents=c.iterator().next().contents;
  assertTrue(contents.contains("public java.lang.CharSequence package$;"));
  assertTrue(contents.contains("class volatile$ extends"));
  assertTrue(contents.contains("volatile$ short$;"));
  assertCompilesWithJavaCompiler(c);
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAliases() throws IOException {
  Schema s=Schema.parse("{\"name\":\"X\",\"type\":\"record\",\"aliases\":[\"Y\"],\"fields\":[" + "{\"name\":\"f\",\"type\":\"int\",\"aliases\":[\"g\"]}]}");
  SpecificCompiler compiler=new SpecificCompiler(s);
  compiler.setStringType(StringType.valueOf("String"));
  Collection<OutputFile> outputs=compiler.compile();
  assertEquals(1,outputs.size());
  OutputFile o=outputs.iterator().next();
  assertEquals(o.path,"X.java");
  assertTrue(o.contents.contains("[\\\"Y\\\"]"));
  assertTrue(o.contents.contains("[\\\"g\\\"]"));
}

</code></pre>

<br>
<pre class="type-10 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleEnumSchema() throws IOException {
  Collection<OutputFile> outputs=new SpecificCompiler(Schema.parse(TestSchema.BASIC_ENUM_SCHEMA)).compile();
  assertEquals(1,outputs.size());
  OutputFile o=outputs.iterator().next();
  assertEquals(o.path,"Test.java");
  assertTrue(o.contents.contains("public enum Test"));
  assertCompilesWithJavaCompiler(outputs);
}

</code></pre>

<br>
<pre class="type-10 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testManglingForEnums() throws IOException {
  String enumSchema="" + "{ \"name\": \"instanceof\", \"type\": \"enum\"," + "  \"symbols\": [\"new\", \"super\", \"switch\"] }";
  Collection<OutputFile> c=new SpecificCompiler(Schema.parse(enumSchema)).compile();
  assertEquals(1,c.size());
  String contents=c.iterator().next().contents;
  assertTrue(contents.contains("new$"));
  assertCompilesWithJavaCompiler(c);
}

</code></pre>

<br>
<pre class="type-10 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNeedCompile() throws IOException, InterruptedException {
  String schema="" + "{ \"name\": \"Foo\", \"type\": \"record\", " + "  \"fields\": [ {\"name\": \"package\", \"type\": \"string\" },"+ "                {\"name\": \"short\", \"type\": \"Foo\" } ] }";
  File inputFile=AvroTestUtil.tempFile(getClass(),"input.avsc");
  FileWriter fw=new FileWriter(inputFile);
  fw.write(schema);
  fw.close();
  File outputDir=new File(System.getProperty("test.dir","target/test") + System.getProperty("file.separator") + "test_need_compile");
  File outputFile=new File(outputDir,"Foo.java");
  outputFile.delete();
  assertTrue(!outputFile.exists());
  outputDir.delete();
  assertTrue(!outputDir.exists());
  SpecificCompiler.compileSchema(inputFile,outputDir);
  assertTrue(outputDir.exists());
  assertTrue(outputFile.exists());
  long lastModified=outputFile.lastModified();
  Thread.sleep(1000);
  SpecificCompiler.compileSchema(inputFile,outputDir);
  assertEquals(lastModified,outputFile.lastModified());
  fw=new FileWriter(inputFile);
  fw.write(schema);
  fw.close();
  SpecificCompiler.compileSchema(inputFile,outputDir);
  assertTrue(lastModified != outputFile.lastModified());
}

</code></pre>

<br>
<pre class="type-12 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSchemaWithDocs(){
  Collection<OutputFile> outputs=new SpecificCompiler(Schema.parse(TestSchema.SCHEMA_WITH_DOC_TAGS)).compile();
  assertEquals(3,outputs.size());
  int count=0;
  for (  OutputFile o : outputs) {
    if (o.path.endsWith("outer_record.java")) {
      count++;
      assertTrue(o.contents.contains("/** This is not a world record. */"));
      assertTrue(o.contents.contains("/** Inner Fixed */"));
      assertTrue(o.contents.contains("/** Inner Enum */"));
      assertTrue(o.contents.contains("/** Inner String */"));
    }
    if (o.path.endsWith("very_inner_fixed.java")) {
      count++;
      assertTrue(o.contents.contains("/** Very Inner Fixed */"));
      assertTrue(o.contents.contains("@org.apache.avro.specific.FixedSize(1)"));
    }
    if (o.path.endsWith("very_inner_enum.java")) {
      count++;
      assertTrue(o.contents.contains("/** Very Inner Enum */"));
    }
  }
  assertEquals(3,count);
}

</code></pre>

<br>
<pre class="type-12 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testProtocolWithDocs() throws IOException {
  Protocol protocol=TestProtocolParsing.getSimpleProtocol();
  Collection<OutputFile> out=new SpecificCompiler(protocol).compile();
  assertEquals(6,out.size());
  int count=0;
  for (  OutputFile o : out) {
    if (o.path.endsWith("Simple.java")) {
      count++;
      assertTrue(o.contents.contains("/** Protocol used for testing. */"));
      assertTrue(o.contents.contains("* Send a greeting"));
    }
  }
  assertEquals("Missed generated protocol!",1,count);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.data.TestTimeConversions </h4><pre class="type-13 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTimestampMicrosConversion() throws Exception {
  TimestampMicrosConversion conversion=new TimestampMicrosConversion();
  long May_28_2015_21_46_53_221_843_instant=1432849613221L * 1000 + 843;
  DateTime May_28_2015_21_46_53_221=new DateTime(2015,5,28,21,46,53,221,DateTimeZone.UTC);
  Assert.assertEquals("Known date should be correct",May_28_2015_21_46_53_221,conversion.fromLong(May_28_2015_21_46_53_221_843_instant,TIMESTAMP_MICROS_SCHEMA,LogicalTypes.timestampMicros()));
  try {
    conversion.toLong(May_28_2015_21_46_53_221,TIMESTAMP_MICROS_SCHEMA,LogicalTypes.timestampMicros());
    Assert.fail("Should not convert DateTime to long");
  }
 catch (  UnsupportedOperationException e) {
  }
}

</code></pre>

<br>
<pre class="type-13 type-2 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTimeMicrosConversion() throws Exception {
  TimeMicrosConversion conversion=new TimeMicrosConversion();
  LocalTime oneAM=new LocalTime(1,0);
  LocalTime afternoon=new LocalTime(15,14,15,926);
  long afternoonMicros=((long)(15 * 60 + 14) * 60 + 15) * 1000000 + 926551;
  Assert.assertEquals("Midnight should be 0",LocalTime.MIDNIGHT,conversion.fromLong(0L,TIME_MICROS_SCHEMA,LogicalTypes.timeMicros()));
  Assert.assertEquals("01:00 should be 3,600,000,000",oneAM,conversion.fromLong(3600000000L,TIME_MICROS_SCHEMA,LogicalTypes.timeMicros()));
  Assert.assertEquals("15:14:15.926000 should be " + afternoonMicros,afternoon,conversion.fromLong(afternoonMicros,TIME_MICROS_SCHEMA,LogicalTypes.timeMicros()));
  try {
    conversion.toLong(afternoon,TIMESTAMP_MICROS_SCHEMA,LogicalTypes.timestampMicros());
    Assert.fail("Should not convert LocalTime to long");
  }
 catch (  UnsupportedOperationException e) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.file.TestCustomCodec </h4><pre class="type-10 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCustomCodec(){
  CustomCodec customCodec=new CustomCodec();
  Codec snappyCodec=new SnappyCodec.Option().createInstance();
  assertTrue(customCodec.equals(new CustomCodec()));
  assertFalse(customCodec.equals(snappyCodec));
  String testString="Testing 123";
  ByteBuffer original=ByteBuffer.allocate(testString.getBytes().length);
  original.put(testString.getBytes());
  original.rewind();
  ByteBuffer decompressed=null;
  try {
    ByteBuffer compressed=customCodec.compress(original);
    compressed.rewind();
    decompressed=customCodec.decompress(compressed);
  }
 catch (  IOException e) {
    e.printStackTrace();
  }
  assertEquals(testString,new String(decompressed.array()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.file.TestSeekableByteArrayInput </h4><pre class="type-10 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSerialization() throws Exception {
  Schema testSchema=getTestSchema();
  GenericRecord message=new Record(testSchema);
  message.put("name","testValue");
  byte[] data=getSerializedMessage(message,testSchema);
  GenericDatumReader<IndexedRecord> reader=new GenericDatumReader<IndexedRecord>(testSchema);
  SeekableInput in=new SeekableByteArrayInput(data);
  FileReader<IndexedRecord> dfr=null;
  IndexedRecord result=null;
  try {
    dfr=DataFileReader.openReader(in,reader);
    result=dfr.next();
  }
  finally {
    if (dfr != null) {
      dfr.close();
    }
  }
  Assert.assertNotNull(result);
  Assert.assertTrue(result instanceof GenericRecord);
  Assert.assertEquals(new Utf8("testValue"),((GenericRecord)result).get("name"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.generic.TestDeepCopy </h4><pre class="type-12 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeepCopy(){
  Interop.Builder interopBuilder=Interop.newBuilder();
  interopBuilder.setArrayField(Arrays.asList(new Double[]{1.1,1.2,1.3,1.4}));
  interopBuilder.setBoolField(true);
  interopBuilder.setBytesField(ByteBuffer.wrap(new byte[]{1,2,3,4}));
  interopBuilder.setDoubleField(3.14d);
  interopBuilder.setEnumField(Kind.B);
  interopBuilder.setFixedField(new MD5(new byte[]{4,3,2,1,4,3,2,1,4,3,2,1,4,3,2,1}));
  interopBuilder.setFloatField(6.022f);
  interopBuilder.setIntField(32);
  interopBuilder.setLongField(64L);
  Map<java.lang.String,org.apache.avro.Foo> map=new HashMap<java.lang.String,org.apache.avro.Foo>(1);
  map.put("foo",Foo.newBuilder().setLabel("bar").build());
  interopBuilder.setMapField(map);
  interopBuilder.setNullField(null);
  Node.Builder rootBuilder=Node.newBuilder().setLabel("/");
  Node.Builder homeBuilder=Node.newBuilder().setLabel("home");
  homeBuilder.setChildren(new ArrayList<Node>(0));
  rootBuilder.setChildren(Arrays.asList(new Node[]{homeBuilder.build()}));
  interopBuilder.setRecordField(rootBuilder.build());
  interopBuilder.setStringField("Hello");
  interopBuilder.setUnionField(Arrays.asList(new ByteBuffer[]{ByteBuffer.wrap(new byte[]{1,2})}));
  Interop interop=interopBuilder.build();
  for (  Field field : Interop.SCHEMA$.getFields()) {
    if (interop.get(field.pos()) instanceof ByteBuffer) {
      assertTrue(Arrays.equals(((ByteBuffer)interop.get(field.pos())).array(),((ByteBuffer)GenericData.get().deepCopy(field.schema(),interop.get(field.pos()))).array()));
    }
 else {
      assertEquals(interop.get(field.pos()),SpecificData.get().deepCopy(field.schema(),interop.get(field.pos())));
    }
    if ((field.schema().getType() != Type.ENUM) && (field.schema().getType() != Type.NULL) && (field.schema().getType() != Type.BOOLEAN)&& (field.schema().getType() != Type.INT)&& (field.schema().getType() != Type.LONG)&& (field.schema().getType() != Type.FLOAT)&& (field.schema().getType() != Type.DOUBLE)&& (field.schema().getType() != Type.STRING)) {
      assertFalse("Field " + field.name() + " is same instance in deep copy",interop.get(field.pos()) == GenericData.get().deepCopy(field.schema(),interop.get(field.pos())));
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.generic.TestGenericData </h4><pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEnumCompare(){
  Schema s=Schema.createEnum("Kind",null,null,Arrays.asList("Z","Y","X"));
  GenericEnumSymbol z=new GenericData.EnumSymbol(s,"Z");
  GenericEnumSymbol y=new GenericData.EnumSymbol(s,"Y");
  assertEquals(0,z.compareTo(z));
  assertTrue(y.compareTo(z) > 0);
  assertTrue(z.compareTo(y) < 0);
}

</code></pre>

<br>
<pre class="type-13 type-2 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testArrayListInterface(){
  Schema schema=Schema.createArray(Schema.create(Schema.Type.INT));
  GenericArray<Integer> array=new GenericData.Array<Integer>(1,schema);
  array.add(99);
  assertEquals(new Integer(99),array.get(0));
  List<Integer> list=new ArrayList<Integer>();
  list.add(99);
  assertEquals(array,list);
  assertEquals(list,array);
  assertEquals(list.hashCode(),array.hashCode());
  try {
    array.get(2);
    fail("Expected IndexOutOfBoundsException getting index 2");
  }
 catch (  IndexOutOfBoundsException e) {
  }
  array.clear();
  assertEquals(0,array.size());
  try {
    array.get(0);
    fail("Expected IndexOutOfBoundsException getting index 0 after clear()");
  }
 catch (  IndexOutOfBoundsException e) {
  }
}

</code></pre>

<br>
<pre class="type-13 type-2 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testArrayRemove(){
  Schema schema=Schema.createArray(Schema.create(Schema.Type.INT));
  GenericArray<Integer> array=new GenericData.Array<Integer>(10,schema);
  array.clear();
  for (int i=0; i < 10; ++i)   array.add(i);
  assertEquals(10,array.size());
  assertEquals(new Integer(0),array.get(0));
  assertEquals(new Integer(9),array.get(9));
  array.remove(0);
  assertEquals(9,array.size());
  assertEquals(new Integer(1),array.get(0));
  assertEquals(new Integer(2),array.get(1));
  assertEquals(new Integer(9),array.get(8));
  try {
    array.get(9);
    fail("Expected IndexOutOfBoundsException after removing an element");
  }
 catch (  IndexOutOfBoundsException e) {
  }
  try {
    array.set(9,99);
    fail("Expected IndexOutOfBoundsException after removing an element");
  }
 catch (  IndexOutOfBoundsException e) {
  }
  try {
    array.remove(9);
    fail("Expected IndexOutOfBoundsException after removing an element");
  }
 catch (  IndexOutOfBoundsException e) {
  }
  assertEquals(new Integer(9),array.remove(8));
  assertEquals(8,array.size());
  array.add(88);
  assertEquals(new Integer(88),array.get(8));
}

</code></pre>

<br>
<pre class="type-10 type-13 type-2 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCompare(){
  Field integerField=new Field("test",Schema.create(Type.INT),null,null);
  List<Field> fields=new ArrayList<Field>();
  fields.add(integerField);
  Schema record=Schema.createRecord("test",null,null,false);
  record.setFields(fields);
  ByteArrayOutputStream b1=new ByteArrayOutputStream(5);
  ByteArrayOutputStream b2=new ByteArrayOutputStream(5);
  BinaryEncoder b1Enc=EncoderFactory.get().binaryEncoder(b1,null);
  BinaryEncoder b2Enc=EncoderFactory.get().binaryEncoder(b2,null);
  Record testDatum1=new Record(record);
  testDatum1.put(0,1);
  Record testDatum2=new Record(record);
  testDatum2.put(0,2);
  GenericDatumWriter<Record> gWriter=new GenericDatumWriter<Record>(record);
  Integer start1=0, start2=0;
  try {
    gWriter.write(testDatum1,b1Enc);
    b1Enc.flush();
    start1=b1.size();
    gWriter.write(testDatum1,b1Enc);
    b1Enc.flush();
    b1.close();
    gWriter.write(testDatum2,b2Enc);
    b2Enc.flush();
    start2=b2.size();
    gWriter.write(testDatum2,b2Enc);
    b2Enc.flush();
    b2.close();
    assertEquals(-1,BinaryData.compare(b1.toByteArray(),start1,b2.toByteArray(),start2,record));
  }
 catch (  IOException e) {
    fail("IOException while writing records to output stream.");
  }
}

</code></pre>

<br>
<pre class="type-13 type-2 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testArrayAddAtLocation(){
  Schema schema=Schema.createArray(Schema.create(Schema.Type.INT));
  GenericArray<Integer> array=new GenericData.Array<Integer>(6,schema);
  array.clear();
  for (int i=0; i < 5; ++i)   array.add(i);
  assertEquals(5,array.size());
  array.add(0,6);
  assertEquals(new Integer(6),array.get(0));
  assertEquals(6,array.size());
  assertEquals(new Integer(0),array.get(1));
  assertEquals(new Integer(4),array.get(5));
  array.add(6,7);
  assertEquals(new Integer(7),array.get(6));
  assertEquals(7,array.size());
  assertEquals(new Integer(6),array.get(0));
  assertEquals(new Integer(4),array.get(5));
  array.add(1,8);
  assertEquals(new Integer(8),array.get(1));
  assertEquals(new Integer(0),array.get(2));
  assertEquals(new Integer(6),array.get(0));
  assertEquals(8,array.size());
  try {
    array.get(9);
    fail("Expected IndexOutOfBoundsException after adding elements");
  }
 catch (  IndexOutOfBoundsException e) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.generic.TestGenericDatumWriter </h4><pre class="type-13 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMapConcurrentModification() throws Exception {
  String json="{\"type\": \"map\", \"values\": \"int\" }";
  Schema s=Schema.parse(json);
  final Map<String,Integer> m=new HashMap<String,Integer>();
  ByteArrayOutputStream bao=new ByteArrayOutputStream();
  final GenericDatumWriter<Map<String,Integer>> w=new GenericDatumWriter<Map<String,Integer>>(s);
  CountDownLatch sizeWrittenSignal=new CountDownLatch(1);
  CountDownLatch eltAddedSignal=new CountDownLatch(1);
  final TestEncoder e=new TestEncoder(EncoderFactory.get().directBinaryEncoder(bao,null),sizeWrittenSignal,eltAddedSignal);
  ExecutorService executor=Executors.newSingleThreadExecutor();
  Future<Void> result=executor.submit(new Callable<Void>(){
    @Override public Void call() throws Exception {
      w.write(m,e);
      return null;
    }
  }
);
  sizeWrittenSignal.await();
  m.put("a",7);
  eltAddedSignal.countDown();
  try {
    result.get();
    fail("Expected ConcurrentModificationException");
  }
 catch (  ExecutionException ex) {
    assertTrue(ex.getCause() instanceof ConcurrentModificationException);
  }
}

</code></pre>

<br>
<pre class="type-13 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testArrayConcurrentModification() throws Exception {
  String json="{\"type\": \"array\", \"items\": \"int\" }";
  Schema s=Schema.parse(json);
  final GenericArray<Integer> a=new GenericData.Array<Integer>(1,s);
  ByteArrayOutputStream bao=new ByteArrayOutputStream();
  final GenericDatumWriter<GenericArray<Integer>> w=new GenericDatumWriter<GenericArray<Integer>>(s);
  CountDownLatch sizeWrittenSignal=new CountDownLatch(1);
  CountDownLatch eltAddedSignal=new CountDownLatch(1);
  final TestEncoder e=new TestEncoder(EncoderFactory.get().directBinaryEncoder(bao,null),sizeWrittenSignal,eltAddedSignal);
  ExecutorService executor=Executors.newSingleThreadExecutor();
  Future<Void> result=executor.submit(new Callable<Void>(){
    @Override public Void call() throws Exception {
      w.write(a,e);
      return null;
    }
  }
);
  sizeWrittenSignal.await();
  a.add(7);
  eltAddedSignal.countDown();
  try {
    result.get();
    fail("Expected ConcurrentModificationException");
  }
 catch (  ExecutionException ex) {
    assertTrue(ex.getCause() instanceof ConcurrentModificationException);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.generic.TestGenericRecordBuilder </h4><pre class="type-13 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test() public void buildWithoutSettingRequiredFields2(){
  try {
    new GenericRecordBuilder(recordSchema()).set("anArray",Arrays.asList(new String[]{"one"})).build();
    Assert.fail("Should have thrown " + AvroRuntimeException.class.getCanonicalName());
  }
 catch (  AvroRuntimeException e) {
    Assert.assertTrue(e.getMessage().contains("intField"));
  }
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGenericBuilder(){
  Schema schema=recordSchema();
  GenericRecordBuilder builder=new GenericRecordBuilder(schema);
  for (  Field field : schema.getFields()) {
    Assert.assertFalse("RecordBuilder should not have field " + field.name(),builder.has(field.name()));
    Assert.assertNull("Field " + field.name() + " should be null",builder.get(field.name()));
  }
  builder.set("intField",1);
  List<String> anArray=Arrays.asList(new String[]{"one","two","three"});
  builder.set("anArray",anArray);
  Assert.assertTrue("anArray should be set",builder.has("anArray"));
  Assert.assertEquals(anArray,builder.get("anArray"));
  Assert.assertFalse("id should not be set",builder.has("id"));
  Assert.assertNull(builder.get("id"));
  Record record=builder.build();
  Assert.assertEquals(new Integer(1),record.get("intField"));
  Assert.assertEquals(anArray,record.get("anArray"));
  Assert.assertNotNull(record.get("id"));
  Assert.assertEquals("0",record.get("id").toString());
  Assert.assertEquals(builder,new GenericRecordBuilder(builder));
  Assert.assertEquals(record,new GenericRecordBuilder(record).build());
  builder.clear("intField");
  Assert.assertFalse(builder.has("intField"));
  Assert.assertNull(builder.get("intField"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.hadoop.file.TestSortedKeyValueFile </h4><pre class="type-10 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWriter() throws IOException {
  LOG.debug("Writing some records to a SortedKeyValueFile...");
  Configuration conf=new Configuration();
  SortedKeyValueFile.Writer.Options options=new SortedKeyValueFile.Writer.Options().withKeySchema(Schema.create(Schema.Type.STRING)).withValueSchema(Schema.create(Schema.Type.STRING)).withConfiguration(conf).withPath(new Path(mTempDir.getRoot().getPath(),"myfile")).withIndexInterval(2);
  SortedKeyValueFile.Writer<CharSequence,CharSequence> writer=new SortedKeyValueFile.Writer<CharSequence,CharSequence>(options);
  try {
    writer.append("apple","Apple");
    writer.append("banana","Banana");
    writer.append("carrot","Carrot");
    writer.append("durian","Durian");
  }
  finally {
    writer.close();
  }
  LOG.debug("Checking the generated directory...");
  File directory=new File(mTempDir.getRoot().getPath(),"myfile");
  assertTrue(directory.exists());
  LOG.debug("Checking the generated index file...");
  File indexFile=new File(directory,SortedKeyValueFile.INDEX_FILENAME);
  DatumReader<GenericRecord> indexReader=new GenericDatumReader<GenericRecord>(AvroKeyValue.getSchema(options.getKeySchema(),Schema.create(Schema.Type.LONG)));
  FileReader<GenericRecord> indexFileReader=DataFileReader.openReader(indexFile,indexReader);
  List<AvroKeyValue<CharSequence,Long>> indexRecords=new ArrayList<AvroKeyValue<CharSequence,Long>>();
  try {
    for (    GenericRecord indexRecord : indexFileReader) {
      indexRecords.add(new AvroKeyValue<CharSequence,Long>(indexRecord));
    }
  }
  finally {
    indexFileReader.close();
  }
  assertEquals(2,indexRecords.size());
  assertEquals("apple",indexRecords.get(0).getKey().toString());
  LOG.debug("apple's position in the file: " + indexRecords.get(0).getValue());
  assertEquals("carrot",indexRecords.get(1).getKey().toString());
  LOG.debug("carrot's position in the file: " + indexRecords.get(1).getValue());
  LOG.debug("Checking the generated data file...");
  File dataFile=new File(directory,SortedKeyValueFile.DATA_FILENAME);
  DatumReader<GenericRecord> dataReader=new GenericDatumReader<GenericRecord>(AvroKeyValue.getSchema(options.getKeySchema(),options.getValueSchema()));
  DataFileReader<GenericRecord> dataFileReader=new DataFileReader<GenericRecord>(dataFile,dataReader);
  try {
    dataFileReader.seek(indexRecords.get(0).getValue());
    assertTrue(dataFileReader.hasNext());
    AvroKeyValue<CharSequence,CharSequence> appleRecord=new AvroKeyValue<CharSequence,CharSequence>(dataFileReader.next());
    assertEquals("apple",appleRecord.getKey().toString());
    assertEquals("Apple",appleRecord.getValue().toString());
    dataFileReader.seek(indexRecords.get(1).getValue());
    assertTrue(dataFileReader.hasNext());
    AvroKeyValue<CharSequence,CharSequence> carrotRecord=new AvroKeyValue<CharSequence,CharSequence>(dataFileReader.next());
    assertEquals("carrot",carrotRecord.getKey().toString());
    assertEquals("Carrot",carrotRecord.getValue().toString());
    assertTrue(dataFileReader.hasNext());
    AvroKeyValue<CharSequence,CharSequence> durianRecord=new AvroKeyValue<CharSequence,CharSequence>(dataFileReader.next());
    assertEquals("durian",durianRecord.getKey().toString());
    assertEquals("Durian",durianRecord.getValue().toString());
  }
  finally {
    dataFileReader.close();
  }
}

</code></pre>

<br>
<pre class="type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAlternateModel() throws Exception {
  LOG.debug("Writing some reflect records...");
  ReflectData model=ReflectData.get();
  Configuration conf=new Configuration();
  SortedKeyValueFile.Writer.Options options=new SortedKeyValueFile.Writer.Options().withKeySchema(model.getSchema(Stringy.class)).withValueSchema(model.getSchema(Stringy.class)).withConfiguration(conf).withPath(new Path(mTempDir.getRoot().getPath(),"reflect")).withDataModel(model).withIndexInterval(2);
  SortedKeyValueFile.Writer<Stringy,Stringy> writer=new SortedKeyValueFile.Writer<Stringy,Stringy>(options);
  try {
    writer.append(new Stringy("apple"),new Stringy("Apple"));
    writer.append(new Stringy("banana"),new Stringy("Banana"));
    writer.append(new Stringy("carrot"),new Stringy("Carrot"));
    writer.append(new Stringy("durian"),new Stringy("Durian"));
  }
  finally {
    writer.close();
  }
  LOG.debug("Reading the file back using a reader...");
  SortedKeyValueFile.Reader.Options readerOptions=new SortedKeyValueFile.Reader.Options().withKeySchema(model.getSchema(Stringy.class)).withValueSchema(model.getSchema(Stringy.class)).withConfiguration(conf).withPath(new Path(mTempDir.getRoot().getPath(),"reflect")).withDataModel(model);
  SortedKeyValueFile.Reader<Stringy,Stringy> reader=new SortedKeyValueFile.Reader<Stringy,Stringy>(readerOptions);
  try {
    assertEquals(new Stringy("Carrot"),reader.get(new Stringy("carrot")));
    assertEquals(new Stringy("Banana"),reader.get(new Stringy("banana")));
    assertNull(reader.get(new Stringy("a-vegetable")));
    assertNull(reader.get(new Stringy("beet")));
    assertNull(reader.get(new Stringy("zzz")));
  }
  finally {
    reader.close();
  }
}

</code></pre>

<br>
<pre class="type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReader() throws IOException {
  Configuration conf=new Configuration();
  SortedKeyValueFile.Writer.Options writerOptions=new SortedKeyValueFile.Writer.Options().withKeySchema(Schema.create(Schema.Type.STRING)).withValueSchema(Schema.create(Schema.Type.STRING)).withConfiguration(conf).withPath(new Path(mTempDir.getRoot().getPath(),"myfile")).withIndexInterval(2);
  SortedKeyValueFile.Writer<CharSequence,CharSequence> writer=new SortedKeyValueFile.Writer<CharSequence,CharSequence>(writerOptions);
  try {
    writer.append("apple","Apple");
    writer.append("banana","Banana");
    writer.append("carrot","Carrot");
    writer.append("durian","Durian");
  }
  finally {
    writer.close();
  }
  LOG.debug("Reading the file back using a reader...");
  SortedKeyValueFile.Reader.Options readerOptions=new SortedKeyValueFile.Reader.Options().withKeySchema(Schema.create(Schema.Type.STRING)).withValueSchema(Schema.create(Schema.Type.STRING)).withConfiguration(conf).withPath(new Path(mTempDir.getRoot().getPath(),"myfile"));
  SortedKeyValueFile.Reader<CharSequence,CharSequence> reader=new SortedKeyValueFile.Reader<CharSequence,CharSequence>(readerOptions);
  try {
    assertEquals("Carrot",reader.get("carrot").toString());
    assertEquals("Banana",reader.get("banana").toString());
    assertNull(reader.get("a-vegetable"));
    assertNull(reader.get("beet"));
    assertNull(reader.get("zzz"));
  }
  finally {
    reader.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.hadoop.io.TestAvroSequenceFile </h4><pre class="type-10 type-2 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that reading and writing avro data works. 
 */
@Test @SuppressWarnings("unchecked") public void testReadAvro() throws IOException {
  Path sequenceFilePath=new Path(new File(mTempDir.getRoot(),"output.seq").getPath());
  writeSequenceFile(sequenceFilePath,AvroKey.class,AvroValue.class,Schema.create(Schema.Type.STRING),Schema.create(Schema.Type.INT),new AvroKey<CharSequence>("one"),new AvroValue<Integer>(1),new AvroKey<CharSequence>("two"),new AvroValue<Integer>(2));
  Configuration conf=new Configuration();
  FileSystem fs=FileSystem.get(conf);
  AvroSequenceFile.Reader.Options options=new AvroSequenceFile.Reader.Options().withFileSystem(fs).withInputPath(sequenceFilePath).withKeySchema(Schema.create(Schema.Type.STRING)).withValueSchema(Schema.create(Schema.Type.INT)).withConfiguration(conf);
  SequenceFile.Reader reader=new AvroSequenceFile.Reader(options);
  AvroKey<CharSequence> key=new AvroKey<CharSequence>();
  AvroValue<Integer> value=new AvroValue<Integer>();
  key=(AvroKey<CharSequence>)reader.next(key);
  assertNotNull(key);
  assertEquals("one",key.datum().toString());
  value=(AvroValue<Integer>)reader.getCurrentValue(value);
  assertNotNull(value);
  assertEquals(1,value.datum().intValue());
  key=(AvroKey<CharSequence>)reader.next(key);
  assertNotNull(key);
  assertEquals("two",key.datum().toString());
  value=(AvroValue<Integer>)reader.getCurrentValue(value);
  assertNotNull(value);
  assertEquals(2,value.datum().intValue());
  assertNull("Should be no more records.",reader.next(key));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that reading and writing avro records without a reader schema works. 
 */
@Test @SuppressWarnings("unchecked") public void testReadAvroWithoutReaderSchemas() throws IOException {
  Path sequenceFilePath=new Path(new File(mTempDir.getRoot(),"output.seq").getPath());
  writeSequenceFile(sequenceFilePath,AvroKey.class,AvroValue.class,Schema.create(Schema.Type.STRING),Schema.create(Schema.Type.INT),new AvroKey<CharSequence>("one"),new AvroValue<Integer>(1),new AvroKey<CharSequence>("two"),new AvroValue<Integer>(2));
  Configuration conf=new Configuration();
  FileSystem fs=FileSystem.get(conf);
  AvroSequenceFile.Reader.Options options=new AvroSequenceFile.Reader.Options().withFileSystem(fs).withInputPath(sequenceFilePath).withConfiguration(conf);
  SequenceFile.Reader reader=new AvroSequenceFile.Reader(options);
  AvroKey<CharSequence> key=new AvroKey<CharSequence>();
  AvroValue<Integer> value=new AvroValue<Integer>();
  key=(AvroKey<CharSequence>)reader.next(key);
  assertNotNull(key);
  assertEquals("one",key.datum().toString());
  value=(AvroValue<Integer>)reader.getCurrentValue(value);
  assertNotNull(value);
  assertEquals(1,value.datum().intValue());
  key=(AvroKey<CharSequence>)reader.next(key);
  assertNotNull(key);
  assertEquals("two",key.datum().toString());
  value=(AvroValue<Integer>)reader.getCurrentValue(value);
  assertNotNull(value);
  assertEquals(2,value.datum().intValue());
  assertNull("Should be no more records.",reader.next(key));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that reading and writing ordinary Writables still works. 
 */
@Test public void testReadWritables() throws IOException {
  Path sequenceFilePath=new Path(new File(mTempDir.getRoot(),"output.seq").getPath());
  writeSequenceFile(sequenceFilePath,Text.class,IntWritable.class,null,null,new Text("one"),new IntWritable(1),new Text("two"),new IntWritable(2));
  Configuration conf=new Configuration();
  FileSystem fs=FileSystem.get(conf);
  AvroSequenceFile.Reader.Options options=new AvroSequenceFile.Reader.Options().withFileSystem(fs).withInputPath(sequenceFilePath).withConfiguration(conf);
  SequenceFile.Reader reader=new AvroSequenceFile.Reader(options);
  Text key=new Text();
  IntWritable value=new IntWritable();
  assertTrue(reader.next(key));
  assertEquals("one",key.toString());
  reader.getCurrentValue(value);
  assertNotNull(value);
  assertEquals(1,value.get());
  assertTrue(reader.next(key));
  assertEquals("two",key.toString());
  reader.getCurrentValue(value);
  assertNotNull(value);
  assertEquals(2,value.get());
  assertFalse("Should be no more records.",reader.next(key));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.hadoop.io.TestAvroSerialization </h4><pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetDeserializerForValue() throws IOException {
  Schema readerSchema=Schema.create(Schema.Type.STRING);
  Job job=new Job();
  AvroJob.setMapOutputValueSchema(job,readerSchema);
  AvroSerialization serialization=ReflectionUtils.newInstance(AvroSerialization.class,job.getConfiguration());
  @SuppressWarnings("unchecked") Deserializer<AvroWrapper> deserializer=serialization.getDeserializer(AvroValue.class);
  assertTrue(deserializer instanceof AvroValueDeserializer);
  AvroValueDeserializer avroDeserializer=(AvroValueDeserializer)deserializer;
  assertEquals(readerSchema,avroDeserializer.getReaderSchema());
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetDeserializerForKey() throws IOException {
  Schema readerSchema=Schema.create(Schema.Type.STRING);
  Job job=new Job();
  AvroJob.setMapOutputKeySchema(job,readerSchema);
  AvroSerialization serialization=ReflectionUtils.newInstance(AvroSerialization.class,job.getConfiguration());
  @SuppressWarnings("unchecked") Deserializer<AvroWrapper> deserializer=serialization.getDeserializer(AvroKey.class);
  assertTrue(deserializer instanceof AvroKeyDeserializer);
  AvroKeyDeserializer avroDeserializer=(AvroKeyDeserializer)deserializer;
  assertEquals(readerSchema,avroDeserializer.getReaderSchema());
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetSerializerForValue() throws IOException {
  Schema writerSchema=Schema.create(Schema.Type.STRING);
  Job job=new Job();
  AvroJob.setMapOutputValueSchema(job,writerSchema);
  AvroSerialization serialization=ReflectionUtils.newInstance(AvroSerialization.class,job.getConfiguration());
  @SuppressWarnings("unchecked") Serializer<AvroWrapper> serializer=serialization.getSerializer(AvroValue.class);
  assertTrue(serializer instanceof AvroSerializer);
  AvroSerializer avroSerializer=(AvroSerializer)serializer;
  assertEquals(writerSchema,avroSerializer.getWriterSchema());
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetSerializerForKey() throws IOException {
  Schema writerSchema=Schema.create(Schema.Type.STRING);
  Job job=new Job();
  AvroJob.setMapOutputKeySchema(job,writerSchema);
  AvroSerialization serialization=ReflectionUtils.newInstance(AvroSerialization.class,job.getConfiguration());
  @SuppressWarnings("unchecked") Serializer<AvroWrapper> serializer=serialization.getSerializer(AvroKey.class);
  assertTrue(serializer instanceof AvroSerializer);
  AvroSerializer avroSerializer=(AvroSerializer)serializer;
  assertEquals(writerSchema,avroSerializer.getWriterSchema());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.hadoop.util.TestAvroCharSequenceComparator </h4><pre class="type-2 type-3 type-16 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCompareUtf8ToString(){
  assertEquals(0,mComparator.compare(new Utf8(""),""));
  assertThat(mComparator.compare(new Utf8(""),"a"),lessThan(0));
  assertThat(mComparator.compare(new Utf8("a"),""),greaterThan(0));
  assertEquals(0,mComparator.compare(new Utf8("a"),"a"));
  assertThat(mComparator.compare(new Utf8("a"),"b"),lessThan(0));
  assertThat(mComparator.compare(new Utf8("b"),"a"),greaterThan(0));
  assertEquals(0,mComparator.compare(new Utf8("ab"),"ab"));
  assertThat(mComparator.compare(new Utf8("a"),"aa"),lessThan(0));
  assertThat(mComparator.compare(new Utf8("aa"),"a"),greaterThan(0));
  assertThat(mComparator.compare(new Utf8("abc"),"abcdef"),lessThan(0));
  assertThat(mComparator.compare(new Utf8("abcdef"),"abc"),greaterThan(0));
}

</code></pre>

<br>
<pre class="type-2 type-3 type-16 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCompareUtf8(){
  assertEquals(0,mComparator.compare(new Utf8(""),new Utf8("")));
  assertThat(mComparator.compare(new Utf8(""),new Utf8("a")),lessThan(0));
  assertThat(mComparator.compare(new Utf8("a"),new Utf8("")),greaterThan(0));
  assertEquals(0,mComparator.compare(new Utf8("a"),new Utf8("a")));
  assertThat(mComparator.compare(new Utf8("a"),new Utf8("b")),lessThan(0));
  assertThat(mComparator.compare(new Utf8("b"),new Utf8("a")),greaterThan(0));
  assertEquals(0,mComparator.compare(new Utf8("ab"),new Utf8("ab")));
  assertThat(mComparator.compare(new Utf8("a"),new Utf8("aa")),lessThan(0));
  assertThat(mComparator.compare(new Utf8("aa"),new Utf8("a")),greaterThan(0));
  assertThat(mComparator.compare(new Utf8("abc"),new Utf8("abcdef")),lessThan(0));
  assertThat(mComparator.compare(new Utf8("abcdef"),new Utf8("abc")),greaterThan(0));
}

</code></pre>

<br>
<pre class="type-2 type-3 type-16 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCompareString(){
  assertEquals(0,mComparator.compare("",""));
  assertThat(mComparator.compare("","a"),lessThan(0));
  assertThat(mComparator.compare("a",""),greaterThan(0));
  assertEquals(0,mComparator.compare("a","a"));
  assertThat(mComparator.compare("a","b"),lessThan(0));
  assertThat(mComparator.compare("b","a"),greaterThan(0));
  assertEquals(0,mComparator.compare("ab","ab"));
  assertThat(mComparator.compare("a","aa"),lessThan(0));
  assertThat(mComparator.compare("aa","a"),greaterThan(0));
  assertThat(mComparator.compare("abc","abcdef"),lessThan(0));
  assertThat(mComparator.compare("abcdef","abc"),greaterThan(0));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.io.TestBinaryDecoder </h4><pre class="type-10 type-3 type-14 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=EOFException.class) public void testEOF() throws IOException {
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  Encoder e=EncoderFactory.get().binaryEncoder(baos,null);
  e.writeLong(0x10000000000000l);
  e.flush();
  Decoder d=newDecoder(new ByteArrayInputStream(baos.toByteArray()));
  Assert.assertEquals(0x10000000000000l,d.readLong());
  d.readInt();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.io.parsing.TestResolvingGrammarGenerator </h4><pre class="type-13 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRecordMissingRequiredFieldError() throws Exception {
  Schema schemaWithoutField=SchemaBuilder.record("MyRecord").namespace("ns").fields().name("field1").type().stringType().noDefault().endRecord();
  Schema schemaWithField=SchemaBuilder.record("MyRecord").namespace("ns").fields().name("field1").type().stringType().noDefault().name("field2").type().stringType().noDefault().endRecord();
  GenericData.Record record=new GenericRecordBuilder(schemaWithoutField).set("field1","someValue").build();
  byte[] data=writeRecord(schemaWithoutField,record);
  try {
    readRecord(schemaWithField,data);
    Assert.fail("Expected exception not thrown");
  }
 catch (  AvroTypeException typeException) {
    Assert.assertEquals("Incorrect exception message","Found ns.MyRecord, expecting ns.MyRecord, missing required field field2",typeException.getMessage());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.io.parsing.TestResolvingGrammarGenerator2 </h4><pre class="type-10 type-2 type-4 type-3 type-17 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnionResolutionFirstStructureMatch3d() throws Exception {
  Schema read=Schema.createUnion(Arrays.asList(Schema.create(Schema.Type.NULL),point3dNoDefault,point3d,point2d));
  Symbol grammar=new ResolvingGrammarGenerator().generate(point2dFullname,read);
  Assert.assertTrue(grammar.production[1] instanceof Symbol.UnionAdjustAction);
  Symbol.UnionAdjustAction action=(Symbol.UnionAdjustAction)grammar.production[1];
  Assert.assertEquals(2,action.rindex);
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-17 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnionResolutionNamedStructureMatch() throws Exception {
  Schema read=Schema.createUnion(Arrays.asList(Schema.create(Schema.Type.NULL),point2d,point3dMatchName,point3d));
  Symbol grammar=new ResolvingGrammarGenerator().generate(point2dFullname,read);
  Assert.assertTrue(grammar.production[1] instanceof Symbol.UnionAdjustAction);
  Symbol.UnionAdjustAction action=(Symbol.UnionAdjustAction)grammar.production[1];
  Assert.assertEquals(2,action.rindex);
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-17 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnionResolutionFullNameMatch() throws Exception {
  Schema read=Schema.createUnion(Arrays.asList(Schema.create(Schema.Type.NULL),point2d,point3dMatchName,point3d,point2dFullname));
  Symbol grammar=new ResolvingGrammarGenerator().generate(point2dFullname,read);
  Assert.assertTrue(grammar.production[1] instanceof Symbol.UnionAdjustAction);
  Symbol.UnionAdjustAction action=(Symbol.UnionAdjustAction)grammar.production[1];
  Assert.assertEquals(4,action.rindex);
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-17 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnionResolutionFirstStructureMatch2d() throws Exception {
  Schema read=Schema.createUnion(Arrays.asList(Schema.create(Schema.Type.NULL),point3dNoDefault,point2d,point3d));
  Symbol grammar=new ResolvingGrammarGenerator().generate(point2dFullname,read);
  Assert.assertTrue(grammar.production[1] instanceof Symbol.UnionAdjustAction);
  Symbol.UnionAdjustAction action=(Symbol.UnionAdjustAction)grammar.production[1];
  Assert.assertEquals(2,action.rindex);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.ipc.NettyTransceiverWhenFailsToConnect </h4><pre class="type-3 type-14 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=IOException.class) public void testNettyTransceiverReleasesNettyChannelOnFailingToConnect() throws Exception {
  ServerSocket serverSocket=null;
  LastChannelRememberingChannelFactory socketChannelFactory=null;
  try {
    serverSocket=new ServerSocket(0);
    socketChannelFactory=new LastChannelRememberingChannelFactory();
    try {
      new NettyTransceiver(new InetSocketAddress(serverSocket.getLocalPort()),socketChannelFactory,1L);
    }
  finally {
      assertEquals("expected that the channel opened by the transceiver is closed",false,socketChannelFactory.lastChannel.isOpen());
    }
  }
  finally {
    if (serverSocket != null) {
      serverSocket.close();
    }
    if (socketChannelFactory != null) {
      socketChannelFactory.releaseExternalResources();
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.ipc.TestNettyServerWithCallbacks </h4><pre class="type-2 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void greeting() throws Exception {
  Assert.assertEquals("Hello, how are you?",simpleClient.hello("how are you?"));
  CallFuture<String> future1=new CallFuture<String>();
  simpleClient.hello("World!",future1);
  Assert.assertEquals("Hello, World!",future1.get(2,TimeUnit.SECONDS));
  Assert.assertNull(future1.getError());
  final CallFuture<String> future2=new CallFuture<String>();
  simpleClient.hello("what's up?",new Callback<String>(){
    @Override public void handleResult(    String result){
      future2.handleResult(result);
    }
    @Override public void handleError(    Throwable error){
      future2.handleError(error);
    }
  }
);
  Assert.assertEquals("Hello, what's up?",future2.get(2,TimeUnit.SECONDS));
  Assert.assertNull(future2.getError());
}

</code></pre>

<br>
<pre class="type-2 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void add() throws Exception {
  Assert.assertEquals(8,simpleClient.add(2,6));
  CallFuture<Integer> future1=new CallFuture<Integer>();
  simpleClient.add(8,8,future1);
  Assert.assertEquals(new Integer(16),future1.get(2,TimeUnit.SECONDS));
  Assert.assertNull(future1.getError());
  final CallFuture<Integer> future2=new CallFuture<Integer>();
  simpleClient.add(512,256,new Callback<Integer>(){
    @Override public void handleResult(    Integer result){
      future2.handleResult(result);
    }
    @Override public void handleError(    Throwable error){
      future2.handleError(error);
    }
  }
);
  Assert.assertEquals(new Integer(768),future2.get(2,TimeUnit.SECONDS));
  Assert.assertNull(future2.getError());
}

</code></pre>

<br>
<pre class="type-10 type-9 type-4 type-3 type-18 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Ignore @Test public void performanceTest() throws Exception {
  final int threadCount=8;
  final long runTimeMillis=10 * 1000L;
  ExecutorService threadPool=Executors.newFixedThreadPool(threadCount);
  System.out.println("Running performance test for " + runTimeMillis + "ms...");
  final AtomicLong rpcCount=new AtomicLong(0L);
  final AtomicBoolean runFlag=new AtomicBoolean(true);
  final CountDownLatch startLatch=new CountDownLatch(threadCount);
  for (int ii=0; ii < threadCount; ii++) {
    threadPool.submit(new Runnable(){
      @Override public void run(){
        try {
          startLatch.countDown();
          startLatch.await(2,TimeUnit.SECONDS);
          while (runFlag.get()) {
            rpcCount.incrementAndGet();
            Assert.assertEquals("Hello, World!",simpleClient.hello("World!"));
          }
        }
 catch (        Exception e) {
          e.printStackTrace();
        }
      }
    }
);
  }
  startLatch.await(2,TimeUnit.SECONDS);
  Thread.sleep(runTimeMillis);
  runFlag.set(false);
  threadPool.shutdown();
  Assert.assertTrue("Timed out shutting down thread pool",threadPool.awaitTermination(2,TimeUnit.SECONDS));
  System.out.println("Completed " + rpcCount.get() + " RPCs in "+ runTimeMillis+ "ms => "+ (((double)rpcCount.get() / (double)runTimeMillis) * 1000)+ " RPCs/sec, "+ ((double)runTimeMillis / (double)rpcCount.get())+ " ms/RPC.");
}

</code></pre>

<br>
<pre class="type-2 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void echoBytes() throws Exception {
  ByteBuffer byteBuffer=ByteBuffer.wrap(new byte[]{1,2,3,4,5,6,7,8});
  Assert.assertEquals(byteBuffer,simpleClient.echoBytes(byteBuffer));
  CallFuture<ByteBuffer> future1=new CallFuture<ByteBuffer>();
  simpleClient.echoBytes(byteBuffer,future1);
  Assert.assertEquals(byteBuffer,future1.get(2,TimeUnit.SECONDS));
  Assert.assertNull(future1.getError());
  final CallFuture<ByteBuffer> future2=new CallFuture<ByteBuffer>();
  simpleClient.echoBytes(byteBuffer,new Callback<ByteBuffer>(){
    @Override public void handleResult(    ByteBuffer result){
      future2.handleResult(result);
    }
    @Override public void handleError(    Throwable error){
      future2.handleError(error);
    }
  }
);
  Assert.assertEquals(byteBuffer,future2.get(2,TimeUnit.SECONDS));
  Assert.assertNull(future2.getError());
}

</code></pre>

<br>
<pre class="type-13 type-2 type-4 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test() public void error() throws IOException, InterruptedException, TimeoutException {
  try {
    simpleClient.error();
    Assert.fail("Expected " + TestError.class.getCanonicalName());
  }
 catch (  TestError e) {
  }
catch (  AvroRemoteException e) {
    e.printStackTrace();
    Assert.fail("Unexpected error: " + e.toString());
  }
  CallFuture<Void> future=new CallFuture<Void>();
  simpleClient.error(future);
  try {
    future.get(2,TimeUnit.SECONDS);
    Assert.fail("Expected " + TestError.class.getCanonicalName() + " to be thrown");
  }
 catch (  ExecutionException e) {
    Assert.assertTrue("Expected " + TestError.class.getCanonicalName(),e.getCause() instanceof TestError);
  }
  Assert.assertNotNull(future.getError());
  Assert.assertTrue("Expected " + TestError.class.getCanonicalName(),future.getError() instanceof TestError);
  Assert.assertNull(future.getResult());
  final CountDownLatch latch=new CountDownLatch(1);
  final AtomicReference<Throwable> errorRef=new AtomicReference<Throwable>();
  simpleClient.error(new Callback<Void>(){
    @Override public void handleResult(    Void result){
      Assert.fail("Expected " + TestError.class.getCanonicalName());
    }
    @Override public void handleError(    Throwable error){
      errorRef.set(error);
      latch.countDown();
    }
  }
);
  Assert.assertTrue("Timed out waiting for error",latch.await(2,TimeUnit.SECONDS));
  Assert.assertNotNull(errorRef.get());
  Assert.assertTrue(errorRef.get() instanceof TestError);
}

</code></pre>

<br>
<pre class="type-10 type-13 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void cancelPendingRequestsOnTransceiverClose() throws Exception {
  BlockingSimpleImpl blockingSimpleImpl=new BlockingSimpleImpl();
  Server server2=new NettyServer(new SpecificResponder(Simple.class,blockingSimpleImpl),new InetSocketAddress(0));
  server2.start();
  try {
    int serverPort=server2.getPort();
    System.out.println("server2 port : " + serverPort);
    CallFuture<Integer> addFuture=new CallFuture<Integer>();
    Transceiver transceiver2=new NettyTransceiver(new InetSocketAddress(serverPort),TestNettyServer.CONNECT_TIMEOUT_MILLIS);
    try {
      Simple.Callback simpleClient2=SpecificRequestor.getClient(Simple.Callback.class,transceiver2);
      Assert.assertEquals(3,simpleClient2.add(1,2));
      blockingSimpleImpl.acquireRunPermit();
      simpleClient2.add(1,2,addFuture);
    }
  finally {
      transceiver2.close();
    }
    boolean ioeThrown=false;
    try {
      addFuture.get();
    }
 catch (    ExecutionException e) {
      ioeThrown=e.getCause() instanceof IOException;
      Assert.assertTrue(e.getCause() instanceof IOException);
    }
catch (    Exception e) {
      e.printStackTrace();
      Assert.fail("Unexpected Exception: " + e.toString());
    }
    Assert.assertTrue("Expected IOException to be thrown",ioeThrown);
  }
  finally {
    blockingSimpleImpl.releaseRunPermit();
    server2.close();
  }
}

</code></pre>

<br>
<pre class="type-2 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void echo() throws Exception {
  TestRecord record=TestRecord.newBuilder().setHash(new org.apache.avro.test.MD5(new byte[]{1,2,3,4,5,6,7,8,1,2,3,4,5,6,7,8})).setKind(org.apache.avro.test.Kind.FOO).setName("My Record").build();
  Assert.assertEquals(record,simpleClient.echo(record));
  CallFuture<TestRecord> future1=new CallFuture<TestRecord>();
  simpleClient.echo(record,future1);
  Assert.assertEquals(record,future1.get(2,TimeUnit.SECONDS));
  Assert.assertNull(future1.getError());
  final CallFuture<TestRecord> future2=new CallFuture<TestRecord>();
  simpleClient.echo(record,new Callback<TestRecord>(){
    @Override public void handleResult(    TestRecord result){
      future2.handleResult(result);
    }
    @Override public void handleError(    Throwable error){
      future2.handleError(error);
    }
  }
);
  Assert.assertEquals(record,future2.get(2,TimeUnit.SECONDS));
  Assert.assertNull(future2.getError());
}

</code></pre>

<br>
<pre class="type-10 type-13 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSendAfterChannelClose() throws Exception {
  Server server2=new NettyServer(new SpecificResponder(Simple.class,simpleService),new InetSocketAddress(0));
  server2.start();
  try {
    int serverPort=server2.getPort();
    System.out.println("server2 port : " + serverPort);
    Transceiver transceiver2=new NettyTransceiver(new InetSocketAddress(serverPort),TestNettyServer.CONNECT_TIMEOUT_MILLIS);
    try {
      Simple.Callback simpleClient2=SpecificRequestor.getClient(Simple.Callback.class,transceiver2);
      Assert.assertEquals(3,simpleClient2.add(1,2));
      CallFuture<Integer> addFuture=new CallFuture<Integer>();
      simpleClient2.add(1,2,addFuture);
      Assert.assertEquals(new Integer(3),addFuture.get());
      server2.close();
      Thread.sleep(1000L);
      boolean ioeCaught=false;
      try {
        simpleClient2.add(1,2);
        Assert.fail("Send after server close should have thrown Exception");
      }
 catch (      AvroRemoteException e) {
        ioeCaught=e.getCause() instanceof IOException;
        Assert.assertTrue("Expected IOException",ioeCaught);
      }
catch (      Exception e) {
        e.printStackTrace();
        throw e;
      }
      Assert.assertTrue("Expected IOException",ioeCaught);
      ioeCaught=false;
      try {
        addFuture=new CallFuture<Integer>();
        simpleClient2.add(1,2,addFuture);
        addFuture.get();
        Assert.fail("Send after server close should have thrown Exception");
      }
 catch (      IOException e) {
        ioeCaught=true;
      }
catch (      Exception e) {
        e.printStackTrace();
        throw e;
      }
      Assert.assertTrue("Expected IOException",ioeCaught);
    }
  finally {
      transceiver2.close();
    }
  }
  finally {
    server2.close();
  }
}

</code></pre>

<br>
<pre class="type-10 type-13 type-2 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void cancelPendingRequestsAfterChannelCloseByServerShutdown() throws Exception {
  BlockingSimpleImpl blockingSimpleImpl=new BlockingSimpleImpl();
  Server server2=new NettyServer(new SpecificResponder(Simple.class,blockingSimpleImpl),new InetSocketAddress(0));
  server2.start();
  Transceiver transceiver2=null;
  try {
    int serverPort=server2.getPort();
    System.out.println("server2 port : " + serverPort);
    transceiver2=new NettyTransceiver(new InetSocketAddress(serverPort),TestNettyServer.CONNECT_TIMEOUT_MILLIS);
    final Simple.Callback simpleClient2=SpecificRequestor.getClient(Simple.Callback.class,transceiver2);
    blockingSimpleImpl.acquireEnterPermit();
    blockingSimpleImpl.acquireRunPermit();
    Thread t=new Thread(new Runnable(){
      @Override public void run(){
        try {
          simpleClient2.add(3,4);
          Assert.fail("Expected an exception");
        }
 catch (        Exception e) {
        }
      }
    }
);
    t.start();
    blockingSimpleImpl.acquireEnterPermit();
    server2.close();
    t.join(10000);
    Assert.assertFalse("Client request should not be blocked on server shutdown",t.isAlive());
  }
  finally {
    blockingSimpleImpl.releaseRunPermit();
    server2.close();
    if (transceiver2 != null)     transceiver2.close();
  }
}

</code></pre>

<br>
<pre class="type-10 type-13 type-2 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void clientReconnectAfterServerRestart() throws Exception {
  SimpleImpl simpleImpl=new BlockingSimpleImpl();
  Server server2=new NettyServer(new SpecificResponder(Simple.class,simpleImpl),new InetSocketAddress(0));
  try {
    server2.start();
    int serverPort=server2.getPort();
    System.out.println("server2 port : " + serverPort);
    Transceiver transceiver2=new NettyTransceiver(new InetSocketAddress(serverPort),TestNettyServer.CONNECT_TIMEOUT_MILLIS);
    Simple.Callback simpleClient2=SpecificRequestor.getClient(Simple.Callback.class,transceiver2);
    Assert.assertEquals(3,simpleClient2.add(1,2));
    server2.close();
    try {
      simpleClient2.add(2,-1);
      Assert.fail("Client should not be able to invoke RPCs " + "because server is no longer running");
    }
 catch (    Exception e) {
    }
    Thread.sleep(2000L);
    server2=new NettyServer(new SpecificResponder(Simple.class,simpleImpl),new InetSocketAddress(serverPort));
    server2.start();
    Assert.assertEquals(3,simpleClient2.add(1,2));
  }
  finally {
    server2.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.ipc.TestSaslDigestMd5 </h4><pre class="type-10 type-2 type-3 type-14 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=SaslException.class) public void testWrongPassword() throws Exception {
  Server s=new SaslSocketServer(new TestResponder(),new InetSocketAddress(0),DIGEST_MD5_MECHANISM,SERVICE,HOST,DIGEST_MD5_PROPS,new TestSaslCallbackHandler());
  s.start();
  SaslClient saslClient=Sasl.createSaslClient(new String[]{DIGEST_MD5_MECHANISM},PRINCIPAL,SERVICE,HOST,DIGEST_MD5_PROPS,new WrongPasswordCallbackHandler());
  Transceiver c=new SaslSocketTransceiver(new InetSocketAddress(server.getPort()),saslClient);
  GenericRequestor requestor=new GenericRequestor(PROTOCOL,c);
  GenericRecord params=new GenericData.Record(PROTOCOL.getMessages().get("hello").getRequest());
  params.put("greeting","bob");
  Utf8 response=(Utf8)requestor.request("hello",params);
  assertEquals(new Utf8("goodbye"),response);
  s.close();
  c.close();
}

</code></pre>

<br>
<pre class="type-2 type-3 type-14 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=SaslException.class) public void testAnonymousClient() throws Exception {
  Server s=new SaslSocketServer(new TestResponder(),new InetSocketAddress(0),DIGEST_MD5_MECHANISM,SERVICE,HOST,DIGEST_MD5_PROPS,new TestSaslCallbackHandler());
  s.start();
  Transceiver c=new SaslSocketTransceiver(new InetSocketAddress(s.getPort()));
  GenericRequestor requestor=new GenericRequestor(PROTOCOL,c);
  GenericRecord params=new GenericData.Record(PROTOCOL.getMessages().get("hello").getRequest());
  params.put("greeting","bob");
  Utf8 response=(Utf8)requestor.request("hello",params);
  assertEquals(new Utf8("goodbye"),response);
  s.close();
  c.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.ipc.stats.TestHistogram </h4><pre class="type-9 type-12 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicOperation(){
  Segmenter<String,Integer> s=new Histogram.TreeMapSegmenter<Integer>(new TreeSet<Integer>(Arrays.asList(0,1,2,4,8,16)));
  Histogram<String,Integer> h=new Histogram<String,Integer>(s);
  for (int i=0; i < 20; ++i) {
    h.add(i);
  }
  assertEquals(20,h.getCount());
  assertArrayEquals(new int[]{1,1,2,4,8,4},h.getHistogram());
  assertEquals("[0,1)=1;[1,2)=1;[2,4)=2;[4,8)=4;[8,16)=8;[16,infinity)=4",h.toString());
  String[] correctBucketLabels={"[0,1)","[1,2)","[2,4)","[4,8)","[8,16)","[16,infinity)"};
  int pos=0;
  Iterator<String> it=h.getSegmenter().getBuckets();
  while (it.hasNext()) {
    assertEquals(correctBucketLabels[pos],it.next());
    pos=pos + 1;
  }
  assertEquals(correctBucketLabels.length,pos);
  List<String> labels=h.getSegmenter().getBucketLabels();
  assertEquals(correctBucketLabels.length,labels.size());
  if (labels.size() == correctBucketLabels.length) {
    for (int i=0; i < labels.size(); i++) {
      assertEquals(correctBucketLabels[i],labels.get(i));
    }
  }
  String[] correctBoundryLabels={"0","1","2","4","8","16"};
  List<String> boundryLabels=h.getSegmenter().getBoundaryLabels();
  assertEquals(correctBoundryLabels.length,boundryLabels.size());
  if (boundryLabels.size() == correctBoundryLabels.length) {
    for (int i=0; i < boundryLabels.size(); i++) {
      assertEquals(correctBoundryLabels[i],boundryLabels.get(i));
    }
  }
  List<Entry<String>> entries=new ArrayList<Entry<String>>();
  for (  Entry<String> entry : h.entries()) {
    entries.add(entry);
  }
  assertEquals("[0,1)",entries.get(0).bucket);
  assertEquals(4,entries.get(5).count);
  assertEquals(6,entries.size());
  h.add(1010);
  h.add(9191);
  List<Integer> recent=h.getRecentAdditions();
  assertTrue(recent.contains(1010));
  assertTrue(recent.contains(9191));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.mapred.TestAvroInputFormat </h4><pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("rawtypes") @Test public void testIgnoreFilesWithoutExtension() throws Exception {
  fs.mkdirs(inputDir);
  Path avroFile=new Path(inputDir,"somefile.avro");
  Path textFile=new Path(inputDir,"someotherfile.txt");
  fs.create(avroFile).close();
  fs.create(textFile).close();
  FileInputFormat.setInputPaths(conf,inputDir);
  AvroInputFormat inputFormat=new AvroInputFormat();
  FileStatus[] statuses=inputFormat.listStatus(conf);
  Assert.assertEquals(1,statuses.length);
  Assert.assertEquals("somefile.avro",statuses[0].getPath().getName());
  conf.setBoolean(AvroInputFormat.IGNORE_FILES_WITHOUT_EXTENSION_KEY,false);
  statuses=inputFormat.listStatus(conf);
  Assert.assertEquals(2,statuses.length);
  Set<String> names=new HashSet<String>();
  names.add(statuses[0].getPath().getName());
  names.add(statuses[1].getPath().getName());
  Assert.assertTrue(names.contains("somefile.avro"));
  Assert.assertTrue(names.contains("someotherfile.txt"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.mapred.TestAvroTextOutputFormat </h4><pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAvroTextRecordWriter() throws Exception {
  File file=new File(System.getProperty("test.dir","."),"writer");
  Schema schema=Schema.create(Schema.Type.BYTES);
  DatumWriter<ByteBuffer> datumWriter=new GenericDatumWriter<ByteBuffer>(schema);
  DataFileWriter<ByteBuffer> fileWriter=new DataFileWriter<ByteBuffer>(datumWriter);
  fileWriter.create(schema,file);
  RecordWriter<Object,Object> rw=new AvroTextOutputFormat<Object,Object>().new AvroTextRecordWriter(fileWriter,"\t".getBytes(UTF8));
  rw.write(null,null);
  rw.write(null,NullWritable.get());
  rw.write(NullWritable.get(),null);
  rw.write(NullWritable.get(),NullWritable.get());
  rw.write("k1",null);
  rw.write("k2",NullWritable.get());
  rw.write(null,"v1");
  rw.write(NullWritable.get(),"v2");
  rw.write("k3","v3");
  rw.write(new Text("k4"),new Text("v4"));
  rw.close(null);
  DatumReader<ByteBuffer> reader=new GenericDatumReader<ByteBuffer>();
  DataFileReader<ByteBuffer> fileReader=new DataFileReader<ByteBuffer>(file,reader);
  assertEquals("k1",asString(fileReader.next()));
  assertEquals("k2",asString(fileReader.next()));
  assertEquals("v1",asString(fileReader.next()));
  assertEquals("v2",asString(fileReader.next()));
  assertEquals("k3\tv3",asString(fileReader.next()));
  assertEquals("k4\tv4",asString(fileReader.next()));
  assertFalse("End",fileReader.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.mapred.TestPair </h4><pre class="type-13 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCollectionFailure() throws Exception {
  try {
    new Pair("foo",new ArrayList());
  }
 catch (  AvroRuntimeException e) {
    assertTrue(e.getMessage().startsWith("Cannot infer schema"));
    return;
  }
  fail("Expected an AvroRuntimeException");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.mapreduce.TestAvroKeyRecordReader </h4><pre class="type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verifies that avro records can be read and progress is reported correctly.
 */
@Test public void testReadRecords() throws IOException, InterruptedException {
  final SeekableInput avroFileInput=new SeekableFileInput(AvroFiles.createFile(new File(mTempDir.getRoot(),"myStringfile.avro"),Schema.create(Schema.Type.STRING),"first","second"));
  Schema readerSchema=Schema.create(Schema.Type.STRING);
  RecordReader<AvroKey<CharSequence>,NullWritable> recordReader=new AvroKeyRecordReader<CharSequence>(readerSchema){
    @Override protected SeekableInput createSeekableInput(    Configuration conf,    Path path) throws IOException {
      return avroFileInput;
    }
  }
;
  Configuration conf=new Configuration();
  FileSplit inputSplit=createMock(FileSplit.class);
  expect(inputSplit.getPath()).andReturn(new Path("/path/to/an/avro/file")).anyTimes();
  expect(inputSplit.getStart()).andReturn(0L).anyTimes();
  expect(inputSplit.getLength()).andReturn(avroFileInput.length()).anyTimes();
  TaskAttemptContext context=createMock(TaskAttemptContext.class);
  expect(context.getConfiguration()).andReturn(conf).anyTimes();
  replay(inputSplit);
  replay(context);
  recordReader.initialize(inputSplit,context);
  assertEquals("Progress should be zero before any records are read",0.0f,recordReader.getProgress(),0.0f);
  AvroKey<CharSequence> key;
  NullWritable value;
  assertTrue("Expected at least one record",recordReader.nextKeyValue());
  key=recordReader.getCurrentKey();
  value=recordReader.getCurrentValue();
  assertNotNull("First record had null key",key);
  assertNotNull("First record had null value",value);
  CharSequence firstString=key.datum();
  assertEquals("first",firstString.toString());
  assertTrue("getCurrentKey() returned different keys for the same record",key == recordReader.getCurrentKey());
  assertTrue("getCurrentValue() returned different values for the same record",value == recordReader.getCurrentValue());
  assertTrue("Expected to read a second record",recordReader.nextKeyValue());
  key=recordReader.getCurrentKey();
  value=recordReader.getCurrentValue();
  assertNotNull("Second record had null key",key);
  assertNotNull("Second record had null value",value);
  CharSequence secondString=key.datum();
  assertEquals("second",secondString.toString());
  assertEquals("Progress should be complete (2 out of 2 records processed)",1.0f,recordReader.getProgress(),0.0f);
  assertFalse("Expected only 2 records",recordReader.nextKeyValue());
  recordReader.close();
  verify(inputSplit);
  verify(context);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.mapreduce.TestAvroKeyRecordWriter </h4><pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSycnableWrite() throws IOException {
  Schema writerSchema=Schema.create(Schema.Type.INT);
  GenericData dataModel=new ReflectData();
  CodecFactory compressionCodec=CodecFactory.nullCodec();
  FileOutputStream outputStream=new FileOutputStream(new File("target/temp.avro"));
  TaskAttemptContext context=createMock(TaskAttemptContext.class);
  replay(context);
  AvroKeyRecordWriter<Integer> recordWriter=new AvroKeyRecordWriter<Integer>(writerSchema,dataModel,compressionCodec,outputStream);
  long positionOne=recordWriter.sync();
  recordWriter.write(new AvroKey<Integer>(1),NullWritable.get());
  long positionTwo=recordWriter.sync();
  recordWriter.write(new AvroKey<Integer>(2),NullWritable.get());
  recordWriter.close(context);
  verify(context);
  Configuration conf=new Configuration();
  conf.set("fs.default.name","file:///");
  Path avroFile=new Path("target/temp.avro");
  DataFileReader<GenericData.Record> dataFileReader=new DataFileReader<GenericData.Record>(new FsInput(avroFile,conf),new SpecificDatumReader<GenericData.Record>());
  dataFileReader.seek(positionTwo);
  assertTrue(dataFileReader.hasNext());
  assertEquals(2,dataFileReader.next());
  dataFileReader.seek(positionOne);
  assertTrue(dataFileReader.hasNext());
  assertEquals(1,dataFileReader.next());
  dataFileReader.close();
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWrite() throws IOException {
  Schema writerSchema=Schema.create(Schema.Type.INT);
  GenericData dataModel=new ReflectData();
  CodecFactory compressionCodec=CodecFactory.nullCodec();
  ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  TaskAttemptContext context=createMock(TaskAttemptContext.class);
  replay(context);
  AvroKeyRecordWriter<Integer> recordWriter=new AvroKeyRecordWriter<Integer>(writerSchema,dataModel,compressionCodec,outputStream);
  recordWriter.write(new AvroKey<Integer>(1),NullWritable.get());
  recordWriter.write(new AvroKey<Integer>(2),NullWritable.get());
  recordWriter.close(context);
  verify(context);
  InputStream inputStream=new ByteArrayInputStream(outputStream.toByteArray());
  Schema readerSchema=Schema.create(Schema.Type.INT);
  DatumReader<Integer> datumReader=new SpecificDatumReader<Integer>(readerSchema);
  DataFileStream<Integer> dataFileReader=new DataFileStream<Integer>(inputStream,datumReader);
  assertTrue(dataFileReader.hasNext());
  assertEquals(1,dataFileReader.next().intValue());
  assertTrue(dataFileReader.hasNext());
  assertEquals(2,dataFileReader.next().intValue());
  assertFalse(dataFileReader.hasNext());
  dataFileReader.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.mapreduce.TestAvroKeyValueRecordReader </h4><pre class="type-10 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verifies that avro records can be read and progress is reported correctly.
 */
@Test public void testReadRecords() throws IOException, InterruptedException {
  Schema keyValueSchema=AvroKeyValue.getSchema(Schema.create(Schema.Type.STRING),Schema.create(Schema.Type.INT));
  AvroKeyValue<CharSequence,Integer> firstInputRecord=new AvroKeyValue<CharSequence,Integer>(new GenericData.Record(keyValueSchema));
  firstInputRecord.setKey("first");
  firstInputRecord.setValue(1);
  AvroKeyValue<CharSequence,Integer> secondInputRecord=new AvroKeyValue<CharSequence,Integer>(new GenericData.Record(keyValueSchema));
  secondInputRecord.setKey("second");
  secondInputRecord.setValue(2);
  final SeekableInput avroFileInput=new SeekableFileInput(AvroFiles.createFile(new File(mTempDir.getRoot(),"myInputFile.avro"),keyValueSchema,firstInputRecord.get(),secondInputRecord.get()));
  RecordReader<AvroKey<CharSequence>,AvroValue<Integer>> recordReader=new AvroKeyValueRecordReader<CharSequence,Integer>(Schema.create(Schema.Type.STRING),Schema.create(Schema.Type.INT)){
    @Override protected SeekableInput createSeekableInput(    Configuration conf,    Path path) throws IOException {
      return avroFileInput;
    }
  }
;
  Configuration conf=new Configuration();
  FileSplit inputSplit=createMock(FileSplit.class);
  expect(inputSplit.getPath()).andReturn(new Path("/path/to/an/avro/file")).anyTimes();
  expect(inputSplit.getStart()).andReturn(0L).anyTimes();
  expect(inputSplit.getLength()).andReturn(avroFileInput.length()).anyTimes();
  TaskAttemptContext context=createMock(TaskAttemptContext.class);
  expect(context.getConfiguration()).andReturn(conf).anyTimes();
  replay(inputSplit);
  replay(context);
  recordReader.initialize(inputSplit,context);
  assertEquals("Progress should be zero before any records are read",0.0f,recordReader.getProgress(),0.0f);
  AvroKey<CharSequence> key;
  AvroValue<Integer> value;
  assertTrue("Expected at least one record",recordReader.nextKeyValue());
  key=recordReader.getCurrentKey();
  value=recordReader.getCurrentValue();
  assertNotNull("First record had null key",key);
  assertNotNull("First record had null value",value);
  assertEquals("first",key.datum().toString());
  assertEquals(1,value.datum().intValue());
  assertTrue("getCurrentKey() returned different keys for the same record",key == recordReader.getCurrentKey());
  assertTrue("getCurrentValue() returned different values for the same record",value == recordReader.getCurrentValue());
  assertTrue("Expected to read a second record",recordReader.nextKeyValue());
  key=recordReader.getCurrentKey();
  value=recordReader.getCurrentValue();
  assertNotNull("Second record had null key",key);
  assertNotNull("Second record had null value",value);
  assertEquals("second",key.datum().toString());
  assertEquals(2,value.datum().intValue());
  assertEquals("Progress should be complete (2 out of 2 records processed)",1.0f,recordReader.getProgress(),0.0f);
  assertFalse("Expected only 2 records",recordReader.nextKeyValue());
  recordReader.close();
  verify(inputSplit);
  verify(context);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.mapreduce.TestAvroKeyValueRecordWriter </h4><pre class="type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSyncableWriteRecords() throws IOException {
  Job job=new Job();
  AvroJob.setOutputValueSchema(job,TextStats.SCHEMA$);
  TaskAttemptContext context=createMock(TaskAttemptContext.class);
  replay(context);
  AvroDatumConverterFactory factory=new AvroDatumConverterFactory(job.getConfiguration());
  AvroDatumConverter<Text,?> keyConverter=factory.create(Text.class);
  AvroValue<TextStats> avroValue=new AvroValue<TextStats>(null);
  @SuppressWarnings("unchecked") AvroDatumConverter<AvroValue<TextStats>,?> valueConverter=factory.create((Class<AvroValue<TextStats>>)avroValue.getClass());
  CodecFactory compressionCodec=CodecFactory.nullCodec();
  FileOutputStream outputStream=new FileOutputStream(new File("target/temp.avro"));
  AvroKeyValueRecordWriter<Text,AvroValue<TextStats>> writer=new AvroKeyValueRecordWriter<Text,AvroValue<TextStats>>(keyConverter,valueConverter,new ReflectData(),compressionCodec,outputStream);
  TextStats appleStats=new TextStats();
  appleStats.name="apple";
  long pointOne=writer.sync();
  writer.write(new Text("apple"),new AvroValue<TextStats>(appleStats));
  TextStats bananaStats=new TextStats();
  bananaStats.name="banana";
  long pointTwo=writer.sync();
  writer.write(new Text("banana"),new AvroValue<TextStats>(bananaStats));
  writer.close(context);
  verify(context);
  Configuration conf=new Configuration();
  conf.set("fs.default.name","file:///");
  Path avroFile=new Path("target/temp.avro");
  DataFileReader<GenericData.Record> avroFileReader=new DataFileReader<GenericData.Record>(new FsInput(avroFile,conf),new SpecificDatumReader<GenericData.Record>());
  avroFileReader.seek(pointTwo);
  assertTrue(avroFileReader.hasNext());
  AvroKeyValue<CharSequence,TextStats> secondRecord=new AvroKeyValue<CharSequence,TextStats>(avroFileReader.next());
  assertNotNull(secondRecord.get());
  assertEquals("banana",secondRecord.getKey().toString());
  assertEquals("banana",secondRecord.getValue().name.toString());
  avroFileReader.seek(pointOne);
  assertTrue(avroFileReader.hasNext());
  AvroKeyValue<CharSequence,TextStats> firstRecord=new AvroKeyValue<CharSequence,TextStats>(avroFileReader.next());
  assertNotNull(firstRecord.get());
  assertEquals("apple",firstRecord.getKey().toString());
  assertEquals("apple",firstRecord.getValue().name.toString());
  avroFileReader.close();
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWriteRecords() throws IOException {
  Job job=new Job();
  AvroJob.setOutputValueSchema(job,TextStats.SCHEMA$);
  TaskAttemptContext context=createMock(TaskAttemptContext.class);
  replay(context);
  AvroDatumConverterFactory factory=new AvroDatumConverterFactory(job.getConfiguration());
  AvroDatumConverter<Text,?> keyConverter=factory.create(Text.class);
  AvroValue<TextStats> avroValue=new AvroValue<TextStats>(null);
  @SuppressWarnings("unchecked") AvroDatumConverter<AvroValue<TextStats>,?> valueConverter=factory.create((Class<AvroValue<TextStats>>)avroValue.getClass());
  CodecFactory compressionCodec=CodecFactory.nullCodec();
  ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  AvroKeyValueRecordWriter<Text,AvroValue<TextStats>> writer=new AvroKeyValueRecordWriter<Text,AvroValue<TextStats>>(keyConverter,valueConverter,new ReflectData(),compressionCodec,outputStream);
  TextStats appleStats=new TextStats();
  appleStats.name="apple";
  writer.write(new Text("apple"),new AvroValue<TextStats>(appleStats));
  TextStats bananaStats=new TextStats();
  bananaStats.name="banana";
  writer.write(new Text("banana"),new AvroValue<TextStats>(bananaStats));
  writer.close(context);
  verify(context);
  ByteArrayInputStream inputStream=new ByteArrayInputStream(outputStream.toByteArray());
  Schema readerSchema=AvroKeyValue.getSchema(Schema.create(Schema.Type.STRING),TextStats.SCHEMA$);
  DatumReader<GenericRecord> datumReader=new SpecificDatumReader<GenericRecord>(readerSchema);
  DataFileStream<GenericRecord> avroFileReader=new DataFileStream<GenericRecord>(inputStream,datumReader);
  assertTrue(avroFileReader.hasNext());
  AvroKeyValue<CharSequence,TextStats> firstRecord=new AvroKeyValue<CharSequence,TextStats>(avroFileReader.next());
  assertNotNull(firstRecord.get());
  assertEquals("apple",firstRecord.getKey().toString());
  assertEquals("apple",firstRecord.getValue().name.toString());
  assertTrue(avroFileReader.hasNext());
  AvroKeyValue<CharSequence,TextStats> secondRecord=new AvroKeyValue<CharSequence,TextStats>(avroFileReader.next());
  assertNotNull(secondRecord.get());
  assertEquals("banana",secondRecord.getKey().toString());
  assertEquals("banana",secondRecord.getValue().name.toString());
  assertFalse(avroFileReader.hasNext());
  avroFileReader.close();
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUsingReflection() throws Exception {
  Job job=new Job();
  Schema schema=ReflectData.get().getSchema(R1.class);
  AvroJob.setOutputValueSchema(job,schema);
  TaskAttemptContext context=createMock(TaskAttemptContext.class);
  replay(context);
  R1 record=new R1();
  record.attribute="test";
  AvroValue<R1> avroValue=new AvroValue<R1>(record);
  ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  AvroDatumConverterFactory factory=new AvroDatumConverterFactory(job.getConfiguration());
  AvroDatumConverter<Text,?> keyConverter=factory.create(Text.class);
  @SuppressWarnings("unchecked") AvroDatumConverter<AvroValue<R1>,R1> valueConverter=factory.create((Class<AvroValue<R1>>)avroValue.getClass());
  AvroKeyValueRecordWriter<Text,AvroValue<R1>> writer=new AvroKeyValueRecordWriter<Text,AvroValue<R1>>(keyConverter,valueConverter,new ReflectData(),CodecFactory.nullCodec(),outputStream);
  writer.write(new Text("reflectionData"),avroValue);
  writer.close(context);
  verify(context);
  ByteArrayInputStream inputStream=new ByteArrayInputStream(outputStream.toByteArray());
  Schema readerSchema=AvroKeyValue.getSchema(Schema.create(Schema.Type.STRING),schema);
  DatumReader<GenericRecord> datumReader=new ReflectDatumReader<GenericRecord>(readerSchema);
  DataFileStream<GenericRecord> avroFileReader=new DataFileStream<GenericRecord>(inputStream,datumReader);
  assertTrue(avroFileReader.hasNext());
  AvroKeyValue<CharSequence,R1> firstRecord=new AvroKeyValue<CharSequence,R1>(avroFileReader.next());
  assertNotNull(firstRecord.get());
  assertEquals("reflectionData",firstRecord.getKey().toString());
  assertEquals(record.attribute,firstRecord.getValue().attribute);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.mapreduce.TestAvroMultipleOutputs </h4><pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAvroInput() throws Exception {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.avro").toURI().toString()));
  job.setInputFormatClass(AvroKeyInputFormat.class);
  AvroJob.setInputKeySchema(job,TextStats.SCHEMA$);
  AvroMultipleOutputs.addNamedOutput(job,"myavro3",AvroKeyOutputFormat.class,TextStats.SCHEMA$,null);
  job.setMapperClass(StatCountMapper.class);
  job.setMapOutputKeyClass(Text.class);
  job.setMapOutputValueClass(IntWritable.class);
  job.setReducerClass(SpecificStatsReducer.class);
  AvroJob.setOutputKeySchema(job,TextStats.SCHEMA$);
  job.setOutputFormatClass(AvroKeyOutputFormat.class);
  Path outputPath=new Path(tmpFolder.getRoot().getPath() + "/out-specific-input");
  FileOutputFormat.setOutputPath(job,outputPath);
  Assert.assertTrue(job.waitForCompletion(true));
  FileSystem fileSystem=FileSystem.get(job.getConfiguration());
  FileStatus[] outputFiles=fileSystem.globStatus(outputPath.suffix("/myavro3-*"));
  Assert.assertEquals(1,outputFiles.length);
  DataFileReader<TextStats> reader=new DataFileReader<TextStats>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new SpecificDatumReader<TextStats>());
  Map<String,Integer> counts=new HashMap<String,Integer>();
  for (  TextStats record : reader) {
    counts.put(record.name.toString(),record.count);
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAvroGenericOutput() throws Exception {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.txt").toURI().toString()));
  job.setInputFormatClass(TextInputFormat.class);
  job.setMapperClass(LineCountMapper.class);
  job.setMapOutputKeyClass(Text.class);
  job.setMapOutputValueClass(IntWritable.class);
  job.setReducerClass(GenericStatsReducer.class);
  AvroJob.setOutputKeySchema(job,STATS_SCHEMA);
  AvroMultipleOutputs.addNamedOutput(job,"myavro",AvroKeyOutputFormat.class,STATS_SCHEMA,null);
  AvroMultipleOutputs.addNamedOutput(job,"myavro1",AvroKeyOutputFormat.class,STATS_SCHEMA_2);
  job.setOutputFormatClass(AvroKeyOutputFormat.class);
  String dir=System.getProperty("test.dir",".") + "/mapred";
  Path outputPath=new Path(dir + "/out");
  outputPath.getFileSystem(job.getConfiguration()).delete(outputPath);
  FileOutputFormat.setOutputPath(job,outputPath);
  Assert.assertTrue(job.waitForCompletion(true));
  FileSystem fileSystem=FileSystem.get(job.getConfiguration());
  FileStatus[] outputFiles=fileSystem.globStatus(outputPath.suffix("/myavro-r-00000.avro"));
  Assert.assertEquals(1,outputFiles.length);
  DataFileReader<GenericData.Record> reader=new DataFileReader<GenericData.Record>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new GenericDatumReader<GenericData.Record>(STATS_SCHEMA));
  Map<String,Integer> counts=new HashMap<String,Integer>();
  for (  GenericData.Record record : reader) {
    counts.put(((Utf8)record.get("name")).toString(),(Integer)record.get("count"));
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
  outputFiles=fileSystem.globStatus(outputPath.suffix("/myavro1-r-00000.avro"));
  Assert.assertEquals(1,outputFiles.length);
  reader=new DataFileReader<GenericData.Record>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new GenericDatumReader<GenericData.Record>(STATS_SCHEMA_2));
  counts=new HashMap<String,Integer>();
  for (  GenericData.Record record : reader) {
    counts.put(((Utf8)record.get("name1")).toString(),(Integer)record.get("count1"));
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
  outputFiles=fileSystem.globStatus(outputPath.suffix("/testnewwrite-r-00000.avro"));
  Assert.assertEquals(1,outputFiles.length);
  reader=new DataFileReader<GenericData.Record>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new GenericDatumReader<GenericData.Record>(STATS_SCHEMA));
  counts=new HashMap<String,Integer>();
  for (  GenericData.Record record : reader) {
    counts.put(((Utf8)record.get("name")).toString(),(Integer)record.get("count"));
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
  outputFiles=fileSystem.globStatus(outputPath.suffix("/testnewwrite2-r-00000.avro"));
  Assert.assertEquals(1,outputFiles.length);
  reader=new DataFileReader<GenericData.Record>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new GenericDatumReader<GenericData.Record>(STATS_SCHEMA_2));
  counts=new HashMap<String,Integer>();
  for (  GenericData.Record record : reader) {
    counts.put(((Utf8)record.get("name1")).toString(),(Integer)record.get("count1"));
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
  outputFiles=fileSystem.globStatus(outputPath.suffix("/testwritenonschema-r-00000.avro"));
  Assert.assertEquals(1,outputFiles.length);
  reader=new DataFileReader<GenericData.Record>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new GenericDatumReader<GenericData.Record>(STATS_SCHEMA));
  counts=new HashMap<String,Integer>();
  for (  GenericData.Record record : reader) {
    counts.put(((Utf8)record.get("name")).toString(),(Integer)record.get("count"));
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAvroMapOutput() throws Exception {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.avro").toURI().toString()));
  job.setInputFormatClass(AvroKeyInputFormat.class);
  AvroJob.setInputKeySchema(job,TextStats.SCHEMA$);
  job.setMapperClass(SortMapper.class);
  AvroJob.setMapOutputKeySchema(job,TextStats.SCHEMA$);
  job.setMapOutputValueClass(NullWritable.class);
  job.setReducerClass(SortReducer.class);
  AvroJob.setOutputKeySchema(job,TextStats.SCHEMA$);
  job.setOutputFormatClass(AvroKeyOutputFormat.class);
  Path outputPath=new Path(tmpFolder.getRoot().getPath() + "/out-specific-input");
  FileOutputFormat.setOutputPath(job,outputPath);
  Assert.assertTrue(job.waitForCompletion(true));
  FileSystem fileSystem=FileSystem.get(job.getConfiguration());
  FileStatus[] outputFiles=fileSystem.globStatus(outputPath.suffix("/part-*"));
  Assert.assertEquals(1,outputFiles.length);
  DataFileReader<TextStats> reader=new DataFileReader<TextStats>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new SpecificDatumReader<TextStats>());
  Map<String,Integer> counts=new HashMap<String,Integer>();
  for (  TextStats record : reader) {
    counts.put(record.name.toString(),record.count);
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAvroSpecificOutput() throws Exception {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.txt").toURI().toString()));
  job.setInputFormatClass(TextInputFormat.class);
  job.setMapperClass(LineCountMapper.class);
  job.setMapOutputKeyClass(Text.class);
  job.setMapOutputValueClass(IntWritable.class);
  AvroMultipleOutputs.addNamedOutput(job,"myavro3",AvroKeyOutputFormat.class,TextStats.SCHEMA$,null);
  job.setReducerClass(SpecificStatsReducer.class);
  AvroJob.setOutputKeySchema(job,TextStats.SCHEMA$);
  job.setOutputFormatClass(AvroKeyOutputFormat.class);
  String dir=System.getProperty("test.dir",".") + "/mapred";
  Path outputPath=new Path(dir + "/out-specific");
  outputPath.getFileSystem(job.getConfiguration()).delete(outputPath);
  FileOutputFormat.setOutputPath(job,outputPath);
  Assert.assertTrue(job.waitForCompletion(true));
  FileSystem fileSystem=FileSystem.get(job.getConfiguration());
  FileStatus[] outputFiles=fileSystem.globStatus(outputPath.suffix("/myavro3-*"));
  Assert.assertEquals(1,outputFiles.length);
  DataFileReader<TextStats> reader=new DataFileReader<TextStats>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new SpecificDatumReader<TextStats>());
  Map<String,Integer> counts=new HashMap<String,Integer>();
  for (  TextStats record : reader) {
    counts.put(record.name.toString(),record.count);
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.mapreduce.TestAvroMultipleOutputsSyncable </h4><pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAvroMapOutput() throws Exception {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.avro").toURI().toString()));
  job.setInputFormatClass(AvroKeyInputFormat.class);
  AvroJob.setInputKeySchema(job,TextStats.SCHEMA$);
  job.setMapperClass(SortMapper.class);
  AvroJob.setMapOutputKeySchema(job,TextStats.SCHEMA$);
  job.setMapOutputValueClass(NullWritable.class);
  job.setReducerClass(SortReducer.class);
  AvroJob.setOutputKeySchema(job,TextStats.SCHEMA$);
  job.setOutputFormatClass(AvroKeyOutputFormat.class);
  Path outputPath=new Path(tmpFolder.getRoot().getPath() + "/out-specific-input");
  FileOutputFormat.setOutputPath(job,outputPath);
  Assert.assertTrue(job.waitForCompletion(true));
  FileSystem fileSystem=FileSystem.get(job.getConfiguration());
  FileStatus[] outputFiles=fileSystem.globStatus(outputPath.suffix("/part-*"));
  Assert.assertEquals(1,outputFiles.length);
  DataFileReader<TextStats> reader=new DataFileReader<TextStats>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new SpecificDatumReader<TextStats>());
  Map<String,Integer> counts=new HashMap<String,Integer>();
  for (  TextStats record : reader) {
    counts.put(record.name.toString(),record.count);
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAvroGenericOutput() throws Exception {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.txt").toURI().toString()));
  job.setInputFormatClass(TextInputFormat.class);
  job.setMapperClass(LineCountMapper.class);
  job.setMapOutputKeyClass(Text.class);
  job.setMapOutputValueClass(IntWritable.class);
  job.setReducerClass(GenericStatsReducer.class);
  AvroJob.setOutputKeySchema(job,STATS_SCHEMA);
  AvroMultipleOutputs.addNamedOutput(job,"myavro",AvroKeyOutputFormat.class,STATS_SCHEMA,null);
  AvroMultipleOutputs.addNamedOutput(job,"myavro1",AvroKeyOutputFormat.class,STATS_SCHEMA_2);
  job.setOutputFormatClass(AvroKeyOutputFormat.class);
  String dir=System.getProperty("test.dir",".") + "/mapred";
  Path outputPath=new Path(dir + "/out");
  outputPath.getFileSystem(job.getConfiguration()).delete(outputPath);
  FileOutputFormat.setOutputPath(job,outputPath);
  Assert.assertTrue(job.waitForCompletion(true));
  FileSystem fileSystem=FileSystem.get(job.getConfiguration());
  FileStatus[] outputFiles=fileSystem.globStatus(outputPath.suffix("/myavro-r-00000.avro"));
  Assert.assertEquals(1,outputFiles.length);
  DataFileReader<GenericData.Record> reader=new DataFileReader<GenericData.Record>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new GenericDatumReader<GenericData.Record>(STATS_SCHEMA));
  Map<String,Integer> counts=new HashMap<String,Integer>();
  for (  GenericData.Record record : reader) {
    counts.put(((Utf8)record.get("name")).toString(),(Integer)record.get("count"));
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
  outputFiles=fileSystem.globStatus(outputPath.suffix("/myavro1-r-00000.avro"));
  Assert.assertEquals(1,outputFiles.length);
  reader=new DataFileReader<GenericData.Record>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new GenericDatumReader<GenericData.Record>(STATS_SCHEMA_2));
  counts=new HashMap<String,Integer>();
  for (  GenericData.Record record : reader) {
    counts.put(((Utf8)record.get("name1")).toString(),(Integer)record.get("count1"));
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
  outputFiles=fileSystem.globStatus(outputPath.suffix("/testnewwrite-r-00000.avro"));
  Assert.assertEquals(1,outputFiles.length);
  reader=new DataFileReader<GenericData.Record>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new GenericDatumReader<GenericData.Record>(STATS_SCHEMA));
  counts=new HashMap<String,Integer>();
  for (  GenericData.Record record : reader) {
    counts.put(((Utf8)record.get("name")).toString(),(Integer)record.get("count"));
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
  outputFiles=fileSystem.globStatus(outputPath.suffix("/testnewwrite2-r-00000.avro"));
  Assert.assertEquals(1,outputFiles.length);
  reader=new DataFileReader<GenericData.Record>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new GenericDatumReader<GenericData.Record>(STATS_SCHEMA_2));
  counts=new HashMap<String,Integer>();
  for (  GenericData.Record record : reader) {
    counts.put(((Utf8)record.get("name1")).toString(),(Integer)record.get("count1"));
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
  outputFiles=fileSystem.globStatus(outputPath.suffix("/testwritenonschema-r-00000.avro"));
  Assert.assertEquals(1,outputFiles.length);
  reader=new DataFileReader<GenericData.Record>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new GenericDatumReader<GenericData.Record>(STATS_SCHEMA));
  counts=new HashMap<String,Integer>();
  for (  GenericData.Record record : reader) {
    counts.put(((Utf8)record.get("name")).toString(),(Integer)record.get("count"));
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAvroSpecificOutput() throws Exception {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.txt").toURI().toString()));
  job.setInputFormatClass(TextInputFormat.class);
  job.setMapperClass(LineCountMapper.class);
  job.setMapOutputKeyClass(Text.class);
  job.setMapOutputValueClass(IntWritable.class);
  AvroMultipleOutputs.addNamedOutput(job,"myavro3",AvroKeyOutputFormat.class,TextStats.SCHEMA$,null);
  job.setReducerClass(SpecificStatsReducer.class);
  AvroJob.setOutputKeySchema(job,TextStats.SCHEMA$);
  job.setOutputFormatClass(AvroKeyOutputFormat.class);
  String dir=System.getProperty("test.dir",".") + "/mapred";
  Path outputPath=new Path(dir + "/out-specific");
  outputPath.getFileSystem(job.getConfiguration()).delete(outputPath);
  FileOutputFormat.setOutputPath(job,outputPath);
  Assert.assertTrue(job.waitForCompletion(true));
  FileSystem fileSystem=FileSystem.get(job.getConfiguration());
  FileStatus[] outputFiles=fileSystem.globStatus(outputPath.suffix("/myavro3-*"));
  Assert.assertEquals(1,outputFiles.length);
  DataFileReader<TextStats> reader=new DataFileReader<TextStats>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new SpecificDatumReader<TextStats>());
  Map<String,Integer> counts=new HashMap<String,Integer>();
  for (  TextStats record : reader) {
    counts.put(record.name.toString(),record.count);
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAvroInput() throws Exception {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.avro").toURI().toString()));
  job.setInputFormatClass(AvroKeyInputFormat.class);
  AvroJob.setInputKeySchema(job,TextStats.SCHEMA$);
  AvroMultipleOutputs.addNamedOutput(job,"myavro3",AvroKeyOutputFormat.class,TextStats.SCHEMA$,null);
  job.setMapperClass(StatCountMapper.class);
  job.setMapOutputKeyClass(Text.class);
  job.setMapOutputValueClass(IntWritable.class);
  job.setReducerClass(SpecificStatsReducer.class);
  AvroJob.setOutputKeySchema(job,TextStats.SCHEMA$);
  job.setOutputFormatClass(AvroKeyOutputFormat.class);
  Path outputPath=new Path(tmpFolder.getRoot().getPath() + "/out-specific-input");
  FileOutputFormat.setOutputPath(job,outputPath);
  Assert.assertTrue(job.waitForCompletion(true));
  FileSystem fileSystem=FileSystem.get(job.getConfiguration());
  FileStatus[] outputFiles=fileSystem.globStatus(outputPath.suffix("/myavro3-*"));
  Assert.assertEquals(1,outputFiles.length);
  DataFileReader<TextStats> reader=new DataFileReader<TextStats>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new SpecificDatumReader<TextStats>());
  Map<String,Integer> counts=new HashMap<String,Integer>();
  for (  TextStats record : reader) {
    counts.put(record.name.toString(),record.count);
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.mapreduce.TestKeyValueInput </h4><pre class="type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testKeyValueInputMapOnly() throws ClassNotFoundException, IOException, InterruptedException {
  File inputFile=createInputFile();
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(inputFile.getAbsolutePath()));
  job.setInputFormatClass(AvroKeyValueInputFormat.class);
  AvroJob.setInputKeySchema(job,Schema.create(Schema.Type.INT));
  AvroJob.setInputValueSchema(job,Schema.create(Schema.Type.STRING));
  AvroJob.setMapOutputKeySchema(job,Schema.create(Schema.Type.INT));
  AvroJob.setMapOutputValueSchema(job,Schema.create(Schema.Type.STRING));
  job.setNumReduceTasks(0);
  job.setOutputKeyClass(AvroKey.class);
  job.setOutputValueClass(AvroValue.class);
  job.setOutputFormatClass(AvroKeyValueOutputFormat.class);
  Path outputPath=new Path(mTempDir.getRoot().getPath(),"out-index");
  FileOutputFormat.setOutputPath(job,outputPath);
  assertTrue(job.waitForCompletion(true));
  File avroFile=new File(outputPath.toString(),"part-m-00000.avro");
  DatumReader<GenericRecord> datumReader=new SpecificDatumReader<GenericRecord>(AvroKeyValue.getSchema(Schema.create(Schema.Type.INT),Schema.create(Schema.Type.STRING)));
  DataFileReader<GenericRecord> avroFileReader=new DataFileReader<GenericRecord>(avroFile,datumReader);
  assertTrue(avroFileReader.hasNext());
  AvroKeyValue<Integer,CharSequence> record1=new AvroKeyValue<Integer,CharSequence>(avroFileReader.next());
  assertNotNull(record1.get());
  assertEquals(1,record1.getKey().intValue());
  assertEquals("apple banana carrot",record1.getValue().toString());
  assertTrue(avroFileReader.hasNext());
  AvroKeyValue<Integer,CharSequence> record2=new AvroKeyValue<Integer,CharSequence>(avroFileReader.next());
  assertNotNull(record2.get());
  assertEquals(2,record2.getKey().intValue());
  assertEquals("apple banana",record2.getValue().toString());
  assertTrue(avroFileReader.hasNext());
  AvroKeyValue<Integer,CharSequence> record3=new AvroKeyValue<Integer,CharSequence>(avroFileReader.next());
  assertNotNull(record3.get());
  assertEquals(3,record3.getKey().intValue());
  assertEquals("apple",record3.getValue().toString());
  assertFalse(avroFileReader.hasNext());
  avroFileReader.close();
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testKeyValueInput() throws ClassNotFoundException, IOException, InterruptedException {
  File inputFile=createInputFile();
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(inputFile.getAbsolutePath()));
  job.setInputFormatClass(AvroKeyValueInputFormat.class);
  AvroJob.setInputKeySchema(job,Schema.create(Schema.Type.INT));
  AvroJob.setInputValueSchema(job,Schema.create(Schema.Type.STRING));
  job.setMapperClass(IndexMapper.class);
  job.setMapOutputKeyClass(Text.class);
  job.setMapOutputValueClass(IntWritable.class);
  job.setReducerClass(IndexReducer.class);
  job.setOutputKeyClass(Text.class);
  job.setOutputValueClass(AvroValue.class);
  AvroJob.setOutputValueSchema(job,Schema.createArray(Schema.create(Schema.Type.INT)));
  job.setOutputFormatClass(AvroKeyValueOutputFormat.class);
  Path outputPath=new Path(mTempDir.getRoot().getPath(),"out-index");
  FileOutputFormat.setOutputPath(job,outputPath);
  assertTrue(job.waitForCompletion(true));
  File avroFile=new File(outputPath.toString(),"part-r-00000.avro");
  DatumReader<GenericRecord> datumReader=new SpecificDatumReader<GenericRecord>(AvroKeyValue.getSchema(Schema.create(Schema.Type.STRING),Schema.createArray(Schema.create(Schema.Type.INT))));
  DataFileReader<GenericRecord> avroFileReader=new DataFileReader<GenericRecord>(avroFile,datumReader);
  assertTrue(avroFileReader.hasNext());
  AvroKeyValue<CharSequence,List<Integer>> appleRecord=new AvroKeyValue<CharSequence,List<Integer>>(avroFileReader.next());
  assertNotNull(appleRecord.get());
  assertEquals("apple",appleRecord.getKey().toString());
  List<Integer> appleDocs=appleRecord.getValue();
  assertEquals(3,appleDocs.size());
  assertTrue(appleDocs.contains(1));
  assertTrue(appleDocs.contains(2));
  assertTrue(appleDocs.contains(3));
  assertTrue(avroFileReader.hasNext());
  AvroKeyValue<CharSequence,List<Integer>> bananaRecord=new AvroKeyValue<CharSequence,List<Integer>>(avroFileReader.next());
  assertNotNull(bananaRecord.get());
  assertEquals("banana",bananaRecord.getKey().toString());
  List<Integer> bananaDocs=bananaRecord.getValue();
  assertEquals(2,bananaDocs.size());
  assertTrue(bananaDocs.contains(1));
  assertTrue(bananaDocs.contains(2));
  assertTrue(avroFileReader.hasNext());
  AvroKeyValue<CharSequence,List<Integer>> carrotRecord=new AvroKeyValue<CharSequence,List<Integer>>(avroFileReader.next());
  assertEquals("carrot",carrotRecord.getKey().toString());
  List<Integer> carrotDocs=carrotRecord.getValue();
  assertEquals(1,carrotDocs.size());
  assertTrue(carrotDocs.contains(1));
  assertFalse(avroFileReader.hasNext());
  avroFileReader.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.mapreduce.TestKeyValueWordCount </h4><pre class="type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testKeyValueMapReduce() throws ClassNotFoundException, IOException, InterruptedException, URISyntaxException {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.txt").toURI().toString()));
  job.setInputFormatClass(TextInputFormat.class);
  job.setMapperClass(LineCountMapper.class);
  job.setMapOutputKeyClass(Text.class);
  job.setMapOutputValueClass(IntWritable.class);
  job.setReducerClass(IntSumReducer.class);
  job.setOutputKeyClass(Text.class);
  job.setOutputValueClass(IntWritable.class);
  job.setOutputFormatClass(AvroKeyValueOutputFormat.class);
  Path outputPath=new Path(mTempDir.getRoot().getPath() + "/out-wordcount");
  FileOutputFormat.setOutputPath(job,outputPath);
  assertTrue(job.waitForCompletion(true));
  File avroFile=new File(outputPath.toString(),"part-r-00000.avro");
  DatumReader<GenericRecord> datumReader=new SpecificDatumReader<GenericRecord>(AvroKeyValue.getSchema(Schema.create(Schema.Type.STRING),Schema.create(Schema.Type.INT)));
  DataFileReader<GenericRecord> avroFileReader=new DataFileReader<GenericRecord>(avroFile,datumReader);
  assertTrue(avroFileReader.hasNext());
  AvroKeyValue<CharSequence,Integer> appleRecord=new AvroKeyValue<CharSequence,Integer>(avroFileReader.next());
  assertNotNull(appleRecord.get());
  assertEquals("apple",appleRecord.getKey().toString());
  assertEquals(3,appleRecord.getValue().intValue());
  assertTrue(avroFileReader.hasNext());
  AvroKeyValue<CharSequence,Integer> bananaRecord=new AvroKeyValue<CharSequence,Integer>(avroFileReader.next());
  assertNotNull(bananaRecord.get());
  assertEquals("banana",bananaRecord.getKey().toString());
  assertEquals(2,bananaRecord.getValue().intValue());
  assertTrue(avroFileReader.hasNext());
  AvroKeyValue<CharSequence,Integer> carrotRecord=new AvroKeyValue<CharSequence,Integer>(avroFileReader.next());
  assertEquals("carrot",carrotRecord.getKey().toString());
  assertEquals(1,carrotRecord.getValue().intValue());
  assertFalse(avroFileReader.hasNext());
  avroFileReader.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.mapreduce.TestWordCount </h4><pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAvroInput() throws Exception {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.avro").toURI().toString()));
  job.setInputFormatClass(AvroKeyInputFormat.class);
  AvroJob.setInputKeySchema(job,TextStats.SCHEMA$);
  job.setMapperClass(StatCountMapper.class);
  job.setMapOutputKeyClass(Text.class);
  job.setMapOutputValueClass(IntWritable.class);
  job.setReducerClass(SpecificStatsReducer.class);
  AvroJob.setOutputKeySchema(job,TextStats.SCHEMA$);
  job.setOutputFormatClass(AvroKeyOutputFormat.class);
  Path outputPath=new Path(tmpFolder.getRoot().getPath() + "/out-specific-input");
  FileOutputFormat.setOutputPath(job,outputPath);
  Assert.assertTrue(job.waitForCompletion(true));
  FileSystem fileSystem=FileSystem.get(job.getConfiguration());
  FileStatus[] outputFiles=fileSystem.globStatus(outputPath.suffix("/part-*"));
  Assert.assertEquals(1,outputFiles.length);
  DataFileReader<TextStats> reader=new DataFileReader<TextStats>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new SpecificDatumReader<TextStats>());
  Map<String,Integer> counts=new HashMap<String,Integer>();
  for (  TextStats record : reader) {
    counts.put(record.name.toString(),record.count);
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests the MR output to text files when using AvroKey and AvroValue records.
 */
@Test public void testAvroUsingTextFileOutput() throws Exception {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.txt").toURI().toString()));
  job.setInputFormatClass(TextInputFormat.class);
  job.setMapperClass(LineCountMapper.class);
  job.setMapOutputKeyClass(Text.class);
  job.setMapOutputValueClass(IntWritable.class);
  job.setReducerClass(AvroSumReducer.class);
  AvroJob.setOutputKeySchema(job,Schema.create(Schema.Type.STRING));
  AvroJob.setOutputValueSchema(job,Schema.create(Schema.Type.INT));
  job.setOutputFormatClass(TextOutputFormat.class);
  Path outputPath=new Path(tmpFolder.getRoot().getPath() + "/out-text");
  FileOutputFormat.setOutputPath(job,outputPath);
  Assert.assertTrue(job.waitForCompletion(true));
  FileSystem fileSystem=FileSystem.get(job.getConfiguration());
  FileStatus[] outputFiles=fileSystem.globStatus(outputPath.suffix("/part-*"));
  Assert.assertEquals(1,outputFiles.length);
  Path filePath=outputFiles[0].getPath();
  InputStream inputStream=filePath.getFileSystem(job.getConfiguration()).open(filePath);
  Assert.assertNotNull(inputStream);
  BufferedReader reader=new BufferedReader(new InputStreamReader(inputStream));
  try {
    Assert.assertTrue(reader.ready());
    Assert.assertEquals("apple\t3",reader.readLine());
    Assert.assertEquals("banana\t2",reader.readLine());
    Assert.assertEquals("carrot\t1",reader.readLine());
    Assert.assertFalse(reader.ready());
  }
  finally {
    reader.close();
  }
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAvroGenericOutput() throws Exception {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.txt").toURI().toString()));
  job.setInputFormatClass(TextInputFormat.class);
  job.setMapperClass(LineCountMapper.class);
  job.setMapOutputKeyClass(Text.class);
  job.setMapOutputValueClass(IntWritable.class);
  job.setReducerClass(GenericStatsReducer.class);
  AvroJob.setOutputKeySchema(job,STATS_SCHEMA);
  job.setOutputFormatClass(AvroKeyOutputFormat.class);
  Path outputPath=new Path(tmpFolder.getRoot().getPath() + "/out-generic");
  FileOutputFormat.setOutputPath(job,outputPath);
  Assert.assertTrue(job.waitForCompletion(true));
  FileSystem fileSystem=FileSystem.get(job.getConfiguration());
  FileStatus[] outputFiles=fileSystem.globStatus(outputPath.suffix("/part-*"));
  Assert.assertEquals(1,outputFiles.length);
  DataFileReader<GenericData.Record> reader=new DataFileReader<GenericData.Record>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new GenericDatumReader<GenericData.Record>(STATS_SCHEMA));
  Map<String,Integer> counts=new HashMap<String,Integer>();
  for (  GenericData.Record record : reader) {
    counts.put(((Utf8)record.get("name")).toString(),(Integer)record.get("count"));
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAvroMapOutput() throws Exception {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.avro").toURI().toString()));
  job.setInputFormatClass(AvroKeyInputFormat.class);
  AvroJob.setInputKeySchema(job,TextStats.SCHEMA$);
  job.setMapperClass(SortMapper.class);
  AvroJob.setMapOutputKeySchema(job,TextStats.SCHEMA$);
  job.setMapOutputValueClass(NullWritable.class);
  job.setReducerClass(SortReducer.class);
  AvroJob.setOutputKeySchema(job,TextStats.SCHEMA$);
  job.setOutputFormatClass(AvroKeyOutputFormat.class);
  Path outputPath=new Path(tmpFolder.getRoot().getPath() + "/out-specific-input");
  FileOutputFormat.setOutputPath(job,outputPath);
  Assert.assertTrue(job.waitForCompletion(true));
  FileSystem fileSystem=FileSystem.get(job.getConfiguration());
  FileStatus[] outputFiles=fileSystem.globStatus(outputPath.suffix("/part-*"));
  Assert.assertEquals(1,outputFiles.length);
  DataFileReader<TextStats> reader=new DataFileReader<TextStats>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new SpecificDatumReader<TextStats>());
  Map<String,Integer> counts=new HashMap<String,Integer>();
  for (  TextStats record : reader) {
    counts.put(record.name.toString(),record.count);
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAvroReflectOutput() throws Exception {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.txt").toURI().toString()));
  job.setInputFormatClass(TextInputFormat.class);
  job.setMapperClass(LineCountMapper.class);
  job.setMapOutputKeyClass(Text.class);
  job.setMapOutputValueClass(IntWritable.class);
  job.setReducerClass(ReflectStatsReducer.class);
  AvroJob.setOutputKeySchema(job,REFLECT_STATS_SCHEMA);
  job.setOutputFormatClass(AvroKeyOutputFormat.class);
  Path outputPath=new Path(tmpFolder.getRoot().getPath() + "/out-reflect");
  FileOutputFormat.setOutputPath(job,outputPath);
  Assert.assertTrue(job.waitForCompletion(true));
  FileSystem fileSystem=FileSystem.get(job.getConfiguration());
  FileStatus[] outputFiles=fileSystem.globStatus(outputPath.suffix("/part-*"));
  Assert.assertEquals(1,outputFiles.length);
  DataFileReader<ReflectStats> reader=new DataFileReader<ReflectStats>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new ReflectDatumReader<ReflectStats>());
  Map<String,Integer> counts=new HashMap<String,Integer>();
  for (  ReflectStats record : reader) {
    counts.put(record.name.toString(),record.count);
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReflectInput() throws Exception {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.avro").toURI().toString()));
  job.setInputFormatClass(AvroKeyInputFormat.class);
  AvroJob.setInputKeySchema(job,REFLECT_STATS_SCHEMA);
  job.setMapperClass(ReflectCountMapper.class);
  job.setMapOutputKeyClass(Text.class);
  job.setMapOutputValueClass(IntWritable.class);
  job.setReducerClass(ReflectStatsReducer.class);
  AvroJob.setOutputKeySchema(job,REFLECT_STATS_SCHEMA);
  job.setOutputFormatClass(AvroKeyOutputFormat.class);
  Path outputPath=new Path(tmpFolder.getRoot().getPath() + "/out-reflect-input");
  FileOutputFormat.setOutputPath(job,outputPath);
  Assert.assertTrue(job.waitForCompletion(true));
  FileSystem fileSystem=FileSystem.get(job.getConfiguration());
  FileStatus[] outputFiles=fileSystem.globStatus(outputPath.suffix("/part-*"));
  Assert.assertEquals(1,outputFiles.length);
  DataFileReader<ReflectStats> reader=new DataFileReader<ReflectStats>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new ReflectDatumReader<ReflectStats>());
  Map<String,Integer> counts=new HashMap<String,Integer>();
  for (  ReflectStats record : reader) {
    counts.put(record.name.toString(),record.count);
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAvroSpecificOutput() throws Exception {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.txt").toURI().toString()));
  job.setInputFormatClass(TextInputFormat.class);
  job.setMapperClass(LineCountMapper.class);
  job.setMapOutputKeyClass(Text.class);
  job.setMapOutputValueClass(IntWritable.class);
  job.setReducerClass(SpecificStatsReducer.class);
  AvroJob.setOutputKeySchema(job,TextStats.SCHEMA$);
  job.setOutputFormatClass(AvroKeyOutputFormat.class);
  Path outputPath=new Path(tmpFolder.getRoot().getPath() + "/out-specific");
  FileOutputFormat.setOutputPath(job,outputPath);
  Assert.assertTrue(job.waitForCompletion(true));
  FileSystem fileSystem=FileSystem.get(job.getConfiguration());
  FileStatus[] outputFiles=fileSystem.globStatus(outputPath.suffix("/part-*"));
  Assert.assertEquals(1,outputFiles.length);
  DataFileReader<TextStats> reader=new DataFileReader<TextStats>(new FsInput(outputFiles[0].getPath(),job.getConfiguration()),new SpecificDatumReader<TextStats>());
  Map<String,Integer> counts=new HashMap<String,Integer>();
  for (  TextStats record : reader) {
    counts.put(record.name.toString(),record.count);
  }
  reader.close();
  Assert.assertEquals(3,counts.get("apple").intValue());
  Assert.assertEquals(2,counts.get("banana").intValue());
  Assert.assertEquals(1,counts.get("carrot").intValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.reflect.TestNonStringMapKeys </h4><pre class="type-10 type-9 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNonStringMapKeysInNestedMaps() throws Exception {
  Company2 entityObj1=buildCompany2();
  String testType="NestedMapsTest";
  Company2[] entityObjs={entityObj1};
  byte[] bytes=testSerialization(testType,entityObj1);
  List<GenericRecord> records=(List<GenericRecord>)testGenericDatumRead(testType,bytes,entityObjs);
  GenericRecord record=records.get(0);
  Object employees=record.get("employees");
  assertTrue("Unable to read 'employees' map",employees instanceof GenericArray);
  GenericArray employeesMapArray=((GenericArray)employees);
  Object employeeMapElement=employeesMapArray.get(0);
  assertTrue(employeeMapElement instanceof GenericRecord);
  Object key=((GenericRecord)employeeMapElement).get(ReflectData.NS_MAP_KEY);
  Object value=((GenericRecord)employeeMapElement).get(ReflectData.NS_MAP_VALUE);
  assertEquals(11,key);
  assertTrue(value instanceof GenericRecord);
  GenericRecord employeeInfo=(GenericRecord)value;
  Object name=employeeInfo.get("name").toString();
  assertEquals("Foo",name);
  Object companyMap=employeeInfo.get("companyMap");
  assertTrue(companyMap instanceof GenericArray);
  GenericArray companyMapArray=(GenericArray)companyMap;
  Object companyMapElement=companyMapArray.get(0);
  assertTrue(companyMapElement instanceof GenericRecord);
  key=((GenericRecord)companyMapElement).get(ReflectData.NS_MAP_KEY);
  value=((GenericRecord)companyMapElement).get(ReflectData.NS_MAP_VALUE);
  assertEquals(14,key);
  if (value instanceof Utf8)   value=((Utf8)value).toString();
  assertEquals("CompanyFoo",value);
  List<Company2> records2=(List<Company2>)testReflectDatumRead(testType,bytes,entityObjs);
  Company2 co=records2.get(0);
  log("Read: " + co);
  assertNotNull(co.getEmployees());
  assertEquals(1,co.getEmployees().size());
  Iterator<Entry<Integer,EmployeeInfo2>> itr=co.getEmployees().entrySet().iterator();
  while (itr.hasNext()) {
    Entry<Integer,EmployeeInfo2> e=itr.next();
    Integer id=e.getKey();
    name=e.getValue().getName();
    assertTrue(id.equals(11) && name.equals("Foo"));
    assertEquals("CompanyFoo",e.getValue().companyMap.values().iterator().next());
  }
  byte[] jsonBytes=testJsonEncoder(testType,entityObj1);
  assertNotNull("Unable to serialize using jsonEncoder",jsonBytes);
  GenericRecord jsonRecord=testJsonDecoder(testType,jsonBytes,entityObj1);
  assertEquals("JSON decoder output not same as Binary Decoder",record,jsonRecord);
}

</code></pre>

<br>
<pre class="type-10 type-9 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNonStringMapKeys() throws Exception {
  Company entityObj1=buildCompany();
  Company entityObj2=buildCompany();
  String testType="NonStringKeysTest";
  Company[] entityObjs={entityObj1,entityObj2};
  byte[] bytes=testSerialization(testType,entityObj1,entityObj2);
  List<GenericRecord> records=(List<GenericRecord>)testGenericDatumRead(testType,bytes,entityObjs);
  GenericRecord record=records.get(0);
  Object employees=record.get("employees");
  assertTrue("Unable to read 'employees' map",employees instanceof GenericArray);
  GenericArray arrayEmployees=((GenericArray)employees);
  Object employeeRecord=arrayEmployees.get(0);
  assertTrue(employeeRecord instanceof GenericRecord);
  Object key=((GenericRecord)employeeRecord).get(ReflectData.NS_MAP_KEY);
  Object value=((GenericRecord)employeeRecord).get(ReflectData.NS_MAP_VALUE);
  assertTrue(key instanceof GenericRecord);
  assertTrue(value instanceof GenericRecord);
  Object id=((GenericRecord)key).get("id");
  Object name=((GenericRecord)value).get("name").toString();
  assertTrue((id.equals(1) && name.equals("Foo")) || (id.equals(2) && name.equals("Bar")));
  List<Company> records2=(List<Company>)testReflectDatumRead(testType,bytes,entityObjs);
  Company co=records2.get(0);
  log("Read: " + co);
  assertNotNull(co.getEmployees());
  assertEquals(2,co.getEmployees().size());
  Iterator<Entry<EmployeeId,EmployeeInfo>> itr=co.getEmployees().entrySet().iterator();
  while (itr.hasNext()) {
    Entry<EmployeeId,EmployeeInfo> e=itr.next();
    id=e.getKey().getId();
    name=e.getValue().getName();
    assertTrue((id.equals(1) && name.equals("Foo")) || (id.equals(2) && name.equals("Bar")));
  }
  byte[] jsonBytes=testJsonEncoder(testType,entityObj1);
  assertNotNull("Unable to serialize using jsonEncoder",jsonBytes);
  GenericRecord jsonRecord=testJsonDecoder(testType,jsonBytes,entityObj1);
  assertEquals("JSON decoder output not same as Binary Decoder",record,jsonRecord);
}

</code></pre>

<br>
<pre class="type-10 type-9 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRecordNameInvariance() throws Exception {
  SameMapSignature entityObj1=buildSameMapSignature();
  String testType="RecordNameInvariance";
  SameMapSignature[] entityObjs={entityObj1};
  byte[] bytes=testSerialization(testType,entityObj1);
  List<GenericRecord> records=(List<GenericRecord>)testGenericDatumRead(testType,bytes,entityObjs);
  GenericRecord record=records.get(0);
  Object map1obj=record.get("map1");
  assertTrue("Unable to read map1",map1obj instanceof GenericArray);
  GenericArray map1array=((GenericArray)map1obj);
  Object map1element=map1array.get(0);
  assertTrue(map1element instanceof GenericRecord);
  Object key=((GenericRecord)map1element).get(ReflectData.NS_MAP_KEY);
  Object value=((GenericRecord)map1element).get(ReflectData.NS_MAP_VALUE);
  assertEquals(1,key);
  assertEquals("Foo",value.toString());
  Object map2obj=record.get("map2");
  assertEquals(map1obj,map2obj);
  List<SameMapSignature> records2=(List<SameMapSignature>)testReflectDatumRead(testType,bytes,entityObjs);
  SameMapSignature entity=records2.get(0);
  log("Read: " + entity);
  assertNotNull(entity.getMap1());
  assertEquals(1,entity.getMap1().size());
  Iterator<Entry<Integer,String>> itr=entity.getMap1().entrySet().iterator();
  while (itr.hasNext()) {
    Entry<Integer,String> e=itr.next();
    key=e.getKey();
    value=e.getValue();
    assertEquals(1,key);
    assertEquals("Foo",value.toString());
  }
  assertEquals(entity.getMap1(),entity.getMap2());
  ReflectData rdata=ReflectData.get();
  Schema schema=rdata.getSchema(SameMapSignature.class);
  Schema map1schema=schema.getField("map1").schema().getElementType();
  Schema map2schema=schema.getField("map2").schema().getElementType();
  log("Schema for map1 = " + map1schema);
  log("Schema for map2 = " + map2schema);
  assertEquals(map1schema.getFullName(),"org.apache.avro.reflect.PairIntegerString");
  assertEquals(map1schema,map2schema);
  byte[] jsonBytes=testJsonEncoder(testType,entityObj1);
  assertNotNull("Unable to serialize using jsonEncoder",jsonBytes);
  GenericRecord jsonRecord=testJsonDecoder(testType,jsonBytes,entityObj1);
  assertEquals("JSON decoder output not same as Binary Decoder",record.get("map1"),jsonRecord.get("map1"));
  assertEquals("JSON decoder output not same as Binary Decoder",record.get("map2"),jsonRecord.get("map2"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.reflect.TestReflect </h4><pre class="type-2 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testP1() throws Exception {
  Protocol p1=ReflectData.get().getProtocol(P1.class);
  Protocol.Message message=p1.getMessages().get("foo");
  Schema response=message.getResponse();
  assertEquals(Schema.Type.UNION,response.getType());
  assertEquals(Schema.Type.NULL,response.getTypes().get(0).getType());
  assertEquals(Schema.Type.STRING,response.getTypes().get(1).getType());
  Schema request=message.getRequest();
  Field field=request.getField("s");
  assertNotNull("field 's' should not be null",field);
  Schema param=field.schema();
  assertEquals(Schema.Type.UNION,param.getType());
  assertEquals(Schema.Type.NULL,param.getTypes().get(0).getType());
  assertEquals(Schema.Type.STRING,param.getTypes().get(1).getType());
  assertEquals(String.class,ReflectData.get().getClass(response));
  assertEquals(String.class,ReflectData.get().getClass(param));
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testP2() throws Exception {
  Schema e1=ReflectData.get().getSchema(E1.class);
  assertEquals(Schema.Type.RECORD,e1.getType());
  assertTrue(e1.isError());
  Field message=e1.getField("detailMessage");
  assertNotNull("field 'detailMessage' should not be null",message);
  Schema messageSchema=message.schema();
  assertEquals(Schema.Type.UNION,messageSchema.getType());
  assertEquals(Schema.Type.NULL,messageSchema.getTypes().get(0).getType());
  assertEquals(Schema.Type.STRING,messageSchema.getTypes().get(1).getType());
  Protocol p2=ReflectData.get().getProtocol(P2.class);
  Protocol.Message m=p2.getMessages().get("error");
  Schema response=m.getErrors();
  assertEquals(Schema.Type.UNION,response.getType());
  assertEquals(Schema.Type.STRING,response.getTypes().get(0).getType());
  assertEquals(e1,response.getTypes().get(1));
}

</code></pre>

<br>
<pre class="type-2 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testP0() throws Exception {
  Protocol p0=ReflectData.get().getProtocol(P0.class);
  Protocol.Message message=p0.getMessages().get("foo");
  Schema response=message.getResponse();
  assertEquals(Schema.Type.UNION,response.getType());
  assertEquals(Schema.Type.NULL,response.getTypes().get(0).getType());
  assertEquals(Schema.Type.STRING,response.getTypes().get(1).getType());
  Schema request=message.getRequest();
  Field field=request.getField("s");
  assertNotNull("field 's' should not be null",field);
  Schema param=field.schema();
  assertEquals(Schema.Type.UNION,param.getType());
  assertEquals(Schema.Type.NULL,param.getTypes().get(0).getType());
  assertEquals(Schema.Type.STRING,param.getTypes().get(1).getType());
  assertEquals(String.class,ReflectData.get().getClass(response));
  assertEquals(String.class,ReflectData.get().getClass(param));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.reflect.TestReflectLogicalTypes </h4><pre class="type-10 type-2 type-4 type-19 type-17 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Sets implicit assumptions 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReadUUIDMissingLogicalTypeUnsafe() throws IOException {
  String unsafeValue=System.getProperty("avro.disable.unsafe");
  try {
    System.clearProperty("avro.disable.unsafe");
    Assume.assumeTrue(ReflectionUtil.getFieldAccess() instanceof FieldAccessUnsafe);
    Schema uuidSchema=SchemaBuilder.record(RecordWithUUID.class.getName()).fields().requiredString("uuid").endRecord();
    LogicalTypes.uuid().addToSchema(uuidSchema.getField("uuid").schema());
    UUID u1=UUID.randomUUID();
    RecordWithStringUUID r1=new RecordWithStringUUID();
    r1.uuid=u1.toString();
    File test=write(ReflectData.get().getSchema(RecordWithStringUUID.class),r1);
    RecordWithUUID datum=(RecordWithUUID)read(ReflectData.get().createDatumReader(uuidSchema),test).get(0);
    Object uuid=datum.uuid;
    Assert.assertTrue("UUID should be a String (unsafe)",uuid instanceof String);
  }
  finally {
    if (unsafeValue != null) {
      System.setProperty("avro.disable.unsafe",unsafeValue);
    }
  }
}

</code></pre>

<br>
<pre class="type-19 type-14 type-6 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Sets implicit assumptions 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testReadUUIDMissingLogicalTypeReflect() throws IOException {
  String unsafeValue=System.getProperty("avro.disable.unsafe");
  try {
    System.setProperty("avro.disable.unsafe","true");
    Assume.assumeTrue(ReflectionUtil.getFieldAccess() instanceof FieldAccessReflect);
    Schema uuidSchema=SchemaBuilder.record(RecordWithUUID.class.getName()).fields().requiredString("uuid").endRecord();
    LogicalTypes.uuid().addToSchema(uuidSchema.getField("uuid").schema());
    UUID u1=UUID.randomUUID();
    RecordWithStringUUID r1=new RecordWithStringUUID();
    r1.uuid=u1.toString();
    File test=write(ReflectData.get().getSchema(RecordWithStringUUID.class),r1);
    read(ReflectData.get().createDatumReader(uuidSchema),test).get(0);
  }
  finally {
    if (unsafeValue != null) {
      System.setProperty("avro.disable.unsafe",unsafeValue);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.specific.TestSpecificBuilderTree </h4><pre class="type-13 type-14 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=org.apache.avro.AvroRuntimeException.class) public void failOnIncompleteTree(){
  Request.Builder requestBuilder=createPartialBuilder();
  Request request=requestBuilder.build();
  fail("Should NEVER get here");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.specific.TestSpecificErrorBuilder </h4><pre class="type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSpecificErrorBuilder(){
  TestError.Builder testErrorBuilder=TestError.newBuilder().setValue("value").setCause(new NullPointerException()).setMessage$("message$");
  Assert.assertTrue(testErrorBuilder.hasValue());
  Assert.assertNotNull(testErrorBuilder.getValue());
  Assert.assertTrue(testErrorBuilder.hasCause());
  Assert.assertNotNull(testErrorBuilder.getCause());
  Assert.assertTrue(testErrorBuilder.hasMessage$());
  Assert.assertNotNull(testErrorBuilder.getMessage$());
  TestError testError=testErrorBuilder.build();
  Assert.assertEquals("value",testError.getValue());
  Assert.assertEquals("value",testError.getMessage());
  Assert.assertEquals("message$",testError.getMessage$());
  Assert.assertEquals(testErrorBuilder,TestError.newBuilder(testErrorBuilder));
  Assert.assertEquals(testErrorBuilder,TestError.newBuilder(testError));
  TestError error=new TestError("value",new NullPointerException());
  error.setMessage$("message");
  Assert.assertEquals(error,TestError.newBuilder().setValue("value").setCause(new NullPointerException()).setMessage$("message").build());
  testErrorBuilder.clearValue();
  Assert.assertFalse(testErrorBuilder.hasValue());
  Assert.assertNull(testErrorBuilder.getValue());
  testErrorBuilder.clearCause();
  Assert.assertFalse(testErrorBuilder.hasCause());
  Assert.assertNull(testErrorBuilder.getCause());
  testErrorBuilder.clearMessage$();
  Assert.assertFalse(testErrorBuilder.hasMessage$());
  Assert.assertNull(testErrorBuilder.getMessage$());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.specific.TestSpecificRecordBuilder </h4><pre class="type-13 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void buildWithoutSettingRequiredFields2(){
  try {
    Person.newBuilder().setYearOfBirth(1900).setState("MA").build();
    Assert.fail("Should have thrown " + AvroRuntimeException.class.getCanonicalName());
  }
 catch (  AvroRuntimeException e) {
    Assert.assertTrue(e.getMessage().contains("name"));
  }
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSpecificBuilder(){
  Person.Builder builder=Person.newBuilder().setName("James Gosling").setYearOfBirth(1955).setState("CA");
  Assert.assertTrue(builder.hasName());
  Assert.assertEquals("James Gosling",builder.getName().toString());
  Assert.assertTrue(builder.hasYearOfBirth());
  Assert.assertEquals(new Integer(1955),builder.getYearOfBirth());
  Assert.assertFalse(builder.hasCountry());
  Assert.assertNull(builder.getCountry());
  Assert.assertTrue(builder.hasState());
  Assert.assertEquals("CA",builder.getState().toString());
  Assert.assertFalse(builder.hasFriends());
  Assert.assertNull(builder.getFriends());
  Assert.assertFalse(builder.hasLanguages());
  Assert.assertNull(builder.getLanguages());
  Person person=builder.build();
  Assert.assertEquals("James Gosling",person.getName().toString());
  Assert.assertEquals(new Integer(1955),person.getYearOfBirth());
  Assert.assertEquals("US",person.getCountry().toString());
  Assert.assertEquals("CA",person.getState().toString());
  Assert.assertNotNull(person.getFriends());
  Assert.assertEquals(0,person.getFriends().size());
  Assert.assertNotNull(person.getLanguages());
  Assert.assertEquals(2,person.getLanguages().size());
  Assert.assertEquals("English",person.getLanguages().get(0).toString());
  Assert.assertEquals("Java",person.getLanguages().get(1).toString());
  Assert.assertEquals(builder,Person.newBuilder(builder));
  Assert.assertEquals(person,Person.newBuilder(person).build());
  Person.Builder builderCopy=Person.newBuilder(person);
  Assert.assertEquals("James Gosling",builderCopy.getName().toString());
  Assert.assertEquals(new Integer(1955),builderCopy.getYearOfBirth());
  Assert.assertEquals("US",builderCopy.getCountry().toString());
  Assert.assertEquals("CA",builderCopy.getState().toString());
  Assert.assertNotNull(builderCopy.getFriends());
  Assert.assertEquals(0,builderCopy.getFriends().size());
  builderCopy.clearFriends().clearCountry();
  Assert.assertFalse(builderCopy.hasFriends());
  Assert.assertFalse(builderCopy.hasCountry());
  Assert.assertNull(builderCopy.getFriends());
  Assert.assertNull(builderCopy.getCountry());
  Person person2=builderCopy.build();
  Assert.assertNotNull(person2.getFriends());
  Assert.assertTrue(person2.getFriends().isEmpty());
}

</code></pre>

<br>
<pre class="type-13 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void buildWithoutSettingRequiredFields3(){
  try {
    Person.newBuilder().setName("Anon").setState("CA").build();
    Assert.fail("Should have thrown " + AvroRuntimeException.class.getCanonicalName());
  }
 catch (  AvroRuntimeException e) {
    Assert.assertTrue(e.getMessage().contains("year_of_birth"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.tool.TestCatTool </h4><pre class="type-10 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSamplerateAccuracy() throws Exception {
  Map<String,String> metadata=new HashMap<String,String>();
  metadata.put("myMetaKey","myMetaValue");
  File input1=generateData("input1.avro",Type.INT,metadata,DEFLATE);
  File output=AvroTestUtil.tempFile(getClass(),"out/default-output.avro");
  output.deleteOnExit();
  List<String> args=asList(input1.getAbsolutePath(),output.getAbsolutePath(),"--offset",String.valueOf(OFFSET),"--samplerate",String.valueOf(SAMPLERATE));
  int returnCode=new CatTool().run(System.in,System.out,System.err,args);
  assertEquals(0,returnCode);
  assertTrue("Outputsize is not roughly (Inputsize - Offset) * samplerate",(ROWS_IN_INPUT_FILES - OFFSET) * SAMPLERATE - numRowsInFile(output) < 2);
  assertTrue("",(ROWS_IN_INPUT_FILES - OFFSET) * SAMPLERATE - numRowsInFile(output) > -2);
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHelpfulMessageWhenNoArgsGiven() throws Exception {
  ByteArrayOutputStream buffer=new ByteArrayOutputStream(1024);
  PrintStream out=new PrintStream(buffer);
  int returnCode=new CatTool().run(System.in,out,System.err,Collections.<String>emptyList());
  out.close();
  assertEquals(0,returnCode);
  assertTrue("should have lots of help",buffer.toString().trim().length() > 200);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.tool.TestConcatTool </h4><pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHelpfulMessageWhenNoArgsGiven() throws Exception {
  ByteArrayOutputStream buffer=new ByteArrayOutputStream(1024);
  PrintStream out=new PrintStream(buffer);
  int returnCode=new ConcatTool().run(System.in,out,System.err,Collections.<String>emptyList());
  out.close();
  assertEquals(0,returnCode);
  assertTrue("should have lots of help",buffer.toString().trim().length() > 200);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.tool.TestRpcReceiveAndSendTools </h4><pre class="type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Starts a server (using the tool) and sends a single message to it.
 */
@Test public void testServeAndSend() throws Exception {
  String protocolFile=System.getProperty("share.dir","../../../share") + "/test/schemas/simple.avpr";
  ByteArrayOutputStream baos1=new ByteArrayOutputStream();
  PrintStream p1=new PrintStream(baos1);
  RpcReceiveTool receive=new RpcReceiveTool();
  receive.run1(null,p1,System.err,Arrays.asList("http://0.0.0.0:0/",protocolFile,"hello","-data","\"Hello!\""));
  ByteArrayOutputStream baos2=new ByteArrayOutputStream();
  PrintStream p2=new PrintStream(baos2);
  RpcSendTool send=new RpcSendTool();
  send.run(null,p2,System.err,Arrays.asList("http://127.0.0.1:" + receive.server.getPort() + "/",protocolFile,"hello","-data","{ \"greeting\": \"Hi!\" }"));
  receive.run2(System.err);
  assertTrue(baos1.toString("UTF-8").replace("\r","").endsWith("hello\t{\"greeting\":\"Hi!\"}\n"));
  assertEquals("\"Hello!\"\n",baos2.toString("UTF-8").replace("\r",""));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.util.TestUtf8 </h4><pre class="type-2 type-15 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testArrayReusedWhenLargerThanRequestedSize() throws UnsupportedEncodingException {
  byte[] bs="55555".getBytes("UTF-8");
  Utf8 u=new Utf8(bs);
  assertEquals(5,u.getByteLength());
  byte[] content=u.getBytes();
  u.setByteLength(3);
  assertEquals(3,u.getByteLength());
  assertSame(content,u.getBytes());
  u.setByteLength(4);
  assertEquals(4,u.getByteLength());
  assertSame(content,u.getBytes());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.trevni.TestUtil </h4><pre class="type-10 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRandomLength(){
  long total=0;
  int count=1024 * 1024;
  int min=Short.MAX_VALUE;
  int max=0;
  Random r=createRandom();
  for (int i=0; i < count; i++) {
    int length=randomLength(r);
    if (min > length)     min=length;
    if (max < length)     max=length;
    total+=length;
  }
  Assert.assertEquals(0,min);
  Assert.assertTrue(max > 1024 * 32);
  float average=total / (float)count;
  Assert.assertTrue(average > 16.0f);
  Assert.assertTrue(average < 64.0f);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.trevni.avro.TestEvolvedSchema </h4><pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTrevniEvolvedRead() throws IOException {
  AvroColumnWriter<GenericRecord> acw=new AvroColumnWriter<GenericRecord>(writer,new ColumnFileMetaData());
  acw.write(writtenRecord);
  File serializedTrevni=File.createTempFile("trevni",null);
  acw.writeTo(serializedTrevni);
  AvroColumnReader.Params params=new Params(serializedTrevni);
  params.setSchema(evolved);
  AvroColumnReader<GenericRecord> acr=new AvroColumnReader<GenericRecord>(params);
  GenericRecord readRecord=acr.next();
  assertEquals(evolvedRecord,readRecord);
  assertFalse(acr.hasNext());
}

</code></pre>

<br>
<pre class="type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAvroEvolvedRead() throws IOException {
  File serializedAvro=File.createTempFile("avro",null);
  DatumWriter<GenericRecord> dw=new GenericDatumWriter<GenericRecord>(writer);
  DataFileWriter<GenericRecord> dfw=new DataFileWriter<GenericRecord>(dw);
  dfw.create(writer,serializedAvro);
  dfw.append(writtenRecord);
  dfw.flush();
  dfw.close();
  GenericDatumReader<GenericRecord> reader=new GenericDatumReader<GenericRecord>(writer);
  reader.setExpected(evolved);
  DataFileReader<GenericRecord> dfr=new DataFileReader<GenericRecord>(serializedAvro,reader);
  GenericRecord readRecord=dfr.next();
  assertEquals(evolvedRecord,readRecord);
  assertFalse(dfr.hasNext());
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
