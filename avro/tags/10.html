<h3><span class=" glyphicon glyphicon-tag"/>&nbspAPIUtilityVerifier</h3><kbd>Verifies values of objects/variables related to API calls (Java or TPL) </kbd><br><br><br><h4 style="margin:0px">Class: org.apache.avro.TestCircularReferences </h4><pre class="type-10 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test() throws IOException {
  ReferenceManager manager=new ReferenceManager();
  GenericData model=new GenericData();
  model.addLogicalTypeConversion(manager.getTracker());
  model.addLogicalTypeConversion(manager.getHandler());
  Schema parentSchema=Schema.createRecord("Parent",null,null,false);
  Schema parentRefSchema=Schema.createUnion(Schema.create(Schema.Type.NULL),Schema.create(Schema.Type.LONG),parentSchema);
  Reference parentRef=new Reference("parent");
  List<Schema.Field> childFields=new ArrayList<Schema.Field>();
  childFields.add(new Schema.Field("c",Schema.create(Schema.Type.STRING),null,null));
  childFields.add(new Schema.Field("parent",parentRefSchema,null,null));
  Schema childSchema=parentRef.addToSchema(Schema.createRecord("Child",null,null,false,childFields));
  List<Schema.Field> parentFields=new ArrayList<Schema.Field>();
  parentFields.add(new Schema.Field("id",Schema.create(Schema.Type.LONG),null,null));
  parentFields.add(new Schema.Field("p",Schema.create(Schema.Type.STRING),null,null));
  parentFields.add(new Schema.Field("child",childSchema,null,null));
  parentSchema.setFields(parentFields);
  Referenceable idRef=new Referenceable("id");
  Schema schema=idRef.addToSchema(parentSchema);
  System.out.println("Schema: " + schema.toString(true));
  Record parent=new Record(schema);
  parent.put("id",1L);
  parent.put("p","parent data!");
  Record child=new Record(childSchema);
  child.put("c","child data!");
  child.put("parent",parent);
  parent.put("child",child);
  File data=write(model,schema,parent);
  List<Record> records=read(model,schema,data);
  Record actual=records.get(0);
  Assert.assertEquals("Should correctly read back the parent id",1L,actual.get("id"));
  Assert.assertEquals("Should correctly read back the parent data",new Utf8("parent data!"),actual.get("p"));
  Record actualChild=(Record)actual.get("child");
  Assert.assertEquals("Should correctly read back the child data",new Utf8("child data!"),actualChild.get("c"));
  Object childParent=actualChild.get("parent");
  Assert.assertTrue("Should have a parent Record object",childParent instanceof Record);
  Record childParentRecord=(Record)actualChild.get("parent");
  Assert.assertEquals("Should have the right parent id",1L,childParentRecord.get("id"));
  Assert.assertEquals("Should have the right parent data",new Utf8("parent data!"),childParentRecord.get("p"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestCompare </h4><pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNull() throws Exception {
  Schema schema=Schema.parse("\"null\"");
  byte[] b=render(null,schema,new GenericDatumWriter());
  assertEquals(0,BinaryData.compare(b,0,b,0,schema));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestDataFileCustomSync </h4><pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testRandomSync() throws IOException {
  byte[] sync=generateSync();
  byte[] randSyncFile=createDataFile(null);
  byte[] customSyncFile=createDataFile(sync);
  assertFalse(Arrays.equals(randSyncFile,customSyncFile));
}

</code></pre>

<br>
<pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testCustomSync() throws IOException {
  byte[] sync=generateSync();
  byte[] customSyncFile=createDataFile(sync);
  byte[] sameCustomSyncFile=createDataFile(sync);
  assertTrue(Arrays.equals(customSyncFile,sameCustomSyncFile));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestDataFileDeflate </h4><pre class="type-10 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWriteAndRead() throws IOException {
  Schema schema=Schema.create(Type.STRING);
  DataFileWriter<Utf8> w=new DataFileWriter<Utf8>(new GenericDatumWriter<Utf8>(schema));
  w.setCodec(CodecFactory.deflateCodec(6));
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  w.create(schema,baos);
  w.append(new Utf8("hello world"));
  w.append(new Utf8("hello moon"));
  w.sync();
  w.append(new Utf8("bye bye world"));
  w.append(new Utf8("bye bye moon"));
  w.close();
  DataFileStream<Utf8> r=new DataFileStream<Utf8>(new ByteArrayInputStream(baos.toByteArray()),new GenericDatumReader<Utf8>(schema));
  assertEquals("hello world",r.next().toString());
  assertEquals("hello moon",r.next().toString());
  assertEquals("bye bye world",r.next().toString());
  assertEquals("bye bye moon",r.next().toString());
  assertFalse(r.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestLogicalType </h4><pre class="type-10 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDecimalFromSchema(){
  Schema schema=Schema.createFixed("aFixed",null,null,4);
  schema.addProp("logicalType","decimal");
  schema.addProp("precision",9);
  schema.addProp("scale",2);
  LogicalType logicalType=LogicalTypes.fromSchemaIgnoreInvalid(schema);
  Assert.assertTrue("Should be a Decimal",logicalType instanceof LogicalTypes.Decimal);
  LogicalTypes.Decimal decimal=(LogicalTypes.Decimal)logicalType;
  Assert.assertEquals("Should have correct precision",9,decimal.getPrecision());
  Assert.assertEquals("Should have correct scale",2,decimal.getScale());
}

</code></pre>

<br>
<pre class="type-10 type-2 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testUnknownFromJsonNode(){
  Schema schema=Schema.create(Schema.Type.STRING);
  schema.addProp("logicalType","unknown");
  schema.addProp("someProperty",34);
  LogicalType logicalType=LogicalTypes.fromSchemaIgnoreInvalid(schema);
  Assert.assertNull("Should not return a LogicalType instance",logicalType);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestProtocol </h4><pre class="type-10 type-2 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSplitProtocolBuild(){
  Protocol p=new Protocol("P",null,"foo");
  p.addProp("property","some value");
  String protocolString=p.toString();
  final int mid=protocolString.length() / 2;
  String[] parts={protocolString.substring(0,mid),protocolString.substring(mid)};
  Protocol parsedStringProtocol=org.apache.avro.Protocol.parse(protocolString);
  Protocol parsedArrayOfStringProtocol=org.apache.avro.Protocol.parse(protocolString.substring(0,mid),protocolString.substring(mid));
  assertNotNull(parsedStringProtocol);
  assertNotNull(parsedArrayOfStringProtocol);
  assertEquals(parsedStringProtocol.toString(),parsedArrayOfStringProtocol.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestProtocolGeneric </h4><pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEchoBytes() throws IOException {
  Random random=new Random();
  int length=random.nextInt(1024 * 16);
  GenericRecord params=new GenericData.Record(PROTOCOL.getMessages().get("echoBytes").getRequest());
  ByteBuffer data=ByteBuffer.allocate(length);
  random.nextBytes(data.array());
  data.flip();
  params.put("data",data);
  Object echoed=requestor.request("echoBytes",params);
  assertEquals(data,echoed);
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResponseChange() throws IOException {
  List<Field> fields=new ArrayList<Field>();
  for (  Field f : PROTOCOL.getType("TestRecord").getFields())   fields.add(new Field(f.name(),f.schema(),null,null));
  fields.add(new Field("extra",Schema.create(Schema.Type.BOOLEAN),null,true));
  Schema record=Schema.createRecord("TestRecord",null,"org.apache.avro.test",false);
  record.setFields(fields);
  Protocol protocol=new Protocol("Simple","org.apache.avro.test");
  List<Field> params=new ArrayList<Field>();
  params.add(new Field("record",record,null,null));
  Protocol.Message message=protocol.createMessage("echo",null,Schema.createRecord(params),record,Schema.createUnion(new ArrayList<Schema>()));
  protocol.getMessages().put("echo",message);
  Transceiver t=new SocketTransceiver(new InetSocketAddress(server.getPort()));
  try {
    GenericRequestor r=new GenericRequestor(protocol,t);
    GenericRecord args=new GenericData.Record(message.getRequest());
    GenericRecord rec=new GenericData.Record(record);
    rec.put("name",new Utf8("foo"));
    rec.put("kind",new GenericData.EnumSymbol(PROTOCOL.getType("Kind"),"BAR"));
    rec.put("hash",new GenericData.Fixed(PROTOCOL.getType("MD5"),new byte[]{0,1,2,3,4,5,6,7,8,9,0,1,2,3,4,5}));
    rec.put("extra",Boolean.TRUE);
    args.put("record",rec);
    GenericRecord response=(GenericRecord)r.request("echo",args);
    assertEquals(rec,response);
  }
  finally {
    t.close();
  }
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHandshake() throws IOException {
  Protocol protocol=new Protocol("Simple","org.apache.avro.test");
  List<Field> fields=new ArrayList<Field>();
  fields.add(new Schema.Field("extra",Schema.create(Schema.Type.BOOLEAN),null,null));
  fields.add(new Schema.Field("greeting",Schema.create(Schema.Type.STRING),null,null));
  Protocol.Message message=protocol.createMessage("hello",null,Schema.createRecord(fields),Schema.create(Schema.Type.STRING),Schema.createUnion(new ArrayList<Schema>()));
  protocol.getMessages().put("hello",message);
  Transceiver t=new SocketTransceiver(new InetSocketAddress(server.getPort()));
  try {
    GenericRequestor r=new GenericRequestor(protocol,t);
    GenericRecord params=new GenericData.Record(message.getRequest());
    params.put("extra",Boolean.TRUE);
    params.put("greeting",new Utf8("bob"));
    Utf8 response=(Utf8)r.request("hello",params);
    assertEquals(new Utf8("goodbye"),response);
  }
  finally {
    t.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestProtocolReflect </h4><pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHello() throws IOException {
  String response=proxy.hello("bob");
  assertEquals("goodbye",response);
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEchoBytes() throws IOException {
  Random random=new Random();
  int length=random.nextInt(1024 * 16);
  byte[] data=new byte[length];
  random.nextBytes(data);
  byte[] echoed=proxy.echoBytes(data);
  assertArrayEquals(data,echoed);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestProtocolSpecific </h4><pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEchoBytes() throws IOException {
  Random random=new Random();
  int length=random.nextInt(1024 * 16);
  ByteBuffer data=ByteBuffer.allocate(length);
  random.nextBytes(data.array());
  data.flip();
  ByteBuffer echoed=proxy.echoBytes(data);
  assertEquals(data,echoed);
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParamVariation() throws Exception {
  Protocol protocol=new Protocol("Simple","org.apache.avro.test");
  List<Schema.Field> fields=new ArrayList<Schema.Field>();
  fields.add(new Schema.Field("extra",Schema.create(Schema.Type.BOOLEAN),null,null));
  fields.add(new Schema.Field("greeting",Schema.create(Schema.Type.STRING),null,null));
  Protocol.Message message=protocol.createMessage("hello",null,Schema.createRecord(fields),Schema.create(Schema.Type.STRING),Schema.createUnion(new ArrayList<Schema>()));
  protocol.getMessages().put("hello",message);
  Transceiver t=createTransceiver();
  try {
    GenericRequestor r=new GenericRequestor(protocol,t);
    addRpcPlugins(r);
    GenericRecord params=new GenericData.Record(message.getRequest());
    params.put("extra",Boolean.TRUE);
    params.put("greeting","bob");
    String response=r.request("hello",params).toString();
    assertEquals("goodbye",response);
  }
  finally {
    t.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestSchema </h4><pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCreateUnionVarargs(){
  List<Schema> types=new ArrayList<Schema>();
  types.add(Schema.create(Type.NULL));
  types.add(Schema.create(Type.LONG));
  Schema expected=Schema.createUnion(types);
  Schema schema=Schema.createUnion(Schema.create(Type.NULL),Schema.create(Type.LONG));
  assertEquals(expected,schema);
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSchemaWithFields(){
  List<Field> fields=new ArrayList<Field>();
  fields.add(new Field("field_name1",Schema.create(Type.NULL),null,null));
  fields.add(new Field("field_name2",Schema.create(Type.INT),null,null));
  Schema schema=Schema.createRecord("foobar",null,null,false,fields);
  String schemaString=schema.toString();
  assertNotNull(schemaString);
  assertEquals(2,schema.getFields().size());
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFieldDocs(){
  String schemaStr="{\"name\": \"Rec\",\"type\": \"record\",\"fields\" : [" + "{\"name\": \"f\", \"type\": \"int\", \"doc\": \"test\"}]}";
  Schema schema=Schema.parse(schemaStr);
  assertEquals("test",schema.getField("f").doc());
  schema=Schema.parse(schema.toString());
  assertEquals("test",schema.getField("f").doc());
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRecursiveEquals() throws Exception {
  String jsonSchema="{\"type\":\"record\", \"name\":\"List\", \"fields\": [" + "{\"name\":\"next\", \"type\":\"List\"}]}";
  Schema s1=Schema.parse(jsonSchema);
  Schema s2=Schema.parse(jsonSchema);
  assertEquals(s1,s2);
  s1.hashCode();
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPropOrdering() throws Exception {
  String json="{\"type\":\"int\",\"z\":\"c\",\"yy\":\"b\",\"x\":\"a\"}";
  Schema s=Schema.parse(json);
  assertEquals(json,s.toString());
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAliases() throws Exception {
  String t1="{\"type\":\"record\",\"name\":\"a.b\",\"fields\":[" + "{\"name\":\"f\",\"type\":\"long\"}," + "{\"name\":\"h\",\"type\":\"int\"}]}";
  String t2="{\"type\":\"record\",\"name\":\"x.y\",\"aliases\":[\"a.b\"]," + "\"fields\":[{\"name\":\"g\",\"type\":\"long\",\"aliases\":[\"f\"]}," + "{\"name\":\"h\",\"type\":\"int\"}]}";
  Schema s1=Schema.parse(t1);
  Schema s2=Schema.parse(t2);
  assertEquals(s1.getAliases(),Collections.emptySet());
  assertEquals(s1.getField("f").aliases(),Collections.emptySet());
  assertEquals(s2.getAliases(),Collections.singleton("a.b"));
  assertEquals(s2.getField("g").aliases(),Collections.singleton("f"));
  Schema s3=Schema.applyAliases(s1,s2);
  assertFalse(s2 == s3);
  assertEquals(s2,s3);
  t1="{\"type\":\"enum\",\"name\":\"a.b\"," + "\"symbols\":[\"x\"]}";
  t2="{\"type\":\"enum\",\"name\":\"a.c\",\"aliases\":[\"b\"]," + "\"symbols\":[\"x\"]}";
  s1=Schema.parse(t1);
  s2=Schema.parse(t2);
  s3=Schema.applyAliases(s1,s2);
  assertFalse(s2 == s3);
  assertEquals(s2,s3);
  t1="{\"type\":\"fixed\",\"name\":\"a\"," + "\"size\": 5}";
  t2="{\"type\":\"fixed\",\"name\":\"b\",\"aliases\":[\"a\"]," + "\"size\": 5}";
  s1=Schema.parse(t1);
  s2=Schema.parse(t2);
  s3=Schema.applyAliases(s1,s2);
  assertFalse(s2 == s3);
  assertEquals(s2,s3);
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNullNamespaceAlias() throws Exception {
  Schema s=Schema.parse("{\"type\":\"record\",\"name\":\"Z\",\"fields\":[]}");
  Schema t=Schema.parse("{\"type\":\"record\",\"name\":\"x.Y\",\"aliases\":[\".Z\"]," + "\"fields\":[]}");
  Schema u=Schema.applyAliases(s,t);
  assertEquals("x.Y",u.getFullName());
}

</code></pre>

<br>
<pre class="type-10 type-13 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEnumMismatch() throws Exception {
  Schema actual=Schema.parse("{\"type\":\"enum\",\"name\":\"E\",\"symbols\":[\"X\",\"Y\"]}");
  Schema expected=Schema.parse("{\"type\":\"enum\",\"name\":\"E\",\"symbols\":[\"Y\",\"Z\"]}");
  ByteArrayOutputStream out=new ByteArrayOutputStream();
  DatumWriter writer=new GenericDatumWriter(actual);
  Encoder encoder=EncoderFactory.get().directBinaryEncoder(out,null);
  writer.write(new GenericData.EnumSymbol(actual,"Y"),encoder);
  writer.write(new GenericData.EnumSymbol(actual,"X"),encoder);
  encoder.flush();
  byte[] data=out.toByteArray();
  Decoder decoder=DecoderFactory.get().binaryDecoder(data,null);
  DatumReader<String> in=new GenericDatumReader<String>(actual,expected);
  assertEquals("Wrong value",new GenericData.EnumSymbol(expected,"Y"),in.read(null,decoder));
  try {
    in.read(null,decoder);
    fail("Should have thrown exception.");
  }
 catch (  AvroTypeException e) {
  }
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSplitSchemaBuild(){
  Schema s=SchemaBuilder.record("HandshakeRequest").namespace("org.apache.avro.ipc").fields().name("clientProtocol").type().optional().stringType().name("meta").type().optional().map().values().bytesType().endRecord();
  String schemaString=s.toString();
  final int mid=schemaString.length() / 2;
  Schema parsedStringSchema=new org.apache.avro.Schema.Parser().parse(s.toString());
  Schema parsedArrayOfStringSchema=new org.apache.avro.Schema.Parser().parse(schemaString.substring(0,mid),schemaString.substring(mid));
  assertNotNull(parsedStringSchema);
  assertNotNull(parsedArrayOfStringSchema);
  assertEquals(parsedStringSchema.toString(),parsedArrayOfStringSchema.toString());
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testComplexProp() throws Exception {
  String json="{\"type\":\"null\", \"foo\": [0]}";
  Schema s=Schema.parse(json);
  assertEquals(null,s.getProp("foo"));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNamespaceScope() throws Exception {
  String z="{\"type\":\"record\",\"name\":\"Z\",\"fields\":[]}";
  String y="{\"type\":\"record\",\"name\":\"q.Y\",\"fields\":[" + "{\"name\":\"f\",\"type\":" + z + "}]}";
  String x="{\"type\":\"record\",\"name\":\"p.X\",\"fields\":[" + "{\"name\":\"f\",\"type\":" + y + "},"+ "{\"name\":\"g\",\"type\":"+ z+ "}"+ "]}";
  Schema xs=Schema.parse(x);
  Schema ys=xs.getField("f").schema();
  assertEquals("p.Z",xs.getField("g").schema().getFullName());
  assertEquals("q.Z",ys.getField("f").schema().getFullName());
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRecord() throws Exception {
  String recordJson="{\"type\":\"record\", \"name\":\"Test\", \"fields\":" + "[{\"name\":\"f\", \"type\":\"long\", \"foo\":\"bar\"}]}";
  Schema schema=Schema.parse(recordJson);
  GenericData.Record record=new GenericData.Record(schema);
  record.put("f",11L);
  check(recordJson,"{\"f\":11}",record,false);
  assertEquals("bar",schema.getField("f").getProp("foo"));
  assertEquals("bar",Schema.parse(schema.toString()).getField("f").getProp("foo"));
  schema.getField("f").addProp("baz","boo");
  assertEquals("boo",schema.getField("f").getProp("baz"));
  checkParseError("{\"type\":\"record\"}");
  checkParseError("{\"type\":\"record\",\"name\":\"X\"}");
  checkParseError("{\"type\":\"record\",\"name\":\"X\",\"fields\":\"Y\"}");
  checkParseError("{\"type\":\"record\",\"name\":\"X\",\"fields\":" + "[{\"name\":\"f\"}]}");
  checkParseError("{\"type\":\"record\",\"name\":\"X\",\"fields\":" + "[{\"type\":\"long\"}]}");
  checkParseError("{\"type\":\"record\",\"name\":\"1X\",\"fields\":[]}");
  checkParseError("{\"type\":\"record\",\"name\":\"X$\",\"fields\":[]}");
  checkParseError("{\"type\":\"record\",\"name\":\"X\",\"fields\":[" + "{\"name\":\"1f\",\"type\":\"int\"}]}");
  checkParseError("{\"type\":\"record\",\"name\":\"X\",\"fields\":[" + "{\"name\":\"f$\",\"type\":\"int\"}]}");
  checkParseError("{\"type\":\"record\",\"name\":\"X\",\"fields\":[" + "{\"name\":\"f.g\",\"type\":\"int\"}]}");
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNamespaceNesting() throws Exception {
  String y="{\"type\":\"record\",\"name\":\"y.Y\",\"fields\":[" + "{\"name\":\"f\",\"type\":\"x.X\"}]}";
  String x="{\"type\":\"record\",\"name\":\"x.X\",\"fields\":[" + "{\"name\":\"f\",\"type\":" + y + "}"+ "]}";
  Schema xs=Schema.parse(x);
  assertEquals(xs,Schema.parse(xs.toString()));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Makes sure that "doc" tags are transcribed in the schemas.
 * Note that there are docs both for fields and for the records
 * themselves.
 */
@Test public void testDocs(){
  Schema schema=Schema.parse(SCHEMA_WITH_DOC_TAGS);
  assertEquals("This is not a world record.",schema.getDoc());
  assertEquals("Inner Fixed",schema.getField("inner_fixed").doc());
  assertEquals("Very Inner Fixed",schema.getField("inner_fixed").schema().getDoc());
  assertEquals("Inner String",schema.getField("inner_string").doc());
  assertEquals("Inner Enum",schema.getField("inner_enum").doc());
  assertEquals("Very Inner Enum",schema.getField("inner_enum").schema().getDoc());
  assertEquals("Inner Union",schema.getField("inner_union").doc());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestSchemaBuilder </h4><pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUnionAndNullable(){
  List<Schema> types=new ArrayList<Schema>();
  types.add(Schema.create(Schema.Type.LONG));
  types.add(Schema.create(Schema.Type.NULL));
  Schema expected=Schema.createUnion(types);
  Schema schema=SchemaBuilder.unionOf().longType().and().nullType().endUnion();
  Assert.assertEquals(expected,schema);
  schema=SchemaBuilder.nullable().longType();
  Assert.assertEquals(expected,schema);
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBoolean(){
  Schema.Type type=Schema.Type.BOOLEAN;
  Schema simple=SchemaBuilder.builder().booleanType();
  Schema expected=primitive(type,simple);
  Schema built1=SchemaBuilder.builder().booleanBuilder().prop("p","v").endBoolean();
  Assert.assertEquals(expected,built1);
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBytes(){
  Schema.Type type=Schema.Type.BYTES;
  Schema simple=SchemaBuilder.builder().bytesType();
  Schema expected=primitive(type,simple);
  Schema built1=SchemaBuilder.builder().bytesBuilder().prop("p","v").endBytes();
  Assert.assertEquals(expected,built1);
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testArray(){
  Schema longSchema=Schema.create(Schema.Type.LONG);
  Schema expected=Schema.createArray(longSchema);
  Schema schema1=SchemaBuilder.array().items().longType();
  Assert.assertEquals(expected,schema1);
  Schema schema2=SchemaBuilder.array().items(longSchema);
  Assert.assertEquals(expected,schema2);
  Schema schema3=SchemaBuilder.array().prop("p","v").items().type("long");
  expected.addProp("p","v");
  Assert.assertEquals(expected,schema3);
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEnum(){
  List<String> symbols=Arrays.asList("a","b");
  Schema expected=Schema.createEnum("myenum",null,null,symbols);
  expected.addProp("p","v");
  Schema schema=SchemaBuilder.enumeration("myenum").prop("p","v").symbols("a","b");
  Assert.assertEquals(expected,schema);
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFloat(){
  Schema.Type type=Schema.Type.FLOAT;
  Schema simple=SchemaBuilder.builder().floatType();
  Schema expected=primitive(type,simple);
  Schema built1=SchemaBuilder.builder().floatBuilder().prop("p","v").endFloat();
  Assert.assertEquals(expected,built1);
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFieldTypesAndDefaultValues(){
  byte[] bytedef=new byte[]{3};
  ByteBuffer bufdef=ByteBuffer.wrap(bytedef);
  String strdef="\u0003";
  HashMap<String,String> mapdef=new HashMap<String,String>();
  mapdef.put("a","A");
  ArrayList<String> arrdef=new ArrayList<String>();
  arrdef.add("arr");
  Schema rec=SchemaBuilder.record("inner").fields().name("f").type().intType().noDefault().endRecord();
  Schema rec2=SchemaBuilder.record("inner2").fields().name("f2").type().intType().noDefault().endRecord();
  GenericData.Record recdef=new GenericRecordBuilder(rec).set("f",1).build();
  GenericData.Record recdef2=new GenericRecordBuilder(rec2).set("f2",2).build();
  Schema r=SchemaBuilder.record("r").fields().name("boolF").type().booleanType().booleanDefault(false).name("intF").type().intType().intDefault(1).name("longF").type().longType().longDefault(2L).name("floatF").type().floatType().floatDefault(3.0f).name("doubleF").type().doubleType().doubleDefault(4.0d).name("stringF").type().stringType().stringDefault("def").name("bytesF1").type().bytesType().bytesDefault(bytedef).name("bytesF2").type().bytesType().bytesDefault(bufdef).name("bytesF3").type().bytesType().bytesDefault(strdef).name("nullF").type().nullType().nullDefault().name("fixedF1").type().fixed("F1").size(1).fixedDefault(bytedef).name("fixedF2").type().fixed("F2").size(1).fixedDefault(bufdef).name("fixedF3").type().fixed("F3").size(1).fixedDefault(strdef).name("enumF").type().enumeration("E1").symbols("S").enumDefault("S").name("mapF").type().map().values().stringType().mapDefault(mapdef).name("arrayF").type().array().items().stringType().arrayDefault(arrdef).name("recordF").type().record("inner").fields().name("f").type().intType().noDefault().endRecord().recordDefault(recdef).name("byName").type("E1").withDefault("S").name("boolU").type().unionOf().booleanType().and().intType().endUnion().booleanDefault(false).name("intU").type().unionOf().intType().and().longType().endUnion().intDefault(1).name("longU").type().unionOf().longType().and().intType().endUnion().longDefault(2L).name("floatU").type().unionOf().floatType().and().intType().endUnion().floatDefault(3.0f).name("doubleU").type().unionOf().doubleType().and().intType().endUnion().doubleDefault(4.0d).name("stringU").type().unionOf().stringType().and().intType().endUnion().stringDefault("def").name("bytesU").type().unionOf().bytesType().and().intType().endUnion().bytesDefault(bytedef).name("nullU").type().unionOf().nullType().and().intType().endUnion().nullDefault().name("fixedU").type().unionOf().fixed("F4").size(1).and().intType().endUnion().fixedDefault(bytedef).name("enumU").type().unionOf().enumeration("E2").symbols("SS").and().intType().endUnion().enumDefault("SS").name("mapU").type().unionOf().map().values().stringType().and().intType().endUnion().mapDefault(mapdef).name("arrayU").type().unionOf().array().items().stringType().and().intType().endUnion().arrayDefault(arrdef).name("recordU").type().unionOf().record("inner2").fields().name("f2").type().intType().noDefault().endRecord().and().intType().endUnion().recordDefault(recdef2).endRecord();
  GenericData.Record newRec=new GenericRecordBuilder(r).build();
  Assert.assertEquals(false,newRec.get("boolF"));
  Assert.assertEquals(false,newRec.get("boolU"));
  Assert.assertEquals(1,newRec.get("intF"));
  Assert.assertEquals(1,newRec.get("intU"));
  Assert.assertEquals(2L,newRec.get("longF"));
  Assert.assertEquals(2L,newRec.get("longU"));
  Assert.assertEquals(3f,newRec.get("floatF"));
  Assert.assertEquals(3f,newRec.get("floatU"));
  Assert.assertEquals(4d,newRec.get("doubleF"));
  Assert.assertEquals(4d,newRec.get("doubleU"));
  Assert.assertEquals("def",newRec.get("stringF").toString());
  Assert.assertEquals("def",newRec.get("stringU").toString());
  Assert.assertEquals(bufdef,newRec.get("bytesF1"));
  Assert.assertEquals(bufdef,newRec.get("bytesF2"));
  Assert.assertEquals(bufdef,newRec.get("bytesF3"));
  Assert.assertEquals(bufdef,newRec.get("bytesU"));
  Assert.assertNull(newRec.get("nullF"));
  Assert.assertNull(newRec.get("nullU"));
  Assert.assertArrayEquals(bytedef,((GenericData.Fixed)newRec.get("fixedF1")).bytes());
  Assert.assertArrayEquals(bytedef,((GenericData.Fixed)newRec.get("fixedF2")).bytes());
  Assert.assertArrayEquals(bytedef,((GenericData.Fixed)newRec.get("fixedF3")).bytes());
  Assert.assertArrayEquals(bytedef,((GenericData.Fixed)newRec.get("fixedU")).bytes());
  Assert.assertEquals("S",newRec.get("enumF").toString());
  Assert.assertEquals("SS",newRec.get("enumU").toString());
  @SuppressWarnings("unchecked") Map<CharSequence,CharSequence> map=(Map<CharSequence,CharSequence>)newRec.get("mapF");
  Assert.assertEquals(mapdef.size(),map.size());
  for (  Map.Entry<CharSequence,CharSequence> e : map.entrySet()) {
    Assert.assertEquals(mapdef.get(e.getKey().toString()),e.getValue().toString());
  }
  Assert.assertEquals(newRec.get("mapF"),newRec.get("mapU"));
  @SuppressWarnings("unchecked") GenericData.Array<CharSequence> arr=(GenericData.Array<CharSequence>)newRec.get("arrayF");
  Assert.assertEquals(arrdef.size(),arr.size());
  for (  CharSequence c : arr) {
    Assert.assertTrue(arrdef.contains(c.toString()));
  }
  Assert.assertEquals(newRec.get("arrF"),newRec.get("arrU"));
  Assert.assertEquals(recdef,newRec.get("recordF"));
  Assert.assertEquals(recdef2,newRec.get("recordU"));
  Assert.assertEquals("S",newRec.get("byName").toString());
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNull(){
  Schema.Type type=Schema.Type.NULL;
  Schema simple=SchemaBuilder.builder().nullType();
  Schema expected=primitive(type,simple);
  Schema built1=SchemaBuilder.builder().nullBuilder().prop("p","v").endNull();
  Assert.assertEquals(expected,built1);
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDuble(){
  Schema.Type type=Schema.Type.DOUBLE;
  Schema simple=SchemaBuilder.builder().doubleType();
  Schema expected=primitive(type,simple);
  Schema built1=SchemaBuilder.builder().doubleBuilder().prop("p","v").endDouble();
  Assert.assertEquals(expected,built1);
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testString(){
  Schema.Type type=Schema.Type.STRING;
  Schema simple=SchemaBuilder.builder().stringType();
  Schema expected=primitive(type,simple);
  Schema built1=SchemaBuilder.builder().stringBuilder().prop("p","v").endString();
  Assert.assertEquals(expected,built1);
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInt(){
  Schema.Type type=Schema.Type.INT;
  Schema simple=SchemaBuilder.builder().intType();
  Schema expected=primitive(type,simple);
  Schema built1=SchemaBuilder.builder().intBuilder().prop("p","v").endInt();
  Assert.assertEquals(expected,built1);
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRecord(){
  Schema schema=SchemaBuilder.record("myrecord").namespace("org.example").aliases("oldrecord").fields().name("f0").aliases("f0alias").type().stringType().noDefault().name("f1").doc("This is f1").type().longType().noDefault().name("f2").type().nullable().booleanType().booleanDefault(true).endRecord();
  Assert.assertEquals("myrecord",schema.getName());
  Assert.assertEquals("org.example",schema.getNamespace());
  Assert.assertEquals("org.example.oldrecord",schema.getAliases().iterator().next());
  Assert.assertFalse(schema.isError());
  List<Schema.Field> fields=schema.getFields();
  Assert.assertEquals(3,fields.size());
  Assert.assertEquals(new Schema.Field("f0",Schema.create(Schema.Type.STRING),null,null),fields.get(0));
  Assert.assertTrue(fields.get(0).aliases().contains("f0alias"));
  Assert.assertEquals(new Schema.Field("f1",Schema.create(Schema.Type.LONG),"This is f1",null),fields.get(1));
  List<Schema> types=new ArrayList<Schema>();
  types.add(Schema.create(Schema.Type.BOOLEAN));
  types.add(Schema.create(Schema.Type.NULL));
  Schema optional=Schema.createUnion(types);
  Assert.assertEquals(new Schema.Field("f2",optional,null,true),fields.get(2));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRecursiveRecord(){
  Schema schema=SchemaBuilder.record("LongList").fields().name("value").type().longType().noDefault().name("next").type().optional().type("LongList").endRecord();
  Assert.assertEquals("LongList",schema.getName());
  List<Schema.Field> fields=schema.getFields();
  Assert.assertEquals(2,fields.size());
  Assert.assertEquals(new Schema.Field("value",Schema.create(Schema.Type.LONG),null,null),fields.get(0));
  Assert.assertEquals(Schema.Type.UNION,fields.get(1).schema().getType());
  Assert.assertEquals(Schema.Type.NULL,fields.get(1).schema().getTypes().get(0).getType());
  Schema recordSchema=fields.get(1).schema().getTypes().get(1);
  Assert.assertEquals(Schema.Type.RECORD,recordSchema.getType());
  Assert.assertEquals("LongList",recordSchema.getName());
  Assert.assertEquals(NullNode.getInstance(),fields.get(1).defaultValue());
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testLong(){
  Schema.Type type=Schema.Type.LONG;
  Schema simple=SchemaBuilder.builder().longType();
  Schema expected=primitive(type,simple);
  Schema built1=SchemaBuilder.builder().longBuilder().prop("p","v").endLong();
  Assert.assertEquals(expected,built1);
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMap(){
  Schema intSchema=Schema.create(Schema.Type.INT);
  Schema expected=Schema.createMap(intSchema);
  Schema schema1=SchemaBuilder.map().values().intType();
  Assert.assertEquals(expected,schema1);
  Schema schema2=SchemaBuilder.map().values(intSchema);
  Assert.assertEquals(expected,schema2);
  Schema schema3=SchemaBuilder.map().prop("p","v").values().type("int");
  expected.addProp("p","v");
  Assert.assertEquals(expected,schema3);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestSchemaCompatibility </h4><pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testValidateSchemaPairAllFields() throws Exception {
  final List<Schema.Field> readerFields=list(new Schema.Field("oldfield1",INT_SCHEMA,null,null),new Schema.Field("oldfield2",STRING_SCHEMA,null,null));
  final Schema reader=Schema.createRecord(readerFields);
  final SchemaCompatibility.SchemaPairCompatibility expectedResult=new SchemaCompatibility.SchemaPairCompatibility(SchemaCompatibility.SchemaCompatibilityType.COMPATIBLE,reader,WRITER_SCHEMA,SchemaCompatibility.READER_WRITER_COMPATIBLE_MESSAGE);
  assertEquals(expectedResult,checkReaderWriterCompatibility(reader,WRITER_SCHEMA));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests the reader/writer compatibility at decoding time. 
 */
@Test public void testReaderWriterDecodingCompatibility() throws Exception {
  for (  DecodingTestCase testCase : DECODING_COMPATIBILITY_TEST_CASES) {
    final Schema readerSchema=testCase.getReaderSchema();
    final Schema writerSchema=testCase.getWriterSchema();
    final Object datum=testCase.getDatum();
    final Object expectedDecodedDatum=testCase.getDecodedDatum();
    LOG.debug("Testing incompatibility of reader {} with writer {}.",readerSchema,writerSchema);
    LOG.debug("Encode datum {} with writer {}.",datum,writerSchema);
    final ByteArrayOutputStream baos=new ByteArrayOutputStream();
    final Encoder encoder=EncoderFactory.get().binaryEncoder(baos,null);
    final DatumWriter datumWriter=new GenericDatumWriter(writerSchema);
    datumWriter.write(datum,encoder);
    encoder.flush();
    LOG.debug("Decode datum {} whose writer is {} with reader {}.",new Object[]{datum,writerSchema,readerSchema});
    final byte[] bytes=baos.toByteArray();
    final Decoder decoder=DecoderFactory.get().resolvingDecoder(writerSchema,readerSchema,DecoderFactory.get().binaryDecoder(bytes,null));
    final DatumReader datumReader=new GenericDatumReader(readerSchema);
    final Object decodedDatum=datumReader.read(null,decoder);
    assertEquals(String.format("Expecting decoded value %s when decoding value %s whose writer schema is %s " + "using reader schema %s, but value was %s.",expectedDecodedDatum,datum,writerSchema,readerSchema,decodedDatum),expectedDecodedDatum,decodedDatum);
  }
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests reader/writer compatibility validation. 
 */
@Test public void testReaderWriterCompatibility(){
  for (  ReaderWriter readerWriter : COMPATIBLE_READER_WRITER_TEST_CASES) {
    final Schema reader=readerWriter.getReader();
    final Schema writer=readerWriter.getWriter();
    LOG.debug("Testing compatibility of reader {} with writer {}.",reader,writer);
    final SchemaPairCompatibility result=checkReaderWriterCompatibility(reader,writer);
    assertEquals(String.format("Expecting reader %s to be compatible with writer %s, but tested incompatible.",reader,writer),SchemaCompatibilityType.COMPATIBLE,result.getType());
  }
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testValidateSchemaNewField() throws Exception {
  final List<Schema.Field> readerFields=list(new Schema.Field("oldfield1",INT_SCHEMA,null,null),new Schema.Field("newfield1",INT_SCHEMA,null,null));
  final Schema reader=Schema.createRecord(readerFields);
  final SchemaCompatibility.SchemaPairCompatibility expectedResult=new SchemaCompatibility.SchemaPairCompatibility(SchemaCompatibility.SchemaCompatibilityType.INCOMPATIBLE,reader,WRITER_SCHEMA,String.format("Data encoded using writer schema:%n%s%n" + "will or may fail to decode using reader schema:%n%s%n",WRITER_SCHEMA.toString(true),reader.toString(true)));
  assertEquals(expectedResult,checkReaderWriterCompatibility(reader,WRITER_SCHEMA));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testValidateArrayWriterSchema() throws Exception {
  final Schema validReader=Schema.createArray(STRING_SCHEMA);
  final Schema invalidReader=Schema.createMap(STRING_SCHEMA);
  final SchemaCompatibility.SchemaPairCompatibility validResult=new SchemaCompatibility.SchemaPairCompatibility(SchemaCompatibility.SchemaCompatibilityType.COMPATIBLE,validReader,STRING_ARRAY_SCHEMA,SchemaCompatibility.READER_WRITER_COMPATIBLE_MESSAGE);
  final SchemaCompatibility.SchemaPairCompatibility invalidResult=new SchemaCompatibility.SchemaPairCompatibility(SchemaCompatibility.SchemaCompatibilityType.INCOMPATIBLE,invalidReader,STRING_ARRAY_SCHEMA,String.format("Data encoded using writer schema:%n%s%n" + "will or may fail to decode using reader schema:%n%s%n",STRING_ARRAY_SCHEMA.toString(true),invalidReader.toString(true)));
  assertEquals(validResult,checkReaderWriterCompatibility(validReader,STRING_ARRAY_SCHEMA));
  assertEquals(invalidResult,checkReaderWriterCompatibility(invalidReader,STRING_ARRAY_SCHEMA));
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testValidateSchemaNewFieldWithDefault() throws Exception {
  final List<Schema.Field> readerFields=list(new Schema.Field("oldfield1",INT_SCHEMA,null,null),new Schema.Field("newfield1",INT_SCHEMA,null,42));
  final Schema reader=Schema.createRecord(readerFields);
  final SchemaCompatibility.SchemaPairCompatibility expectedResult=new SchemaCompatibility.SchemaPairCompatibility(SchemaCompatibility.SchemaCompatibilityType.COMPATIBLE,reader,WRITER_SCHEMA,SchemaCompatibility.READER_WRITER_COMPATIBLE_MESSAGE);
  assertEquals(expectedResult,checkReaderWriterCompatibility(reader,WRITER_SCHEMA));
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testValidateSchemaPairMissingSecondField() throws Exception {
  final List<Schema.Field> readerFields=list(new Schema.Field("oldfield2",STRING_SCHEMA,null,null));
  final Schema reader=Schema.createRecord(readerFields);
  final SchemaCompatibility.SchemaPairCompatibility expectedResult=new SchemaCompatibility.SchemaPairCompatibility(SchemaCompatibility.SchemaCompatibilityType.COMPATIBLE,reader,WRITER_SCHEMA,SchemaCompatibility.READER_WRITER_COMPATIBLE_MESSAGE);
  assertEquals(expectedResult,checkReaderWriterCompatibility(reader,WRITER_SCHEMA));
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Reader union schema must contain all writer union branches. 
 */
@Test public void testUnionReaderWriterSubsetIncompatibility(){
  final Schema unionWriter=Schema.createUnion(list(INT_SCHEMA,STRING_SCHEMA));
  final Schema unionReader=Schema.createUnion(list(STRING_SCHEMA));
  final SchemaPairCompatibility result=checkReaderWriterCompatibility(unionReader,unionWriter);
  assertEquals(SchemaCompatibilityType.INCOMPATIBLE,result.getType());
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testValidateSchemaPairMissingField() throws Exception {
  final List<Schema.Field> readerFields=list(new Schema.Field("oldfield1",INT_SCHEMA,null,null));
  final Schema reader=Schema.createRecord(readerFields);
  final SchemaCompatibility.SchemaPairCompatibility expectedResult=new SchemaCompatibility.SchemaPairCompatibility(SchemaCompatibility.SchemaCompatibilityType.COMPATIBLE,reader,WRITER_SCHEMA,SchemaCompatibility.READER_WRITER_COMPATIBLE_MESSAGE);
  assertEquals(expectedResult,checkReaderWriterCompatibility(reader,WRITER_SCHEMA));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests the reader/writer incompatibility validation. 
 */
@Test public void testReaderWriterIncompatibility(){
  for (  ReaderWriter readerWriter : INCOMPATIBLE_READER_WRITER_TEST_CASES) {
    final Schema reader=readerWriter.getReader();
    final Schema writer=readerWriter.getWriter();
    LOG.debug("Testing incompatibility of reader {} with writer {}.",reader,writer);
    final SchemaPairCompatibility result=checkReaderWriterCompatibility(reader,writer);
    assertEquals(String.format("Expecting reader %s to be incompatible with writer %s, but tested compatible.",reader,writer),SchemaCompatibilityType.INCOMPATIBLE,result.getType());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.TestSchemaNormalization.TestFingerprint </h4><pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCanonicalization() throws Exception {
  Schema s=Schema.parse(input);
  long carefulFP=altFingerprint(SchemaNormalization.toParsingForm(s));
  assertEquals(carefulFP,Long.parseLong(expectedOutput));
  assertEqHex(carefulFP,SchemaNormalization.parsingFingerprint64(s));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.compiler.TestSpecificCompiler </h4><pre class="type-10 type-9 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSettersNotCreatedWhenOptionTurnedOff() throws IOException {
  SpecificCompiler compiler=createCompiler();
  compiler.setCreateSetters(false);
  assertFalse(compiler.isCreateSetters());
  compiler.compileToDestination(this.src,this.outputDir);
  assertTrue(this.outputFile.exists());
  BufferedReader reader=new BufferedReader(new FileReader(this.outputFile));
  String line=null;
  while ((line=reader.readLine()) != null) {
    line=line.trim();
    assertFalse("No line should include the setter: " + line,line.startsWith("public void setValue("));
  }
}

</code></pre>

<br>
<pre class="type-10 type-9 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testPublicFieldVisibility() throws IOException {
  SpecificCompiler compiler=createCompiler();
  compiler.setFieldVisibility(SpecificCompiler.FieldVisibility.PUBLIC);
  assertFalse(compiler.deprecatedFields());
  assertTrue(compiler.publicFields());
  assertFalse(compiler.privateFields());
  compiler.compileToDestination(this.src,this.outputDir);
  assertTrue(this.outputFile.exists());
  BufferedReader reader=new BufferedReader(new FileReader(this.outputFile));
  String line=null;
  while ((line=reader.readLine()) != null) {
    line=line.trim();
    assertFalse("Line started with a deprecated field declaration: " + line,line.startsWith("@Deprecated public int value"));
  }
}

</code></pre>

<br>
<pre class="type-10 type-9 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testPublicDeprecatedFieldVisibility() throws IOException {
  SpecificCompiler compiler=createCompiler();
  assertTrue(compiler.deprecatedFields());
  assertTrue(compiler.publicFields());
  assertFalse(compiler.privateFields());
  compiler.compileToDestination(this.src,this.outputDir);
  assertTrue(this.outputFile.exists());
  BufferedReader reader=new BufferedReader(new FileReader(this.outputFile));
  String line=null;
  while ((line=reader.readLine()) != null) {
    line=line.trim();
    assertFalse("Line started with a public field declaration: " + line,line.startsWith("public int value"));
  }
}

</code></pre>

<br>
<pre class="type-10 type-9 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testPrivateFieldVisibility() throws IOException {
  SpecificCompiler compiler=createCompiler();
  compiler.setFieldVisibility(SpecificCompiler.FieldVisibility.PRIVATE);
  assertFalse(compiler.deprecatedFields());
  assertFalse(compiler.publicFields());
  assertTrue(compiler.privateFields());
  compiler.compileToDestination(this.src,this.outputDir);
  assertTrue(this.outputFile.exists());
  BufferedReader reader=new BufferedReader(new FileReader(this.outputFile));
  String line=null;
  while ((line=reader.readLine()) != null) {
    line=line.trim();
    assertFalse("Line started with a public field declaration: " + line,line.startsWith("public int value"));
    assertFalse("Line started with a deprecated field declaration: " + line,line.startsWith("@Deprecated public int value"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.compiler.specific.TestSpecificCompiler </h4><pre class="type-10 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testManglingForRecords() throws IOException {
  Collection<OutputFile> c=new SpecificCompiler(Schema.parse(SCHEMA)).compile();
  assertEquals(1,c.size());
  String contents=c.iterator().next().contents;
  assertTrue(contents.contains("public java.lang.CharSequence package$;"));
  assertTrue(contents.contains("class volatile$ extends"));
  assertTrue(contents.contains("volatile$ short$;"));
  assertCompilesWithJavaCompiler(c);
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAliases() throws IOException {
  Schema s=Schema.parse("{\"name\":\"X\",\"type\":\"record\",\"aliases\":[\"Y\"],\"fields\":[" + "{\"name\":\"f\",\"type\":\"int\",\"aliases\":[\"g\"]}]}");
  SpecificCompiler compiler=new SpecificCompiler(s);
  compiler.setStringType(StringType.valueOf("String"));
  Collection<OutputFile> outputs=compiler.compile();
  assertEquals(1,outputs.size());
  OutputFile o=outputs.iterator().next();
  assertEquals(o.path,"X.java");
  assertTrue(o.contents.contains("[\\\"Y\\\"]"));
  assertTrue(o.contents.contains("[\\\"g\\\"]"));
}

</code></pre>

<br>
<pre class="type-10 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleEnumSchema() throws IOException {
  Collection<OutputFile> outputs=new SpecificCompiler(Schema.parse(TestSchema.BASIC_ENUM_SCHEMA)).compile();
  assertEquals(1,outputs.size());
  OutputFile o=outputs.iterator().next();
  assertEquals(o.path,"Test.java");
  assertTrue(o.contents.contains("public enum Test"));
  assertCompilesWithJavaCompiler(outputs);
}

</code></pre>

<br>
<pre class="type-10 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testManglingForEnums() throws IOException {
  String enumSchema="" + "{ \"name\": \"instanceof\", \"type\": \"enum\"," + "  \"symbols\": [\"new\", \"super\", \"switch\"] }";
  Collection<OutputFile> c=new SpecificCompiler(Schema.parse(enumSchema)).compile();
  assertEquals(1,c.size());
  String contents=c.iterator().next().contents;
  assertTrue(contents.contains("new$"));
  assertCompilesWithJavaCompiler(c);
}

</code></pre>

<br>
<pre class="type-10 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNeedCompile() throws IOException, InterruptedException {
  String schema="" + "{ \"name\": \"Foo\", \"type\": \"record\", " + "  \"fields\": [ {\"name\": \"package\", \"type\": \"string\" },"+ "                {\"name\": \"short\", \"type\": \"Foo\" } ] }";
  File inputFile=AvroTestUtil.tempFile(getClass(),"input.avsc");
  FileWriter fw=new FileWriter(inputFile);
  fw.write(schema);
  fw.close();
  File outputDir=new File(System.getProperty("test.dir","target/test") + System.getProperty("file.separator") + "test_need_compile");
  File outputFile=new File(outputDir,"Foo.java");
  outputFile.delete();
  assertTrue(!outputFile.exists());
  outputDir.delete();
  assertTrue(!outputDir.exists());
  SpecificCompiler.compileSchema(inputFile,outputDir);
  assertTrue(outputDir.exists());
  assertTrue(outputFile.exists());
  long lastModified=outputFile.lastModified();
  Thread.sleep(1000);
  SpecificCompiler.compileSchema(inputFile,outputDir);
  assertEquals(lastModified,outputFile.lastModified());
  fw=new FileWriter(inputFile);
  fw.write(schema);
  fw.close();
  SpecificCompiler.compileSchema(inputFile,outputDir);
  assertTrue(lastModified != outputFile.lastModified());
}

</code></pre>

<br>
<pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testManglingForProtocols() throws IOException {
  String protocolDef=PROTOCOL;
  Collection<OutputFile> c=new SpecificCompiler(Protocol.parse(protocolDef)).compile();
  Iterator<OutputFile> i=c.iterator();
  String errType=i.next().contents;
  String protocol=i.next().contents;
  assertTrue(errType.contains("public class finally$ extends org.apache.avro.specific.SpecificExceptionBase"));
  assertTrue(errType.contains("public boolean catch$;"));
  assertTrue(protocol.contains("java.lang.CharSequence goto$(java.lang.CharSequence break$)"));
  assertTrue(protocol.contains("public interface default$"));
  assertTrue(protocol.contains("throws org.apache.avro.AvroRemoteException, finally$"));
  assertCompilesWithJavaCompiler(c);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.data.RecordBuilderBaseTest </h4><pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testIsValidValueWithPrimitives(){
  for (  Type type : primitives) {
    Field f=new Field("f",Schema.create(type),null,null);
    Assert.assertTrue(RecordBuilderBase.isValidValue(f,new Object()));
  }
  for (  Type type : nonNullPrimitives) {
    Field f=new Field("f",Schema.create(type),null,null);
    Assert.assertFalse(RecordBuilderBase.isValidValue(f,null));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.file.TestCustomCodec </h4><pre class="type-10 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCustomCodec(){
  CustomCodec customCodec=new CustomCodec();
  Codec snappyCodec=new SnappyCodec.Option().createInstance();
  assertTrue(customCodec.equals(new CustomCodec()));
  assertFalse(customCodec.equals(snappyCodec));
  String testString="Testing 123";
  ByteBuffer original=ByteBuffer.allocate(testString.getBytes().length);
  original.put(testString.getBytes());
  original.rewind();
  ByteBuffer decompressed=null;
  try {
    ByteBuffer compressed=customCodec.compress(original);
    compressed.rewind();
    decompressed=customCodec.decompress(compressed);
  }
 catch (  IOException e) {
    e.printStackTrace();
  }
  assertEquals(testString,new String(decompressed.array()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.file.TestSeekableByteArrayInput </h4><pre class="type-10 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSerialization() throws Exception {
  Schema testSchema=getTestSchema();
  GenericRecord message=new Record(testSchema);
  message.put("name","testValue");
  byte[] data=getSerializedMessage(message,testSchema);
  GenericDatumReader<IndexedRecord> reader=new GenericDatumReader<IndexedRecord>(testSchema);
  SeekableInput in=new SeekableByteArrayInput(data);
  FileReader<IndexedRecord> dfr=null;
  IndexedRecord result=null;
  try {
    dfr=DataFileReader.openReader(in,reader);
    result=dfr.next();
  }
  finally {
    if (dfr != null) {
      dfr.close();
    }
  }
  Assert.assertNotNull(result);
  Assert.assertTrue(result instanceof GenericRecord);
  Assert.assertEquals(new Utf8("testValue"),((GenericRecord)result).get("name"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.generic.TestGenericData </h4><pre class="type-10 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
"></span><br>
@Test public void testRecordGetFieldDoesntExist() throws Exception {
  List<Field> fields=new ArrayList<Field>();
  Schema schema=Schema.createRecord(fields);
  GenericData.Record record=new GenericData.Record(schema);
  assertNull(record.get("does not exist"));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testValidateUnion(){
  Schema type1Schema=SchemaBuilder.record("Type1").fields().requiredString("myString").requiredInt("myInt").endRecord();
  Schema type2Schema=SchemaBuilder.record("Type2").fields().requiredString("myString").endRecord();
  Schema unionSchema=SchemaBuilder.unionOf().type(type1Schema).and().type(type2Schema).endUnion();
  GenericRecord record=new GenericData.Record(type2Schema);
  record.put("myString","myValue");
  assertTrue(GenericData.get().validate(unionSchema,record));
}

</code></pre>

<br>
<pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testValidateNullableEnum(){
  List<Schema> unionTypes=new ArrayList<Schema>();
  Schema schema;
  Schema nullSchema=Schema.create(Type.NULL);
  Schema enumSchema=Schema.createEnum("AnEnum",null,null,Arrays.asList("X","Y","Z"));
  GenericEnumSymbol w=new GenericData.EnumSymbol(enumSchema,"W");
  GenericEnumSymbol x=new GenericData.EnumSymbol(enumSchema,"X");
  GenericEnumSymbol y=new GenericData.EnumSymbol(enumSchema,"Y");
  GenericEnumSymbol z=new GenericData.EnumSymbol(enumSchema,"Z");
  unionTypes.clear();
  unionTypes.add(nullSchema);
  unionTypes.add(enumSchema);
  schema=Schema.createUnion(unionTypes);
  assertTrue(GenericData.get().validate(schema,z));
  assertTrue(GenericData.get().validate(schema,y));
  assertTrue(GenericData.get().validate(schema,x));
  assertFalse(GenericData.get().validate(schema,w));
  assertTrue(GenericData.get().validate(schema,null));
  unionTypes.clear();
  unionTypes.add(enumSchema);
  unionTypes.add(nullSchema);
  schema=Schema.createUnion(unionTypes);
  assertTrue(GenericData.get().validate(schema,z));
  assertTrue(GenericData.get().validate(schema,y));
  assertTrue(GenericData.get().validate(schema,x));
  assertFalse(GenericData.get().validate(schema,w));
  assertTrue(GenericData.get().validate(schema,null));
}

</code></pre>

<br>
<pre class="type-10 type-13 type-2 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCompare(){
  Field integerField=new Field("test",Schema.create(Type.INT),null,null);
  List<Field> fields=new ArrayList<Field>();
  fields.add(integerField);
  Schema record=Schema.createRecord("test",null,null,false);
  record.setFields(fields);
  ByteArrayOutputStream b1=new ByteArrayOutputStream(5);
  ByteArrayOutputStream b2=new ByteArrayOutputStream(5);
  BinaryEncoder b1Enc=EncoderFactory.get().binaryEncoder(b1,null);
  BinaryEncoder b2Enc=EncoderFactory.get().binaryEncoder(b2,null);
  Record testDatum1=new Record(record);
  testDatum1.put(0,1);
  Record testDatum2=new Record(record);
  testDatum2.put(0,2);
  GenericDatumWriter<Record> gWriter=new GenericDatumWriter<Record>(record);
  Integer start1=0, start2=0;
  try {
    gWriter.write(testDatum1,b1Enc);
    b1Enc.flush();
    start1=b1.size();
    gWriter.write(testDatum1,b1Enc);
    b1Enc.flush();
    b1.close();
    gWriter.write(testDatum2,b2Enc);
    b2Enc.flush();
    start2=b2.size();
    gWriter.write(testDatum2,b2Enc);
    b2Enc.flush();
    b2.close();
    assertEquals(-1,BinaryData.compare(b1.toByteArray(),start1,b2.toByteArray(),start2,record));
  }
 catch (  IOException e) {
    fail("IOException while writing records to output stream.");
  }
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testByteBufferDeepCopy(){
  byte[] buffer_value={0,1,2,3,0,0,0};
  ByteBuffer buffer=ByteBuffer.wrap(buffer_value,1,4);
  Schema schema=Schema.createRecord("my_record","doc","mytest",false);
  Field byte_field=new Field("bytes",Schema.create(Type.BYTES),null,null);
  schema.setFields(Arrays.asList(byte_field));
  GenericRecord record=new GenericData.Record(schema);
  record.put(byte_field.name(),buffer);
  GenericRecord copy=GenericData.get().deepCopy(schema,record);
  ByteBuffer buffer_copy=(ByteBuffer)copy.get(byte_field.name());
  assertEquals(buffer,buffer_copy);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.generic.TestGenericDatumWriter </h4><pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWrite() throws IOException {
  String json="{\"type\": \"record\", \"name\": \"r\", \"fields\": [" + "{ \"name\": \"f1\", \"type\": \"long\" }" + "]}";
  Schema s=Schema.parse(json);
  GenericRecord r=new GenericData.Record(s);
  r.put("f1",100L);
  ByteArrayOutputStream bao=new ByteArrayOutputStream();
  GenericDatumWriter<GenericRecord> w=new GenericDatumWriter<GenericRecord>(s);
  Encoder e=EncoderFactory.get().jsonEncoder(s,bao);
  w.write(r,e);
  e.flush();
  Object o=new GenericDatumReader<GenericRecord>(s).read(null,DecoderFactory.get().jsonDecoder(s,new ByteArrayInputStream(bao.toByteArray())));
  assertEquals(r,o);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.generic.TestGenericLogicalTypes </h4><pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReadDecimalFixed() throws IOException {
  LogicalType decimal=LogicalTypes.decimal(9,2);
  Schema fixedSchema=Schema.createFixed("aFixed",null,null,4);
  Schema decimalSchema=decimal.addToSchema(Schema.createFixed("aFixed",null,null,4));
  BigDecimal d1=new BigDecimal("-34.34");
  BigDecimal d2=new BigDecimal("117230.00");
  List<BigDecimal> expected=Arrays.asList(d1,d2);
  Conversion<BigDecimal> conversion=new Conversions.DecimalConversion();
  GenericFixed d1fixed=conversion.toFixed(d1,fixedSchema,decimal);
  GenericFixed d2fixed=conversion.toFixed(d2,fixedSchema,decimal);
  File test=write(fixedSchema,d1fixed,d2fixed);
  Assert.assertEquals("Should convert fixed to BigDecimals",expected,read(GENERIC.createDatumReader(decimalSchema),test));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReadDecimalBytes() throws IOException {
  LogicalType decimal=LogicalTypes.decimal(9,2);
  Schema bytesSchema=Schema.create(Schema.Type.BYTES);
  Schema decimalSchema=decimal.addToSchema(Schema.create(Schema.Type.BYTES));
  BigDecimal d1=new BigDecimal("-34.34");
  BigDecimal d2=new BigDecimal("117230.00");
  List<BigDecimal> expected=Arrays.asList(d1,d2);
  Conversion<BigDecimal> conversion=new Conversions.DecimalConversion();
  ByteBuffer d1bytes=conversion.toBytes(d1,bytesSchema,decimal);
  ByteBuffer d2bytes=conversion.toBytes(d2,bytesSchema,decimal);
  File test=write(bytesSchema,d1bytes,d2bytes);
  Assert.assertEquals("Should convert bytes to BigDecimals",expected,read(GENERIC.createDatumReader(decimalSchema),test));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWriteDecimalBytes() throws IOException {
  LogicalType decimal=LogicalTypes.decimal(9,2);
  Schema bytesSchema=Schema.create(Schema.Type.BYTES);
  Schema decimalSchema=decimal.addToSchema(Schema.create(Schema.Type.BYTES));
  BigDecimal d1=new BigDecimal("-34.34");
  BigDecimal d2=new BigDecimal("117230.00");
  Conversion<BigDecimal> conversion=new Conversions.DecimalConversion();
  ByteBuffer d1bytes=conversion.toBytes(d1,bytesSchema,decimal);
  ByteBuffer d2bytes=conversion.toBytes(d2,bytesSchema,decimal);
  List<ByteBuffer> expected=Arrays.asList(d1bytes,d2bytes);
  File test=write(GENERIC,decimalSchema,d1bytes,d2bytes);
  Assert.assertEquals("Should read BigDecimals as bytes",expected,read(GenericData.get().createDatumReader(bytesSchema),test));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWriteDecimalFixed() throws IOException {
  LogicalType decimal=LogicalTypes.decimal(9,2);
  Schema fixedSchema=Schema.createFixed("aFixed",null,null,4);
  Schema decimalSchema=decimal.addToSchema(Schema.createFixed("aFixed",null,null,4));
  BigDecimal d1=new BigDecimal("-34.34");
  BigDecimal d2=new BigDecimal("117230.00");
  Conversion<BigDecimal> conversion=new Conversions.DecimalConversion();
  GenericFixed d1fixed=conversion.toFixed(d1,fixedSchema,decimal);
  GenericFixed d2fixed=conversion.toFixed(d2,fixedSchema,decimal);
  List<GenericFixed> expected=Arrays.asList(d1fixed,d2fixed);
  File test=write(GENERIC,decimalSchema,d1,d2);
  Assert.assertEquals("Should read BigDecimals as fixed",expected,read(GenericData.get().createDatumReader(fixedSchema),test));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWriteNullableUUID() throws IOException {
  Schema stringSchema=Schema.create(Schema.Type.STRING);
  stringSchema.addProp(GenericData.STRING_PROP,"String");
  Schema nullableStringSchema=Schema.createUnion(Schema.create(Schema.Type.NULL),stringSchema);
  Schema uuidSchema=Schema.create(Schema.Type.STRING);
  LogicalTypes.uuid().addToSchema(uuidSchema);
  Schema nullableUuidSchema=Schema.createUnion(Schema.create(Schema.Type.NULL),uuidSchema);
  UUID u1=UUID.randomUUID();
  UUID u2=UUID.randomUUID();
  List<String> expected=Arrays.asList(u1.toString(),u2.toString());
  File test=write(GENERIC,nullableUuidSchema,u1,u2);
  Assert.assertEquals("Should read UUIDs as Strings",expected,read(GenericData.get().createDatumReader(nullableStringSchema),test));
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReadUUID() throws IOException {
  Schema uuidSchema=Schema.create(Schema.Type.STRING);
  LogicalTypes.uuid().addToSchema(uuidSchema);
  UUID u1=UUID.randomUUID();
  UUID u2=UUID.randomUUID();
  List<UUID> expected=Arrays.asList(u1,u2);
  File test=write(Schema.create(Schema.Type.STRING),u1.toString(),u2.toString());
  Assert.assertEquals("Should convert Strings to UUIDs",expected,read(GENERIC.createDatumReader(uuidSchema),test));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWriteUUID() throws IOException {
  Schema stringSchema=Schema.create(Schema.Type.STRING);
  stringSchema.addProp(GenericData.STRING_PROP,"String");
  Schema uuidSchema=Schema.create(Schema.Type.STRING);
  LogicalTypes.uuid().addToSchema(uuidSchema);
  UUID u1=UUID.randomUUID();
  UUID u2=UUID.randomUUID();
  List<String> expected=Arrays.asList(u1.toString(),u2.toString());
  File test=write(GENERIC,uuidSchema,u1,u2);
  Assert.assertEquals("Should read UUIDs as Strings",expected,read(GenericData.get().createDatumReader(stringSchema),test));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.hadoop.file.TestSortedKeyValueFile </h4><pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNamedCodecs() throws IOException {
  Configuration conf=new Configuration();
  Path myfile=new Path(mTempDir.getRoot().getPath(),"myfile");
  Schema key=Schema.create(Schema.Type.STRING);
  Schema value=Schema.create(Schema.Type.STRING);
  Schema recordSchema=AvroKeyValue.getSchema(key,value);
  DatumReader<GenericRecord> datumReader=SpecificData.get().createDatumReader(recordSchema);
  DataFileReader<GenericRecord> reader;
  SortedKeyValueFile.Writer.Options options=new SortedKeyValueFile.Writer.Options().withKeySchema(key).withValueSchema(value).withConfiguration(conf).withPath(myfile);
  SortedKeyValueFile.Writer<CharSequence,CharSequence> writer;
  for (  String codec : new String[]{"null","deflate","snappy","bzip2"}) {
    LOG.debug("Using " + codec + "codec for a SortedKeyValueFile...");
    options.withCodec(codec);
    writer=new SortedKeyValueFile.Writer<CharSequence,CharSequence>(options);
    writer.close();
    reader=new DataFileReader<GenericRecord>(new FsInput(new Path(myfile,SortedKeyValueFile.DATA_FILENAME),conf),datumReader);
    assertEquals(codec,reader.getMetaString("avro.codec"));
    reader.close();
  }
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDeflateClassCodec() throws IOException {
  Configuration conf=new Configuration();
  Path myfile=new Path(mTempDir.getRoot().getPath(),"myfile");
  Schema key=Schema.create(Schema.Type.STRING);
  Schema value=Schema.create(Schema.Type.STRING);
  Schema recordSchema=AvroKeyValue.getSchema(key,value);
  DatumReader<GenericRecord> datumReader=SpecificData.get().createDatumReader(recordSchema);
  DataFileReader<GenericRecord> reader;
  LOG.debug("Using CodecFactory.deflateCodec() for a SortedKeyValueFile...");
  SortedKeyValueFile.Writer.Options options=new SortedKeyValueFile.Writer.Options().withKeySchema(key).withValueSchema(value).withConfiguration(conf).withPath(myfile).withCodec(CodecFactory.deflateCodec(9));
  SortedKeyValueFile.Writer<CharSequence,CharSequence> writer=new SortedKeyValueFile.Writer<CharSequence,CharSequence>(options);
  writer.close();
  reader=new DataFileReader<GenericRecord>(new FsInput(new Path(myfile,SortedKeyValueFile.DATA_FILENAME),conf),datumReader);
  assertEquals("deflate",reader.getMetaString("avro.codec"));
  reader.close();
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWriter() throws IOException {
  LOG.debug("Writing some records to a SortedKeyValueFile...");
  Configuration conf=new Configuration();
  SortedKeyValueFile.Writer.Options options=new SortedKeyValueFile.Writer.Options().withKeySchema(Schema.create(Schema.Type.STRING)).withValueSchema(Schema.create(Schema.Type.STRING)).withConfiguration(conf).withPath(new Path(mTempDir.getRoot().getPath(),"myfile")).withIndexInterval(2);
  SortedKeyValueFile.Writer<CharSequence,CharSequence> writer=new SortedKeyValueFile.Writer<CharSequence,CharSequence>(options);
  try {
    writer.append("apple","Apple");
    writer.append("banana","Banana");
    writer.append("carrot","Carrot");
    writer.append("durian","Durian");
  }
  finally {
    writer.close();
  }
  LOG.debug("Checking the generated directory...");
  File directory=new File(mTempDir.getRoot().getPath(),"myfile");
  assertTrue(directory.exists());
  LOG.debug("Checking the generated index file...");
  File indexFile=new File(directory,SortedKeyValueFile.INDEX_FILENAME);
  DatumReader<GenericRecord> indexReader=new GenericDatumReader<GenericRecord>(AvroKeyValue.getSchema(options.getKeySchema(),Schema.create(Schema.Type.LONG)));
  FileReader<GenericRecord> indexFileReader=DataFileReader.openReader(indexFile,indexReader);
  List<AvroKeyValue<CharSequence,Long>> indexRecords=new ArrayList<AvroKeyValue<CharSequence,Long>>();
  try {
    for (    GenericRecord indexRecord : indexFileReader) {
      indexRecords.add(new AvroKeyValue<CharSequence,Long>(indexRecord));
    }
  }
  finally {
    indexFileReader.close();
  }
  assertEquals(2,indexRecords.size());
  assertEquals("apple",indexRecords.get(0).getKey().toString());
  LOG.debug("apple's position in the file: " + indexRecords.get(0).getValue());
  assertEquals("carrot",indexRecords.get(1).getKey().toString());
  LOG.debug("carrot's position in the file: " + indexRecords.get(1).getValue());
  LOG.debug("Checking the generated data file...");
  File dataFile=new File(directory,SortedKeyValueFile.DATA_FILENAME);
  DatumReader<GenericRecord> dataReader=new GenericDatumReader<GenericRecord>(AvroKeyValue.getSchema(options.getKeySchema(),options.getValueSchema()));
  DataFileReader<GenericRecord> dataFileReader=new DataFileReader<GenericRecord>(dataFile,dataReader);
  try {
    dataFileReader.seek(indexRecords.get(0).getValue());
    assertTrue(dataFileReader.hasNext());
    AvroKeyValue<CharSequence,CharSequence> appleRecord=new AvroKeyValue<CharSequence,CharSequence>(dataFileReader.next());
    assertEquals("apple",appleRecord.getKey().toString());
    assertEquals("Apple",appleRecord.getValue().toString());
    dataFileReader.seek(indexRecords.get(1).getValue());
    assertTrue(dataFileReader.hasNext());
    AvroKeyValue<CharSequence,CharSequence> carrotRecord=new AvroKeyValue<CharSequence,CharSequence>(dataFileReader.next());
    assertEquals("carrot",carrotRecord.getKey().toString());
    assertEquals("Carrot",carrotRecord.getValue().toString());
    assertTrue(dataFileReader.hasNext());
    AvroKeyValue<CharSequence,CharSequence> durianRecord=new AvroKeyValue<CharSequence,CharSequence>(dataFileReader.next());
    assertEquals("durian",durianRecord.getKey().toString());
    assertEquals("Durian",durianRecord.getValue().toString());
  }
  finally {
    dataFileReader.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.hadoop.io.TestAvroSequenceFile </h4><pre class="type-10 type-2 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that reading and writing avro data works. 
 */
@Test @SuppressWarnings("unchecked") public void testReadAvro() throws IOException {
  Path sequenceFilePath=new Path(new File(mTempDir.getRoot(),"output.seq").getPath());
  writeSequenceFile(sequenceFilePath,AvroKey.class,AvroValue.class,Schema.create(Schema.Type.STRING),Schema.create(Schema.Type.INT),new AvroKey<CharSequence>("one"),new AvroValue<Integer>(1),new AvroKey<CharSequence>("two"),new AvroValue<Integer>(2));
  Configuration conf=new Configuration();
  FileSystem fs=FileSystem.get(conf);
  AvroSequenceFile.Reader.Options options=new AvroSequenceFile.Reader.Options().withFileSystem(fs).withInputPath(sequenceFilePath).withKeySchema(Schema.create(Schema.Type.STRING)).withValueSchema(Schema.create(Schema.Type.INT)).withConfiguration(conf);
  SequenceFile.Reader reader=new AvroSequenceFile.Reader(options);
  AvroKey<CharSequence> key=new AvroKey<CharSequence>();
  AvroValue<Integer> value=new AvroValue<Integer>();
  key=(AvroKey<CharSequence>)reader.next(key);
  assertNotNull(key);
  assertEquals("one",key.datum().toString());
  value=(AvroValue<Integer>)reader.getCurrentValue(value);
  assertNotNull(value);
  assertEquals(1,value.datum().intValue());
  key=(AvroKey<CharSequence>)reader.next(key);
  assertNotNull(key);
  assertEquals("two",key.datum().toString());
  value=(AvroValue<Integer>)reader.getCurrentValue(value);
  assertNotNull(value);
  assertEquals(2,value.datum().intValue());
  assertNull("Should be no more records.",reader.next(key));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that reading and writing avro records without a reader schema works. 
 */
@Test @SuppressWarnings("unchecked") public void testReadAvroWithoutReaderSchemas() throws IOException {
  Path sequenceFilePath=new Path(new File(mTempDir.getRoot(),"output.seq").getPath());
  writeSequenceFile(sequenceFilePath,AvroKey.class,AvroValue.class,Schema.create(Schema.Type.STRING),Schema.create(Schema.Type.INT),new AvroKey<CharSequence>("one"),new AvroValue<Integer>(1),new AvroKey<CharSequence>("two"),new AvroValue<Integer>(2));
  Configuration conf=new Configuration();
  FileSystem fs=FileSystem.get(conf);
  AvroSequenceFile.Reader.Options options=new AvroSequenceFile.Reader.Options().withFileSystem(fs).withInputPath(sequenceFilePath).withConfiguration(conf);
  SequenceFile.Reader reader=new AvroSequenceFile.Reader(options);
  AvroKey<CharSequence> key=new AvroKey<CharSequence>();
  AvroValue<Integer> value=new AvroValue<Integer>();
  key=(AvroKey<CharSequence>)reader.next(key);
  assertNotNull(key);
  assertEquals("one",key.datum().toString());
  value=(AvroValue<Integer>)reader.getCurrentValue(value);
  assertNotNull(value);
  assertEquals(1,value.datum().intValue());
  key=(AvroKey<CharSequence>)reader.next(key);
  assertNotNull(key);
  assertEquals("two",key.datum().toString());
  value=(AvroValue<Integer>)reader.getCurrentValue(value);
  assertNotNull(value);
  assertEquals(2,value.datum().intValue());
  assertNull("Should be no more records.",reader.next(key));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that reading and writing ordinary Writables still works. 
 */
@Test public void testReadWritables() throws IOException {
  Path sequenceFilePath=new Path(new File(mTempDir.getRoot(),"output.seq").getPath());
  writeSequenceFile(sequenceFilePath,Text.class,IntWritable.class,null,null,new Text("one"),new IntWritable(1),new Text("two"),new IntWritable(2));
  Configuration conf=new Configuration();
  FileSystem fs=FileSystem.get(conf);
  AvroSequenceFile.Reader.Options options=new AvroSequenceFile.Reader.Options().withFileSystem(fs).withInputPath(sequenceFilePath).withConfiguration(conf);
  SequenceFile.Reader reader=new AvroSequenceFile.Reader(options);
  Text key=new Text();
  IntWritable value=new IntWritable();
  assertTrue(reader.next(key));
  assertEquals("one",key.toString());
  reader.getCurrentValue(value);
  assertNotNull(value);
  assertEquals(1,value.get());
  assertTrue(reader.next(key));
  assertEquals("two",key.toString());
  reader.getCurrentValue(value);
  assertNotNull(value);
  assertEquals(2,value.get());
  assertFalse("Should be no more records.",reader.next(key));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.hadoop.io.TestAvroSerializer </h4><pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSerialize() throws IOException {
  Schema writerSchema=Schema.create(Schema.Type.STRING);
  AvroSerializer<CharSequence> serializer=new AvroSerializer<CharSequence>(writerSchema);
  assertEquals(writerSchema,serializer.getWriterSchema());
  ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  serializer.open(outputStream);
  serializer.serialize(new AvroKey<CharSequence>("record1"));
  serializer.serialize(new AvroKey<CharSequence>("record2"));
  serializer.close();
  ByteArrayInputStream inputStream=new ByteArrayInputStream(outputStream.toByteArray());
  Schema readerSchema=Schema.create(Schema.Type.STRING);
  DatumReader<CharSequence> datumReader=new GenericDatumReader<CharSequence>(readerSchema);
  Decoder decoder=DecoderFactory.get().binaryDecoder(inputStream,null);
  CharSequence record=null;
  record=datumReader.read(record,decoder);
  assertEquals("record1",record.toString());
  record=datumReader.read(record,decoder);
  assertEquals("record2",record.toString());
  inputStream.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.io.TestBinaryDecoder </h4><pre class="type-10 type-12 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSkipping() throws IOException {
  Decoder d=newDecoder(data);
  skipGenerated(d);
  if (d instanceof BinaryDecoder) {
    BinaryDecoder bd=(BinaryDecoder)d;
    try {
      Assert.assertTrue(bd.isEnd());
    }
 catch (    UnsupportedOperationException e) {
      if (bd.getClass() != DirectBinaryDecoder.class) {
        throw e;
      }
    }
    bd=factory.binaryDecoder(new ByteArrayInputStream(data),bd);
    skipGenerated(bd);
    try {
      Assert.assertTrue(bd.isEnd());
    }
 catch (    UnsupportedOperationException e) {
      if (bd.getClass() != DirectBinaryDecoder.class) {
        throw e;
      }
    }
  }
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
@Test public void testDecodeFromSources() throws IOException {
  GenericDatumReader reader=new GenericDatumReader();
  reader.setSchema(schema);
  ByteArrayInputStream is=new ByteArrayInputStream(data);
  ByteArrayInputStream is2=new ByteArrayInputStream(data);
  ByteArrayInputStream is3=new ByteArrayInputStream(data);
  Decoder fromInputStream=newDecoder(is);
  Decoder fromArray=newDecoder(data);
  byte[] data2=new byte[data.length + 30];
  Arrays.fill(data2,(byte)0xff);
  System.arraycopy(data,0,data2,15,data.length);
  Decoder fromOffsetArray=newDecoder(data2,15,data.length);
  BinaryDecoder initOnInputStream=factory.binaryDecoder(new byte[50],0,30,null);
  initOnInputStream=factory.binaryDecoder(is2,initOnInputStream);
  BinaryDecoder initOnArray=factory.binaryDecoder(is3,null);
  initOnArray=factory.binaryDecoder(data,0,data.length,initOnArray);
  for (  Object datum : records) {
    Assert.assertEquals("InputStream based BinaryDecoder result does not match",datum,reader.read(null,fromInputStream));
    Assert.assertEquals("Array based BinaryDecoder result does not match",datum,reader.read(null,fromArray));
    Assert.assertEquals("offset Array based BinaryDecoder result does not match",datum,reader.read(null,fromOffsetArray));
    Assert.assertEquals("InputStream initialized BinaryDecoder result does not match",datum,reader.read(null,initOnInputStream));
    Assert.assertEquals("Array initialized BinaryDecoder result does not match",datum,reader.read(null,initOnArray));
  }
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBadLongEncoding() throws IOException {
  byte[] badint=new byte[10];
  Arrays.fill(badint,(byte)0xff);
  Decoder bd=factory.binaryDecoder(badint,null);
  String message="";
  try {
    bd.readLong();
  }
 catch (  IOException ioe) {
    message=ioe.getMessage();
  }
  Assert.assertEquals("Invalid long encoding",message);
}

</code></pre>

<br>
<pre class="type-10 type-3 type-14 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=EOFException.class) public void testEOF() throws IOException {
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  Encoder e=EncoderFactory.get().binaryEncoder(baos,null);
  e.writeLong(0x10000000000000l);
  e.flush();
  Decoder d=newDecoder(new ByteArrayInputStream(baos.toByteArray()));
  Assert.assertEquals(0x10000000000000l,d.readLong());
  d.readInt();
}

</code></pre>

<br>
<pre class="type-10 type-12 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testInputStreamProxyDetached() throws IOException {
  Decoder d=newDecoder(data);
  if (d instanceof BinaryDecoder) {
    BinaryDecoder bd=(BinaryDecoder)d;
    InputStream test=bd.inputStream();
    InputStream check=new ByteArrayInputStream(data);
    factory.binaryDecoder(new byte[56],null);
    InputStream bad=bd.inputStream();
    InputStream check2=new ByteArrayInputStream(data);
    validateInputStreamReads(test,check);
    Assert.assertFalse(bad.read() == check2.read());
  }
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBadIntEncoding() throws IOException {
  byte[] badint=new byte[5];
  Arrays.fill(badint,(byte)0xff);
  Decoder bd=factory.binaryDecoder(badint,null);
  String message="";
  try {
    bd.readInt();
  }
 catch (  IOException ioe) {
    message=ioe.getMessage();
  }
  Assert.assertEquals("Invalid int encoding",message);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.io.TestBinaryEncoderFidelity </h4><pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDirectBinaryEncoder() throws IOException {
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  BinaryEncoder e=factory.directBinaryEncoder(baos,null);
  generateData(e,true);
  byte[] result=baos.toByteArray();
  Assert.assertEquals(legacydata.length,result.length);
  Assert.assertArrayEquals(legacydata,result);
  baos.reset();
  generateComplexData(e);
  byte[] result2=baos.toByteArray();
  Assert.assertEquals(complexdata.length,result2.length);
  Assert.assertArrayEquals(complexdata,result2);
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBinaryEncoder() throws IOException {
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  BinaryEncoder e=factory.binaryEncoder(baos,null);
  generateData(e,true);
  byte[] result=baos.toByteArray();
  Assert.assertEquals(legacydata.length,result.length);
  Assert.assertArrayEquals(legacydata,result);
  baos.reset();
  generateComplexData(e);
  byte[] result2=baos.toByteArray();
  Assert.assertEquals(complexdata.length,result2.length);
  Assert.assertArrayEquals(complexdata,result2);
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBlockingBinaryEncoder() throws IOException {
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  BinaryEncoder e=factory.blockingBinaryEncoder(baos,null);
  generateData(e,true);
  byte[] result=baos.toByteArray();
  Assert.assertEquals(legacydata.length,result.length);
  Assert.assertArrayEquals(legacydata,result);
  baos.reset();
  generateComplexData(e);
  byte[] result2=baos.toByteArray();
  Assert.assertEquals(complexdata.length + 2,result2.length);
  Assert.assertEquals(complexdata[0] >>> 1,result2[0]);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.io.TestEncoders </h4><pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testJsonRecordOrdering2() throws IOException {
  String value="{\"b\": { \"b3\": 1.4, \"b2\": 3.14, \"b1\": \"h\"}, \"a\": {\"a2\":true, \"a1\": null}}";
  Schema schema=new Schema.Parser().parse("{\"type\": \"record\", \"name\": \"ab\", \"fields\": [\n" + "{\"name\": \"a\", \"type\": {\"type\":\"record\",\"name\":\"A\",\"fields\":\n" + "[{\"name\":\"a1\", \"type\":\"null\"}, {\"name\":\"a2\", \"type\":\"boolean\"}]}},\n"+ "{\"name\": \"b\", \"type\": {\"type\":\"record\",\"name\":\"B\",\"fields\":\n"+ "[{\"name\":\"b1\", \"type\":\"string\"}, {\"name\":\"b2\", \"type\":\"float\"}, {\"name\":\"b3\", \"type\":\"double\"}]}}\n"+ "]}");
  GenericDatumReader reader=new GenericDatumReader(schema);
  Decoder decoder=DecoderFactory.get().jsonDecoder(schema,value);
  Object o=reader.read(null,decoder);
  Assert.assertEquals("{\"a\": {\"a1\": null, \"a2\": true}, \"b\": {\"b1\": \"h\", \"b2\": 3.14, \"b3\": 1.4}}",o.toString());
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testJsonRecordOrderingWithProjection2() throws IOException {
  String value="{\"b\": { \"b1\": \"h\", \"b2\": [3.14, 3.56], \"b3\": 1.4}, \"a\": {\"a2\":true, \"a1\": null}}";
  Schema writerSchema=new Schema.Parser().parse("{\"type\": \"record\", \"name\": \"ab\", \"fields\": [\n" + "{\"name\": \"a\", \"type\": {\"type\":\"record\",\"name\":\"A\",\"fields\":\n" + "[{\"name\":\"a1\", \"type\":\"null\"}, {\"name\":\"a2\", \"type\":\"boolean\"}]}},\n"+ "{\"name\": \"b\", \"type\": {\"type\":\"record\",\"name\":\"B\",\"fields\":\n"+ "[{\"name\":\"b1\", \"type\":\"string\"}, {\"name\":\"b2\", \"type\":{\"type\":\"array\", \"items\":\"float\"}}, {\"name\":\"b3\", \"type\":\"double\"}]}}\n"+ "]}");
  Schema readerSchema=new Schema.Parser().parse("{\"type\": \"record\", \"name\": \"ab\", \"fields\": [\n" + "{\"name\": \"a\", \"type\": {\"type\":\"record\",\"name\":\"A\",\"fields\":\n" + "[{\"name\":\"a1\", \"type\":\"null\"}, {\"name\":\"a2\", \"type\":\"boolean\"}]}}\n"+ "]}");
  GenericDatumReader reader=new GenericDatumReader(writerSchema,readerSchema);
  Decoder decoder=DecoderFactory.get().jsonDecoder(writerSchema,value);
  Object o=reader.read(null,decoder);
  Assert.assertEquals("{\"a\": {\"a1\": null, \"a2\": true}}",o.toString());
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testJsonRecordOrderingWithProjection() throws IOException {
  String value="{\"b\": { \"b3\": 1.4, \"b2\": 3.14, \"b1\": \"h\"}, \"a\": {\"a2\":true, \"a1\": null}}";
  Schema writerSchema=new Schema.Parser().parse("{\"type\": \"record\", \"name\": \"ab\", \"fields\": [\n" + "{\"name\": \"a\", \"type\": {\"type\":\"record\",\"name\":\"A\",\"fields\":\n" + "[{\"name\":\"a1\", \"type\":\"null\"}, {\"name\":\"a2\", \"type\":\"boolean\"}]}},\n"+ "{\"name\": \"b\", \"type\": {\"type\":\"record\",\"name\":\"B\",\"fields\":\n"+ "[{\"name\":\"b1\", \"type\":\"string\"}, {\"name\":\"b2\", \"type\":\"float\"}, {\"name\":\"b3\", \"type\":\"double\"}]}}\n"+ "]}");
  Schema readerSchema=new Schema.Parser().parse("{\"type\": \"record\", \"name\": \"ab\", \"fields\": [\n" + "{\"name\": \"a\", \"type\": {\"type\":\"record\",\"name\":\"A\",\"fields\":\n" + "[{\"name\":\"a1\", \"type\":\"null\"}, {\"name\":\"a2\", \"type\":\"boolean\"}]}}\n"+ "]}");
  GenericDatumReader reader=new GenericDatumReader(writerSchema,readerSchema);
  Decoder decoder=DecoderFactory.get().jsonDecoder(writerSchema,value);
  Object o=reader.read(null,decoder);
  Assert.assertEquals("{\"a\": {\"a1\": null, \"a2\": true}}",o.toString());
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testJsonRecordOrdering() throws IOException {
  String value="{\"b\": 2, \"a\": 1}";
  Schema schema=new Schema.Parser().parse("{\"type\": \"record\", \"name\": \"ab\", \"fields\": [" + "{\"name\": \"a\", \"type\": \"int\"}, {\"name\": \"b\", \"type\": \"int\"}" + "]}");
  GenericDatumReader reader=new GenericDatumReader(schema);
  Decoder decoder=DecoderFactory.get().jsonDecoder(schema,value);
  Object o=reader.read(null,decoder);
  Assert.assertEquals("{\"a\": 1, \"b\": 2}",o.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.io.parsing.TestResolvingGrammarGenerator2 </h4><pre class="type-10 type-2 type-4 type-3 type-17 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnionResolutionFirstStructureMatch3d() throws Exception {
  Schema read=Schema.createUnion(Arrays.asList(Schema.create(Schema.Type.NULL),point3dNoDefault,point3d,point2d));
  Symbol grammar=new ResolvingGrammarGenerator().generate(point2dFullname,read);
  Assert.assertTrue(grammar.production[1] instanceof Symbol.UnionAdjustAction);
  Symbol.UnionAdjustAction action=(Symbol.UnionAdjustAction)grammar.production[1];
  Assert.assertEquals(2,action.rindex);
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-17 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnionResolutionNamedStructureMatch() throws Exception {
  Schema read=Schema.createUnion(Arrays.asList(Schema.create(Schema.Type.NULL),point2d,point3dMatchName,point3d));
  Symbol grammar=new ResolvingGrammarGenerator().generate(point2dFullname,read);
  Assert.assertTrue(grammar.production[1] instanceof Symbol.UnionAdjustAction);
  Symbol.UnionAdjustAction action=(Symbol.UnionAdjustAction)grammar.production[1];
  Assert.assertEquals(2,action.rindex);
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-17 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnionResolutionFullNameMatch() throws Exception {
  Schema read=Schema.createUnion(Arrays.asList(Schema.create(Schema.Type.NULL),point2d,point3dMatchName,point3d,point2dFullname));
  Symbol grammar=new ResolvingGrammarGenerator().generate(point2dFullname,read);
  Assert.assertTrue(grammar.production[1] instanceof Symbol.UnionAdjustAction);
  Symbol.UnionAdjustAction action=(Symbol.UnionAdjustAction)grammar.production[1];
  Assert.assertEquals(4,action.rindex);
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-17 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnionResolutionFirstStructureMatch2d() throws Exception {
  Schema read=Schema.createUnion(Arrays.asList(Schema.create(Schema.Type.NULL),point3dNoDefault,point2d,point3d));
  Symbol grammar=new ResolvingGrammarGenerator().generate(point2dFullname,read);
  Assert.assertTrue(grammar.production[1] instanceof Symbol.UnionAdjustAction);
  Symbol.UnionAdjustAction action=(Symbol.UnionAdjustAction)grammar.production[1];
  Assert.assertEquals(2,action.rindex);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.ipc.TestNettyServer </h4><pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testBadRequest() throws IOException {
  int port=server.getPort();
  String msg="GET /status HTTP/1.1\n\n";
  InetSocketAddress sockAddr=new InetSocketAddress("127.0.0.1",port);
  Socket sock=new Socket();
  sock.connect(sockAddr);
  OutputStream out=sock.getOutputStream();
  out.write(msg.getBytes(Charset.forName("UTF-8")));
  out.flush();
  byte[] buf=new byte[2048];
  int bytesRead=sock.getInputStream().read(buf);
  Assert.assertTrue("Connection should have been closed",bytesRead == -1);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.ipc.TestNettyServerConcurrentExecution </h4><pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=30000) public void test() throws Exception {
  final CountDownLatch waitLatch=new CountDownLatch(1);
  server=new NettyServer(new SpecificResponder(Simple.class,new SimpleImpl(waitLatch)),new InetSocketAddress(0),new NioServerSocketChannelFactory(Executors.newCachedThreadPool(),Executors.newCachedThreadPool()),new ExecutionHandler(Executors.newCachedThreadPool()));
  server.start();
  transceiver=new NettyTransceiver(new InetSocketAddress(server.getPort()),TestNettyServer.CONNECT_TIMEOUT_MILLIS);
  final Simple.Callback simpleClient=SpecificRequestor.getClient(Simple.Callback.class,transceiver);
  SpecificRequestor.getRemote(simpleClient);
  new Thread(){
    @Override public void run(){
      setName(TestNettyServerConcurrentExecution.class.getSimpleName() + "Ack Thread");
      try {
        waitLatch.await();
        simpleClient.ack();
      }
 catch (      InterruptedException e) {
        e.printStackTrace();
      }
    }
  }
.start();
  String response=simpleClient.hello("wait");
  Assert.assertEquals("wait",response);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.ipc.TestNettyServerWithCallbacks </h4><pre class="type-10 type-9 type-4 type-3 type-18 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Ignore @Test public void performanceTest() throws Exception {
  final int threadCount=8;
  final long runTimeMillis=10 * 1000L;
  ExecutorService threadPool=Executors.newFixedThreadPool(threadCount);
  System.out.println("Running performance test for " + runTimeMillis + "ms...");
  final AtomicLong rpcCount=new AtomicLong(0L);
  final AtomicBoolean runFlag=new AtomicBoolean(true);
  final CountDownLatch startLatch=new CountDownLatch(threadCount);
  for (int ii=0; ii < threadCount; ii++) {
    threadPool.submit(new Runnable(){
      @Override public void run(){
        try {
          startLatch.countDown();
          startLatch.await(2,TimeUnit.SECONDS);
          while (runFlag.get()) {
            rpcCount.incrementAndGet();
            Assert.assertEquals("Hello, World!",simpleClient.hello("World!"));
          }
        }
 catch (        Exception e) {
          e.printStackTrace();
        }
      }
    }
);
  }
  startLatch.await(2,TimeUnit.SECONDS);
  Thread.sleep(runTimeMillis);
  runFlag.set(false);
  threadPool.shutdown();
  Assert.assertTrue("Timed out shutting down thread pool",threadPool.awaitTermination(2,TimeUnit.SECONDS));
  System.out.println("Completed " + rpcCount.get() + " RPCs in "+ runTimeMillis+ "ms => "+ (((double)rpcCount.get() / (double)runTimeMillis) * 1000)+ " RPCs/sec, "+ ((double)runTimeMillis / (double)rpcCount.get())+ " ms/RPC.");
}

</code></pre>

<br>
<pre class="type-10 type-13 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void cancelPendingRequestsOnTransceiverClose() throws Exception {
  BlockingSimpleImpl blockingSimpleImpl=new BlockingSimpleImpl();
  Server server2=new NettyServer(new SpecificResponder(Simple.class,blockingSimpleImpl),new InetSocketAddress(0));
  server2.start();
  try {
    int serverPort=server2.getPort();
    System.out.println("server2 port : " + serverPort);
    CallFuture<Integer> addFuture=new CallFuture<Integer>();
    Transceiver transceiver2=new NettyTransceiver(new InetSocketAddress(serverPort),TestNettyServer.CONNECT_TIMEOUT_MILLIS);
    try {
      Simple.Callback simpleClient2=SpecificRequestor.getClient(Simple.Callback.class,transceiver2);
      Assert.assertEquals(3,simpleClient2.add(1,2));
      blockingSimpleImpl.acquireRunPermit();
      simpleClient2.add(1,2,addFuture);
    }
  finally {
      transceiver2.close();
    }
    boolean ioeThrown=false;
    try {
      addFuture.get();
    }
 catch (    ExecutionException e) {
      ioeThrown=e.getCause() instanceof IOException;
      Assert.assertTrue(e.getCause() instanceof IOException);
    }
catch (    Exception e) {
      e.printStackTrace();
      Assert.fail("Unexpected Exception: " + e.toString());
    }
    Assert.assertTrue("Expected IOException to be thrown",ioeThrown);
  }
  finally {
    blockingSimpleImpl.releaseRunPermit();
    server2.close();
  }
}

</code></pre>

<br>
<pre class="type-10 type-13 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSendAfterChannelClose() throws Exception {
  Server server2=new NettyServer(new SpecificResponder(Simple.class,simpleService),new InetSocketAddress(0));
  server2.start();
  try {
    int serverPort=server2.getPort();
    System.out.println("server2 port : " + serverPort);
    Transceiver transceiver2=new NettyTransceiver(new InetSocketAddress(serverPort),TestNettyServer.CONNECT_TIMEOUT_MILLIS);
    try {
      Simple.Callback simpleClient2=SpecificRequestor.getClient(Simple.Callback.class,transceiver2);
      Assert.assertEquals(3,simpleClient2.add(1,2));
      CallFuture<Integer> addFuture=new CallFuture<Integer>();
      simpleClient2.add(1,2,addFuture);
      Assert.assertEquals(new Integer(3),addFuture.get());
      server2.close();
      Thread.sleep(1000L);
      boolean ioeCaught=false;
      try {
        simpleClient2.add(1,2);
        Assert.fail("Send after server close should have thrown Exception");
      }
 catch (      AvroRemoteException e) {
        ioeCaught=e.getCause() instanceof IOException;
        Assert.assertTrue("Expected IOException",ioeCaught);
      }
catch (      Exception e) {
        e.printStackTrace();
        throw e;
      }
      Assert.assertTrue("Expected IOException",ioeCaught);
      ioeCaught=false;
      try {
        addFuture=new CallFuture<Integer>();
        simpleClient2.add(1,2,addFuture);
        addFuture.get();
        Assert.fail("Send after server close should have thrown Exception");
      }
 catch (      IOException e) {
        ioeCaught=true;
      }
catch (      Exception e) {
        e.printStackTrace();
        throw e;
      }
      Assert.assertTrue("Expected IOException",ioeCaught);
    }
  finally {
      transceiver2.close();
    }
  }
  finally {
    server2.close();
  }
}

</code></pre>

<br>
<pre class="type-10 type-13 type-2 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void cancelPendingRequestsAfterChannelCloseByServerShutdown() throws Exception {
  BlockingSimpleImpl blockingSimpleImpl=new BlockingSimpleImpl();
  Server server2=new NettyServer(new SpecificResponder(Simple.class,blockingSimpleImpl),new InetSocketAddress(0));
  server2.start();
  Transceiver transceiver2=null;
  try {
    int serverPort=server2.getPort();
    System.out.println("server2 port : " + serverPort);
    transceiver2=new NettyTransceiver(new InetSocketAddress(serverPort),TestNettyServer.CONNECT_TIMEOUT_MILLIS);
    final Simple.Callback simpleClient2=SpecificRequestor.getClient(Simple.Callback.class,transceiver2);
    blockingSimpleImpl.acquireEnterPermit();
    blockingSimpleImpl.acquireRunPermit();
    Thread t=new Thread(new Runnable(){
      @Override public void run(){
        try {
          simpleClient2.add(3,4);
          Assert.fail("Expected an exception");
        }
 catch (        Exception e) {
        }
      }
    }
);
    t.start();
    blockingSimpleImpl.acquireEnterPermit();
    server2.close();
    t.join(10000);
    Assert.assertFalse("Client request should not be blocked on server shutdown",t.isAlive());
  }
  finally {
    blockingSimpleImpl.releaseRunPermit();
    server2.close();
    if (transceiver2 != null)     transceiver2.close();
  }
}

</code></pre>

<br>
<pre class="type-10 type-13 type-2 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void clientReconnectAfterServerRestart() throws Exception {
  SimpleImpl simpleImpl=new BlockingSimpleImpl();
  Server server2=new NettyServer(new SpecificResponder(Simple.class,simpleImpl),new InetSocketAddress(0));
  try {
    server2.start();
    int serverPort=server2.getPort();
    System.out.println("server2 port : " + serverPort);
    Transceiver transceiver2=new NettyTransceiver(new InetSocketAddress(serverPort),TestNettyServer.CONNECT_TIMEOUT_MILLIS);
    Simple.Callback simpleClient2=SpecificRequestor.getClient(Simple.Callback.class,transceiver2);
    Assert.assertEquals(3,simpleClient2.add(1,2));
    server2.close();
    try {
      simpleClient2.add(2,-1);
      Assert.fail("Client should not be able to invoke RPCs " + "because server is no longer running");
    }
 catch (    Exception e) {
    }
    Thread.sleep(2000L);
    server2=new NettyServer(new SpecificResponder(Simple.class,simpleImpl),new InetSocketAddress(serverPort));
    server2.start();
    Assert.assertEquals(3,simpleClient2.add(1,2));
  }
  finally {
    server2.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.ipc.TestSaslDigestMd5 </h4><pre class="type-10 type-2 type-3 type-14 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=SaslException.class) public void testWrongPassword() throws Exception {
  Server s=new SaslSocketServer(new TestResponder(),new InetSocketAddress(0),DIGEST_MD5_MECHANISM,SERVICE,HOST,DIGEST_MD5_PROPS,new TestSaslCallbackHandler());
  s.start();
  SaslClient saslClient=Sasl.createSaslClient(new String[]{DIGEST_MD5_MECHANISM},PRINCIPAL,SERVICE,HOST,DIGEST_MD5_PROPS,new WrongPasswordCallbackHandler());
  Transceiver c=new SaslSocketTransceiver(new InetSocketAddress(server.getPort()),saslClient);
  GenericRequestor requestor=new GenericRequestor(PROTOCOL,c);
  GenericRecord params=new GenericData.Record(PROTOCOL.getMessages().get("hello").getRequest());
  params.put("greeting","bob");
  Utf8 response=(Utf8)requestor.request("hello",params);
  assertEquals(new Utf8("goodbye"),response);
  s.close();
  c.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.ipc.stats.TestStatsPluginAndServlet </h4><pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testFullServerPath() throws IOException {
  Responder r=new TestResponder(protocol);
  StatsPlugin statsPlugin=new StatsPlugin();
  r.addRPCPlugin(statsPlugin);
  Transceiver t=new LocalTransceiver(r);
  for (int i=0; i < 10; ++i) {
    makeRequest(t);
  }
  String o=generateServletResponse(statsPlugin);
  assertTrue(o.contains("10 calls"));
}

</code></pre>

<br>
<pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testPayloadSize() throws IOException {
  Responder r=new TestResponder(protocol);
  StatsPlugin statsPlugin=new StatsPlugin();
  r.addRPCPlugin(statsPlugin);
  Transceiver t=new LocalTransceiver(r);
  makeRequest(t);
  String resp=generateServletResponse(statsPlugin);
  assertTrue(resp.contains("Average: 2.0"));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testMultipleRPCs() throws IOException {
  FakeTicks t=new FakeTicks();
  StatsPlugin statsPlugin=new StatsPlugin(t,StatsPlugin.LATENCY_SEGMENTER,StatsPlugin.PAYLOAD_SEGMENTER);
  RPCContext context1=makeContext();
  RPCContext context2=makeContext();
  statsPlugin.serverReceiveRequest(context1);
  t.passTime(100 * MS);
  statsPlugin.serverReceiveRequest(context2);
  String r=generateServletResponse(statsPlugin);
  assertTrue(r.contains("m: 0ms"));
  assertTrue(r.contains("m: 100ms"));
  statsPlugin.serverSendResponse(context1);
  t.passTime(900 * MS);
  statsPlugin.serverSendResponse(context2);
  r=generateServletResponse(statsPlugin);
  assertTrue(r.contains("Average: 500.0ms"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.mapred.TestAvroOutputFormat </h4><pre class="type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSnappyCodecUsingHadoopClass() throws UnsupportedEncodingException {
  CodecFactory avroSnappyCodec=CodecFactory.fromString("snappy");
  JobConf job=new JobConf();
  job.set("mapred.output.compress","true");
  job.set("mapred.output.compression.codec","org.apache.hadoop.io.compress.SnappyCodec");
  CodecFactory factory=AvroOutputFormat.getCodecFactory(job);
  assertTrue(factory != null);
  assertTrue(factory.getClass().equals(avroSnappyCodec.getClass()));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDeflateCodecUsingHadoopClass() throws UnsupportedEncodingException {
  CodecFactory avroDeflateCodec=CodecFactory.fromString("deflate");
  JobConf job=new JobConf();
  job.set("mapred.output.compress","true");
  job.set("mapred.output.compression.codec","org.apache.hadoop.io.compress.DeflateCodec");
  CodecFactory factory=AvroOutputFormat.getCodecFactory(job);
  assertTrue(factory != null);
  assertTrue(factory.getClass().equals(avroDeflateCodec.getClass()));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSnappyCodecUsingAvroCodec() throws UnsupportedEncodingException {
  CodecFactory avroSnappyCodec=CodecFactory.fromString("snappy");
  JobConf job=new JobConf();
  job.set("mapred.output.compress","true");
  job.set(AvroJob.OUTPUT_CODEC,"snappy");
  CodecFactory factory=AvroOutputFormat.getCodecFactory(job);
  assertTrue(factory != null);
  assertTrue(factory.getClass().equals(avroSnappyCodec.getClass()));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGZipCodecUsingHadoopClass() throws UnsupportedEncodingException {
  CodecFactory avroDeflateCodec=CodecFactory.fromString("deflate");
  JobConf job=new JobConf();
  job.set("mapred.output.compress","true");
  job.set("mapred.output.compression.codec","org.apache.hadoop.io.compress.GZipCodec");
  CodecFactory factory=AvroOutputFormat.getCodecFactory(job);
  assertTrue(factory != null);
  assertTrue(factory.getClass().equals(avroDeflateCodec.getClass()));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testBZip2CodecUsingAvroCodec() throws UnsupportedEncodingException {
  CodecFactory avroBZip2Codec=CodecFactory.fromString("bzip2");
  JobConf job=new JobConf();
  job.set("mapred.output.compress","true");
  job.set(AvroJob.OUTPUT_CODEC,"bzip2");
  CodecFactory factory=AvroOutputFormat.getCodecFactory(job);
  assertTrue(factory != null);
  assertTrue(factory.getClass().equals(avroBZip2Codec.getClass()));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDeflateCodecUsingAvroCodec() throws UnsupportedEncodingException {
  CodecFactory avroDeflateCodec=CodecFactory.fromString("deflate");
  JobConf job=new JobConf();
  job.set("mapred.output.compress","true");
  job.set(AvroJob.OUTPUT_CODEC,"deflate");
  CodecFactory factory=AvroOutputFormat.getCodecFactory(job);
  assertTrue(factory != null);
  assertTrue(factory.getClass().equals(avroDeflateCodec.getClass()));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testBZip2CodecUsingHadoopClass() throws UnsupportedEncodingException {
  CodecFactory avroBZip2Codec=CodecFactory.fromString("bzip2");
  JobConf job=new JobConf();
  job.set("mapred.output.compress","true");
  job.set("mapred.output.compression.codec","org.apache.hadoop.io.compress.BZip2Codec");
  CodecFactory factory=AvroOutputFormat.getCodecFactory(job);
  assertTrue(factory != null);
  assertTrue(factory.getClass().equals(avroBZip2Codec.getClass()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.mapreduce.TestAvroKeyRecordWriter </h4><pre class="type-10 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWrite() throws IOException {
  Schema writerSchema=Schema.create(Schema.Type.INT);
  GenericData dataModel=new ReflectData();
  CodecFactory compressionCodec=CodecFactory.nullCodec();
  ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  TaskAttemptContext context=createMock(TaskAttemptContext.class);
  replay(context);
  AvroKeyRecordWriter<Integer> recordWriter=new AvroKeyRecordWriter<Integer>(writerSchema,dataModel,compressionCodec,outputStream);
  recordWriter.write(new AvroKey<Integer>(1),NullWritable.get());
  recordWriter.write(new AvroKey<Integer>(2),NullWritable.get());
  recordWriter.close(context);
  verify(context);
  InputStream inputStream=new ByteArrayInputStream(outputStream.toByteArray());
  Schema readerSchema=Schema.create(Schema.Type.INT);
  DatumReader<Integer> datumReader=new SpecificDatumReader<Integer>(readerSchema);
  DataFileStream<Integer> dataFileReader=new DataFileStream<Integer>(inputStream,datumReader);
  assertTrue(dataFileReader.hasNext());
  assertEquals(1,dataFileReader.next().intValue());
  assertTrue(dataFileReader.hasNext());
  assertEquals(2,dataFileReader.next().intValue());
  assertFalse(dataFileReader.hasNext());
  dataFileReader.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.mapreduce.TestAvroKeyValueRecordReader </h4><pre class="type-10 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verifies that avro records can be read and progress is reported correctly.
 */
@Test public void testReadRecords() throws IOException, InterruptedException {
  Schema keyValueSchema=AvroKeyValue.getSchema(Schema.create(Schema.Type.STRING),Schema.create(Schema.Type.INT));
  AvroKeyValue<CharSequence,Integer> firstInputRecord=new AvroKeyValue<CharSequence,Integer>(new GenericData.Record(keyValueSchema));
  firstInputRecord.setKey("first");
  firstInputRecord.setValue(1);
  AvroKeyValue<CharSequence,Integer> secondInputRecord=new AvroKeyValue<CharSequence,Integer>(new GenericData.Record(keyValueSchema));
  secondInputRecord.setKey("second");
  secondInputRecord.setValue(2);
  final SeekableInput avroFileInput=new SeekableFileInput(AvroFiles.createFile(new File(mTempDir.getRoot(),"myInputFile.avro"),keyValueSchema,firstInputRecord.get(),secondInputRecord.get()));
  RecordReader<AvroKey<CharSequence>,AvroValue<Integer>> recordReader=new AvroKeyValueRecordReader<CharSequence,Integer>(Schema.create(Schema.Type.STRING),Schema.create(Schema.Type.INT)){
    @Override protected SeekableInput createSeekableInput(    Configuration conf,    Path path) throws IOException {
      return avroFileInput;
    }
  }
;
  Configuration conf=new Configuration();
  FileSplit inputSplit=createMock(FileSplit.class);
  expect(inputSplit.getPath()).andReturn(new Path("/path/to/an/avro/file")).anyTimes();
  expect(inputSplit.getStart()).andReturn(0L).anyTimes();
  expect(inputSplit.getLength()).andReturn(avroFileInput.length()).anyTimes();
  TaskAttemptContext context=createMock(TaskAttemptContext.class);
  expect(context.getConfiguration()).andReturn(conf).anyTimes();
  replay(inputSplit);
  replay(context);
  recordReader.initialize(inputSplit,context);
  assertEquals("Progress should be zero before any records are read",0.0f,recordReader.getProgress(),0.0f);
  AvroKey<CharSequence> key;
  AvroValue<Integer> value;
  assertTrue("Expected at least one record",recordReader.nextKeyValue());
  key=recordReader.getCurrentKey();
  value=recordReader.getCurrentValue();
  assertNotNull("First record had null key",key);
  assertNotNull("First record had null value",value);
  assertEquals("first",key.datum().toString());
  assertEquals(1,value.datum().intValue());
  assertTrue("getCurrentKey() returned different keys for the same record",key == recordReader.getCurrentKey());
  assertTrue("getCurrentValue() returned different values for the same record",value == recordReader.getCurrentValue());
  assertTrue("Expected to read a second record",recordReader.nextKeyValue());
  key=recordReader.getCurrentKey();
  value=recordReader.getCurrentValue();
  assertNotNull("Second record had null key",key);
  assertNotNull("Second record had null value",value);
  assertEquals("second",key.datum().toString());
  assertEquals(2,value.datum().intValue());
  assertEquals("Progress should be complete (2 out of 2 records processed)",1.0f,recordReader.getProgress(),0.0f);
  assertFalse("Expected only 2 records",recordReader.nextKeyValue());
  recordReader.close();
  verify(inputSplit);
  verify(context);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.mapreduce.TestAvroKeyValueRecordWriter </h4><pre class="type-10 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWriteRecords() throws IOException {
  Job job=new Job();
  AvroJob.setOutputValueSchema(job,TextStats.SCHEMA$);
  TaskAttemptContext context=createMock(TaskAttemptContext.class);
  replay(context);
  AvroDatumConverterFactory factory=new AvroDatumConverterFactory(job.getConfiguration());
  AvroDatumConverter<Text,?> keyConverter=factory.create(Text.class);
  AvroValue<TextStats> avroValue=new AvroValue<TextStats>(null);
  @SuppressWarnings("unchecked") AvroDatumConverter<AvroValue<TextStats>,?> valueConverter=factory.create((Class<AvroValue<TextStats>>)avroValue.getClass());
  CodecFactory compressionCodec=CodecFactory.nullCodec();
  ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  AvroKeyValueRecordWriter<Text,AvroValue<TextStats>> writer=new AvroKeyValueRecordWriter<Text,AvroValue<TextStats>>(keyConverter,valueConverter,new ReflectData(),compressionCodec,outputStream);
  TextStats appleStats=new TextStats();
  appleStats.name="apple";
  writer.write(new Text("apple"),new AvroValue<TextStats>(appleStats));
  TextStats bananaStats=new TextStats();
  bananaStats.name="banana";
  writer.write(new Text("banana"),new AvroValue<TextStats>(bananaStats));
  writer.close(context);
  verify(context);
  ByteArrayInputStream inputStream=new ByteArrayInputStream(outputStream.toByteArray());
  Schema readerSchema=AvroKeyValue.getSchema(Schema.create(Schema.Type.STRING),TextStats.SCHEMA$);
  DatumReader<GenericRecord> datumReader=new SpecificDatumReader<GenericRecord>(readerSchema);
  DataFileStream<GenericRecord> avroFileReader=new DataFileStream<GenericRecord>(inputStream,datumReader);
  assertTrue(avroFileReader.hasNext());
  AvroKeyValue<CharSequence,TextStats> firstRecord=new AvroKeyValue<CharSequence,TextStats>(avroFileReader.next());
  assertNotNull(firstRecord.get());
  assertEquals("apple",firstRecord.getKey().toString());
  assertEquals("apple",firstRecord.getValue().name.toString());
  assertTrue(avroFileReader.hasNext());
  AvroKeyValue<CharSequence,TextStats> secondRecord=new AvroKeyValue<CharSequence,TextStats>(avroFileReader.next());
  assertNotNull(secondRecord.get());
  assertEquals("banana",secondRecord.getKey().toString());
  assertEquals("banana",secondRecord.getValue().name.toString());
  assertFalse(avroFileReader.hasNext());
  avroFileReader.close();
}

</code></pre>

<br>
<pre class="type-10 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUsingReflection() throws Exception {
  Job job=new Job();
  Schema schema=ReflectData.get().getSchema(R1.class);
  AvroJob.setOutputValueSchema(job,schema);
  TaskAttemptContext context=createMock(TaskAttemptContext.class);
  replay(context);
  R1 record=new R1();
  record.attribute="test";
  AvroValue<R1> avroValue=new AvroValue<R1>(record);
  ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  AvroDatumConverterFactory factory=new AvroDatumConverterFactory(job.getConfiguration());
  AvroDatumConverter<Text,?> keyConverter=factory.create(Text.class);
  @SuppressWarnings("unchecked") AvroDatumConverter<AvroValue<R1>,R1> valueConverter=factory.create((Class<AvroValue<R1>>)avroValue.getClass());
  AvroKeyValueRecordWriter<Text,AvroValue<R1>> writer=new AvroKeyValueRecordWriter<Text,AvroValue<R1>>(keyConverter,valueConverter,new ReflectData(),CodecFactory.nullCodec(),outputStream);
  writer.write(new Text("reflectionData"),avroValue);
  writer.close(context);
  verify(context);
  ByteArrayInputStream inputStream=new ByteArrayInputStream(outputStream.toByteArray());
  Schema readerSchema=AvroKeyValue.getSchema(Schema.create(Schema.Type.STRING),schema);
  DatumReader<GenericRecord> datumReader=new ReflectDatumReader<GenericRecord>(readerSchema);
  DataFileStream<GenericRecord> avroFileReader=new DataFileStream<GenericRecord>(inputStream,datumReader);
  assertTrue(avroFileReader.hasNext());
  AvroKeyValue<CharSequence,R1> firstRecord=new AvroKeyValue<CharSequence,R1>(avroFileReader.next());
  assertNotNull(firstRecord.get());
  assertEquals("reflectionData",firstRecord.getKey().toString());
  assertEquals(record.attribute,firstRecord.getValue().attribute);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.mapreduce.TestFsInput </h4><pre class="type-10 type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testSeek() throws Exception {
  int seekPos=FILE_CONTENTS.length() / 2;
  byte[] fileContentBytes=FILE_CONTENTS.getBytes(Charset.forName("UTF-8"));
  byte expectedByte=fileContentBytes[seekPos];
  fsInput.seek(seekPos);
  byte[] readBytes=new byte[1];
  fsInput.read(readBytes,0,1);
  byte actualByte=readBytes[0];
  assertThat(actualByte,is(equalTo(expectedByte)));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-16 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Verifies values related to public fields.
"></span><br>
@Test public void testRead() throws Exception {
  byte[] expectedBytes=FILE_CONTENTS.getBytes(Charset.forName("UTF-8"));
  byte[] actualBytes=new byte[expectedBytes.length];
  int actualByteCount=fsInput.read(actualBytes,0,actualBytes.length);
  assertThat(actualBytes,is(equalTo(expectedBytes)));
  assertThat(actualByteCount,is(equalTo(expectedBytes.length)));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testTell() throws Exception {
  long expectedTellPos=FILE_CONTENTS.length() / 2;
  fsInput.seek(expectedTellPos);
  long actualTellPos=fsInput.tell();
  assertThat(actualTellPos,is(equalTo(expectedTellPos)));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.mapreduce.TestWordCount </h4><pre class="type-10 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests the MR output to text files when using AvroKey and AvroValue records.
 */
@Test public void testAvroUsingTextFileOutput() throws Exception {
  Job job=new Job();
  FileInputFormat.setInputPaths(job,new Path(getClass().getResource("/org/apache/avro/mapreduce/mapreduce-test-input.txt").toURI().toString()));
  job.setInputFormatClass(TextInputFormat.class);
  job.setMapperClass(LineCountMapper.class);
  job.setMapOutputKeyClass(Text.class);
  job.setMapOutputValueClass(IntWritable.class);
  job.setReducerClass(AvroSumReducer.class);
  AvroJob.setOutputKeySchema(job,Schema.create(Schema.Type.STRING));
  AvroJob.setOutputValueSchema(job,Schema.create(Schema.Type.INT));
  job.setOutputFormatClass(TextOutputFormat.class);
  Path outputPath=new Path(tmpFolder.getRoot().getPath() + "/out-text");
  FileOutputFormat.setOutputPath(job,outputPath);
  Assert.assertTrue(job.waitForCompletion(true));
  FileSystem fileSystem=FileSystem.get(job.getConfiguration());
  FileStatus[] outputFiles=fileSystem.globStatus(outputPath.suffix("/part-*"));
  Assert.assertEquals(1,outputFiles.length);
  Path filePath=outputFiles[0].getPath();
  InputStream inputStream=filePath.getFileSystem(job.getConfiguration()).open(filePath);
  Assert.assertNotNull(inputStream);
  BufferedReader reader=new BufferedReader(new InputStreamReader(inputStream));
  try {
    Assert.assertTrue(reader.ready());
    Assert.assertEquals("apple\t3",reader.readLine());
    Assert.assertEquals("banana\t2",reader.readLine());
    Assert.assertEquals("carrot\t1",reader.readLine());
    Assert.assertFalse(reader.ready());
  }
  finally {
    reader.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.protobuf.TestProtobuf </h4><pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMessage() throws Exception {
  System.out.println(ProtobufData.get().getSchema(Foo.class).toString(true));
  Foo.Builder builder=Foo.newBuilder();
  builder.setInt32(0);
  builder.setInt64(2);
  builder.setUint32(3);
  builder.setUint64(4);
  builder.setSint32(5);
  builder.setSint64(6);
  builder.setFixed32(7);
  builder.setFixed64(8);
  builder.setSfixed32(9);
  builder.setSfixed64(10);
  builder.setFloat(1.0F);
  builder.setDouble(2.0);
  builder.setBool(true);
  builder.setString("foo");
  builder.setBytes(ByteString.copyFromUtf8("bar"));
  builder.setEnum(A.X);
  builder.addIntArray(27);
  builder.addSyms(A.Y);
  Foo fooInner=builder.build();
  Foo fooInArray=builder.build();
  builder=Foo.newBuilder(fooInArray);
  builder.addFooArray(fooInArray);
  builder=Foo.newBuilder(fooInner);
  builder.setFoo(fooInner);
  Foo foo=builder.build();
  System.out.println(foo);
  ByteArrayOutputStream bao=new ByteArrayOutputStream();
  ProtobufDatumWriter<Foo> w=new ProtobufDatumWriter<Foo>(Foo.class);
  Encoder e=EncoderFactory.get().binaryEncoder(bao,null);
  w.write(foo,e);
  e.flush();
  Object o=new ProtobufDatumReader<Foo>(Foo.class).read(null,DecoderFactory.get().createBinaryDecoder(new ByteArrayInputStream(bao.toByteArray()),null));
  assertEquals(foo,o);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.reflect.TestByteBuffer </h4><pre class="type-10 type-3 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
@Test public void test() throws Exception {
  Schema schema=ReflectData.get().getSchema(X.class);
  ByteArrayOutputStream bout=new ByteArrayOutputStream();
  writeOneXAsAvro(schema,bout);
  X record=readOneXFromAvro(schema,bout);
  String expected=getmd5(content);
  String actual=getmd5(record.content);
  assertEquals("md5 for result differed from input",expected,actual);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.reflect.TestNonStringMapKeys </h4><pre class="type-10 type-9 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNonStringMapKeysInNestedMaps() throws Exception {
  Company2 entityObj1=buildCompany2();
  String testType="NestedMapsTest";
  Company2[] entityObjs={entityObj1};
  byte[] bytes=testSerialization(testType,entityObj1);
  List<GenericRecord> records=(List<GenericRecord>)testGenericDatumRead(testType,bytes,entityObjs);
  GenericRecord record=records.get(0);
  Object employees=record.get("employees");
  assertTrue("Unable to read 'employees' map",employees instanceof GenericArray);
  GenericArray employeesMapArray=((GenericArray)employees);
  Object employeeMapElement=employeesMapArray.get(0);
  assertTrue(employeeMapElement instanceof GenericRecord);
  Object key=((GenericRecord)employeeMapElement).get(ReflectData.NS_MAP_KEY);
  Object value=((GenericRecord)employeeMapElement).get(ReflectData.NS_MAP_VALUE);
  assertEquals(11,key);
  assertTrue(value instanceof GenericRecord);
  GenericRecord employeeInfo=(GenericRecord)value;
  Object name=employeeInfo.get("name").toString();
  assertEquals("Foo",name);
  Object companyMap=employeeInfo.get("companyMap");
  assertTrue(companyMap instanceof GenericArray);
  GenericArray companyMapArray=(GenericArray)companyMap;
  Object companyMapElement=companyMapArray.get(0);
  assertTrue(companyMapElement instanceof GenericRecord);
  key=((GenericRecord)companyMapElement).get(ReflectData.NS_MAP_KEY);
  value=((GenericRecord)companyMapElement).get(ReflectData.NS_MAP_VALUE);
  assertEquals(14,key);
  if (value instanceof Utf8)   value=((Utf8)value).toString();
  assertEquals("CompanyFoo",value);
  List<Company2> records2=(List<Company2>)testReflectDatumRead(testType,bytes,entityObjs);
  Company2 co=records2.get(0);
  log("Read: " + co);
  assertNotNull(co.getEmployees());
  assertEquals(1,co.getEmployees().size());
  Iterator<Entry<Integer,EmployeeInfo2>> itr=co.getEmployees().entrySet().iterator();
  while (itr.hasNext()) {
    Entry<Integer,EmployeeInfo2> e=itr.next();
    Integer id=e.getKey();
    name=e.getValue().getName();
    assertTrue(id.equals(11) && name.equals("Foo"));
    assertEquals("CompanyFoo",e.getValue().companyMap.values().iterator().next());
  }
  byte[] jsonBytes=testJsonEncoder(testType,entityObj1);
  assertNotNull("Unable to serialize using jsonEncoder",jsonBytes);
  GenericRecord jsonRecord=testJsonDecoder(testType,jsonBytes,entityObj1);
  assertEquals("JSON decoder output not same as Binary Decoder",record,jsonRecord);
}

</code></pre>

<br>
<pre class="type-10 type-9 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNonStringMapKeys() throws Exception {
  Company entityObj1=buildCompany();
  Company entityObj2=buildCompany();
  String testType="NonStringKeysTest";
  Company[] entityObjs={entityObj1,entityObj2};
  byte[] bytes=testSerialization(testType,entityObj1,entityObj2);
  List<GenericRecord> records=(List<GenericRecord>)testGenericDatumRead(testType,bytes,entityObjs);
  GenericRecord record=records.get(0);
  Object employees=record.get("employees");
  assertTrue("Unable to read 'employees' map",employees instanceof GenericArray);
  GenericArray arrayEmployees=((GenericArray)employees);
  Object employeeRecord=arrayEmployees.get(0);
  assertTrue(employeeRecord instanceof GenericRecord);
  Object key=((GenericRecord)employeeRecord).get(ReflectData.NS_MAP_KEY);
  Object value=((GenericRecord)employeeRecord).get(ReflectData.NS_MAP_VALUE);
  assertTrue(key instanceof GenericRecord);
  assertTrue(value instanceof GenericRecord);
  Object id=((GenericRecord)key).get("id");
  Object name=((GenericRecord)value).get("name").toString();
  assertTrue((id.equals(1) && name.equals("Foo")) || (id.equals(2) && name.equals("Bar")));
  List<Company> records2=(List<Company>)testReflectDatumRead(testType,bytes,entityObjs);
  Company co=records2.get(0);
  log("Read: " + co);
  assertNotNull(co.getEmployees());
  assertEquals(2,co.getEmployees().size());
  Iterator<Entry<EmployeeId,EmployeeInfo>> itr=co.getEmployees().entrySet().iterator();
  while (itr.hasNext()) {
    Entry<EmployeeId,EmployeeInfo> e=itr.next();
    id=e.getKey().getId();
    name=e.getValue().getName();
    assertTrue((id.equals(1) && name.equals("Foo")) || (id.equals(2) && name.equals("Bar")));
  }
  byte[] jsonBytes=testJsonEncoder(testType,entityObj1);
  assertNotNull("Unable to serialize using jsonEncoder",jsonBytes);
  GenericRecord jsonRecord=testJsonDecoder(testType,jsonBytes,entityObj1);
  assertEquals("JSON decoder output not same as Binary Decoder",record,jsonRecord);
}

</code></pre>

<br>
<pre class="type-10 type-9 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRecordNameInvariance() throws Exception {
  SameMapSignature entityObj1=buildSameMapSignature();
  String testType="RecordNameInvariance";
  SameMapSignature[] entityObjs={entityObj1};
  byte[] bytes=testSerialization(testType,entityObj1);
  List<GenericRecord> records=(List<GenericRecord>)testGenericDatumRead(testType,bytes,entityObjs);
  GenericRecord record=records.get(0);
  Object map1obj=record.get("map1");
  assertTrue("Unable to read map1",map1obj instanceof GenericArray);
  GenericArray map1array=((GenericArray)map1obj);
  Object map1element=map1array.get(0);
  assertTrue(map1element instanceof GenericRecord);
  Object key=((GenericRecord)map1element).get(ReflectData.NS_MAP_KEY);
  Object value=((GenericRecord)map1element).get(ReflectData.NS_MAP_VALUE);
  assertEquals(1,key);
  assertEquals("Foo",value.toString());
  Object map2obj=record.get("map2");
  assertEquals(map1obj,map2obj);
  List<SameMapSignature> records2=(List<SameMapSignature>)testReflectDatumRead(testType,bytes,entityObjs);
  SameMapSignature entity=records2.get(0);
  log("Read: " + entity);
  assertNotNull(entity.getMap1());
  assertEquals(1,entity.getMap1().size());
  Iterator<Entry<Integer,String>> itr=entity.getMap1().entrySet().iterator();
  while (itr.hasNext()) {
    Entry<Integer,String> e=itr.next();
    key=e.getKey();
    value=e.getValue();
    assertEquals(1,key);
    assertEquals("Foo",value.toString());
  }
  assertEquals(entity.getMap1(),entity.getMap2());
  ReflectData rdata=ReflectData.get();
  Schema schema=rdata.getSchema(SameMapSignature.class);
  Schema map1schema=schema.getField("map1").schema().getElementType();
  Schema map2schema=schema.getField("map2").schema().getElementType();
  log("Schema for map1 = " + map1schema);
  log("Schema for map2 = " + map2schema);
  assertEquals(map1schema.getFullName(),"org.apache.avro.reflect.PairIntegerString");
  assertEquals(map1schema,map2schema);
  byte[] jsonBytes=testJsonEncoder(testType,entityObj1);
  assertNotNull("Unable to serialize using jsonEncoder",jsonBytes);
  GenericRecord jsonRecord=testJsonDecoder(testType,jsonBytes,entityObj1);
  assertEquals("JSON decoder output not same as Binary Decoder",record.get("map1"),jsonRecord.get("map1"));
  assertEquals("JSON decoder output not same as Binary Decoder",record.get("map2"),jsonRecord.get("map2"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.reflect.TestReflect </h4><pre class="type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testMultipleAnnotations() throws IOException {
  Schema schm=ReflectData.get().getSchema(multipleAnnotationRecord.class);
  ReflectDatumWriter<multipleAnnotationRecord> writer=new ReflectDatumWriter<multipleAnnotationRecord>(schm);
  ByteArrayOutputStream out=new ByteArrayOutputStream();
  multipleAnnotationRecord record=new multipleAnnotationRecord();
  record.i1=1;
  record.i2=2;
  record.i3=3;
  record.i4=new java.util.Date(4L);
  record.i5=5;
  record.i6=6;
  record.i7=new java.util.Date(7L);
  record.i8=8;
  record.i9=new java.util.Date(9L);
  record.i10=new java.util.Date(10L);
  record.i11=new java.util.Date(11L);
  writer.write(record,factory.directBinaryEncoder(out,null));
  ReflectDatumReader<multipleAnnotationRecord> reader=new ReflectDatumReader<multipleAnnotationRecord>(schm);
  multipleAnnotationRecord decoded=reader.read(new multipleAnnotationRecord(),DecoderFactory.get().binaryDecoder(out.toByteArray(),null));
  assertTrue(decoded.i1 == null);
  assertTrue(decoded.i2 == null);
  assertTrue(decoded.i3 == null);
  assertTrue(decoded.i4 == null);
  assertTrue(decoded.i5 == 5);
  assertTrue(decoded.i6 == 6);
  assertTrue(decoded.i7.getTime() == 7);
  assertTrue(decoded.i8 == 8);
  assertTrue(decoded.i9.getTime() == 9);
  assertTrue(decoded.i10.getTime() == 10);
  assertTrue(decoded.i11.getTime() == 11);
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNoPackage() throws Exception {
  Class<?> noPackage=Class.forName("NoPackage");
  Schema s=ReflectData.get().getSchema(noPackage);
  assertEquals(noPackage.getName(),ReflectData.getClassName(s));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRecordWithNullIO() throws IOException {
  ReflectData reflectData=ReflectData.AllowNull.get();
  Schema schm=reflectData.getSchema(AnotherSampleRecord.class);
  ReflectDatumWriter<AnotherSampleRecord> writer=new ReflectDatumWriter<AnotherSampleRecord>(schm);
  ByteArrayOutputStream out=new ByteArrayOutputStream();
  Encoder e=factory.directBinaryEncoder(out,null);
  AnotherSampleRecord a=new AnotherSampleRecord();
  writer.write(a,e);
  AnotherSampleRecord b=new AnotherSampleRecord(10);
  writer.write(b,e);
  e.flush();
  ReflectDatumReader<AnotherSampleRecord> reader=new ReflectDatumReader<AnotherSampleRecord>(schm);
  ByteArrayInputStream in=new ByteArrayInputStream(out.toByteArray());
  Decoder d=DecoderFactory.get().binaryDecoder(in,null);
  AnotherSampleRecord decoded=reader.read(null,d);
  assertEquals(a,decoded);
  decoded=reader.read(null,d);
  assertEquals(b,decoded);
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAvroEncodeIO() throws IOException {
  Schema schm=ReflectData.get().getSchema(AvroEncRecord.class);
  ReflectDatumWriter<AvroEncRecord> writer=new ReflectDatumWriter<AvroEncRecord>(schm);
  ByteArrayOutputStream out=new ByteArrayOutputStream();
  AvroEncRecord record=new AvroEncRecord();
  record.date=new java.util.Date(948833323L);
  writer.write(record,factory.directBinaryEncoder(out,null));
  ReflectDatumReader<AvroEncRecord> reader=new ReflectDatumReader<AvroEncRecord>(schm);
  AvroEncRecord decoded=reader.read(new AvroEncRecord(),DecoderFactory.get().binaryDecoder(out.toByteArray(),null));
  assertEquals(record,decoded);
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRecordIO() throws IOException {
  Schema schm=ReflectData.get().getSchema(SampleRecord.class);
  ReflectDatumWriter<SampleRecord> writer=new ReflectDatumWriter<SampleRecord>(schm);
  ByteArrayOutputStream out=new ByteArrayOutputStream();
  SampleRecord record=new SampleRecord();
  record.x=5;
  record.y=10;
  writer.write(record,factory.directBinaryEncoder(out,null));
  ReflectDatumReader<SampleRecord> reader=new ReflectDatumReader<SampleRecord>(schm);
  SampleRecord decoded=reader.read(null,DecoderFactory.get().binaryDecoder(out.toByteArray(),null));
  assertEquals(record,decoded);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.reflect.TestReflectLogicalTypes </h4><pre class="type-10 type-2 type-4 type-19 type-17 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Sets implicit assumptions 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReadUUIDMissingLogicalTypeUnsafe() throws IOException {
  String unsafeValue=System.getProperty("avro.disable.unsafe");
  try {
    System.clearProperty("avro.disable.unsafe");
    Assume.assumeTrue(ReflectionUtil.getFieldAccess() instanceof FieldAccessUnsafe);
    Schema uuidSchema=SchemaBuilder.record(RecordWithUUID.class.getName()).fields().requiredString("uuid").endRecord();
    LogicalTypes.uuid().addToSchema(uuidSchema.getField("uuid").schema());
    UUID u1=UUID.randomUUID();
    RecordWithStringUUID r1=new RecordWithStringUUID();
    r1.uuid=u1.toString();
    File test=write(ReflectData.get().getSchema(RecordWithStringUUID.class),r1);
    RecordWithUUID datum=(RecordWithUUID)read(ReflectData.get().createDatumReader(uuidSchema),test).get(0);
    Object uuid=datum.uuid;
    Assert.assertTrue("UUID should be a String (unsafe)",uuid instanceof String);
  }
  finally {
    if (unsafeValue != null) {
      System.setProperty("avro.disable.unsafe",unsafeValue);
    }
  }
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDecimalBytes() throws IOException {
  Schema schema=REFLECT.getSchema(DecimalRecordBytes.class);
  Assert.assertEquals("Should have the correct record name","org.apache.avro.reflect.TestReflectLogicalTypes$",schema.getNamespace());
  Assert.assertEquals("Should have the correct record name","DecimalRecordBytes",schema.getName());
  Assert.assertEquals("Should have the correct logical type",LogicalTypes.decimal(9,2),LogicalTypes.fromSchema(schema.getField("decimal").schema()));
  DecimalRecordBytes record=new DecimalRecordBytes();
  record.decimal=new BigDecimal("3.14");
  File test=write(REFLECT,schema,record);
  Assert.assertEquals("Should match the decimal after round trip",Arrays.asList(record),read(REFLECT.createDatumReader(schema),test));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReadUUID() throws IOException {
  Schema uuidSchema=SchemaBuilder.record(RecordWithUUID.class.getName()).fields().requiredString("uuid").endRecord();
  LogicalTypes.uuid().addToSchema(uuidSchema.getField("uuid").schema());
  UUID u1=UUID.randomUUID();
  UUID u2=UUID.randomUUID();
  RecordWithStringUUID r1=new RecordWithStringUUID();
  r1.uuid=u1.toString();
  RecordWithStringUUID r2=new RecordWithStringUUID();
  r2.uuid=u2.toString();
  List<RecordWithUUID> expected=Arrays.asList(new RecordWithUUID(),new RecordWithUUID());
  expected.get(0).uuid=u1;
  expected.get(1).uuid=u2;
  File test=write(ReflectData.get().getSchema(RecordWithStringUUID.class),r1,r2);
  Assert.assertEquals("Should convert Strings to UUIDs",expected,read(REFLECT.createDatumReader(uuidSchema),test));
  Schema uuidStringSchema=SchemaBuilder.record(RecordWithStringUUID.class.getName()).fields().requiredString("uuid").endRecord();
  LogicalTypes.uuid().addToSchema(uuidStringSchema.getField("uuid").schema());
  Assert.assertEquals("Should not convert to UUID if accessor is String",Arrays.asList(r1,r2),read(REFLECT.createDatumReader(uuidStringSchema),test));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWriteUUIDArray() throws IOException {
  Schema uuidArraySchema=SchemaBuilder.record(RecordWithUUIDArray.class.getName()).fields().name("uuids").type().array().items().stringType().noDefault().endRecord();
  LogicalTypes.uuid().addToSchema(uuidArraySchema.getField("uuids").schema().getElementType());
  Schema stringArraySchema=SchemaBuilder.record("RecordWithUUIDArray").fields().name("uuids").type().array().items().stringType().noDefault().endRecord();
  stringArraySchema.getField("uuids").schema().addProp(SpecificData.CLASS_PROP,List.class.getName());
  UUID u1=UUID.randomUUID();
  UUID u2=UUID.randomUUID();
  GenericRecord expected=new GenericData.Record(stringArraySchema);
  List<String> uuids=new ArrayList<String>();
  uuids.add(u1.toString());
  uuids.add(u2.toString());
  expected.put("uuids",uuids);
  RecordWithUUIDArray r=new RecordWithUUIDArray();
  r.uuids=new UUID[]{u1,u2};
  File test=write(REFLECT,uuidArraySchema,r);
  Assert.assertEquals("Should read UUIDs as Strings",expected,read(ReflectData.get().createDatumReader(stringArraySchema),test).get(0));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReadUUIDArray() throws IOException {
  Schema uuidArraySchema=SchemaBuilder.record(RecordWithUUIDArray.class.getName()).fields().name("uuids").type().array().items().stringType().noDefault().endRecord();
  LogicalTypes.uuid().addToSchema(uuidArraySchema.getField("uuids").schema().getElementType());
  UUID u1=UUID.randomUUID();
  UUID u2=UUID.randomUUID();
  GenericRecord r=new GenericData.Record(uuidArraySchema);
  r.put("uuids",Arrays.asList(u1.toString(),u2.toString()));
  RecordWithUUIDArray expected=new RecordWithUUIDArray();
  expected.uuids=new UUID[]{u1,u2};
  File test=write(uuidArraySchema,r);
  Assert.assertEquals("Should convert Strings to UUIDs",expected,read(REFLECT.createDatumReader(uuidArraySchema),test).get(0));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDecimalFixed() throws IOException {
  Schema schema=REFLECT.getSchema(DecimalRecordFixed.class);
  Assert.assertEquals("Should have the correct record name","org.apache.avro.reflect.TestReflectLogicalTypes$",schema.getNamespace());
  Assert.assertEquals("Should have the correct record name","DecimalRecordFixed",schema.getName());
  Assert.assertEquals("Should have the correct logical type",LogicalTypes.decimal(9,2),LogicalTypes.fromSchema(schema.getField("decimal").schema()));
  DecimalRecordFixed record=new DecimalRecordFixed();
  record.decimal=new BigDecimal("3.14");
  File test=write(REFLECT,schema,record);
  Assert.assertEquals("Should match the decimal after round trip",Arrays.asList(record),read(REFLECT.createDatumReader(schema),test));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReadUUIDGenericRecord() throws IOException {
  Schema uuidSchema=SchemaBuilder.record("RecordWithUUID").fields().requiredString("uuid").endRecord();
  LogicalTypes.uuid().addToSchema(uuidSchema.getField("uuid").schema());
  UUID u1=UUID.randomUUID();
  UUID u2=UUID.randomUUID();
  RecordWithStringUUID r1=new RecordWithStringUUID();
  r1.uuid=u1.toString();
  RecordWithStringUUID r2=new RecordWithStringUUID();
  r2.uuid=u2.toString();
  List<GenericData.Record> expected=Arrays.asList(new GenericData.Record(uuidSchema),new GenericData.Record(uuidSchema));
  expected.get(0).put("uuid",u1);
  expected.get(1).put("uuid",u2);
  File test=write(ReflectData.get().getSchema(RecordWithStringUUID.class),r1,r2);
  Assert.assertEquals("Should convert Strings to UUIDs",expected,read(REFLECT.createDatumReader(uuidSchema),test));
  Schema uuidStringSchema=SchemaBuilder.record(RecordWithStringUUID.class.getName()).fields().requiredString("uuid").endRecord();
  LogicalTypes.uuid().addToSchema(uuidSchema.getField("uuid").schema());
  Assert.assertEquals("Should not convert to UUID if accessor is String",Arrays.asList(r1,r2),read(REFLECT.createDatumReader(uuidStringSchema),test));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReadUUIDList() throws IOException {
  Schema uuidListSchema=SchemaBuilder.record(RecordWithUUIDList.class.getName()).fields().name("uuids").type().array().items().stringType().noDefault().endRecord();
  uuidListSchema.getField("uuids").schema().addProp(SpecificData.CLASS_PROP,List.class.getName());
  LogicalTypes.uuid().addToSchema(uuidListSchema.getField("uuids").schema().getElementType());
  UUID u1=UUID.randomUUID();
  UUID u2=UUID.randomUUID();
  GenericRecord r=new GenericData.Record(uuidListSchema);
  r.put("uuids",Arrays.asList(u1.toString(),u2.toString()));
  RecordWithUUIDList expected=new RecordWithUUIDList();
  expected.uuids=Arrays.asList(u1,u2);
  File test=write(uuidListSchema,r);
  Assert.assertEquals("Should convert Strings to UUIDs",expected,read(REFLECT.createDatumReader(uuidListSchema),test).get(0));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test @SuppressWarnings("unchecked") public void testPairRecord() throws IOException {
  ReflectData model=new ReflectData();
  model.addLogicalTypeConversion(new Conversion<Pair>(){
    @Override public Class<Pair> getConvertedType(){
      return Pair.class;
    }
    @Override public String getLogicalTypeName(){
      return "pair";
    }
    @Override public Pair fromRecord(    IndexedRecord value,    Schema schema,    LogicalType type){
      return Pair.of(value.get(0),value.get(1));
    }
    @Override public IndexedRecord toRecord(    Pair value,    Schema schema,    LogicalType type){
      GenericData.Record record=new GenericData.Record(schema);
      record.put(0,value.first);
      record.put(1,value.second);
      return record;
    }
  }
);
  LogicalTypes.register("pair",new LogicalTypes.LogicalTypeFactory(){
    private final LogicalType PAIR=new LogicalType("pair");
    @Override public LogicalType fromSchema(    Schema schema){
      return PAIR;
    }
  }
);
  Schema schema=model.getSchema(PairRecord.class);
  Assert.assertEquals("Should have the correct record name","org.apache.avro.reflect.TestReflectLogicalTypes$",schema.getNamespace());
  Assert.assertEquals("Should have the correct record name","PairRecord",schema.getName());
  Assert.assertEquals("Should have the correct logical type","pair",LogicalTypes.fromSchema(schema.getField("pair").schema()).getName());
  PairRecord record=new PairRecord();
  record.pair=Pair.of(34L,35L);
  List<PairRecord> expected=new ArrayList<PairRecord>();
  expected.add(record);
  File test=write(model,schema,record);
  Pair<Long,Long> actual=((PairRecord)TestReflectLogicalTypes.<PairRecord>read(model.createDatumReader(schema),test).get(0)).pair;
  Assert.assertEquals("Data should match after serialization round-trip",34L,(long)actual.first);
  Assert.assertEquals("Data should match after serialization round-trip",35L,(long)actual.second);
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWriteNullableUUIDReadRequiredString() throws IOException {
  Schema nullableUuidSchema=SchemaBuilder.record(RecordWithUUID.class.getName()).fields().optionalString("uuid").endRecord();
  LogicalTypes.uuid().addToSchema(nullableUuidSchema.getField("uuid").schema().getTypes().get(1));
  UUID u1=UUID.randomUUID();
  UUID u2=UUID.randomUUID();
  RecordWithUUID r1=new RecordWithUUID();
  r1.uuid=u1;
  RecordWithUUID r2=new RecordWithUUID();
  r2.uuid=u2;
  List<RecordWithStringUUID> expected=Arrays.asList(new RecordWithStringUUID(),new RecordWithStringUUID());
  expected.get(0).uuid=u1.toString();
  expected.get(1).uuid=u2.toString();
  File test=write(REFLECT,nullableUuidSchema,r1,r2);
  Schema uuidStringSchema=SchemaBuilder.record(RecordWithStringUUID.class.getName()).fields().requiredString("uuid").endRecord();
  Assert.assertEquals("Should read uuid as String without UUID conversion",expected,read(REFLECT.createDatumReader(uuidStringSchema),test));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWriteUUIDList() throws IOException {
  Schema uuidListSchema=SchemaBuilder.record(RecordWithUUIDList.class.getName()).fields().name("uuids").type().array().items().stringType().noDefault().endRecord();
  uuidListSchema.getField("uuids").schema().addProp(SpecificData.CLASS_PROP,List.class.getName());
  LogicalTypes.uuid().addToSchema(uuidListSchema.getField("uuids").schema().getElementType());
  Schema stringArraySchema=SchemaBuilder.record("RecordWithUUIDArray").fields().name("uuids").type().array().items().stringType().noDefault().endRecord();
  stringArraySchema.getField("uuids").schema().addProp(SpecificData.CLASS_PROP,List.class.getName());
  UUID u1=UUID.randomUUID();
  UUID u2=UUID.randomUUID();
  GenericRecord expected=new GenericData.Record(stringArraySchema);
  expected.put("uuids",Arrays.asList(u1.toString(),u2.toString()));
  RecordWithUUIDList r=new RecordWithUUIDList();
  r.uuids=Arrays.asList(u1,u2);
  File test=write(REFLECT,uuidListSchema,r);
  Assert.assertEquals("Should read UUIDs as Strings",expected,read(REFLECT.createDatumReader(stringArraySchema),test).get(0));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWriteUUID() throws IOException {
  Schema uuidSchema=SchemaBuilder.record(RecordWithUUID.class.getName()).fields().requiredString("uuid").endRecord();
  LogicalTypes.uuid().addToSchema(uuidSchema.getField("uuid").schema());
  UUID u1=UUID.randomUUID();
  UUID u2=UUID.randomUUID();
  RecordWithUUID r1=new RecordWithUUID();
  r1.uuid=u1;
  RecordWithUUID r2=new RecordWithUUID();
  r2.uuid=u2;
  List<RecordWithStringUUID> expected=Arrays.asList(new RecordWithStringUUID(),new RecordWithStringUUID());
  expected.get(0).uuid=u1.toString();
  expected.get(1).uuid=u2.toString();
  File test=write(REFLECT,uuidSchema,r1,r2);
  Schema uuidStringSchema=SchemaBuilder.record(RecordWithStringUUID.class.getName()).fields().requiredString("uuid").endRecord();
  Assert.assertEquals("Should read uuid as String without UUID conversion",expected,read(REFLECT.createDatumReader(uuidStringSchema),test));
  LogicalTypes.uuid().addToSchema(uuidStringSchema.getField("uuid").schema());
  Assert.assertEquals("Should read uuid as String without UUID logical type",expected,read(ReflectData.get().createDatumReader(uuidStringSchema),test));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWriteNullableUUID() throws IOException {
  Schema nullableUuidSchema=SchemaBuilder.record(RecordWithUUID.class.getName()).fields().optionalString("uuid").endRecord();
  LogicalTypes.uuid().addToSchema(nullableUuidSchema.getField("uuid").schema().getTypes().get(1));
  UUID u1=UUID.randomUUID();
  UUID u2=UUID.randomUUID();
  RecordWithUUID r1=new RecordWithUUID();
  r1.uuid=u1;
  RecordWithUUID r2=new RecordWithUUID();
  r2.uuid=u2;
  List<RecordWithStringUUID> expected=Arrays.asList(new RecordWithStringUUID(),new RecordWithStringUUID());
  expected.get(0).uuid=u1.toString();
  expected.get(1).uuid=u2.toString();
  File test=write(REFLECT,nullableUuidSchema,r1,r2);
  Schema nullableUuidStringSchema=SchemaBuilder.record(RecordWithStringUUID.class.getName()).fields().optionalString("uuid").endRecord();
  Assert.assertEquals("Should read uuid as String without UUID conversion",expected,read(ReflectData.get().createDatumReader(nullableUuidStringSchema),test));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.specific.TestSpecificBuilderTree </h4><pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void createBuilderFromInstance(){
  Request.Builder requestBuilder1=createPartialBuilder();
  requestBuilder1.getConnectionBuilder().setNetworkAddress("1.1.1.1");
  Request request1=requestBuilder1.build();
  Request.Builder requestBuilder2=Request.newBuilder(request1);
  requestBuilder2.getConnectionBuilder().setNetworkAddress("2.2.2.2");
  requestBuilder2.getHttpRequestBuilder().getUserAgentBuilder().setId("Bar");
  requestBuilder2.getHttpRequestBuilder().getURIBuilder().setMethod(HttpMethod.POST);
  requestBuilder2.getHttpRequestBuilder().getUserAgentBuilder().setUseragent("Firefox 456");
  Request request2=requestBuilder2.build();
  assertEquals(NetworkType.IPv4,request1.getConnection().getNetworkType());
  assertEquals("1.1.1.1",request1.getConnection().getNetworkAddress());
  assertEquals("Chrome 123",request1.getHttpRequest().getUserAgent().getUseragent());
  assertEquals("Foo",request1.getHttpRequest().getUserAgent().getId());
  assertEquals(HttpMethod.GET,request1.getHttpRequest().getURI().getMethod());
  assertEquals("/index.html",request1.getHttpRequest().getURI().getPath());
  assertEquals(1,request1.getHttpRequest().getURI().getParameters().size());
  assertEquals("Foo",request1.getHttpRequest().getURI().getParameters().get(0).getName());
  assertEquals("Bar",request1.getHttpRequest().getURI().getParameters().get(0).getValue());
  assertEquals(NetworkType.IPv4,request2.getConnection().getNetworkType());
  assertEquals("2.2.2.2",request2.getConnection().getNetworkAddress());
  assertEquals("Firefox 456",request2.getHttpRequest().getUserAgent().getUseragent());
  assertEquals("Bar",request2.getHttpRequest().getUserAgent().getId());
  assertEquals(HttpMethod.POST,request2.getHttpRequest().getURI().getMethod());
  assertEquals("/index.html",request2.getHttpRequest().getURI().getPath());
  assertEquals(1,request2.getHttpRequest().getURI().getParameters().size());
  assertEquals("Foo",request2.getHttpRequest().getURI().getParameters().get(0).getName());
  assertEquals("Bar",request2.getHttpRequest().getURI().getParameters().get(0).getValue());
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void copyBuilder(){
  Request.Builder requestBuilder1=createPartialBuilder();
  Request.Builder requestBuilder2=Request.newBuilder(requestBuilder1);
  requestBuilder1.getConnectionBuilder().setNetworkAddress("1.1.1.1");
  requestBuilder2.getConnectionBuilder().setNetworkAddress("2.2.2.2");
  requestBuilder2.getHttpRequestBuilder().getUserAgentBuilder().setId("Bar");
  Request request1=requestBuilder1.build();
  Request request2=requestBuilder2.build();
  assertEquals(NetworkType.IPv4,request1.getConnection().getNetworkType());
  assertEquals("1.1.1.1",request1.getConnection().getNetworkAddress());
  assertEquals("Chrome 123",request1.getHttpRequest().getUserAgent().getUseragent());
  assertEquals("Foo",request1.getHttpRequest().getUserAgent().getId());
  assertEquals(HttpMethod.GET,request1.getHttpRequest().getURI().getMethod());
  assertEquals("/index.html",request1.getHttpRequest().getURI().getPath());
  assertEquals(1,request1.getHttpRequest().getURI().getParameters().size());
  assertEquals("Foo",request1.getHttpRequest().getURI().getParameters().get(0).getName());
  assertEquals("Bar",request1.getHttpRequest().getURI().getParameters().get(0).getValue());
  assertEquals(NetworkType.IPv4,request2.getConnection().getNetworkType());
  assertEquals("2.2.2.2",request2.getConnection().getNetworkAddress());
  assertEquals("Chrome 123",request2.getHttpRequest().getUserAgent().getUseragent());
  assertEquals("Bar",request2.getHttpRequest().getUserAgent().getId());
  assertEquals(HttpMethod.GET,request2.getHttpRequest().getURI().getMethod());
  assertEquals("/index.html",request2.getHttpRequest().getURI().getPath());
  assertEquals(1,request2.getHttpRequest().getURI().getParameters().size());
  assertEquals("Foo",request2.getHttpRequest().getURI().getParameters().get(0).getName());
  assertEquals("Bar",request2.getHttpRequest().getURI().getParameters().get(0).getValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.specific.TestSpecificData </h4><pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExternalizeable() throws Exception {
  TestRecord before=new TestRecord();
  before.setName("foo");
  before.setKind(Kind.BAR);
  before.setHash(new MD5(new byte[]{0,1,2,3,4,5,6,7,8,9,0,1,2,3,4,5}));
  ByteArrayOutputStream bytes=new ByteArrayOutputStream();
  ObjectOutputStream out=new ObjectOutputStream(bytes);
  out.writeObject(before);
  out.close();
  ObjectInputStream in=new ObjectInputStream(new ByteArrayInputStream(bytes.toByteArray()));
  TestRecord after=(TestRecord)in.readObject();
  Assert.assertEquals(before,after);
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSpecificRecordBase(){
  final TestRecord record=new TestRecord();
  record.put("x",1);
  record.put("y","str");
  assertEquals(1,record.get("x"));
  assertEquals("str",record.get("y"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.specific.TestSpecificRecordBuilder </h4><pre class="type-10 type-2 type-4 type-3 type-11 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSpecificBuilder(){
  Person.Builder builder=Person.newBuilder().setName("James Gosling").setYearOfBirth(1955).setState("CA");
  Assert.assertTrue(builder.hasName());
  Assert.assertEquals("James Gosling",builder.getName().toString());
  Assert.assertTrue(builder.hasYearOfBirth());
  Assert.assertEquals(new Integer(1955),builder.getYearOfBirth());
  Assert.assertFalse(builder.hasCountry());
  Assert.assertNull(builder.getCountry());
  Assert.assertTrue(builder.hasState());
  Assert.assertEquals("CA",builder.getState().toString());
  Assert.assertFalse(builder.hasFriends());
  Assert.assertNull(builder.getFriends());
  Assert.assertFalse(builder.hasLanguages());
  Assert.assertNull(builder.getLanguages());
  Person person=builder.build();
  Assert.assertEquals("James Gosling",person.getName().toString());
  Assert.assertEquals(new Integer(1955),person.getYearOfBirth());
  Assert.assertEquals("US",person.getCountry().toString());
  Assert.assertEquals("CA",person.getState().toString());
  Assert.assertNotNull(person.getFriends());
  Assert.assertEquals(0,person.getFriends().size());
  Assert.assertNotNull(person.getLanguages());
  Assert.assertEquals(2,person.getLanguages().size());
  Assert.assertEquals("English",person.getLanguages().get(0).toString());
  Assert.assertEquals("Java",person.getLanguages().get(1).toString());
  Assert.assertEquals(builder,Person.newBuilder(builder));
  Assert.assertEquals(person,Person.newBuilder(person).build());
  Person.Builder builderCopy=Person.newBuilder(person);
  Assert.assertEquals("James Gosling",builderCopy.getName().toString());
  Assert.assertEquals(new Integer(1955),builderCopy.getYearOfBirth());
  Assert.assertEquals("US",builderCopy.getCountry().toString());
  Assert.assertEquals("CA",builderCopy.getState().toString());
  Assert.assertNotNull(builderCopy.getFriends());
  Assert.assertEquals(0,builderCopy.getFriends().size());
  builderCopy.clearFriends().clearCountry();
  Assert.assertFalse(builderCopy.hasFriends());
  Assert.assertFalse(builderCopy.hasCountry());
  Assert.assertNull(builderCopy.getFriends());
  Assert.assertNull(builderCopy.getCountry());
  Person person2=builderCopy.build();
  Assert.assertNotNull(person2.getFriends());
  Assert.assertTrue(person2.getFriends().isEmpty());
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUnions(){
  long datetime=1234L;
  String product="widget";
  PageView p=PageView.newBuilder().setDatetime(1234L).setPageContext(ProductPage.newBuilder().setProduct(product).build()).build();
  Assert.assertEquals(datetime,p.getDatetime().longValue());
  Assert.assertEquals(ProductPage.class,p.getPageContext().getClass());
  Assert.assertEquals(product,((ProductPage)p.getPageContext()).getProduct());
  PageView p2=PageView.newBuilder(p).build();
  Assert.assertEquals(datetime,p2.getDatetime().longValue());
  Assert.assertEquals(ProductPage.class,p2.getPageContext().getClass());
  Assert.assertEquals(product,((ProductPage)p2.getPageContext()).getProduct());
  Assert.assertEquals(p,p2);
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInterop(){
  Interop interop=Interop.newBuilder().setNullField(null).setArrayField(Arrays.asList(new Double[]{3.14159265,6.022})).setBoolField(true).setBytesField(ByteBuffer.allocate(4).put(new byte[]{3,2,1,0})).setDoubleField(1.41421).setEnumField(Kind.C).setFixedField(new MD5(new byte[]{0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3})).setFloatField(1.61803f).setIntField(64).setLongField(1024).setMapField(Collections.singletonMap("Foo1",new Foo())).setRecordField(new Node()).setStringField("MyInterop").setUnionField(2.71828).build();
  Interop copy=Interop.newBuilder(interop).build();
  Assert.assertEquals(interop.getArrayField().size(),copy.getArrayField().size());
  Assert.assertEquals(interop.getArrayField(),copy.getArrayField());
  Assert.assertEquals(interop.getBoolField(),copy.getBoolField());
  Assert.assertEquals(interop.getBytesField(),copy.getBytesField());
  Assert.assertEquals(interop.getDoubleField(),copy.getDoubleField());
  Assert.assertEquals(interop.getEnumField(),copy.getEnumField());
  Assert.assertEquals(interop.getFixedField(),copy.getFixedField());
  Assert.assertEquals(interop.getFloatField(),copy.getFloatField());
  Assert.assertEquals(interop.getIntField(),copy.getIntField());
  Assert.assertEquals(interop.getLongField(),copy.getLongField());
  Assert.assertEquals(interop.getMapField(),copy.getMapField());
  Assert.assertEquals(interop.getRecordField(),copy.getRecordField());
  Assert.assertEquals(interop.getStringField(),copy.getStringField());
  Assert.assertEquals(interop.getUnionField(),copy.getUnionField());
  Assert.assertEquals(interop,copy);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.tool.TestCatTool </h4><pre class="type-10 type-2 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSamplerateAccuracy() throws Exception {
  Map<String,String> metadata=new HashMap<String,String>();
  metadata.put("myMetaKey","myMetaValue");
  File input1=generateData("input1.avro",Type.INT,metadata,DEFLATE);
  File output=AvroTestUtil.tempFile(getClass(),"out/default-output.avro");
  output.deleteOnExit();
  List<String> args=asList(input1.getAbsolutePath(),output.getAbsolutePath(),"--offset",String.valueOf(OFFSET),"--samplerate",String.valueOf(SAMPLERATE));
  int returnCode=new CatTool().run(System.in,System.out,System.err,args);
  assertEquals(0,returnCode);
  assertTrue("Outputsize is not roughly (Inputsize - Offset) * samplerate",(ROWS_IN_INPUT_FILES - OFFSET) * SAMPLERATE - numRowsInFile(output) < 2);
  assertTrue("",(ROWS_IN_INPUT_FILES - OFFSET) * SAMPLERATE - numRowsInFile(output) > -2);
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCat() throws Exception {
  Map<String,String> metadata=new HashMap<String,String>();
  metadata.put("myMetaKey","myMetaValue");
  File input1=generateData("input1.avro",Type.INT,metadata,DEFLATE);
  File input2=generateData("input2.avro",Type.INT,metadata,SNAPPY);
  File input3=generateData("input3.avro",Type.INT,metadata,DEFLATE);
  File output=AvroTestUtil.tempFile(getClass(),"out/default-output.avro");
  output.deleteOnExit();
  List<String> args=asList(input1.getAbsolutePath(),input2.getAbsolutePath(),input3.getAbsolutePath(),"--offset",String.valueOf(OFFSET),"--limit",String.valueOf(LIMIT_WITHIN_INPUT_BOUNDS),"--samplerate",String.valueOf(SAMPLERATE),output.getAbsolutePath());
  int returnCode=new CatTool().run(System.in,System.out,System.err,args);
  assertEquals(0,returnCode);
  assertEquals(LIMIT_WITHIN_INPUT_BOUNDS,numRowsInFile(output));
  args=asList(input1.getParentFile().getAbsolutePath(),output.getAbsolutePath(),"--offset",String.valueOf(OFFSET),"--limit",String.valueOf(LIMIT_WITHIN_INPUT_BOUNDS));
  returnCode=new CatTool().run(System.in,System.out,System.err,args);
  assertEquals(0,returnCode);
  assertEquals(LIMIT_WITHIN_INPUT_BOUNDS,numRowsInFile(output));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testLimitOutOfBounds() throws Exception {
  Map<String,String> metadata=new HashMap<String,String>();
  metadata.put("myMetaKey","myMetaValue");
  File input1=generateData("input1.avro",Type.INT,metadata,DEFLATE);
  File output=AvroTestUtil.tempFile(getClass(),"out/default-output.avro");
  output.deleteOnExit();
  List<String> args=asList(input1.getAbsolutePath(),"--offset=" + String.valueOf(OFFSET),"--limit=" + String.valueOf(LIMIT_OUT_OF_INPUT_BOUNDS),output.getAbsolutePath());
  int returnCode=new CatTool().run(System.in,System.out,System.err,args);
  assertEquals(0,returnCode);
  assertEquals(ROWS_IN_INPUT_FILES - OFFSET,numRowsInFile(output));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOffSetAccuracy() throws Exception {
  Map<String,String> metadata=new HashMap<String,String>();
  metadata.put("myMetaKey","myMetaValue");
  File input1=generateData("input1.avro",Type.INT,metadata,DEFLATE);
  File output=AvroTestUtil.tempFile(getClass(),"out/default-output.avro");
  output.deleteOnExit();
  List<String> args=asList(input1.getAbsolutePath(),"--offset",String.valueOf(OFFSET),"--limit",String.valueOf(LIMIT_WITHIN_INPUT_BOUNDS),"--samplerate",String.valueOf(SAMPLERATE),output.getAbsolutePath());
  int returnCode=new CatTool().run(System.in,System.out,System.err,args);
  assertEquals(0,returnCode);
  assertEquals("output does not start at offset",OFFSET,getFirstIntDatum(output));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOffsetBiggerThanInput() throws Exception {
  Map<String,String> metadata=new HashMap<String,String>();
  metadata.put("myMetaKey","myMetaValue");
  File input1=generateData("input1.avro",Type.INT,metadata,DEFLATE);
  File output=AvroTestUtil.tempFile(getClass(),"out/default-output.avro");
  output.deleteOnExit();
  List<String> args=asList(input1.getAbsolutePath(),"--offset",String.valueOf(ROWS_IN_INPUT_FILES + 1),output.getAbsolutePath());
  int returnCode=new CatTool().run(System.in,System.out,System.err,args);
  assertEquals(0,returnCode);
  assertEquals("output is not empty",0,numRowsInFile(output));
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSamplerateSmallerThanInput() throws Exception {
  Map<String,String> metadata=new HashMap<String,String>();
  metadata.put("myMetaKey","myMetaValue");
  File input1=generateData("input1.avro",Type.INT,metadata,DEFLATE);
  File output=AvroTestUtil.tempFile(getClass(),"out/default-output.avro");
  output.deleteOnExit();
  List<String> args=asList(input1.getAbsolutePath(),output.getAbsolutePath(),"--offset=" + new Integer(OFFSET).toString(),"--samplerate=" + new Double(SAMPLERATE_TOO_SMALL).toString());
  int returnCode=new CatTool().run(System.in,System.out,System.err,args);
  assertEquals(0,returnCode);
  assertEquals("output should only contain the record at offset",(int)OFFSET,getFirstIntDatum(output));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.tool.TestConcatTool </h4><pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConcat() throws Exception {
  Map<String,String> metadata=new HashMap<String,String>();
  metadata.put("myMetaKey","myMetaValue");
  File input1=generateData("input1.avro",Type.STRING,metadata,DEFLATE);
  File input2=generateData("input2.avro",Type.STRING,metadata,DEFLATE);
  File input3=generateData("input3.avro",Type.STRING,metadata,DEFLATE);
  File output=AvroTestUtil.tempFile(getClass(),"default-output.avro");
  output.deleteOnExit();
  List<String> args=asList(input1.getAbsolutePath(),input2.getAbsolutePath(),input3.getAbsolutePath(),output.getAbsolutePath());
  int returnCode=new ConcatTool().run(System.in,System.out,System.err,args);
  assertEquals(0,returnCode);
  assertEquals(ROWS_IN_INPUT_FILES * 3,numRowsInFile(output));
  assertEquals(getCodec(input1).getClass(),getCodec(output).getClass());
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDifferentMetadataFail() throws Exception {
  Map<String,String> metadata1=new HashMap<String,String>();
  metadata1.put("myMetaKey","myMetaValue");
  Map<String,String> metadata2=new HashMap<String,String>();
  metadata2.put("myOtherMetaKey","myOtherMetaValue");
  File input1=generateData("input1.avro",Type.STRING,metadata1,DEFLATE);
  File input2=generateData("input2.avro",Type.STRING,metadata2,DEFLATE);
  File output=AvroTestUtil.tempFile(getClass(),"default-output.avro");
  output.deleteOnExit();
  List<String> args=asList(input1.getAbsolutePath(),input2.getAbsolutePath(),output.getAbsolutePath());
  int returnCode=new ConcatTool().run(System.in,System.out,System.err,args);
  assertEquals(2,returnCode);
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDifferentSchemasFail() throws Exception {
  Map<String,String> metadata=new HashMap<String,String>();
  metadata.put("myMetaKey","myMetaValue");
  File input1=generateData("input1.avro",Type.STRING,metadata,DEFLATE);
  File input2=generateData("input2.avro",Type.INT,metadata,DEFLATE);
  File output=AvroTestUtil.tempFile(getClass(),"default-output.avro");
  output.deleteOnExit();
  List<String> args=asList(input1.getAbsolutePath(),input2.getAbsolutePath(),output.getAbsolutePath());
  int returnCode=new ConcatTool().run(System.in,System.out,System.err,args);
  assertEquals(1,returnCode);
}

</code></pre>

<br>
<pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDifferentCodecFail() throws Exception {
  Map<String,String> metadata=new HashMap<String,String>();
  metadata.put("myMetaKey","myMetaValue");
  File input1=generateData("input1.avro",Type.STRING,metadata,DEFLATE);
  File input2=generateData("input2.avro",Type.STRING,metadata,CodecFactory.nullCodec());
  File output=AvroTestUtil.tempFile(getClass(),"default-output.avro");
  output.deleteOnExit();
  List<String> args=asList(input1.getAbsolutePath(),input2.getAbsolutePath(),output.getAbsolutePath());
  int returnCode=new ConcatTool().run(System.in,System.out,System.err,args);
  assertEquals(3,returnCode);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.tool.TestCreateRandomFileTool </h4><pre class="type-10 type-2 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testStdOut() throws Exception {
  TestUtil.resetRandomSeed();
  byte[] file=run(Arrays.asList(new String[]{"-","--count",COUNT,"--schema-file",SCHEMA_FILE.toString()}));
  DataFileStream reader=new DataFileStream(new ByteArrayInputStream(file),new GenericDatumReader());
  Iterator found=reader.iterator();
  for (  Object expected : new RandomData(Schema.parse(SCHEMA_FILE),Integer.parseInt(COUNT)))   assertEquals(expected,found.next());
  reader.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.tool.TestDataFileRepairTool </h4><pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testRepairPriorCorruptBlock() throws Exception {
  String output=run(new DataFileRepairTool(),"-o","prior",corruptBlockFile.getPath(),repairedFile.getPath());
  assertTrue(output,output.contains("Number of blocks: 2 Number of corrupt blocks: 1"));
  assertTrue(output,output.contains("Number of records: 5 Number of corrupt records: 0"));
  checkFileContains(repairedFile,"apple","banana","celery");
}

</code></pre>

<br>
<pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testRepairAfterCorruptBlock() throws Exception {
  String output=run(new DataFileRepairTool(),"-o","after",corruptBlockFile.getPath(),repairedFile.getPath());
  assertTrue(output,output.contains("Number of blocks: 2 Number of corrupt blocks: 1"));
  assertTrue(output,output.contains("Number of records: 5 Number of corrupt records: 0"));
  checkFileContains(repairedFile,"guava","hazelnut");
}

</code></pre>

<br>
<pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testReportCorruptRecord() throws Exception {
  String output=run(new DataFileRepairTool(),"-o","report",corruptRecordFile.getPath());
  assertTrue(output,output.contains("Number of blocks: 3 Number of corrupt blocks: 1"));
  assertTrue(output,output.contains("Number of records: 8 Number of corrupt records: 2"));
}

</code></pre>

<br>
<pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testRepairPriorCorruptRecord() throws Exception {
  String output=run(new DataFileRepairTool(),"-o","prior",corruptRecordFile.getPath(),repairedFile.getPath());
  assertTrue(output,output.contains("Number of blocks: 3 Number of corrupt blocks: 1"));
  assertTrue(output,output.contains("Number of records: 8 Number of corrupt records: 2"));
  checkFileContains(repairedFile,"apple","banana","celery","date");
}

</code></pre>

<br>
<pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testRepairAllCorruptBlock() throws Exception {
  String output=run(new DataFileRepairTool(),"-o","all",corruptBlockFile.getPath(),repairedFile.getPath());
  assertTrue(output,output.contains("Number of blocks: 2 Number of corrupt blocks: 1"));
  assertTrue(output,output.contains("Number of records: 5 Number of corrupt records: 0"));
  checkFileContains(repairedFile,"apple","banana","celery","guava","hazelnut");
}

</code></pre>

<br>
<pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testRepairAllCorruptRecord() throws Exception {
  String output=run(new DataFileRepairTool(),"-o","all",corruptRecordFile.getPath(),repairedFile.getPath());
  assertTrue(output,output.contains("Number of blocks: 3 Number of corrupt blocks: 1"));
  assertTrue(output,output.contains("Number of records: 8 Number of corrupt records: 2"));
  checkFileContains(repairedFile,"apple","banana","celery","date","guava","hazelnut");
}

</code></pre>

<br>
<pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testRepairAfterCorruptRecord() throws Exception {
  String output=run(new DataFileRepairTool(),"-o","after",corruptRecordFile.getPath(),repairedFile.getPath());
  assertTrue(output,output.contains("Number of blocks: 3 Number of corrupt blocks: 1"));
  assertTrue(output,output.contains("Number of records: 8 Number of corrupt records: 2"));
  checkFileContains(repairedFile,"guava","hazelnut");
}

</code></pre>

<br>
<pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testReportCorruptBlock() throws Exception {
  String output=run(new DataFileRepairTool(),"-o","report",corruptBlockFile.getPath());
  assertTrue(output,output.contains("Number of blocks: 2 Number of corrupt blocks: 1"));
  assertTrue(output,output.contains("Number of records: 5 Number of corrupt records: 0"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.avro.tool.TestDataFileTools </h4><pre class="type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testGetMeta() throws Exception {
  String output=run(new DataFileGetMetaTool(),sampleFile.getPath());
  assertTrue(output,output.contains("avro.schema\t" + schema.toString() + "\n"));
  assertTrue(output,output.contains(ESCAPED_KEY + "\t\n"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.trevni.TestBZip2Codec </h4><pre class="type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testBZip2CompressionAndDecompression() throws IOException {
  MetaData meta=new MetaData();
  meta.setCodec("bzip2");
  Codec codec=Codec.get(meta);
  assertTrue(codec instanceof BZip2Codec);
  final int inputByteSize=BZip2Codec.DEFAULT_BUFFER_SIZE * 3 + 42;
  byte[] inputByteArray=new byte[inputByteSize];
  for (int i=0; i < inputByteSize; i++) {
    inputByteArray[i]=(byte)(65 + i % 10);
  }
  ByteBuffer inputByteBuffer=ByteBuffer.wrap(inputByteArray);
  ByteBuffer compressedBuffer=codec.compress(inputByteBuffer);
  assertTrue(compressedBuffer.array().length > 0);
  assertTrue(compressedBuffer.array().length < inputByteArray.length);
  ByteBuffer decompressedBuffer=codec.decompress(compressedBuffer);
  assertTrue(decompressedBuffer.array().length == inputByteArray.length);
  byte[] outputByteArray=decompressedBuffer.array();
  for (int i=0; i < inputByteSize; i++) {
    inputByteArray[i]=outputByteArray[i];
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.trevni.TestInputBytes </h4><pre class="type-10 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRandomReads() throws Exception {
  Random random=new Random();
  int length=random.nextInt(SIZE);
  byte[] data=new byte[length];
  random.nextBytes(data);
  Input in=new InputBytes(data);
  for (int i=0; i < COUNT; i++) {
    int p=random.nextInt(length);
    int l=Math.min(random.nextInt(SIZE / 10),length - p);
    byte[] buffer=new byte[l];
    in.read(p,buffer,0,l);
    Assert.assertArrayEquals(Arrays.copyOfRange(data,p,p + l),buffer);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.trevni.TestUtil </h4><pre class="type-10 type-4 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRandomLength(){
  long total=0;
  int count=1024 * 1024;
  int min=Short.MAX_VALUE;
  int max=0;
  Random r=createRandom();
  for (int i=0; i < count; i++) {
    int length=randomLength(r);
    if (min > length)     min=length;
    if (max < length)     max=length;
    total+=length;
  }
  Assert.assertEquals(0,min);
  Assert.assertTrue(max > 1024 * 32);
  float average=total / (float)count;
  Assert.assertTrue(average > 16.0f);
  Assert.assertTrue(average < 64.0f);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.trevni.avro.TestMetadataFiltering </h4><pre class="type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testMetadataFiltering() throws Exception {
  JobConf job=new JobConf();
  job.set(AvroTrevniOutputFormat.META_PREFIX + "test1","1");
  job.set(AvroTrevniOutputFormat.META_PREFIX + "test2","2");
  job.set("test3","3");
  job.set(AvroJob.TEXT_PREFIX + "test4","4");
  job.set(AvroTrevniOutputFormat.META_PREFIX + "test5","5");
  ColumnFileMetaData metadata=AvroTrevniOutputFormat.filterMetadata(job);
  assertTrue(metadata.get("test1") != null);
  assertTrue(new String(metadata.get("test1")).equals("1"));
  assertTrue(metadata.get("test2") != null);
  assertTrue(new String(metadata.get("test2")).equals("2"));
  assertTrue(metadata.get("test5") != null);
  assertTrue(new String(metadata.get("test5")).equals("5"));
  assertTrue(metadata.get("test3") == null);
  assertTrue(metadata.get("test4") == null);
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
