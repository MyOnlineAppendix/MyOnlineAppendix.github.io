<h3 style="margin:0px">Class: org.apache.cayenne.access.DataContextPrefetchIT (25 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(23)</kbd></button>&nbsp;<button id="8"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('8')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-8"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(21)</kbd></button>&nbsp;<button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(21)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(17)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(17)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(12)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies whether two objects/variables are the same"><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >IdentityVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="12"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('12')" data-toggle="tooltip" title="Verifies assertions in iterations"><kbd id="tag-12"class="label-info"style="display: inline-block;font-size:7pt" >IterativeVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Allocates resources before the execution of the test cases"><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >TestInitializer&nbsp;(1)</kbd></button>&nbsp;<button id="10"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('10')" data-toggle="tooltip" title="Executes methods or other tests from the same test unit"><kbd id="tag-10"class="label-info"style="display: inline-block;font-size:7pt" >ExecutionTester&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-8 type-1 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPrefetch_ToOneWith_OuterJoinFlattenedQualifier() throws Exception {
  tArtGroup.insert(1,"AG");
  tArtist.insert(11,"artist2");
  tArtist.insert(101,"artist3");
  tPainting.insert(6,"p_artist3",101,1000);
  tPainting.insert(7,"p_artist21",11,2000);
  tPainting.insert(8,"p_artist22",11,3000);
  tArtistGroup.insert(101,1);
  Expression exp=new Property<String>("groupArray+.name").eq("XX").orExp(Artist.ARTIST_NAME.eq("artist2"));
  SelectQuery<Artist> q=new SelectQuery<Artist>(Artist.class,exp);
  q.addPrefetch(Artist.PAINTING_ARRAY.disjoint());
  final List<Artist> results=context.select(q);
  queryInterceptor.runWithQueriesBlocked(new UnitTestClosure(){
    public void execute(){
      assertEquals(1,results.size());
      Artist a=results.get(0);
      assertEquals("artist2",a.getArtistName());
      assertEquals(2,a.getPaintingArray().size());
    }
  }
);
}

</code></pre>

<pre class="type-8 type-1 type-3 type-7 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrefetch_OneToOneWithQualifier() throws Exception {
  createArtistWithTwoPaintingsAndTwoInfosDataSet();
  Expression e=ExpressionFactory.likeExp("toArtist.artistName","a%");
  SelectQuery q=new SelectQuery(Painting.class,e);
  q.addPrefetch(Painting.TO_PAINTING_INFO_PROPERTY);
  q.addOrdering(Painting.PAINTING_TITLE_PROPERTY,SortOrder.ASCENDING);
  final List<Painting> results=context.performQuery(q);
  queryInterceptor.runWithQueriesBlocked(new UnitTestClosure(){
    public void execute(){
      assertEquals(2,results.size());
      Painting p0=results.get(0);
      Object o2=p0.readPropertyDirectly(Painting.TO_PAINTING_INFO_PROPERTY);
      assertTrue(o2 instanceof PaintingInfo);
      PaintingInfo pi2=(PaintingInfo)o2;
      assertEquals(PersistenceState.COMMITTED,pi2.getPersistenceState());
      assertEquals(Cayenne.intPKForObject(p0),Cayenne.intPKForObject(pi2));
      Painting p1=results.get(1);
      assertNull(p1.readPropertyDirectly(Painting.TO_PAINTING_INFO_PROPERTY));
      assertEquals(PersistenceState.COMMITTED,p1.getPersistenceState());
    }
  }
);
}

</code></pre>

<pre class="type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testPrefetchToMany_DateInQualifier() throws Exception {
  createTwoArtistsAndTwoPaintingsDataSet();
  Expression e=ExpressionFactory.matchExp("dateOfBirth",new Date());
  SelectQuery q=new SelectQuery(Artist.class,e);
  q.addPrefetch("paintingArray");
  context.performQuery(q);
}

</code></pre>

<pre class="type-8 type-1 type-3 type-7 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrefetchToOneLocalCache() throws Exception {
  createTwoArtistsAndTwoPaintingsDataSet();
  final SelectQuery q=new SelectQuery(Painting.class);
  q.addPrefetch(Painting.TO_ARTIST_PROPERTY);
  q.setCacheStrategy(QueryCacheStrategy.LOCAL_CACHE);
  context.performQuery(q);
  queryInterceptor.runWithQueriesBlocked(new UnitTestClosure(){
    public void execute(){
      List<Painting> cachedResult=context.performQuery(q);
      assertFalse(cachedResult.isEmpty());
      Painting p1=cachedResult.get(0);
      Object toOnePrefetch=p1.readNestedProperty("toArtist");
      assertNotNull(toOnePrefetch);
      assertTrue("Expected Artist, got: " + toOnePrefetch.getClass().getName(),toOnePrefetch instanceof Artist);
      Artist a1=(Artist)toOnePrefetch;
      assertEquals(PersistenceState.COMMITTED,a1.getPersistenceState());
      context.performQuery(q);
    }
  }
);
}

</code></pre>

<pre class="type-12 type-8 type-1 type-3 type-7 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrefetchToMany_ViaProperty() throws Exception {
  createTwoArtistsAndTwoPaintingsDataSet();
  SelectQuery<Artist> q=new SelectQuery<Artist>(Artist.class);
  q.addPrefetch(Artist.PAINTING_ARRAY.disjoint());
  final List<Artist> artists=context.select(q);
  queryInterceptor.runWithQueriesBlocked(new UnitTestClosure(){
    public void execute(){
      assertEquals(2,artists.size());
      for (int i=0; i < 2; i++) {
        Artist a=artists.get(i);
        List<?> toMany=(List<?>)a.readPropertyDirectly("paintingArray");
        assertNotNull(toMany);
        assertFalse(((ValueHolder)toMany).isFault());
        assertEquals(1,toMany.size());
        Painting p=(Painting)toMany.get(0);
        assertEquals("Invalid prefetched painting:" + p,"p_" + a.getArtistName(),p.getPaintingTitle());
      }
    }
  }
);
}

</code></pre>

<pre class="type-1 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPrefetch_ToOne_DbPath() throws Exception {
  createTwoArtistsAndTwoPaintingsDataSet();
  SelectQuery q=new SelectQuery(Painting.class);
  q.addPrefetch(Painting.TO_ARTIST_PROPERTY);
  q.andQualifier(ExpressionFactory.matchDbExp("toArtist.ARTIST_NAME","artist2"));
  List<Painting> results=context.performQuery(q);
  assertEquals(1,results.size());
}

</code></pre>

<pre class="type-8 type-1 type-3 type-7 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrefetch_ToOne() throws Exception {
  createTwoArtistsAndTwoPaintingsDataSet();
  SelectQuery q=new SelectQuery(Painting.class);
  q.addPrefetch(Painting.TO_ARTIST_PROPERTY);
  final List<Painting> result=context.performQuery(q);
  queryInterceptor.runWithQueriesBlocked(new UnitTestClosure(){
    public void execute(){
      assertFalse(result.isEmpty());
      Painting p1=result.get(0);
      Object toOnePrefetch=p1.readNestedProperty("toArtist");
      assertNotNull(toOnePrefetch);
      assertTrue("Expected Artist, got: " + toOnePrefetch.getClass().getName(),toOnePrefetch instanceof Artist);
      Artist a1=(Artist)toOnePrefetch;
      assertEquals(PersistenceState.COMMITTED,a1.getPersistenceState());
    }
  }
);
}

</code></pre>

<pre class="type-8 type-1 type-3 type-2 type-7 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test that a to-many relationship is initialized when a target entity has
 * a compound PK only partially involved in relationship.
 */
@Test public void testPrefetchToManyOnJoinTableJoinedPrefetch() throws Exception {
  createTwoArtistsWithExhibitsDataSet();
  SelectQuery q=new SelectQuery(Artist.class);
  q.addPrefetch("artistExhibitArray").setSemantics(PrefetchTreeNode.JOINT_PREFETCH_SEMANTICS);
  q.addOrdering(Artist.ARTIST_NAME_PROPERTY,SortOrder.ASCENDING);
  final List<Artist> artists=context.performQuery(q);
  queryInterceptor.runWithQueriesBlocked(new UnitTestClosure(){
    public void execute(){
      assertEquals(2,artists.size());
      Artist a1=artists.get(0);
      assertEquals("artist2",a1.getArtistName());
      List<?> toMany=(List<?>)a1.readPropertyDirectly("artistExhibitArray");
      assertNotNull(toMany);
      assertFalse(((ValueHolder)toMany).isFault());
      assertEquals(2,toMany.size());
      ArtistExhibit artistExhibit=(ArtistExhibit)toMany.get(0);
      assertEquals(PersistenceState.COMMITTED,artistExhibit.getPersistenceState());
      assertSame(a1,artistExhibit.getToArtist());
      Artist a2=artists.get(1);
      assertEquals("artist3",a2.getArtistName());
      List<?> toMany2=(List<?>)a2.readPropertyDirectly(Artist.ARTIST_EXHIBIT_ARRAY_PROPERTY);
      assertNotNull(toMany2);
      assertFalse(((ValueHolder)toMany2).isFault());
      assertEquals(3,toMany2.size());
      ArtistExhibit artistExhibit2=(ArtistExhibit)toMany2.get(0);
      assertEquals(PersistenceState.COMMITTED,artistExhibit2.getPersistenceState());
      assertSame(a2,artistExhibit2.getToArtist());
    }
  }
);
}

</code></pre>

<pre class="type-8 type-1 type-3 type-7 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrefetchToMany_WithQualfier() throws Exception {
  createTwoArtistsAndTwoPaintingsDataSet();
  Map<String,Object> params=new HashMap<>();
  params.put("name1","artist2");
  params.put("name2","artist3");
  Expression e=ExpressionFactory.exp("artistName = $name1 or artistName = $name2");
  SelectQuery<Artist> q=new SelectQuery("Artist",e.expWithParameters(params));
  q.addPrefetch(Artist.PAINTING_ARRAY_PROPERTY);
  final List<Artist> artists=context.select(q);
  queryInterceptor.runWithQueriesBlocked(new UnitTestClosure(){
    public void execute(){
      assertEquals(2,artists.size());
      Artist a1=artists.get(0);
      List<?> toMany=(List<?>)a1.readPropertyDirectly(Artist.PAINTING_ARRAY_PROPERTY);
      assertNotNull(toMany);
      assertFalse(((ValueHolder)toMany).isFault());
      assertEquals(1,toMany.size());
      Painting p1=(Painting)toMany.get(0);
      assertEquals("p_" + a1.getArtistName(),p1.getPaintingTitle());
      Artist a2=artists.get(1);
      List<?> toMany2=(List<?>)a2.readPropertyDirectly(Artist.PAINTING_ARRAY_PROPERTY);
      assertNotNull(toMany2);
      assertFalse(((ValueHolder)toMany2).isFault());
      assertEquals(1,toMany2.size());
      Painting p2=(Painting)toMany2.get(0);
      assertEquals("p_" + a2.getArtistName(),p2.getPaintingTitle());
    }
  }
);
}

</code></pre>

<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  tArtist=new TableHelper(dbHelper,"ARTIST");
  tArtist.setColumns("ARTIST_ID","ARTIST_NAME");
  tPainting=new TableHelper(dbHelper,"PAINTING");
  tPainting.setColumns("PAINTING_ID","PAINTING_TITLE","ARTIST_ID","ESTIMATED_PRICE").setColumnTypes(Types.INTEGER,Types.VARCHAR,Types.BIGINT,Types.DECIMAL);
  tPaintingInfo=new TableHelper(dbHelper,"PAINTING_INFO");
  tPaintingInfo.setColumns("PAINTING_ID","TEXT_REVIEW");
  tExhibit=new TableHelper(dbHelper,"EXHIBIT");
  tExhibit.setColumns("EXHIBIT_ID","GALLERY_ID","OPENING_DATE","CLOSING_DATE");
  tArtistExhibit=new TableHelper(dbHelper,"ARTIST_EXHIBIT");
  tArtistExhibit.setColumns("ARTIST_ID","EXHIBIT_ID");
  tGallery=new TableHelper(dbHelper,"GALLERY");
  tGallery.setColumns("GALLERY_ID","GALLERY_NAME");
  tArtistGroup=new TableHelper(dbHelper,"ARTIST_GROUP");
  tArtistGroup.setColumns("ARTIST_ID","GROUP_ID");
  tArtGroup=new TableHelper(dbHelper,"ARTGROUP");
  tArtGroup.setColumns("GROUP_ID","NAME");
}

</code></pre>

<pre class="type-8 type-1 type-7 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrefetchPaintingOverToOneAndToMany() throws Exception {
  createArtistWithTwoPaintingsAndTwoInfosDataSet();
  SelectQuery<Painting> query=new SelectQuery<Painting>(Painting.class);
  query.andQualifier(Painting.PAINTING_TITLE.eq("p_artist2"));
  query.addPrefetch(Painting.TO_ARTIST.disjoint());
  query.addPrefetch(Painting.TO_ARTIST.dot(Artist.PAINTING_ARRAY).disjoint());
  final List<Painting> results=context.select(query);
  queryInterceptor.runWithQueriesBlocked(new UnitTestClosure(){
    public void execute(){
      assertEquals(1,results.size());
      Painting p0=results.get(0);
      Artist a0=(Artist)p0.readPropertyDirectly(Painting.TO_ARTIST.getName());
      assertNotNull(a0);
      List<?> paintings=(List<?>)a0.readPropertyDirectly(Artist.PAINTING_ARRAY.getName());
      assertEquals(2,paintings.size());
    }
  }
);
}

</code></pre>

<pre class="type-8 type-1 type-7 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrefetchToOneWithBackRelationship_Joint() throws Exception {
  createArtistWithTwoPaintingsAndTwoInfosDataSet();
  SelectQuery<Painting> query=new SelectQuery<Painting>(Painting.class);
  query.andQualifier(Painting.PAINTING_TITLE.eq("p_artist2"));
  query.addPrefetch(Painting.TO_PAINTING_INFO.joint());
  query.addPrefetch(Painting.TO_PAINTING_INFO.dot(PaintingInfo.PAINTING).joint());
  final List<Painting> results=context.select(query);
  queryInterceptor.runWithQueriesBlocked(new UnitTestClosure(){
    public void execute(){
      assertEquals(1,results.size());
      Painting p0=results.get(0);
      PaintingInfo pi0=(PaintingInfo)p0.readPropertyDirectly(Painting.TO_PAINTING_INFO.getName());
      assertNotNull(pi0);
      assertNotNull(pi0.readPropertyDirectly(PaintingInfo.PAINTING.getName()));
    }
  }
);
}

</code></pre>

<pre class="type-8 type-1 type-7 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrefetchToOneWithBackRelationship() throws Exception {
  createArtistWithTwoPaintingsAndTwoInfosDataSet();
  SelectQuery<Painting> query=new SelectQuery<Painting>(Painting.class);
  query.andQualifier(Painting.PAINTING_TITLE.eq("p_artist2"));
  query.addPrefetch(Painting.TO_PAINTING_INFO.disjoint());
  query.addPrefetch(Painting.TO_PAINTING_INFO.dot(PaintingInfo.PAINTING).disjoint());
  final List<Painting> results=context.select(query);
  queryInterceptor.runWithQueriesBlocked(new UnitTestClosure(){
    public void execute(){
      assertEquals(1,results.size());
      Painting p0=results.get(0);
      PaintingInfo pi0=(PaintingInfo)p0.readPropertyDirectly(Painting.TO_PAINTING_INFO.getName());
      assertNotNull(pi0);
      assertNotNull(pi0.readPropertyDirectly(PaintingInfo.PAINTING.getName()));
    }
  }
);
}

</code></pre>

<pre class="type-8 type-1 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPrefetch_ToOneWithQualifierOverlappingPrefetchPath() throws Exception {
  createTwoArtistsAndTwoPaintingsDataSet();
  Expression exp=ExpressionFactory.matchExp("toArtist.artistName","artist3");
  SelectQuery q=new SelectQuery(Painting.class,exp);
  q.addPrefetch(Painting.TO_ARTIST_PROPERTY);
  final List<Painting> results=context.performQuery(q);
  queryInterceptor.runWithQueriesBlocked(new UnitTestClosure(){
    public void execute(){
      assertEquals(1,results.size());
      Painting painting=results.get(0);
      assertEquals(PersistenceState.COMMITTED,painting.getToArtist().getPersistenceState());
    }
  }
);
}

</code></pre>

<pre class="type-8 type-1 type-7 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrefetchingToOneNull() throws Exception {
  tPainting.insert(6,"p_Xty",null,1000);
  SelectQuery q=new SelectQuery(Painting.class);
  q.addPrefetch(Painting.TO_ARTIST_PROPERTY);
  final List<Painting> paintings=context.performQuery(q);
  queryInterceptor.runWithQueriesBlocked(new UnitTestClosure(){
    public void execute(){
      assertEquals(1,paintings.size());
      Painting p2=paintings.get(0);
      assertNull(p2.readProperty(Painting.TO_ARTIST_PROPERTY));
    }
  }
);
}

</code></pre>

<pre class="type-1 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPrefetch_ToOne_ObjPath() throws Exception {
  createTwoArtistsAndTwoPaintingsDataSet();
  SelectQuery q=new SelectQuery(Painting.class);
  q.addPrefetch(Painting.TO_ARTIST_PROPERTY);
  q.andQualifier(ExpressionFactory.matchExp("toArtist.artistName","artist2"));
  List<Painting> results=context.performQuery(q);
  assertEquals(1,results.size());
}

</code></pre>

<pre class="type-8 type-1 type-3 type-2 type-7 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrefetchToManyOnJoinTableJoinedPrefetch_ViaProperty() throws Exception {
  createTwoArtistsWithExhibitsDataSet();
  SelectQuery<Artist> q=new SelectQuery<Artist>(Artist.class);
  q.addPrefetch(Artist.ARTIST_EXHIBIT_ARRAY.joint());
  q.addOrdering(Artist.ARTIST_NAME.asc());
  final List<Artist> artists=context.select(q);
  queryInterceptor.runWithQueriesBlocked(new UnitTestClosure(){
    public void execute(){
      assertEquals(2,artists.size());
      Artist a1=artists.get(0);
      assertEquals("artist2",a1.getArtistName());
      List<?> toMany=(List<?>)a1.readPropertyDirectly(Artist.ARTIST_EXHIBIT_ARRAY.getName());
      assertNotNull(toMany);
      assertFalse(((ValueHolder)toMany).isFault());
      assertEquals(2,toMany.size());
      ArtistExhibit artistExhibit=(ArtistExhibit)toMany.get(0);
      assertEquals(PersistenceState.COMMITTED,artistExhibit.getPersistenceState());
      assertSame(a1,artistExhibit.getToArtist());
      Artist a2=artists.get(1);
      assertEquals("artist3",a2.getArtistName());
      List<?> toMany2=(List<?>)a2.readPropertyDirectly(Artist.ARTIST_EXHIBIT_ARRAY.getName());
      assertNotNull(toMany2);
      assertFalse(((ValueHolder)toMany2).isFault());
      assertEquals(3,toMany2.size());
      ArtistExhibit artistExhibit2=(ArtistExhibit)toMany2.get(0);
      assertEquals(PersistenceState.COMMITTED,artistExhibit2.getPersistenceState());
      assertSame(a2,artistExhibit2.getToArtist());
    }
  }
);
}

</code></pre>

<pre class="type-8 type-1 type-3 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrefetch_ToManyNoReverseWithQualifier() throws Exception {
  createTwoArtistsAndTwoPaintingsDataSet();
  ObjEntity paintingEntity=context.getEntityResolver().getObjEntity(Painting.class);
  ObjRelationship relationship=paintingEntity.getRelationship("toArtist");
  paintingEntity.removeRelationship("toArtist");
  try {
    SelectQuery q=new SelectQuery(Artist.class);
    q.setQualifier(ExpressionFactory.matchExp("artistName","artist2"));
    q.addPrefetch(Artist.PAINTING_ARRAY_PROPERTY);
    final List<Artist> result=context.performQuery(q);
    queryInterceptor.runWithQueriesBlocked(new UnitTestClosure(){
      public void execute(){
        assertFalse(result.isEmpty());
        Artist a1=result.get(0);
        List<?> toMany=(List<?>)a1.readPropertyDirectly("paintingArray");
        assertNotNull(toMany);
        assertFalse(((ValueHolder)toMany).isFault());
      }
    }
);
  }
  finally {
    paintingEntity.addRelationship(relationship);
  }
}

</code></pre>

<pre class="type-8 type-1 type-3 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test that a to-many relationship is initialized when there is no inverse
 * relationship
 */
@Test public void testPrefetch_ToManyNoReverse() throws Exception {
  createTwoArtistsAndTwoPaintingsDataSet();
  ObjEntity paintingEntity=context.getEntityResolver().getObjEntity(Painting.class);
  ObjRelationship relationship=paintingEntity.getRelationship("toArtist");
  paintingEntity.removeRelationship("toArtist");
  try {
    SelectQuery q=new SelectQuery(Artist.class);
    q.addPrefetch(Artist.PAINTING_ARRAY_PROPERTY);
    final List<Artist> result=context.performQuery(q);
    queryInterceptor.runWithQueriesBlocked(new UnitTestClosure(){
      public void execute(){
        assertFalse(result.isEmpty());
        Artist a1=result.get(0);
        List<?> toMany=(List<?>)a1.readPropertyDirectly("paintingArray");
        assertNotNull(toMany);
        assertFalse(((ValueHolder)toMany).isFault());
      }
    }
);
  }
  finally {
    paintingEntity.addRelationship(relationship);
  }
}

</code></pre>

<pre class="type-8 type-1 type-7 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrefetchJointAndDisjointByIdTogether() throws Exception {
  createArtistWithTwoPaintingsAndTwoInfosDataSet();
  SelectQuery<Painting> query=new SelectQuery<Painting>(Painting.class);
  query.andQualifier(Painting.PAINTING_TITLE.eq("p_artist2"));
  query.addPrefetch(Painting.TO_ARTIST.joint());
  query.addPrefetch(Painting.TO_PAINTING_INFO.disjointById());
  final List<Painting> results=context.select(query);
  queryInterceptor.runWithQueriesBlocked(new UnitTestClosure(){
    public void execute(){
      assertEquals(1,results.size());
      Painting p0=results.get(0);
      Artist a0=(Artist)p0.readPropertyDirectly(Painting.TO_ARTIST.getName());
      assertNotNull(a0);
      PaintingInfo info=(PaintingInfo)p0.readPropertyDirectly(Painting.TO_PAINTING_INFO.getName());
      assertNotNull(info);
    }
  }
);
}

</code></pre>

<pre class="type-8 type-1 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPrefetch_ReflexiveRelationship() throws Exception {
  ArtGroup parent=(ArtGroup)context.newObject("ArtGroup");
  parent.setName("parent");
  ArtGroup child=(ArtGroup)context.newObject("ArtGroup");
  child.setName("child");
  child.setToParentGroup(parent);
  context.commitChanges();
  SelectQuery q=new SelectQuery("ArtGroup");
  q.setQualifier(ExpressionFactory.matchExp("name","child"));
  q.addPrefetch("toParentGroup");
  final List<ArtGroup> results=context.performQuery(q);
  queryInterceptor.runWithQueriesBlocked(new UnitTestClosure(){
    public void execute(){
      assertEquals(1,results.size());
      ArtGroup fetchedChild=results.get(0);
      assertEquals(PersistenceState.COMMITTED,fetchedChild.getToParentGroup().getPersistenceState());
    }
  }
);
}

</code></pre>

<pre class="type-8 type-1 type-3 type-7 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrefetchToOneSharedCache() throws Exception {
  createTwoArtistsAndTwoPaintingsDataSet();
  final SelectQuery q=new SelectQuery(Painting.class);
  q.addPrefetch(Painting.TO_ARTIST_PROPERTY);
  q.setCacheStrategy(QueryCacheStrategy.SHARED_CACHE);
  context.performQuery(q);
  queryInterceptor.runWithQueriesBlocked(new UnitTestClosure(){
    public void execute(){
      List<Painting> cachedResult=context.performQuery(q);
      assertFalse(cachedResult.isEmpty());
      Painting p1=cachedResult.get(0);
      Object toOnePrefetch=p1.readNestedProperty("toArtist");
      assertNotNull(toOnePrefetch);
      assertTrue("Expected Artist, got: " + toOnePrefetch.getClass().getName(),toOnePrefetch instanceof Artist);
      Artist a1=(Artist)toOnePrefetch;
      assertEquals(PersistenceState.COMMITTED,a1.getPersistenceState());
      context.performQuery(q);
    }
  }
);
}

</code></pre>

<pre class="type-8 type-1 type-3 type-2 type-7 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test that a to-many relationship is initialized when a target entity has
 * a compound PK only partially involved in relationship.
 */
@Test public void testPrefetchToMany_OnJoinTableDisjoinedPrefetch() throws Exception {
  createTwoArtistsWithExhibitsDataSet();
  SelectQuery q=new SelectQuery(Artist.class);
  q.addPrefetch(Artist.ARTIST_EXHIBIT_ARRAY_PROPERTY).setSemantics(PrefetchTreeNode.DISJOINT_PREFETCH_SEMANTICS);
  q.addOrdering(Artist.ARTIST_NAME_PROPERTY,SortOrder.ASCENDING);
  final List<Artist> artists=context.performQuery(q);
  queryInterceptor.runWithQueriesBlocked(new UnitTestClosure(){
    public void execute(){
      assertEquals(2,artists.size());
      Artist a1=artists.get(0);
      assertEquals("artist2",a1.getArtistName());
      List<?> toMany=(List<?>)a1.readPropertyDirectly(Artist.ARTIST_EXHIBIT_ARRAY_PROPERTY);
      assertNotNull(toMany);
      assertFalse(((ValueHolder)toMany).isFault());
      assertEquals(2,toMany.size());
      ArtistExhibit artistExhibit=(ArtistExhibit)toMany.get(0);
      assertEquals(PersistenceState.COMMITTED,artistExhibit.getPersistenceState());
      assertSame(a1,artistExhibit.getToArtist());
      Artist a2=artists.get(1);
      assertEquals("artist3",a2.getArtistName());
      List<?> toMany2=(List<?>)a2.readPropertyDirectly(Artist.ARTIST_EXHIBIT_ARRAY_PROPERTY);
      assertNotNull(toMany2);
      assertFalse(((ValueHolder)toMany2).isFault());
      assertEquals(3,toMany2.size());
      ArtistExhibit artistExhibit2=(ArtistExhibit)toMany2.get(0);
      assertEquals(PersistenceState.COMMITTED,artistExhibit2.getPersistenceState());
      assertSame(a2,artistExhibit2.getToArtist());
    }
  }
);
}

</code></pre>

<pre class="type-8 type-1 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPrefetch9() throws Exception {
  createTwoArtistsAndTwoPaintingsDataSet();
  Expression artistExp=ExpressionFactory.matchExp("artistName","artist3");
  SelectQuery artistQuery=new SelectQuery(Artist.class,artistExp);
  Artist artist1=(Artist)context.performQuery(artistQuery).get(0);
  Expression exp=ExpressionFactory.noMatchExp("toArtist",artist1);
  SelectQuery q=new SelectQuery(Painting.class,exp);
  q.addPrefetch("toArtist");
  final List<Painting> results=context.performQuery(q);
  queryInterceptor.runWithQueriesBlocked(new UnitTestClosure(){
    public void execute(){
      assertEquals(1,results.size());
      Painting px=results.get(0);
      Artist ax=(Artist)px.readProperty(Painting.TO_ARTIST_PROPERTY);
      assertEquals(PersistenceState.COMMITTED,ax.getPersistenceState());
    }
  }
);
}

</code></pre>

<pre class="type-12 type-8 type-1 type-3 type-7 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrefetchToManyNoQualifier() throws Exception {
  createTwoArtistsAndTwoPaintingsDataSet();
  SelectQuery q=new SelectQuery(Artist.class);
  q.addPrefetch(Artist.PAINTING_ARRAY_PROPERTY);
  final List<Artist> artists=context.performQuery(q);
  queryInterceptor.runWithQueriesBlocked(new UnitTestClosure(){
    public void execute(){
      assertEquals(2,artists.size());
      for (int i=0; i < 2; i++) {
        Artist a=artists.get(i);
        List<?> toMany=(List<?>)a.readPropertyDirectly("paintingArray");
        assertNotNull(toMany);
        assertFalse(((ValueHolder)toMany).isFault());
        assertEquals(1,toMany.size());
        Painting p=(Painting)toMany.get(0);
        assertEquals("Invalid prefetched painting:" + p,"p_" + a.getArtistName(),p.getPaintingTitle());
      }
    }
  }
);
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
