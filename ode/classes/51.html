<h3 style="margin:0px">Class: org.apache.ode.scheduler.simple.JdbcDelegateTest (9 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(8)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(8)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(5)</kbd></button>&nbsp;<button id="8"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('8')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-8"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="12"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('12')" data-toggle="tooltip" title="Allocates resources before the execution of the test cases"><kbd id="tag-12"class="label-info"style="display: inline-block;font-size:7pt" >TestInitializer&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-6 type-3 type-7 type-8 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetNodeIds() throws Exception {
  List<String> nids=_del.getNodeIds();
  assertNotNull(nids);
  assertEquals(0,nids.size());
  _del.insertJob(new Job(0L,true,new Scheduler.JobDetails()),"abc",true);
  nids=_del.getNodeIds();
  assertEquals(1,nids.size());
  assertTrue(nids.contains("abc"));
  _del.insertJob(new Job(0L,true,new Scheduler.JobDetails()),"abc",true);
  nids=_del.getNodeIds();
  assertEquals(1,nids.size());
  assertTrue(nids.contains("abc"));
  _del.insertJob(new Job(0L,true,new Scheduler.JobDetails()),"123",true);
  nids=_del.getNodeIds();
  assertEquals(2,nids.size());
  assertTrue(nids.contains("abc"));
  assertTrue(nids.contains("123"));
}

</code></pre>

<pre class="type-6 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMigration() throws Exception {
  Scheduler.JobDetails j1=new Scheduler.JobDetails();
  j1.getDetailsExt().put("type","MATCHER");
  j1.getDetailsExt().put("iid",1234L);
  j1.getDetailsExt().put("pid",new QName("http://test1","test2").toString());
  j1.getDetailsExt().put("inmem",true);
  j1.getDetailsExt().put("ckey","@2[some~001~002]");
  j1.getDetailsExt().put("channel","123");
  j1.getDetailsExt().put("mexid","mexid123");
  j1.getDetailsExt().put("correlatorId","cid123");
  j1.getDetailsExt().put("retryCount","15");
  _del.insertJob(new Job(0,"migration",true,j1),null,false);
  _del.updateAssignToNode("m",0,3,100);
  Scheduler.JobDetails j2=_del.dequeueImmediate("m",10000L,1000).get(0).detail;
  assertEquals(j2.getType(),JobType.MATCHER);
  assertEquals(j2.getInstanceId(),(Object)1234L);
  assertEquals(j2.getProcessId(),new QName("http://test1","test2"));
  assertEquals(j2.getInMem(),(Object)true);
  assertEquals(j2.getCorrelationKeySet().toCanonicalString(),(Object)"@2[some~001~002]");
  assertEquals(j2.getChannel(),(Object)"123");
  assertEquals(j2.getMexId(),(Object)"mexid123");
  assertEquals(j2.getCorrelatorId(),(Object)"cid123");
  assertEquals(j2.getRetryCount(),(Object)15);
}

</code></pre>

<pre class="type-6 type-7 type-8 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testScheduleImmediateMaxRows() throws Exception {
  _del.insertJob(new Job(100L,"j1",true,new Scheduler.JobDetails()),"n1",false);
  _del.insertJob(new Job(200L,"j2",true,new Scheduler.JobDetails()),"n1",false);
  List<Job> jobs=_del.dequeueImmediate("n1",201L,1);
  assertNotNull(jobs);
  assertEquals(1,jobs.size());
  assertEquals("j1",jobs.get(0).jobId);
}

</code></pre>

<pre class="type-6 type-7 type-8 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testScheduleImmediateNodeFilter() throws Exception {
  _del.insertJob(new Job(100L,"j1",true,new Scheduler.JobDetails()),"n1",false);
  _del.insertJob(new Job(200L,"j2",true,new Scheduler.JobDetails()),"n2",false);
  List<Job> jobs=_del.dequeueImmediate("n2",300L,1000);
  assertNotNull(jobs);
  assertEquals(1,jobs.size());
  assertEquals("j2",jobs.get(0).jobId);
}

</code></pre>

<pre class="type-6 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUpgrade() throws Exception {
  for (int i=0; i < 200; ++i)   _del.insertJob(new Job(i,"j" + i,true,new Scheduler.JobDetails()),null,false);
  int n1=_del.updateAssignToNode("n1",0,3,100);
  int n2=_del.updateAssignToNode("n2",1,3,100);
  int n3=_del.updateAssignToNode("n3",2,3,100);
  assertEquals(100,n1 + n2 + n3);
  assertEquals(n1,_del.dequeueImmediate("n1",10000L,1000).size());
  assertEquals(n2,_del.dequeueImmediate("n2",10000L,1000).size());
  assertEquals(n3,_del.dequeueImmediate("n3",10000L,1000).size());
}

</code></pre>

<pre class="type-6 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReassign() throws Exception {
  _del.insertJob(new Job(100L,"j1",true,new Scheduler.JobDetails()),"n1",false);
  _del.insertJob(new Job(200L,"j2",true,new Scheduler.JobDetails()),"n2",false);
  assertEquals(1,_del.updateReassign("n1","n2"));
  List<Job> jobs=_del.dequeueImmediate("n2",400L,1000);
  assertEquals(2,jobs.size());
}

</code></pre>

<pre class="type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  _ds=new DelegateSupport();
  _del=_ds.delegate();
}

</code></pre>

<pre class="type-6 type-7 type-8 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testScheduleImmediateTimeFilter() throws Exception {
  _del.insertJob(new Job(100L,"j1",true,new Scheduler.JobDetails()),"n1",false);
  _del.insertJob(new Job(200L,"j2",true,new Scheduler.JobDetails()),"n1",false);
  List<Job> jobs=_del.dequeueImmediate("n1",150L,1000);
  assertNotNull(jobs);
  assertEquals(1,jobs.size());
  assertEquals("j1",jobs.get(0).jobId);
  jobs=_del.dequeueImmediate("n1",250L,1000);
  assertNotNull(jobs);
  assertEquals(2,jobs.size());
  assertEquals("j1",jobs.get(0).jobId);
  assertEquals("j2",jobs.get(1).jobId);
}

</code></pre>

<pre class="type-6 type-3 type-7 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeleteJob() throws Exception {
  _del.insertJob(new Job(100L,"j1",true,new Scheduler.JobDetails()),"n1",false);
  _del.insertJob(new Job(200L,"j2",true,new Scheduler.JobDetails()),"n2",false);
  assertFalse(_del.deleteJob("j1x","n1"));
  assertEquals(2,_del.getNodeIds().size());
  assertFalse(_del.deleteJob("j1","n1x"));
  assertEquals(2,_del.getNodeIds().size());
  assertTrue(_del.deleteJob("j1","n1"));
  assertEquals(1,_del.getNodeIds().size());
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
