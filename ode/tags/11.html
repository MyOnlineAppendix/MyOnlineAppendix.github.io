<h3><span class=" glyphicon glyphicon-tag"/>&nbspIterativeVerifier</h3><kbd>Verifies assertions in iterations</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.ode.axis2.management.DeploymentTest </h4><pre class="type-11 type-2 type-3 type-7 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultipleDeployUndeployVersion() throws Exception {
  ArrayList<String> deployed=new ArrayList<String>();
  int lastVer=Integer.parseInt(_package.substring(_package.lastIndexOf("-") + 1,_package.length()));
  for (int m=1; m <= 3; m++) {
    String depPack=deploy();
    int ver=Integer.parseInt(depPack.substring(depPack.lastIndexOf("-") + 1,depPack.length()));
    assertEquals(lastVer + m,ver);
    deployed.add(depPack);
  }
  String depPack=deploy("foo");
  int ver=Integer.parseInt(depPack.substring(depPack.lastIndexOf("-") + 1,depPack.length()));
  assertTrue(lastVer + 4 <= ver);
  deployed.add(depPack);
  depPack=deploy("bar");
  ver=Integer.parseInt(depPack.substring(depPack.lastIndexOf("-") + 1,depPack.length()));
  assertTrue(lastVer + 5 <= ver);
  deployed.add(depPack);
  for (  String aDeployed : deployed) {
    undeploy(aDeployed);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ode.bpel.elang.xpath20.compiler.XPath20ExpressionCompilerImplTest </h4><pre class="type-11 type-2 type-16 type-6 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testresolvedFunctionsTimeStamp() throws Exception {
  XPath20ExpressionCompilerImpl xp20Exp=new XPath20ExpressionCompilerImpl(TEST_NAMESPACE);
  final Method[] methods=xp20Exp.getClass().getDeclaredMethods();
  for (int i=0; i < methods.length; ++i) {
    if (methods[i].getName().equals(EXTRACT_FUNCTION_EXPRS)) {
      String multipleFunctions="concat(current-date() + xs:dayTimeDuration(concat(\"P\", $DAYS_TO_NEXT_REMINDER, \"D\")), \"T\", \"08:30:00.000+08:00\")";
      final Object params[]={multipleFunctions};
      methods[i].setAccessible(true);
      Object ret=methods[i].invoke(xp20Exp,params);
      List<?> values=(List<?>)ret;
      Assert.assertEquals(1,values.size());
      Assert.assertEquals("Unexpected Function value",multipleFunctions,(String)values.get(0));
    }
  }
}

</code></pre>

<br>
<pre class="type-11 type-2 type-16 type-6 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testresolvedFunctionsExpr() throws Exception {
  XPath20ExpressionCompilerImpl xp20Exp=new XPath20ExpressionCompilerImpl(TEST_NAMESPACE);
  final Method[] methods=xp20Exp.getClass().getDeclaredMethods();
  for (int i=0; i < methods.length; ++i) {
    if (methods[i].getName().equals(EXTRACT_FUNCTION_EXPRS)) {
      final Object params[]={"count(count(1))"};
      methods[i].setAccessible(true);
      Object ret=methods[i].invoke(xp20Exp,params);
      List<?> values=(List<?>)ret;
      Assert.assertEquals(1,values.size());
    }
  }
}

</code></pre>

<br>
<pre class="type-11 type-2 type-16 type-6 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTimeStampInFunction() throws Exception {
  XPath20ExpressionCompilerImpl xp20Exp=new XPath20ExpressionCompilerImpl(TEST_NAMESPACE);
  final Method[] methods=xp20Exp.getClass().getDeclaredMethods();
  for (int i=0; i < methods.length; ++i) {
    if (methods[i].getName().equals(EXTRACT_FUNCTION_EXPRS)) {
      final Object params[]={"concat(xs:concat(\"P\", \"08:30:00.000+08:00\"))"};
      methods[i].setAccessible(true);
      Object ret=methods[i].invoke(xp20Exp,params);
      List<?> values=(List<?>)ret;
      Assert.assertEquals(1,values.size());
    }
  }
}

</code></pre>

<br>
<pre class="type-11 type-2 type-16 type-6 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExtractFunctionsExprs() throws Exception {
  XPath20ExpressionCompilerImpl xp20Exp=new XPath20ExpressionCompilerImpl(TEST_NAMESPACE);
  final Method[] methods=xp20Exp.getClass().getDeclaredMethods();
  String ODE_840="bpel:doXslTransform(\"1.0.1/some.xsl\", $Variable.body, \"someParameter\", $OtherVariable.body, \"someParameter2\", $SwsHeaderRQ, \"someParameter3\", true(), \"someXpathParameter\", $XPath)";
  for (int i=0; i < methods.length; ++i) {
    if (methods[i].getName().equals(EXTRACT_FUNCTION_EXPRS)) {
      final Object params[]={ODE_840};
      methods[i].setAccessible(true);
      Object ret=methods[i].invoke(xp20Exp,params);
      List<?> values=(List<?>)ret;
      Assert.assertEquals(1,values.size());
      Assert.assertEquals("Unexpected Function value",ODE_840,(String)values.get(0));
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ode.scheduler.simple.SchedulerThreadTest </h4><pre class="type-11 type-2 type-3 type-7 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTaskDequeueOrderWithSameExecTime() throws Exception {
  final long startTime=System.currentTimeMillis();
  for (int i=0; i < 300; i++) {
    Job tsk=new Job(startTime,String.valueOf(i),true,null);
    _st.enqueue(tsk);
  }
  _st.start();
  Thread.sleep(300 + 300 * 5);
  assertEquals(300,_tasks.size());
  for (int i=0; i < 299; ++i) {
    Job currJob=(Job)_tasks.get(i).task;
    Job nextJob=(Job)_tasks.get(i + 1).task;
    assertTrue(Integer.parseInt(currJob.jobId) < Integer.parseInt(nextJob.jobId));
  }
  _st.stop();
}

</code></pre>

<br>
<pre class="type-11 type-3 type-7 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParallelEnqueue() throws Exception {
  _st.start();
  final long startTime=System.currentTimeMillis() + 100;
  final AtomicInteger ai=new AtomicInteger(300);
  Runnable run=new Runnable(){
    public void run(){
      Task tsk=new Task(startTime + ai.getAndDecrement() * 5);
      _st.enqueue(tsk);
    }
  }
;
  ExecutorService es=Executors.newFixedThreadPool(50);
  for (int i=0; i < 300; ++i)   es.execute(run);
  Thread.sleep(300 + 300 * 5);
  assertEquals(300,_tasks.size());
  for (int i=0; i < 299; ++i)   assertTrue(_tasks.get(i).task.schedDate < _tasks.get(i + 1).task.schedDate);
  for (  TR tr : _tasks) {
    assertTrue(tr.time < tr.task.schedDate + SCHED_TOLERANCE / 2);
    assertTrue(tr.time > tr.task.schedDate - SCHED_TOLERANCE / 2);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ode.scheduler.simple.SimpleSchedulerTest </h4><pre class="type-11 type-6 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConcurrentExec() throws Exception {
  _scheduler.start();
  for (int i=0; i < 10; i++) {
    _txm.begin();
    String jobId;
    try {
      int jobs=_jobs.size();
      jobId=_scheduler.schedulePersistedJob(newDetail("123"),new Date(System.currentTimeMillis() + 200));
      Thread.sleep(100);
    }
  finally {
      _txm.commit();
    }
    assertEquals(true,_ds.delegate().deleteJob(jobId,"n1"));
    Thread.sleep(250);
    assertEquals(_jobs.size(),_commit.size());
  }
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
