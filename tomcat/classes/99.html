<h3 style="margin:0px">Class: org.apache.catalina.startup.TestContextConfigAnnotation (9 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="13"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('13')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-13"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(9)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(8)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(8)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(7)</kbd></button>&nbsp;<button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(6)</kbd></button>&nbsp;<button id="11"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('11')" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure"><kbd id="tag-11"class="label-info"style="display: inline-block;font-size:7pt" >UtilityVerifier&nbsp;(2)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-13 type-3 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetupWebXMLNoMapping() throws Exception {
  WebXml webxml=new WebXml();
  ServletDef servletDef=new ServletDef();
  servletDef.setServletName("param1");
  servletDef.setServletClass("org.apache.catalina.startup.NoMappingParamServlet");
  servletDef.addInitParameter("foo","tomcat");
  webxml.addServlet(servletDef);
  webxml.addServletMapping("/param","param1");
  ContextConfig config=new ContextConfig();
  File pFile=paramClassResource("org/apache/catalina/startup/NoMappingParamServlet");
  assertTrue(pFile.exists());
  config.processAnnotationsFile(pFile,webxml,false);
  assertEquals("tomcat",servletDef.getParameterMap().get("foo"));
  assertEquals("World!",servletDef.getParameterMap().get("bar"));
  ServletDef servletDef1=webxml.getServlets().get("param1");
  assertNotNull(servletDef1);
  assertEquals(servletDef,servletDef1);
}

</code></pre>

<pre class="type-13 type-3 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAnnotation() throws Exception {
  WebXml webxml=new WebXml();
  ContextConfig config=new ContextConfig();
  File pFile=paramClassResource("org/apache/catalina/startup/ParamServlet");
  assertTrue(pFile.exists());
  config.processAnnotationsFile(pFile,webxml,false);
  ServletDef servletDef=webxml.getServlets().get("param");
  assertNotNull(servletDef);
  assertEquals("Hello",servletDef.getParameterMap().get("foo"));
  assertEquals("World!",servletDef.getParameterMap().get("bar"));
  assertEquals("param",webxml.getServletMappings().get("/annotation/overwrite"));
  assertEquals("param",servletDef.getDescription());
  assertEquals("param",servletDef.getDisplayName());
  assertEquals("paramLarge.png",servletDef.getLargeIcon());
  assertEquals("paramSmall.png",servletDef.getSmallIcon());
  assertEquals(Boolean.FALSE,servletDef.getAsyncSupported());
  assertEquals(Integer.valueOf(0),servletDef.getLoadOnStartup());
  assertNull(servletDef.getEnabled());
  assertNull(servletDef.getJspFile());
}

</code></pre>

<pre class="type-13 type-3 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOverwriteAnnotation() throws Exception {
  WebXml webxml=new WebXml();
  ServletDef servletDef=new ServletDef();
  servletDef.setServletName("param");
  servletDef.setServletClass("org.apache.catalina.startup.ParamServlet");
  servletDef.addInitParameter("foo","tomcat");
  servletDef.setDescription("Description");
  servletDef.setDisplayName("DisplayName");
  servletDef.setLargeIcon("LargeIcon");
  servletDef.setSmallIcon("SmallIcon");
  servletDef.setAsyncSupported("true");
  servletDef.setLoadOnStartup("1");
  webxml.addServlet(servletDef);
  webxml.addServletMapping("/param","param");
  ContextConfig config=new ContextConfig();
  File pFile=paramClassResource("org/apache/catalina/startup/ParamServlet");
  assertTrue(pFile.exists());
  config.processAnnotationsFile(pFile,webxml,false);
  assertEquals(servletDef,webxml.getServlets().get("param"));
  assertEquals("tomcat",servletDef.getParameterMap().get("foo"));
  assertEquals("param",webxml.getServletMappings().get("/param"));
  assertNull(webxml.getServletMappings().get("/annotation/overwrite"));
  assertEquals("Description",servletDef.getDescription());
  assertEquals("DisplayName",servletDef.getDisplayName());
  assertEquals("LargeIcon",servletDef.getLargeIcon());
  assertEquals("SmallIcon",servletDef.getSmallIcon());
  assertEquals(Boolean.TRUE,servletDef.getAsyncSupported());
  assertEquals(Integer.valueOf(1),servletDef.getLoadOnStartup());
  assertNull(servletDef.getEnabled());
  assertNull(servletDef.getJspFile());
}

</code></pre>

<pre class="type-13 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCheckHandleTypes() throws Exception {
  ContextConfig config=new ContextConfig();
  config.handlesTypesAnnotations=true;
  config.handlesTypesNonAnnotations=true;
  StandardContext context=new StandardContext();
  context.setLoader(new TesterLoader());
  config.context=context;
  SCI sciNone=new SCI();
  config.initializerClassMap.put(sciNone,new HashSet<Class<?>>());
  SCI sciServlet=new SCI();
  config.initializerClassMap.put(sciServlet,new HashSet<Class<?>>());
  config.typeInitializerMap.put(Servlet.class,new HashSet<ServletContainerInitializer>());
  config.typeInitializerMap.get(Servlet.class).add(sciServlet);
  SCI sciObject=new SCI();
  config.initializerClassMap.put(sciObject,new HashSet<Class<?>>());
  config.typeInitializerMap.put(Object.class,new HashSet<ServletContainerInitializer>());
  config.typeInitializerMap.get(Object.class).add(sciObject);
  WebXml ignore=new WebXml();
  File file=paramClassResource("org/apache/catalina/startup/ParamServlet");
  config.processAnnotationsFile(file,ignore,false);
  file=paramClassResource("org/apache/catalina/startup/ParamFilter");
  config.processAnnotationsFile(file,ignore,false);
  file=paramClassResource("org/apache/catalina/startup/TesterServlet");
  config.processAnnotationsFile(file,ignore,false);
  file=paramClassResource("org/apache/catalina/startup/TestListener");
  config.processAnnotationsFile(file,ignore,false);
  assertEquals(0,config.initializerClassMap.get(sciNone).size());
  assertEquals(2,config.initializerClassMap.get(sciServlet).size());
  assertEquals(4,config.initializerClassMap.get(sciObject).size());
}

</code></pre>

<pre class="type-13 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFilterMapping() throws Exception {
  WebXml webxml=new WebXml();
  ContextConfig config=new ContextConfig();
  File sFile=paramClassResource("org/apache/catalina/startup/ParamServlet");
  config.processAnnotationsFile(sFile,webxml,false);
  File fFile=paramClassResource("org/apache/catalina/startup/ParamFilter");
  config.processAnnotationsFile(fFile,webxml,false);
  FilterDef fdef=webxml.getFilters().get("paramFilter");
  assertNotNull(fdef);
  assertEquals("Servlet says: ",fdef.getParameterMap().get("message"));
}

</code></pre>

<pre class="type-13 type-3 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNoMapping() throws Exception {
  WebXml webxml=new WebXml();
  ContextConfig config=new ContextConfig();
  File pFile=paramClassResource("org/apache/catalina/startup/NoMappingParamServlet");
  assertTrue(pFile.exists());
  config.processAnnotationsFile(pFile,webxml,false);
  ServletDef servletDef=webxml.getServlets().get("param1");
  assertNull(servletDef);
  webxml.addServletMapping("/param","param1");
  config.processAnnotationsFile(pFile,webxml,false);
  servletDef=webxml.getServlets().get("param1");
  assertNull(servletDef);
}

</code></pre>

<pre class="type-11 type-13 type-3 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDuplicateFilterMapping() throws Exception {
  WebXml webxml=new WebXml();
  ContextConfig config=new ContextConfig();
  File pFile=paramClassResource("org/apache/catalina/startup/DuplicateMappingParamFilter");
  assertTrue(pFile.exists());
  try {
    config.processAnnotationsFile(pFile,webxml,false);
    fail();
  }
 catch (  IllegalArgumentException ex) {
  }
  FilterDef filterDef=webxml.getFilters().get("paramD");
  assertNull(filterDef);
}

</code></pre>

<pre class="type-13 type-3 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOverwriteFilterMapping() throws Exception {
  WebXml webxml=new WebXml();
  FilterDef filterDef=new FilterDef();
  filterDef.setFilterName("paramFilter");
  filterDef.setFilterClass("org.apache.catalina.startup.ParamFilter");
  filterDef.addInitParameter("message","tomcat");
  filterDef.setDescription("Description");
  filterDef.setDisplayName("DisplayName");
  filterDef.setLargeIcon("LargeIcon");
  filterDef.setSmallIcon("SmallIcon");
  filterDef.setAsyncSupported("true");
  webxml.addFilter(filterDef);
  FilterMap filterMap=new FilterMap();
  filterMap.addURLPattern("/param1");
  filterMap.setFilterName("paramFilter");
  webxml.addFilterMapping(filterMap);
  ContextConfig config=new ContextConfig();
  File sFile=paramClassResource("org/apache/catalina/startup/ParamServlet");
  config.processAnnotationsFile(sFile,webxml,false);
  File fFile=paramClassResource("org/apache/catalina/startup/ParamFilter");
  config.processAnnotationsFile(fFile,webxml,false);
  FilterDef fdef=webxml.getFilters().get("paramFilter");
  assertNotNull(fdef);
  assertEquals(filterDef,fdef);
  assertEquals("tomcat",fdef.getParameterMap().get("message"));
  Set<FilterMap> filterMappings=webxml.getFilterMappings();
  assertTrue(filterMappings.contains(filterMap));
  String[] urlPatterns=filterMap.getURLPatterns();
  assertNotNull(urlPatterns);
  assertEquals(1,urlPatterns.length);
  assertEquals("/param1",urlPatterns[0]);
  assertEquals("Description",fdef.getDescription());
  assertEquals("DisplayName",fdef.getDisplayName());
  assertEquals("LargeIcon",fdef.getLargeIcon());
  assertEquals("SmallIcon",fdef.getSmallIcon());
  assertEquals("true",fdef.getAsyncSupported());
  String[] dis=filterMap.getDispatcherNames();
  assertEquals(2,dis.length);
  assertEquals(DispatcherType.ERROR.toString(),dis[0]);
  assertEquals(DispatcherType.ASYNC.toString(),dis[1]);
}

</code></pre>

<pre class="type-11 type-13 type-3 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDuplicateMapping() throws Exception {
  WebXml webxml=new WebXml();
  ContextConfig config=new ContextConfig();
  File pFile=paramClassResource("org/apache/catalina/startup/DuplicateMappingParamServlet");
  assertTrue(pFile.exists());
  try {
    config.processAnnotationsFile(pFile,webxml,false);
    fail();
  }
 catch (  IllegalArgumentException ex) {
  }
  ServletDef servletDef=webxml.getServlets().get("param");
  assertNull(servletDef);
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
