<h3 style="margin:0px">Class: org.apache.james.mime4j.codec.EncoderUtilTest (17 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(12)</kbd></button>&nbsp;<button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(6)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(5)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodeAddressLocalPart() throws Exception {
  Assert.assertEquals("john.wayne",EncoderUtil.encodeAddressLocalPart("john.wayne"));
  Assert.assertEquals("\"clint eastwood\"",EncoderUtil.encodeAddressLocalPart("clint eastwood"));
}

</code></pre>

<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * This test is a proof for MIME4J-67
 */
@Test public void testBase64Encoder() throws Exception {
  StringBuilder sb=new StringBuilder(2048);
  for (int i=0; i < 128; i++) {
    sb.append("0123456789ABCDEF");
  }
  String input=sb.toString();
  String output=roundtripUsingEncoder(input);
  Assert.assertEquals(input,output);
}

</code></pre>

<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodeEncodedWord() throws Exception {
  Assert.assertEquals("=?US-ASCII?Q??=",EncoderUtil.encodeEncodedWord("",Usage.TEXT_TOKEN,0,null,Encoding.Q));
  Assert.assertEquals("=?US-ASCII?Q?testing_123?=",EncoderUtil.encodeEncodedWord("testing 123",Usage.TEXT_TOKEN,0,null,Encoding.Q));
  Assert.assertEquals("=?US-ASCII?B?dGVzdGluZyAxMjM=?=",EncoderUtil.encodeEncodedWord("testing 123",Usage.TEXT_TOKEN,0,null,Encoding.B));
  Assert.assertEquals("=?windows-1252?Q?100_=80?=",EncoderUtil.encodeEncodedWord("100 \u20ac",Usage.TEXT_TOKEN,0,Charset.forName("Cp1252"),Encoding.Q));
  Assert.assertEquals("=?windows-1252?B?MTAwIIA=?=",EncoderUtil.encodeEncodedWord("100 \u20ac",Usage.TEXT_TOKEN,0,Charset.forName("Cp1252"),Encoding.B));
}

</code></pre>

<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBase64OutputStream() throws Exception {
  StringBuilder sb=new StringBuilder(2048);
  for (int i=0; i < 128; i++) {
    sb.append("0123456789ABCDEF");
  }
  String input=sb.toString();
  String output=roundtripUsingOutputStream(input);
  Assert.assertEquals(input,output);
}

</code></pre>

<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodeHeaderParameter() throws Exception {
  Assert.assertEquals("p=test",EncoderUtil.encodeHeaderParameter("p","test"));
  Assert.assertEquals("p=\"test test\"",EncoderUtil.encodeHeaderParameter("p","test test"));
  Assert.assertEquals("p=\"=test\"",EncoderUtil.encodeHeaderParameter("p","=test"));
  Assert.assertEquals("p=\"\\\\test\"",EncoderUtil.encodeHeaderParameter("p","\\test"));
  Assert.assertEquals("p=\"\\\"\\\\\\\"\"",EncoderUtil.encodeHeaderParameter("p","\"\\\""));
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testEncodeEncodedWordDetectEncoding() throws Exception {
  Assert.assertTrue(EncoderUtil.encodeEncodedWord("only ascii",Usage.TEXT_TOKEN).startsWith("=?US-ASCII?Q?"));
  Assert.assertTrue(EncoderUtil.encodeEncodedWord("\344\344\344\344\344",Usage.TEXT_TOKEN).startsWith("=?ISO-8859-1?B?"));
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testEncodeEncodedWordForceEncoding() throws Exception {
  Assert.assertTrue(EncoderUtil.encodeEncodedWord("only ascii",Usage.TEXT_TOKEN,0,null,Encoding.B).startsWith("=?US-ASCII?B?"));
}

</code></pre>

<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodeQuotedPrintableNonAsciiChars() throws Exception {
  String s="7bit content with euro \u20AC symbol";
  InputStream in=InputStreams.create(s,Charset.forName("iso-8859-15"));
  ByteArrayOutputStream out=new ByteArrayOutputStream();
  EncoderUtil.encodeQBinary(in,out);
  String actual=new String(out.toByteArray(),"US-ASCII");
  Assert.assertEquals("7bit=20content=20with=20euro=20=A4=20symbol",actual);
}

</code></pre>

<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodeQRestricted() throws Exception {
  byte[] b=new byte[136];
  for (int i=0; i < 136; i++) {
    b[i]=(byte)i;
  }
  String expected="=00=01=02=03=04=05=06=07=08=09=0A=0B=0C=0D=0E=0F" + "=10=11=12=13=14=15=16=17=18=19=1A=1B=1C=1D=1E=1F_!=22=23" + "=24=25=26=27=28=29*+=2C-=2E/0123456789=3A=3B=3C=3D=3E=3F"+ "=40ABCDEFGHIJKLMNOPQRSTUVWXYZ=5B=5C=5D=5E=5F=60abcdefghi"+ "jklmnopqrstuvwxyz=7B=7C=7D=7E=7F=80=81=82=83=84=85=86=87";
  Assert.assertEquals(expected,EncoderUtil.encodeQ(b,Usage.WORD_ENTITY));
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testEncodeEncodedWordDetectCharset() throws Exception {
  Assert.assertTrue(EncoderUtil.encodeEncodedWord("only ascii",Usage.TEXT_TOKEN).startsWith("=?US-ASCII?"));
  Assert.assertTrue(EncoderUtil.encodeEncodedWord("latin 1: \344",Usage.TEXT_TOKEN).startsWith("=?ISO-8859-1?"));
  Assert.assertTrue(EncoderUtil.encodeEncodedWord("unicode: \u20ac",Usage.TEXT_TOKEN).startsWith("=?UTF-8?"));
}

</code></pre>

<pre class="type-9 type-7 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEncodeEncodedWordSplit() throws Exception {
  String sixty="123456789012345678901234567890123456789012345678901234567890";
  String expected="=?US-ASCII?Q?" + sixty + "?=";
  Assert.assertEquals(expected,EncoderUtil.encodeEncodedWord(sixty,Usage.TEXT_TOKEN,0,null,Encoding.Q));
  Assert.assertEquals(75,expected.length());
  String sixtyOne=sixty + "1";
  String encodedSixtyOne=EncoderUtil.encodeEncodedWord(sixtyOne,Usage.TEXT_TOKEN,0,null,Encoding.Q);
  Assert.assertTrue(encodedSixtyOne.contains("?= =?US-ASCII?Q?"));
}

</code></pre>

<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodeB() throws Exception {
  Assert.assertEquals("",encodeB(""));
  Assert.assertEquals("YQ==",encodeB("a"));
  Assert.assertEquals("YWI=",encodeB("ab"));
  Assert.assertEquals("YWJj",encodeB("abc"));
  Assert.assertEquals("YWJjZA==",encodeB("abcd"));
  Assert.assertEquals("YWJjZGU=",encodeB("abcde"));
  Assert.assertEquals("YWJjZGVm",encodeB("abcdef"));
  Assert.assertEquals("YWJjZGVmZw==",encodeB("abcdefg"));
  Assert.assertEquals("YWJjZGVmZ2g=",encodeB("abcdefgh"));
  Assert.assertEquals("YWJjZGVmZ2hp",encodeB("abcdefghi"));
  Assert.assertEquals("DQoMCQ==",encodeB("\r\n\f\t"));
  Assert.assertEquals("LT0/VGhhdCdzIGEgdGVzdD89LQ==",encodeB("-=?That's a test?=-"));
}

</code></pre>

<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodeQRegular() throws Exception {
  byte[] b=new byte[132];
  for (int i=0; i < 132; i++) {
    b[i]=(byte)i;
  }
  String expected="=00=01=02=03=04=05=06=07=08=09=0A=0B=0C=0D=0E=0F" + "=10=11=12=13=14=15=16=17=18=19=1A=1B=1C=1D=1E=1F_!\"#$%&" + "'()*+,-./0123456789:;<=3D>=3F@ABCDEFGHIJKLMNOPQRSTUVWXYZ"+ "[\\]^=5F`abcdefghijklmnopqrstuvwxyz{|}~=7F=80=81=82=83";
  Assert.assertEquals(expected,EncoderUtil.encodeQ(b,Usage.TEXT_TOKEN));
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testEncodeEncodedWordForceCharset() throws Exception {
  Assert.assertTrue(EncoderUtil.encodeEncodedWord("only ascii",Usage.TEXT_TOKEN,0,Charsets.UTF_8,null).startsWith("=?UTF-8?"));
}

</code></pre>

<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodeQuotedPrintableLargeInput() throws Exception {
  StringBuilder sb=new StringBuilder();
  for (int i=0; i < 1024 * 5; i++) {
    sb.append((char)('0' + (i % 10)));
  }
  String expected=sb.toString().replaceAll("(\\d{75})","$1=\r\n");
  InputStream in=InputStreams.createAscii(sb.toString());
  ByteArrayOutputStream out=new ByteArrayOutputStream();
  EncoderUtil.encodeQBinary(in,out);
  String actual=ContentUtil.toAsciiString(out.toByteArray());
  Assert.assertEquals(expected,actual);
}

</code></pre>

<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodeAddressDisplayName() throws Exception {
  Assert.assertEquals("\"\"",EncoderUtil.encodeAddressDisplayName(""));
  Assert.assertEquals("test",EncoderUtil.encodeAddressDisplayName("test"));
  Assert.assertEquals(" test ",EncoderUtil.encodeAddressDisplayName(" test "));
  Assert.assertEquals(" test\ttest ",EncoderUtil.encodeAddressDisplayName(" test\ttest "));
  Assert.assertEquals("\"test()\"",EncoderUtil.encodeAddressDisplayName("test()"));
  Assert.assertEquals("\"John Q. Public\"",EncoderUtil.encodeAddressDisplayName("John Q. Public"));
  Assert.assertEquals("\"Giant; \\\"Big\\\" Box\"",EncoderUtil.encodeAddressDisplayName("Giant; \"Big\" Box"));
  Assert.assertEquals("=?ISO-8859-1?Q?Semmelbr=F6sel?=",EncoderUtil.encodeAddressDisplayName("Semmelbr\366sel"));
  Assert.assertEquals("=?UTF-8?Q?Dollar_=24_Euro_=E2=82=AC?=",EncoderUtil.encodeAddressDisplayName("Dollar $ Euro \u20ac"));
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testHasToBeEncoded() throws Exception {
  Assert.assertFalse(EncoderUtil.hasToBeEncoded("",0));
  Assert.assertFalse(EncoderUtil.hasToBeEncoded("only ascii characters",0));
  Assert.assertTrue(EncoderUtil.hasToBeEncoded("non-printable ascii: \010",0));
  Assert.assertTrue(EncoderUtil.hasToBeEncoded("non-ascii: \u20ac",0));
  Assert.assertFalse(EncoderUtil.hasToBeEncoded("123456789012345678901234567",50));
  Assert.assertTrue(EncoderUtil.hasToBeEncoded("1234567890123456789012345678",50));
  Assert.assertFalse(EncoderUtil.hasToBeEncoded("\t12345678901234567890123456789",50));
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
