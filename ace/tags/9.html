<h3><span class=" glyphicon glyphicon-tag"/>&nbspHybridVerifier</h3><kbd>Contains more than 2 JUnit-based stereotypes</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.ace.agent.impl.DeploymentHandlerImplTest </h4><pre class="type-2 type-10 type-8 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAvailableVersions() throws Exception {
  DeploymentHandler deploymentHandler=m_agentContext.getHandler(DeploymentHandler.class);
  SortedSet<Version> expected=new TreeSet<>();
  expected.add(m_version1);
  expected.add(m_version2);
  expected.add(m_version3);
  SortedSet<Version> available=deploymentHandler.getAvailableVersions();
  assertNotNull(available);
  assertFalse(available.isEmpty());
  assertEquals(available,expected);
}

</code></pre>

<br>
<pre class="type-2 type-8 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCurrentVersion() throws Exception {
  DeploymentHandler deploymentHandler=m_agentContext.getHandler(DeploymentHandler.class);
  Version current=deploymentHandler.getInstalledVersion();
  assertNotNull(current);
  assertEquals(current,m_version2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ace.agent.impl.DiscoveryHandlerImplTest </h4><pre class="type-2 type-8 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAvailableAfterConfigUpdate() throws Exception {
  ConfigurationHandler configurationHandler=m_agentContext.getHandler(ConfigurationHandler.class);
  configureAgent(configurationHandler,AgentConstants.CONFIG_DISCOVERY_SERVERURLS,concat(m_unavailableURL1,m_unavailableURL2),AgentConstants.CONFIG_DISCOVERY_CHECKING,"true");
  DiscoveryHandler discoveryHandler=m_agentContext.getHandler(DiscoveryHandler.class);
  assertNull(discoveryHandler.getServerUrl());
  configureAgent(configurationHandler,AgentConstants.CONFIG_DISCOVERY_SERVERURLS,concat(m_availableURL1));
  assertEquals(discoveryHandler.getServerUrl(),m_availableURL1);
}

</code></pre>

<br>
<pre class="type-2 type-8 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnavailableAfterConfigUpdate() throws Exception {
  ConfigurationHandler configurationHandler=m_agentContext.getHandler(ConfigurationHandler.class);
  configureAgent(configurationHandler,AgentConstants.CONFIG_DISCOVERY_SERVERURLS,concat(m_availableURL1,m_availableURL2),AgentConstants.CONFIG_DISCOVERY_CHECKING,"true");
  DiscoveryHandler discoveryHandler=m_agentContext.getHandler(DiscoveryHandler.class);
  assertEquals(discoveryHandler.getServerUrl(),m_availableURL1);
  configureAgent(configurationHandler,AgentConstants.CONFIG_DISCOVERY_SERVERURLS,concat(m_unavailableURL1,m_unavailableURL2));
  assertNull(discoveryHandler.getServerUrl());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ace.agent.impl.DownloadHandleImplTest </h4><pre class="type-7 type-2 type-10 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRestartDownloadOk() throws Exception {
  DownloadHandler downloadHandler=m_agentContext.getHandler(DownloadHandler.class);
  DownloadResult downloadResult;
  Future<DownloadResult> future;
  final DownloadHandle handle=downloadHandler.getHandle(m_testContentURL);
  future=handle.start(new DownloadProgressListener(){
    @Override public void progress(    long bytesRead){
      handle.stop();
    }
  }
);
  assertDownloadStopped(future);
  File file=((DownloadHandleImpl)handle).getDownloadFile();
  long fileLength=file.length();
  handle.discard();
  DownloadHandle handle2=downloadHandler.getHandle(m_testContentURL);
  future=handle2.start(null);
  downloadResult=future.get(5,TimeUnit.SECONDS);
  assertTrue(downloadResult.isComplete());
  fileLength=file.length();
  assertTrue(file.exists(),file.getName() + " does not exist?!");
  assertTrue(fileLength == m_contentLength,"Nothing downloaded yet for " + file.getName() + "?");
  assertEquals(getDigest(file),m_digest);
}

</code></pre>

<br>
<pre class="type-7 type-2 type-10 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResumeDownloadOk() throws Exception {
  DownloadHandler downloadHandler=m_agentContext.getHandler(DownloadHandler.class);
  DownloadResult downloadResult;
  Future<DownloadResult> future;
  final DownloadHandle handle=downloadHandler.getHandle(m_testContentURL);
  future=handle.start(new DownloadProgressListener(){
    @Override public void progress(    long bytesRead){
      System.out.printf("Downloaded %d bytes, interrupting download...%n",bytesRead);
      Thread.currentThread().interrupt();
    }
  }
);
  assertDownloadStopped(future);
  File file=((DownloadHandleImpl)handle).getDownloadFile();
  long firstFileLength=file.length();
  assertTrue(file.exists(),file.getName() + " does not exist?!");
  assertTrue(firstFileLength > 0,"Nothing downloaded yet for " + file.getName() + "?");
  assertTrue(firstFileLength < m_contentLength,"Everything downloaded for " + file.getName() + "?");
  final DownloadHandle handle2=downloadHandler.getHandle(m_testContentURL);
  future=handle2.start(new DownloadProgressListener(){
    private int m_count=5;
    @Override public void progress(    long bytesRead){
      if (--m_count == 0) {
        System.out.printf("Downloaded %d bytes, stopping download...%n",bytesRead);
        handle2.stop();
      }
    }
  }
);
  assertDownloadStopped(future);
  long secondFileLength=file.length();
  System.out.printf("First size: %d, second size: %d; total = %d.%n",firstFileLength,secondFileLength,m_contentLength);
  assertTrue(secondFileLength >= firstFileLength,"Downloaded restarted for " + file.getName() + "?");
  assertTrue(secondFileLength < m_contentLength,"Everything downloaded for " + file.getName() + "?");
  DownloadHandle handle3=downloadHandler.getHandle(m_testContentURL);
  future=handle3.start(null);
  downloadResult=future.get(5,TimeUnit.SECONDS);
  assertTrue(downloadResult.isComplete());
  assertEquals(file.length(),m_contentLength,"Not all content downloaded for " + file.getName() + "?");
  assertEquals(getDigest(file),m_digest);
}

</code></pre>

<br>
<pre class="type-7 type-2 type-10 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDownloadOk() throws Exception {
  DownloadHandler downloadHandler=m_agentContext.getHandler(DownloadHandler.class);
  DownloadResult downloadResult;
  Future<DownloadResult> future;
  final DownloadHandle handle=downloadHandler.getHandle(m_testContentURL);
  future=handle.start(null);
  downloadResult=future.get(5,TimeUnit.SECONDS);
  assertTrue(downloadResult.isComplete());
  File file=((DownloadHandleImpl)handle).getDownloadFile();
  long fileLength=file.length();
  assertTrue(file.exists(),file.getName() + " does not exist?!");
  assertTrue(fileLength > 0 && fileLength == m_contentLength,"Nothing downloaded yet for " + file.getName() + "?");
  assertEquals(getDigest(file),m_digest);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ace.agent.impl.DownloadHandlerTest </h4><pre class="type-7 type-2 type-10 type-8 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSuccessfulResumeAfterCompleteDownload() throws Exception {
  DownloadHandler downloadHandler=m_agentContext.getHandler(DownloadHandler.class);
  final DownloadHandle handle=downloadHandler.getHandle(m_200url);
  handle.discard();
  Future<DownloadResult> future=handle.start(null);
  DownloadResult result=future.get();
  assertNotNull(result);
  assertTrue(result.isComplete());
  assertEquals(m_200digest,getDigest(result.getInputStream()));
  Future<DownloadResult> future2=handle.start(null);
  DownloadResult result2=future2.get();
  assertNotNull(result2);
  assertTrue(result2.isComplete());
  assertEquals(m_200digest,getDigest(result2.getInputStream()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ace.agent.impl.FeedbackStoreManagerTest </h4><pre class="type-7 type-2 type-10 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLogfileRotation() throws Exception {
  int maxSize=100 * 1024;
  FeedbackStoreManager feedbackStoreManager=new FeedbackStoreManager(m_agentContext,"test",maxSize,maxSize / 5);
  long storeID=getStoreID(feedbackStoreManager);
  int recordCount=1000;
  assertEquals(feedbackStoreManager.getHighestEventID(storeID),0);
  for (int i=0; i < recordCount; i++) {
    HashMap<String,String> eventProps=new HashMap<>();
    eventProps.put("key","value" + i);
    feedbackStoreManager.write(i,eventProps);
  }
  File[] logFiles=getLogFiles();
  assertTrue(logFiles.length > 1);
  List<Event> events=feedbackStoreManager.getEvents(storeID,1,1000);
  assertEquals(events.size(),1000);
  long logFileSize=0;
  for (  File file : logFiles) {
    logFileSize+=file.length();
  }
  assertTrue(logFileSize < maxSize);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ace.agent.impl.FeedbackStoreTest </h4><pre class="type-10 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that concurrent use of a {@link FeedbackStore} with multiple readers and multiple writers works as
 * expected.
 */
@Test public void testConcurrentUseMultipleReaderAndMultipleWriters() throws Exception {
  File storeFile=File.createTempFile("feedback",".store");
  storeFile.deleteOnExit();
  final int recordCount=100000;
  final int readerCount=Runtime.getRuntime().availableProcessors() + 1;
  final int writerCount=Runtime.getRuntime().availableProcessors() + 1;
  final FeedbackStore store=new FeedbackStore(storeFile,1);
  final CountDownLatch start=new CountDownLatch(1);
  final CountDownLatch stop=new CountDownLatch(writerCount + readerCount);
  Writer[] writers=new Writer[writerCount];
  for (int i=0; i < writerCount; i++) {
    writers[i]=new Writer(store,start,stop,recordCount,i,writerCount);
  }
  Reader[] readers=new Reader[readerCount];
  for (int i=0; i < readerCount; i++) {
    readers[i]=new Reader(store,start,stop,recordCount,i);
  }
  for (int i=0; i < readers.length; i++) {
    readers[i].start();
  }
  for (int i=0; i < writers.length; i++) {
    writers[i].start();
  }
  start.countDown();
  assertTrue(stop.await(10 * (writerCount + readerCount),TimeUnit.SECONDS));
  int readCount=0;
  for (int i=0; i < readers.length; i++) {
    readers[i].join();
    readCount+=readers[i].m_seen.size();
  }
  int writtenCount=0;
  for (int i=0; i < writers.length; i++) {
    writers[i].join();
    writtenCount+=writers[i].m_written.size();
  }
  assertEquals(recordCount,writtenCount,"Not all records were written?");
  assertEquals(readCount,readerCount * writtenCount,"Not all records were seen?");
  verifyStoreContents(store,recordCount,writers);
}

</code></pre>

<br>
<pre class="type-2 type-10 type-1 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that concurrent use of a {@link FeedbackStore} with a single reader and writer works as expected.
 */
@Test public void testConcurrentUseSingleReaderAndSingleWriter() throws Exception {
  File storeFile=File.createTempFile("feedback",".store");
  storeFile.deleteOnExit();
  final int recordCount=10000;
  final FeedbackStore store=new FeedbackStore(storeFile,1);
  final CountDownLatch start=new CountDownLatch(1);
  final CountDownLatch stop=new CountDownLatch(2);
  Writer writer=new Writer(store,start,stop,recordCount);
  Reader reader=new Reader(store,start,stop,recordCount);
  writer.start();
  reader.start();
  start.countDown();
  assertTrue(stop.await(15,TimeUnit.SECONDS));
  writer.join();
  reader.join();
  int writeCount=writer.m_written.size();
  int readCount=reader.m_seen.size();
  assertEquals(recordCount,writeCount,"Not all records were written?");
  assertEquals(readCount,writeCount,"Not all records were seen?");
  verifyStoreContents(store,recordCount,writer);
}

</code></pre>

<br>
<pre class="type-2 type-10 type-1 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that concurrent use of a {@link FeedbackStore} with a single reader and multiple writers works as expected.
 */
@Test public void testConcurrentUseSingleReaderAndMultipleWriters() throws Exception {
  File storeFile=File.createTempFile("feedback",".store");
  storeFile.deleteOnExit();
  final int recordCount=100000;
  final int writerCount=Runtime.getRuntime().availableProcessors() + 1;
  final FeedbackStore store=new FeedbackStore(storeFile,1);
  final CountDownLatch start=new CountDownLatch(1);
  final CountDownLatch stop=new CountDownLatch(writerCount + 1);
  Writer[] writers=new Writer[writerCount];
  for (int i=0; i < writerCount; i++) {
    writers[i]=new Writer(store,start,stop,recordCount,i,writerCount);
  }
  Reader reader=new Reader(store,start,stop,recordCount);
  reader.start();
  for (int i=0; i < writers.length; i++) {
    writers[i].start();
  }
  start.countDown();
  assertTrue(stop.await(10 * writerCount,TimeUnit.SECONDS));
  int writtenCount=0;
  for (int i=0; i < writers.length; i++) {
    writers[i].join();
    writtenCount+=writers[i].m_written.size();
  }
  reader.join();
  int readCount=reader.m_seen.size();
  assertEquals(recordCount,writtenCount,"Not all records were written?");
  assertEquals(readCount,writtenCount,"Not all records were seen?");
  verifyStoreContents(store,recordCount,writers);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ace.agent.launcher.LauncherTest </h4><pre class="type-2 type-8 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseSystemPropertyOk() throws Exception {
  Launcher launcher=new Launcher();
  launcher.parseArgs("system.property=value","-c",m_testProperties);
  assertNull(launcher.getConfiguration().get("property"));
  assertNull(launcher.getConfiguration().get("prop2"));
  assertNull(launcher.getProperty("system.property"));
  assertNull(launcher.getProperty("system.prop2"));
  assertEquals(launcher.getProperty("prop2"),"value2");
  assertEquals(launcher.getProperty("property"),"value");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ace.builder.ArtifactDataTest </h4><pre class="type-7 type-2 type-10 type-8 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(groups={UNIT}) public void testCreateArtifactWithoutParametersOk() throws Exception {
  ArtifactData artifact=ArtifactData.createArtifact(m_fakeURL,m_filename,"rp");
  assertNotNull(artifact);
  assertNull(artifact.getSymbolicName());
  assertNull(artifact.getVersion());
  assertEquals(artifact.getProcessorPid(),"rp");
  assertFalse(artifact.isCustomizer());
  assertFalse(artifact.isBundle());
}

</code></pre>

<br>
<pre class="type-7 type-2 type-10 type-8 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(groups={UNIT}) public void testCreateBundleWithParametersOk() throws Exception {
  ArtifactData artifact=ArtifactData.createBundle(m_fakeURL,m_filename,"my.bundle.name;singleton:=true, foo:=bar","1.0.0");
  assertNotNull(artifact);
  assertEquals(artifact.getSymbolicName(),"my.bundle.name");
  assertEquals(artifact.getVersion(),"1.0.0");
  assertNull(artifact.getProcessorPid());
  assertFalse(artifact.isCustomizer());
  assertTrue(artifact.isBundle());
}

</code></pre>

<br>
<pre class="type-7 type-2 type-10 type-8 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(groups={UNIT}) public void testCreateBundleWithoutParametersOk() throws Exception {
  ArtifactData artifact=ArtifactData.createBundle(m_fakeURL,m_filename,"my.bundle.name","1.0.0");
  assertNotNull(artifact);
  assertEquals(artifact.getSymbolicName(),"my.bundle.name");
  assertEquals(artifact.getVersion(),"1.0.0");
  assertNull(artifact.getProcessorPid());
  assertFalse(artifact.isCustomizer());
  assertTrue(artifact.isBundle());
}

</code></pre>

<br>
<pre class="type-7 type-2 type-10 type-8 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(groups={UNIT}) public void testCreateResourceProcessorWithoutParametersOk() throws Exception {
  ArtifactData artifact=ArtifactData.createResourceProcessor(m_fakeURL,m_filename,"my.bundle.name","1.0.0","rp");
  assertNotNull(artifact);
  assertEquals(artifact.getSymbolicName(),"my.bundle.name");
  assertEquals(artifact.getVersion(),"1.0.0");
  assertEquals(artifact.getProcessorPid(),"rp");
  assertTrue(artifact.isCustomizer());
  assertTrue(artifact.isBundle());
}

</code></pre>

<br>
<pre class="type-7 type-2 type-10 type-8 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(groups={UNIT}) public void testCreateResourceProcessorWithParametersOk() throws Exception {
  ArtifactData artifact=ArtifactData.createResourceProcessor(m_fakeURL,m_filename,"my.bundle.name;singleton:=true, foo:=bar","1.0.0","rp;qux:=quu");
  assertNotNull(artifact);
  assertEquals(artifact.getSymbolicName(),"my.bundle.name");
  assertEquals(artifact.getVersion(),"1.0.0");
  assertEquals(artifact.getProcessorPid(),"rp");
  assertTrue(artifact.isCustomizer());
  assertTrue(artifact.isBundle());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ace.builder.DeploymentPackageBuilderTest </h4><pre class="type-7 type-10 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(groups={UNIT}) public void testEmptyDeploymentPackage() throws Exception {
  File tempFile=File.createTempFile("output-",".jar");
  System.out.println("File: " + tempFile);
  FileOutputStream output=new FileOutputStream(tempFile);
  String name="test";
  String version="1.0.0";
  DeploymentPackageBuilder.createDeploymentPackage(name,version).generate(output);
  Manifest m=getManifest(tempFile);
  Assert.assertEquals(name,m.getMainAttributes().getValue("DeploymentPackage-SymbolicName"));
  Assert.assertEquals(version,m.getMainAttributes().getValue("DeploymentPackage-Version"));
  Assert.assertTrue(m.getEntries().isEmpty());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ace.client.repository.helper.base.VelocityArtifactPreprocessorTest </h4><pre class="type-2 type-10 type-8 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test case for {@link VelocityArtifactPreprocessor#preprocess(String,PropertyResolver,String,String,java.net.URL)}
 */
@Test(groups={UNIT}) public void testPreprocessExistingRealTemplateOk() throws Exception {
  String url=createArtifact("Message: [$context.msg]");
  String newUrl=createProcessor().preprocess(url,m_resolver,TARGET,VERSION1,m_obrUrl);
  assertNotNull(newUrl);
  assertFalse(newUrl.equals(url));
  assertTrue(newUrl.startsWith(m_obrUrl.toExternalForm()),"newUrl (" + newUrl + ") should start with: "+ m_obrUrl.toExternalForm());
}

</code></pre>

<br>
<pre class="type-2 type-8 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test case for {@link VelocityArtifactPreprocessor#preprocess(String,PropertyResolver,String,String,java.net.URL)}
 */
@Test(groups={UNIT}) public void testPreprocessExistingNoTemplateOk() throws Exception {
  String url=createArtifact("Message: [context.msg]");
  String newUrl=createProcessor().preprocess(url,m_resolver,TARGET,VERSION1,m_obrUrl);
  assertNotNull(newUrl);
  assertEquals(url,newUrl);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ace.client.repository.impl.ModelTest </h4><pre class="type-2 type-10 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(groups={TestUtils.UNIT}) public void testLimitedNumberOfDeploymentVersions() throws IOException {
  RepositoryConfigurationImpl repoConfig=new RepositoryConfigurationImpl();
  repoConfig.setDeploymentVersionLimit(3);
  m_deploymentVersionRepository=new DeploymentVersionRepositoryImpl(m_mockChangeNotifier,repoConfig);
  TestUtils.configureObject(m_deploymentVersionRepository,BundleContext.class,m_mockBundleContext);
  DeploymentVersionObject target1_v1=createBasicDeploymentVersionObject("target1","1",new String[]{"artifact1","artifact2"});
  DeploymentVersionObject target1_v2=createBasicDeploymentVersionObject("target1","2",new String[]{"artifact1","artifact2"});
  DeploymentVersionObject target1_v3=createBasicDeploymentVersionObject("target1","3",new String[]{"artifact1","artifact2"});
  DeploymentVersionObject target2_v1=createBasicDeploymentVersionObject("target2","1",new String[]{"artifact3","artifact4"});
  DeploymentVersionObject target2_v2=createBasicDeploymentVersionObject("target2","2",new String[]{"artifact3","artifact5"});
  List<DeploymentVersionObject> repo=m_deploymentVersionRepository.get();
  assertEquals(repo.size(),5);
  assertTrue(repo.contains(target1_v1));
  assertTrue(repo.contains(target1_v2));
  assertTrue(repo.contains(target1_v3));
  assertTrue(repo.contains(target2_v1));
  assertTrue(repo.contains(target2_v2));
  DeploymentVersionObject target1_v4=createBasicDeploymentVersionObject("target1","4",new String[]{"artifact1","artifact2"});
  repo=m_deploymentVersionRepository.get();
  assertEquals(repo.size(),5);
  assertFalse(repo.contains(target1_v1));
  assertTrue(repo.contains(target1_v2));
  assertTrue(repo.contains(target1_v3));
  assertTrue(repo.contains(target1_v4));
  assertTrue(repo.contains(target2_v1));
  assertTrue(repo.contains(target2_v2));
  DeploymentVersionObject target1_v5=createBasicDeploymentVersionObject("target1","5",new String[]{"artifact1","artifact2"});
  repo=m_deploymentVersionRepository.get();
  assertEquals(repo.size(),5);
  assertFalse(repo.contains(target1_v1));
  assertFalse(repo.contains(target1_v2));
  assertTrue(repo.contains(target1_v3));
  assertTrue(repo.contains(target1_v4));
  assertTrue(repo.contains(target1_v5));
  assertTrue(repo.contains(target2_v1));
  assertTrue(repo.contains(target2_v2));
}

</code></pre>

<br>
<pre class="type-2 type-10 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(groups={TestUtils.UNIT}) public void testUnlimitedNumberOfDeploymentVersions() throws IOException {
  RepositoryConfiguration repoConfig=new RepositoryConfigurationImpl();
  m_deploymentVersionRepository=new DeploymentVersionRepositoryImpl(m_mockChangeNotifier,repoConfig);
  TestUtils.configureObject(m_deploymentVersionRepository,BundleContext.class,m_mockBundleContext);
  DeploymentVersionObject target1_v1=createBasicDeploymentVersionObject("target1","1",new String[]{"artifact1","artifact2"});
  DeploymentVersionObject target1_v2=createBasicDeploymentVersionObject("target1","2",new String[]{"artifact1","artifact2"});
  DeploymentVersionObject target1_v3=createBasicDeploymentVersionObject("target1","3",new String[]{"artifact1","artifact2"});
  DeploymentVersionObject target2_v1=createBasicDeploymentVersionObject("target2","1",new String[]{"artifact3","artifact4"});
  DeploymentVersionObject target2_v2=createBasicDeploymentVersionObject("target2","2",new String[]{"artifact3","artifact5"});
  List<DeploymentVersionObject> repo=m_deploymentVersionRepository.get();
  assertEquals(repo.size(),5);
  assertTrue(repo.contains(target1_v1));
  assertTrue(repo.contains(target1_v2));
  assertTrue(repo.contains(target1_v3));
  assertTrue(repo.contains(target2_v1));
  assertTrue(repo.contains(target2_v2));
  DeploymentVersionObject target1_v4=createBasicDeploymentVersionObject("target1","4",new String[]{"artifact1","artifact2"});
  repo=m_deploymentVersionRepository.get();
  assertEquals(repo.size(),6);
  assertTrue(repo.contains(target1_v1));
  assertTrue(repo.contains(target1_v2));
  assertTrue(repo.contains(target1_v3));
  assertTrue(repo.contains(target1_v4));
  assertTrue(repo.contains(target2_v1));
  assertTrue(repo.contains(target2_v2));
  DeploymentVersionObject target1_v5=createBasicDeploymentVersionObject("target1","5",new String[]{"artifact1","artifact2"});
  repo=m_deploymentVersionRepository.get();
  assertEquals(repo.size(),7);
  assertTrue(repo.contains(target1_v1));
  assertTrue(repo.contains(target1_v2));
  assertTrue(repo.contains(target1_v3));
  assertTrue(repo.contains(target1_v4));
  assertTrue(repo.contains(target1_v5));
  assertTrue(repo.contains(target2_v1));
  assertTrue(repo.contains(target2_v2));
}

</code></pre>

<br>
<pre class="type-6 type-7 type-2 type-10 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(groups={TestUtils.UNIT}) public void testConcurrentAccessToObjectRepository() throws Exception {
  initializeRepositoryAdmin();
  for (int i=0; i < 10; i++) {
    createBasicFeatureObject("feature-" + i);
  }
  List<FeatureObject> list=m_featureRepository.get();
  createBasicFeatureObject("feature-X");
  assertEquals(list.size(),10);
  Iterator<FeatureObject> iterator=list.iterator();
  for (int i=0; i < 10; i++) {
    assertTrue(iterator.hasNext());
    assertTrue(iterator.next() != null);
  }
  assertFalse(iterator.hasNext());
  list.remove(0);
  list=m_featureRepository.get();
  assertEquals(list.size(),11);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ace.configurator.ConfiguratorTest </h4><pre class="type-7 type-8 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(groups={UNIT}) public void testChangeConfigurationUsingSameKeyNoReconfigure() throws Exception {
  String pid="test-change";
  Properties configurationValues=createProperties();
  Properties initialConfigurationValues=new Properties();
  initialConfigurationValues.putAll(configurationValues);
  saveConfiguration(pid,configurationValues);
  Dictionary<String,?> configuration=getAndWaitForConfigurationUpdate(pid);
  assertNotNull(configuration,"No configuration received from configurator");
  assertEquals(configurationValues,configuration);
  configurationValues.put("test","value42");
  saveConfiguration("test-change",configurationValues);
  configuration=getAndWaitForConfigurationUpdate(pid);
  assertNotNull(configuration,"No configuration received from configurator");
  assertEquals(initialConfigurationValues,configuration);
}

</code></pre>

<br>
<pre class="type-7 type-8 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(groups={UNIT}) public void testAddFactoryConfiguration() throws Exception {
  String pid="test-add";
  String factoryPID="testFactory";
  Properties props=createProperties();
  saveConfiguration(pid,"testFactory",props);
  Dictionary<String,?> configuration=getAndWaitForConfigurationUpdate(factoryPID);
  assertNotNull(configuration,"No configuration received from configurator");
  assertEquals(configuration.remove("factory.instance.pid"),"testFactory_test-add","Incorrect factory instance pid was added to the configuration");
  assertEquals(createProperties(),configuration,"Configuration content is unexpected");
}

</code></pre>

<br>
<pre class="type-7 type-8 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(groups={UNIT}) public void testChangeConfigurationUsingSameKeyWithReconfigure() throws Exception {
  String pid="test-change";
  setUp(true);
  Properties configurationValues=createProperties();
  saveConfiguration(pid,configurationValues);
  Dictionary<String,?> configuration=getAndWaitForConfigurationUpdate(pid);
  assertNotNull(configuration,"No configuration received from configurator");
  assertEquals(configurationValues,configuration);
  configurationValues.put("test","value42");
  saveConfiguration(pid,configurationValues);
  configuration=getAndWaitForConfigurationUpdate(pid);
  assertNotNull(configuration,"No configuration received from configurator");
  assertEquals(configurationValues,configuration);
}

</code></pre>

<br>
<pre class="type-7 type-8 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(groups={UNIT}) public void testPropertySubstitution() throws Exception {
  String pid="test-subst";
  Properties initial=new Properties();
  initial.put("key1","leading ${foo.${bar}} middle ${baz} trailing");
  initial.put("bar","a");
  initial.put("foo.a","text");
  initial.put("baz","word");
  initial.put("key2","%d{ISO8601} | %-5.5p | %C | %X{bundle.name} | %m%n");
  initial.put("key3","${qux} ${quu.${bar}} ${baz.${bar}}");
  saveConfiguration(pid,initial);
  Dictionary<String,?> config=getAndWaitForConfigurationUpdate(pid);
  assertNotNull(config,"No configuration received from configurator");
  assertEquals(config.get("key1"),"leading text middle word trailing","Substitution failed!");
  assertEquals(config.get("key2"),"%d{ISO8601} | %-5.5p | %C | %X{bundle.name} | %m%n","Substitution failed!");
  assertEquals(config.get("key3"),"${qux} ${quu.${bar}} ${baz.${bar}}","Substitution failed!");
}

</code></pre>

<br>
<pre class="type-7 type-8 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(groups={UNIT}) public void testPropertySubstitutionFromContext() throws Exception {
  String pid="test-subst";
  Properties initialConfiguration=createProperties();
  initialConfiguration.put("subst","${contextProp}");
  saveConfiguration(pid,initialConfiguration);
  Dictionary<String,?> configuration=getAndWaitForConfigurationUpdate(pid);
  assertNotNull(configuration,"No configuration received from configurator");
  assertEquals(configuration.get("subst"),"contextVal","Substitution failed");
}

</code></pre>

<br>
<pre class="type-7 type-8 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(groups={UNIT}) public void testChangeConfigurationUsingNewKey() throws Exception {
  String pid="test-change";
  Properties initialConfiguration=createProperties();
  saveConfiguration(pid,initialConfiguration);
  Dictionary<String,?> configuration=getAndWaitForConfigurationUpdate(pid);
  assertNotNull(configuration,"No configuration received from configurator");
  assertEquals(initialConfiguration,configuration);
  initialConfiguration.put("anotherKey","anotherValue");
  saveConfiguration("test-change",initialConfiguration);
  configuration=getAndWaitForConfigurationUpdate(pid);
  assertNotNull(configuration,"No configuration received from configurator");
  assertEquals(initialConfiguration,configuration);
}

</code></pre>

<br>
<pre class="type-7 type-8 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(groups={UNIT}) public void testAddConfiguration() throws Exception {
  String pid="test-add";
  Properties initialConfiguration=createProperties();
  saveConfiguration(pid,initialConfiguration);
  Dictionary<String,?> configuration=getAndWaitForConfigurationUpdate(pid);
  assertNotNull(configuration,"No configuration received from configurator");
  assertEquals(createProperties(),configuration,"Configuration content is unexpected");
}

</code></pre>

<br>
<pre class="type-7 type-8 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(groups={UNIT}) public void testRemoveConfiguration() throws Exception {
  String pid="test-remove";
  Properties initialConfiguration=createProperties();
  saveConfiguration(pid,initialConfiguration);
  Dictionary<String,?> configuration=getAndWaitForConfigurationUpdate(pid);
  assertNotNull(configuration,"No configuration received from configurator");
  assertEquals(createProperties(),configuration);
  removeConfiguration(pid);
  waitForConfigurationDelete(pid);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ace.deployment.provider.repositorybased.CacheTest </h4><pre class="type-6 type-14 type-2 type-8 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(groups={UNIT}) public void testOverflowCacheAndValidateOldestElementDisappears(){
  LRUMap<String,String> map=new LRUMap<>();
  for (int i=0; i < 1025; i++) {
    String key="" + i;
    map.put(key,key);
  }
  for (int i=0; i < 1025; i++) {
    String key="" + i;
    if (i == 0) {
      Assert.assertNull(map.get(key));
    }
 else {
      Assert.assertEquals(map.get(key),key);
    }
  }
  map.get("1");
  String key="1025";
  map.put(key,key);
  Assert.assertNull(map.get("2"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ace.feedback.EventTest </h4><pre class="type-2 type-10 type-8 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(groups={UNIT}) public void testCreateEventWithPropertiesOk() throws Exception {
  Event event=new Event(TARGET_ID,STORE_ID,1,2,3,createMap("key1","value1","key2","value2"));
  assertEquals(TARGET_ID,event.getTargetID());
  assertEquals(STORE_ID,event.getStoreID());
  assertEquals(1,event.getID());
  assertEquals(2,event.getTime());
  assertEquals(3,event.getType());
  Map<String,String> props=event.getProperties();
  assertNotNull(props);
  assertFalse(props.isEmpty());
  assertEquals("value1",props.get("key1"));
  assertEquals("value2",props.get("key2"));
}

</code></pre>

<br>
<pre class="type-2 type-10 type-8 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(groups={UNIT}) public void testCreateEventWithDictionaryOk() throws Exception {
  Event event=new Event(TARGET_ID,STORE_ID,1,2,3,createDict("key1","value1","key2","value2"));
  assertEquals(TARGET_ID,event.getTargetID());
  assertEquals(STORE_ID,event.getStoreID());
  assertEquals(1,event.getID());
  assertEquals(2,event.getTime());
  assertEquals(3,event.getType());
  Map<String,String> props=event.getProperties();
  assertNotNull(props);
  assertFalse(props.isEmpty());
  assertEquals("value1",props.get("key1"));
  assertEquals("value2",props.get("key2"));
}

</code></pre>

<br>
<pre class="type-2 type-10 type-8 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(groups={UNIT}) public void testCreateEventWithoutPropertiesOk() throws Exception {
  Event event=new Event(TARGET_ID,STORE_ID,1,2,3);
  assertEquals(TARGET_ID,event.getTargetID());
  assertEquals(STORE_ID,event.getStoreID());
  assertEquals(1,event.getID());
  assertEquals(2,event.getTime());
  assertEquals(3,event.getType());
  Map<String,String> props=event.getProperties();
  assertNotNull(props);
  assertTrue(props.isEmpty());
}

</code></pre>

<br>
<pre class="type-2 type-10 type-8 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(groups={UNIT}) public void testCreateEventFromStringOk() throws Exception {
  String input="target,1234,1,2,3,key2,value2,key1,value1";
  Event event=new Event(input);
  assertEquals(TARGET_ID,event.getTargetID());
  assertEquals(STORE_ID,event.getStoreID());
  assertEquals(1,event.getID());
  assertEquals(2,event.getTime());
  assertEquals(3,event.getType());
  Map<String,String> props=event.getProperties();
  assertNotNull(props);
  assertFalse(props.isEmpty());
  assertEquals("value1",props.get("key1"));
  assertEquals("value2",props.get("key2"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ace.log.server.store.impl.LogStoreImplConcurrencyTest </h4><pre class="type-10 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that concurrent use of a {@link LogStoreImpl} with multiple readers and multiple writers works as expected.
 */
@Test(enabled=false) public void testConcurrentUseMultipleReaderAndMultipleWriters() throws Exception {
  File storeFile=File.createTempFile("feedback",".store");
  storeFile.deleteOnExit();
  final int recordCount=10000;
  final int readerCount=3;
  final int writerCount=3;
  final LogStoreImpl store=createLogStore();
  final CountDownLatch start=new CountDownLatch(1);
  final CountDownLatch stop=new CountDownLatch(writerCount + readerCount);
  Writer[] writers=new Writer[writerCount];
  for (int i=0; i < writerCount; i++) {
    writers[i]=new Writer(store,start,stop,recordCount,i,writerCount);
  }
  Reader[] readers=new Reader[readerCount];
  for (int i=0; i < readerCount; i++) {
    readers[i]=new Reader(store,start,stop,recordCount,i);
  }
  for (int i=0; i < readers.length; i++) {
    m_completionService.submit(readers[i],Boolean.TRUE);
  }
  for (int i=0; i < writers.length; i++) {
    m_completionService.submit(writers[i],Boolean.TRUE);
  }
  start.countDown();
  for (int i=0, r=0; r < 10 && i < writerCount + readerCount; i++) {
    Future<Boolean> future=m_completionService.poll(1,TimeUnit.MINUTES);
    if (future == null) {
      r++;
    }
  }
  assertTrue(stop.await(5,TimeUnit.SECONDS));
  int readCount=0;
  for (int i=0; i < readers.length; i++) {
    readCount+=readers[i].m_seen.size();
  }
  int writtenCount=0;
  for (int i=0; i < writers.length; i++) {
    writtenCount+=writers[i].m_written.size();
  }
  assertEquals(recordCount,writtenCount,"Not all records were written?");
  assertEquals(readCount,readerCount * writtenCount,"Not all records were seen?");
  verifyStoreContents(store,recordCount,writers);
}

</code></pre>

<br>
<pre class="type-10 type-1 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that concurrent use of a {@link LogStoreImpl} with a single reader and writer works as expected.
 */
@Test public void testConcurrentUseSingleReaderAndSingleWriter() throws Exception {
  File storeFile=File.createTempFile("feedback",".store");
  storeFile.deleteOnExit();
  final int recordCount=10000;
  final LogStoreImpl store=createLogStore();
  final CountDownLatch start=new CountDownLatch(1);
  final CountDownLatch stop=new CountDownLatch(2);
  Writer writer=new Writer(store,start,stop,recordCount);
  Reader reader=new Reader(store,start,stop,recordCount);
  m_completionService.submit(writer,Boolean.TRUE);
  m_completionService.submit(reader,Boolean.TRUE);
  start.countDown();
  assertTrue(stop.await(120,TimeUnit.SECONDS));
  int writeCount=writer.m_written.size();
  int readCount=reader.m_seen.size();
  assertEquals(recordCount,writeCount,"Not all records were written?");
  assertEquals(readCount,writeCount,"Not all records were seen?");
  verifyStoreContents(store,recordCount,writer);
}

</code></pre>

<br>
<pre class="type-10 type-1 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that concurrent use of a {@link LogStoreImpl} with a single reader and multiple writers works as expected.
 */
@Test(enabled=false) public void testConcurrentUseSingleReaderAndMultipleWriters() throws Exception {
  File storeFile=File.createTempFile("feedback",".store");
  storeFile.deleteOnExit();
  final int recordCount=10000;
  final int writerCount=3;
  final LogStoreImpl store=createLogStore();
  final CountDownLatch start=new CountDownLatch(1);
  final CountDownLatch stop=new CountDownLatch(writerCount + 1);
  Writer[] writers=new Writer[writerCount];
  for (int i=0; i < writerCount; i++) {
    writers[i]=new Writer(store,start,stop,recordCount,i,writerCount);
  }
  Reader reader=new Reader(store,start,stop,recordCount);
  m_completionService.submit(reader,Boolean.TRUE);
  for (int i=0; i < writers.length; i++) {
    m_completionService.submit(writers[i],Boolean.TRUE);
  }
  start.countDown();
  for (int i=0, r=0; r < 10 && i < writerCount + 1; i++) {
    Future<Boolean> future=m_completionService.poll(1,TimeUnit.MINUTES);
    if (future == null) {
      r++;
    }
  }
  assertTrue(stop.await(5,TimeUnit.SECONDS));
  int writtenCount=0;
  for (int i=0; i < writers.length; i++) {
    writtenCount+=writers[i].m_written.size();
  }
  int readCount=reader.m_seen.size();
  assertEquals(recordCount,writtenCount,"Not all records were written?");
  assertEquals(readCount,writtenCount,"Not all records were seen?");
  verifyStoreContents(store,recordCount,writers);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ace.log.server.task.LogTaskTest </h4><pre class="type-2 type-10 type-1 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * This test tests both delta computation and push behavior.
 */
@Test(groups={UNIT}) public void testDeltaComputation() throws IOException {
  List<Descriptor> src=new ArrayList<>();
  List<Descriptor> dest=new ArrayList<>();
  String targetID="targetID";
  MockLogSyncTask task=new MockLogSyncTask("mocklog","mocklog");
  Writer mockWriter=new StringWriter();
  task.writeDelta(task.calculateDelta(src,dest),mockWriter);
  assertTrue(task.m_calledWith.isEmpty(),"Delta of two empty lists should be empty");
  src.add(new Descriptor(targetID,1,new SortedRangeSet("1-5")));
  task.writeDelta(task.calculateDelta(src,dest),mockWriter);
  assertEquals(task.size(),1,"Incorrect delta");
  task.clear();
  dest.add(new Descriptor(targetID,1,new SortedRangeSet("1-3")));
  task.writeDelta(task.calculateDelta(src,dest),mockWriter);
  assertEquals(task.size(),1,"Incorrect delta");
  RangeIterator i=task.m_calledWith.get(0).getRangeSet().iterator();
  assertEquals(i.next(),4,"Illegal value in SortedRangeSet");
  assertEquals(i.next(),5,"Illegal value in SortedRangeSet");
  assertFalse(i.hasNext(),"Illegal value in SortedRangeSet");
  task.clear();
  dest.add(new Descriptor(targetID,2,new SortedRangeSet("50-100")));
  task.writeDelta(task.calculateDelta(src,dest),mockWriter);
  assertEquals(task.size(),1,"Incorrect delta");
  i=task.m_calledWith.get(0).getRangeSet().iterator();
  assertEquals(i.next(),4,"Illegal value in SortedRangeSet");
  assertEquals(i.next(),5,"Illegal value in SortedRangeSet");
  assertFalse(i.hasNext(),"Illegal value in SortedRangeSet");
  task.clear();
  src.add(new Descriptor(targetID,2,new SortedRangeSet("1-49")));
  task.writeDelta(task.calculateDelta(src,dest),mockWriter);
  assertEquals(task.size(),2,"Incorrect delta");
  task.clear();
  src.add(new Descriptor(targetID,3,new SortedRangeSet("1-10")));
  dest.add(new Descriptor(targetID,3,new SortedRangeSet("3,5-8")));
  task.writeDelta(task.calculateDelta(src,dest),mockWriter);
  assertEquals(task.size(),3,"Incorrect delta");
  for (  Descriptor l : task.m_calledWith) {
    if (l.getStoreID() == 3) {
      i=l.getRangeSet().iterator();
    }
  }
  assertEquals(i.next(),1,"Illegal value in SortedRangeSet");
  assertEquals(i.next(),2,"Illegal value in SortedRangeSet");
  assertEquals(i.next(),4,"Illegal value in SortedRangeSet");
  assertEquals(i.next(),9,"Illegal value in SortedRangeSet");
  assertEquals(i.next(),10,"Illegal value in SortedRangeSet");
  assertFalse(i.hasNext(),"Illegal value in SortedRangeSet");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ace.range.SortedRangeSetTest </h4><pre class="type-6 type-2 type-10 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(groups={UNIT}) public void validateReverseRangeIterators() throws Exception {
  SortedRangeSet srs1=new SortedRangeSet("1-10");
  RangeIterator i1=srs1.reverseIterator();
  for (long i=10; i > 0; i--) {
    Assert.assertEquals(i1.next(),i);
  }
  Assert.assertFalse(i1.hasNext(),"We should have iterated over all elements of our simple range.");
  SortedRangeSet srs2=new SortedRangeSet("1-5,8,10-15");
  RangeIterator i2=srs2.reverseIterator();
  long[] i2s={15,14,13,12,11,10,8,5,4,3,2,1};
  for (int i=0; i < i2s.length; i++) {
    Assert.assertEquals(i2.next(),i2s[i]);
  }
  Assert.assertFalse(i2.hasNext(),"We should have iterated over all elements of our complex range.");
  SortedRangeSet srs3=new SortedRangeSet("");
  assert !srs3.reverseIterator().hasNext() : "Iterator should be empty.";
}

</code></pre>

<br>
<pre class="type-6 type-2 type-10 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(groups={UNIT}) public void validateSortedRangeSetArrayConstructor() throws Exception {
  long[] a1=new long[]{1,2,3,5,10};
  SortedRangeSet s1=new SortedRangeSet(a1);
  RangeIterator i1=s1.iterator();
  for (int i=0; i < a1.length; i++) {
    Assert.assertEquals(i1.next(),a1[i]);
  }
  Assert.assertEquals(s1.toRepresentation(),"1-3,5,10");
  Assert.assertFalse(i1.hasNext(),"We should have iterated over all elements of our range.");
  long[] a2=new long[]{10,2,3,5,10,2,1,5,1};
  long[] a2s=new long[]{1,2,3,5,10};
  SortedRangeSet s2=new SortedRangeSet(a2);
  RangeIterator i2=s2.iterator();
  for (int i=0; i < a2s.length; i++) {
    Assert.assertEquals(i2.next(),a2s[i]);
  }
  Assert.assertEquals(s2.toRepresentation(),"1-3,5,10");
  Assert.assertFalse(i2.hasNext(),"We should have iterated over all elements of our range.");
  Assert.assertEquals((new SortedRangeSet(new long[]{})).toRepresentation(),(new SortedRangeSet(new long[]{})).toRepresentation());
  Assert.assertEquals((new SortedRangeSet(new long[]{1})).toRepresentation(),(new SortedRangeSet(new long[]{1,1,1})).toRepresentation());
  Assert.assertEquals((new SortedRangeSet(new long[]{3,2,1})).toRepresentation(),(new SortedRangeSet(new long[]{1,2,3,2,1})).toRepresentation());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.ace.repository.impl.RepositoryImplTest </h4><pre class="type-2 type-10 type-8 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that if we do change something in an {@link InputStream} while committing data, that the version is bumped
 * for a repository.
 */
@Test(groups={UNIT}) public void testCheckoutAndCommitWithChangeDoesChangeVersion() throws Exception {
  SortedRangeSet range;
  RepositoryImpl repo=new RepositoryImpl(new File(m_baseDir,"data"),new File(m_baseDir,"tmp"),true);
  InputStream data=new ByteArrayInputStream("abc".getBytes());
  assertTrue(repo.put(data,1),"Put should have succeeded");
  range=repo.getRange();
  assertEquals(1,range.getHigh(),"Version 1 should be the most recent one");
  InputStream is=repo.checkout(1);
  assertNotNull(is,"Nothing checked out?!");
  data=new ByteArrayInputStream("def".getBytes());
  assertTrue(repo.commit(data,1),"Commit should NOT be ignored");
  range=repo.getRange();
  assertEquals(2,range.getHigh());
}

</code></pre>

<br>
<pre class="type-7 type-2 type-10 type-8 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(groups={UNIT}) public void testCommitAndCheckout() throws Exception {
  String readLine;
  RepositoryImpl repo=new RepositoryImpl(new File(m_baseDir,"data"),new File(m_baseDir,"tmp"),true);
  File file=new File(m_baseDir,"data" + File.separator + "1");
  InputStream data=new ByteArrayInputStream("abc".getBytes());
  assertTrue(repo.commit(data,0),"Commit should have succeeded");
  readLine=getContentAsString(file);
  assertEquals(readLine,"abc","File " + file.getAbsolutePath() + " should have contained 'abc'.");
  readLine=getContentAsString(repo.checkout(1));
  assertEquals(readLine,"abc","Checking out version 1 should have returned an inputstream containing 'abc'");
  assertNull(repo.get(2),"Checking out a non-existing version should return null");
}

</code></pre>

<br>
<pre class="type-7 type-2 type-10 type-1 type-5 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(groups={UNIT},expectedExceptions={IllegalStateException.class}) public void testUpdatedConfigurationOk() throws Exception {
  RepositoryImpl repo=new RepositoryImpl(new File(m_baseDir,"data"),new File(m_baseDir,"tmp"),true);
  File file=new File(m_baseDir,"newLocation" + File.separator + "1");
  repo.updated(false,Long.MAX_VALUE);
  assertFalse(repo.commit(new ByteArrayInputStream("abc".getBytes()),0),"Committing should not be allowed on slave repositories.");
  assertTrue(repo.put(new ByteArrayInputStream("abc".getBytes()),1),"'put'ting a replica should be allowed on slave repositories.");
  String readLine=getContentAsString(file);
  assertEquals(readLine,"abc","File " + file.getAbsolutePath() + " should have contained 'abc'.");
}

</code></pre>

<br>
<pre class="type-7 type-10 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(groups={UNIT}) public void testCustomFileExtensionOk() throws Exception {
  RepositoryImpl repo=new RepositoryImpl(new File(m_baseDir,"data"),new File(m_baseDir,"tmp"),".gz",true);
  File file=new File(m_baseDir,"data" + File.separator + "1.gz");
  InputStream data=new ByteArrayInputStream("abc".getBytes());
  assertTrue(repo.put(data,1),"Put should have succeeded.");
  String readLine=getContentAsString(file);
  assertEquals(readLine,"abc","File " + file.getAbsolutePath() + " should have contained 'abc'.");
}

</code></pre>

<br>
<pre class="type-7 type-2 type-10 type-8 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(groups={UNIT}) public void testGetAndPut() throws Exception {
  String readLine;
  RepositoryImpl repo=new RepositoryImpl(new File(m_baseDir,"data"),new File(m_baseDir,"tmp"),true);
  File file=new File(m_baseDir,"data" + File.separator + "1");
  InputStream data=new ByteArrayInputStream("abc".getBytes());
  assertTrue(repo.put(data,1),"Put should have succeeded.");
  readLine=getContentAsString(file);
  assertEquals(readLine,"abc","File " + file.getAbsolutePath() + " should have contained 'abc'.");
  assertFalse(repo.put(data,1),"Putting an existing version should return false.");
  readLine=getContentAsString(repo.get(1));
  assertEquals(readLine,"abc","'get'ting version 1 should have returned an inputstream containing 'abc'");
  assertNull(repo.get(2),"'get'ting a non-existing version should return null");
}

</code></pre>

<br>
<pre class="type-2 type-10 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that if we do change something in an {@link InputStream} while committing data, that the version is bumped
 * for a repository.
 */
@Test(groups={UNIT}) public void testCommitInitialVersionDoesChangeVersion() throws Exception {
  SortedRangeSet range;
  RepositoryImpl repo=new RepositoryImpl(new File(m_baseDir,"data"),new File(m_baseDir,"tmp"),true);
  InputStream data=new ByteArrayInputStream("abc".getBytes());
  range=repo.getRange();
  assertEquals(0,range.getHigh(),"Version 0 should be the most recent one");
  assertTrue(repo.commit(data,0),"Commit should NOT be ignored");
  range=repo.getRange();
  assertEquals(1,range.getHigh());
}

</code></pre>

<br>
<pre class="type-2 type-10 type-1 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that if we do not change anything in an {@link InputStream} while committing data, that the version is not
 * bumped for a repository.
 */
@Test(groups={UNIT}) public void testCheckoutAndCommitWithoutChangeDoesNotChangeVersion() throws Exception {
  SortedRangeSet range;
  RepositoryImpl repo=new RepositoryImpl(new File(m_baseDir,"data"),new File(m_baseDir,"tmp"),true);
  InputStream data=new ByteArrayInputStream("abc".getBytes());
  assertTrue(repo.put(data,1),"Put should have succeeded");
  range=repo.getRange();
  assertEquals(1,range.getHigh(),"Version 1 should be the most recent one");
  InputStream is=repo.checkout(1);
  assertFalse(repo.commit(is,1),"Commit should be ignored");
  range=repo.getRange();
  assertEquals(1,range.getHigh(),"Version 1 should still be the most recent one");
}

</code></pre>

<br>
<pre class="type-2 type-10 type-8 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(groups={UNIT}) public void testCommitToLimitedRepository() throws Exception {
  RepositoryImpl repo=new RepositoryImpl(new File(m_baseDir,"data"),new File(m_baseDir,"tmp"),true,2);
  assertTrue(repo.commit(new ByteArrayInputStream("abc-1".getBytes()),0),"Commit should have worked.");
  assertTrue(repo.commit(new ByteArrayInputStream("abc-2".getBytes()),1),"Commit should have worked.");
  assertTrue(repo.commit(new ByteArrayInputStream("abc-3".getBytes()),2),"Commit should have worked.");
  assertNotNull(repo.checkout(3));
  assertNotNull(repo.checkout(2));
  assertNull(repo.checkout(1));
  repo.updated(true,3);
  assertTrue(repo.commit(new ByteArrayInputStream("abc-4".getBytes()),3),"Commit should have worked.");
  assertNotNull(repo.checkout(2));
  repo.updated(true,1);
  assertNull(repo.checkout(2));
  assertNull(repo.checkout(3));
  assertNotNull(repo.checkout(4));
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
