<h3><span class=" glyphicon glyphicon-tag"/>&nbspAssumptionSetter</h3><kbd>Sets implicit assumptions </kbd><br><br><br><h4 style="margin:0px">Class: org.apache.marmotta.commons.http.ETagGeneratorTest </h4><pre class="type-13 type-12 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Setup memory repository and load initial data (demo-data.foaf)
 * @throws RepositoryException
 */
@Before public void setup() throws RepositoryException, IOException, RDFParseException {
  repository=new SailRepository(new MemoryStore());
  repository.initialize();
  InputStream rdfXML=this.getClass().getResourceAsStream(TEST_DATA);
  assumeThat("Could not load testData from '" + TEST_DATA + "'",rdfXML,notNullValue(InputStream.class));
  RepositoryConnection connection=repository.getConnection();
  try {
    connection.add(rdfXML,"http://localhost/foaf/",RDFFormat.RDFXML);
    connection.commit();
  }
  finally {
    connection.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.marmotta.commons.sesame.facading.foaf.FacadingFoafTest </h4><pre class="type-13 type-12 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void loadData() throws RepositoryException, IOException, RDFParseException {
  InputStream rdfXML=this.getClass().getResourceAsStream("demo-data.foaf");
  assumeThat("Could not load test-data: demo-data.foaf",rdfXML,notNullValue(InputStream.class));
  RepositoryConnection connectionRDF=repositoryRDF.getConnection();
  try {
    connectionRDF.add(rdfXML,"http://localhost/foaf/",RDFFormat.RDFXML);
    connectionRDF.commit();
  }
  finally {
    connectionRDF.close();
  }
}

</code></pre>

<br>
<pre class="type-11 type-4 type-12 type-6 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReadInverseRDF() throws RepositoryException {
  final RepositoryConnection connection=repositoryRDF.getConnection();
  try {
    final Facading facading=FacadingFactory.createFacading(connection);
    URI u_hans_meier=connection.getValueFactory().createURI("http://localhost:8080/LMF/resource/hans_meier");
    Person hans_meier=facading.createFacade(u_hans_meier,Person.class);
    Assume.assumeThat("Could not load test-person",hans_meier,notNullValue(Person.class));
    for (    OnlineAccount account : hans_meier.getOnlineAccounts()) {
      Assert.assertNotNull(account);
      final Resource accountRSC=account.getDelegate();
      Assert.assertNotNull(accountRSC);
      final OnlineAccount oa=facading.createFacade(accountRSC,OnlineAccount.class);
      Assert.assertNotNull(oa);
      Assert.assertEquals(hans_meier,oa.getHolder());
    }
  }
  finally {
    connection.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.marmotta.commons.sesame.model.ResourceUtilsTest </h4><pre class="type-13 type-12 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Setup memory repository and load initial data (demo-data.foaf)
 * @throws RepositoryException
 */
@Before public void setup() throws RepositoryException, IOException, RDFParseException {
  repository=new SailRepository(new MemoryStore());
  repository.initialize();
  InputStream rdfXML=this.getClass().getResourceAsStream(TEST_DATA);
  assumeThat("Could not load testData from '" + TEST_DATA + "'",rdfXML,notNullValue(InputStream.class));
  RepositoryConnection connection=repository.getConnection();
  try {
    connection.add(rdfXML,"http://localhost/foaf/",RDFFormat.RDFXML);
    connection.commit();
  }
  finally {
    connection.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.marmotta.commons.sesame.rio.ical.TestICalParser </h4><pre class="type-11 type-10 type-9 type-4 type-12 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void runTest() throws Exception {
  log.info("running test {} ...",fileName);
  InputStream ical=this.getClass().getResourceAsStream(fileName + ".ics");
  InputStream sparql=this.getClass().getResourceAsStream(fileName + ".sparql");
  assumeThat("Could not load testfiles",asList(ical,sparql),everyItem(notNullValue(InputStream.class)));
  Repository repository=new SailRepository(new MemoryStore());
  repository.initialize();
  RepositoryConnection connection=repository.getConnection();
  try {
    connection.add(ical,"http://localhost/ical/",ICalFormat.FORMAT);
    connection.commit();
  }
 catch (  Exception ex) {
    ex.printStackTrace();
    fail("parsing " + fileName + " failed!");
  }
  assertTrue(connection.size() > 0);
  int count=Iterations.asList(connection.getStatements(null,null,null,false)).size();
  assertTrue(count > 0);
  BooleanQuery sparqlQuery=(BooleanQuery)connection.prepareQuery(QueryLanguage.SPARQL,IOUtils.toString(sparql));
  assertTrue("SPARQL query evaluation for " + fileName + " failed",sparqlQuery.evaluate());
  connection.close();
  repository.shutDown();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.marmotta.commons.sesame.rio.rss.TestAtomParser </h4><pre class="type-11 type-10 type-9 type-4 type-12 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void runTest() throws Exception {
  log.info("running test {} ...",fileName);
  InputStream atom=this.getClass().getResourceAsStream(fileName + ".atom");
  InputStream sparql=this.getClass().getResourceAsStream(fileName + ".sparql");
  assumeThat("Could not load testfiles",asList(atom,sparql),everyItem(notNullValue(InputStream.class)));
  Repository repository=new SailRepository(new MemoryStore());
  repository.initialize();
  RepositoryConnection connection=repository.getConnection();
  try {
    connection.add(atom,"http://localhost/atom/",AtomFormat.FORMAT);
    connection.commit();
  }
 catch (  Exception ex) {
    ex.printStackTrace();
    fail("parsing " + fileName + " failed!");
  }
  assertTrue(connection.size() > 0);
  int count=Iterations.asList(connection.getStatements(null,null,null,false)).size();
  assertTrue(count > 0);
  BooleanQuery sparqlQuery=(BooleanQuery)connection.prepareQuery(QueryLanguage.SPARQL,IOUtils.toString(sparql).replaceAll("http://rdfa.digitalbazaar.com/test-suite/test-cases/xhtml1/rdfa1.1/","http://localhost/rdfa/"));
  assertTrue("SPARQL query evaluation for " + fileName + " failed",sparqlQuery.evaluate());
  connection.close();
  repository.shutDown();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.marmotta.commons.sesame.rio.rss.TestRSSParser </h4><pre class="type-11 type-10 type-9 type-4 type-12 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void runTest() throws Exception {
  log.info("running test {} ...",fileName);
  InputStream rss=this.getClass().getResourceAsStream(fileName + ".rss");
  InputStream sparql=this.getClass().getResourceAsStream(fileName + ".sparql");
  assumeThat("Could not load testfiles",asList(rss,sparql),everyItem(notNullValue(InputStream.class)));
  Repository repository=new SailRepository(new MemoryStore());
  repository.initialize();
  RepositoryConnection connection=repository.getConnection();
  try {
    connection.add(rss,"http://localhost/rss/",RSSFormat.FORMAT);
    connection.commit();
  }
 catch (  Exception ex) {
    ex.printStackTrace();
    fail("parsing " + fileName + " failed!");
  }
  assertTrue(connection.size() > 0);
  int count=Iterations.asList(connection.getStatements(null,null,null,false)).size();
  assertTrue(count > 0);
  BooleanQuery sparqlQuery=(BooleanQuery)connection.prepareQuery(QueryLanguage.SPARQL,IOUtils.toString(sparql).replaceAll("http://rdfa.digitalbazaar.com/test-suite/test-cases/xhtml1/rdfa1.1/","http://localhost/rdfa/"));
  assertTrue("SPARQL query evaluation for " + fileName + " failed",sparqlQuery.evaluate());
  connection.close();
  repository.shutDown();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.marmotta.commons.sesame.rio.vcard.TestVCardParser </h4><pre class="type-11 type-10 type-9 type-4 type-12 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void runTest() throws Exception {
  log.info("running test {} ...",fileName);
  InputStream vcard=this.getClass().getResourceAsStream(fileName + ".vcf");
  InputStream sparql=this.getClass().getResourceAsStream(fileName + ".sparql");
  assumeThat("Could not load testfiles",asList(vcard,sparql),everyItem(notNullValue(InputStream.class)));
  Repository repository=new SailRepository(new MemoryStore());
  repository.initialize();
  RepositoryConnection connection=repository.getConnection();
  try {
    connection.add(vcard,"http://localhost/vcard/",VCardFormat.FORMAT);
    connection.commit();
  }
 catch (  Exception ex) {
    ex.printStackTrace();
    fail("parsing " + fileName + " failed!");
  }
  assertTrue(connection.size() > 0);
  int count=Iterations.asList(connection.getStatements(null,null,null,false)).size();
  assertTrue(count > 0);
  BooleanQuery sparqlQuery=(BooleanQuery)connection.prepareQuery(QueryLanguage.SPARQL,IOUtils.toString(sparql).replaceAll("http://rdfa.digitalbazaar.com/test-suite/test-cases/xhtml1/rdfa1.1/","http://localhost/rdfa/"));
  assertTrue("SPARQL query evaluation for " + fileName + " failed",sparqlQuery.evaluate());
  connection.close();
  repository.shutDown();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.marmotta.kiwi.sparql.test.KiWiSparqlJoinTest </h4><pre class="type-14 type-9 type-4 type-12 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testQuery23() throws Exception {
  Assume.assumeTrue(NativeFunctionRegistry.getInstance().get(FN_MARMOTTA.SEARCH_FULLTEXT).isSupported(dbConfig.getDialect()));
  String queryString=IOUtils.toString(this.getClass().getResourceAsStream("query23.sparql"),"UTF-8");
  RepositoryConnection con1=repository.getConnection();
  try {
    con1.begin();
    TupleQuery query1=con1.prepareTupleQuery(QueryLanguage.SPARQL,queryString);
    TupleQueryResult result1=query1.evaluate();
    con1.commit();
    Assert.assertTrue(result1.hasNext());
    while (result1.hasNext()) {
      BindingSet next=result1.next();
      Assert.assertThat(next.getValue("p1").stringValue(),Matchers.isOneOf("http://localhost:8080/LMF/resource/hans_meier","http://localhost:8080/LMF/resource/sepp_huber"));
    }
  }
 catch (  RepositoryException ex) {
    con1.rollback();
  }
 finally {
    con1.close();
  }
}

</code></pre>

<br>
<pre class="type-9 type-4 type-12 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testQuery22() throws Exception {
  Assume.assumeTrue(NativeFunctionRegistry.getInstance().get(FN_MARMOTTA.SEARCH_FULLTEXT).isSupported(dbConfig.getDialect()));
  String queryString=IOUtils.toString(this.getClass().getResourceAsStream("query22.sparql"),"UTF-8");
  RepositoryConnection con1=repository.getConnection();
  try {
    con1.begin();
    TupleQuery query1=con1.prepareTupleQuery(QueryLanguage.SPARQL,queryString);
    TupleQueryResult result1=query1.evaluate();
    con1.commit();
    Assert.assertTrue(result1.hasNext());
    BindingSet next=result1.next();
    Assert.assertEquals("http://localhost:8080/LMF/resource/hans_meier",next.getValue("p1").stringValue());
  }
 catch (  RepositoryException ex) {
    con1.rollback();
  }
 finally {
    con1.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.marmotta.kiwi.test.RepositoryTest </h4><pre class="type-9 type-4 type-12 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * This test is for a strange bug that happens when running SPARQL updates that delete and reinsert a triple in
 * the same transaction. See https://issues.apache.org/jira/browse/MARMOTTA-283
 */
@Test public void testMARMOTTA283() throws RepositoryException, RDFParseException, IOException, MalformedQueryException, UpdateExecutionException {
  InputStream rdfXML=this.getClass().getResourceAsStream("demo-data.foaf");
  assumeThat("Could not load test-data: demo-data.foaf",rdfXML,notNullValue(InputStream.class));
  RepositoryConnection connectionRDF=repository.getConnection();
  try {
    connectionRDF.add(rdfXML,"http://localhost/foaf/",RDFFormat.RDFXML);
    connectionRDF.commit();
  }
  finally {
    connectionRDF.close();
  }
  String update="DELETE { ?s ?p ?o } INSERT { <http://localhost:8080/LMF/resource/hans_meier> <http://xmlns.com/foaf/0.1/name> \"Hans Meier\" . <http://localhost:8080/LMF/resource/hans_meier> <http://xmlns.com/foaf/0.1/based_near> <http://dbpedia.org/resource/Traunstein> . <http://localhost:8080/LMF/resource/hans_meier> <http://xmlns.com/foaf/0.1/interest> <http://rdf.freebase.com/ns/en.linux> } WHERE { ?s ?p ?o . FILTER ( ?s = <http://localhost:8080/LMF/resource/hans_meier> ) }";
  RepositoryConnection connectionUpdate=repository.getConnection();
  try {
    Update u=connectionUpdate.prepareUpdate(QueryLanguage.SPARQL,update);
    u.execute();
    connectionUpdate.commit();
  }
  finally {
    connectionUpdate.close();
  }
  RepositoryConnection connectionVerify=repository.getConnection();
  try {
    URI hans_meier=repository.getValueFactory().createURI("http://localhost:8080/LMF/resource/hans_meier");
    URI foaf_name=repository.getValueFactory().createURI("http://xmlns.com/foaf/0.1/name");
    URI foaf_based_near=repository.getValueFactory().createURI("http://xmlns.com/foaf/0.1/based_near");
    URI foaf_interest=repository.getValueFactory().createURI("http://xmlns.com/foaf/0.1/interest");
    URI freebase_linux=repository.getValueFactory().createURI("http://rdf.freebase.com/ns/en.linux");
    URI traunstein=repository.getValueFactory().createURI("http://dbpedia.org/resource/Traunstein");
    Assert.assertTrue(connectionVerify.hasStatement(hans_meier,foaf_name,null,true));
    Assert.assertTrue(connectionVerify.hasStatement(hans_meier,foaf_based_near,traunstein,true));
    Assert.assertTrue(connectionVerify.hasStatement(hans_meier,foaf_interest,freebase_linux,true));
    connectionVerify.commit();
  }
  finally {
    connectionVerify.close();
  }
}

</code></pre>

<br>
<pre class="type-11 type-4 type-12 type-3 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeleteTriple() throws RepositoryException, RDFParseException, IOException {
  InputStream rdfXML=this.getClass().getResourceAsStream("demo-data.foaf");
  assumeThat("Could not load test-data: demo-data.foaf",rdfXML,notNullValue(InputStream.class));
  RepositoryConnection connectionRDF=repository.getConnection();
  try {
    connectionRDF.add(rdfXML,"http://localhost/foaf/",RDFFormat.RDFXML);
    connectionRDF.commit();
  }
  finally {
    connectionRDF.close();
  }
  RepositoryConnection connection=repository.getConnection();
  try {
    connection.begin();
    List<String> resources=ImmutableList.copyOf(Iterables.transform(ResourceUtils.listResources(connection),new Function<Resource,String>(){
      @Override public String apply(      Resource input){
        return input.stringValue();
      }
    }
));
    Assert.assertEquals(30,resources.size());
    Assert.assertThat(resources,hasItems("http://localhost:8080/LMF/resource/hans_meier","http://localhost:8080/LMF/resource/sepp_huber","http://localhost:8080/LMF/resource/anna_schmidt"));
    long oldsize=connection.size();
    connection.commit();
    connection.begin();
    ResourceUtils.removeResource(connection,connection.getValueFactory().createURI("http://localhost:8080/LMF/resource/hans_meier"));
    connection.commit();
    connection.begin();
    long newsize=connection.size();
    Assert.assertThat(newsize,lessThan(oldsize));
    List<String> resources2=ImmutableList.copyOf(Iterables.transform(ResourceUtils.listSubjects(connection),new Function<Resource,String>(){
      @Override public String apply(      Resource input){
        return input.stringValue();
      }
    }
));
    Assert.assertThat(resources2,not(hasItem("http://localhost:8080/LMF/resource/hans_meier")));
  }
  finally {
    connection.commit();
    connection.close();
  }
}

</code></pre>

<br>
<pre class="type-11 type-4 type-12 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test importing data; the test will load a small sample RDF file and check whether the expected resources are
 * present.
 * @throws RepositoryException
 * @throws RDFParseException
 * @throws IOException
 */
@Test public void testImport() throws RepositoryException, RDFParseException, IOException {
  long start, end;
  start=System.currentTimeMillis();
  InputStream rdfXML=this.getClass().getResourceAsStream("demo-data.foaf");
  assumeThat("Could not load test-data: demo-data.foaf",rdfXML,notNullValue(InputStream.class));
  RepositoryConnection connectionRDF=repository.getConnection();
  try {
    connectionRDF.add(rdfXML,"http://localhost/foaf/",RDFFormat.RDFXML);
    connectionRDF.commit();
  }
  finally {
    connectionRDF.close();
  }
  end=System.currentTimeMillis();
  log.info("IMPORT: {} ms",end - start);
  start=System.currentTimeMillis();
  RepositoryConnection connection=repository.getConnection();
  List<String> resources=ImmutableList.copyOf(Iterables.transform(ResourceUtils.listResources(connection),new Function<Resource,String>(){
    @Override public String apply(    Resource input){
      return input.stringValue();
    }
  }
));
  Assert.assertThat(resources,hasItems("http://localhost:8080/LMF/resource/hans_meier","http://localhost:8080/LMF/resource/sepp_huber","http://localhost:8080/LMF/resource/anna_schmidt"));
  connection.commit();
  connection.close();
  end=System.currentTimeMillis();
  log.info("QUERY EVALUATION: {} ms",end - start);
}

</code></pre>

<br>
<pre class="type-4 type-12 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test a repeated addition of the same triple, because this is a special case in the database.
 */
@Test public void testRepeatedAdd() throws RepositoryException, IOException, RDFParseException {
  InputStream rdfXML=this.getClass().getResourceAsStream("srfg-ontology.rdf");
  assumeThat("Could not load test-data: srfg-ontology.rdf",rdfXML,notNullValue(InputStream.class));
  long oldsize, newsize;
  List<Statement> oldTriples, newTriples;
  RepositoryConnection connectionRDF=repository.getConnection();
  try {
    connectionRDF.begin();
    connectionRDF.add(rdfXML,"http://localhost/srfg/",RDFFormat.RDFXML);
    connectionRDF.commit();
    oldTriples=Iterations.asList(connectionRDF.getStatements(null,null,null,true));
    oldsize=connectionRDF.size();
  }
  finally {
    connectionRDF.close();
  }
  rdfXML=this.getClass().getResourceAsStream("srfg-ontology.rdf");
  RepositoryConnection connection=repository.getConnection();
  try {
    connection.begin();
    connection.add(rdfXML,"http://localhost/srfg/",RDFFormat.RDFXML);
    connection.commit();
    newTriples=Iterations.asList(connection.getStatements(null,null,null,true));
    newsize=connection.size();
  }
  finally {
    connection.commit();
    connection.close();
  }
  Assert.assertEquals(oldTriples,newTriples);
  Assert.assertEquals(oldsize,newsize);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.marmotta.kiwi.test.TransactionTest </h4><pre class="type-9 type-12 type-6 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Sets implicit assumptions 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test importing data; the test will load a small sample RDF file and check whether the expected resources are
 * present.
 * @throws RepositoryException
 * @throws org.openrdf.rio.RDFParseException
 * @throws java.io.IOException
 */
@Test public void testImport() throws RepositoryException, RDFParseException, IOException {
  long start, end;
  start=System.currentTimeMillis();
  InputStream rdfXML=this.getClass().getResourceAsStream("demo-data.foaf");
  assumeThat("Could not load test-data: demo-data.foaf",rdfXML,notNullValue(InputStream.class));
  RepositoryConnection connectionRDF=repository.getConnection();
  try {
    connectionRDF.begin();
    connectionRDF.add(rdfXML,"http://localhost/foaf/",RDFFormat.RDFXML);
    connectionRDF.commit();
  }
  finally {
    connectionRDF.close();
  }
  end=System.currentTimeMillis();
  log.info("IMPORT: {} ms",end - start);
  Assert.assertNotNull("transaction data was null",listener.transactionData);
  Assert.assertTrue("transaction data did not contain added triples",listener.transactionData.getAddedTriples().size() > 0);
}

</code></pre>

<br>
<pre class="type-11 type-9 type-4 type-12 type-6 type-3 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeleteTriple() throws RepositoryException, RDFParseException, IOException {
  InputStream rdfXML=this.getClass().getResourceAsStream("demo-data.foaf");
  assumeThat("Could not load test-data: demo-data.foaf",rdfXML,notNullValue(InputStream.class));
  RepositoryConnection connectionRDF=repository.getConnection();
  try {
    connectionRDF.begin();
    connectionRDF.add(rdfXML,"http://localhost/foaf/",RDFFormat.RDFXML);
    connectionRDF.commit();
  }
  finally {
    connectionRDF.close();
  }
  RepositoryConnection connection=repository.getConnection();
  try {
    connection.begin();
    List<String> resources=ImmutableList.copyOf(Iterables.transform(ResourceUtils.listSubjects(connection),new Function<Resource,String>(){
      @Override public String apply(      Resource input){
        return input.stringValue();
      }
    }
));
    Assert.assertEquals(4,resources.size());
    Assert.assertThat(resources,hasItems("http://localhost:8080/LMF/resource/hans_meier","http://localhost:8080/LMF/resource/sepp_huber","http://localhost:8080/LMF/resource/anna_schmidt"));
    connection.commit();
    connection.begin();
    ResourceUtils.removeResource(connection,connection.getValueFactory().createURI("http://localhost:8080/LMF/resource/hans_meier"));
    connection.commit();
    Assert.assertNotNull("transaction data was null",listener.transactionData);
    Assert.assertTrue("transaction did not contain removed triples",listener.transactionData.getRemovedTriples().size() > 0);
  }
  finally {
    connection.commit();
    connection.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.marmotta.kiwi.versioning.test.SnapshotRepositoryTest </h4><pre class="type-9 type-4 type-12 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSnapshotSPARQL() throws Exception {
  Date date1=new Date();
  Thread.sleep(1000);
  InputStream baseData=this.getClass().getResourceAsStream("version-base.rdf");
  assumeThat("Could not load test-data: version-base.rdf",baseData,notNullValue(InputStream.class));
  RepositoryConnection connectionBase=repository.getConnection();
  try {
    connectionBase.add(baseData,"http://marmotta.apache.org/testing/ns1/",RDFFormat.RDFXML);
    connectionBase.commit();
  }
  finally {
    connectionBase.close();
  }
  Thread.sleep(1000);
  Date date2=new Date();
  Thread.sleep(1000);
  InputStream update1Data=this.getClass().getResourceAsStream("version-update1.rdf");
  assumeThat("Could not load test-data: version-update1.rdf",update1Data,notNullValue(InputStream.class));
  RepositoryConnection connectionUpdate1=repository.getConnection();
  try {
    connectionUpdate1.add(update1Data,"http://marmotta.apache.org/testing/ns1/",RDFFormat.RDFXML);
    connectionUpdate1.commit();
  }
  finally {
    connectionUpdate1.close();
  }
  Thread.sleep(1000);
  Date date3=new Date();
  Thread.sleep(1000);
  InputStream update2Data=this.getClass().getResourceAsStream("version-update2.rdf");
  assumeThat("Could not load test-data: version-update2.rdf",update2Data,notNullValue(InputStream.class));
  RepositoryConnection connectionUpdate2=repository.getConnection();
  try {
    connectionUpdate2.add(update2Data,"http://marmotta.apache.org/testing/ns1/",RDFFormat.RDFXML);
    connectionUpdate2.commit();
  }
  finally {
    connectionUpdate2.close();
  }
  RepositoryConnection snapshot1=repository.getSnapshot(date2);
  BooleanQuery query1_1=snapshot1.prepareBooleanQuery(QueryLanguage.SPARQL,"ASK { <http://marmotta.apache.org/testing/ns1/R1> ?p ?o }");
  Assert.assertTrue("SPARQL query for R1 did not return true",query1_1.evaluate());
  BooleanQuery query1_2=snapshot1.prepareBooleanQuery(QueryLanguage.SPARQL,"ASK { <http://marmotta.apache.org/testing/ns1/R2> ?p ?o }");
  Assert.assertFalse("SPARQL query for R2 did not return false",query1_2.evaluate());
  snapshot1.commit();
  snapshot1.close();
  RepositoryConnection snapshot2=repository.getSnapshot(date3);
  BooleanQuery query2_1=snapshot2.prepareBooleanQuery(QueryLanguage.SPARQL,"ASK { <http://marmotta.apache.org/testing/ns1/R1> ?p ?o }");
  Assert.assertTrue("SPARQL query for R1 did not return true",query2_1.evaluate());
  BooleanQuery query2_2=snapshot2.prepareBooleanQuery(QueryLanguage.SPARQL,"ASK { <http://marmotta.apache.org/testing/ns1/R2> ?p ?o }");
  Assert.assertTrue("SPARQL query for R2 did not return true",query2_2.evaluate());
  snapshot2.commit();
  snapshot2.close();
}

</code></pre>

<br>
<pre class="type-4 type-12 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSnapshotConnection() throws Exception {
  if (dbConfig.getDialect() instanceof H2Dialect) {
    return;
  }
  Date date1=new Date();
  Thread.sleep(1000);
  InputStream baseData=this.getClass().getResourceAsStream("version-base.rdf");
  assumeThat("Could not load test-data: version-base.rdf",baseData,notNullValue(InputStream.class));
  RepositoryConnection connectionBase=repository.getConnection();
  try {
    connectionBase.add(baseData,"http://marmotta.apache.org/testing/ns1/",RDFFormat.RDFXML);
    connectionBase.commit();
  }
  finally {
    connectionBase.close();
  }
  Thread.sleep(1000);
  Date date2=new Date();
  Thread.sleep(1000);
  InputStream update1Data=this.getClass().getResourceAsStream("version-update1.rdf");
  assumeThat("Could not load test-data: version-update1.rdf",update1Data,notNullValue(InputStream.class));
  RepositoryConnection connectionUpdate1=repository.getConnection();
  try {
    connectionUpdate1.add(update1Data,"http://marmotta.apache.org/testing/ns1/",RDFFormat.RDFXML);
    connectionUpdate1.commit();
  }
  finally {
    connectionUpdate1.close();
  }
  Thread.sleep(1000);
  Date date3=new Date();
  Thread.sleep(1000);
  InputStream update2Data=this.getClass().getResourceAsStream("version-update2.rdf");
  assumeThat("Could not load test-data: version-update2.rdf",update2Data,notNullValue(InputStream.class));
  RepositoryConnection connectionUpdate2=repository.getConnection();
  try {
    connectionUpdate2.add(update2Data,"http://marmotta.apache.org/testing/ns1/",RDFFormat.RDFXML);
    connectionUpdate2.commit();
  }
  finally {
    connectionUpdate2.close();
  }
  RepositoryConnection connectionCheck=repository.getConnection();
  try {
    List<Statement> c_r1_triples=asList(connectionCheck.getStatements(repository.getValueFactory().createURI("http://marmotta.apache.org/testing/ns1/R1"),null,null,true));
    Assert.assertEquals(4,c_r1_triples.size());
    connectionCheck.commit();
  }
  finally {
    connectionCheck.close();
  }
  RepositoryConnection snapshot1=repository.getSnapshot(date2);
  try {
    List<Statement> s1_r1_triples=asList(snapshot1.getStatements(repository.getValueFactory().createURI("http://marmotta.apache.org/testing/ns1/R1"),null,null,true));
    Assert.assertEquals(3,s1_r1_triples.size());
    List<Statement> s1_r2_triples=asList(snapshot1.getStatements(repository.getValueFactory().createURI("http://marmotta.apache.org/testing/ns1/R2"),null,null,true));
    Assert.assertEquals(0,s1_r2_triples.size());
  }
  finally {
    snapshot1.commit();
    snapshot1.close();
  }
  RepositoryConnection snapshot2=repository.getSnapshot(date3);
  try {
    List<Statement> s2_r1_triples=asList(snapshot2.getStatements(repository.getValueFactory().createURI("http://marmotta.apache.org/testing/ns1/R1"),null,null,true));
    Assert.assertEquals(3,s2_r1_triples.size());
    List<Statement> s2_r2_triples=asList(snapshot2.getStatements(repository.getValueFactory().createURI("http://marmotta.apache.org/testing/ns1/R2"),null,null,true));
    Assert.assertEquals(3,s2_r2_triples.size());
  }
  finally {
    snapshot2.commit();
    snapshot2.close();
  }
  RepositoryConnection snapshot3=repository.getSnapshot(new Date());
  try {
    List<Statement> s3_r1_triples=asList(snapshot3.getStatements(repository.getValueFactory().createURI("http://marmotta.apache.org/testing/ns1/R1"),null,null,true));
    Assert.assertEquals(4,s3_r1_triples.size());
    List<Statement> s3_r2_triples=asList(snapshot3.getStatements(repository.getValueFactory().createURI("http://marmotta.apache.org/testing/ns1/R2"),null,null,true));
    Assert.assertEquals(3,s3_r2_triples.size());
  }
  finally {
    snapshot3.commit();
    snapshot3.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.marmotta.kiwi.versioning.test.VersioningRepositoryTest </h4><pre class="type-9 type-4 type-12 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * This test imports three small RDF files in sequence and checks afterwards that the number of versions
 * is correct and they contain the correct information
 * @throws Exception
 */
@Test public void testCreateVersions() throws Exception {
  Date date1=new Date();
  mysqlSleep();
  InputStream baseData=this.getClass().getResourceAsStream("version-base.rdf");
  assumeThat("Could not load test-data: version-base.rdf",baseData,notNullValue(InputStream.class));
  RepositoryConnection connectionBase=repository.getConnection();
  try {
    connectionBase.add(baseData,"http://marmotta.apache.org/testing/ns1/",RDFFormat.RDFXML);
    connectionBase.commit();
  }
  finally {
    connectionBase.close();
  }
  mysqlSleep();
  Date date2=new Date();
  mysqlSleep();
  InputStream update1Data=this.getClass().getResourceAsStream("version-update1.rdf");
  assumeThat("Could not load test-data: version-update1.rdf",update1Data,notNullValue(InputStream.class));
  RepositoryConnection connectionUpdate1=repository.getConnection();
  try {
    connectionUpdate1.add(update1Data,"http://marmotta.apache.org/testing/ns1/",RDFFormat.RDFXML);
    connectionUpdate1.commit();
  }
  finally {
    connectionUpdate1.close();
  }
  InputStream update2Data=this.getClass().getResourceAsStream("version-update2.rdf");
  assumeThat("Could not load test-data: version-update2.rdf",update2Data,notNullValue(InputStream.class));
  RepositoryConnection connectionUpdate2=repository.getConnection();
  try {
    connectionUpdate2.add(update2Data,"http://marmotta.apache.org/testing/ns1/",RDFFormat.RDFXML);
    connectionUpdate2.commit();
  }
  finally {
    connectionUpdate2.close();
  }
  List<Version> versions=asList(vsail.listVersions());
  Assert.assertEquals("expected 3 versions!",3,versions.size());
  Assert.assertTrue("version order is not correct",versions.get(0).getId() < versions.get(1).getId());
  Assert.assertTrue("version order is not correct",versions.get(1).getId() < versions.get(2).getId());
  Assert.assertEquals(3,(long)versions.get(0).getAddedTriples().size());
  Assert.assertEquals(3,(long)versions.get(1).getAddedTriples().size());
  Assert.assertEquals(1,(long)versions.get(2).getAddedTriples().size());
  List<Version> versions1=asList(vsail.listVersions(date1,date2));
  Assert.assertEquals("expected 1 version!",1,versions1.size());
  Assert.assertEquals(3,(long)versions1.get(0).getAddedTriples().size());
}

</code></pre>

<br>
<pre class="type-9 type-4 type-12 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * This test imports three small RDF files in sequence and checks afterwards that the number of versions
 * is correct and they contain the correct information
 * @throws Exception
 */
@Test public void testRevertVersions() throws Exception {
  Date date1=new Date();
  mysqlSleep();
  InputStream baseData=this.getClass().getResourceAsStream("version-base.rdf");
  assumeThat("Could not load test-data: version-base.rdf",baseData,notNullValue(InputStream.class));
  RepositoryConnection connectionBase=repository.getConnection();
  try {
    connectionBase.add(baseData,"http://marmotta.apache.org/testing/ns1/",RDFFormat.RDFXML);
    connectionBase.commit();
  }
  finally {
    connectionBase.close();
  }
  mysqlSleep();
  Date date2=new Date();
  mysqlSleep();
  InputStream update1Data=this.getClass().getResourceAsStream("version-update1.rdf");
  assumeThat("Could not load test-data: version-update1.rdf",update1Data,notNullValue(InputStream.class));
  RepositoryConnection connectionUpdate1=repository.getConnection();
  try {
    connectionUpdate1.add(update1Data,"http://marmotta.apache.org/testing/ns1/",RDFFormat.RDFXML);
    connectionUpdate1.commit();
  }
  finally {
    connectionUpdate1.close();
  }
  InputStream update2Data=this.getClass().getResourceAsStream("version-update2.rdf");
  assumeThat("Could not load test-data: version-update2.rdf",update2Data,notNullValue(InputStream.class));
  RepositoryConnection connectionUpdate2=repository.getConnection();
  try {
    connectionUpdate2.add(update2Data,"http://marmotta.apache.org/testing/ns1/",RDFFormat.RDFXML);
    connectionUpdate2.commit();
  }
  finally {
    connectionUpdate2.close();
  }
  List<Version> versions=asList(vsail.listVersions());
  Assert.assertEquals("expected 3 versions!",3,versions.size());
  URI subject=repository.getValueFactory().createURI("http://marmotta.apache.org/testing/ns1/R1");
  URI predicate=repository.getValueFactory().createURI("http://marmotta.apache.org/testing/ns1/P2");
  RepositoryConnection connectionBeforeRevert=repository.getConnection();
  try {
    Assert.assertTrue(connectionBeforeRevert.hasStatement(subject,predicate,null,true));
  }
  finally {
    connectionBeforeRevert.close();
  }
  vsail.revertVersion(versions.get(0));
  List<Version> versions2=asList(vsail.listVersions());
  Assert.assertEquals("expected 4 versions!",4,versions2.size());
  RepositoryConnection connectionAfterRevert=repository.getConnection();
  try {
    Assert.assertFalse(connectionAfterRevert.hasStatement(subject,predicate,null,true));
  }
  finally {
    connectionAfterRevert.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.marmotta.ldcache.services.test.ng.BaseLDCacheTest </h4><pre class="type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Sets implicit assumptions 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testFOAF() throws Exception {
  Assume.assumeTrue(existsClass("org.apache.marmotta.ldclient.provider.rdf.LinkedDataProvider"));
  testResource(WIKIER,"foaf-wikier.sparql");
}

</code></pre>

<br>
<pre class="type-12 type-5 type-16 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Sets implicit assumptions 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @Ignore("test failing for the moment because the data returned by the service is wrong") public void testOHLOH() throws Exception {
  Assume.assumeTrue(existsClass("org.apache.marmotta.ldclient.provider.rdf.LinkedDataProvider"));
  testResource(MARMOTTA,"ohloh-marmotta.sparql");
}

</code></pre>

<br>
<pre class="type-12 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Sets implicit assumptions 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testGeonames() throws Exception {
  Assume.assumeTrue(existsClass("org.apache.marmotta.ldclient.provider.rdf.LinkedDataProvider"));
  testResource(GEONAMES,"geonames-embrun.sparql");
}

</code></pre>

<br>
<pre class="type-12 type-5 type-16 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Sets implicit assumptions 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @Ignore("test failing for the moment because the data returned by the service is wrong") public void testDBPedia() throws Exception {
  Assume.assumeTrue(existsClass("org.apache.marmotta.ldclient.provider.rdf.LinkedDataProvider"));
  testResource(DBPEDIA,"dbpedia-berlin.sparql");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.marmotta.ldclient.test.rdf.TestLinkedDataProvider </h4><pre class="type-11 type-9 type-4 type-12 type-16 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @Ignore("just to debug a user report") public void testGeoNames2() throws Exception {
  Assume.assumeTrue(ldclient.ping(GEONAMES2));
  ClientResponse response=ldclient.retrieveResource(GEONAMES2);
  RepositoryConnection connection=ModelCommons.asRepository(response.getData()).getConnection();
  connection.begin();
  Assert.assertTrue(connection.size() == 7);
  connection.commit();
  connection.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.marmotta.ldclient.test.rdf.TestStanbolProvider </h4><pre class="type-11 type-9 type-4 type-12 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * This method tests accessing the DBPedia SPARQL service, which uses Virtuoso and delivers RDF/XML as
 * well as text/turtle.
 * @throws Exception
 */
@Test public void testDBPedia() throws Exception {
  ClientConfiguration config=new ClientConfiguration();
  config.addEndpoint(new StanbolEndpoint("DBPedia (Stanbol Cache)","http://dev.iks-project.eu:8080/entityhub/site/dbpedia/","^http://dbpedia\\.org/resource/.*"));
  LDClientService ldclient=new TestLDClient(new LDClient(config));
  Assume.assumeTrue(ldclient.ping("http://dev.iks-project.eu:8080/"));
  String uriBerlin="http://dbpedia.org/resource/Berlin";
  ClientResponse respBerlin=ldclient.retrieveResource(uriBerlin);
  RepositoryConnection conBerlin=ModelCommons.asRepository(respBerlin.getData()).getConnection();
  conBerlin.begin();
  Assert.assertTrue(conBerlin.size() > 0);
  InputStream sparql=this.getClass().getResourceAsStream("dbpedia-berlin.sparql");
  BooleanQuery testLabel=conBerlin.prepareBooleanQuery(QueryLanguage.SPARQL,IOUtils.toString(sparql));
  Assert.assertTrue("SPARQL test query failed",testLabel.evaluate());
  conBerlin.commit();
  conBerlin.close();
  ldclient.shutdown();
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
