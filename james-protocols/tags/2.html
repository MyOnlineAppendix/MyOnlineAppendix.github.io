<h3><span class=" glyphicon glyphicon-tag"/>&nbspBooleanVerifier</h3><kbd>Verifies boolean conditions</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.james.imap.api.IdRangeTest </h4><pre class="type-3 type-2 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNotMerge(){
  IdRange r=new IdRange(0,2);
  IdRange r2=new IdRange(4,5);
  IdRange r3=new IdRange(7,10);
  List<IdRange> ranges=new ArrayList<IdRange>();
  ranges.add(r);
  ranges.add(r2);
  ranges.add(r3);
  List<IdRange> merged=IdRange.mergeRanges(ranges);
  assertEquals(3,merged.size());
  Iterator<IdRange> rIt=merged.iterator();
  checkIdRange(r,rIt.next());
  checkIdRange(r2,rIt.next());
  checkIdRange(r3,rIt.next());
  assertFalse(rIt.hasNext());
}

</code></pre>

<br>
<pre class="type-3 type-2 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMerge(){
  IdRange r=new IdRange(0,2);
  IdRange r2=new IdRange(1,4);
  IdRange r3=new IdRange(6,7);
  List<IdRange> ranges=new ArrayList<IdRange>();
  ranges.add(r);
  ranges.add(r2);
  ranges.add(r3);
  List<IdRange> merged=IdRange.mergeRanges(ranges);
  assertEquals(2,merged.size());
  Iterator<IdRange> rIt=merged.iterator();
  checkIdRange(new IdRange(0,4),rIt.next());
  checkIdRange(r3,rIt.next());
  assertFalse(rIt.hasNext());
}

</code></pre>

<br>
<pre class="type-3 type-2 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMerge4(){
  IdRange r=new IdRange(0,1);
  IdRange r2=new IdRange(1,1);
  IdRange r3=new IdRange(2,2);
  List<IdRange> ranges=new ArrayList<IdRange>();
  ranges.add(r);
  ranges.add(r2);
  ranges.add(r3);
  List<IdRange> merged=IdRange.mergeRanges(ranges);
  assertEquals(1,merged.size());
  Iterator<IdRange> rIt=merged.iterator();
  checkIdRange(new IdRange(0,2),rIt.next());
  assertFalse(rIt.hasNext());
}

</code></pre>

<br>
<pre class="type-3 type-2 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMerge3(){
  IdRange r=new IdRange(0,10);
  IdRange r2=new IdRange(1,4);
  IdRange r3=new IdRange(10,15);
  List<IdRange> ranges=new ArrayList<IdRange>();
  ranges.add(r);
  ranges.add(r2);
  ranges.add(r3);
  List<IdRange> merged=IdRange.mergeRanges(ranges);
  assertEquals(1,merged.size());
  Iterator<IdRange> rIt=merged.iterator();
  checkIdRange(new IdRange(0,15),rIt.next());
  assertFalse(rIt.hasNext());
}

</code></pre>

<br>
<pre class="type-3 type-2 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMerge2(){
  IdRange r=new IdRange(0,10);
  IdRange r2=new IdRange(1,4);
  IdRange r3=new IdRange(5,7);
  List<IdRange> ranges=new ArrayList<IdRange>();
  ranges.add(r);
  ranges.add(r2);
  ranges.add(r3);
  List<IdRange> merged=IdRange.mergeRanges(ranges);
  assertEquals(1,merged.size());
  Iterator<IdRange> rIt=merged.iterator();
  checkIdRange(new IdRange(0,10),rIt.next());
  assertFalse(rIt.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.imap.encode.FetchResponseEncoderNoExtensionsTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testShouldNotAcceptUnknownResponse() throws Exception {
  assertFalse(encoder.isAcceptable(context.mock(ImapMessage.class)));
}

</code></pre>

<br>
<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testShouldAcceptFetchResponse() throws Exception {
  assertTrue(encoder.isAcceptable(new FetchResponse(11,null,null,null,null,null,null,null,null,null)));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.imap.encode.FetchResponseEncoderTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testShouldAcceptFetchResponse() throws Exception {
  assertTrue(encoder.isAcceptable(new FetchResponse(11,null,null,null,null,null,null,null,null,null)));
}

</code></pre>

<br>
<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testShouldNotAcceptUnknownResponse() throws Exception {
  assertFalse(encoder.isAcceptable(context.mock(ImapMessage.class)));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.imap.encode.LSubResponseEncoderTest </h4><pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsAcceptable(){
  assertFalse(encoder.isAcceptable(new ListResponse(true,true,true,true,false,false,"name",'.')));
  assertTrue(encoder.isAcceptable(new LSubResponse("name",true,'.')));
  assertFalse(encoder.isAcceptable(context.mock(ImapMessage.class)));
  assertFalse(encoder.isAcceptable(null));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.imap.encode.ListResponseEncoderTest </h4><pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsAcceptable(){
  assertTrue(encoder.isAcceptable(response));
  assertFalse(encoder.isAcceptable(context.mock(ImapMessage.class)));
  assertFalse(encoder.isAcceptable(null));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.imap.encode.MailboxStatusResponseEncoderTest </h4><pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsAcceptable() throws Exception {
  assertTrue(encoder.isAcceptable(new MailboxStatusResponse(null,null,null,null,null,null,"mailbox")));
  assertFalse(encoder.isAcceptable(context.mock(ImapMessage.class)));
  assertFalse(encoder.isAcceptable(null));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.imap.encode.NamespaceResponseEncoderTest </h4><pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNamespaceResponseIsAcceptable() throws Exception {
  assertFalse(subject.isAcceptable(context.mock(ImapMessage.class)));
  assertTrue(subject.isAcceptable(new NamespaceResponse(null,null,null)));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.imap.encode.SearchResponseEncoderTest </h4><pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsAcceptable(){
  assertTrue(encoder.isAcceptable(new ListResponse(true,true,true,true,false,false,"name",'.')));
  assertFalse(encoder.isAcceptable(new LSubResponse("name",true,'.')));
  assertFalse(encoder.isAcceptable(context.mock(ImapMessage.class)));
  assertFalse(encoder.isAcceptable(null));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.imap.main.ImapRequestHandlerAdandonConnectionTest </h4><pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testWhenConsumeLineFailsShouldAbandonConnection() throws Exception {
  mockery.checking(new Expectations(){
{
      ignoring(decoderStub);
      ignoring(processorStub);
      ignoring(encoderStub);
      ignoring(sessionStub);
    }
  }
);
  byte[] endOfStreamAfterOneCharacter={'0'};
  ByteArrayInputStream fakeInput=new ByteArrayInputStream(endOfStreamAfterOneCharacter);
  boolean result=subject.handleRequest(fakeInput,fakeOutput,sessionStub);
  assertFalse("Connection should be abandoned",result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.imap.processor.base.MailboxEventAnalyserTest </h4><pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testShouldBeNoSizeChangeOnOtherEvent() throws Exception {
  MyMailboxSession mSession=new MyMailboxSession(0);
  MyImapSession imapsession=new MyImapSession(mSession);
  SelectedMailboxImpl analyser=new SelectedMailboxImpl(mockManager,imapsession,mailboxPath);
  final MailboxListener.Event event=new MailboxListener.Event(mSession,mailboxPath){
  }
;
  analyser.event(event);
  assertFalse(analyser.isSizeChanged());
}

</code></pre>

<br>
<pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testShouldNoSizeChangeAfterReset() throws Exception {
  MyMailboxSession mSession=new MyMailboxSession(99);
  MyImapSession imapsession=new MyImapSession(mSession);
  SelectedMailboxImpl analyser=new SelectedMailboxImpl(mockManager,imapsession,mailboxPath);
  analyser.event(new FakeMailboxListenerAdded(mSession,Arrays.asList(11L),mailboxPath));
  analyser.resetEvents();
  assertFalse(analyser.isSizeChanged());
}

</code></pre>

<br>
<pre class="type-2 type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testShouldNotSetUidWhenSystemFlagChangeSameSessionInSilentMode() throws Exception {
  MyMailboxSession mSession=new MyMailboxSession(BASE_SESSION_ID);
  MyImapSession imapsession=new MyImapSession(mSession);
  SelectedMailboxImpl analyser=new SelectedMailboxImpl(mockManager,imapsession,mailboxPath);
  final FakeMailboxListenerFlagsUpdate update=new FakeMailboxListenerFlagsUpdate(mSession,Arrays.asList(345L),Arrays.asList(new UpdatedFlags(345,-1,new Flags(),new Flags())),mailboxPath);
  analyser.event(update);
  analyser.setSilentFlagChanges(true);
  analyser.event(update);
  final Iterator<Long> iterator=analyser.flagUpdateUids().iterator();
  assertNotNull(iterator);
  assertFalse(iterator.hasNext());
}

</code></pre>

<br>
<pre class="type-2 type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testShouldNotSetUidWhenOnlyRecentFlagUpdated() throws Exception {
  MyMailboxSession mSession=new MyMailboxSession(BASE_SESSION_ID);
  MyImapSession imapsession=new MyImapSession(mSession);
  SelectedMailboxImpl analyser=new SelectedMailboxImpl(mockManager,imapsession,mailboxPath);
  final FakeMailboxListenerFlagsUpdate update=new FakeMailboxListenerFlagsUpdate(mSession,Arrays.asList(886L),Arrays.asList(new UpdatedFlags(886,-1,new Flags(),new Flags(Flags.Flag.RECENT))),mailboxPath);
  analyser.event(update);
  final Iterator<Long> iterator=analyser.flagUpdateUids().iterator();
  assertNotNull(iterator);
  assertFalse(iterator.hasNext());
}

</code></pre>

<br>
<pre class="type-2 type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testShouldNotSetUidWhenNoSystemFlagChange() throws Exception {
  MyMailboxSession mSession=new MyMailboxSession(11);
  MyImapSession imapsession=new MyImapSession(mSession);
  SelectedMailboxImpl analyser=new SelectedMailboxImpl(mockManager,imapsession,mailboxPath);
  final FakeMailboxListenerFlagsUpdate update=new FakeMailboxListenerFlagsUpdate(mSession,Arrays.asList(90L),Arrays.asList(new UpdatedFlags(90,-1,new Flags(),new Flags())),mailboxPath);
  analyser.event(update);
  assertNotNull(analyser.flagUpdateUids());
  assertFalse(analyser.flagUpdateUids().iterator().hasNext());
}

</code></pre>

<br>
<pre class="type-2 type-6 type-5 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testShouldSetUidWhenSystemFlagChangeDifferentSessionInSilentMode() throws Exception {
  final long uid=900L;
  MyMailboxSession mSession=new MyMailboxSession(11);
  MyImapSession imapsession=new MyImapSession(mSession);
  SelectedMailboxImpl analyser=new SelectedMailboxImpl(mockManager,imapsession,mailboxPath);
  final FakeMailboxListenerFlagsUpdate update=new FakeMailboxListenerFlagsUpdate(new MyMailboxSession(BASE_SESSION_ID),Arrays.asList(uid),Arrays.asList(new UpdatedFlags(uid,-1,new Flags(),new Flags(Flags.Flag.ANSWERED))),mailboxPath);
  analyser.event(update);
  analyser.setSilentFlagChanges(true);
  analyser.event(update);
  final Iterator<Long> iterator=analyser.flagUpdateUids().iterator();
  assertNotNull(iterator);
  assertTrue(iterator.hasNext());
  assertEquals(new Long(uid),iterator.next());
  assertFalse(iterator.hasNext());
}

</code></pre>

<br>
<pre class="type-2 type-6 type-5 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testShouldSetUidWhenSystemFlagChange() throws Exception {
  final long uid=900L;
  MyMailboxSession mSession=new MyMailboxSession(11);
  MyImapSession imapsession=new MyImapSession(mSession);
  SelectedMailboxImpl analyser=new SelectedMailboxImpl(mockManager,imapsession,mailboxPath);
  final FakeMailboxListenerFlagsUpdate update=new FakeMailboxListenerFlagsUpdate(new MyMailboxSession(41),Arrays.asList(uid),Arrays.asList(new UpdatedFlags(uid,-1,new Flags(),new Flags(Flags.Flag.ANSWERED))),mailboxPath);
  analyser.event(update);
  final Iterator<Long> iterator=analyser.flagUpdateUids().iterator();
  assertNotNull(iterator);
  assertTrue(iterator.hasNext());
  assertEquals(new Long(uid),iterator.next());
  assertFalse(iterator.hasNext());
}

</code></pre>

<br>
<pre class="type-2 type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testShouldClearFlagUidsUponReset() throws Exception {
  final long uid=900L;
  MyMailboxSession mSession=new MyMailboxSession(11);
  MyImapSession imapsession=new MyImapSession(mSession);
  SelectedMailboxImpl analyser=new SelectedMailboxImpl(mockManager,imapsession,mailboxPath);
  final FakeMailboxListenerFlagsUpdate update=new FakeMailboxListenerFlagsUpdate(mSession,Arrays.asList(uid),Arrays.asList(new UpdatedFlags(uid,-1,new Flags(),new Flags(Flags.Flag.ANSWERED))),mailboxPath);
  analyser.event(update);
  analyser.event(update);
  analyser.deselect();
  assertNotNull(analyser.flagUpdateUids());
  assertFalse(analyser.flagUpdateUids().iterator().hasNext());
}

</code></pre>

<br>
<pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testShouldBeNoSizeChangeOnAdded() throws Exception {
  MyMailboxSession mSession=new MyMailboxSession(0);
  MyImapSession imapsession=new MyImapSession(mSession);
  SelectedMailboxImpl analyser=new SelectedMailboxImpl(mockManager,imapsession,mailboxPath);
  analyser.event(new FakeMailboxListenerAdded(mSession,Arrays.asList(11L),mailboxPath));
  assertTrue(analyser.isSizeChanged());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.protocols.imap.utils.DecoderUtilsTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSetOtherFlag() throws Exception {
  Flags flags=new Flags();
  DecoderUtils.setFlag(A_CUSTOM_FLAG,flags);
  assertTrue("Unknown flags should be added",flags.contains(A_CUSTOM_FLAG));
}

</code></pre>

<br>
<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testExtensionFlag() throws Exception {
  Flags flags=new Flags();
  DecoderUtils.setFlag(EXTENSION_FLAG,flags);
  assertTrue("Extension flags should be added",flags.contains(EXTENSION_FLAG));
}

</code></pre>

<br>
<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsSimpleDigit() throws Exception {
  assertTrue(DecoderUtils.isSimpleDigit('0'));
  assertTrue(DecoderUtils.isSimpleDigit('1'));
  assertTrue(DecoderUtils.isSimpleDigit('2'));
  assertTrue(DecoderUtils.isSimpleDigit('3'));
  assertTrue(DecoderUtils.isSimpleDigit('4'));
  assertTrue(DecoderUtils.isSimpleDigit('5'));
  assertTrue(DecoderUtils.isSimpleDigit('6'));
  assertTrue(DecoderUtils.isSimpleDigit('7'));
  assertTrue(DecoderUtils.isSimpleDigit('8'));
  assertTrue(DecoderUtils.isSimpleDigit('9'));
  assertFalse(DecoderUtils.isSimpleDigit('/'));
  assertFalse(DecoderUtils.isSimpleDigit('.'));
  assertFalse(DecoderUtils.isSimpleDigit('-'));
  assertFalse(DecoderUtils.isSimpleDigit('+'));
  assertFalse(DecoderUtils.isSimpleDigit(','));
  assertFalse(DecoderUtils.isSimpleDigit('*'));
  assertFalse(DecoderUtils.isSimpleDigit(':'));
  assertFalse(DecoderUtils.isSimpleDigit(';'));
  assertFalse(DecoderUtils.isSimpleDigit('<'));
  assertFalse(DecoderUtils.isSimpleDigit('='));
  assertFalse(DecoderUtils.isSimpleDigit('>'));
  assertFalse(DecoderUtils.isSimpleDigit('A'));
  assertFalse(DecoderUtils.isSimpleDigit('B'));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.protocols.lmtp.AbstractLMTPServerTest </h4><pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testEhloNotSupported() throws Exception {
  TestMessageHook hook=new TestMessageHook();
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    server=createServer(createProtocol(hook),address);
    server.bind();
    SMTPClient client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue(SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.sendCommand("HELO localhost");
    assertTrue(SMTPReply.isNegativePermanent(client.getReplyCode()));
    client.quit();
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.disconnect();
    Iterator<MailEnvelope> queued=hook.getQueued().iterator();
    assertFalse(queued.hasNext());
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<pre class="type-3 type-2 type-6 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeliveryHook() throws Exception {
  TestDeliverHook deliverHook=new TestDeliverHook();
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    server=createServer(createProtocol(deliverHook),address);
    server.bind();
    SMTPClient client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue(SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.helo("localhost");
    assertTrue(SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.setSender(SENDER);
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.addRecipient(RCPT1);
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.addRecipient(RCPT2);
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    assertTrue(client.sendShortMessageData(MSG1));
    int[] replies=((LMTPClient)client).getReplies();
    assertEquals("Expected two replies",2,replies.length);
    assertTrue(SMTPReply.isNegativePermanent(replies[0]));
    assertTrue(SMTPReply.isPositiveCompletion(replies[1]));
    client.quit();
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.disconnect();
    Iterator<MailEnvelope> queued=deliverHook.getDelivered().iterator();
    assertTrue(queued.hasNext());
    MailEnvelope env=queued.next();
    checkEnvelope(env,SENDER,Arrays.asList(RCPT1,RCPT2),MSG1);
    assertFalse(queued.hasNext());
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.protocols.pop3.AbstractPOP3ServerTest </h4><pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNoop() throws Exception {
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    String identifier="id";
    TestPassCmdHandler factory=new TestPassCmdHandler();
    factory.add("valid",new MockMailbox(identifier));
    server=createServer(createProtocol(factory),address);
    server.bind();
    POP3Client client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue(client.login("valid","valid"));
    assertTrue(client.noop());
    assertTrue(client.logout());
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-6 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEmptyInbox() throws Exception {
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    String identifier="id";
    TestPassCmdHandler handler=new TestPassCmdHandler();
    handler.add("valid",new MockMailbox(identifier));
    server=createServer(createProtocol(handler),address);
    server.bind();
    POP3Client client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue(client.login("valid","valid"));
    POP3MessageInfo[] info=client.listMessages();
    assertEquals(0,info.length);
    info=client.listUniqueIdentifiers();
    assertEquals(0,info.length);
    assertTrue(client.logout());
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-6 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRset() throws Exception {
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    String identifier="id";
    TestPassCmdHandler factory=new TestPassCmdHandler();
    factory.add("valid",new MockMailbox(identifier,MESSAGE1));
    server=createServer(createProtocol(factory),address);
    server.bind();
    POP3Client client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue(client.login("valid","valid"));
    assertEquals(1,client.listMessages().length);
    assertTrue(client.deleteMessage(1));
    assertEquals(0,client.listMessages().length);
    assertTrue(client.reset());
    assertEquals(1,client.listMessages().length);
    assertTrue(client.logout());
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDifferentStates() throws Exception {
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    String identifier="id";
    TestPassCmdHandler factory=new TestPassCmdHandler();
    factory.add("valid",new MockMailbox(identifier,MESSAGE1,MESSAGE2));
    server=createServer(createProtocol(factory),address);
    server.bind();
    POP3Client client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertNull(client.listMessages());
    assertNull(client.listUniqueIdentifiers());
    assertFalse(client.deleteMessage(1));
    assertNull(client.retrieveMessage(1));
    assertNull(client.retrieveMessageTop(1,10));
    assertNull(client.status());
    assertFalse(client.reset());
    client.logout();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue(client.login("valid","valid"));
    assertNotNull(client.listMessages());
    assertNotNull(client.listUniqueIdentifiers());
    Reader reader=client.retrieveMessage(1);
    assertNotNull(reader);
    reader.close();
    assertNotNull(client.status());
    reader=client.retrieveMessageTop(1,1);
    assertNotNull(reader);
    reader.close();
    assertTrue(client.deleteMessage(1));
    assertTrue(client.reset());
    assertTrue(client.logout());
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTop() throws Exception {
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    String identifier="id";
    TestPassCmdHandler factory=new TestPassCmdHandler();
    factory.add("valid",new MockMailbox(identifier,MESSAGE1,MESSAGE2));
    server=createServer(createProtocol(factory),address);
    server.bind();
    POP3Client client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue(client.login("valid","valid"));
    Reader reader=client.retrieveMessageTop(1,1000);
    assertNotNull(reader);
    checkMessage(MESSAGE1,reader);
    reader.close();
    reader=client.retrieveMessageTop(2,1);
    assertNotNull(reader);
    checkMessage(MESSAGE2,reader,1);
    reader.close();
    reader=client.retrieveMessageTop(10,100);
    assertNull(reader);
    assertTrue(client.deleteMessage(1));
    reader=client.retrieveMessageTop(1,1000);
    assertNull(reader);
    assertTrue(client.logout());
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-6 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRetr() throws Exception {
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    String identifier="id";
    TestPassCmdHandler factory=new TestPassCmdHandler();
    factory.add("valid",new MockMailbox(identifier,MESSAGE1,MESSAGE2));
    server=createServer(createProtocol(factory),address);
    server.bind();
    POP3Client client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue(client.login("valid","valid"));
    Reader reader=client.retrieveMessage(1);
    assertNotNull(reader);
    checkMessage(MESSAGE1,reader);
    reader.close();
    reader=client.retrieveMessage(10);
    assertNull(reader);
    assertTrue(client.deleteMessage(1));
    reader=client.retrieveMessage(1);
    assertNull(reader);
    assertTrue(client.logout());
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testInvalidAuth() throws Exception {
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    server=createServer(createProtocol(new TestPassCmdHandler()),address);
    server.bind();
    POP3Client client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertFalse(client.login("invalid","invalid"));
    assertTrue(client.logout());
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-6 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStat() throws Exception {
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    String identifier="id";
    TestPassCmdHandler factory=new TestPassCmdHandler();
    factory.add("valid",new MockMailbox(identifier,MESSAGE1,MESSAGE2));
    server=createServer(createProtocol(factory),address);
    server.bind();
    POP3Client client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue(client.login("valid","valid"));
    POP3MessageInfo info=client.status();
    assertEquals((int)(MESSAGE1.meta.getSize() + MESSAGE2.meta.getSize()),info.size);
    assertEquals(2,info.number);
    assertTrue(client.logout());
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-6 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAPop() throws Exception {
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    TestApopCmdHandler handler=new TestApopCmdHandler();
    server=createServer(createProtocol(handler),address);
    server.bind();
    POP3Client client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    String welcomeMessage=client.getReplyString();
    assertTrue(welcomeMessage.trim().matches("\\+OK \\<\\d+\\.\\d+@.+\\> .+"));
    int reply=client.sendCommand("APOP invalid invalid");
    assertEquals(POP3Reply.ERROR,reply);
    handler.add("valid",new MockMailbox("id"));
    reply=client.sendCommand("APOP valid valid");
    assertEquals(POP3Reply.OK,reply);
    assertTrue(client.logout());
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-6 type-5 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInboxWithMessages() throws Exception {
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    String identifier="id";
    TestPassCmdHandler handler=new TestPassCmdHandler();
    handler.add("valid",new MockMailbox(identifier,MESSAGE1,MESSAGE2));
    server=createServer(createProtocol(handler),address);
    server.bind();
    POP3Client client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue(client.login("valid","valid"));
    POP3MessageInfo[] info=client.listMessages();
    assertEquals(2,info.length);
    assertEquals((int)MESSAGE1.meta.getSize(),info[0].size);
    assertEquals((int)MESSAGE2.meta.getSize(),info[1].size);
    assertEquals(1,info[0].number);
    assertEquals(2,info[1].number);
    POP3MessageInfo mInfo=client.listMessage(1);
    assertEquals((int)MESSAGE1.meta.getSize(),mInfo.size);
    assertEquals(1,mInfo.number);
    mInfo=client.listMessage(10);
    assertNull(mInfo);
    info=client.listUniqueIdentifiers();
    assertEquals(2,info.length);
    assertEquals(identifier + "-" + MESSAGE1.meta.getUid(),info[0].identifier);
    assertEquals(identifier + "-" + MESSAGE2.meta.getUid(),info[1].identifier);
    assertEquals(1,info[0].number);
    assertEquals(2,info[1].number);
    mInfo=client.listUniqueIdentifier(1);
    assertEquals(identifier + "-" + MESSAGE1.meta.getUid(),mInfo.identifier);
    assertEquals(1,mInfo.number);
    mInfo=client.listUniqueIdentifier(10);
    assertNull(mInfo);
    assertTrue(client.logout());
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-6 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDele() throws Exception {
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    String identifier="id";
    TestPassCmdHandler factory=new TestPassCmdHandler();
    factory.add("valid",new MockMailbox(identifier,MESSAGE1,MESSAGE2));
    server=createServer(createProtocol(factory),address);
    server.bind();
    POP3Client client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue(client.login("valid","valid"));
    POP3MessageInfo[] info=client.listMessages();
    assertEquals(2,info.length);
    assertTrue(client.deleteMessage(1));
    info=client.listMessages();
    assertEquals(1,info.length);
    assertFalse(client.deleteMessage(1));
    info=client.listMessages();
    assertEquals(1,info.length);
    assertTrue(client.deleteMessage(2));
    info=client.listMessages();
    assertEquals(0,info.length);
    assertTrue(client.logout());
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue(client.login("valid","valid"));
    info=client.listMessages();
    assertEquals(0,info.length);
    assertTrue(client.logout());
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.protocols.pop3.AbstractStartTlsPOP3ServerTest </h4><pre class="type-2 type-6 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStartTls() throws Exception {
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    String identifier="id";
    TestPassCmdHandler handler=new TestPassCmdHandler();
    handler.add("valid",new MockMailbox(identifier));
    server=createServer(createProtocol(handler),address,Encryption.createStartTls(BogusSslContextFactory.getServerContext()));
    server.bind();
    POP3SClient client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertEquals(POP3Reply.OK,client.sendCommand("CAPA"));
    client.getAdditionalReply();
    boolean startTlsCapa=false;
    for (    String cap : client.getReplyStrings()) {
      if (cap.equalsIgnoreCase("STLS")) {
        startTlsCapa=true;
        break;
      }
    }
    assertTrue(startTlsCapa);
    assertTrue(client.execTLS());
    client.disconnect();
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.protocols.pop3.POP3StartTlsResponseTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Test for PROTOCOLS-89
 */
@Test public void testImmutable(){
  POP3StartTlsResponse response=new POP3StartTlsResponse(POP3Response.OK_RESPONSE);
  assertTrue(response instanceof StartTlsResponse);
  assertTrue(response.immutable() instanceof StartTlsResponse);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.protocols.smtp.AbstractSMTPServerTest </h4><pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testInvalidNoBracketsEnformance() throws Exception {
  TestMessageHook hook=new TestMessageHook();
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    Protocol protocol=createProtocol(hook);
    ((SMTPConfigurationImpl)protocol.getConfiguration()).setUseAddressBracketsEnforcement(false);
    server=createServer(protocol,address);
    server.bind();
    SMTPClient client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.helo("localhost");
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.mail(SENDER);
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.addRecipient(RCPT1);
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.quit();
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.disconnect();
    Iterator<MailEnvelope> queued=hook.getQueued().iterator();
    assertFalse(queued.hasNext());
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testHeloHookTempraryError() throws Exception {
  HeloHook hook=new HeloHook(){
    public HookResult doHelo(    SMTPSession session,    String helo){
      return new HookResult(HookReturnCode.DENYSOFT);
    }
  }
;
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    server=createServer(createProtocol(hook),address);
    server.bind();
    SMTPClient client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.helo("localhost");
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isNegativeTransient(client.getReplyCode()));
    client.quit();
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.disconnect();
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testRcptHookPermanentError() throws Exception {
  RcptHook hook=new RcptHook(){
    public HookResult doRcpt(    SMTPSession session,    MailAddress sender,    MailAddress rcpt){
      if (RCPT1.equals(rcpt.toString())) {
        return new HookResult(HookReturnCode.DENY);
      }
 else {
        return new HookResult(HookReturnCode.DECLINED);
      }
    }
  }
;
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    server=createServer(createProtocol(hook),address);
    server.bind();
    SMTPClient client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.helo("localhost");
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.setSender(SENDER);
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.addRecipient(RCPT1);
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isNegativePermanent(client.getReplyCode()));
    client.addRecipient(RCPT2);
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.quit();
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.disconnect();
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSimpleDelivery() throws Exception {
  TestMessageHook hook=new TestMessageHook();
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    server=createServer(createProtocol(hook),address);
    server.bind();
    SMTPClient client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue(SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.helo("localhost");
    assertTrue(SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.setSender(SENDER);
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.addRecipient(RCPT1);
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.addRecipient(RCPT2);
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    assertTrue(client.sendShortMessageData(MSG1));
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.quit();
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.disconnect();
    Iterator<MailEnvelope> queued=hook.getQueued().iterator();
    assertTrue(queued.hasNext());
    MailEnvelope env=queued.next();
    checkEnvelope(env,SENDER,Arrays.asList(RCPT1,RCPT2),MSG1);
    assertFalse(queued.hasNext());
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testHeloHookPermanentError() throws Exception {
  HeloHook hook=new HeloHook(){
    public HookResult doHelo(    SMTPSession session,    String helo){
      return new HookResult(HookReturnCode.DENY);
    }
  }
;
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    server=createServer(createProtocol(hook),address);
    server.bind();
    SMTPClient client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.helo("localhost");
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isNegativePermanent(client.getReplyCode()));
    client.quit();
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.disconnect();
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testHeloEnforcement() throws Exception {
  TestMessageHook hook=new TestMessageHook();
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    server=createServer(createProtocol(hook),address);
    server.bind();
    SMTPClient client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.setSender(SENDER);
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isNegativePermanent(client.getReplyCode()));
    client.quit();
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.disconnect();
    Iterator<MailEnvelope> queued=hook.getQueued().iterator();
    assertFalse(queued.hasNext());
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testMailWithoutBrackets() throws Exception {
  TestMessageHook hook=new TestMessageHook();
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    server=createServer(createProtocol(hook),address);
    server.bind();
    SMTPClient client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue(SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.helo("localhost");
    assertTrue(SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.mail("invalid");
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isNegativePermanent(client.getReplyCode()));
    client.addRecipient(RCPT1);
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isNegativePermanent(client.getReplyCode()));
    client.quit();
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.disconnect();
    Iterator<MailEnvelope> queued=hook.getQueued().iterator();
    assertFalse(queued.hasNext());
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testRcptHookTemporaryError() throws Exception {
  RcptHook hook=new RcptHook(){
    public HookResult doRcpt(    SMTPSession session,    MailAddress sender,    MailAddress rcpt){
      if (RCPT1.equals(rcpt.toString())) {
        return new HookResult(HookReturnCode.DENYSOFT);
      }
 else {
        return new HookResult(HookReturnCode.DECLINED);
      }
    }
  }
;
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    server=createServer(createProtocol(hook),address);
    server.bind();
    SMTPClient client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.helo("localhost");
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.setSender(SENDER);
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.addRecipient(RCPT1);
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isNegativeTransient(client.getReplyCode()));
    client.addRecipient(RCPT2);
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.quit();
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.disconnect();
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testStartTlsNotSupported() throws Exception {
  TestMessageHook hook=new TestMessageHook();
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    server=createServer(createProtocol(hook),address);
    server.bind();
    SMTPClient client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue(SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.sendCommand("STARTTLS");
    assertTrue(SMTPReply.isNegativePermanent(client.getReplyCode()));
    client.quit();
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.disconnect();
    Iterator<MailEnvelope> queued=hook.getQueued().iterator();
    assertFalse(queued.hasNext());
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testInvalidHelo() throws Exception {
  TestMessageHook hook=new TestMessageHook();
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    server=createServer(createProtocol(hook),address);
    server.bind();
    SMTPClient client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue(SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.helo("");
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isNegativePermanent(client.getReplyCode()));
    client.quit();
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.disconnect();
    Iterator<MailEnvelope> queued=hook.getQueued().iterator();
    assertFalse(queued.hasNext());
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testConnectHandlerTemporary() throws Exception {
  ConnectHandler<SMTPSession> connectHandler=new ConnectHandler<SMTPSession>(){
    public Response onConnect(    SMTPSession session){
      return new SMTPResponse("451","Bye Bye");
    }
  }
;
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    server=createServer(createProtocol(connectHandler),address);
    server.bind();
    SMTPClient client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isNegativeTransient(client.getReplyCode()));
    client.disconnect();
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testRcptWithoutBrackets() throws Exception {
  TestMessageHook hook=new TestMessageHook();
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    server=createServer(createProtocol(hook),address);
    server.bind();
    SMTPClient client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue(SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.helo("localhost");
    assertTrue(SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.setSender(SENDER);
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.rcpt(RCPT1);
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isNegativePermanent(client.getReplyCode()));
    client.quit();
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.disconnect();
    Iterator<MailEnvelope> queued=hook.getQueued().iterator();
    assertFalse(queued.hasNext());
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testMessageHookPermanentError() throws Exception {
  TestMessageHook testHook=new TestMessageHook();
  MessageHook hook=new MessageHook(){
    public HookResult onMessage(    SMTPSession session,    MailEnvelope mail){
      return new HookResult(HookReturnCode.DENY);
    }
  }
;
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    server=createServer(createProtocol(hook,testHook),address);
    server.bind();
    SMTPClient client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.helo("localhost");
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.setSender(SENDER);
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.addRecipient(RCPT2);
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    assertFalse(client.sendShortMessageData(MSG1));
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isNegativePermanent(client.getReplyCode()));
    client.quit();
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.disconnect();
    Iterator<MailEnvelope> queued=testHook.getQueued().iterator();
    assertFalse(queued.hasNext());
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNullSender() throws Exception {
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    server=createServer(createProtocol(new ProtocolHandler[0]),address);
    server.bind();
    SMTPClient client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.helo("localhost");
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.setSender("");
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.addRecipient(RCPT1);
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.quit();
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.disconnect();
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testMessageHookTemporaryError() throws Exception {
  TestMessageHook testHook=new TestMessageHook();
  MessageHook hook=new MessageHook(){
    public HookResult onMessage(    SMTPSession session,    MailEnvelope mail){
      return new HookResult(HookReturnCode.DENYSOFT);
    }
  }
;
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    server=createServer(createProtocol(hook,testHook),address);
    server.bind();
    SMTPClient client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.helo("localhost");
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.setSender(SENDER);
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.addRecipient(RCPT2);
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    assertFalse(client.sendShortMessageData(MSG1));
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isNegativeTransient(client.getReplyCode()));
    client.quit();
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.disconnect();
    Iterator<MailEnvelope> queued=testHook.getQueued().iterator();
    assertFalse(queued.hasNext());
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testConnectHandlerPermananet() throws Exception {
  ConnectHandler<SMTPSession> connectHandler=new ConnectHandler<SMTPSession>(){
    public Response onConnect(    SMTPSession session){
      return new SMTPResponse("554","Bye Bye");
    }
  }
;
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    server=createServer(createProtocol(connectHandler),address);
    server.bind();
    SMTPClient client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isNegativePermanent(client.getReplyCode()));
    client.disconnect();
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testDisconnectHandler() throws Exception {
  final AtomicBoolean called=new AtomicBoolean(false);
  DisconnectHandler<SMTPSession> handler=new DisconnectHandler<SMTPSession>(){
    public void onDisconnect(    SMTPSession session){
      called.set(true);
    }
  }
;
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    server=createServer(createProtocol(handler),address);
    server.bind();
    SMTPClient client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.disconnect();
    Thread.sleep(1000);
    assertTrue(called.get());
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testMailHookPermanentError() throws Exception {
  MailHook hook=new MailHook(){
    public HookResult doMail(    SMTPSession session,    MailAddress sender){
      return new HookResult(HookReturnCode.DENY);
    }
  }
;
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    server=createServer(createProtocol(hook),address);
    server.bind();
    SMTPClient client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.helo("localhost");
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.setSender(SENDER);
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isNegativePermanent(client.getReplyCode()));
    client.quit();
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.disconnect();
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNoop() throws Exception {
  TestMessageHook hook=new TestMessageHook();
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    server=createServer(createProtocol(hook),address);
    server.bind();
    SMTPClient client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue(SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.noop();
    assertTrue(SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.quit();
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.disconnect();
    Iterator<MailEnvelope> queued=hook.getQueued().iterator();
    assertFalse(queued.hasNext());
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testMailHookTemporaryError() throws Exception {
  MailHook hook=new MailHook(){
    public HookResult doMail(    SMTPSession session,    MailAddress sender){
      return new HookResult(HookReturnCode.DENYSOFT);
    }
  }
;
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    server=createServer(createProtocol(hook),address);
    server.bind();
    SMTPClient client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.helo("localhost");
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.setSender(SENDER);
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isNegativeTransient(client.getReplyCode()));
    client.quit();
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.disconnect();
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testUnknownCommand() throws Exception {
  TestMessageHook hook=new TestMessageHook();
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    server=createServer(createProtocol(hook),address);
    server.bind();
    SMTPClient client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue(SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.sendCommand("UNKNOWN");
    assertTrue(SMTPReply.isNegativePermanent(client.getReplyCode()));
    client.quit();
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.disconnect();
    Iterator<MailEnvelope> queued=hook.getQueued().iterator();
    assertFalse(queued.hasNext());
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testHeloEnforcementDisabled() throws Exception {
  TestMessageHook hook=new TestMessageHook();
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    Protocol protocol=createProtocol(hook);
    ((SMTPConfigurationImpl)protocol.getConfiguration()).setHeloEhloEnforcement(false);
    server=createServer(protocol,address);
    server.bind();
    SMTPClient client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.setSender(SENDER);
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.quit();
    assertTrue("Reply=" + client.getReplyString(),SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.disconnect();
    Iterator<MailEnvelope> queued=hook.getQueued().iterator();
    assertFalse(queued.hasNext());
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.protocols.smtp.AbstractStartTlsSMTPServerTest </h4><pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testStartTLS() throws Exception {
  InetSocketAddress address=new InetSocketAddress("127.0.0.1",TestUtils.getFreePort());
  ProtocolServer server=null;
  try {
    server=createServer(createProtocol(new ProtocolHandler[0]),address,Encryption.createStartTls(BogusSslContextFactory.getServerContext()));
    server.bind();
    SMTPSClient client=createClient();
    client.connect(address.getAddress().getHostAddress(),address.getPort());
    assertTrue(SMTPReply.isPositiveCompletion(client.getReplyCode()));
    client.sendCommand("EHLO localhost");
    assertTrue(SMTPReply.isPositiveCompletion(client.getReplyCode()));
    boolean startTLSAnnounced=false;
    for (    String reply : client.getReplyStrings()) {
      if (reply.toUpperCase(Locale.UK).endsWith("STARTTLS")) {
        startTLSAnnounced=true;
        break;
      }
    }
    assertTrue(startTLSAnnounced);
    assertTrue(client.execTLS());
    client.disconnect();
  }
  finally {
    if (server != null) {
      server.unbind();
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.protocols.smtp.SMTPStartTlsResponseTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Test for PROTOCOLS-89
 */
@Test public void testImmutable(){
  SMTPStartTlsResponse response=new SMTPStartTlsResponse("554","Reject");
  assertTrue(response instanceof StartTlsResponse);
  assertTrue(response.immutable() instanceof StartTlsResponse);
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
