<h3><span class=" glyphicon glyphicon-tag"/>&nbspUtilityVerifier</h3><kbd>Verifies (un)successful execution of the test case by reporting explicitly a failure</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.commons.compress.ArchiveReadTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testArchive() throws Exception {
  @SuppressWarnings("unchecked") ArrayList<String> expected=(ArrayList<String>)FILELIST.clone();
  try {
    checkArchiveContent(file,expected);
  }
 catch (  ArchiveException e) {
    fail("Problem checking " + file);
  }
catch (  AssertionError e) {
    fail("Problem checking " + file + " "+ e);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.compress.DetectArchiverTestCase </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testDetectionNotArchive() throws IOException {
  try {
    getStreamFor("test.txt");
    fail("Expected ArchiveException");
  }
 catch (  ArchiveException e) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.compress.archivers.ArchiveOutputStreamTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testOptionalFinish() throws Exception {
  OutputStream out1=new ByteArrayOutputStream();
  ArchiveOutputStream aos1=factory.createArchiveOutputStream("zip",out1);
  aos1.putArchiveEntry(new ZipArchiveEntry("dummy"));
  aos1.closeArchiveEntry();
  aos1.close();
  aos1=factory.createArchiveOutputStream("jar",out1);
  aos1.putArchiveEntry(new JarArchiveEntry("dummy"));
  aos1.closeArchiveEntry();
  aos1.close();
  try {
    aos1.finish();
    fail("finish() cannot follow close()");
  }
 catch (  IOException io) {
  }
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testFinish() throws Exception {
  OutputStream out1=new ByteArrayOutputStream();
  ArchiveOutputStream aos1=factory.createArchiveOutputStream("zip",out1);
  aos1.putArchiveEntry(new ZipArchiveEntry("dummy"));
  try {
    aos1.finish();
    fail("After putArchive should follow closeArchive");
  }
 catch (  IOException io) {
  }
  aos1=factory.createArchiveOutputStream("jar",out1);
  aos1.putArchiveEntry(new JarArchiveEntry("dummy"));
  try {
    aos1.finish();
    fail("After putArchive should follow closeArchive");
  }
 catch (  IOException io) {
  }
  aos1=factory.createArchiveOutputStream("ar",out1);
  aos1.putArchiveEntry(new ArArchiveEntry("dummy",100));
  try {
    aos1.finish();
    fail("After putArchive should follow closeArchive");
  }
 catch (  IOException io) {
  }
  aos1=factory.createArchiveOutputStream("cpio",out1);
  aos1.putArchiveEntry(new CpioArchiveEntry("dummy"));
  try {
    aos1.finish();
    fail("After putArchive should follow closeArchive");
  }
 catch (  IOException io) {
  }
  aos1=factory.createArchiveOutputStream("tar",out1);
  aos1.putArchiveEntry(new TarArchiveEntry("dummy"));
  try {
    aos1.finish();
    fail("After putArchive should follow closeArchive");
  }
 catch (  IOException io) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.compress.archivers.ArchiveStreamFactoryTest </h4><pre class="type-3 type-8 type-7 type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings("deprecation") public void testEncodingDeprecated(){
  ArchiveStreamFactory fac=new ArchiveStreamFactory();
  assertNull(fac.getEntryEncoding());
  fac.setEntryEncoding("UTF-8");
  assertEquals("UTF-8",fac.getEntryEncoding());
  fac.setEntryEncoding("US_ASCII");
  assertEquals("US_ASCII",fac.getEntryEncoding());
  fac=new ArchiveStreamFactory("UTF-8");
  assertEquals("UTF-8",fac.getEntryEncoding());
  try {
    fac.setEntryEncoding("US_ASCII");
    fail("Expected IllegalStateException");
  }
 catch (  IllegalStateException ise) {
  }
}

</code></pre>

<br>
<pre class="type-3 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * see https://issues.apache.org/jira/browse/COMPRESS-171
 */
@Test public void shortTextFilesAreNoTARs() throws Exception {
  try {
    new ArchiveStreamFactory().createArchiveInputStream(new ByteArrayInputStream("This certainly is not a tar archive, really, no kidding".getBytes()));
    fail("created an input stream for a non-archive");
  }
 catch (  ArchiveException ae) {
    assertTrue(ae.getMessage().startsWith("No Archiver found"));
  }
}

</code></pre>

<br>
<pre class="type-3 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * see https://issues.apache.org/jira/browse/COMPRESS-191
 */
@Test public void aiffFilesAreNoTARs() throws Exception {
  FileInputStream fis=new FileInputStream("src/test/resources/testAIFF.aif");
  try {
    InputStream is=new BufferedInputStream(fis);
    try {
      new ArchiveStreamFactory().createArchiveInputStream(is);
      fail("created an input stream for a non-archive");
    }
 catch (    ArchiveException ae) {
      assertTrue(ae.getMessage().startsWith("No Archiver found"));
    }
 finally {
      is.close();
    }
  }
  finally {
    fis.close();
  }
}

</code></pre>

<br>
<pre class="type-12 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testEncodingInputStreamAutodetect() throws Exception {
  int failed=0;
  for (int i=1; i <= TESTS.length; i++) {
    TestData test=TESTS[i - 1];
    ArchiveInputStream ais=getInputStreamFor(test.testFile,test.fac);
    final String field=getField(ais,test.fieldName);
    if (!eq(test.expectedEncoding,field)) {
      System.out.println("Failed test " + i + ". expected: "+ test.expectedEncoding+ " actual: "+ field+ " type: "+ test.type);
      failed++;
    }
  }
  if (failed > 0) {
    fail("Tests failed: " + failed);
  }
}

</code></pre>

<br>
<pre class="type-3 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCOMPRESS209() throws Exception {
  FileInputStream fis=new FileInputStream("src/test/resources/testCompress209.doc");
  try {
    InputStream bis=new BufferedInputStream(fis);
    try {
      new ArchiveStreamFactory().createArchiveInputStream(bis);
      fail("created an input stream for a non-archive");
    }
 catch (    ArchiveException ae) {
      assertTrue(ae.getMessage().startsWith("No Archiver found"));
    }
 finally {
      bis.close();
    }
  }
  finally {
    fis.close();
  }
}

</code></pre>

<br>
<pre class="type-12 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testEncodingOutputStream() throws Exception {
  int failed=0;
  for (int i=1; i <= TESTS.length; i++) {
    TestData test=TESTS[i - 1];
    if (test.hasOutputStream) {
      ArchiveOutputStream ais=getOutputStreamFor(test.type,test.fac);
      final String field=getField(ais,test.fieldName);
      if (!eq(test.expectedEncoding,field)) {
        System.out.println("Failed test " + i + ". expected: "+ test.expectedEncoding+ " actual: "+ field+ " type: "+ test.type);
        failed++;
      }
    }
  }
  if (failed > 0) {
    fail("Tests failed: " + failed);
  }
}

</code></pre>

<br>
<pre class="type-12 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testEncodingInputStream() throws Exception {
  int failed=0;
  for (int i=1; i <= TESTS.length; i++) {
    TestData test=TESTS[i - 1];
    ArchiveInputStream ais=getInputStreamFor(test.type,test.testFile,test.fac);
    final String field=getField(ais,test.fieldName);
    if (!eq(test.expectedEncoding,field)) {
      System.out.println("Failed test " + i + ". expected: "+ test.expectedEncoding+ " actual: "+ field+ " type: "+ test.type);
      failed++;
    }
  }
  if (failed > 0) {
    fail("Tests failed: " + failed);
  }
}

</code></pre>

<br>
<pre class="type-3 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test case for 
 * <a href="https://issues.apache.org/jira/browse/COMPRESS-267"
 * >COMPRESS-267</a>.
 */
@Test public void detectsAndThrowsFor7z() throws Exception {
  FileInputStream fis=new FileInputStream("src/test/resources/bla.7z");
  try {
    InputStream bis=new BufferedInputStream(fis);
    try {
      new ArchiveStreamFactory().createArchiveInputStream(bis);
      fail("Expected a StreamingNotSupportedException");
    }
 catch (    StreamingNotSupportedException ex) {
      assertEquals(ArchiveStreamFactory.SEVEN_Z,ex.getFormat());
    }
 finally {
      bis.close();
    }
  }
  finally {
    fis.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.compress.archivers.ExceptionMessageTest </h4><pre class="type-3 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMessageWhenOutputStreamIsNull(){
  try {
    new ArchiveStreamFactory().createArchiveOutputStream("zip",null);
    fail("Should raise an IllegalArgumentException.");
  }
 catch (  IllegalArgumentException e) {
    assertEquals(OUTPUTSTREAM_NULL_MESSAGE,e.getMessage());
  }
catch (  ArchiveException e) {
    fail("ArchiveException not expected");
  }
}

</code></pre>

<br>
<pre class="type-3 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMessageWhenInputStreamIsNull(){
  try {
    new ArchiveStreamFactory().createArchiveInputStream("zip",null);
    fail("Should raise an IllegalArgumentException.");
  }
 catch (  IllegalArgumentException e) {
    assertEquals(INPUTSTREAM_NULL_MESSAGE,e.getMessage());
  }
catch (  ArchiveException e) {
    fail("ArchiveException not expected");
  }
}

</code></pre>

<br>
<pre class="type-3 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMessageWhenArchiverNameIsNull_1(){
  try {
    new ArchiveStreamFactory().createArchiveInputStream(null,System.in);
    fail("Should raise an IllegalArgumentException.");
  }
 catch (  IllegalArgumentException e) {
    assertEquals(ARCHIVER_NULL_MESSAGE,e.getMessage());
  }
catch (  ArchiveException e) {
    fail("ArchiveException not expected");
  }
}

</code></pre>

<br>
<pre class="type-3 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMessageWhenArchiverNameIsNull_2(){
  try {
    new ArchiveStreamFactory().createArchiveOutputStream(null,System.out);
    fail("Should raise an IllegalArgumentException.");
  }
 catch (  IllegalArgumentException e) {
    assertEquals(ARCHIVER_NULL_MESSAGE,e.getMessage());
  }
catch (  ArchiveException e) {
    fail("ArchiveException not expected");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.compress.archivers.LongPathTest </h4><pre class="type-13 type-12 type-3 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testArchive() throws Exception {
  @SuppressWarnings("unchecked") ArrayList<String> expected=(ArrayList<String>)FILELIST.clone();
  String name=file.getName();
  if ("minotaur.jar".equals(name) || "minotaur-0.jar".equals(name)) {
    expected.add("META-INF/");
    expected.add("META-INF/MANIFEST.MF");
  }
  ArchiveInputStream ais=factory.createArchiveInputStream(new BufferedInputStream(new FileInputStream(file)));
  if (name.endsWith(".tar")) {
    assertTrue(ais instanceof TarArchiveInputStream);
  }
 else   if (name.endsWith(".jar") || name.endsWith(".zip")) {
    assertTrue(ais instanceof ZipArchiveInputStream);
  }
 else   if (name.endsWith(".cpio")) {
    assertTrue(ais instanceof CpioArchiveInputStream);
    for (int i=0; i < expected.size(); i++) {
      String ent=expected.get(i);
      if (ent.endsWith("/")) {
        expected.set(i,ent.substring(0,ent.length() - 1));
      }
    }
  }
 else   if (name.endsWith(".ar")) {
    assertTrue(ais instanceof ArArchiveInputStream);
    expected.clear();
    for (    String ent : FILELIST) {
      if (!ent.endsWith("/")) {
        final int lastSlash=ent.lastIndexOf('/');
        if (lastSlash >= 0) {
          expected.add(ent.substring(lastSlash + 1,ent.length()));
        }
 else {
          expected.add(ent);
        }
      }
    }
  }
 else {
    fail("Unexpected file type: " + name);
  }
  try {
    checkArchiveContent(ais,expected);
  }
 catch (  AssertionFailedError e) {
    fail("Error processing " + file.getName() + " "+ e);
  }
 finally {
    ais.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.compress.archivers.LongSymLinkTest </h4><pre class="type-13 type-12 type-3 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testArchive() throws Exception {
  @SuppressWarnings("unchecked") ArrayList<String> expected=(ArrayList<String>)FILELIST.clone();
  String name=file.getName();
  if ("minotaur.jar".equals(name) || "minotaur-0.jar".equals(name)) {
    expected.add("META-INF/");
    expected.add("META-INF/MANIFEST.MF");
  }
  ArchiveInputStream ais=factory.createArchiveInputStream(new BufferedInputStream(new FileInputStream(file)));
  if (name.endsWith(".tar")) {
    assertTrue(ais instanceof TarArchiveInputStream);
  }
 else   if (name.endsWith(".jar") || name.endsWith(".zip")) {
    assertTrue(ais instanceof ZipArchiveInputStream);
  }
 else   if (name.endsWith(".cpio")) {
    assertTrue(ais instanceof CpioArchiveInputStream);
    for (int i=0; i < expected.size(); i++) {
      String ent=expected.get(i);
      if (ent.endsWith("/")) {
        expected.set(i,ent.substring(0,ent.length() - 1));
      }
    }
  }
 else   if (name.endsWith(".ar")) {
    assertTrue(ais instanceof ArArchiveInputStream);
    expected.clear();
    for (    String ent : FILELIST) {
      if (!ent.endsWith("/")) {
        final int lastSlash=ent.lastIndexOf('/');
        if (lastSlash >= 0) {
          expected.add(ent.substring(lastSlash + 1,ent.length()));
        }
 else {
          expected.add(ent);
        }
      }
    }
  }
 else {
    fail("Unexpected file type: " + name);
  }
  try {
    checkArchiveContent(ais,expected);
  }
 catch (  AssertionFailedError e) {
    fail("Error processing " + file.getName() + " "+ e);
  }
 finally {
    ais.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.compress.archivers.TarTestCase </h4><pre class="type-13 type-3 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCOMPRESS178() throws Exception {
  final File input=getFile("COMPRESS-178.tar");
  final InputStream is=new FileInputStream(input);
  final ArchiveInputStream in=new ArchiveStreamFactory().createArchiveInputStream("tar",is);
  try {
    in.getNextEntry();
    fail("Expected IOException");
  }
 catch (  IOException e) {
    Throwable t=e.getCause();
    assertTrue("Expected cause = IllegalArgumentException",t instanceof IllegalArgumentException);
  }
  in.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.compress.archivers.ZipTestCase </h4><pre class="type-3 type-4 type-8 type-7 type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test case for being able to skip an entry in an {@link ZipArchiveInputStream} even if the compression method of that
 * entry is unsupported.
 * @see <a href="https://issues.apache.org/jira/browse/COMPRESS-93"
     *        >COMPRESS-93</a>
 */
@Test public void testSkipEntryWithUnsupportedCompressionMethod() throws IOException {
  ZipArchiveInputStream zip=new ZipArchiveInputStream(new FileInputStream(getFile("moby.zip")));
  try {
    ZipArchiveEntry entry=zip.getNextZipEntry();
    assertEquals("method",ZipMethod.TOKENIZATION.getCode(),entry.getMethod());
    assertEquals("README",entry.getName());
    assertFalse(zip.canReadEntryData(entry));
    try {
      assertNull(zip.getNextZipEntry());
    }
 catch (    IOException e) {
      e.printStackTrace();
      fail("COMPRESS-93: Unable to skip an unsupported zip entry");
    }
  }
  finally {
    zip.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.compress.archivers.ar.ArArchiveOutputStreamTest </h4><pre class="type-3 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLongFileNamesCauseExceptionByDefault(){
  ArArchiveOutputStream os=null;
  try {
    os=new ArArchiveOutputStream(new ByteArrayOutputStream());
    ArArchiveEntry ae=new ArArchiveEntry("this_is_a_long_name.txt",0);
    os.putArchiveEntry(ae);
    fail("Expected an exception");
  }
 catch (  IOException ex) {
    assertTrue(ex.getMessage().startsWith("filename too long"));
  }
 finally {
    closeQuietly(os);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.compress.archivers.dump.DumpArchiveInputStreamTest </h4><pre class="type-3 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNotADumpArchive() throws Exception {
  FileInputStream is=new FileInputStream(getFile("bla.zip"));
  try {
    new DumpArchiveInputStream(is);
    fail("expected an exception");
  }
 catch (  ArchiveException ex) {
    assertTrue(ex.getCause() instanceof ShortFileException);
  }
 finally {
    is.close();
  }
}

</code></pre>

<br>
<pre class="type-3 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNotADumpArchiveButBigEnough() throws Exception {
  FileInputStream is=new FileInputStream(getFile("zip64support.tar.bz2"));
  try {
    new DumpArchiveInputStream(is);
    fail("expected an exception");
  }
 catch (  ArchiveException ex) {
    assertTrue(ex.getCause() instanceof UnrecognizedFormatException);
  }
 finally {
    is.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.compress.archivers.sevenz.SevenZFileTest </h4><pre class="type-3 type-4 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEncryptedArchiveRequiresPassword() throws Exception {
  try {
    new SevenZFile(getFile("bla.encrypted.7z"));
    fail("shouldn't decrypt without a password");
  }
 catch (  PasswordRequiredException ex) {
    String msg=ex.getMessage();
    assertTrue("Should start with whining about being unable to decrypt",msg.startsWith("Cannot read encrypted content from "));
    assertTrue("Should finish the sentence properly",msg.endsWith(" without a password."));
    assertTrue("Should contain archive's name",msg.contains("bla.encrypted.7z"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.compress.archivers.sevenz.SevenZOutputFileTest </h4><pre class="type-3 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCantFinishTwice() throws Exception {
  output=new File(dir,"finish.7z");
  SevenZOutputFile outArchive=new SevenZOutputFile(output);
  try {
    outArchive.finish();
    outArchive.finish();
    fail("shouldn't be able to call finish twice");
  }
 catch (  IOException ex) {
    assertEquals("This archive has already been finished",ex.getMessage());
  }
 finally {
    outArchive.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.compress.archivers.tar.TarArchiveEntryTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testMaxFileSize(){
  TarArchiveEntry t=new TarArchiveEntry("");
  t.setSize(0);
  t.setSize(1);
  try {
    t.setSize(-1);
    fail("Should have generated IllegalArgumentException");
  }
 catch (  IllegalArgumentException expected) {
  }
  t.setSize(077777777777L);
  t.setSize(0100000000000L);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.compress.archivers.tar.TarArchiveInputStreamTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testCompress197() throws Exception {
  TarArchiveInputStream tar=getTestStream("/COMPRESS-197.tar");
  try {
    TarArchiveEntry entry=tar.getNextTarEntry();
    while (entry != null) {
      entry=tar.getNextTarEntry();
    }
  }
 catch (  IOException e) {
    fail("COMPRESS-197: " + e.getMessage());
  }
 finally {
    tar.close();
  }
}

</code></pre>

<br>
<pre class="type-3 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void readsArchiveCompletely_COMPRESS245() throws Exception {
  InputStream is=TarArchiveInputStreamTest.class.getResourceAsStream("/COMPRESS-245.tar.gz");
  try {
    InputStream gin=new GZIPInputStream(is);
    TarArchiveInputStream tar=new TarArchiveInputStream(gin);
    int count=0;
    TarArchiveEntry entry=tar.getNextTarEntry();
    while (entry != null) {
      count++;
      entry=tar.getNextTarEntry();
    }
    assertEquals(31,count);
    tar.close();
  }
 catch (  IOException e) {
    fail("COMPRESS-245: " + e.getMessage());
  }
 finally {
    is.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.compress.archivers.tar.TarArchiveOutputStreamTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testMaxFileSizeError() throws Exception {
  TarArchiveEntry t=new TarArchiveEntry("foo");
  t.setSize(077777777777L);
  TarArchiveOutputStream tos=new TarArchiveOutputStream(new ByteArrayOutputStream());
  tos.putArchiveEntry(t);
  t.setSize(0100000000000L);
  tos=new TarArchiveOutputStream(new ByteArrayOutputStream());
  try {
    tos.putArchiveEntry(t);
    fail("Should have generated RuntimeException");
  }
 catch (  RuntimeException expected) {
  }
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * @see "https://issues.apache.org/jira/browse/COMPRESS-237"
 */
@Test public void testWriteLongLinkNameErrorMode() throws Exception {
  String linkname="01234567890123456789012345678901234567890123456789" + "01234567890123456789012345678901234567890123456789" + "01234567890123456789012345678901234567890123456789/test";
  TarArchiveEntry entry=new TarArchiveEntry("test",TarConstants.LF_SYMLINK);
  entry.setLinkName(linkname);
  try {
    ByteArrayOutputStream bos=new ByteArrayOutputStream();
    TarArchiveOutputStream tos=new TarArchiveOutputStream(bos,"ASCII");
    tos.setLongFileMode(TarArchiveOutputStream.LONGFILE_ERROR);
    tos.putArchiveEntry(entry);
    tos.closeArchiveEntry();
    tos.close();
    fail("Truncated link name didn't throw an exception");
  }
 catch (  RuntimeException e) {
  }
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testOldEntryError() throws Exception {
  TarArchiveEntry t=new TarArchiveEntry("foo");
  t.setSize(Integer.MAX_VALUE);
  t.setModTime(-1000);
  TarArchiveOutputStream tos=new TarArchiveOutputStream(new ByteArrayOutputStream());
  try {
    tos.putArchiveEntry(t);
    fail("Should have generated RuntimeException");
  }
 catch (  RuntimeException expected) {
  }
  tos.close();
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testWriteLongDirectoryNameErrorMode() throws Exception {
  String n="01234567890123456789012345678901234567890123456789" + "01234567890123456789012345678901234567890123456789" + "01234567890123456789012345678901234567890123456789/";
  try {
    TarArchiveEntry t=new TarArchiveEntry(n);
    ByteArrayOutputStream bos=new ByteArrayOutputStream();
    TarArchiveOutputStream tos=new TarArchiveOutputStream(bos,"ASCII");
    tos.setLongFileMode(TarArchiveOutputStream.LONGFILE_ERROR);
    tos.putArchiveEntry(t);
    tos.closeArchiveEntry();
    tos.close();
    fail("Truncated name didn't throw an exception");
  }
 catch (  RuntimeException e) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.compress.archivers.tar.TarUtilsTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testParseOctalInvalid() throws Exception {
  byte[] buffer;
  buffer=new byte[0];
  try {
    TarUtils.parseOctal(buffer,0,buffer.length);
    fail("Expected IllegalArgumentException - should be at least 2 bytes long");
  }
 catch (  IllegalArgumentException expected) {
  }
  buffer=new byte[]{0};
  try {
    TarUtils.parseOctal(buffer,0,buffer.length);
    fail("Expected IllegalArgumentException - should be at least 2 bytes long");
  }
 catch (  IllegalArgumentException expected) {
  }
  buffer="abcdef ".getBytes(CharsetNames.UTF_8);
  try {
    TarUtils.parseOctal(buffer,0,buffer.length);
    fail("Expected IllegalArgumentException");
  }
 catch (  IllegalArgumentException expected) {
  }
  buffer=" 0 07 ".getBytes(CharsetNames.UTF_8);
  try {
    TarUtils.parseOctal(buffer,0,buffer.length);
    fail("Expected IllegalArgumentException - embedded space");
  }
 catch (  IllegalArgumentException expected) {
  }
  buffer=" 0\00007 ".getBytes(CharsetNames.UTF_8);
  try {
    TarUtils.parseOctal(buffer,0,buffer.length);
    fail("Expected IllegalArgumentException - embedded NUL");
  }
 catch (  IllegalArgumentException expected) {
  }
}

</code></pre>

<br>
<pre class="type-3 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOverflow() throws Exception {
  byte[] buffer=new byte[8 - 1];
  TarUtils.formatUnsignedOctalString(07777777L,buffer,0,buffer.length);
  assertEquals("7777777",new String(buffer,CharsetNames.UTF_8));
  try {
    TarUtils.formatUnsignedOctalString(017777777L,buffer,0,buffer.length);
    fail("Should have cause IllegalArgumentException");
  }
 catch (  IllegalArgumentException expected) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.compress.archivers.zip.AsiExtraFieldTest </h4><pre class="type-3 type-4 type-8 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test reparse
 */
@Test public void testReparse() throws Exception {
  byte[] data={(byte)0xC6,0x02,0x78,(byte)0xB6,0123,(byte)0x80,0,0,0,0,5,0,6,0};
  AsiExtraField a=new AsiExtraField();
  a.parseFromLocalFileData(data,0,data.length);
  assertEquals("length plain file",data.length,a.getLocalFileDataLength().getValue());
  assertTrue("plain file, no link",!a.isLink());
  assertTrue("plain file, no dir",!a.isDirectory());
  assertEquals("mode plain file",FILE_FLAG | 0123,a.getMode());
  assertEquals("uid plain file",5,a.getUserId());
  assertEquals("gid plain file",6,a.getGroupId());
  data=new byte[]{0x75,(byte)0x8E,0x41,(byte)0xFD,0123,(byte)0xA0,4,0,0,0,5,0,6,0,(byte)'t',(byte)'e',(byte)'s',(byte)'t'};
  a=new AsiExtraField();
  a.parseFromLocalFileData(data,0,data.length);
  assertEquals("length link",data.length,a.getLocalFileDataLength().getValue());
  assertTrue("link, is link",a.isLink());
  assertTrue("link, no dir",!a.isDirectory());
  assertEquals("mode link",LINK_FLAG | 0123,a.getMode());
  assertEquals("uid link",5,a.getUserId());
  assertEquals("gid link",6,a.getGroupId());
  assertEquals("test",a.getLinkedFile());
  data=new byte[]{(byte)0x8E,0x01,(byte)0xBF,(byte)0x0E,0123,(byte)0x40,0,0,0,0,5,0,6,0};
  a=new AsiExtraField();
  a.parseFromLocalFileData(data,0,data.length);
  assertEquals("length dir",data.length,a.getLocalFileDataLength().getValue());
  assertTrue("dir, no link",!a.isLink());
  assertTrue("dir, is dir",a.isDirectory());
  assertEquals("mode dir",DIR_FLAG | 0123,a.getMode());
  assertEquals("uid dir",5,a.getUserId());
  assertEquals("gid dir",6,a.getGroupId());
  data=new byte[]{0,0,0,0,0123,(byte)0x40,0,0,0,0,5,0,6,0};
  a=new AsiExtraField();
  try {
    a.parseFromLocalFileData(data,0,data.length);
    fail("should raise bad CRC exception");
  }
 catch (  Exception e) {
    assertEquals("bad CRC checksum 0 instead of ebf018e",e.getMessage());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.compress.archivers.zip.EncryptedArchiveTest </h4><pre class="type-3 type-4 type-8 type-16 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReadPasswordEncryptedEntryViaStream() throws IOException {
  File file=getFile("password-encrypted.zip");
  ZipArchiveInputStream zin=null;
  try {
    zin=new ZipArchiveInputStream(new FileInputStream(file));
    ZipArchiveEntry zae=zin.getNextZipEntry();
    assertEquals("LICENSE.txt",zae.getName());
    assertTrue(zae.getGeneralPurposeBit().usesEncryption());
    assertFalse(zae.getGeneralPurposeBit().usesStrongEncryption());
    assertFalse(zin.canReadEntryData(zae));
    try {
      byte[] buf=new byte[1024];
      zin.read(buf,0,buf.length);
      fail("expected an exception");
    }
 catch (    UnsupportedZipFeatureException ex) {
      assertSame(UnsupportedZipFeatureException.Feature.ENCRYPTION,ex.getFeature());
    }
  }
  finally {
    if (zin != null) {
      zin.close();
    }
  }
}

</code></pre>

<br>
<pre class="type-3 type-4 type-8 type-16 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReadPasswordEncryptedEntryViaZipFile() throws IOException {
  File file=getFile("password-encrypted.zip");
  ZipFile zf=null;
  try {
    zf=new ZipFile(file);
    ZipArchiveEntry zae=zf.getEntry("LICENSE.txt");
    assertTrue(zae.getGeneralPurposeBit().usesEncryption());
    assertFalse(zae.getGeneralPurposeBit().usesStrongEncryption());
    assertFalse(zf.canReadEntryData(zae));
    try {
      zf.getInputStream(zae);
      fail("expected an exception");
    }
 catch (    UnsupportedZipFeatureException ex) {
      assertSame(UnsupportedZipFeatureException.Feature.ENCRYPTION,ex.getFeature());
    }
  }
  finally {
    ZipFile.closeQuietly(zf);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.compress.archivers.zip.ExtraFieldUtilsTest </h4><pre class="type-13 type-3 type-4 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * test parser.
 */
@Test public void testParse() throws Exception {
  ZipExtraField[] ze=ExtraFieldUtils.parse(data);
  assertEquals("number of fields",2,ze.length);
  assertTrue("type field 1",ze[0] instanceof AsiExtraField);
  assertEquals("mode field 1",040755,((AsiExtraField)ze[0]).getMode());
  assertTrue("type field 2",ze[1] instanceof UnrecognizedExtraField);
  assertEquals("data length field 2",1,ze[1].getLocalFileDataLength().getValue());
  byte[] data2=new byte[data.length - 1];
  System.arraycopy(data,0,data2,0,data2.length);
  try {
    ExtraFieldUtils.parse(data2);
    fail("data should be invalid");
  }
 catch (  Exception e) {
    assertEquals("message","bad extra field starting at " + (4 + aLocal.length) + ".  Block length of 1 bytes exceeds remaining data of 0 bytes.",e.getMessage());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.compress.archivers.zip.Maven221MultiVolumeTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testRead7ZipMultiVolumeArchiveForFile() throws IOException {
  File file=getFile("apache-maven-2.2.1.zip.001");
  try {
    new ZipFile(file);
    fail("Expected ZipFile to fail");
  }
 catch (  IOException ex) {
  }
}

</code></pre>

<br>
<pre class="type-3 type-8 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRead7ZipMultiVolumeArchiveForStream() throws IOException {
  FileInputStream archive=new FileInputStream(getFile("apache-maven-2.2.1.zip.001"));
  ZipArchiveInputStream zi=null;
  try {
    zi=new ZipArchiveInputStream(archive,null,false);
    for (    String element : ENTRIES) {
      assertEquals(element,zi.getNextEntry().getName());
    }
    ArchiveEntry lastEntry=zi.getNextEntry();
    assertEquals(LAST_ENTRY_NAME,lastEntry.getName());
    byte[] buffer=new byte[4096];
    try {
      while (zi.read(buffer) > 0) {
      }
      fail("shouldn't be able to read from truncated entry");
    }
 catch (    IOException e) {
      assertEquals("Truncated ZIP file",e.getMessage());
    }
    try {
      zi.getNextEntry();
      fail("shouldn't be able to read another entry from truncated" + " file");
    }
 catch (    IOException e) {
    }
  }
  finally {
    if (zi != null) {
      zi.close();
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.compress.archivers.zip.X5455_ExtendedTimestampTest </h4><pre class="type-13 type-3 type-4 type-8 type-7 type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGettersSetters(){
  Calendar cal=Calendar.getInstance(TimeZone.getTimeZone("UTC"));
  cal.set(Calendar.YEAR,2000);
  cal.set(Calendar.MONTH,Calendar.JANUARY);
  cal.set(Calendar.DATE,1);
  cal.set(Calendar.HOUR_OF_DAY,0);
  cal.set(Calendar.MINUTE,0);
  cal.set(Calendar.MILLISECOND,0);
  Date timeMillis=cal.getTime();
  ZipLong time=new ZipLong(timeMillis.getTime() / 1000);
  try {
    xf.setModifyJavaTime(new Date(1000L * (MAX_TIME_SECONDS.getValue() + 1L)));
    fail("Time too big for 32 bits!");
  }
 catch (  IllegalArgumentException iae) {
  }
  xf.setModifyTime(time);
  assertEquals(time,xf.getModifyTime());
  assertEquals(timeMillis,xf.getModifyJavaTime());
  xf.setModifyJavaTime(timeMillis);
  assertEquals(time,xf.getModifyTime());
  assertEquals(timeMillis,xf.getModifyJavaTime());
  xf.setModifyJavaTime(new Date(timeMillis.getTime() + 123));
  assertEquals(time,xf.getModifyTime());
  assertEquals(timeMillis,xf.getModifyJavaTime());
  xf.setModifyTime(null);
  assertNull(xf.getModifyJavaTime());
  xf.setModifyJavaTime(null);
  assertNull(xf.getModifyTime());
  xf.setAccessTime(time);
  assertEquals(time,xf.getAccessTime());
  assertEquals(timeMillis,xf.getAccessJavaTime());
  xf.setAccessJavaTime(timeMillis);
  assertEquals(time,xf.getAccessTime());
  assertEquals(timeMillis,xf.getAccessJavaTime());
  xf.setAccessJavaTime(new Date(timeMillis.getTime() + 123));
  assertEquals(time,xf.getAccessTime());
  assertEquals(timeMillis,xf.getAccessJavaTime());
  xf.setAccessTime(null);
  assertNull(xf.getAccessJavaTime());
  xf.setAccessJavaTime(null);
  assertNull(xf.getAccessTime());
  xf.setCreateTime(time);
  assertEquals(time,xf.getCreateTime());
  assertEquals(timeMillis,xf.getCreateJavaTime());
  xf.setCreateJavaTime(timeMillis);
  assertEquals(time,xf.getCreateTime());
  assertEquals(timeMillis,xf.getCreateJavaTime());
  xf.setCreateJavaTime(new Date(timeMillis.getTime() + 123));
  assertEquals(time,xf.getCreateTime());
  assertEquals(timeMillis,xf.getCreateJavaTime());
  xf.setCreateTime(null);
  assertNull(xf.getCreateJavaTime());
  xf.setCreateJavaTime(null);
  assertNull(xf.getCreateTime());
  xf.setModifyTime(time);
  xf.setAccessTime(time);
  xf.setCreateTime(time);
  xf.setFlags((byte)0);
  assertEquals(0,xf.getFlags());
  assertFalse(xf.isBit0_modifyTimePresent());
  assertFalse(xf.isBit1_accessTimePresent());
  assertFalse(xf.isBit2_createTimePresent());
  assertEquals(1,xf.getLocalFileDataLength().getValue());
  assertEquals(1,xf.getCentralDirectoryLength().getValue());
  xf.setFlags((byte)1);
  assertEquals(1,xf.getFlags());
  assertTrue(xf.isBit0_modifyTimePresent());
  assertFalse(xf.isBit1_accessTimePresent());
  assertFalse(xf.isBit2_createTimePresent());
  assertEquals(5,xf.getLocalFileDataLength().getValue());
  assertEquals(5,xf.getCentralDirectoryLength().getValue());
  xf.setFlags((byte)2);
  assertEquals(2,xf.getFlags());
  assertFalse(xf.isBit0_modifyTimePresent());
  assertTrue(xf.isBit1_accessTimePresent());
  assertFalse(xf.isBit2_createTimePresent());
  assertEquals(5,xf.getLocalFileDataLength().getValue());
  assertEquals(1,xf.getCentralDirectoryLength().getValue());
  xf.setFlags((byte)4);
  assertEquals(4,xf.getFlags());
  assertFalse(xf.isBit0_modifyTimePresent());
  assertFalse(xf.isBit1_accessTimePresent());
  assertTrue(xf.isBit2_createTimePresent());
  assertEquals(5,xf.getLocalFileDataLength().getValue());
  assertEquals(1,xf.getCentralDirectoryLength().getValue());
  xf.setFlags((byte)7);
  assertEquals(7,xf.getFlags());
  assertTrue(xf.isBit0_modifyTimePresent());
  assertTrue(xf.isBit1_accessTimePresent());
  assertTrue(xf.isBit2_createTimePresent());
  assertEquals(13,xf.getLocalFileDataLength().getValue());
  assertEquals(5,xf.getCentralDirectoryLength().getValue());
  xf.setFlags((byte)-1);
  assertEquals(-1,xf.getFlags());
  assertTrue(xf.isBit0_modifyTimePresent());
  assertTrue(xf.isBit1_accessTimePresent());
  assertTrue(xf.isBit2_createTimePresent());
  assertEquals(13,xf.getLocalFileDataLength().getValue());
  assertEquals(5,xf.getCentralDirectoryLength().getValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.compress.archivers.zip.Zip64SupportIT </h4><pre class="type-3 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void writeBigDeflatedEntryKnownSizeToStreamModeNever() throws Throwable {
  withTemporaryArchive("writeBigDeflatedEntryKnownSizeToStreamModeNever",new ZipOutputTest(){
    public void test(    File f,    ZipArchiveOutputStream zos) throws IOException {
      zos.setUseZip64(Zip64Mode.Never);
      try {
        ZipArchiveEntry zae=new ZipArchiveEntry("0");
        zae.setSize(FIVE_BILLION);
        zae.setMethod(ZipEntry.DEFLATED);
        zos.putArchiveEntry(zae);
        fail("expected a" + " Zip64RequiredException");
      }
 catch (      Zip64RequiredException ex) {
        assertTrue(ex.getMessage().startsWith("0's size"));
      }
    }
  }
,false);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.compress.archivers.zip.ZipArchiveEntryTest </h4><pre class="type-3 type-8 type-16 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * test handling of extra fields
 */
@Test public void testExtraFields(){
  AsiExtraField a=new AsiExtraField();
  a.setDirectory(true);
  a.setMode(0755);
  UnrecognizedExtraField u=new UnrecognizedExtraField();
  u.setHeaderId(ExtraFieldUtilsTest.UNRECOGNIZED_HEADER);
  u.setLocalFileDataData(new byte[0]);
  ZipArchiveEntry ze=new ZipArchiveEntry("test/");
  ze.setExtraFields(new ZipExtraField[]{a,u});
  byte[] data1=ze.getExtra();
  ZipExtraField[] result=ze.getExtraFields();
  assertEquals("first pass",2,result.length);
  assertSame(a,result[0]);
  assertSame(u,result[1]);
  UnrecognizedExtraField u2=new UnrecognizedExtraField();
  u2.setHeaderId(ExtraFieldUtilsTest.UNRECOGNIZED_HEADER);
  u2.setLocalFileDataData(new byte[]{1});
  ze.addExtraField(u2);
  byte[] data2=ze.getExtra();
  result=ze.getExtraFields();
  assertEquals("second pass",2,result.length);
  assertSame(a,result[0]);
  assertSame(u2,result[1]);
  assertEquals("length second pass",data1.length + 1,data2.length);
  UnrecognizedExtraField u3=new UnrecognizedExtraField();
  u3.setHeaderId(new ZipShort(2));
  u3.setLocalFileDataData(new byte[]{1});
  ze.addExtraField(u3);
  result=ze.getExtraFields();
  assertEquals("third pass",3,result.length);
  ze.removeExtraField(ExtraFieldUtilsTest.UNRECOGNIZED_HEADER);
  byte[] data3=ze.getExtra();
  result=ze.getExtraFields();
  assertEquals("fourth pass",2,result.length);
  assertSame(a,result[0]);
  assertSame(u3,result[1]);
  assertEquals("length fourth pass",data2.length,data3.length);
  try {
    ze.removeExtraField(ExtraFieldUtilsTest.UNRECOGNIZED_HEADER);
    fail("should be no such element");
  }
 catch (  java.util.NoSuchElementException nse) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.compress.archivers.zip.ZipFileTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testDoubleClose() throws Exception {
  readOrderTest();
  zf.close();
  try {
    zf.close();
  }
 catch (  Exception ex) {
    fail("Caught exception of second close");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.compress.archivers.zip.ZipUtilTest </h4><pre class="type-14 type-3 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnsignedIntToSignedByte(){
  int unsignedVal=128;
  for (int i=Byte.MIN_VALUE; i <= Byte.MAX_VALUE; i++) {
    byte expectedVal=(byte)i;
    assertEquals(expectedVal,ZipUtil.unsignedIntToSignedByte(unsignedVal));
    unsignedVal++;
    if (unsignedVal == 256) {
      unsignedVal=0;
    }
  }
  try {
    ZipUtil.unsignedIntToSignedByte(-1);
    fail("ZipUtil.unsignedIntToSignedByte(-1) should have thrown IllegalArgumentException");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    ZipUtil.unsignedIntToSignedByte(256);
    fail("ZipUtil.unsignedIntToSignedByte(256) should have thrown IllegalArgumentException");
  }
 catch (  IllegalArgumentException iae) {
  }
}

</code></pre>

<br>
<pre class="type-13 type-3 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLongToBig(){
  long l0=0;
  long l1=1;
  long l2=-1;
  long l3=Integer.MIN_VALUE;
  long l4=Long.MAX_VALUE;
  long l5=Long.MIN_VALUE;
  BigInteger big0=ZipUtil.longToBig(l0);
  BigInteger big1=ZipUtil.longToBig(l1);
  BigInteger big2=ZipUtil.longToBig(l2);
  BigInteger big3=ZipUtil.longToBig(l3);
  BigInteger big4=ZipUtil.longToBig(l4);
  assertEquals(0,big0.longValue());
  assertEquals(1,big1.longValue());
  assertEquals(0xFFFFFFFFL,big2.longValue());
  assertEquals(0x80000000L,big3.longValue());
  assertEquals(Long.MAX_VALUE,big4.longValue());
  try {
    ZipUtil.longToBig(l5);
    fail("ZipUtil.longToBig(long) should have thrown IllegalArgumentException");
  }
 catch (  IllegalArgumentException iae) {
  }
}

</code></pre>

<br>
<pre class="type-3 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBigToLong(){
  BigInteger big1=BigInteger.valueOf(1);
  BigInteger big2=BigInteger.valueOf(Long.MAX_VALUE);
  BigInteger big3=BigInteger.valueOf(Long.MIN_VALUE);
  assertEquals(1L,ZipUtil.bigToLong(big1));
  assertEquals(Long.MAX_VALUE,ZipUtil.bigToLong(big2));
  assertEquals(Long.MIN_VALUE,ZipUtil.bigToLong(big3));
  BigInteger big4=big2.add(big1);
  try {
    ZipUtil.bigToLong(big4);
    fail("Should have thrown IllegalArgumentException");
  }
 catch (  IllegalArgumentException iae) {
  }
  BigInteger big5=big3.subtract(big1);
  try {
    ZipUtil.bigToLong(big5);
    fail("ZipUtil.bigToLong(BigInteger) should have thrown IllegalArgumentException");
  }
 catch (  IllegalArgumentException iae) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.compress.compressors.DetectCompressorTestCase </h4><pre class="type-3 type-4 type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDetection() throws Exception {
  CompressorInputStream bzip2=getStreamFor("bla.txt.bz2");
  assertNotNull(bzip2);
  assertTrue(bzip2 instanceof BZip2CompressorInputStream);
  CompressorInputStream gzip=getStreamFor("bla.tgz");
  assertNotNull(gzip);
  assertTrue(gzip instanceof GzipCompressorInputStream);
  CompressorInputStream pack200=getStreamFor("bla.pack");
  assertNotNull(pack200);
  assertTrue(pack200 instanceof Pack200CompressorInputStream);
  CompressorInputStream xz=getStreamFor("bla.tar.xz");
  assertNotNull(xz);
  assertTrue(xz instanceof XZCompressorInputStream);
  CompressorInputStream zlib=getStreamFor("bla.tar.deflatez");
  assertNotNull(zlib);
  assertTrue(zlib instanceof DeflateCompressorInputStream);
  try {
    factory.createCompressorInputStream(new ByteArrayInputStream(new byte[0]));
    fail("No exception thrown for an empty input stream");
  }
 catch (  CompressorException e) {
  }
}

</code></pre>

<br>
<pre class="type-3 type-4 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOverride(){
  CompressorStreamFactory fac=new CompressorStreamFactory();
  assertFalse(fac.getDecompressConcatenated());
  fac.setDecompressConcatenated(true);
  assertTrue(fac.getDecompressConcatenated());
  fac=new CompressorStreamFactory(false);
  assertFalse(fac.getDecompressConcatenated());
  try {
    fac.setDecompressConcatenated(true);
    fail("Expected IllegalStateException");
  }
 catch (  IllegalStateException ise) {
  }
  fac=new CompressorStreamFactory(true);
  assertTrue(fac.getDecompressConcatenated());
  try {
    fac.setDecompressConcatenated(true);
    fail("Expected IllegalStateException");
  }
 catch (  IllegalStateException ise) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.compress.compressors.GZipTestCase </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testOverWrite() throws Exception {
  GzipCompressorOutputStream out=new GzipCompressorOutputStream(new ByteArrayOutputStream());
  out.close();
  try {
    out.write(0);
    fail("IOException expected");
  }
 catch (  IOException e) {
  }
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * @see "https://issues.apache.org/jira/browse/COMPRESS-84"
 */
@Test public void testCorruptedInput() throws Exception {
  InputStream in=null;
  OutputStream out=null;
  CompressorInputStream cin=null;
  try {
    in=new FileInputStream(getFile("bla.tgz"));
    out=new ByteArrayOutputStream();
    IOUtils.copy(in,out);
    in.close();
    out.close();
    byte[] data=((ByteArrayOutputStream)out).toByteArray();
    in=new ByteArrayInputStream(data,0,data.length - 1);
    cin=new CompressorStreamFactory().createCompressorInputStream("gz",in);
    out=new ByteArrayOutputStream();
    try {
      IOUtils.copy(cin,out);
      fail("Expected an exception");
    }
 catch (    IOException ioex) {
    }
  }
  finally {
    if (out != null) {
      out.close();
    }
    if (cin != null) {
      cin.close();
    }
    if (in != null) {
      in.close();
    }
  }
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testInvalidCompressionLevel(){
  GzipParameters parameters=new GzipParameters();
  try {
    parameters.setCompressionLevel(10);
    fail("IllegalArgumentException not thrown");
  }
 catch (  IllegalArgumentException e) {
  }
  try {
    parameters.setCompressionLevel(-5);
    fail("IllegalArgumentException not thrown");
  }
 catch (  IllegalArgumentException e) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.compress.compressors.bzip2.PythonTruncatedBzip2Test </h4><pre class="type-13 type-3 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPartialReadTruncatedData() throws IOException {
  final int length=TEXT.length();
  ByteBuffer buffer=ByteBuffer.allocate(length);
  bz2Channel.read(buffer);
  assertArrayEquals(copyOfRange(TEXT.getBytes(),0,length),buffer.array());
  buffer=ByteBuffer.allocate(1);
  try {
    bz2Channel.read(buffer);
    Assert.fail("The read should have thrown.");
  }
 catch (  IOException e) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.compress.compressors.snappy.FramedSnappyCompressorInputStreamTest </h4><pre class="type-3 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnskippableChunk(){
  byte[] input=new byte[]{(byte)0xff,6,0,0,'s','N','a','P','p','Y',2,2,0,0,1,1};
  try {
    FramedSnappyCompressorInputStream in=new FramedSnappyCompressorInputStream(new ByteArrayInputStream(input));
    in.read();
    fail("expected an exception");
    in.close();
  }
 catch (  IOException ex) {
    assertTrue(ex.getMessage().contains("unskippable chunk"));
  }
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
