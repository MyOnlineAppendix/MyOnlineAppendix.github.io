<h3><span class=" glyphicon glyphicon-tag"/>&nbspExecutionTester</h3><kbd>Executes methods or other tests from the same test unit</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.oozie.cli.TestOozieCLIMethods </h4><pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Create {@code CoordinatorJob} mock,
 * call {@code new OozieCLI().printCoordJobs() }and validate {@code System.out} on match with expected pattern
 * <p>
 * Method do pass only if output matched with predefined pattern
 * </p>
 */
@Test public void testValidatePrintCoordJobsOutput() throws IOException {
  final DataObject dtObject1=new DataObject(){
{
      this.deamonName="testCoordJob1";
      this.appName="testCoordinatorJobApp1";
      this.appPath="testCoordinatorJobAppPath1";
    }
  }
;
  final DataObject dtObject2=new DataObject(){
{
      this.deamonName="testCoordJob2";
      this.appName="testCoordinatorJobApp2";
      this.appPath="testCoordinatorJobAppPath2";
    }
  }
;
  final ImmutableList<CoordinatorJob> coordJobs=ImmutableList.of(createCoordinatorJob(dtObject1),createCoordinatorJob(dtObject2));
  Pattern pattern=Pattern.compile(dtObject1.deamonName + "[\\s]+" + dtObject1.appName+ "[\\s]+"+ dtObject1.appPath);
  assertPrintCoordJobsOutput(readCoordJobsOutput(coordJobs,true),pattern);
  pattern=Pattern.compile(dtObject1.deamonName + "[\\s]+" + dtObject1.appName);
  assertPrintCoordJobsOutput(readCoordJobsOutput(coordJobs,false),pattern);
}

</code></pre>

<br>
<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Create list of {@code BundleJob} mocks,
 * call {@code new OozieCLI().printBundleJobs()}and validate {@code System.out} on match with expected pattern
 * <p>
 * Method do pass only if output matched with predefined pattern
 * </p>
 */
@Test public void testValidationPrintBundleJobsOutput() throws IOException {
  final DataObject dtObject1=new DataObject(){
{
      this.deamonName="testBundleJob1";
      this.appName="testBundleJobApp1";
      this.appPath="testBundleJobAppPath1";
    }
  }
;
  final DataObject dtObject2=new DataObject(){
{
      this.deamonName="testBundleJob2";
      this.appName="testBundleJobApp2";
      this.appPath="testBundleJobAppPath2";
    }
  }
;
  ImmutableList<BundleJob> bundleJobs=ImmutableList.of(createBundleJob(dtObject1),createBundleJob(dtObject2));
  Pattern pattern=Pattern.compile(dtObject1.deamonName + "[\\s]+" + dtObject1.appName+ "[\\s]+"+ dtObject1.appPath);
  assertPrintBundleJobsOutput(readBundleJobsOutput(bundleJobs,true),pattern);
  pattern=Pattern.compile(dtObject1.deamonName + "[\\s]+" + dtObject1.appName);
  assertPrintBundleJobsOutput(readBundleJobsOutput(bundleJobs,false),pattern);
}

</code></pre>

<br>
<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Create list of {@code BulkResponse} mock,
 * call {@code new OozieCLI().printBundleJobs()}and validate {@code System.out} on match with expected pattern
 * <p>
 * Method do pass only if output matched with predefined pattern
 * </p>
 */
@Test public void testValidationPrintBulkJobsOutput() throws IOException {
  final DataObject dtObject=new DataObject(){
{
      this.deamonName="";
      this.appName="testBundleName";
      this.appPath="";
    }
  }
;
  Pattern pattern=Pattern.compile("Bundle Name[ |:]+" + dtObject.appName);
  assertPrintBulkResponseOutput(readBulkResponseOutput(ImmutableList.of(createBulkResponse(dtObject)),true),pattern);
  pattern=Pattern.compile(dtObject.appName + "-" + "\\s+"+ dtObject.appName+ "-");
  assertPrintBulkResponseOutput(readBulkResponseOutput(ImmutableList.of(createBulkResponse(dtObject)),false),pattern);
}

</code></pre>

<br>
<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Create {@code CoordinatorJob} mock,
 * call {@code new OozieCLI().printJobs() }and validate {@code System.out} on match with expected pattern
 * <p>
 * Method do pass only if output matched with predefined pattern
 * </p>
 */
@Test public void testValidatePrintJobsOutput() throws IOException {
  final DataObject dtObject1=new DataObject(){
{
      this.deamonName="testWorkflowJob1";
      this.appName="testWorkflowJobApp1";
      this.appPath="testWorkflowJobAppPath1";
    }
  }
;
  final DataObject dtObject2=new DataObject(){
{
      this.deamonName="testWorkflowJob2";
      this.appName="testWorkflowJobApp2";
      this.appPath="testWorkflowJobAppPath2";
    }
  }
;
  ImmutableList<WorkflowJob> workflowJobs=ImmutableList.of(createWorkflowJob(dtObject1),createWorkflowJob(dtObject2));
  Pattern pattern=Pattern.compile(dtObject1.deamonName + "[\\s]+" + dtObject1.appName+ "[\\s]+"+ dtObject1.appPath);
  assertPrintWorkflowJobOutput(readWorkflowJobsOutput(workflowJobs,true),pattern);
  pattern=Pattern.compile(dtObject1.deamonName + "[\\s]+" + dtObject1.appName);
  assertPrintWorkflowJobOutput(readWorkflowJobsOutput(workflowJobs,false),pattern);
}

</code></pre>

<br>
<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Create {@code CoordinatorJob} and {@code CoordinatorActions} mocks,
 * call {@code new OozieCLI().printCoordJob() },
 * and validate {@code System.out} output on match with
 * expected pattern.
 * <p>
 * Method do pass only if output matched with predefined pattern
 * </p>
 */
@Test public void testValidatePrintCoordJobMethodOutput() throws IOException {
  final DataObject dtObject=new DataObject(){
{
      this.deamonName="testCoordJob";
      this.appName="testCoordinatorJobApp";
      this.appPath="testCoordinatorJobAppPath";
    }
  }
;
  CoordinatorJob coordJob=createCoordinatorJob(dtObject);
  assertPrintCoordJobOutput(readCoordJobOutput(coordJob,true),dtObject);
  assertPrintCoordJobOutput(readCoordJobOutput(coordJob,false),dtObject);
}

</code></pre>

<br>
<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Create {@code BundleJob} mock,
 * call {@code new OozieCLI().printBundleJobs()}and validate {@code System.out} on match with expected pattern
 * <p>
 * Method do pass only if output matched with predefined pattern
 * </p>
 */
@Test public void testValidationPrintBundleJobOutput() throws IOException {
  final DataObject dtObject=new DataObject(){
{
      this.deamonName="testBundleJob99";
      this.appName="testBundleJobApp99";
      this.appPath="testBundleJobAppPath99";
    }
  }
;
  assertPrintBundleJobsOutput(readBundleJobOutput(createBundleJob(dtObject),true),dtObject);
  assertPrintBundleJobsOutput(readBundleJobOutput(createBundleJob(dtObject),false),dtObject);
}

</code></pre>

<br>
<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Create {@code WorkflowAction} mock
 * call {@code new OozieCLI().printWorkflowAction() }and validate {@code System.out} on match with expected pattern
 * <p>
 * Method do pass only if output matched with predefined pattern
 * </p>
 */
@Test public void testValidatePrintWorkflowActionOutput() throws IOException {
  final DataObject dtObject=new DataObject(){
{
      this.deamonName="testWorkflowAction111";
      this.appName="testWorkflowActionAppName";
      this.appPath="unused";
    }
  }
;
  WorkflowAction workflowAction=createWorkflowAction(dtObject);
  assertPrintWorkflowActionOutput(readWorkflowActionOutput(workflowAction,true),dtObject);
  assertPrintWorkflowActionOutput(readWorkflowActionOutput(workflowAction,false),dtObject);
}

</code></pre>

<br>
<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Create {@code WorkflowJob}, {@code WorkflowAction} mocks,
 * call {@code new OozieCLI().printJob() },
 * and validate {@code System.out} on match with expected pattern
 * <p>
 * Method do pass only if output matched with predefined pattern
 * </p>
 */
@Test public void testValidatePrintJobOutput() throws IOException {
  final DataObject dtObject=new DataObject(){
{
      this.deamonName="testWorkflowJob";
      this.appName="testWorkflowJobApp";
      this.appPath="testWorkflowJobAppPath";
    }
  }
;
  WorkflowJob workflowJob=createWorkflowJob(dtObject);
  assertPrintWorkflowJobOutput1(readWorkflowJobOutput(workflowJob,true),dtObject);
  assertPrintWorkflowJobOutput1(readWorkflowJobOutput(workflowJob,false),dtObject);
}

</code></pre>

<br>
<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Create {@code CoordinatorAction} mock,
 * call {@code new OozieCLI().printCoordAction() },
 * and validate {@code System.out} output on match with
 * expected pattern
 * <p>
 * Method do pass only if output matched with predefined pattern
 * </p>
 */
@Test public void testValidateReadPrintCoordActionOutput() throws IOException {
  final DataObject dtObject=new DataObject(){
{
      this.deamonName="testCoordinatorAction";
      this.appName="testCoordinatorJobApp";
      this.appPath="testCoordinatorJobAppPath";
    }
  }
;
  CoordinatorAction coordinatorAction=createCoordinatorAction(dtObject);
  assertPrintCoordActionOutput(readCoordAction(coordinatorAction),dtObject);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.oozie.command.coord.TestCoordActionInputCheckXCommand </h4><pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testLastOnly() throws Exception {
  Date start=new Date(new Date().getTime() - 65 * 60 * 1000);
  Date end=new Date(start.getTime() + 300 * 60 * 1000);
  CoordinatorJobBean job=addRecordToCoordJobTableForWaiting("coord-job-for-action-input-check.xml",CoordinatorJob.Status.RUNNING,start,end,false,true,7);
  job.setExecutionOrder(CoordinatorJobBean.Execution.LAST_ONLY);
  job.setFrequency("10");
  job.setTimeUnit(Timeunit.MINUTE);
  CoordJobQueryExecutor.getInstance().executeUpdate(CoordJobQueryExecutor.CoordJobQuery.UPDATE_COORD_JOB,job);
  String missingDeps="hdfs:///dirx/filex";
  String actionId1=addInitRecords(missingDeps,null,TZ,job,1);
  Date nomTime=new Date(start.getTime());
  setCoordActionNominalTime(actionId1,nomTime.getTime());
  new CoordActionInputCheckXCommand(actionId1,job.getId()).call();
  checkCoordActionStatus(actionId1,CoordinatorAction.Status.SKIPPED);
  String actionId12=addInitRecords(missingDeps,null,TZ,job,12);
  nomTime=new Date(start.getTime() + 120 * 60 * 1000);
  setCoordActionNominalTime(actionId12,nomTime.getTime());
  new CoordActionInputCheckXCommand(actionId12,job.getId()).call();
  checkCoordActionStatus(actionId12,CoordinatorAction.Status.WAITING);
  String actionId7=addInitRecords(missingDeps,null,TZ,job,7);
  nomTime=new Date(start.getTime() + 60 * 60 * 1000);
  setCoordActionNominalTime(actionId7,nomTime.getTime());
  new CoordActionInputCheckXCommand(actionId7,job.getId()).call();
  checkCoordActionStatus(actionId7,CoordinatorAction.Status.WAITING);
  Date endTime=new Date(start.getTime() + 68 * 60 * 1000);
  job.setEndTime(endTime);
  CoordJobQueryExecutor.getInstance().executeUpdate(CoordJobQueryExecutor.CoordJobQuery.UPDATE_COORD_JOB,job);
  new CoordActionInputCheckXCommand(actionId7,job.getId()).call();
  checkCoordActionStatus(actionId7,CoordinatorAction.Status.WAITING);
  endTime=new Date(start.getTime() + 5 * 60 * 1000);
  job.setEndTime(endTime);
  CoordJobQueryExecutor.getInstance().executeUpdate(CoordJobQueryExecutor.CoordJobQuery.UPDATE_COORD_JOB,job);
  setCoordActionStatus(actionId1,CoordinatorAction.Status.WAITING);
  new CoordActionInputCheckXCommand(actionId1,job.getId()).call();
  checkCoordActionStatus(actionId1,CoordinatorAction.Status.WAITING);
}

</code></pre>

<br>
<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testTimeout() throws Exception {
  String missingDeps="hdfs:///dirx/filex";
  String actionId=addInitRecords(missingDeps,null,TZ);
  new CoordActionInputCheckXCommand(actionId,actionId.substring(0,actionId.indexOf("@"))).call();
  long timeOutCreationTime=System.currentTimeMillis() - (12 * 60 * 1000);
  setCoordActionCreationTime(actionId,timeOutCreationTime);
  new CoordActionInputCheckXCommand(actionId,actionId.substring(0,actionId.indexOf("@"))).call();
  Thread.sleep(100);
  checkCoordAction(actionId,missingDeps,CoordinatorAction.Status.TIMEDOUT);
}

</code></pre>

<br>
<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testNone() throws Exception {
  CoordinatorJobBean job=addRecordToCoordJobTableForWaiting("coord-job-for-action-input-check.xml",CoordinatorJob.Status.RUNNING,false,true);
  job.setExecutionOrder(CoordinatorJobBean.Execution.NONE);
  job.setFrequency("10");
  job.setTimeUnit(Timeunit.MINUTE);
  CoordJobQueryExecutor.getInstance().executeUpdate(CoordJobQueryExecutor.CoordJobQuery.UPDATE_COORD_JOB,job);
  String missingDeps="hdfs:///dirx/filex";
  String actionId1=addInitRecords(missingDeps,null,TZ,job,1);
  Date nomTime=new Date(new Date().getTime() - 60 * 60 * 1000);
  setCoordActionNominalTime(actionId1,nomTime.getTime());
  new CoordActionInputCheckXCommand(actionId1,job.getId()).call();
  checkCoordActionStatus(actionId1,CoordinatorAction.Status.SKIPPED);
  String actionId2=addInitRecords(missingDeps,null,TZ,job,2);
  nomTime=new Date(new Date().getTime() + 60 * 60 * 1000);
  setCoordActionNominalTime(actionId2,nomTime.getTime());
  new CoordActionInputCheckXCommand(actionId2,job.getId()).call();
  checkCoordActionStatus(actionId2,CoordinatorAction.Status.WAITING);
  String actionId3=addInitRecords(missingDeps,null,TZ,job,3);
  nomTime=new Date(new Date().getTime() - 5 * 60 * 1000);
  setCoordActionNominalTime(actionId3,nomTime.getTime());
  new CoordActionInputCheckXCommand(actionId3,job.getId()).call();
  checkCoordActionStatus(actionId3,CoordinatorAction.Status.SKIPPED);
  String actionId4=addInitRecords(missingDeps,null,TZ,job,4);
  nomTime=new Date(new Date().getTime() - 2 * 60 * 1000);
  setCoordActionNominalTime(actionId4,nomTime.getTime());
  new CoordActionInputCheckXCommand(actionId4,job.getId()).call();
  checkCoordActionStatus(actionId4,CoordinatorAction.Status.SKIPPED);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.oozie.command.coord.TestCoordActionReadyXCommand </h4><pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testActionsInREADYLastOnly() throws Exception {
  _testActionsInREADY(Execution.LAST_ONLY);
}

</code></pre>

<br>
<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testActionsInREADYNone() throws Exception {
  ConfigurationService.set("oozie.coord.execution.none.tolerance","5");
  _testActionsInREADY(Execution.NONE);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.oozie.command.coord.TestCoordPushDependencyCheckXCommand </h4><pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateCoordTableSingleDep() throws Exception {
  String db="default";
  String table="tablename";
  String newHCatDependency="hcat://" + server + "/"+ db+ "/"+ table+ "/dt=20120430;country=usa";
  populateTable(db,table);
  String actionId=addInitRecords(newHCatDependency);
  checkCoordAction(actionId,newHCatDependency,CoordinatorAction.Status.WAITING);
  new CoordPushDependencyCheckXCommand(actionId).call();
  checkCoordAction(actionId,"",CoordinatorAction.Status.READY);
}

</code></pre>

<br>
<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateCoordTableMultipleDepsV2() throws Exception {
  String db="default";
  String table="tablename";
  String newHCatDependency1="hcat://" + server + "/"+ db+ "/"+ table+ "/dt=20120430;country=brazil";
  String newHCatDependency2="hcat://" + server + "/"+ db+ "/"+ table+ "/dt=20120430;country=usa";
  String newHCatDependency=newHCatDependency1 + CoordELFunctions.INSTANCE_SEPARATOR + newHCatDependency2;
  populateTable(db,table);
  String actionId=addInitRecords(newHCatDependency);
  checkCoordAction(actionId,newHCatDependency,CoordinatorAction.Status.WAITING);
  new CoordPushDependencyCheckXCommand(actionId).call();
  checkCoordAction(actionId,newHCatDependency,CoordinatorAction.Status.WAITING);
  dropPartition(db,table,"dt=20120430;country=usa");
  addPartition(db,table,"dt=20120430;country=brazil");
  new CoordPushDependencyCheckXCommand(actionId).call();
  checkCoordAction(actionId,newHCatDependency2,CoordinatorAction.Status.WAITING);
  addPartition(db,table,"dt=20120430;country=usa");
  new CoordPushDependencyCheckXCommand(actionId).call();
  checkCoordAction(actionId,"",CoordinatorAction.Status.READY);
}

</code></pre>

<br>
<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testUpdateCoordTableMultipleDepsV1() throws Exception {
  String db="default";
  String table="tablename";
  String newHCatDependency1="hcat://" + server + "/"+ db+ "/"+ table+ "/dt=20120412;country=brazil";
  String newHCatDependency2="hcat://" + server + "/"+ db+ "/"+ table+ "/dt=20120430;country=usa";
  String newHCatDependency=newHCatDependency1 + CoordELFunctions.INSTANCE_SEPARATOR + newHCatDependency2;
  populateTable(db,table);
  String actionId=addInitRecords(newHCatDependency);
  checkCoordAction(actionId,newHCatDependency,CoordinatorAction.Status.WAITING);
  new CoordPushDependencyCheckXCommand(actionId).call();
  checkCoordAction(actionId,"",CoordinatorAction.Status.READY);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.oozie.service.TestPartitionDependencyManagerEhcache </h4><pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testMemoryUsageAndSpeedOverflowToDisk() throws Exception {
  setupServices("testspilltodisk");
  assertSpeedAndMemory(60000,30000,11000,60000000,25000000);
}

</code></pre>

<br>
<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Override @Test public void testMemoryUsageAndSpeed() throws Exception {
  setupServices("testnospilltodisk");
  assertSpeedAndMemory(60000,4500,2000,45000000,40000000);
}

</code></pre>

<br>
<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Override @Test public void testPartitionDependency() throws Exception {
  setupServices(null);
  super.testPartitionDependency();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.oozie.service.TestPartitionDependencyManagerService </h4><pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testMemoryUsageAndSpeed() throws Exception {
  assertSpeedAndMemory(60000,4000,2000,45000000,40000000);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.oozie.service.TestShareLibService </h4><pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAddShareLib_pig_withVersion() throws Exception {
  services=new Services();
  setSystemProps();
  Configuration conf=services.get(ConfigurationService.class).getConf();
  conf.set(ShareLibService.SHIP_LAUNCHER_JAR,"true");
  FileSystem fs=getFileSystem();
  Date time=new Date(System.currentTimeMillis());
  Path basePath=new Path(services.get(ConfigurationService.class).getConf().get(WorkflowAppService.SYSTEM_LIB_PATH));
  Path libpath=new Path(basePath,ShareLibService.SHARE_LIB_PREFIX + ShareLibService.dateFormat.format(time));
  fs.mkdirs(libpath);
  Path pigPath=new Path(libpath.toString() + Path.SEPARATOR + "pig");
  Path pigPath1=new Path(libpath.toString() + Path.SEPARATOR + "pig_9");
  Path pigPath2=new Path(libpath.toString() + Path.SEPARATOR + "pig_10");
  fs.mkdirs(pigPath);
  fs.mkdirs(pigPath1);
  fs.mkdirs(pigPath2);
  createFile(libpath.toString() + Path.SEPARATOR + "pig_10"+ Path.SEPARATOR+ "pig-10.jar");
  try {
    services.init();
    String actionXml="<pig>" + "<job-tracker>" + getJobTrackerUri() + "</job-tracker>"+ "<name-node>"+ getNameNodeUri()+ "</name-node>"+ "<property><name>oozie.action.sharelib.for.pig</name><value>pig_10</value></property>"+ "</pig>";
    Element eActionXml=XmlUtils.parseXml(actionXml);
    XConfiguration protoConf=new XConfiguration();
    protoConf.set(WorkflowAppService.HADOOP_USER,getTestUser());
    WorkflowJobBean wfj=new WorkflowJobBean();
    protoConf.setBoolean(OozieClient.USE_SYSTEM_LIBPATH,true);
    wfj.setProtoActionConf(XmlUtils.prettyPrint(protoConf).toString());
    wfj.setConf(XmlUtils.prettyPrint(protoConf).toString());
    Context context=new TestJavaActionExecutor().new Context(wfj,new WorkflowActionBean());
    PigActionExecutor ae=new PigActionExecutor();
    Configuration jobConf=ae.createBaseHadoopConf(context,eActionXml);
    jobConf.set("oozie.action.sharelib.for.pig","pig_10");
    ae.setLibFilesArchives(context,eActionXml,new Path("hdfs://dummyAppPath"),jobConf);
    verifyFilesInDistributedCache(DistributedCache.getCacheFiles(jobConf),"MyPig.jar","MyOozie.jar","pig-10.jar");
  }
  finally {
    services.destroy();
  }
}

</code></pre>

<br>
<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAddShareLib_pig() throws Exception {
  services=new Services();
  setSystemProps();
  Configuration conf=services.get(ConfigurationService.class).getConf();
  conf.set(ShareLibService.SHIP_LAUNCHER_JAR,"true");
  try {
    services.init();
    String actionXml="<pig>" + "<job-tracker>" + getJobTrackerUri() + "</job-tracker>"+ "<name-node>"+ getNameNodeUri()+ "</name-node>"+ "</pig>";
    Element eActionXml=XmlUtils.parseXml(actionXml);
    XConfiguration protoConf=new XConfiguration();
    protoConf.set(WorkflowAppService.HADOOP_USER,getTestUser());
    WorkflowJobBean wfj=new WorkflowJobBean();
    wfj.setProtoActionConf(XmlUtils.prettyPrint(protoConf).toString());
    wfj.setConf(XmlUtils.prettyPrint(new XConfiguration()).toString());
    Context context=new TestJavaActionExecutor().new Context(wfj,new WorkflowActionBean());
    PigActionExecutor ae=new PigActionExecutor();
    Configuration jobConf=ae.createBaseHadoopConf(context,eActionXml);
    ae.setLibFilesArchives(context,eActionXml,new Path("hdfs://dummyAppPath"),jobConf);
    verifyFilesInDistributedCache(DistributedCache.getCacheFiles(jobConf),"MyPig.jar","MyOozie.jar");
  }
  finally {
    services.destroy();
  }
}

</code></pre>

<br>
<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testLoadfromDFS() throws Exception {
  services=new Services();
  setSystemProps();
  try {
    services.init();
    FileSystem fs=getFileSystem();
    Date time=new Date(System.currentTimeMillis());
    Path basePath=new Path(services.get(ConfigurationService.class).getConf().get(WorkflowAppService.SYSTEM_LIB_PATH));
    Path libpath=new Path(basePath,ShareLibService.SHARE_LIB_PREFIX + ShareLibService.dateFormat.format(time));
    fs.mkdirs(libpath);
    Path pigPath=new Path(libpath.toString() + Path.SEPARATOR + "pig");
    Path ooziePath=new Path(libpath.toString() + Path.SEPARATOR + "oozie");
    Path pigPath1=new Path(libpath.toString() + Path.SEPARATOR + "pig_9");
    Path pigPath2=new Path(libpath.toString() + Path.SEPARATOR + "pig_10");
    fs.mkdirs(pigPath);
    fs.mkdirs(ooziePath);
    fs.mkdirs(pigPath1);
    fs.mkdirs(pigPath2);
    createFile(libpath.toString() + Path.SEPARATOR + "pig_10"+ Path.SEPARATOR+ "pig-10.jar");
    createFile(libpath.toString() + Path.SEPARATOR + "oozie"+ Path.SEPARATOR+ "oozie_luncher.jar");
    String actionXml="<pig>" + "<job-tracker>" + getJobTrackerUri() + "</job-tracker>"+ "<name-node>"+ getNameNodeUri()+ "</name-node>"+ "<property><name>oozie.action.sharelib.for.pig</name><value>pig_10</value></property>"+ "</pig>";
    Element eActionXml=XmlUtils.parseXml(actionXml);
    XConfiguration protoConf=new XConfiguration();
    protoConf.set(WorkflowAppService.HADOOP_USER,getTestUser());
    WorkflowJobBean wfj=new WorkflowJobBean();
    protoConf.setBoolean(OozieClient.USE_SYSTEM_LIBPATH,true);
    wfj.setProtoActionConf(XmlUtils.prettyPrint(protoConf).toString());
    wfj.setConf(XmlUtils.prettyPrint(protoConf).toString());
    Context context=new TestJavaActionExecutor().new Context(wfj,new WorkflowActionBean());
    PigActionExecutor ae=new PigActionExecutor();
    Configuration jobConf=ae.createBaseHadoopConf(context,eActionXml);
    jobConf.set("oozie.action.sharelib.for.pig","pig_10");
    ae.setLibFilesArchives(context,eActionXml,new Path("hdfs://dummyAppPath"),jobConf);
    verifyFilesInDistributedCache(DistributedCache.getCacheFiles(jobConf),"pig-10.jar","oozie_luncher.jar");
  }
  finally {
    services.destroy();
  }
}

</code></pre>

<br>
<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testAddShareLibDistributedCache() throws Exception {
  services=new Services();
  setSystemProps();
  Configuration conf=services.get(ConfigurationService.class).getConf();
  conf.set(ShareLibService.SHIP_LAUNCHER_JAR,"true");
  try {
    services.init();
    String actionXml="<java>" + "<job-tracker>" + getJobTrackerUri() + "</job-tracker>"+ "<name-node>"+ getNameNodeUri()+ "</name-node>"+ "</java>";
    Element eActionXml=XmlUtils.parseXml(actionXml);
    XConfiguration protoConf=new XConfiguration();
    protoConf.set(WorkflowAppService.HADOOP_USER,getTestUser());
    WorkflowJobBean wfj=new WorkflowJobBean();
    wfj.setProtoActionConf(XmlUtils.prettyPrint(protoConf).toString());
    wfj.setConf(XmlUtils.prettyPrint(new XConfiguration()).toString());
    Context context=new TestJavaActionExecutor().new Context(wfj,new WorkflowActionBean());
    PigActionExecutor ae=new PigActionExecutor();
    Configuration jobConf=ae.createBaseHadoopConf(context,eActionXml);
    ae.setLibFilesArchives(context,eActionXml,new Path("hdfs://dummyAppPath"),jobConf);
    verifyFilesInDistributedCache(DistributedCache.getCacheFiles(jobConf),MyPig.class.getName() + ".jar",MyOozie.class.getName() + ".jar");
  }
  finally {
    services.destroy();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.oozie.util.TestDateUtils </h4><pre class="type-11 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=RuntimeException.class) public void testInvalidOozieTimeZone() throws Exception {
  Configuration conf=new XConfiguration();
  conf.set(DateUtils.OOZIE_PROCESSING_TIMEZONE_KEY,"US/Los Angeles");
  DateUtils.setConf(conf);
}

</code></pre>

<br>
<pre class="type-11 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=RuntimeException.class) public void testInvalidOozieTimeZoneGMTPostfix() throws Exception {
  Configuration conf=new XConfiguration();
  conf.set(DateUtils.OOZIE_PROCESSING_TIMEZONE_KEY,"GMT-0300x");
  DateUtils.setConf(conf);
}

</code></pre>

<br>
<pre class="type-11 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=ParseException.class) public void testOozieInOtherTZIncorrectOffset() throws Exception {
  Configuration conf=new XConfiguration();
  conf.set(DateUtils.OOZIE_PROCESSING_TIMEZONE_KEY,"GMT-0300");
  DateUtils.setConf(conf);
  String s1="2012-08-08T12:42-0400";
  DateUtils.parseDateOozieTZ(s1);
}

</code></pre>

<br>
<pre class="type-11 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testGetTimeZoneInvalidFormatNull() throws Exception {
  DateUtils.getTimeZone(null);
}

</code></pre>

<br>
<pre class="type-11 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=ParseException.class) public void testOozieInOtherTZInvalidOffset() throws Exception {
  Configuration conf=new XConfiguration();
  conf.set(DateUtils.OOZIE_PROCESSING_TIMEZONE_KEY,"GMT-0300");
  DateUtils.setConf(conf);
  String s1="2012-08-08T12:42-0300x";
  DateUtils.parseDateOozieTZ(s1);
}

</code></pre>

<br>
<pre class="type-11 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=RuntimeException.class) public void testInvalidOozieTimeZoneGMTPrefix() throws Exception {
  Configuration conf=new XConfiguration();
  conf.set(DateUtils.OOZIE_PROCESSING_TIMEZONE_KEY,"xGMT-0300");
  DateUtils.setConf(conf);
}

</code></pre>

<br>
<pre class="type-11 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testGetTimeZoneInvalidFormat() throws Exception {
  DateUtils.getTimeZone("This_is_not_a_TimeZone_id");
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
