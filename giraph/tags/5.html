<h3><span class=" glyphicon glyphicon-tag"/>&nbspBooleanVerifier</h3><kbd>Verifies boolean conditions</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.giraph.TestAutoCheckpoint </h4><pre class="type-3 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Run a job that requires checkpointing and will have a worker crash
 * and still recover from a previous checkpoint.
 * @throws IOException
 * @throws ClassNotFoundException
 * @throws InterruptedException
 */
@Test public void testSingleFault() throws IOException, InterruptedException, ClassNotFoundException {
  if (!runningInDistributedMode()) {
    System.out.println("testSingleFault: Ignore this test in local mode.");
    return;
  }
  Path outputPath=getTempPath(getCallingMethodName());
  GiraphConfiguration conf=new GiraphConfiguration();
  conf.setComputationClass(SimpleCheckpoint.SimpleCheckpointComputation.class);
  conf.setWorkerContextClass(SimpleCheckpoint.SimpleCheckpointVertexWorkerContext.class);
  conf.setMasterComputeClass(SimpleCheckpoint.SimpleCheckpointVertexMasterCompute.class);
  conf.setVertexInputFormatClass(SimpleSuperstepVertexInputFormat.class);
  conf.setVertexOutputFormatClass(SimpleSuperstepVertexOutputFormat.class);
  conf.setBoolean(SimpleCheckpoint.ENABLE_FAULT,true);
  conf.setInt("mapred.map.max.attempts",4);
  conf.setInt("mapred.task.timeout",10000);
  conf.setMaxMasterSuperstepWaitMsecs(10000);
  conf.setEventWaitMsecs(1000);
  conf.setCheckpointFrequency(2);
  GiraphConstants.CHECKPOINT_DIRECTORY.set(conf,getTempPath("_singleFaultCheckpoints").toString());
  GiraphConstants.CLEANUP_CHECKPOINTS_AFTER_SUCCESS.set(conf,false);
  GiraphConstants.ZOOKEEPER_SESSION_TIMEOUT.set(conf,10000);
  GiraphConstants.ZOOKEEPER_MIN_SESSION_TIMEOUT.set(conf,10000);
  GiraphJob job=prepareJob(getCallingMethodName(),conf,outputPath);
  assertTrue(job.run(true));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.TestBspBasic </h4><pre class="type-3 type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Run a sample BSP job locally and test shortest paths.
 * @throws IOException
 * @throws ClassNotFoundException
 * @throws InterruptedException
 */
@Test public void testBspShortestPaths() throws IOException, InterruptedException, ClassNotFoundException {
  Path outputPath=getTempPath(getCallingMethodName());
  GiraphConfiguration conf=new GiraphConfiguration();
  conf.setComputationClass(SimpleShortestPathsComputation.class);
  conf.setVertexInputFormatClass(SimplePageRankVertexInputFormat.class);
  conf.setVertexOutputFormatClass(JsonLongDoubleFloatDoubleVertexOutputFormat.class);
  SimpleShortestPathsComputation.SOURCE_ID.set(conf,0);
  GiraphJob job=prepareJob(getCallingMethodName(),conf,outputPath);
  assertTrue(job.run(true));
  int numResults=getNumResults(job.getConfiguration(),outputPath);
  int expectedNumResults=runningInDistributedMode() ? 15 : 5;
  assertEquals(expectedNumResults,numResults);
}

</code></pre>

<br>
<pre class="type-3 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Run a sample BSP job in JobTracker, kill a task, and make sure
 * the job fails (not enough attempts to restart)
 * @throws IOException
 * @throws ClassNotFoundException
 * @throws InterruptedException
 */
@Test public void testBspFail() throws IOException, InterruptedException, ClassNotFoundException {
  if (!runningInDistributedMode()) {
    System.out.println("testBspFail: not executed for local setup.");
    return;
  }
  GiraphConfiguration conf=new GiraphConfiguration();
  conf.setComputationClass(SimpleFailComputation.class);
  conf.setVertexInputFormatClass(SimplePageRankVertexInputFormat.class);
  GiraphJob job=prepareJob(getCallingMethodName(),conf,getTempPath(getCallingMethodName()));
  job.getConfiguration().setInt("mapred.map.max.attempts",1);
  assertTrue(!job.run(true));
}

</code></pre>

<br>
<pre class="type-3 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Run a sample BSP job locally and test messages.
 * @throws IOException
 * @throws ClassNotFoundException
 * @throws InterruptedException
 */
@Test public void testBspMsg() throws IOException, InterruptedException, ClassNotFoundException {
  GiraphConfiguration conf=new GiraphConfiguration();
  conf.setComputationClass(SimpleMsgComputation.class);
  conf.setVertexInputFormatClass(SimpleSuperstepVertexInputFormat.class);
  GiraphJob job=prepareJob(getCallingMethodName(),conf);
  assertTrue(job.run(true));
}

</code></pre>

<br>
<pre class="type-3 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Run a sample BSP job locally with no vertices and make sure
 * it completes.
 * @throws IOException
 * @throws ClassNotFoundException
 * @throws InterruptedException
 */
@Test public void testEmptyVertexInputFormat() throws IOException, InterruptedException, ClassNotFoundException {
  GiraphConfiguration conf=new GiraphConfiguration();
  conf.setComputationClass(SimpleMsgComputation.class);
  conf.setVertexInputFormatClass(SimpleSuperstepVertexInputFormat.class);
  GiraphJob job=prepareJob(getCallingMethodName(),conf);
  GeneratedVertexReader.READER_VERTICES.set(job.getConfiguration(),0);
  assertTrue(job.run(true));
}

</code></pre>

<br>
<pre class="type-3 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Test halting at superstep 0
 */
@Test public void testHaltSuperstep0() throws IOException, InterruptedException, ClassNotFoundException {
  GiraphConfiguration conf=new GiraphConfiguration();
  GiraphConstants.MAX_NUMBER_OF_SUPERSTEPS.set(conf,0);
  conf.setComputationClass(SimpleMsgComputation.class);
  conf.setVertexInputFormatClass(SimpleSuperstepVertexInputFormat.class);
  GiraphJob job=prepareJob(getCallingMethodName(),conf);
  assertTrue(job.run(true));
}

</code></pre>

<br>
<pre class="type-3 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Run a sample BSP job locally with message combiner and
 * checkout output value.
 * @throws IOException
 * @throws ClassNotFoundException
 * @throws InterruptedException
 */
@Test public void testBspCombiner() throws IOException, InterruptedException, ClassNotFoundException {
  GiraphConfiguration conf=new GiraphConfiguration();
  conf.setComputationClass(SimpleCombinerComputation.class);
  conf.setVertexInputFormatClass(SimpleSuperstepVertexInputFormat.class);
  conf.setMessageCombinerClass(SimpleSumMessageCombiner.class);
  GiraphJob job=prepareJob(getCallingMethodName(),conf);
  assertTrue(job.run(true));
}

</code></pre>

<br>
<pre class="type-3 type-12 type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Run a sample BSP job locally and test MasterCompute.
 * @throws IOException
 * @throws ClassNotFoundException
 * @throws InterruptedException
 */
@Test public void testBspMasterCompute() throws IOException, InterruptedException, ClassNotFoundException {
  GiraphConfiguration conf=new GiraphConfiguration();
  conf.setComputationClass(SimpleMasterComputeComputation.class);
  conf.setVertexInputFormatClass(SimplePageRankVertexInputFormat.class);
  conf.setMasterComputeClass(SimpleMasterComputeComputation.SimpleMasterCompute.class);
  conf.setWorkerContextClass(SimpleMasterComputeComputation.SimpleMasterComputeWorkerContext.class);
  GiraphJob job=prepareJob(getCallingMethodName(),conf);
  assertTrue(job.run(true));
  if (!runningInDistributedMode()) {
    double finalSum=SimpleMasterComputeComputation.SimpleMasterComputeWorkerContext.getFinalSum();
    System.out.println("testBspMasterCompute: finalSum=" + finalSum);
    assertEquals(32.5,finalSum,0d);
  }
}

</code></pre>

<br>
<pre class="type-3 type-12 type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Run a sample BSP job locally and test supersteps.
 * @throws IOException
 * @throws ClassNotFoundException
 * @throws InterruptedException
 */
@Test public void testBspSuperStep() throws IOException, InterruptedException, ClassNotFoundException {
  String callingMethod=getCallingMethodName();
  Path outputPath=getTempPath(callingMethod);
  GiraphConfiguration conf=new GiraphConfiguration();
  conf.setComputationClass(SimpleSuperstepComputation.class);
  conf.setVertexInputFormatClass(SimpleSuperstepVertexInputFormat.class);
  conf.setVertexOutputFormatClass(SimpleSuperstepVertexOutputFormat.class);
  GiraphJob job=prepareJob(callingMethod,conf,outputPath);
  Configuration configuration=job.getConfiguration();
  GeneratedVertexReader.READER_VERTICES.set(configuration,10);
  assertTrue(job.run(true));
  if (!runningInDistributedMode()) {
    FileStatus fileStatus=getSinglePartFileStatus(configuration,outputPath);
    assertEquals(49l,fileStatus.getLen());
  }
}

</code></pre>

<br>
<pre class="type-3 type-12 type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Run a sample BSP job locally and test PageRank with AggregatorWriter.
 * @throws IOException
 * @throws ClassNotFoundException
 * @throws InterruptedException
 */
@Test public void testBspPageRankWithAggregatorWriter() throws IOException, InterruptedException, ClassNotFoundException {
  Path outputPath=getTempPath(getCallingMethodName());
  GiraphConfiguration conf=new GiraphConfiguration();
  conf.setComputationClass(SimplePageRankComputation.class);
  conf.setAggregatorWriterClass(TextAggregatorWriter.class);
  conf.setMasterComputeClass(SimplePageRankComputation.SimplePageRankMasterCompute.class);
  conf.setVertexInputFormatClass(SimplePageRankVertexInputFormat.class);
  conf.setVertexOutputFormatClass(SimplePageRankComputation.SimplePageRankVertexOutputFormat.class);
  conf.setWorkerContextClass(SimplePageRankComputation.SimplePageRankWorkerContext.class);
  GiraphJob job=prepareJob(getCallingMethodName(),conf,outputPath);
  GiraphConfiguration configuration=job.getConfiguration();
  Path aggregatorValues=getTempPath("aggregatorValues");
  configuration.setInt(TextAggregatorWriter.FREQUENCY,TextAggregatorWriter.ALWAYS);
  configuration.set(TextAggregatorWriter.FILENAME,aggregatorValues.toString());
  assertTrue(job.run(true));
  FileSystem fs=FileSystem.get(configuration);
  Path valuesFile=new Path(aggregatorValues.toString() + "_0");
  try {
    if (!runningInDistributedMode()) {
      double maxPageRank=SimplePageRankComputation.SimplePageRankWorkerContext.getFinalMax();
      double minPageRank=SimplePageRankComputation.SimplePageRankWorkerContext.getFinalMin();
      long numVertices=SimplePageRankComputation.SimplePageRankWorkerContext.getFinalSum();
      System.out.println("testBspPageRank: maxPageRank=" + maxPageRank + " minPageRank="+ minPageRank+ " numVertices="+ numVertices);
      FSDataInputStream in=null;
      BufferedReader reader=null;
      try {
        Map<Integer,Double> minValues=Maps.newHashMap();
        Map<Integer,Double> maxValues=Maps.newHashMap();
        Map<Integer,Long> vertexCounts=Maps.newHashMap();
        in=fs.open(valuesFile);
        reader=new BufferedReader(new InputStreamReader(in,Charsets.UTF_8));
        String line;
        while ((line=reader.readLine()) != null) {
          String[] tokens=line.split("\t");
          int superstep=Integer.parseInt(tokens[0].split("=")[1]);
          String value=(tokens[1].split("=")[1]);
          String aggregatorName=(tokens[1].split("=")[0]);
          if ("min".equals(aggregatorName)) {
            minValues.put(superstep,Double.parseDouble(value));
          }
          if ("max".equals(aggregatorName)) {
            maxValues.put(superstep,Double.parseDouble(value));
          }
          if ("sum".equals(aggregatorName)) {
            vertexCounts.put(superstep,Long.parseLong(value));
          }
        }
        int maxSuperstep=SimplePageRankComputation.MAX_SUPERSTEPS;
        assertEquals(maxSuperstep + 2,minValues.size());
        assertEquals(maxSuperstep + 2,maxValues.size());
        assertEquals(maxSuperstep + 2,vertexCounts.size());
        assertEquals(maxPageRank,maxValues.get(maxSuperstep),0d);
        assertEquals(minPageRank,minValues.get(maxSuperstep),0d);
        assertEquals(numVertices,(long)vertexCounts.get(maxSuperstep));
      }
  finally {
        Closeables.close(in,true);
        Closeables.close(reader,true);
      }
    }
  }
  finally {
    fs.delete(valuesFile,false);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.TestComputationState </h4><pre class="type-3 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testComputationState() throws IOException, ClassNotFoundException, InterruptedException {
  if (runningInDistributedMode()) {
    System.out.println("testComputeContext: Ignore this test in distributed mode.");
    return;
  }
  GiraphConfiguration conf=new GiraphConfiguration();
  conf.setComputationClass(TestComputationStateComputation.class);
  conf.setVertexInputFormatClass(SimplePageRankComputation.SimplePageRankVertexInputFormat.class);
  conf.setWorkerContextClass(TestComputationStateComputation.TestComputationStateWorkerContext.class);
  GiraphJob job=prepareJob(getCallingMethodName(),conf);
  job.getConfiguration().setNumComputeThreads(TestComputationStateComputation.NUM_COMPUTE_THREADS);
  GeneratedVertexReader.READER_VERTICES.set(job.getConfiguration(),TestComputationStateComputation.NUM_VERTICES);
  GiraphConstants.USER_PARTITION_COUNT.set(job.getConfiguration(),TestComputationStateComputation.NUM_PARTITIONS);
  assertTrue(job.run(true));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.TestGraphPartitioner </h4><pre class="type-3 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Run a sample BSP job locally and test various partitioners and
 * partition algorithms.
 * @throws IOException
 * @throws ClassNotFoundException
 * @throws InterruptedException
 */
@Test public void testPartitioners() throws IOException, InterruptedException, ClassNotFoundException {
  Path outputPath=getTempPath("testVertexBalancer");
  GiraphConfiguration conf=new GiraphConfiguration();
  conf.setComputationClass(SimpleCheckpoint.SimpleCheckpointComputation.class);
  conf.setWorkerContextClass(SimpleCheckpoint.SimpleCheckpointVertexWorkerContext.class);
  conf.setMasterComputeClass(SimpleCheckpoint.SimpleCheckpointVertexMasterCompute.class);
  conf.setVertexInputFormatClass(SimpleSuperstepVertexInputFormat.class);
  conf.setVertexOutputFormatClass(SimpleSuperstepVertexOutputFormat.class);
  GiraphJob job=prepareJob("testVertexBalancer",conf,outputPath);
  job.getConfiguration().set(PartitionBalancer.PARTITION_BALANCE_ALGORITHM,PartitionBalancer.VERTICES_BALANCE_ALGORITHM);
  assertTrue(job.run(true));
  FileSystem hdfs=FileSystem.get(job.getConfiguration());
  conf=new GiraphConfiguration();
  conf.setComputationClass(SimpleCheckpoint.SimpleCheckpointComputation.class);
  conf.setWorkerContextClass(SimpleCheckpoint.SimpleCheckpointVertexWorkerContext.class);
  conf.setMasterComputeClass(SimpleCheckpoint.SimpleCheckpointVertexMasterCompute.class);
  conf.setVertexInputFormatClass(SimpleSuperstepVertexInputFormat.class);
  conf.setVertexOutputFormatClass(SimpleSuperstepVertexOutputFormat.class);
  outputPath=getTempPath("testHashPartitioner");
  job=prepareJob("testHashPartitioner",conf,outputPath);
  assertTrue(job.run(true));
  verifyOutput(hdfs,outputPath);
  job=new GiraphJob("testHashRangePartitioner");
  setupConfiguration(job);
  job.getConfiguration().setComputationClass(SimpleCheckpoint.SimpleCheckpointComputation.class);
  job.getConfiguration().setWorkerContextClass(SimpleCheckpoint.SimpleCheckpointVertexWorkerContext.class);
  job.getConfiguration().setMasterComputeClass(SimpleCheckpoint.SimpleCheckpointVertexMasterCompute.class);
  job.getConfiguration().setVertexInputFormatClass(SimpleSuperstepVertexInputFormat.class);
  job.getConfiguration().setVertexOutputFormatClass(SimpleSuperstepVertexOutputFormat.class);
  job.getConfiguration().setGraphPartitionerFactoryClass(HashRangePartitionerFactory.class);
  outputPath=getTempPath("testHashRangePartitioner");
  removeAndSetOutput(job,outputPath);
  assertTrue(job.run(true));
  verifyOutput(hdfs,outputPath);
  job=new GiraphJob("testSimpleRangePartitioner");
  setupConfiguration(job);
  job.getConfiguration().setComputationClass(SimpleCheckpoint.SimpleCheckpointComputation.class);
  job.getConfiguration().setWorkerContextClass(SimpleCheckpoint.SimpleCheckpointVertexWorkerContext.class);
  job.getConfiguration().setMasterComputeClass(SimpleCheckpoint.SimpleCheckpointVertexMasterCompute.class);
  job.getConfiguration().setVertexInputFormatClass(SimpleSuperstepVertexInputFormat.class);
  job.getConfiguration().setVertexOutputFormatClass(SimpleSuperstepVertexOutputFormat.class);
  job.getConfiguration().setGraphPartitionerFactoryClass(SimpleLongRangePartitionerFactory.class);
  long readerVertices=READER_VERTICES.getWithDefault(job.getConfiguration(),-1L);
  job.getConfiguration().setLong(GiraphConstants.PARTITION_VERTEX_KEY_SPACE_SIZE,readerVertices);
  outputPath=getTempPath("testSimpleRangePartitioner");
  removeAndSetOutput(job,outputPath);
  assertTrue(job.run(true));
  verifyOutput(hdfs,outputPath);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.TestManualCheckpoint </h4><pre class="type-3 type-12 type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Run a sample BSP job locally and test checkpointing.
 * @throws IOException
 * @throws ClassNotFoundException
 * @throws InterruptedException
 */
@Test public void testBspCheckpoint() throws IOException, InterruptedException, ClassNotFoundException {
  Path checkpointsDir=getTempPath("checkPointsForTesting");
  Path outputPath=getTempPath(getCallingMethodName());
  GiraphConfiguration conf=new GiraphConfiguration();
  conf.setComputationClass(SimpleCheckpoint.SimpleCheckpointComputation.class);
  conf.setWorkerContextClass(SimpleCheckpoint.SimpleCheckpointVertexWorkerContext.class);
  conf.setMasterComputeClass(SimpleCheckpoint.SimpleCheckpointVertexMasterCompute.class);
  conf.setVertexInputFormatClass(SimpleSuperstepVertexInputFormat.class);
  conf.setVertexOutputFormatClass(SimpleSuperstepVertexOutputFormat.class);
  GiraphJob job=prepareJob(getCallingMethodName(),conf,outputPath);
  GiraphConfiguration configuration=job.getConfiguration();
  GiraphConstants.CHECKPOINT_DIRECTORY.set(configuration,checkpointsDir.toString());
  GiraphConstants.CLEANUP_CHECKPOINTS_AFTER_SUCCESS.set(configuration,false);
  configuration.setCheckpointFrequency(2);
  assertTrue(job.run(true));
  long idSum=0;
  if (!runningInDistributedMode()) {
    FileStatus fileStatus=getSinglePartFileStatus(job.getConfiguration(),outputPath);
    idSum=SimpleCheckpoint.SimpleCheckpointVertexWorkerContext.getFinalSum();
    System.out.println("testBspCheckpoint: idSum = " + idSum + " fileLen = "+ fileStatus.getLen());
  }
  System.out.println("testBspCheckpoint: Restarting from superstep 2" + " with checkpoint path = " + checkpointsDir);
  outputPath=getTempPath(getCallingMethodName() + "Restarted");
  conf=new GiraphConfiguration();
  conf.setComputationClass(SimpleCheckpoint.SimpleCheckpointComputation.class);
  conf.setWorkerContextClass(SimpleCheckpoint.SimpleCheckpointVertexWorkerContext.class);
  conf.setMasterComputeClass(SimpleCheckpoint.SimpleCheckpointVertexMasterCompute.class);
  conf.setVertexInputFormatClass(SimpleSuperstepVertexInputFormat.class);
  conf.setVertexOutputFormatClass(SimpleSuperstepVertexOutputFormat.class);
  GiraphJob restartedJob=prepareJob(getCallingMethodName() + "Restarted",conf,outputPath);
  configuration.setMasterComputeClass(SimpleCheckpoint.SimpleCheckpointVertexMasterCompute.class);
  GiraphConstants.CHECKPOINT_DIRECTORY.set(restartedJob.getConfiguration(),checkpointsDir.toString());
  assertTrue(restartedJob.run(true));
  if (!runningInDistributedMode()) {
    long idSumRestarted=SimpleCheckpoint.SimpleCheckpointVertexWorkerContext.getFinalSum();
    System.out.println("testBspCheckpoint: idSumRestarted = " + idSumRestarted);
    assertEquals(idSum,idSumRestarted);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.TestMaxSuperstep </h4><pre class="type-3 type-12 type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Run a job that tests that this job completes in the desired number of
 * supersteps
 * @throws java.io.IOException
 * @throws ClassNotFoundException
 * @throws InterruptedException
 */
@Test public void testMaxSuperstep() throws IOException, InterruptedException, ClassNotFoundException {
  GiraphConfiguration conf=new GiraphConfiguration();
  conf.setComputationClass(InfiniteLoopComputation.class);
  conf.setVertexInputFormatClass(SimplePageRankVertexInputFormat.class);
  conf.setVertexOutputFormatClass(SimplePageRankVertexOutputFormat.class);
  GiraphJob job=prepareJob(getCallingMethodName(),conf,getTempPath(getCallingMethodName()));
  job.getConfiguration().setMaxNumberOfSupersteps(3);
  assertTrue(job.run(true));
  if (!runningInDistributedMode()) {
    GiraphHadoopCounter superstepCounter=GiraphStats.getInstance().getSuperstepCounter();
    assertEquals(superstepCounter.getValue(),3L);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.TestMutateGraph </h4><pre class="type-3 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Run a job that tests the various graph mutations that can occur
 * @throws IOException
 * @throws ClassNotFoundException
 * @throws InterruptedException
 */
@Test public void testMutateGraph() throws IOException, InterruptedException, ClassNotFoundException {
  GiraphConfiguration conf=new GiraphConfiguration();
  conf.setComputationClass(SimpleMutateGraphComputation.class);
  conf.setVertexInputFormatClass(SimplePageRankVertexInputFormat.class);
  conf.setVertexOutputFormatClass(SimplePageRankVertexOutputFormat.class);
  conf.setWorkerContextClass(SimpleMutateGraphComputation.SimpleMutateGraphVertexWorkerContext.class);
  GiraphConstants.USER_PARTITION_COUNT.set(conf,32);
  conf.setNumComputeThreads(8);
  GiraphConstants.VERTEX_RESOLVER_CLASS.set(conf,TestVertexResolver.class);
  GiraphJob job=prepareJob(getCallingMethodName(),conf,getTempPath(getCallingMethodName()));
  GeneratedVertexReader.READER_VERTICES.set(conf,400);
  assertTrue(job.run(true));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.TestNotEnoughMapTasks </h4><pre class="type-3 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * This job should always fail gracefully with not enough map tasks.
 * @throws IOException
 * @throws ClassNotFoundException
 * @throws InterruptedException
 */
@Test public void testNotEnoughMapTasks() throws IOException, InterruptedException, ClassNotFoundException {
  if (!runningInDistributedMode()) {
    System.out.println("testNotEnoughMapTasks: Ignore this test in local mode.");
    return;
  }
  Path outputPath=getTempPath(getCallingMethodName());
  GiraphConfiguration conf=new GiraphConfiguration();
  conf.setComputationClass(SimpleCheckpoint.SimpleCheckpointComputation.class);
  conf.setVertexInputFormatClass(SimpleSuperstepVertexInputFormat.class);
  conf.setVertexOutputFormatClass(SimpleSuperstepVertexOutputFormat.class);
  GiraphJob job=prepareJob(getCallingMethodName(),conf,outputPath);
  final int unlikelyWorkers=Short.MAX_VALUE;
  job.getConfiguration().setWorkerConfiguration(unlikelyWorkers,unlikelyWorkers,100.0f);
  job.getConfiguration().setMaxMasterSuperstepWaitMsecs(1000);
  job.getConfiguration().setEventWaitMsecs(1000);
  assertFalse(job.run(false));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.TestOutOfCore </h4><pre class="type-3 type-12 type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Run a job that tests the adaptive out-of-core mechanism
 * @throws IOException
 * @throws ClassNotFoundException
 * @throws InterruptedException
 */
@Test public void testOutOfCore() throws IOException, InterruptedException, ClassNotFoundException {
  GiraphConfiguration conf=new GiraphConfiguration();
  conf.setComputationClass(SimplePageRankComputation.class);
  conf.setVertexInputFormatClass(SimplePageRankVertexInputFormat.class);
  conf.setVertexOutputFormatClass(SimplePageRankVertexOutputFormat.class);
  conf.setWorkerContextClass(SimplePageRankComputation.SimplePageRankWorkerContext.class);
  conf.setMasterComputeClass(SimplePageRankComputation.SimplePageRankMasterCompute.class);
  GiraphConstants.USER_PARTITION_COUNT.set(conf,NUM_PARTITIONS);
  GiraphConstants.USE_OUT_OF_CORE_GRAPH.set(conf,true);
  GiraphConstants.OUT_OF_CORE_MEM_ESTIMATOR.set(conf,TestMemoryEstimator.class);
  CheckMemoryCallable.CHECK_MEMORY_INTERVAL.set(conf,5);
  GiraphConstants.NUM_COMPUTE_THREADS.set(conf,8);
  GiraphConstants.NUM_INPUT_THREADS.set(conf,8);
  GiraphConstants.NUM_OOC_THREADS.set(conf,4);
  GiraphConstants.NUM_OUTPUT_THREADS.set(conf,8);
  GiraphJob job=prepareJob(getCallingMethodName(),conf,getTempPath(getCallingMethodName()));
  GeneratedVertexReader.READER_VERTICES.set(conf,200);
  assertTrue(job.run(true));
  if (!runningInDistributedMode()) {
    double maxPageRank=SimplePageRankComputation.SimplePageRankWorkerContext.getFinalMax();
    double minPageRank=SimplePageRankComputation.SimplePageRankWorkerContext.getFinalMin();
    long numVertices=SimplePageRankComputation.SimplePageRankWorkerContext.getFinalSum();
    System.out.println(getCallingMethodName() + ": maxPageRank=" + maxPageRank+ " minPageRank="+ minPageRank+ " numVertices="+ numVertices);
    assertEquals(13591.5,maxPageRank,0.01);
    assertEquals(9.375e-5,minPageRank,0.000000001);
    assertEquals(8 * 200L,numVertices);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.aggregators.TestAggregatorsHandling </h4><pre class="type-3 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Test if aggregators are are handled properly when restarting from a
 * checkpoint
 */
@Test public void testAggregatorsCheckpointing() throws ClassNotFoundException, IOException, InterruptedException {
  Path checkpointsDir=getTempPath("checkPointsForTesting");
  Path outputPath=getTempPath(getCallingMethodName());
  GiraphConfiguration conf=new GiraphConfiguration();
  conf.setComputationClass(AggregatorsTestComputation.class);
  conf.setMasterComputeClass(AggregatorsTestComputation.AggregatorsTestMasterCompute.class);
  conf.setVertexInputFormatClass(AggregatorsTestComputation.SimpleVertexInputFormat.class);
  conf.setEdgeInputFormatClass(AggregatorsTestComputation.SimpleEdgeInputFormat.class);
  GiraphJob job=prepareJob(getCallingMethodName(),conf,outputPath);
  GiraphConfiguration configuration=job.getConfiguration();
  GiraphConstants.CHECKPOINT_DIRECTORY.set(configuration,checkpointsDir.toString());
  GiraphConstants.CLEANUP_CHECKPOINTS_AFTER_SUCCESS.set(configuration,false);
  configuration.setCheckpointFrequency(4);
  assertTrue(job.run(true));
  System.out.println("testAggregatorsCheckpointing: Restarting from " + "superstep 4 with checkpoint path = " + checkpointsDir);
  outputPath=getTempPath(getCallingMethodName() + "Restarted");
  conf=new GiraphConfiguration();
  conf.setComputationClass(AggregatorsTestComputation.class);
  conf.setMasterComputeClass(AggregatorsTestComputation.AggregatorsTestMasterCompute.class);
  conf.setVertexInputFormatClass(AggregatorsTestComputation.SimpleVertexInputFormat.class);
  conf.setEdgeInputFormatClass(AggregatorsTestComputation.SimpleEdgeInputFormat.class);
  GiraphJob restartedJob=prepareJob(getCallingMethodName() + "Restarted",conf,outputPath);
  job.getConfiguration().setMasterComputeClass(SimpleCheckpoint.SimpleCheckpointVertexMasterCompute.class);
  GiraphConfiguration restartedJobConf=restartedJob.getConfiguration();
  GiraphConstants.CHECKPOINT_DIRECTORY.set(restartedJobConf,checkpointsDir.toString());
  restartedJobConf.setLong(GiraphConstants.RESTART_SUPERSTEP,4);
  assertTrue(restartedJob.run(true));
}

</code></pre>

<br>
<pre class="type-3 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Tests if aggregators are handled on a proper way during supersteps 
 */
@Test public void testAggregatorsHandling() throws IOException, ClassNotFoundException, InterruptedException {
  GiraphConfiguration conf=new GiraphConfiguration();
  conf.setComputationClass(AggregatorsTestComputation.class);
  conf.setVertexInputFormatClass(AggregatorsTestComputation.SimpleVertexInputFormat.class);
  conf.setEdgeInputFormatClass(AggregatorsTestComputation.SimpleEdgeInputFormat.class);
  GiraphJob job=prepareJob(getCallingMethodName(),conf);
  job.getConfiguration().setMasterComputeClass(AggregatorsTestComputation.AggregatorsTestMasterCompute.class);
  job.getConfiguration().setInt(AggregatorUtils.MAX_BYTES_PER_AGGREGATOR_REQUEST,50);
  assertTrue(job.run(true));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.comm.IncreasingBitSetTest </h4><pre class="type-14 type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void add256kIntegers(){
  IncreasingBitSet IncreasingBitSet=new IncreasingBitSet();
  for (int i=0; i < 256 * 1024; ++i) {
    assertFalse(IncreasingBitSet.has(i));
    assertTrue(IncreasingBitSet.add(i));
    assertTrue(IncreasingBitSet.has(i));
    assertTrue(IncreasingBitSet.size() <= IncreasingBitSet.MIN_BITS_TO_SHIFT);
  }
  assertEquals(256 * 1024L,IncreasingBitSet.getLastBaseKey());
}

</code></pre>

<br>
<pre class="type-14 type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void add256kIntegersOutOfOrder(){
  IncreasingBitSet IncreasingBitSet=new IncreasingBitSet();
  for (int i=128 * 1024; i < 256 * 1024; ++i) {
    assertFalse(IncreasingBitSet.has(i));
    assertTrue(IncreasingBitSet.add(i));
    assertTrue(IncreasingBitSet.has(i));
    assertTrue(IncreasingBitSet.size() <= 512 * 1024);
  }
  assertEquals(128 * 1024L,IncreasingBitSet.cardinality());
  for (int i=0; i < 128 * 1024; ++i) {
    assertFalse(IncreasingBitSet.has(i));
    assertTrue(IncreasingBitSet.add(i));
    assertTrue(IncreasingBitSet.has(i));
    assertTrue(IncreasingBitSet.size() <= 512 * 1024);
  }
  assertEquals(256 * 1024L,IncreasingBitSet.cardinality());
  assertEquals(256 * 1024L,IncreasingBitSet.getLastBaseKey());
}

</code></pre>

<br>
<pre class="type-14 type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void add256kIntegersAlternate(){
  IncreasingBitSet IncreasingBitSet=new IncreasingBitSet();
  for (int i=0; i < 256 * 1024; i+=2) {
    assertFalse(IncreasingBitSet.has(i));
    assertTrue(IncreasingBitSet.add(i));
    assertTrue(IncreasingBitSet.has(i));
    assertFalse(IncreasingBitSet.has(i + 1));
    assertTrue(IncreasingBitSet.size() <= 256 * 1024);
  }
  assertEquals(128 * 1024L,IncreasingBitSet.cardinality());
  for (int i=1; i < 256 * 1024; i+=2) {
    assertFalse(IncreasingBitSet.has(i));
    assertTrue(IncreasingBitSet.add(i));
    assertTrue(IncreasingBitSet.has(i));
    assertTrue(IncreasingBitSet.has(i - 1));
    assertTrue(IncreasingBitSet.size() <= 256 * 1024);
  }
  assertEquals(256 * 1024L,IncreasingBitSet.cardinality());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.comm.RequestTest </h4><pre class="type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void sendVertexPartition() throws IOException {
  int partitionId=13;
  Partition<IntWritable,IntWritable,IntWritable> partition=conf.createPartition(partitionId,null);
  for (int i=0; i < 10; ++i) {
    Vertex vertex=conf.createVertex();
    vertex.initialize(new IntWritable(i),new IntWritable(i));
    partition.putVertex(vertex);
  }
  SendVertexRequest<IntWritable,IntWritable,IntWritable> request=new SendVertexRequest<IntWritable,IntWritable,IntWritable>(partition);
  client.sendWritableRequest(workerInfo.getTaskId(),request);
  client.waitAllRequests();
  client.stop();
  server.stop();
  PartitionStore<IntWritable,IntWritable,IntWritable> partitionStore=serverData.getPartitionStore();
  assertTrue(partitionStore.hasPartition(partitionId));
  int total=0;
  Partition<IntWritable,IntWritable,IntWritable> partition2=partitionStore.removePartition(partitionId);
  for (  Vertex<IntWritable,IntWritable,IntWritable> vertex : partition2) {
    total+=vertex.getId().get();
  }
  partitionStore.putPartition(partition2);
  assertEquals(total,45);
  partitionStore.shutdown();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.comm.messages.TestIntFloatPrimitiveMessageStores </h4><pre class="type-3 type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIntByteArrayMessageStore() throws IOException {
  IntByteArrayMessageStore<FloatWritable> messageStore=new IntByteArrayMessageStore<FloatWritable>(new TestMessageValueFactory<FloatWritable>(FloatWritable.class),service,conf);
  insertIntFloatMessages(messageStore);
  Iterable<FloatWritable> m0=messageStore.getVertexMessages(new IntWritable(0));
  Assert.assertEquals(3,Iterables.size(m0));
  Iterator<FloatWritable> i0=m0.iterator();
  Assert.assertEquals((float)1.0,i0.next().get());
  Assert.assertEquals((float)4.0,i0.next().get());
  Assert.assertEquals((float)5.0,i0.next().get());
  Iterable<FloatWritable> m1=messageStore.getVertexMessages(new IntWritable(1));
  Assert.assertEquals(3,Iterables.size(m1));
  Iterator<FloatWritable> i1=m1.iterator();
  Assert.assertEquals((float)1.0,i1.next().get());
  Assert.assertEquals((float)3.0,i1.next().get());
  Assert.assertEquals((float)4.0,i1.next().get());
  Iterable<FloatWritable> m2=messageStore.getVertexMessages(new IntWritable(2));
  Assert.assertEquals(1,Iterables.size(m2));
  Assert.assertEquals((float)3.0,m2.iterator().next().get());
  Assert.assertTrue(Iterables.isEmpty(messageStore.getVertexMessages(new IntWritable(3))));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIntFloatMessageStore() throws IOException {
  IntFloatMessageStore messageStore=new IntFloatMessageStore(service,new FloatSumMessageCombiner());
  insertIntFloatMessages(messageStore);
  Iterable<FloatWritable> m0=messageStore.getVertexMessages(new IntWritable(0));
  Assert.assertEquals(1,Iterables.size(m0));
  Assert.assertEquals((float)10.0,m0.iterator().next().get());
  Iterable<FloatWritable> m1=messageStore.getVertexMessages(new IntWritable(1));
  Assert.assertEquals(1,Iterables.size(m1));
  Assert.assertEquals((float)8.0,m1.iterator().next().get());
  Iterable<FloatWritable> m2=messageStore.getVertexMessages(new IntWritable(2));
  Assert.assertEquals(1,Iterables.size(m2));
  Assert.assertEquals((float)3.0,m2.iterator().next().get());
  Assert.assertTrue(Iterables.isEmpty(messageStore.getVertexMessages(new IntWritable(3))));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.comm.messages.TestLongDoublePrimitiveMessageStores </h4><pre class="type-3 type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLongByteArrayMessageStore() throws IOException {
  LongByteArrayMessageStore<DoubleWritable> messageStore=new LongByteArrayMessageStore<DoubleWritable>(new TestMessageValueFactory<DoubleWritable>(DoubleWritable.class),service,createLongDoubleConf());
  insertLongDoubleMessages(messageStore);
  Iterable<DoubleWritable> m0=messageStore.getVertexMessages(new LongWritable(0));
  Assert.assertEquals(3,Iterables.size(m0));
  Iterator<DoubleWritable> i0=m0.iterator();
  Assert.assertEquals(1.0,i0.next().get());
  Assert.assertEquals(4.0,i0.next().get());
  Assert.assertEquals(5.0,i0.next().get());
  Iterable<DoubleWritable> m1=messageStore.getVertexMessages(new LongWritable(1));
  Assert.assertEquals(3,Iterables.size(m1));
  Iterator<DoubleWritable> i1=m1.iterator();
  Assert.assertEquals(1.0,i1.next().get());
  Assert.assertEquals(3.0,i1.next().get());
  Assert.assertEquals(4.0,i1.next().get());
  Iterable<DoubleWritable> m2=messageStore.getVertexMessages(new LongWritable(2));
  Assert.assertEquals(1,Iterables.size(m2));
  Assert.assertEquals(3.0,m2.iterator().next().get());
  Assert.assertTrue(Iterables.isEmpty(messageStore.getVertexMessages(new LongWritable(3))));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLongDoubleMessageStore() throws IOException {
  LongDoubleMessageStore messageStore=new LongDoubleMessageStore(service,new DoubleSumMessageCombiner());
  insertLongDoubleMessages(messageStore);
  Iterable<DoubleWritable> m0=messageStore.getVertexMessages(new LongWritable(0));
  Assert.assertEquals(1,Iterables.size(m0));
  Assert.assertEquals(10.0,m0.iterator().next().get());
  Iterable<DoubleWritable> m1=messageStore.getVertexMessages(new LongWritable(1));
  Assert.assertEquals(1,Iterables.size(m1));
  Assert.assertEquals(8.0,m1.iterator().next().get());
  Iterable<DoubleWritable> m2=messageStore.getVertexMessages(new LongWritable(2));
  Assert.assertEquals(1,Iterables.size(m2));
  Assert.assertEquals(3.0,m2.iterator().next().get());
  Assert.assertTrue(Iterables.isEmpty(messageStore.getVertexMessages(new LongWritable(3))));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.edge.LongDiffNullArrayEdgesTest </h4><pre class="type-3 type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSerialization() throws IOException {
  LongDiffNullArrayEdges edges=getEdges();
  edges.initialize();
  for (int i=0; i < 10; ++i) {
    edges.add(createEdge(i));
  }
  edges.trim();
  Iterator<MutableEdge<LongWritable,NullWritable>> edgeIt=edges.mutableIterator();
  while (edgeIt.hasNext()) {
    if (edgeIt.next().getTargetVertexId().get() % 2 == 0) {
      edgeIt.remove();
    }
  }
  assertEdges(edges,1,3,5,7,9);
  ByteArrayOutputStream arrayStream=new ByteArrayOutputStream();
  DataOutputStream tempBuffer=new DataOutputStream(arrayStream);
  edges.write(tempBuffer);
  byte[] binary=arrayStream.toByteArray();
  assertTrue("Serialized version should not be empty ",binary.length > 0);
  edges=getEdges();
  edges.readFields(new UnsafeByteArrayInputStream(binary));
  assertEquals(5,edges.size());
  for (  Edge<LongWritable,NullWritable> edge : edges) {
    assertEquals(1,edge.getTargetVertexId().get() % 2);
  }
}

</code></pre>

<br>
<pre class="type-3 type-14 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testEdgeValues(){
  LongDiffNullArrayEdges edges=getEdges();
  Set<Long> testValues=new HashSet<Long>();
  testValues.add(0L);
  testValues.add((long)Integer.MAX_VALUE);
  testValues.add(Long.MAX_VALUE);
  List<Edge<LongWritable,NullWritable>> initialEdges=new ArrayList<Edge<LongWritable,NullWritable>>();
  for (  Long id : testValues) {
    initialEdges.add(createEdge(id));
  }
  edges.initialize(initialEdges);
  edges.trim();
  Iterator<MutableEdge<LongWritable,NullWritable>> edgeIt=edges.mutableIterator();
  while (edgeIt.hasNext()) {
    long value=edgeIt.next().getTargetVertexId().get();
    assertTrue("Unknown edge found " + value,testValues.remove(value));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.examples.ConnectedComponentsComputationTest </h4><pre class="type-3 type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * A local integration test on toy data
 */
@Test public void testToyData() throws Exception {
  String[] graph=new String[]{"1 2 3","2 1 4 5","3 1 4","4 2 3 5 13","5 2 4 12 13","12 5 13","13 4 5 12","6 7 8","7 6 10 11","8 6 10","10 7 8 11","11 7 10","9"};
  GiraphConfiguration conf=new GiraphConfiguration();
  conf.setComputationClass(ConnectedComponentsComputation.class);
  conf.setOutEdgesClass(ByteArrayEdges.class);
  conf.setMessageCombinerClass(MinimumIntMessageCombiner.class);
  conf.setVertexInputFormatClass(IntIntNullTextInputFormat.class);
  conf.setVertexOutputFormatClass(IdWithValueTextOutputFormat.class);
  Iterable<String> results=InternalVertexRunner.run(conf,graph);
  SetMultimap<Integer,Integer> components=parseResults(results);
  Set<Integer> componentIDs=components.keySet();
  assertEquals(3,componentIDs.size());
  assertTrue(componentIDs.contains(1));
  assertTrue(componentIDs.contains(6));
  assertTrue(componentIDs.contains(9));
  Set<Integer> componentOne=components.get(1);
  assertEquals(7,componentOne.size());
  assertTrue(componentOne.contains(1));
  assertTrue(componentOne.contains(2));
  assertTrue(componentOne.contains(3));
  assertTrue(componentOne.contains(4));
  assertTrue(componentOne.contains(5));
  assertTrue(componentOne.contains(12));
  assertTrue(componentOne.contains(13));
  Set<Integer> componentTwo=components.get(6);
  assertEquals(5,componentTwo.size());
  assertTrue(componentTwo.contains(6));
  assertTrue(componentTwo.contains(7));
  assertTrue(componentTwo.contains(8));
  assertTrue(componentTwo.contains(10));
  assertTrue(componentTwo.contains(11));
  Set<Integer> componentThree=components.get(9);
  assertEquals(1,componentThree.size());
  assertTrue(componentThree.contains(9));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.examples.ConnectedComponentsComputationTestInMemory </h4><pre class="type-3 type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * A local integration test on toy data
 */
@Test public void testToyData() throws Exception {
  GiraphConfiguration conf=new GiraphConfiguration();
  conf.setComputationClass(ConnectedComponentsComputation.class);
  conf.setOutEdgesClass(ByteArrayEdges.class);
  conf.setMessageCombinerClass(MinimumIntMessageCombiner.class);
  TestGraph<IntWritable,IntWritable,NullWritable> graph=new TestGraph<IntWritable,IntWritable,NullWritable>(conf);
  graph.addVertex(new IntWritable(1),new IntWritable(1),makeEdges(2,3)).addVertex(new IntWritable(2),new IntWritable(2),makeEdges(1,4,5)).addVertex(new IntWritable(3),new IntWritable(3),makeEdges(1,4)).addVertex(new IntWritable(4),new IntWritable(4),makeEdges(2,3,5,13)).addVertex(new IntWritable(5),new IntWritable(5),makeEdges(2,4,12,13)).addVertex(new IntWritable(12),new IntWritable(12),makeEdges(5,13)).addVertex(new IntWritable(13),new IntWritable(13),makeEdges(4,5,12)).addVertex(new IntWritable(6),new IntWritable(6),makeEdges(7,8)).addVertex(new IntWritable(7),new IntWritable(7),makeEdges(6,10,11)).addVertex(new IntWritable(8),new IntWritable(8),makeEdges(6,10)).addVertex(new IntWritable(10),new IntWritable(10),makeEdges(7,8,11)).addVertex(new IntWritable(11),new IntWritable(11),makeEdges(7,10)).addVertex(new IntWritable(9),new IntWritable(9));
  TestGraph<IntWritable,IntWritable,NullWritable> results=InternalVertexRunner.runWithInMemoryOutput(conf,graph);
  SetMultimap<Integer,Integer> components=parseResults(results);
  Set<Integer> componentIDs=components.keySet();
  assertEquals(3,componentIDs.size());
  assertTrue(componentIDs.contains(1));
  assertTrue(componentIDs.contains(6));
  assertTrue(componentIDs.contains(9));
  Set<Integer> componentOne=components.get(1);
  assertEquals(7,componentOne.size());
  assertTrue(componentOne.contains(1));
  assertTrue(componentOne.contains(2));
  assertTrue(componentOne.contains(3));
  assertTrue(componentOne.contains(4));
  assertTrue(componentOne.contains(5));
  assertTrue(componentOne.contains(12));
  assertTrue(componentOne.contains(13));
  Set<Integer> componentTwo=components.get(6);
  assertEquals(5,componentTwo.size());
  assertTrue(componentTwo.contains(6));
  assertTrue(componentTwo.contains(7));
  assertTrue(componentTwo.contains(8));
  assertTrue(componentTwo.contains(10));
  assertTrue(componentTwo.contains(11));
  Set<Integer> componentThree=components.get(9);
  assertEquals(1,componentThree.size());
  assertTrue(componentThree.contains(9));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.examples.SimpleShortestPathsComputationTest </h4><pre class="type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test the behavior when a new, but not shorter path to a vertex has been
 * found.
 */
@Test public void testOnNoShorterPathFound() throws Exception {
  Vertex<LongWritable,DoubleWritable,FloatWritable> vertex=new DefaultVertex<LongWritable,DoubleWritable,FloatWritable>();
  SimpleShortestPathsComputation computation=new SimpleShortestPathsComputation();
  MockUtils.MockedEnvironment<LongWritable,DoubleWritable,FloatWritable,DoubleWritable> env=MockUtils.prepareVertexAndComputation(vertex,new LongWritable(7L),new DoubleWritable(0.5),false,computation,1L);
  Mockito.when(SOURCE_ID.get(env.getConfiguration())).thenReturn(2L);
  vertex.addEdge(EdgeFactory.create(new LongWritable(10L),new FloatWritable(2.5f)));
  vertex.addEdge(EdgeFactory.create(new LongWritable(20L),new FloatWritable(0.5f)));
  computation.compute(vertex,Lists.newArrayList(new DoubleWritable(2),new DoubleWritable(1.5)));
  assertTrue(vertex.isHalted());
  assertEquals(0.5d,vertex.getValue().get(),0d);
  env.verifyNoMessageSent();
}

</code></pre>

<br>
<pre class="type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test the behavior when a shorter path to a vertex has been found
 */
@Test public void testOnShorterPathFound() throws Exception {
  Vertex<LongWritable,DoubleWritable,FloatWritable> vertex=new DefaultVertex<LongWritable,DoubleWritable,FloatWritable>();
  SimpleShortestPathsComputation computation=new SimpleShortestPathsComputation();
  MockUtils.MockedEnvironment<LongWritable,DoubleWritable,FloatWritable,DoubleWritable> env=MockUtils.prepareVertexAndComputation(vertex,new LongWritable(7L),new DoubleWritable(Double.MAX_VALUE),false,computation,1L);
  Mockito.when(SOURCE_ID.get(env.getConfiguration())).thenReturn(2L);
  vertex.addEdge(EdgeFactory.create(new LongWritable(10L),new FloatWritable(2.5f)));
  vertex.addEdge(EdgeFactory.create(new LongWritable(20L),new FloatWritable(0.5f)));
  computation.compute(vertex,Lists.newArrayList(new DoubleWritable(2),new DoubleWritable(1.5)));
  assertTrue(vertex.isHalted());
  assertEquals(1.5d,vertex.getValue().get(),0d);
  env.verifyMessageSent(new LongWritable(10L),new DoubleWritable(4));
  env.verifyMessageSent(new LongWritable(20L),new DoubleWritable(2));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.examples.TryMultiIpcBindingPortsTest </h4><pre class="type-3 type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * A local integration test on toy data
 */
@Test public void testToyData() throws Exception {
  String[] graph=new String[]{"1 2 3","2 1 4 5","3 1 4","4 2 3 5 13","5 2 4 12 13","12 5 13","13 4 5 12","6 7 8","7 6 10 11","8 6 10","10 7 8 11","11 7 10","9"};
  GiraphConfiguration conf=new GiraphConfiguration();
  GiraphConstants.FAIL_FIRST_IPC_PORT_BIND_ATTEMPT.set(conf,true);
  conf.setComputationClass(ConnectedComponentsComputation.class);
  conf.setOutEdgesClass(ByteArrayEdges.class);
  conf.setMessageCombinerClass(MinimumIntMessageCombiner.class);
  conf.setVertexInputFormatClass(IntIntNullTextInputFormat.class);
  conf.setVertexOutputFormatClass(IdWithValueTextOutputFormat.class);
  Iterable<String> results=InternalVertexRunner.run(conf,graph);
  SetMultimap<Integer,Integer> components=parseResults(results);
  Set<Integer> componentIDs=components.keySet();
  assertEquals(3,componentIDs.size());
  assertTrue(componentIDs.contains(1));
  assertTrue(componentIDs.contains(6));
  assertTrue(componentIDs.contains(9));
  Set<Integer> componentOne=components.get(1);
  assertEquals(7,componentOne.size());
  assertTrue(componentOne.contains(1));
  assertTrue(componentOne.contains(2));
  assertTrue(componentOne.contains(3));
  assertTrue(componentOne.contains(4));
  assertTrue(componentOne.contains(5));
  assertTrue(componentOne.contains(12));
  assertTrue(componentOne.contains(13));
  Set<Integer> componentTwo=components.get(6);
  assertEquals(5,componentTwo.size());
  assertTrue(componentTwo.contains(6));
  assertTrue(componentTwo.contains(7));
  assertTrue(componentTwo.contains(8));
  assertTrue(componentTwo.contains(10));
  assertTrue(componentTwo.contains(11));
  Set<Integer> componentThree=components.get(9);
  assertEquals(1,componentThree.size());
  assertTrue(componentThree.contains(9));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.examples.block_app.TestMigrationBspBasic </h4><pre class="type-3 type-12 type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Run a sample BSP job locally and test using migration
 * library for Blocks Framework, as an drop-in replacement.
 */
@Test public void testBspMigrationToBlocksFramework() throws Exception {
  GiraphConfiguration conf=new GiraphConfiguration();
  conf.setVertexInputFormatClass(SimplePageRankVertexInputFormat.class);
  BlockUtils.setAndInitBlockFactoryClass(conf,SimpleMigrationMasterBlockFactory.class);
  GiraphJob job=prepareJob(getCallingMethodName(),conf);
  assertTrue(job.run(true));
  if (!runningInDistributedMode()) {
    double finalSum=SimpleMigrationMasterBlockFactory.SimpleMigrationMasterWorkerContext.getFinalSum();
    System.out.println("testBspMasterCompute: finalSum=" + finalSum);
    assertEquals(32.5,finalSum,0d);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.graph.TestByteValueVertex </h4><pre class="type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCachedValue(){
  ByteValueVertex<LongWritable,FloatWritable,DoubleWritable> byteValueVertex=(ByteValueVertex<LongWritable,FloatWritable,DoubleWritable>)instantiateVertex(ArrayListEdges.class);
  FloatWritable origValue=new FloatWritable(492.2f);
  byteValueVertex.setValue(origValue);
  assertEquals(492.2f,byteValueVertex.getValue().get(),0.0f);
  FloatWritable gotValue=byteValueVertex.getValue();
  gotValue.set(33.3f);
  assertEquals(33.3f,byteValueVertex.getValue().get(),0.0f);
  FloatWritable newValue=new FloatWritable(99.9f);
  byteValueVertex.setValue(newValue);
  assertEquals(99.9f,byteValueVertex.getValue().get(),0.0f);
  assertTrue(newValue == byteValueVertex.getValue());
  byteValueVertex.unwrapMutableEdges();
  assertFalse(newValue == byteValueVertex.getValue());
  assertEquals(99.9f,byteValueVertex.getValue().get(),0.0f);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.io.TestCreateSourceVertex </h4><pre class="type-3 type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNegativeCreateSourceVertex() throws Exception {
  String[] vertices=new String[]{"1 0","2 0","3 0","4 0"};
  String[] edges=new String[]{"1 2","1 5","2 4","2 1","3 4","4 1","4 5","6 2","7 8","4 8"};
  GiraphConfiguration conf=getConf();
  Iterable<String> results=InternalVertexRunner.run(conf,vertices,edges);
  Map<Integer,Integer> values=parseResults(results);
  assertEquals(6,values.size());
  assertTrue(values.containsKey(1));
  assertTrue(values.containsKey(2));
  assertTrue(values.containsKey(3));
  assertTrue(values.containsKey(4));
  assertTrue(values.containsKey(6));
  assertTrue(values.containsKey(7));
  conf.setComputationClass(ComputationCountEdges.class);
  results=InternalVertexRunner.run(conf,vertices,edges);
  values=parseResults(results);
  assertEquals(2,(int)values.get(1));
  assertEquals(2,(int)values.get(2));
  assertEquals(1,(int)values.get(3));
  assertEquals(3,(int)values.get(4));
  assertEquals(1,(int)values.get(6));
  assertEquals(1,(int)values.get(7));
}

</code></pre>

<br>
<pre class="type-3 type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPositiveCreateSourceVertex() throws Exception {
  String[] vertices=new String[]{"1 0","2 0","3 0","4 0"};
  String[] edges=new String[]{"1 2","1 5","2 4","2 1","3 4","4 1","4 5","6 2","7 8","4 8"};
  GiraphConfiguration conf=getConf();
  conf.setCreateSourceVertex(false);
  Iterable<String> results=InternalVertexRunner.run(conf,vertices,edges);
  Map<Integer,Integer> values=parseResults(results);
  assertEquals(4,values.size());
  assertTrue(values.containsKey(1));
  assertTrue(values.containsKey(2));
  assertTrue(values.containsKey(3));
  assertTrue(values.containsKey(4));
  conf.setComputationClass(ComputationCountEdges.class);
  results=InternalVertexRunner.run(conf,vertices,edges);
  values=parseResults(results);
  assertEquals(2,(int)values.get(1));
  assertEquals(2,(int)values.get(2));
  assertEquals(1,(int)values.get(3));
  assertEquals(3,(int)values.get(4));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.io.TestJsonBase64Format </h4><pre class="type-3 type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Start a job and finish after i supersteps, then begin a new job and
 * continue on more j supersteps.  Check the results against a single job
 * with i + j supersteps.
 * @throws IOException
 * @throws ClassNotFoundException
 * @throws InterruptedException
 */
@Test public void testContinue() throws IOException, InterruptedException, ClassNotFoundException {
  Path outputPath=getTempPath(getCallingMethodName());
  GiraphConfiguration conf=new GiraphConfiguration();
  conf.setComputationClass(WeightedPageRankComputation.class);
  conf.setVertexInputFormatClass(PseudoRandomVertexInputFormat.class);
  conf.setVertexOutputFormatClass(JsonBase64VertexOutputFormat.class);
  GiraphJob job=prepareJob(getCallingMethodName(),conf,outputPath);
  job.getConfiguration().setLong(PseudoRandomInputFormatConstants.AGGREGATE_VERTICES,101);
  job.getConfiguration().setLong(PseudoRandomInputFormatConstants.EDGES_PER_VERTEX,2);
  job.getConfiguration().setInt(WeightedPageRankComputation.SUPERSTEP_COUNT,2);
  assertTrue(job.run(true));
  Path outputPath2=getTempPath(getCallingMethodName() + "2");
  conf=new GiraphConfiguration();
  conf.setComputationClass(WeightedPageRankComputation.class);
  conf.setVertexInputFormatClass(JsonBase64VertexInputFormat.class);
  conf.setVertexOutputFormatClass(JsonBase64VertexOutputFormat.class);
  job=prepareJob(getCallingMethodName(),conf,outputPath2);
  job.getConfiguration().setInt(WeightedPageRankComputation.SUPERSTEP_COUNT,3);
  GiraphFileInputFormat.addVertexInputPath(job.getInternalJob().getConfiguration(),outputPath);
  assertTrue(job.run(true));
  Path outputPath3=getTempPath(getCallingMethodName() + "3");
  conf=new GiraphConfiguration();
  conf.setComputationClass(WeightedPageRankComputation.class);
  conf.setVertexInputFormatClass(PseudoRandomVertexInputFormat.class);
  conf.setVertexOutputFormatClass(JsonBase64VertexOutputFormat.class);
  job=prepareJob(getCallingMethodName(),conf,outputPath3);
  conf=job.getConfiguration();
  conf.setLong(PseudoRandomInputFormatConstants.AGGREGATE_VERTICES,101);
  conf.setLong(PseudoRandomInputFormatConstants.EDGES_PER_VERTEX,2);
  conf.setInt(WeightedPageRankComputation.SUPERSTEP_COUNT,5);
  assertTrue(job.run(true));
  assertEquals(101,getNumResults(conf,outputPath));
  assertEquals(101,getNumResults(conf,outputPath2));
  assertEquals(101,getNumResults(conf,outputPath3));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.io.TestLongDoubleDoubleAdjacencyListVertexInputFormat </h4><pre class="type-3 type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHappyPath() throws Exception {
  String input="42\t0.1\t99\t0.2\t2000\t0.3\t4000\t0.4";
  when(rr.getCurrentValue()).thenReturn(new Text(input));
  TextVertexReader vr=createVertexReader(rr);
  vr.setConf(conf);
  vr.initialize(null,tac);
  assertTrue("Should have been able to read vertex",vr.nextVertex());
  Vertex<LongWritable,DoubleWritable,DoubleWritable> vertex=vr.getCurrentVertex();
  assertValidVertex(conf,vertex,new LongWritable(42),new DoubleWritable(0.1),EdgeFactory.create(new LongWritable(99),new DoubleWritable(0.2)),EdgeFactory.create(new LongWritable(2000),new DoubleWritable(0.3)),EdgeFactory.create(new LongWritable(4000),new DoubleWritable(0.4)));
  assertEquals(vertex.getNumEdges(),3);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEdgesMustHaveValues() throws IOException, InterruptedException {
  String input="99\t55.2\t100";
  when(rr.getCurrentValue()).thenReturn(new Text(input));
  TextVertexReader vr=createVertexReader(rr);
  vr.setConf(conf);
  vr.initialize(null,tac);
  try {
    vr.nextVertex();
    vr.getCurrentVertex();
    fail("Should have thrown an IllegalArgumentException");
  }
 catch (  IllegalArgumentException iae) {
    assertTrue(iae.getMessage().startsWith("Line did not split correctly: "));
  }
}

</code></pre>

<br>
<pre class="type-9 type-5 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIndexMustHaveValue() throws IOException, InterruptedException {
  String input="123";
  when(rr.getCurrentValue()).thenReturn(new Text(input));
  TextVertexReader vr=createVertexReader(rr);
  vr.setConf(conf);
  vr.initialize(null,tac);
  try {
    vr.nextVertex();
    vr.getCurrentVertex();
    fail("Should have thrown an IllegalArgumentException");
  }
 catch (  IllegalArgumentException iae) {
    assertTrue(iae.getMessage().startsWith("Line did not split correctly: "));
  }
}

</code></pre>

<br>
<pre class="type-3 type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDifferentSeparators() throws Exception {
  String input="12345:42.42:9999999:99.9";
  when(rr.getCurrentValue()).thenReturn(new Text(input));
  conf.set(AdjacencyListTextVertexInputFormat.LINE_TOKENIZE_VALUE,":");
  TextVertexReader vr=createVertexReader(rr);
  vr.setConf(conf);
  vr.initialize(null,tac);
  assertTrue("Should have been able to read vertex",vr.nextVertex());
  Vertex<LongWritable,DoubleWritable,DoubleWritable> vertex=vr.getCurrentVertex();
  assertValidVertex(conf,vertex,new LongWritable(12345),new DoubleWritable(42.42),EdgeFactory.create(new LongWritable(9999999),new DoubleWritable(99.9)));
  assertEquals(vertex.getNumEdges(),1);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.io.TestTextDoubleDoubleAdjacencyListVertexInputFormat </h4><pre class="type-9 type-5 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEdgesMustHaveValues() throws IOException, InterruptedException {
  String input="index\t55.66\tindex2";
  when(rr.getCurrentValue()).thenReturn(new Text(input));
  TextVertexReader vr=createVertexReader(rr);
  vr.setConf(conf);
  vr.initialize(null,tac);
  try {
    vr.nextVertex();
    vr.getCurrentVertex();
    fail("Should have thrown an IllegalArgumentException");
  }
 catch (  IllegalArgumentException iae) {
    assertTrue(iae.getMessage().startsWith("Line did not split correctly: "));
  }
}

</code></pre>

<br>
<pre class="type-3 type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHappyPath() throws Exception {
  String input="Hi\t0\tCiao\t1.123\tBomdia\t2.234\tOla\t3.345";
  when(rr.getCurrentValue()).thenReturn(new Text(input));
  TextVertexReader vr=createVertexReader(rr);
  vr.setConf(conf);
  vr.initialize(null,tac);
  assertTrue("Should have been able to add a vertex",vr.nextVertex());
  Vertex<Text,DoubleWritable,DoubleWritable> vertex=vr.getCurrentVertex();
  assertValidVertex(conf,vertex,new Text("Hi"),new DoubleWritable(0),EdgeFactory.create(new Text("Ciao"),new DoubleWritable(1.123d)),EdgeFactory.create(new Text("Bomdia"),new DoubleWritable(2.234d)),EdgeFactory.create(new Text("Ola"),new DoubleWritable(3.345d)));
  assertEquals(vertex.getNumEdges(),3);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIndexMustHaveValue() throws IOException, InterruptedException {
  String input="hi";
  when(rr.getCurrentValue()).thenReturn(new Text(input));
  TextVertexReader vr=createVertexReader(rr);
  vr.setConf(conf);
  vr.initialize(null,tac);
  try {
    vr.nextVertex();
    vr.getCurrentVertex();
    fail("Should have thrown an IllegalArgumentException");
  }
 catch (  IllegalArgumentException iae) {
    assertTrue(iae.getMessage().startsWith("Line did not split correctly: "));
  }
}

</code></pre>

<br>
<pre class="type-3 type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDifferentSeparators() throws Exception {
  String input="alpha:42:beta:99";
  when(rr.getCurrentValue()).thenReturn(new Text(input));
  conf.set(AdjacencyListTextVertexInputFormat.LINE_TOKENIZE_VALUE,":");
  TextVertexReader vr=createVertexReader(rr);
  vr.setConf(conf);
  vr.initialize(null,tac);
  assertTrue("Should have been able to read vertex",vr.nextVertex());
  Vertex<Text,DoubleWritable,DoubleWritable> vertex=vr.getCurrentVertex();
  assertValidVertex(conf,vertex,new Text("alpha"),new DoubleWritable(42d),EdgeFactory.create(new Text("beta"),new DoubleWritable(99d)));
  assertEquals(vertex.getNumEdges(),1);
}

</code></pre>

<br>
<pre class="type-3 type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLineSanitizer() throws Exception {
  String input="Bye\t0.01\tCiao\t1.001\tTchau\t2.0001\tAdios\t3.00001";
  AdjacencyListTextVertexInputFormat.LineSanitizer toUpper=new AdjacencyListTextVertexInputFormat.LineSanitizer(){
    @Override public String sanitize(    String s){
      return s.toUpperCase();
    }
  }
;
  when(rr.getCurrentValue()).thenReturn(new Text(input));
  TextVertexReader vr=createVertexReader(rr,toUpper);
  vr.setConf(conf);
  vr.initialize(null,tac);
  assertTrue("Should have been able to read vertex",vr.nextVertex());
  Vertex<Text,DoubleWritable,DoubleWritable> vertex=vr.getCurrentVertex();
  assertValidVertex(conf,vertex,new Text("BYE"),new DoubleWritable(0.01d),EdgeFactory.create(new Text("CIAO"),new DoubleWritable(1.001d)),EdgeFactory.create(new Text("TCHAU"),new DoubleWritable(2.0001d)),EdgeFactory.create(new Text("ADIOS"),new DoubleWritable(3.00001d)));
  assertEquals(vertex.getNumEdges(),3);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.io.accumulo.TestAccumuloVertexFormat </h4><pre class="type-3 type-12 type-9 type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAccumuloInputOutput() throws Exception {
  if (System.getProperty("prop.mapred.job.tracker") != null) {
    if (log.isInfoEnabled())     log.info("testAccumuloInputOutput: " + "Ignore this test if not local mode.");
    return;
  }
  File jarTest=new File(System.getProperty("prop.jarLocation"));
  if (!jarTest.exists()) {
    fail("Could not find Giraph jar at " + "location specified by 'prop.jarLocation'. " + "Make sure you built the main Giraph artifact?.");
  }
  MockInstance mockInstance=new MockInstance(INSTANCE_NAME);
  Connector c=mockInstance.getConnector("root",new byte[]{});
  c.tableOperations().create(TABLE_NAME);
  BatchWriter bw=c.createBatchWriter(TABLE_NAME,10000L,1000L,4);
  Mutation m1=new Mutation(new Text("0001"));
  m1.put(FAMILY,CHILDREN,new Value("0002".getBytes()));
  bw.addMutation(m1);
  Mutation m2=new Mutation(new Text("0002"));
  m2.put(FAMILY,CHILDREN,new Value("0003".getBytes()));
  bw.addMutation(m2);
  if (log.isInfoEnabled())   log.info("Writing mutations to Accumulo table");
  bw.close();
  Configuration conf=new Configuration();
  conf.set(AccumuloVertexOutputFormat.OUTPUT_TABLE,TABLE_NAME);
  AccumuloInputFormat.setInputInfo(conf,USER,"".getBytes(),TABLE_NAME,new Authorizations());
  AccumuloInputFormat.setMockInstance(conf,INSTANCE_NAME);
  AccumuloOutputFormat.setOutputInfo(conf,USER,PASSWORD,true,null);
  AccumuloOutputFormat.setMockInstance(conf,INSTANCE_NAME);
  GiraphJob job=new GiraphJob(conf,getCallingMethodName());
  setupConfiguration(job);
  GiraphConfiguration giraphConf=job.getConfiguration();
  giraphConf.setComputationClass(EdgeNotification.class);
  giraphConf.setVertexInputFormatClass(AccumuloEdgeInputFormat.class);
  giraphConf.setVertexOutputFormatClass(AccumuloEdgeOutputFormat.class);
  HashSet<Pair<Text,Text>> columnsToFetch=new HashSet<Pair<Text,Text>>();
  columnsToFetch.add(new Pair<Text,Text>(FAMILY,CHILDREN));
  AccumuloInputFormat.fetchColumns(job.getConfiguration(),columnsToFetch);
  if (log.isInfoEnabled())   log.info("Running edge notification job using Accumulo input");
  assertTrue(job.run(true));
  Scanner scanner=c.createScanner(TABLE_NAME,new Authorizations());
  scanner.setRange(new Range("0002","0002"));
  scanner.fetchColumn(FAMILY,OUTPUT_FIELD);
  boolean foundColumn=false;
  if (log.isInfoEnabled())   log.info("Verify job output persisted correctly.");
  assertTrue(scanner.iterator().hasNext());
  for (  Map.Entry<Key,Value> entry : scanner) {
    Text row=entry.getKey().getRow();
    assertEquals("0002",row.toString());
    Value value=entry.getValue();
    assertEquals("0001",ByteBufferUtil.toString(ByteBuffer.wrap(value.get())));
    foundColumn=true;
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.io.gora.TestGoraEdgeInputFormat </h4><pre class="type-3 type-4 type-5 type-13 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getEmptyDb() throws Exception {
  Iterable<String> results;
  Iterator<String> result;
  GiraphConfiguration conf=new GiraphConfiguration();
  GIRAPH_GORA_DATASTORE_CLASS.set(conf,"org.apache.gora.memory.store.MemStore");
  GIRAPH_GORA_KEYS_FACTORY_CLASS.set(conf,"org.apache.giraph.io.gora.utils.DefaultKeyFactory");
  GIRAPH_GORA_KEY_CLASS.set(conf,"java.lang.String");
  GIRAPH_GORA_PERSISTENT_CLASS.set(conf,"org.apache.giraph.io.gora.generated.GEdge");
  GIRAPH_GORA_START_KEY.set(conf,"1");
  GIRAPH_GORA_END_KEY.set(conf,"3");
  conf.set("io.serializations","org.apache.hadoop.io.serializer.JavaSerialization," + "org.apache.hadoop.io.serializer.WritableSerialization");
  conf.setComputationClass(EmptyComputation.class);
  conf.setEdgeInputFormatClass(GoraGEdgeEdgeInputFormat.class);
  results=InternalVertexRunner.run(conf,new String[0],new String[0]);
  Assert.assertNotNull(results);
  result=results.iterator();
  Assert.assertFalse(result.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.io.gora.TestGoraVertexInputFormat </h4><pre class="type-3 type-4 type-5 type-13 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getEmptyDb() throws Exception {
  Iterable<String> results;
  Iterator<String> result;
  GiraphConfiguration conf=new GiraphConfiguration();
  GIRAPH_GORA_DATASTORE_CLASS.set(conf,"org.apache.gora.memory.store.MemStore");
  GIRAPH_GORA_KEYS_FACTORY_CLASS.set(conf,"org.apache.giraph.io.gora.utils.DefaultKeyFactory");
  GIRAPH_GORA_KEY_CLASS.set(conf,"java.lang.String");
  GIRAPH_GORA_PERSISTENT_CLASS.set(conf,"org.apache.giraph.io.gora.generated.GVertex");
  GIRAPH_GORA_START_KEY.set(conf,"1");
  GIRAPH_GORA_END_KEY.set(conf,"10");
  conf.set("io.serializations","org.apache.hadoop.io.serializer.WritableSerialization," + "org.apache.hadoop.io.serializer.JavaSerialization");
  conf.setComputationClass(EmptyComputation.class);
  conf.setVertexInputFormatClass(GoraTestVertexInputFormat.class);
  results=InternalVertexRunner.run(conf,new String[0],new String[0]);
  Assert.assertNotNull(results);
  result=results.iterator();
  Assert.assertFalse(result.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.io.hbase.TestHBaseRootMarkerVertextFormat </h4><pre class="type-3 type-12 type-9 type-4 type-5 type-13 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHBaseInputOutput() throws Exception {
  if (System.getProperty("prop.mapred.job.tracker") != null) {
    if (log.isInfoEnabled())     log.info("testHBaseInputOutput: Ignore this test if not local mode.");
    return;
  }
  File jarTest=new File(System.getProperty("prop.jarLocation"));
  if (!jarTest.exists()) {
    fail("Could not find Giraph jar at " + "location specified by 'prop.jarLocation'. " + "Make sure you built the main Giraph artifact?.");
  }
  FileSystem fs=null;
  Path hbaseRootdir=null;
  try {
    MiniHBaseCluster cluster=testUtil.startMiniCluster(1);
    cluster.waitForActiveAndReadyMaster();
    testUtil.startMiniMapReduceCluster();
    Configuration conf=testUtil.getConfiguration();
    try {
      fs=testUtil.getTestFileSystem();
      String randomStr=UUID.randomUUID().toString();
      String tmpdir=System.getProperty("java.io.tmpdir") + "/" + randomStr+ "/";
      hbaseRootdir=fs.makeQualified(new Path(tmpdir));
      conf.set(HConstants.HBASE_DIR,hbaseRootdir.toString());
      fs.mkdirs(hbaseRootdir);
    }
 catch (    IOException ioe) {
      fail("Could not create hbase root directory.");
    }
    String INPUT_FILE=hbaseRootdir.toString() + "/graph.csv";
    String[] args=new String[]{"-Dimporttsv.columns=HBASE_ROW_KEY,cf:" + QUALIFER,"-Dimporttsv.separator=" + "\u002c",TABLE_NAME,INPUT_FILE};
    GenericOptionsParser opts=new GenericOptionsParser(testUtil.getConfiguration(),args);
    args=opts.getRemainingArgs();
    fs=FileSystem.get(conf);
    fs.setConf(conf);
    Path inputPath=fs.makeQualified(new Path(hbaseRootdir,"graph.csv"));
    FSDataOutputStream op=fs.create(inputPath,true);
    String line1="0001,0002\n";
    String line2="0002,0004\n";
    String line3="0003,0005\n";
    String line4="0004,-1\n";
    String line5="0005,-1\n";
    op.write(line1.getBytes());
    op.write(line2.getBytes());
    op.write(line3.getBytes());
    op.write(line4.getBytes());
    op.write(line5.getBytes());
    op.close();
    final byte[] FAM=Bytes.toBytes(FAMILY);
    final byte[] TAB=Bytes.toBytes(TABLE_NAME);
    HTableDescriptor desc=new HTableDescriptor(TAB);
    desc.addFamily(new HColumnDescriptor(FAM));
    HBaseAdmin hbaseAdmin=new HBaseAdmin(conf);
    if (hbaseAdmin.isTableAvailable(TABLE_NAME)) {
      hbaseAdmin.disableTable(TABLE_NAME);
      hbaseAdmin.deleteTable(TABLE_NAME);
    }
    hbaseAdmin.createTable(desc);
    Job job=ImportTsv.createSubmittableJob(conf,args);
    job.waitForCompletion(false);
    assertTrue(job.isSuccessful());
    if (log.isInfoEnabled())     log.info("ImportTsv successful. Running HBase Giraph job.");
    conf.set(TableInputFormat.INPUT_TABLE,TABLE_NAME);
    conf.set(TableOutputFormat.OUTPUT_TABLE,TABLE_NAME);
    GiraphJob giraphJob=new GiraphJob(conf,BspCase.getCallingMethodName());
    GiraphConfiguration giraphConf=giraphJob.getConfiguration();
    setupConfiguration(giraphJob);
    giraphConf.setComputationClass(EdgeNotification.class);
    giraphConf.setVertexInputFormatClass(TableEdgeInputFormat.class);
    giraphConf.setVertexOutputFormatClass(TableEdgeOutputFormat.class);
    assertTrue(giraphJob.run(true));
    if (log.isInfoEnabled())     log.info("Giraph job successful. Checking output qualifier.");
    HTable table=new HTable(conf,TABLE_NAME);
    Result result=table.get(new Get("0002".getBytes()));
    byte[] parentBytes=result.getValue(FAMILY.getBytes(),OUTPUT_FIELD.getBytes());
    assertNotNull(parentBytes);
    assertTrue(parentBytes.length > 0);
    assertEquals("0001",Bytes.toString(parentBytes));
  }
  finally {
    testUtil.shutdownMiniMapReduceCluster();
    testUtil.shutdownMiniCluster();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.jython.TestJythonBasic </h4><pre class="type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasic(){
  String jython="class Foo:\n" + "    def __init__(self):\n" + "        self.map = {\"32\": 32, \"4.3\": 4.3}\n"+ "        self.list = [ 2, 9, 11 ]\n"+ "        self.ival = 17\n"+ "\n"+ "def get_map(foo):\n"+ "    return foo.map\n"+ "\n"+ "def get_list(foo):\n"+ "    return foo.list\n"+ "\n"+ "def get_ival(foo):\n"+ "    return foo.ival\n"+ "";
  PythonInterpreter interpreter=new PythonInterpreter();
  interpreter.exec(jython);
  PyObject fooClass=interpreter.get("Foo");
  assertTrue(fooClass instanceof PyClass);
  PyObject getMapFunc=interpreter.get("get_map");
  PyObject getListFunc=interpreter.get("get_list");
  PyObject getIValFunc=interpreter.get("get_ival");
  PyObject foo=fooClass.__call__();
  PyObject mapResult=getMapFunc.__call__(foo);
  assertTrue(mapResult instanceof PyDictionary);
  PyDictionary pyMapResult=((PyDictionary)mapResult);
  assertEquals(2,pyMapResult.size());
  Object thirtyTwo=pyMapResult.get("32");
  assertTrue(thirtyTwo instanceof Integer);
  assertEquals(32,((Integer)thirtyTwo).intValue());
  Object fourPointThree=pyMapResult.get("4.3");
  assertTrue(fourPointThree instanceof Double);
  assertEquals(4.3,(Double)fourPointThree,DELTA);
  PyObject listResult=getListFunc.__call__(foo);
  assertTrue(listResult instanceof PyList);
  PyList pyListResult=(PyList)listResult;
  assertEquals(3,pyListResult.size());
  assertEquals(2,pyListResult.get(0));
  assertEquals(9,pyListResult.get(1));
  assertEquals(11,pyListResult.get(2));
  PyObject ivalResult=getIValFunc.__call__(foo);
  assertTrue(ivalResult instanceof PyInteger);
  assertEquals(17,((PyInteger)ivalResult).getValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.jython.TestJythonWritableWrapper </h4><pre class="type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWrap() throws IOException {
  String jython="class Foo:\n" + "    def __init__(self):\n" + "        self.val = 17\n"+ "\n"+ "    def do_add(self, x):\n"+ "        self.val += x\n"+ "\n"+ "    def do_add_squared(self, x):\n"+ "        self.do_add(x * x)\n"+ "\n"+ "    def new_other(self):\n"+ "        self.other_val = 3\n"+ "\n"+ "def outside_add_squared(foo, x):\n"+ "    foo.do_add_squared(x)\n"+ "\n";
  PythonInterpreter interpreter=new PythonInterpreter();
  interpreter.exec(jython);
  PyObject fooClass=interpreter.get("Foo");
  assertTrue(fooClass instanceof PyClass);
  PyObject foo=fooClass.__call__();
  PyObject fooVal=foo.__getattr__("val");
  assertTrue(fooVal instanceof PyInteger);
  PyInteger val=(PyInteger)fooVal;
  assertEquals(17,val.getValue());
  PyObject function=interpreter.get("outside_add_squared");
  assertTrue("method class: " + function.getClass(),function instanceof PyFunction);
  function.__call__(foo,new PyInteger(3));
  fooVal=foo.__getattr__("val");
  assertTrue(fooVal instanceof PyInteger);
  val=(PyInteger)fooVal;
  assertEquals(26,val.getValue());
  JythonWritableWrapper wrappedFoo=new JythonWritableWrapper(foo);
  PyObject newOtherMethod=wrappedFoo.__getattr__("new_other");
  assertTrue(newOtherMethod instanceof PyMethod);
  newOtherMethod.__call__();
  function.__call__(wrappedFoo,new PyInteger(2));
  fooVal=foo.__getattr__("val");
  assertTrue(fooVal instanceof PyInteger);
  val=(PyInteger)fooVal;
  assertEquals(30,val.getValue());
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  DataOutputStream dos=new DataOutputStream(baos);
  wrappedFoo.write(dos);
  byte[] data=baos.toByteArray();
  ByteArrayInputStream bais=new ByteArrayInputStream(data);
  DataInputStream dis=new DataInputStream(bais);
  PyObject foo2=fooClass.__call__();
  PyObject foo2Val=foo2.__getattr__("val");
  assertTrue(foo2Val instanceof PyInteger);
  PyInteger val2=(PyInteger)foo2Val;
  assertEquals(17,val2.getValue());
  JythonWritableWrapper wrappedFoo2=new JythonWritableWrapper(foo2);
  foo2Val=wrappedFoo2.getPyObject().__getattr__("val");
  assertTrue(foo2Val instanceof PyInteger);
  val2=(PyInteger)foo2Val;
  assertEquals(17,val2.getValue());
  wrappedFoo2.readFields(dis);
  foo2Val=wrappedFoo2.getPyObject().__getattr__("val");
  assertTrue(foo2Val instanceof PyInteger);
  val2=(PyInteger)foo2Val;
  assertEquals(30,val2.getValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.partition.TestGiraphTransferRegulator </h4><pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGiraphTransferRegulator(){
  job.getConfiguration().setInt(GiraphTransferRegulator.MAX_VERTICES_PER_TRANSFER,1);
  job.getConfiguration().setInt(GiraphTransferRegulator.MAX_EDGES_PER_TRANSFER,3);
  OutEdges<IntWritable,DoubleWritable> edges=new ArrayListEdges<IntWritable,DoubleWritable>();
  edges.initialize(3);
  edges.add(EdgeFactory.create(new IntWritable(2),new DoubleWritable(22)));
  edges.add(EdgeFactory.create(new IntWritable(3),new DoubleWritable(33)));
  edges.add(EdgeFactory.create(new IntWritable(4),new DoubleWritable(44)));
  vertex.initialize(new IntWritable(1),new FloatWritable(1),edges);
  GiraphTransferRegulator gtr=new GiraphTransferRegulator(job.getConfiguration());
  PartitionOwner owner=mock(PartitionOwner.class);
  when(owner.getPartitionId()).thenReturn(57);
  assertFalse(gtr.transferThisPartition(owner));
  gtr.incrementCounters(owner,vertex);
  assertTrue(gtr.transferThisPartition(owner));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.utils.TestProgressableUtils </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testProgressableUtils() throws NoSuchFieldException, IllegalAccessException {
  final int sleepTime=1800;
  final int msecPeriod=500;
  ExecutorService executor=Executors.newFixedThreadPool(1);
  executor.submit(new Runnable(){
    @Override public void run(){
      try {
        Thread.sleep(sleepTime);
      }
 catch (      InterruptedException e) {
        throw new IllegalStateException();
      }
    }
  }
);
  executor.shutdown();
  CountProgressable countProgressable=new CountProgressable();
  ProgressableUtils.awaitExecutorTermination(executor,countProgressable,msecPeriod);
  Assert.assertTrue(countProgressable.counter >= sleepTime / msecPeriod);
  Assert.assertTrue(countProgressable.counter <= (sleepTime + msecPeriod) / msecPeriod);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.writable.kryo.KryoWritableTest </h4><pre class="type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRecursiveKryoWritable() throws Exception {
  LongKryoWritable inner=new LongKryoWritable(5);
  NestedKryoWritable wanted=new NestedKryoWritable<>(inner,null);
  wanted.value2=wanted;
  NestedKryoWritable res=new NestedKryoWritable<>(null,null);
  WritableUtils.copyInto(wanted,res,true);
  assertEquals(5,res.value1.get());
  Assert.assertTrue(res == res.value2);
}

</code></pre>

<br>
<pre class="type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNestedKryoWritable() throws Exception {
  LongKryoWritable inner=new LongKryoWritable(5);
  NestedKryoWritable<LongKryoWritable> res=new NestedKryoWritable<>(null,null);
  WritableUtils.copyInto(new NestedKryoWritable<>(inner,inner),res,true);
  assertEquals(5,res.value1.get());
  Assert.assertTrue(res.value1 == res.value2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.writable.kryo.KryoWritableWrapperTest </h4><pre class="type-3 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testImmutableList() throws IOException {
{
    List res=kryoSerDeser(ImmutableList.of(1,2));
    assertEquals(2,res.size());
    assertEquals(1,res.get(0));
    assertEquals(2,res.get(1));
  }
{
    List list=ImmutableList.of(1,2,3);
    Object obj=new Object();
    List wanted=ImmutableList.of(list,list,obj,obj);
    List res=kryoSerDeser(wanted);
    assertTrue(res.get(0) == res.get(1));
    assertTrue(res.get(2) == res.get(3));
  }
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testArraysAsListMultiRef() throws IOException {
  List list=Arrays.asList(1,2,3);
  Object obj=new Object();
  List wanted=Arrays.asList(list,list,obj,obj,null);
  wanted.set(4,wanted);
  List res=kryoSerDeser(wanted);
  assertTrue(res.get(0) == res.get(1));
  assertTrue(res.get(2) == res.get(3));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.yarn.TestYarnJob </h4><pre class="type-9 type-5 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPureYarnJob(){
  try {
    setupYarnConfiguration();
    initLocalZookeeper();
    initYarnCluster();
    GiraphYarnClient testGyc=new GiraphYarnClient(conf,JOB_NAME);
    Assert.assertTrue(testGyc.run(true));
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail("Caught exception in TestYarnJob: " + e);
  }
 finally {
    zookeeper.end();
    exec.shutdown();
    cluster.stop();
    deleteTempDirectories();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.zk.TestPredicateLock </h4><pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Thread signaled test to make sure the the event is signaled correctly
 * @throws InterruptedException
 */
@Test public void testWaitMsecs(){
  BspEvent event=new PredicateLock(getStubProgressable());
  Thread signalThread=new SignalThread(event);
  signalThread.start();
  boolean gotPredicate=event.waitMsecs(2000);
  assertTrue(gotPredicate);
  try {
    signalThread.join();
  }
 catch (  InterruptedException e) {
  }
  gotPredicate=event.waitMsecs(0);
  assertTrue(gotPredicate);
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Single threaded case where the event is signaled.
 */
@Test public void testEvent(){
  Time mockTime=mock(Time.class);
  when(mockTime.getMilliseconds()).thenReturn(0L).thenReturn(2L);
  BspEvent event=new PredicateLock(getStubProgressable(),1,mockTime);
  event.signal();
  boolean gotPredicate=event.waitMsecs(2);
  assertTrue(gotPredicate);
  event.reset();
  when(mockTime.getMilliseconds()).thenReturn(0L).thenReturn(2L);
  gotPredicate=event.waitMsecs(0);
  assertFalse(gotPredicate);
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Thread signaled test for {@link PredicateLock#waitForever()}
 */
@Test public void testWaitForever(){
  BspEvent event=new PredicateLock(getStubProgressable());
  Thread signalThread=new SignalThread(event);
  signalThread.start();
  event.waitForever();
  try {
    signalThread.join();
  }
 catch (  InterruptedException e) {
  }
  assertTrue(event.waitMsecs(0));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * SMake sure the the event is not signaled.
 */
@Test public void testWaitMsecsNoEvent(){
  Time mockTime=mock(Time.class);
  when(mockTime.getMilliseconds()).thenReturn(0L).thenReturn(2L);
  BspEvent event=new PredicateLock(getStubProgressable(),1,mockTime);
  boolean gotPredicate=event.waitMsecs(1);
  assertFalse(gotPredicate);
  assertEquals(0,progressCalled.get());
  when(mockTime.getMilliseconds()).thenReturn(0L).thenReturn(0L).thenReturn(2L);
  gotPredicate=event.waitMsecs(1);
  assertFalse(gotPredicate);
  assertEquals(1,progressCalled.get());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.zk.TestZooKeeperExt </h4><pre class="type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetChildrenExt() throws KeeperException, InterruptedException {
  if (zooKeeperExt == null) {
    System.out.println("testGetChildrenExt: No prop.zookeeper.list set, skipping test");
    return;
  }
  zooKeeperExt.createExt(BASE_PATH,null,Ids.OPEN_ACL_UNSAFE,CreateMode.PERSISTENT,false);
  zooKeeperExt.createExt(BASE_PATH + "/b",null,Ids.OPEN_ACL_UNSAFE,CreateMode.PERSISTENT_SEQUENTIAL,false);
  zooKeeperExt.createExt(BASE_PATH + "/a",null,Ids.OPEN_ACL_UNSAFE,CreateMode.PERSISTENT_SEQUENTIAL,false);
  zooKeeperExt.createExt(BASE_PATH + "/d",null,Ids.OPEN_ACL_UNSAFE,CreateMode.PERSISTENT_SEQUENTIAL,false);
  zooKeeperExt.createExt(BASE_PATH + "/c",null,Ids.OPEN_ACL_UNSAFE,CreateMode.PERSISTENT_SEQUENTIAL,false);
  List<String> fullPathList=zooKeeperExt.getChildrenExt(BASE_PATH,false,false,true);
  for (  String fullPath : fullPathList) {
    assertTrue(fullPath.contains(BASE_PATH + "/"));
  }
  List<String> sequenceOrderedList=zooKeeperExt.getChildrenExt(BASE_PATH,false,true,true);
  for (  String fullPath : sequenceOrderedList) {
    assertTrue(fullPath.contains(BASE_PATH + "/"));
  }
  assertEquals(4,sequenceOrderedList.size());
  assertTrue(sequenceOrderedList.get(0).contains("/b"));
  assertTrue(sequenceOrderedList.get(1).contains("/a"));
  assertTrue(sequenceOrderedList.get(2).contains("/d"));
  assertTrue(sequenceOrderedList.get(3).contains("/c"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.giraph.zk.TestZooKeeperManager </h4><pre class="type-9 type-4 type-5 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetBasePath(){
  Configuration conf=new Configuration();
  assertEquals("Default value for base path should be empty","",ZooKeeperManager.getBasePath(conf));
  conf.set(GiraphConstants.BASE_ZNODE_KEY,"/howdy");
  assertEquals("Base path should reflect value of " + GiraphConstants.BASE_ZNODE_KEY,"/howdy",ZooKeeperManager.getBasePath(conf));
  conf.set(GiraphConstants.BASE_ZNODE_KEY,"no_slash");
  try {
    ZooKeeperManager.getBasePath(conf);
    fail("Should not have allowed path without starting slash");
  }
 catch (  IllegalArgumentException iae) {
    assertTrue(iae.getMessage().contains(GiraphConstants.BASE_ZNODE_KEY));
  }
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
