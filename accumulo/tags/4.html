<h3><span class=" glyphicon glyphicon-tag"/>&nbspTestInitializer</h3><kbd>Allocates resources before the execution of the test cases</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.accumulo.core.cli.ClientOnDefaultTableTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  client=new ClientOnDefaultTable("test");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.client.ZooKeeperInstanceTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  config=createMock(ClientConfiguration.class);
  mockNameConstruction(config);
  replay(config);
  zcf=createMock(ZooCacheFactory.class);
  zc=createMock(ZooCache.class);
  expect(zcf.getZooCache("zk1",30000)).andReturn(zc).anyTimes();
  expect(zc.get(Constants.ZROOT + Constants.ZINSTANCES + "/instance")).andReturn(IID_STRING.getBytes(UTF_8));
  expect(zc.get(Constants.ZROOT + "/" + IID_STRING)).andReturn("yup".getBytes());
  replay(zc,zcf);
  zki=new ZooKeeperInstance(config,zcf);
  EasyMock.resetToDefault(zc);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.client.impl.RootTabletLocatorTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  instance=createMock(Instance.class);
  expect(instance.getInstanceID()).andReturn("iid").anyTimes();
  expect(instance.getZooKeepers()).andReturn("zk1").anyTimes();
  expect(instance.getZooKeepersSessionTimeOut()).andReturn(30000).anyTimes();
  replay(instance);
  lockChecker=createMock(TabletServerLockChecker.class);
  zcf=createMock(ZooCacheFactory.class);
  zc=createMock(ZooCache.class);
  rtl=new RootTabletLocator(lockChecker,zcf);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.client.impl.ScannerImplTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  context=EasyMock.createMock(ClientContext.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.client.impl.TabletLocatorImplTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  testInstance=new TestInstance("instance1","tserver1");
  context=new ClientContext(testInstance,new Credentials("test",null),new ClientConfiguration());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.client.impl.TabletServerBatchReaderTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  context=EasyMock.createMock(ClientContext.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.client.impl.ThriftTransportKeyTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  System.setProperty("java.security.krb5.realm","accumulo");
  System.setProperty("java.security.krb5.kdc","fake");
  Configuration conf=new Configuration(false);
  conf.set(CommonConfigurationKeysPublic.HADOOP_SECURITY_AUTHENTICATION,"kerberos");
  UserGroupInformation.setConfiguration(conf);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.client.impl.ZookeeperLockCheckerTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  instance=createMock(Instance.class);
  expect(instance.getInstanceID()).andReturn("iid").anyTimes();
  expect(instance.getZooKeepers()).andReturn("zk1").anyTimes();
  expect(instance.getZooKeepersSessionTimeOut()).andReturn(30000).anyTimes();
  replay(instance);
  zcf=createMock(ZooCacheFactory.class);
  zc=createMock(ZooCache.class);
  expect(zcf.getZooCache("zk1",30000)).andReturn(zc);
  replay(zcf);
  zklc=new ZookeeperLockChecker(instance,zcf);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.client.mapred.AccumuloInputFormatTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void createJob(){
  job=new JobConf();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.client.mapreduce.InputTableConfigTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  tableQueryConfig=new InputTableConfig();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.client.mock.MockNamespacesTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setupInstance() throws Exception {
  Instance inst=new MockInstance(test.getMethodName());
  conn=inst.getConnector("user",new PasswordToken("pass"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.client.mock.MockTableOperationsTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setupInstance() throws Exception {
  Instance inst=new MockInstance(test.getMethodName());
  conn=inst.getConnector("user",new PasswordToken("pass"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.conf.ConfigSanityCheckTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  m=new java.util.HashMap<String,String>();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.conf.DefaultConfigurationTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  c=new DefaultConfiguration();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.conf.ObservableConfigurationTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  c=new TestObservableConfig();
  co1=createMock(ConfigurationObserver.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.conf.PropertyTypeTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void getPropertyTypeForTest(){
  String tn=testName.getMethodName();
  if (tn.startsWith("testType")) {
    try {
      type=PropertyType.valueOf(tn.substring(8));
    }
 catch (    IllegalArgumentException e) {
      throw new AssertionError("Unexpected test method for non-existent " + PropertyType.class.getSimpleName() + "."+ tn.substring(8));
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.data.ArrayByteSequenceTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  data=new byte[]{'s','m','i','l','e','s'};
  abs=new ArrayByteSequence(data);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.data.ConditionTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  c=new Condition(FAMILY,QUALIFIER);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.data.ConditionalMutationTest </h4><pre class="type-4 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setUp() throws Exception {
  c1=new Condition(FAMILY,QUALIFIER);
  c2=new Condition(FAMILY,QUALIFIER2);
  assertFalse(c1.equals(c2));
  cm=new ConditionalMutation(ROW,c1,c2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.data.KeyExtentTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  set0=new TreeSet<KeyExtent>();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.data.ValueTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  DATABUFF.rewind();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.file.rfile.RFileMetricsTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void makeTestRFile(){
  trf=new TestRFile();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.file.rfile.RelativeKeyTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setupDataInputStream(){
  in=new DataInputStream(new ByteArrayInputStream(baos.toByteArray()));
  in.mark(0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.iterators.user.BigDecimalCombinerTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  encoder=new BigDecimalCombiner.BigDecimalEncoder();
  tm1=new TreeMap<Key,Value>();
  columns=Collections.singletonList(new IteratorSetting.Column("cf001"));
  CombinerTest.nkv(tm1,1,1,1,1,false,BigDecimal.valueOf(2),encoder);
  CombinerTest.nkv(tm1,1,1,1,2,false,BigDecimal.valueOf(2.3),encoder);
  CombinerTest.nkv(tm1,1,1,1,3,false,BigDecimal.valueOf(-1.4E1),encoder);
  CombinerTest.nkv(tm1,1,2,1,1,false,BigDecimal.valueOf(99),encoder);
  CombinerTest.nkv(tm1,1,3,1,1,false,BigDecimal.valueOf(-88),encoder);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.iterators.user.ColumnSliceFilterTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  columnSliceFilter.describeOptions();
  iteratorEnvironment=new DefaultIteratorEnvironment();
  is=new IteratorSetting(1,ColumnSliceFilter.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.iterators.user.GrepIteratorTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void init(){
  input=new TreeMap<Key,Value>();
  output=new TreeMap<Key,Value>();
  input.put(new Key("abcdef","xyz","xyz",0),new Value("xyz".getBytes()));
  output.put(new Key("abcdef","xyz","xyz",0),new Value("xyz".getBytes()));
  input.put(new Key("bdf","ace","xyz",0),new Value("xyz".getBytes()));
  input.put(new Key("bdf","abcdef","xyz",0),new Value("xyz".getBytes()));
  output.put(new Key("bdf","abcdef","xyz",0),new Value("xyz".getBytes()));
  input.put(new Key("bdf","xyz","xyz",0),new Value("xyz".getBytes()));
  input.put(new Key("ceg","xyz","abcdef",0),new Value("xyz".getBytes()));
  output.put(new Key("ceg","xyz","abcdef",0),new Value("xyz".getBytes()));
  input.put(new Key("ceg","xyz","xyz",0),new Value("xyz".getBytes()));
  input.put(new Key("dfh","xyz","xyz",0),new Value("abcdef".getBytes()));
  output.put(new Key("dfh","xyz","xyz",0),new Value("abcdef".getBytes()));
  input.put(new Key("dfh","xyz","xyz",1),new Value("xyz".getBytes()));
  Key k=new Key("dfh","xyz","xyz",1);
  k.setDeleted(true);
  input.put(k,new Value("xyz".getBytes()));
  output.put(k,new Value("xyz".getBytes()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.iterators.user.TransformingIteratorTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void createData() throws Exception {
  data.clear();
  generateRow(data,"row1");
  generateRow(data,"row2");
  generateRow(data,"row3");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.replication.ReplicationConfigurationUtilTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setupConfiguration(){
  Map<String,String> map=new HashMap<>();
  map.put(Property.TABLE_REPLICATION.getKey(),"true");
  conf=new ConfigurationCopy(map);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.rpc.SaslConnectionParamsTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  System.setProperty("java.security.krb5.realm","accumulo");
  System.setProperty("java.security.krb5.kdc","fake");
  Configuration conf=new Configuration(false);
  conf.set(CommonConfigurationKeysPublic.HADOOP_SECURITY_AUTHENTICATION,"kerberos");
  UserGroupInformation.setConfiguration(conf);
  testUser=UserGroupInformation.createUserForTesting("test_user",new String[0]);
  username=testUser.getUserName();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.security.CredentialsTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setupInstance(){
  inst=EasyMock.createMock(Instance.class);
  EasyMock.expect(inst.getInstanceID()).andReturn(test.getMethodName()).anyTimes();
  EasyMock.replay(inst);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.security.VisibilityConstraintTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  vc=new VisibilityConstraint();
  mutation=new Mutation("r");
  ArrayByteSequence bs=new ArrayByteSequence("good".getBytes(UTF_8));
  AuthorizationContainer ac=createNiceMock(AuthorizationContainer.class);
  expect(ac.contains(bs)).andReturn(true);
  replay(ac);
  env=createMock(Environment.class);
  expect(env.getAuthorizationsContainer()).andReturn(ac);
  replay(env);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.util.AsyncSocketAppenderTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  sa=createMock(SocketAppender.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.util.StatTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  zero=new Stat();
  zero.addStat(0);
  stat=new Stat();
  for (  Long l : new long[]{9792,5933,4766,5770,3763,3677,5002}) {
    stat.addStat(l);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.util.ThriftMessageUtilTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  msg=new TAuthenticationTokenIdentifier("principal");
  util=new ThriftMessageUtil();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.util.ValidatorTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  v=new TestValidator("correct");
  v2=new TestValidator("righto");
  v3=new Test2Validator("c.*");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.util.format.DateStringFormatterTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  formatter=new DateStringFormatter();
  data=new TreeMap<Key,Value>();
  data.put(new Key("","","",0),new Value());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.util.format.DefaultFormatterTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  df=new DefaultFormatter();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.util.format.FormatterFactoryTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  scanner=Collections.<Key,Value>emptyMap().entrySet();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.util.format.HexFormatterTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  data=new TreeMap<Key,Value>();
  formatter=new HexFormatter();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.util.format.ShardedTableDistributionFormatterTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  data=new TreeMap<Key,Value>();
  formatter=new ShardedTableDistributionFormatter();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.util.format.StatisticsDisplayFormatterTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  data=new TreeMap<Key,Value>();
  formatter=new StatisticsDisplayFormatter();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.core.volume.NonConfiguredVolumeTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void create() throws IOException {
  volume=new NonConfiguredVolume(FileSystem.getLocal(new Configuration()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.examples.simple.filedata.ChunkInputStreamTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setupData(){
  data=new ArrayList<Entry<Key,Value>>();
  addData(data,"a","refs","id\0ext","A&B","ext");
  addData(data,"a","refs","id\0name","A&B","name");
  addData(data,"a","~chunk",100,0,"A&B","asdfjkl;");
  addData(data,"a","~chunk",100,1,"A&B","");
  addData(data,"b","refs","id\0ext","A&B","ext");
  addData(data,"b","refs","id\0name","A&B","name");
  addData(data,"b","~chunk",100,0,"A&B","qwertyuiop");
  addData(data,"b","~chunk",100,0,"B&C","qwertyuiop");
  addData(data,"b","~chunk",100,1,"A&B","");
  addData(data,"b","~chunk",100,1,"B&C","");
  addData(data,"b","~chunk",100,1,"D","");
  addData(data,"c","~chunk",100,0,"A&B","asdfjkl;");
  addData(data,"c","~chunk",100,1,"A&B","asdfjkl;");
  addData(data,"c","~chunk",100,2,"A&B","");
  addData(data,"d","~chunk",100,0,"A&B","");
  addData(data,"e","~chunk",100,0,"A&B","asdfjkl;");
  addData(data,"e","~chunk",100,1,"A&B","");
  baddata=new ArrayList<Entry<Key,Value>>();
  addData(baddata,"a","~chunk",100,0,"A","asdfjkl;");
  addData(baddata,"b","~chunk",100,0,"B","asdfjkl;");
  addData(baddata,"b","~chunk",100,2,"C","");
  addData(baddata,"c","~chunk",100,0,"D","asdfjkl;");
  addData(baddata,"c","~chunk",100,2,"E","");
  addData(baddata,"d","~chunk",100,0,"F","asdfjkl;");
  addData(baddata,"d","~chunk",100,1,"G","");
  addData(baddata,"d","~zzzzz","colq","H","");
  addData(baddata,"e","~chunk",100,0,"I","asdfjkl;");
  addData(baddata,"e","~chunk",100,1,"J","");
  addData(baddata,"e","~chunk",100,2,"I","asdfjkl;");
  addData(baddata,"f","~chunk",100,2,"K","asdfjkl;");
  addData(baddata,"g","~chunk",100,0,"L","");
  multidata=new ArrayList<Entry<Key,Value>>();
  addData(multidata,"a","~chunk",100,0,"A&B","asdfjkl;");
  addData(multidata,"a","~chunk",100,1,"A&B","");
  addData(multidata,"a","~chunk",200,0,"B&C","asdfjkl;");
  addData(multidata,"b","~chunk",100,0,"A&B","asdfjkl;");
  addData(multidata,"b","~chunk",200,0,"B&C","asdfjkl;");
  addData(multidata,"b","~chunk",200,1,"B&C","asdfjkl;");
  addData(multidata,"c","~chunk",100,0,"A&B","asdfjkl;");
  addData(multidata,"c","~chunk",100,1,"B&C","");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.fate.zookeeper.RetryTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  retry=new Retry(maxRetries,initialWait,waitIncrement,maxRetries * 1000l);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.fate.zookeeper.ZooCacheFactoryTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  zcf=new ZooCacheFactory();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.fate.zookeeper.ZooCacheTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  zr=createMock(ZooReader.class);
  zk=createStrictMock(ZooKeeper.class);
  expect(zr.getZooKeeper()).andReturn(zk);
  expectLastCall().anyTimes();
  replay(zr);
  zc=new ZooCache(zr,null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.fate.zookeeper.ZooReaderWriterTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  zk=EasyMock.createMock(ZooKeeper.class);
  zrw=EasyMock.createMockBuilder(ZooReaderWriter.class).addMockedMethods("getRetryFactory","getZooKeeper").createMock();
  retryFactory=EasyMock.createMock(RetryFactory.class);
  retry=EasyMock.createMock(Retry.class);
  EasyMock.expect(zrw.getZooKeeper()).andReturn(zk).anyTimes();
  EasyMock.expect(zrw.getRetryFactory()).andReturn(retryFactory).anyTimes();
  EasyMock.expect(retryFactory.create()).andReturn(retry).anyTimes();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.gc.SimpleGarbageCollectorOptsTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  opts=new Opts();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.gc.SimpleGarbageCollectorTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  volMgr=createMock(VolumeManager.class);
  instance=createMock(Instance.class);
  SiteConfiguration siteConfig=EasyMock.createMock(SiteConfiguration.class);
  expect(instance.getInstanceID()).andReturn("mock").anyTimes();
  expect(instance.getZooKeepers()).andReturn("localhost").anyTimes();
  expect(instance.getZooKeepersSessionTimeOut()).andReturn(30000).anyTimes();
  opts=new Opts();
  systemConfig=createSystemConfig();
  ServerConfigurationFactory factory=createMock(ServerConfigurationFactory.class);
  expect(factory.getInstance()).andReturn(instance).anyTimes();
  expect(factory.getConfiguration()).andReturn(systemConfig).anyTimes();
  expect(factory.getSiteConfiguration()).andReturn(siteConfig).anyTimes();
  EasyMock.expect(siteConfig.get(EasyMock.anyObject(Property.class))).andAnswer(new IAnswer<String>(){
    @Override public String answer(){
      Object[] args=EasyMock.getCurrentArguments();
      return systemConfig.get((Property)args[0]);
    }
  }
).anyTimes();
  EasyMock.expect(siteConfig.getBoolean(EasyMock.anyObject(Property.class))).andAnswer(new IAnswer<Boolean>(){
    @Override public Boolean answer(){
      Object[] args=EasyMock.getCurrentArguments();
      return systemConfig.getBoolean((Property)args[0]);
    }
  }
).anyTimes();
  EasyMock.expect(siteConfig.iterator()).andAnswer(new IAnswer<Iterator<Entry<String,String>>>(){
    @Override public Iterator<Entry<String,String>> answer(){
      return systemConfig.iterator();
    }
  }
).anyTimes();
  replay(instance,factory,siteConfig);
  credentials=SystemCredentials.get(instance);
  gc=new SimpleGarbageCollector(opts,volMgr,factory);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.harness.AccumuloClusterHarness </h4><pre class="type-4 type-21 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setupCluster() throws Exception {
  Assume.assumeTrue(canRunTest(type));
switch (type) {
case MINI:
    MiniClusterHarness miniClusterHarness=new MiniClusterHarness();
  MiniAccumuloClusterImpl impl=miniClusterHarness.create(this,getAdminToken(),krb);
cluster=impl;
((AccumuloMiniClusterConfiguration)clusterConf).setClientConf(impl.getClientConfig());
if (null != krb) {
ClusterUser rootUser=krb.getRootUser();
UserGroupInformation.loginUserFromKeytab(rootUser.getPrincipal(),rootUser.getKeytab().getAbsolutePath());
}
break;
case STANDALONE:
StandaloneAccumuloClusterConfiguration conf=(StandaloneAccumuloClusterConfiguration)clusterConf;
ClientConfiguration clientConf=conf.getClientConf();
StandaloneAccumuloCluster standaloneCluster=new StandaloneAccumuloCluster(conf.getInstance(),clientConf,conf.getTmpDirectory(),conf.getUsers(),conf.getAccumuloServerUser());
standaloneCluster.setAccumuloHome(conf.getAccumuloHome());
standaloneCluster.setClientAccumuloConfDir(conf.getClientAccumuloConfDir());
standaloneCluster.setServerAccumuloConfDir(conf.getServerAccumuloConfDir());
standaloneCluster.setHadoopConfDir(conf.getHadoopConfDir());
Configuration hadoopConfiguration=standaloneCluster.getHadoopConfiguration();
if (clientConf.getBoolean(ClientProperty.INSTANCE_RPC_SASL_ENABLED.getKey(),false)) {
UserGroupInformation.setConfiguration(hadoopConfiguration);
UserGroupInformation.loginUserFromKeytab(conf.getAdminPrincipal(),conf.getAdminKeytab().getAbsolutePath());
}
cluster=standaloneCluster;
break;
default :
throw new RuntimeException("Unhandled type");
}
if (type.isDynamic()) {
cluster.start();
}
 else {
log.info("Removing tables which appear to be from a previous test run");
cleanupTables();
log.info("Removing users which appear to be from a previous test run");
cleanupUsers();
}
switch (type) {
case MINI:
if (null != krb) {
final String traceTable=Property.TRACE_TABLE.getDefaultValue();
final ClusterUser systemUser=krb.getAccumuloServerUser(), rootUser=krb.getRootUser();
UserGroupInformation.loginUserFromKeytab(systemUser.getPrincipal(),systemUser.getKeytab().getAbsolutePath());
Connector conn=cluster.getConnector(systemUser.getPrincipal(),new KerberosToken(systemUser.getPrincipal(),systemUser.getKeytab(),true));
UserGroupInformation.loginUserFromKeytab(rootUser.getPrincipal(),rootUser.getKeytab().getAbsolutePath());
conn=getConnector();
conn.tableOperations().create(traceTable);
conn.securityOperations().grantTablePermission(systemUser.getPrincipal(),traceTable,TablePermission.READ);
conn.securityOperations().grantTablePermission(systemUser.getPrincipal(),traceTable,TablePermission.WRITE);
conn.securityOperations().grantTablePermission(systemUser.getPrincipal(),traceTable,TablePermission.ALTER_TABLE);
}
break;
default :
}
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.master.replication.SequentialWorkAssignerTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void init() throws Exception {
  AccumuloConfiguration conf=createMock(AccumuloConfiguration.class);
  conn=createMock(Connector.class);
  assigner=new SequentialWorkAssigner(conf,conn);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.master.replication.UnorderedWorkAssignerTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void init() throws Exception {
  AccumuloConfiguration conf=createMock(AccumuloConfiguration.class);
  conn=createMock(Connector.class);
  assigner=new UnorderedWorkAssigner(conf,conn);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.minicluster.MiniAccumuloClusterExistingZooKeepersTest </h4><pre class="type-4 type-5 type-3 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setupTestCluster() throws Exception {
  assertTrue(BASE_DIR.mkdirs() || BASE_DIR.isDirectory());
  File testDir=new File(BASE_DIR,testName.getMethodName());
  FileUtils.deleteQuietly(testDir);
  assertTrue(testDir.mkdir());
  zooKeeper=new TestingServer();
  MiniAccumuloConfig config=new MiniAccumuloConfig(testDir,SECRET);
  config.getImpl().setExistingZooKeepers(zooKeeper.getConnectString());
  accumulo=new MiniAccumuloCluster(config);
  accumulo.start();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.minicluster.MiniAccumuloClusterStartStopTest </h4><pre class="type-4 type-5 type-3 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setupTestCluster() throws IOException {
  assertTrue(baseDir.mkdirs() || baseDir.isDirectory());
  File testDir=new File(baseDir,testName.getMethodName());
  FileUtils.deleteQuietly(testDir);
  assertTrue(testDir.mkdir());
  accumulo=new MiniAccumuloCluster(testDir,"superSecret");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.monitor.servlets.trace.SummaryTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  summary=new Summary();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.AccumuloServerContextTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  System.setProperty("java.security.krb5.realm","accumulo");
  System.setProperty("java.security.krb5.kdc","fake");
  Configuration conf=new Configuration(false);
  conf.set(CommonConfigurationKeys.HADOOP_SECURITY_AUTHENTICATION,"kerberos");
  UserGroupInformation.setConfiguration(conf);
  testUser=UserGroupInformation.createUserForTesting("test_user",new String[0]);
  username=testUser.getUserName();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.AccumuloTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  fs=createMock(FileSystem.class);
  path=createMock(Path.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.ServerOptsTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  opts=new ServerOpts();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.conf.NamespaceConfigurationTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  iid=UUID.randomUUID().toString();
  instance=createMock(Instance.class);
  parent=createMock(AccumuloConfiguration.class);
  c=new NamespaceConfiguration(NSID,instance,parent);
  zcf=createMock(ZooCacheFactory.class);
  c.setZooCacheFactory(zcf);
  expect(instance.getInstanceID()).andReturn(iid);
  expectLastCall().anyTimes();
  expect(instance.getZooKeepers()).andReturn(ZOOKEEPERS);
  expect(instance.getZooKeepersSessionTimeOut()).andReturn(ZK_SESSION_TIMEOUT);
  replay(instance);
  zc=createMock(ZooCache.class);
  expect(zcf.getZooCache(eq(ZOOKEEPERS),eq(ZK_SESSION_TIMEOUT),anyObject(NamespaceConfWatcher.class))).andReturn(zc);
  replay(zcf);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.conf.ServerConfigurationFactoryTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  instance=createMock(Instance.class);
  expect(instance.getInstanceID()).andReturn(IID);
  expectLastCall().anyTimes();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.conf.TableConfigurationTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  iid=UUID.randomUUID().toString();
  instance=createMock(Instance.class);
  expect(instance.getInstanceID()).andReturn(iid).anyTimes();
  expect(instance.getZooKeepers()).andReturn(ZOOKEEPERS);
  expect(instance.getZooKeepersSessionTimeOut()).andReturn(ZK_SESSION_TIMEOUT);
  replay(instance);
  parent=createMock(NamespaceConfiguration.class);
  c=new TableConfiguration(instance,TID,parent);
  zcf=createMock(ZooCacheFactory.class);
  c.setZooCacheFactory(zcf);
  zc=createMock(ZooCache.class);
  expect(zcf.getZooCache(eq(ZOOKEEPERS),eq(ZK_SESSION_TIMEOUT),anyObject(TableConfWatcher.class))).andReturn(zc);
  replay(zcf);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.conf.ZooCachePropertyAccessorTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  zc=createMock(ZooCache.class);
  a=new ZooCachePropertyAccessor(zc);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.conf.ZooConfigurationFactoryTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  instance=createMock(Instance.class);
  zcf=createMock(ZooCacheFactory.class);
  zc=createMock(ZooCache.class);
  zconff=new ZooConfigurationFactory();
  parent=createMock(AccumuloConfiguration.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.fs.VolumeManagerImplTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  fs=VolumeManagerImpl.getLocal(System.getProperty("user.dir"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.init.InitializeTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  conf=createMock(Configuration.class);
  fs=createMock(VolumeManager.class);
  sconf=createMock(SiteConfiguration.class);
  zoo=createMock(IZooReaderWriter.class);
  zooOrig=Initialize.getZooReaderWriter();
  Initialize.setZooReaderWriter(zoo);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.master.balancer.DefaultLoadBalancerTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  last.clear();
  servers.clear();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.master.state.MergeInfoTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  keyExtent=createMock(KeyExtent.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.master.state.TabletLocationStateTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  keyExtent=createMock(KeyExtent.class);
  future=createMock(TServerInstance.class);
  current=createMock(TServerInstance.class);
  last=createMock(TServerInstance.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.problems.ProblemReportTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  instance=createMock(Instance.class);
  expect(instance.getInstanceID()).andReturn("instance");
  replay(instance);
  zoorw=createMock(ZooReaderWriter.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.problems.ProblemReportingIteratorTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  ii=EasyMock.createMock(InterruptibleIterator.class);
  pri=new ProblemReportingIterator(null,TABLE,RESOURCE,false,ii);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.replication.ReplicationUtilTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  context=EasyMock.createMock(AccumuloServerContext.class);
  zc=EasyMock.createMock(ZooCache.class);
  conf=EasyMock.createMock(AccumuloConfiguration.class);
  EasyMock.expect(context.getConfiguration()).andReturn(conf).anyTimes();
  factory=new ReplicaSystemFactory();
  util=new ReplicationUtil(context,zc,factory);
  confEntries=new HashMap<>();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.replication.StatusCombinerTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void initCombiner() throws IOException {
  key=new Key();
  combiner=new StatusCombiner();
  builder=Status.newBuilder();
  IteratorSetting cfg=new IteratorSetting(50,StatusCombiner.class);
  Combiner.setColumns(cfg,Collections.singletonList(new Column(StatusSection.NAME)));
  combiner.init(new DevNull(),cfg.getOptions(),new TestIE());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.rpc.SaslDigestCallbackHandlerTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  handler=new SaslTestDigestCallbackHandler();
  cfg=new DelegationTokenConfig();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.rpc.SaslServerConnectionParamsTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  System.setProperty("java.security.krb5.realm","accumulo");
  System.setProperty("java.security.krb5.kdc","fake");
  Configuration conf=new Configuration(false);
  conf.set(CommonConfigurationKeysPublic.HADOOP_SECURITY_AUTHENTICATION,"kerberos");
  UserGroupInformation.setConfiguration(conf);
  testUser=UserGroupInformation.createUserForTesting("test_user",new String[0]);
  username=testUser.getUserName();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.rpc.TCredentialsUpdatingInvocationHandlerTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  conf=new ConfigurationCopy();
  proxy=new TCredentialsUpdatingInvocationHandler(new Object(),conf);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.security.SystemCredentialsTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setupInstance(){
  inst=EasyMock.createMock(Instance.class);
  EasyMock.expect(inst.getInstanceID()).andReturn(UUID.nameUUIDFromBytes(new byte[]{1,2,3,4,5,6,7,8,9,0}).toString()).anyTimes();
  EasyMock.replay(inst);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.security.UserImpersonationTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  conf=new ConfigurationCopy(new HashMap<String,String>());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.security.delegation.AuthenticationTokenKeyManagerTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setupMocks(){
  secretManager=createMock(AuthenticationTokenSecretManager.class);
  zooDistributor=createMock(ZooAuthenticationKeyDistributor.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.security.delegation.AuthenticationTokenSecretManagerTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setupMocks(){
  instance=createMock(Instance.class);
  instanceId=UUID.randomUUID().toString();
  cfg=new DelegationTokenConfig();
  expect(instance.getInstanceID()).andReturn(instanceId).anyTimes();
  replay(instance);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.security.delegation.ZooAuthenticationKeyDistributorTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setupMocks(){
  zrw=createMock(ZooReaderWriter.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.security.delegation.ZooAuthenticationKeyWatcherTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setupMocks(){
  zk=createMock(ZooReader.class);
  instance=createMock(Instance.class);
  instanceId=UUID.randomUUID().toString();
  baseNode="/accumulo/" + instanceId + Constants.ZDELEGATION_TOKEN_KEYS;
  expect(instance.getInstanceID()).andReturn(instanceId).anyTimes();
  secretManager=new AuthenticationTokenSecretManager(instance,tokenLifetime);
  keyWatcher=new ZooAuthenticationKeyWatcher(secretManager,zk,baseNode);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.tablets.LogicalTimeTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  ltime=(LogicalTime)TabletTime.getInstance("L1234");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.tablets.MillisTimeTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  mtime=new MillisTime(TIME);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.tablets.TabletTimeTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  mtime=new MillisTime(TIME);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.util.FileInfoTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  key1=new Key("row1");
  key2=new Key("row2");
  info=new FileInfo(key1,key2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.util.FileUtilTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void createTmpDir() throws IOException {
  accumuloDir=tmpDir.newFolder(testName.getMethodName());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.util.time.SimpleTimerTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  t=SimpleTimer.getInstance(null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.server.watcher.MonitorLog4jWatcherTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  w=new MonitorLog4jWatcher(INSTANCE,FILENAME);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.shell.PasswordConverterTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws IOException {
  argv=new String[]{"--password",""};
  password=new Password();
  PipedInputStream in=new PipedInputStream();
  PipedOutputStream out=new PipedOutputStream(in);
  OutputStreamWriter osw=new OutputStreamWriter(out);
  osw.write("secret");
  osw.close();
  System.setIn(in);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.shell.ShellConfigTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  Shell.log.setLevel(Level.ERROR);
  out=System.out;
  output=new TestOutputStream();
  System.setOut(new PrintStream(output));
  config=Files.createTempFile(null,null).toFile();
  shell=new Shell(new ConsoleReader(new FileInputStream(FileDescriptor.in),output));
  shell.setLogErrorsToConsole();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.shell.ShellOptionsJCTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  options=new ShellOptionsJC();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.shell.ShellSetInstanceTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws IOException {
  Shell.log.setLevel(Level.OFF);
  output=new TestOutputStream();
  shell=new Shell(new ConsoleReader(new FileInputStream(FileDescriptor.in),output));
  shell.setLogErrorsToConsole();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.shell.ShellTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws IOException {
  TimeZone.setDefault(TimeZone.getTimeZone("UTC"));
  Shell.log.setLevel(Level.OFF);
  output=new TestOutputStream();
  input=new StringInputStream();
  config=Files.createTempFile(null,null).toFile();
  shell=new Shell(new ConsoleReader(input,output));
  shell.setLogErrorsToConsole();
  shell.config("--config-file",config.toString(),"--fake","-u","test","-p","secret");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.shell.commands.DeleteAuthsCommandTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  cmd=new DeleteAuthsCommand();
  cmd.getOptions();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.shell.commands.DropUserCommandTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  cmd=new DropUserCommand();
  cmd.getOptions();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.shell.commands.HistoryCommandTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  command=new HistoryCommand();
  command.getOptions();
  cl=createMock(CommandLine.class);
  expect(cl.hasOption("c")).andReturn(false);
  expect(cl.hasOption("np")).andReturn(true);
  replay(cl);
  History history=new MemoryHistory();
  history.add("foo");
  history.add("bar");
  baos=new ByteArrayOutputStream();
  String input=String.format("!1%n");
  reader=new ConsoleReader(new ByteArrayInputStream(input.getBytes()),baos);
  reader.setHistory(history);
  shell=new Shell(reader);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.shell.format.DeleterFormatterTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws IOException, MutationsRejectedException {
  input=new SettableInputStream();
  baos=new ByteArrayOutputStream();
  MutationsRejectedException mre=createMock(MutationsRejectedException.class);
  writer=createNiceMock(BatchWriter.class);
  exceptionWriter=createNiceMock(BatchWriter.class);
  exceptionWriter.close();
  expectLastCall().andThrow(mre);
  exceptionWriter.addMutation(anyObject(Mutation.class));
  expectLastCall().andThrow(mre);
  shellState=createNiceMock(Shell.class);
  reader=new ConsoleReader(input,baos,new UnsupportedTerminal());
  expect(shellState.getReader()).andReturn(reader).anyTimes();
  replay(writer,exceptionWriter,shellState);
  data=new TreeMap<Key,Value>();
  data.put(new Key("r","cf","cq"),new Value("value".getBytes(UTF_8)));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.start.MainTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  f=createMock(JarFile.class);
  cl=createMock(ClassLoader.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.start.classloader.vfs.AccumuloReloadingVFSClassLoaderTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  Logger.getRootLogger().setLevel(Level.ERROR);
  vfs=ContextManagerTest.getVFS();
  folder1.create();
  folderPath=folder1.getRoot().toURI().toString() + ".*";
  FileUtils.copyURLToFile(this.getClass().getResource("/HelloWorld.jar"),folder1.newFile("HelloWorld.jar"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.start.classloader.vfs.AccumuloVFSClassLoaderTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws IOException {
  folder1.create();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.start.classloader.vfs.ContextManagerTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  vfs=getVFS();
  folder1.create();
  folder2.create();
  FileUtils.copyURLToFile(this.getClass().getResource("/HelloWorld.jar"),folder1.newFile("HelloWorld.jar"));
  FileUtils.copyURLToFile(this.getClass().getResource("/HelloWorld.jar"),folder2.newFile("HelloWorld.jar"));
  uri1=new File(folder1.getRoot(),"HelloWorld.jar").toURI().toString();
  uri2=folder2.getRoot().toURI().toString() + ".*";
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.start.classloader.vfs.providers.ReadOnlyHdfsFileProviderTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  manager=new DefaultFileSystemManager();
  manager.addProvider("hdfs",new HdfsFileProvider());
  manager.init();
  this.hdfs=cluster.getFileSystem();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.start.classloader.vfs.providers.VfsClassLoaderTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  this.hdfs=cluster.getFileSystem();
  this.hdfs.mkdirs(TEST_DIR);
  URL jarPath=this.getClass().getResource("/HelloWorld.jar");
  Path src=new Path(jarPath.toURI().toString());
  Path dst=new Path(TEST_DIR,src.getName());
  this.hdfs.copyFromLocalFile(src,dst);
  FileObject testDir=vfs.resolveFile(TEST_DIR.toUri().toString());
  FileObject[] dirContents=testDir.getChildren();
  this.cl=new VFSClassLoader(dirContents,vfs);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.AuditMessageIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void resetInstance() throws Exception {
  conn=getConnector();
  removeUsersAndTables();
  getAuditMessages("setup");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.BadDeleteMarkersCreatedIT </h4><pre class="type-4 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void getTimeoutFactor(){
  try {
    timeoutFactor=Integer.parseInt(System.getProperty("timeout.factor"));
  }
 catch (  NumberFormatException e) {
    log.warn("Could not parse integer from timeout.factor");
  }
  Assert.assertTrue("timeout.factor must be greater than or equal to 1",timeoutFactor >= 1);
}

</code></pre>

<br>
<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void alterConfig() throws Exception {
  InstanceOperations iops=getConnector().instanceOperations();
  Map<String,String> config=iops.getSystemConfiguration();
  gcCycleDelay=config.get(Property.GC_CYCLE_DELAY.getKey());
  gcCycleStart=config.get(Property.GC_CYCLE_START.getKey());
  iops.setProperty(Property.GC_CYCLE_DELAY.getKey(),"1s");
  iops.setProperty(Property.GC_CYCLE_START.getKey(),"0s");
  log.info("Restarting garbage collector");
  getCluster().getClusterControl().stopAllServers(ServerType.GARBAGE_COLLECTOR);
  Instance instance=getConnector().getInstance();
  ZooCache zcache=new ZooCache(instance.getZooKeepers(),instance.getZooKeepersSessionTimeOut());
  zcache.clear();
  String path=ZooUtil.getRoot(instance) + Constants.ZGC_LOCK;
  byte[] gcLockData;
  do {
    gcLockData=ZooLock.getLockData(zcache,path,null);
    if (null != gcLockData) {
      log.info("Waiting for GC ZooKeeper lock to expire");
      Thread.sleep(2000);
    }
  }
 while (null != gcLockData);
  log.info("GC lock was lost");
  getCluster().getClusterControl().startAllServers(ServerType.GARBAGE_COLLECTOR);
  log.info("Garbage collector was restarted");
  gcLockData=null;
  do {
    gcLockData=ZooLock.getLockData(zcache,path,null);
    if (null == gcLockData) {
      log.info("Waiting for GC ZooKeeper lock to be acquired");
      Thread.sleep(2000);
    }
  }
 while (null == gcLockData);
  log.info("GC lock was acquired");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.CleanWalIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void offlineTraceTable() throws Exception {
  Connector conn=getConnector();
  String traceTable=conn.instanceOperations().getSystemConfiguration().get(Property.TRACE_TABLE.getKey());
  if (conn.tableOperations().exists(traceTable)) {
    conn.tableOperations().offline(traceTable,true);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.ClientSideIteratorIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setupInstance() throws Exception {
  conn=getConnector();
  tableName=getUniqueNames(1)[0];
}

</code></pre>

<br>
<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setupData(){
  resultSet1=new ArrayList<Key>();
  resultSet1.add(new Key("row1","colf","colq",4l));
  resultSet1.add(new Key("row1","colf","colq",3l));
  resultSet2=new ArrayList<Key>();
  resultSet2.add(new Key("row1","colf","colq",4l));
  resultSet2.add(new Key("row1","colf","colq",3l));
  resultSet2.add(new Key("row1","colf","colq",2l));
  resultSet2.add(new Key("row1","colf","colq",1l));
  resultSet3=new ArrayList<Key>();
  resultSet3.add(new Key("part1","","doc2"));
  resultSet3.add(new Key("part2","","DOC2"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.ConditionalWriterIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void deleteUsers() throws Exception {
  Connector conn=getConnector();
  Set<String> users=conn.securityOperations().listLocalUsers();
  ClusterUser user=getUser(0);
  if (users.contains(user.getPrincipal())) {
    conn.securityOperations().dropLocalUser(user.getPrincipal());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.MetaSplitIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void saveMetadataSplits() throws Exception {
  if (ClusterType.STANDALONE == getClusterType()) {
    Connector conn=getConnector();
    Collection<Text> splits=conn.tableOperations().listSplits(MetadataTable.NAME);
    if (!splits.equals(Arrays.asList(new Text("~")))) {
      log.info("Existing splits on metadata table. Saving them, and applying single original split of '~'");
      metadataSplits=splits;
      conn.tableOperations().merge(MetadataTable.NAME,null,null);
      conn.tableOperations().addSplits(MetadataTable.NAME,new TreeSet<Text>(Collections.singleton(new Text("~"))));
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.MissingWalHeaderCompletesRecoveryIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setupMetadataPermission() throws Exception {
  Connector conn=getConnector();
  rootHasWritePermission=conn.securityOperations().hasTablePermission("root",MetadataTable.NAME,TablePermission.WRITE);
  if (!rootHasWritePermission) {
    conn.securityOperations().grantTablePermission("root",MetadataTable.NAME,TablePermission.WRITE);
    Thread.sleep(5000);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.MultiTableBatchWriterIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUpArgs() throws AccumuloException, AccumuloSecurityException {
  connector=getConnector();
  mtbw=getMultiTableBatchWriter(60);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.NamespacesIT </h4><pre class="type-4 type-21 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setupConnectorAndNamespace() throws Exception {
  Assume.assumeTrue(ClusterType.MINI == getClusterType());
  c=getConnector();
  namespace="ns_" + getUniqueNames(1)[0];
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.ShellConfigIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void checkProperty() throws Exception {
  Connector conn=getConnector();
  origPropValue=conn.instanceOperations().getSystemConfiguration().get(Property.TABLE_VOLUME_CHOOSER.getKey());
  conn.instanceOperations().setProperty(Property.TABLE_VOLUME_CHOOSER.getKey(),FairVolumeChooser.class.getName());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.ShellServerIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setupShell() throws Exception {
  ts=new TestShell(getPrincipal(),getRootPassword(),getCluster().getConfig().getInstanceName(),getCluster().getConfig().getZooKeepers(),getCluster().getConfig().getClientConfFile());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.TableOperationsIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  connector=getConnector();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.examples.simple.dirlist.CountIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setupInstance() throws Exception {
  tableName=getUniqueNames(1)[0];
  conn=getConnector();
  conn.tableOperations().create(tableName);
  BatchWriter bw=conn.createBatchWriter(tableName,new BatchWriterConfig());
  ColumnVisibility cv=new ColumnVisibility();
  bw.addMutation(Ingest.buildMutation(cv,"/local",true,false,true,272,12345,null));
  bw.addMutation(Ingest.buildMutation(cv,"/local/user1",true,false,true,272,12345,null));
  bw.addMutation(Ingest.buildMutation(cv,"/local/user2",true,false,true,272,12345,null));
  bw.addMutation(Ingest.buildMutation(cv,"/local/file",false,false,false,1024,12345,null));
  bw.addMutation(Ingest.buildMutation(cv,"/local/file",false,false,false,1024,23456,null));
  bw.addMutation(Ingest.buildMutation(cv,"/local/user1/file1",false,false,false,2024,12345,null));
  bw.addMutation(Ingest.buildMutation(cv,"/local/user1/file2",false,false,false,1028,23456,null));
  bw.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.examples.simple.filedata.ChunkInputFormatIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setupInstance() throws Exception {
  conn=getConnector();
  tableName=getUniqueNames(1)[0];
  conn.securityOperations().changeUserAuthorizations(conn.whoami(),AUTHS);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.examples.simple.filedata.ChunkInputStreamIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setupInstance() throws Exception {
  conn=getConnector();
  tableName=getUniqueNames(1)[0];
  conn.securityOperations().changeUserAuthorizations(conn.whoami(),AUTHS);
}

</code></pre>

<br>
<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setupData(){
  data=new ArrayList<Entry<Key,Value>>();
  addData(data,"a","refs","id\0ext","A&B","ext");
  addData(data,"a","refs","id\0name","A&B","name");
  addData(data,"a","~chunk",100,0,"A&B","asdfjkl;");
  addData(data,"a","~chunk",100,1,"A&B","");
  addData(data,"b","refs","id\0ext","A&B","ext");
  addData(data,"b","refs","id\0name","A&B","name");
  addData(data,"b","~chunk",100,0,"A&B","qwertyuiop");
  addData(data,"b","~chunk",100,0,"B&C","qwertyuiop");
  addData(data,"b","~chunk",100,1,"A&B","");
  addData(data,"b","~chunk",100,1,"B&C","");
  addData(data,"b","~chunk",100,1,"D","");
  addData(data,"c","~chunk",100,0,"A&B","asdfjkl;");
  addData(data,"c","~chunk",100,1,"A&B","asdfjkl;");
  addData(data,"c","~chunk",100,2,"A&B","");
  addData(data,"d","~chunk",100,0,"A&B","");
  addData(data,"e","~chunk",100,0,"A&B","asdfjkl;");
  addData(data,"e","~chunk",100,1,"A&B","");
  baddata=new ArrayList<Entry<Key,Value>>();
  addData(baddata,"a","~chunk",100,0,"A","asdfjkl;");
  addData(baddata,"b","~chunk",100,0,"B","asdfjkl;");
  addData(baddata,"b","~chunk",100,2,"C","");
  addData(baddata,"c","~chunk",100,0,"D","asdfjkl;");
  addData(baddata,"c","~chunk",100,2,"E","");
  addData(baddata,"d","~chunk",100,0,"F","asdfjkl;");
  addData(baddata,"d","~chunk",100,1,"G","");
  addData(baddata,"d","~zzzzz","colq","H","");
  addData(baddata,"e","~chunk",100,0,"I","asdfjkl;");
  addData(baddata,"e","~chunk",100,1,"J","");
  addData(baddata,"e","~chunk",100,2,"I","asdfjkl;");
  addData(baddata,"f","~chunk",100,2,"K","asdfjkl;");
  addData(baddata,"g","~chunk",100,0,"L","");
  multidata=new ArrayList<Entry<Key,Value>>();
  addData(multidata,"a","~chunk",100,0,"A&B","asdfjkl;");
  addData(multidata,"a","~chunk",100,1,"A&B","");
  addData(multidata,"a","~chunk",200,0,"B&C","asdfjkl;");
  addData(multidata,"b","~chunk",100,0,"A&B","asdfjkl;");
  addData(multidata,"b","~chunk",200,0,"B&C","asdfjkl;");
  addData(multidata,"b","~chunk",200,1,"B&C","asdfjkl;");
  addData(multidata,"c","~chunk",100,0,"A&B","asdfjkl;");
  addData(multidata,"c","~chunk",100,1,"B&C","");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.functional.BalanceInPresenceOfOfflineTableIT </h4><pre class="type-4 type-21 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setupTables() throws AccumuloException, AccumuloSecurityException, TableExistsException, TableNotFoundException {
  Connector conn=getConnector();
  Assume.assumeTrue("Not enough tservers to run test",conn.instanceOperations().getTabletServers().size() >= 2);
  final SortedSet<Text> splits=new TreeSet<Text>();
  for (int i=0; i < NUM_SPLITS; i++) {
    splits.add(new Text(String.format("%08x",i * 1000)));
  }
  String[] names=getUniqueNames(2);
  UNUSED_TABLE=names[0];
  TEST_TABLE=names[1];
  connector=getConnector();
  connector.tableOperations().create(UNUSED_TABLE);
  connector.tableOperations().addSplits(UNUSED_TABLE,splits);
  connector.tableOperations().offline(UNUSED_TABLE);
  connector.tableOperations().create(TEST_TABLE);
  connector.tableOperations().setProperty(TEST_TABLE,Property.TABLE_SPLIT_THRESHOLD.getKey(),"10K");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.functional.BinaryStressIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void alterConfig() throws Exception {
  if (ClusterType.MINI == getClusterType()) {
    return;
  }
  InstanceOperations iops=getConnector().instanceOperations();
  Map<String,String> conf=iops.getSystemConfiguration();
  majcDelay=conf.get(Property.TSERV_MAJC_DELAY.getKey());
  maxMem=conf.get(Property.TSERV_MAXMEM.getKey());
  iops.setProperty(Property.TSERV_MAJC_DELAY.getKey(),"0");
  iops.setProperty(Property.TSERV_MAXMEM.getKey(),"50K");
  getClusterControl().stopAllServers(ServerType.TABLET_SERVER);
  getClusterControl().startAllServers(ServerType.TABLET_SERVER);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.functional.BulkIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void saveConf(){
  origConf=CachedConfiguration.getInstance();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.functional.BulkSplitOptimizationIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void alterConfig() throws Exception {
  Connector conn=getConnector();
  majcDelay=conn.instanceOperations().getSystemConfiguration().get(Property.TSERV_MAJC_DELAY.getKey());
  if (!"1s".equals(majcDelay)) {
    conn.instanceOperations().setProperty(Property.TSERV_MAJC_DELAY.getKey(),"1s");
    getClusterControl().stopAllServers(ServerType.TABLET_SERVER);
    getClusterControl().startAllServers(ServerType.TABLET_SERVER);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.functional.ClassLoaderIT </h4><pre class="type-4 type-21 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void checkCluster(){
  Assume.assumeThat(getClusterType(),CoreMatchers.is(ClusterType.MINI));
  MiniAccumuloClusterImpl mac=(MiniAccumuloClusterImpl)getCluster();
  rootPath=mac.getConfig().getDir().getAbsolutePath();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.functional.CompactionIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void alterConfig() throws Exception {
  if (ClusterType.STANDALONE == getClusterType()) {
    InstanceOperations iops=getConnector().instanceOperations();
    Map<String,String> config=iops.getSystemConfiguration();
    majcThreadMaxOpen=config.get(Property.TSERV_MAJC_THREAD_MAXOPEN.getKey());
    majcDelay=config.get(Property.TSERV_MAJC_DELAY.getKey());
    majcMaxConcurrent=config.get(Property.TSERV_MAJC_MAXCONCURRENT.getKey());
    iops.setProperty(Property.TSERV_MAJC_THREAD_MAXOPEN.getKey(),"4");
    iops.setProperty(Property.TSERV_MAJC_DELAY.getKey(),"1");
    iops.setProperty(Property.TSERV_MAJC_MAXCONCURRENT.getKey(),"1");
    getClusterControl().stopAllServers(ServerType.TABLET_SERVER);
    getClusterControl().startAllServers(ServerType.TABLET_SERVER);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.functional.ConfigurableMacBase </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  createMiniAccumulo();
  Exception lastException=null;
  for (int i=0; i < 3; i++) {
    try {
      cluster.start();
      return;
    }
 catch (    ZooKeeperBindException e) {
      lastException=e;
      log.warn("Failed to start MiniAccumuloCluster, assumably due to ZooKeeper issues",lastException);
      Thread.sleep(3000);
      createMiniAccumulo();
    }
  }
  throw new RuntimeException("Failed to start MiniAccumuloCluster after three attempts",lastException);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.functional.CredentialsIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void createLocalUser() throws AccumuloException, AccumuloSecurityException {
  Connector conn=getConnector();
  inst=conn.getInstance();
  ClientConfiguration clientConf=cluster.getClientConfig();
  ClusterUser user=getUser(0);
  username=user.getPrincipal();
  saslEnabled=clientConf.getBoolean(ClientProperty.INSTANCE_RPC_SASL_ENABLED.getKey(),false);
  Set<String> users=conn.securityOperations().listLocalUsers();
  if (!users.contains(username)) {
    PasswordToken passwdToken=null;
    if (!saslEnabled) {
      password=user.getPassword();
      passwdToken=new PasswordToken(password);
    }
    conn.securityOperations().createLocalUser(username,passwdToken);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.functional.DeleteEverythingIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void updateMajcDelay() throws Exception {
  Connector c=getConnector();
  majcDelay=c.instanceOperations().getSystemConfiguration().get(Property.TSERV_MAJC_DELAY.getKey());
  c.instanceOperations().setProperty(Property.TSERV_MAJC_DELAY.getKey(),"1s");
  if (getClusterType() == ClusterType.STANDALONE) {
    Thread.sleep(AccumuloConfiguration.getTimeInMillis(majcDelay));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.functional.DynamicThreadPoolsIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void updateMajcDelay() throws Exception {
  Connector c=getConnector();
  majcDelay=c.instanceOperations().getSystemConfiguration().get(Property.TSERV_MAJC_DELAY.getKey());
  c.instanceOperations().setProperty(Property.TSERV_MAJC_DELAY.getKey(),"100ms");
  if (getClusterType() == ClusterType.STANDALONE) {
    Thread.sleep(AccumuloConfiguration.getTimeInMillis(majcDelay));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.functional.ExamplesIT </h4><pre class="type-4 type-11 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void getClusterInfo() throws Exception {
  c=getConnector();
  user=getAdminPrincipal();
  AuthenticationToken token=getAdminToken();
  if (token instanceof KerberosToken) {
    keytab=getAdminUser().getKeytab().getAbsolutePath();
    saslEnabled=true;
  }
 else   if (token instanceof PasswordToken) {
    passwd=new String(((PasswordToken)getAdminToken()).getPassword(),UTF_8);
    saslEnabled=false;
  }
 else {
    Assert.fail("Unknown token type: " + token);
  }
  fs=getCluster().getFileSystem();
  instance=c.getInstance().getInstanceName();
  keepers=c.getInstance().getZooKeepers();
  dir=new Path(cluster.getTemporaryPath(),getClass().getName()).toString();
  origAuths=c.securityOperations().getUserAuthorizations(user);
  c.securityOperations().changeUserAuthorizations(user,new Authorizations(auths.split(",")));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.functional.KerberosIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void startMac() throws Exception {
  MiniClusterHarness harness=new MiniClusterHarness();
  mac=harness.create(this,new PasswordToken("unused"),kdc,new MiniClusterConfigurationCallback(){
    @Override public void configureMiniCluster(    MiniAccumuloConfigImpl cfg,    Configuration coreSite){
      Map<String,String> site=cfg.getSiteConfig();
      site.put(Property.INSTANCE_ZK_TIMEOUT.getKey(),"15s");
      cfg.setSiteConfig(site);
    }
  }
);
  mac.getConfig().setNumTservers(1);
  mac.start();
  Configuration conf=new Configuration(false);
  conf.set(CommonConfigurationKeysPublic.HADOOP_SECURITY_AUTHENTICATION,"kerberos");
  UserGroupInformation.setConfiguration(conf);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.functional.KerberosProxyIT </h4><pre class="type-4 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void startMac() throws Exception {
  MiniClusterHarness harness=new MiniClusterHarness();
  mac=harness.create(getClass().getName(),testName.getMethodName(),new PasswordToken("unused"),new MiniClusterConfigurationCallback(){
    @Override public void configureMiniCluster(    MiniAccumuloConfigImpl cfg,    Configuration coreSite){
      cfg.setNumTservers(1);
      Map<String,String> siteCfg=cfg.getSiteConfig();
      siteCfg.put(Property.INSTANCE_RPC_SASL_PROXYUSERS.getKey() + proxyPrincipal + ".users",kdc.getRootUser().getPrincipal());
      siteCfg.put(Property.INSTANCE_RPC_SASL_PROXYUSERS.getKey() + proxyPrincipal + ".hosts","*");
      cfg.setSiteConfig(siteCfg);
    }
  }
,kdc);
  mac.start();
  MiniAccumuloConfigImpl cfg=mac.getConfig();
  proxyPort=PortUtils.getRandomFreePort();
  File proxyPropertiesFile=new File(cfg.getConfDir(),"proxy.properties");
  Properties proxyProperties=new Properties();
  proxyProperties.setProperty("useMockInstance","false");
  proxyProperties.setProperty("useMiniAccumulo","false");
  proxyProperties.setProperty("protocolFactory",TCompactProtocol.Factory.class.getName());
  proxyProperties.setProperty("tokenClass",KerberosToken.class.getName());
  proxyProperties.setProperty("port",Integer.toString(proxyPort));
  proxyProperties.setProperty("maxFrameSize","16M");
  proxyProperties.setProperty("instance",mac.getInstanceName());
  proxyProperties.setProperty("zookeepers",mac.getZooKeepers());
  proxyProperties.setProperty("thriftServerType","sasl");
  proxyProperties.setProperty("kerberosPrincipal",proxyPrincipal);
  proxyProperties.setProperty("kerberosKeytab",proxyKeytab.getCanonicalPath());
  FileWriter writer=new FileWriter(proxyPropertiesFile);
  proxyProperties.store(writer,"Configuration for Accumulo proxy");
  writer.close();
  proxyProcess=mac.exec(Proxy.class,"-p",proxyPropertiesFile.getCanonicalPath());
  Configuration conf=new Configuration(false);
  conf.set(CommonConfigurationKeysPublic.HADOOP_SECURITY_AUTHENTICATION,"kerberos");
  UserGroupInformation.setConfiguration(conf);
  boolean success=false;
  ClusterUser rootUser=kdc.getRootUser();
  for (int i=0; i < 10 && !success; i++) {
    UserGroupInformation ugi;
    try {
      ugi=UserGroupInformation.loginUserFromKeytabAndReturnUGI(rootUser.getPrincipal(),rootUser.getKeytab().getAbsolutePath());
    }
 catch (    IOException ex) {
      log.info("Login as root is failing",ex);
      Thread.sleep(3000);
      continue;
    }
    TSocket socket=new TSocket(hostname,proxyPort);
    log.info("Connecting to proxy with server primary '" + proxyPrimary + "' running on "+ hostname);
    TSaslClientTransport transport=new TSaslClientTransport("GSSAPI",null,proxyPrimary,hostname,Collections.singletonMap("javax.security.sasl.qop","auth"),null,socket);
    final UGIAssumingTransport ugiTransport=new UGIAssumingTransport(transport,ugi);
    try {
      ugiTransport.open();
      success=true;
    }
 catch (    TTransportException e) {
      Throwable cause=e.getCause();
      if (null != cause && cause instanceof ConnectException) {
        log.info("Proxy not yet up, waiting");
        Thread.sleep(3000);
        continue;
      }
    }
 finally {
      if (null != ugiTransport) {
        ugiTransport.close();
      }
    }
  }
  assertTrue("Failed to connect to the proxy repeatedly",success);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.functional.KerberosRenewalIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void startMac() throws Exception {
  MiniClusterHarness harness=new MiniClusterHarness();
  mac=harness.create(this,new PasswordToken("unused"),kdc,new MiniClusterConfigurationCallback(){
    @Override public void configureMiniCluster(    MiniAccumuloConfigImpl cfg,    Configuration coreSite){
      Map<String,String> site=cfg.getSiteConfig();
      site.put(Property.INSTANCE_ZK_TIMEOUT.getKey(),"15s");
      site.put(Property.GENERAL_KERBEROS_RENEWAL_PERIOD.getKey(),"5s");
      cfg.setSiteConfig(site);
    }
  }
);
  mac.getConfig().setNumTservers(1);
  mac.start();
  Configuration conf=new Configuration(false);
  conf.set(CommonConfigurationKeysPublic.HADOOP_SECURITY_AUTHENTICATION,"kerberos");
  UserGroupInformation.setConfiguration(conf);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.functional.LargeRowIT </h4><pre class="type-4 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void getTimeoutFactor() throws Exception {
  try {
    timeoutFactor=Integer.parseInt(System.getProperty("timeout.factor"));
  }
 catch (  NumberFormatException e) {
    log.warn("Could not parse property value for 'timeout.factor' as integer: " + System.getProperty("timeout.factor"));
  }
  Assert.assertTrue("Timeout factor must be greater than or equal to 1",timeoutFactor >= 1);
  String[] names=getUniqueNames(2);
  REG_TABLE_NAME=names[0];
  PRE_SPLIT_TABLE_NAME=names[1];
  Connector c=getConnector();
  tservMajcDelay=c.instanceOperations().getSystemConfiguration().get(Property.TSERV_MAJC_DELAY.getKey());
  c.instanceOperations().setProperty(Property.TSERV_MAJC_DELAY.getKey(),"10ms");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.functional.MaxOpenIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void alterConfig() throws Exception {
  InstanceOperations iops=getConnector().instanceOperations();
  Map<String,String> sysConfig=iops.getSystemConfiguration();
  scanMaxOpenFiles=sysConfig.get(Property.TSERV_SCAN_MAX_OPENFILES.getKey());
  majcConcurrent=sysConfig.get(Property.TSERV_MAJC_MAXCONCURRENT.getKey());
  majcThreadMaxOpen=sysConfig.get(Property.TSERV_MAJC_THREAD_MAXOPEN.getKey());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.functional.PermissionsIT </h4><pre class="type-4 type-21 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void limitToMini() throws Exception {
  Assume.assumeTrue(ClusterType.MINI == getClusterType());
  Connector c=getConnector();
  Set<String> users=c.securityOperations().listLocalUsers();
  ClusterUser user=getUser(0);
  if (users.contains(user.getPrincipal())) {
    c.securityOperations().dropLocalUser(user.getPrincipal());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.functional.RestartIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  svc=Executors.newFixedThreadPool(1);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.functional.RestartStressIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  svc=Executors.newFixedThreadPool(1);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.functional.ScanIteratorIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  connector=getConnector();
  tableName=getUniqueNames(1)[0];
  connector.tableOperations().create(tableName);
  ClientConfiguration clientConfig=cluster.getClientConfig();
  ClusterUser clusterUser=getUser(0);
  user=clusterUser.getPrincipal();
  PasswordToken userToken;
  if (clientConfig.getBoolean(ClientProperty.INSTANCE_RPC_SASL_ENABLED.getKey(),false)) {
    userToken=null;
    saslEnabled=true;
  }
 else {
    userToken=new PasswordToken(clusterUser.getPassword());
    saslEnabled=false;
  }
  if (connector.securityOperations().listLocalUsers().contains(user)) {
    log.info("Dropping {}",user);
    connector.securityOperations().dropLocalUser(user);
  }
  connector.securityOperations().createLocalUser(user,userToken);
  connector.securityOperations().grantTablePermission(user,tableName,TablePermission.READ);
  connector.securityOperations().grantTablePermission(user,tableName,TablePermission.WRITE);
  connector.securityOperations().changeUserAuthorizations(user,AuthsIterator.AUTHS);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.functional.ScanSessionTimeOutIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void reduceSessionIdle() throws Exception {
  InstanceOperations ops=getConnector().instanceOperations();
  sessionIdle=ops.getSystemConfiguration().get(Property.TSERV_SESSION_MAXIDLE.getKey());
  ops.setProperty(Property.TSERV_SESSION_MAXIDLE.getKey(),getMaxIdleTimeString());
  log.info("Waiting for existing session idle time to expire");
  Thread.sleep(AccumuloConfiguration.getTimeInMillis(sessionIdle));
  log.info("Finished waiting");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.functional.ScannerContextIT </h4><pre class="type-4 type-21 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void checkCluster() throws Exception {
  Assume.assumeThat(getClusterType(),CoreMatchers.is(ClusterType.MINI));
  MiniAccumuloClusterImpl.class.cast(getCluster());
  fs=FileSystem.get(CachedConfiguration.getInstance());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.functional.SplitIT </h4><pre class="type-4 type-21 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void alterConfig() throws Exception {
  Assume.assumeTrue(ClusterType.MINI == getClusterType());
  InstanceOperations iops=getConnector().instanceOperations();
  Map<String,String> config=iops.getSystemConfiguration();
  tservMaxMem=config.get(Property.TSERV_MAXMEM.getKey());
  tservMajcDelay=config.get(Property.TSERV_MAJC_DELAY.getKey());
  if (!tservMajcDelay.equals("100ms")) {
    iops.setProperty(Property.TSERV_MAJC_DELAY.getKey(),"100ms");
  }
  boolean restarted=false;
  if (!tservMaxMem.equals("5K")) {
    iops.setProperty(Property.TSERV_MAXMEM.getKey(),"5K");
    getCluster().getClusterControl().stopAllServers(ServerType.TABLET_SERVER);
    getCluster().getClusterControl().startAllServers(ServerType.TABLET_SERVER);
    restarted=true;
  }
  if (!restarted) {
    long millis=AccumuloConfiguration.getTimeInMillis(tservMajcDelay);
    log.info("Waiting for majc delay period: {}ms",millis);
    Thread.sleep(millis);
    log.info("Finished waiting for majc delay period");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.functional.VisibilityIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void emptyAuths() throws Exception {
  Connector c=getConnector();
  origAuths=c.securityOperations().getUserAuthorizations(getAdminPrincipal());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.gc.replication.CloseWriteAheadLogReferencesIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setupEasyMockStuff(){
  Instance mockInst=createMock(Instance.class);
  SiteConfiguration siteConfig=EasyMock.createMock(SiteConfiguration.class);
  expect(mockInst.getInstanceID()).andReturn(testName.getMethodName()).anyTimes();
  expect(mockInst.getZooKeepers()).andReturn("localhost").anyTimes();
  expect(mockInst.getZooKeepersSessionTimeOut()).andReturn(30000).anyTimes();
  final AccumuloConfiguration systemConf=new ConfigurationCopy(new HashMap<String,String>());
  ServerConfigurationFactory factory=createMock(ServerConfigurationFactory.class);
  expect(factory.getConfiguration()).andReturn(systemConf).anyTimes();
  expect(factory.getInstance()).andReturn(mockInst).anyTimes();
  expect(factory.getSiteConfiguration()).andReturn(siteConfig).anyTimes();
  EasyMock.expect(siteConfig.get(EasyMock.anyObject(Property.class))).andAnswer(new IAnswer<String>(){
    @Override public String answer(){
      Object[] args=EasyMock.getCurrentArguments();
      return systemConf.get((Property)args[0]);
    }
  }
).anyTimes();
  EasyMock.expect(siteConfig.getBoolean(EasyMock.anyObject(Property.class))).andAnswer(new IAnswer<Boolean>(){
    @Override public Boolean answer(){
      Object[] args=EasyMock.getCurrentArguments();
      return systemConf.getBoolean((Property)args[0]);
    }
  }
).anyTimes();
  EasyMock.expect(siteConfig.iterator()).andAnswer(new IAnswer<Iterator<Entry<String,String>>>(){
    @Override public Iterator<Entry<String,String>> answer(){
      return systemConf.iterator();
    }
  }
).anyTimes();
  replay(mockInst,factory,siteConfig);
  refs=new WrappedCloseWriteAheadLogReferences(new AccumuloServerContext(factory));
}

</code></pre>

<br>
<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setupInstance() throws Exception {
  conn=getConnector();
  conn.securityOperations().grantTablePermission(conn.whoami(),ReplicationTable.NAME,TablePermission.WRITE);
  conn.securityOperations().grantTablePermission(conn.whoami(),MetadataTable.NAME,TablePermission.WRITE);
  ReplicationTable.setOnline(conn);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.mapreduce.AccumuloFileOutputFormatIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  PREFIX=testName.getMethodName() + "_";
  BAD_TABLE=PREFIX + "_mapreduce_bad_table";
  TEST_TABLE=PREFIX + "_mapreduce_test_table";
  EMPTY_TABLE=PREFIX + "_mapreduce_empty_table";
  Connector c=getConnector();
  c.tableOperations().create(EMPTY_TABLE);
  c.tableOperations().create(TEST_TABLE);
  c.tableOperations().create(BAD_TABLE);
  BatchWriter bw=c.createBatchWriter(TEST_TABLE,new BatchWriterConfig());
  Mutation m=new Mutation("Key");
  m.put("","","");
  bw.addMutation(m);
  bw.close();
  bw=c.createBatchWriter(BAD_TABLE,new BatchWriterConfig());
  m=new Mutation("r1");
  m.put("cf1","cq1","A&B");
  m.put("cf1","cq1","A&B");
  m.put("cf1","cq2","A&");
  bw.addMutation(m);
  bw.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.mapreduce.AccumuloInputFormatIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before(){
  inputFormat=new AccumuloInputFormat();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.proxy.SimpleProxyBase </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  if (isKerberosEnabled()) {
    UserGroupInformation.loginUserFromKeytab(clientPrincipal,clientKeytab.getAbsolutePath());
    proxyClient=new TestProxyClient(hostname,proxyPort,factory,proxyPrimary,UserGroupInformation.getCurrentUser());
    client=proxyClient.proxy();
    creds=client.login(clientPrincipal,properties);
    TestingKdc kdc=getKdc();
    final ClusterUser user=kdc.getClientPrincipal(0);
    client.createLocalUser(creds,user.getPrincipal(),s2bb("unused"));
    UserGroupInformation.loginUserFromKeytab(user.getPrincipal(),user.getKeytab().getAbsolutePath());
    final UserGroupInformation badUgi=UserGroupInformation.getCurrentUser();
    TestProxyClient badClient=new TestProxyClient(hostname,proxyPort,factory,proxyPrimary,badUgi);
    try {
      Client badProxy=badClient.proxy();
      badLogin=badProxy.login(user.getPrincipal(),properties);
    }
  finally {
      badClient.close();
    }
    UserGroupInformation.loginUserFromKeytab(clientPrincipal,clientKeytab.getAbsolutePath());
    client.dropLocalUser(creds,user.getPrincipal());
  }
 else {
    proxyClient=new TestProxyClient(hostname,proxyPort,factory);
    client=proxyClient.proxy();
    creds=client.login("root",properties);
    client.createLocalUser(creds,"user",s2bb(SharedMiniClusterBase.getRootPassword()));
    badLogin=client.login("user",properties);
    client.dropLocalUser(creds,"user");
  }
  table=getUniqueNames(1)[0];
  client.createTable(creds,table,true,TimeType.MILLIS);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.proxy.TestProxyReadWrite </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void makeTestTable() throws Exception {
  tpc.proxy().createTable(userpass,testtable,true,TimeType.MILLIS);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.proxy.TestProxySecurityOperations </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void makeTestTableAndUser() throws Exception {
  tpc.proxy().createTable(userpass,testtable,true,TimeType.MILLIS);
  tpc.proxy().createLocalUser(userpass,testuser,testpw);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.proxy.TestProxyTableOperations </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void makeTestTable() throws Exception {
  tpc.proxy().createTable(userpass,testtable,true,TimeType.MILLIS);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.replication.FinishedWorkUpdaterIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void configureUpdater() throws Exception {
  conn=getConnector();
  updater=new FinishedWorkUpdater(conn);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.replication.KerberosReplicationIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  MiniClusterHarness harness=new MiniClusterHarness();
  primary=harness.create(getClass().getName(),testName.getMethodName(),new PasswordToken("unused"),getConfigCallback(PRIMARY_NAME),kdc);
  primary.start();
  peer=harness.create(getClass().getName(),testName.getMethodName() + "_peer",new PasswordToken("unused"),getConfigCallback(PEER_NAME),kdc);
  peer.start();
  Configuration conf=new Configuration(false);
  conf.set(CommonConfigurationKeysPublic.HADOOP_SECURITY_AUTHENTICATION,"kerberos");
  UserGroupInformation.setConfiguration(conf);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.replication.MultiInstanceReplicationIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void createExecutor(){
  executor=Executors.newSingleThreadExecutor();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.replication.RemoveCompleteReplicationRecordsIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void initialize() throws Exception {
  conn=getConnector();
  rcrr=new MockRemoveCompleteReplicationRecords(conn);
  conn.securityOperations().grantTablePermission(conn.whoami(),ReplicationTable.NAME,TablePermission.READ);
  conn.securityOperations().grantTablePermission(conn.whoami(),ReplicationTable.NAME,TablePermission.WRITE);
  ReplicationTable.setOnline(conn);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.replication.ReplicationOperationsImplIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void configureInstance() throws Exception {
  conn=getConnector();
  inst=conn.getInstance();
  ReplicationTable.setOnline(conn);
  conn.securityOperations().grantTablePermission(conn.whoami(),MetadataTable.NAME,TablePermission.WRITE);
  conn.securityOperations().grantTablePermission(conn.whoami(),ReplicationTable.NAME,TablePermission.READ);
  conn.securityOperations().grantTablePermission(conn.whoami(),ReplicationTable.NAME,TablePermission.WRITE);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.replication.SequentialWorkAssignerIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void init() throws Exception {
  conn=getConnector();
  assigner=new MockSequentialWorkAssigner(conn);
  conn.securityOperations().grantTablePermission(conn.whoami(),ReplicationTable.NAME,TablePermission.READ);
  conn.securityOperations().grantTablePermission(conn.whoami(),ReplicationTable.NAME,TablePermission.WRITE);
  ReplicationTable.setOnline(conn);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.replication.StatusMakerIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setupInstance() throws Exception {
  conn=getConnector();
  ReplicationTable.setOnline(conn);
  conn.securityOperations().grantTablePermission(conn.whoami(),ReplicationTable.NAME,TablePermission.WRITE);
  conn.securityOperations().grantTablePermission(conn.whoami(),ReplicationTable.NAME,TablePermission.READ);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.replication.UnorderedWorkAssignerIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void init() throws Exception {
  conn=getConnector();
  assigner=new MockUnorderedWorkAssigner(conn);
  ReplicationTable.setOnline(conn);
  conn.securityOperations().grantTablePermission(conn.whoami(),ReplicationTable.NAME,TablePermission.WRITE);
  conn.securityOperations().grantTablePermission(conn.whoami(),ReplicationTable.NAME,TablePermission.READ);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.replication.UnorderedWorkAssignerReplicationIT </h4><pre class="type-4 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void createExecutor(){
  executor=Executors.newSingleThreadExecutor();
  try {
    timeoutFactor=Integer.parseInt(System.getProperty("timeout.factor"));
  }
 catch (  NumberFormatException exception) {
    log.warn("Could not parse timeout.factor, not increasing timeout.");
  }
  Assert.assertTrue("The timeout factor must be a positive, non-zero value",timeoutFactor > 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.replication.WorkMakerIT </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setupInstance() throws Exception {
  conn=getConnector();
  ReplicationTable.setOnline(conn);
  conn.securityOperations().grantTablePermission(conn.whoami(),ReplicationTable.NAME,TablePermission.WRITE);
  conn.securityOperations().grantTablePermission(conn.whoami(),ReplicationTable.NAME,TablePermission.READ);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.security.KerberosClientOptsTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void resetUgiForKrb(){
  Configuration conf=new Configuration(false);
  conf.set(CommonConfigurationKeysPublic.HADOOP_SECURITY_AUTHENTICATION,"kerberos");
  UserGroupInformation.setConfiguration(conf);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.test.security.KerberosTokenTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void resetUgiForKrb(){
  Configuration conf=new Configuration(false);
  conf.set(CommonConfigurationKeysPublic.HADOOP_SECURITY_AUTHENTICATION,"kerberos");
  UserGroupInformation.setConfiguration(conf);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.tracer.TracerTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  callable=new Callable(){
    @Override public Object call() throws IOException {
      throw new IOException();
    }
  }
;
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.tserver.AssignmentWatcherTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  assignments=new HashMap<KeyExtent,RunnableStartedAt>();
  timer=EasyMock.createMock(SimpleTimer.class);
  conf=EasyMock.createMock(AccumuloConfiguration.class);
  watcher=new AssignmentWatcher(conf,assignments,timer);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.tserver.LargestFirstMemoryManagerTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void mockInstance(){
  inst=EasyMock.createMock(Instance.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.tserver.TabletResourceManagerTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  tsrm=createMock(TabletServerResourceManager.class);
  extent=createMock(KeyExtent.class);
  conf=createMock(TableConfiguration.class);
  trm=tsrm.new TabletResourceManager(extent,conf);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.tserver.constraints.ConstraintCheckerTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws NoSuchMethodException, SecurityException {
  cc=createMockBuilder(ConstraintChecker.class).addMockedMethod("getConstraints").createMock();
  constraints=new ArrayList<Constraint>();
  expect(cc.getConstraints()).andReturn(constraints);
  env=createMock(Environment.class);
  extent=createMock(KeyExtent.class);
  expect(env.getExtent()).andReturn(extent);
  m=createMock(Mutation.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.tserver.log.LocalWALRecoveryTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  File source=new File("src/test/resources","walog-from-14");
  configuration=createMock(AccumuloConfiguration.class);
  expect(configuration.get(Property.LOGGER_DIR)).andReturn(source.getAbsolutePath()).anyTimes();
  replay(configuration);
  walTarget=folder.newFolder("wal");
  recovery=new LocalWALRecovery(configuration);
  recovery.parseArgs("--dfs-wal-directory",walTarget.getAbsolutePath());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.tserver.log.MultiReaderTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  root.create();
  String path=root.getRoot().getAbsolutePath() + "/manyMaps";
  fs=VolumeManagerImpl.getLocal(path);
  Path root=new Path("file://" + path);
  fs.mkdirs(root);
  fs.create(new Path(root,"finished")).close();
  FileSystem ns=fs.getVolumeByPath(root).getFileSystem();
  Writer oddWriter=new Writer(ns.getConf(),ns.makeQualified(new Path(root,"odd")),Writer.keyClass(IntWritable.class),Writer.valueClass(BytesWritable.class));
  BytesWritable value=new BytesWritable("someValue".getBytes());
  for (int i=1; i < 1000; i+=2) {
    oddWriter.append(new IntWritable(i),value);
  }
  oddWriter.close();
  Writer evenWriter=new Writer(ns.getConf(),ns.makeQualified(new Path(root,"even")),Writer.keyClass(IntWritable.class),Writer.valueClass(BytesWritable.class));
  for (int i=0; i < 1000; i+=2) {
    if (i == 10)     continue;
    evenWriter.append(new IntWritable(i),value);
  }
  evenWriter.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.tserver.log.TestUpgradePathForWALogs </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  Logger.getRootLogger().setLevel(Level.ERROR);
  root.create();
  String path=root.getRoot().getAbsolutePath() + "/manyMaps";
  fs=VolumeManagerImpl.getLocal(path);
  Path manyMapsPath=new Path("file://" + path);
  fs.mkdirs(manyMapsPath);
  fs.create(SortedLogState.getFinishedMarkerPath(manyMapsPath)).close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.accumulo.tserver.replication.BatchWriterReplicationReplayerTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUpContext() throws AccumuloException, AccumuloSecurityException {
  conn=createMock(Connector.class);
  conf=createMock(AccumuloConfiguration.class);
  bw=createMock(BatchWriter.class);
  context=createMock(ClientContext.class);
  expect(context.getConfiguration()).andReturn(conf).anyTimes();
  expect(context.getConnector()).andReturn(conn).anyTimes();
  replay(context);
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
