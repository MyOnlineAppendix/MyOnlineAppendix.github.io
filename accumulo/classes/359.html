<h3 style="margin:0px">Class: org.apache.accumulo.test.functional.ExamplesIT (20 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Executes methods or other tests from the same test unit"><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >ExecutionTester&nbsp;(10)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(7)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(7)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(6)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(5)</kbd></button>&nbsp;<button id="21"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('21')" data-toggle="tooltip" title="Sets implicit assumptions "><kbd id="tag-21"class="label-info"style="display: inline-block;font-size:7pt" >AssumptionSetter&nbsp;(5)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="11"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('11')" data-toggle="tooltip" title="Verifies assertions inside branch conditions"><kbd id="tag-11"class="label-info"style="display: inline-block;font-size:7pt" >BranchVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Allocates resources before the execution of the test cases"><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >TestInitializer&nbsp;(1)</kbd></button>&nbsp;<button id="17"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('17')" data-toggle="tooltip" title="Releases resources used by the test cases"><kbd id="tag-17"class="label-info"style="display: inline-block;font-size:7pt" >TestCleaner&nbsp;(1)</kbd></button>&nbsp;<button id="13"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('13')" data-toggle="tooltip" title="Verifies assertions in iterations"><kbd id="tag-13"class="label-info"style="display: inline-block;font-size:7pt" >IterativeVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="8"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('8')" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure"><kbd id="tag-8"class="label-info"style="display: inline-block;font-size:7pt" >UtilityVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testScansWithInterference() throws Exception {
  String[] args;
  if (saslEnabled) {
    args=new String[]{"-i",instance,"-z",keepers,"-u",user,"--keytab",keytab,"-t",getUniqueNames(1)[0],"--iterations","100000"};
  }
 else {
    args=new String[]{"-i",instance,"-z",keepers,"-u",user,"-p",passwd,"-t",getUniqueNames(1)[0],"--iterations","100000"};
  }
  goodExec(InterferenceTest.class,args);
}

</code></pre>

<pre class="type-9 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClasspath() throws Exception {
  Entry<Integer,String> entry=getCluster().getClusterControl().execWithStdout(Main.class,new String[]{"classpath"});
  assertEquals(0,entry.getKey().intValue());
  String result=entry.getValue();
  int level1=result.indexOf("Level 1");
  int level2=result.indexOf("Level 2");
  int level3=result.indexOf("Level 3");
  int level4=result.indexOf("Level 4");
  assertTrue("Level 1 classloader not present.",level1 >= 0);
  assertTrue("Level 2 classloader not present.",level2 > 0);
  assertTrue("Level 3 classloader not present.",level3 > 0);
  assertTrue("Level 4 classloader not present.",level4 > 0);
  assertTrue(level1 < level2);
  assertTrue(level2 < level3);
  assertTrue(level3 < level4);
}

</code></pre>

<pre class="type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
"></span><br>
@After public void resetAuths() throws Exception {
  if (null != origAuths) {
    getConnector().securityOperations().changeUserAuthorizations(getAdminPrincipal(),origAuths);
  }
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testIsolatedScansWithInterference() throws Exception {
  String[] args;
  if (saslEnabled) {
    args=new String[]{"-i",instance,"-z",keepers,"-u",user,"--keytab",keytab,"-t",getUniqueNames(1)[0],"--iterations","100000","--isolated"};
  }
 else {
    args=new String[]{"-i",instance,"-z",keepers,"-u",user,"-p",passwd,"-t",getUniqueNames(1)[0],"--iterations","100000","--isolated"};
  }
  goodExec(InterferenceTest.class,args);
}

</code></pre>

<pre class="type-3 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAgeoffFilter() throws Exception {
  String tableName=getUniqueNames(1)[0];
  c.tableOperations().create(tableName);
  is=new IteratorSetting(10,AgeOffFilter.class);
  AgeOffFilter.setTTL(is,1000L);
  c.tableOperations().attachIterator(tableName,is);
  sleepUninterruptibly(500,TimeUnit.MILLISECONDS);
  bw=c.createBatchWriter(tableName,bwc);
  Mutation m=new Mutation("foo");
  m.put("a","b","c");
  bw.addMutation(m);
  bw.close();
  sleepUninterruptibly(1,TimeUnit.SECONDS);
  assertEquals(0,Iterators.size(c.createScanner(tableName,Authorizations.EMPTY).iterator()));
}

</code></pre>

<pre class="type-9 type-5 type-21 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Sets implicit assumptions 
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDirList() throws Exception {
  String[] names=getUniqueNames(3);
  String dirTable=names[0], indexTable=names[1], dataTable=names[2];
  String[] args;
  String dirListDirectory;
switch (getClusterType()) {
case MINI:
    dirListDirectory=((MiniAccumuloClusterImpl)getCluster()).getConfig().getDir().getAbsolutePath();
  break;
case STANDALONE:
dirListDirectory=((StandaloneAccumuloCluster)getCluster()).getAccumuloHome();
break;
default :
throw new RuntimeException("Unknown cluster type");
}
assumeTrue(new File(dirListDirectory).exists());
if (saslEnabled) {
args=new String[]{"-i",instance,"-z",keepers,"-u",user,"--keytab",keytab,"--dirTable",dirTable,"--indexTable",indexTable,"--dataTable",dataTable,"--vis",visibility,"--chunkSize",Integer.toString(10000),dirListDirectory};
}
 else {
args=new String[]{"-i",instance,"-z",keepers,"-u",user,"-p",passwd,"--dirTable",dirTable,"--indexTable",indexTable,"--dataTable",dataTable,"--vis",visibility,"--chunkSize",Integer.toString(10000),dirListDirectory};
}
Entry<Integer,String> entry=getClusterControl().execWithStdout(Ingest.class,args);
assertEquals("Got non-zero return code. Stdout=" + entry.getValue(),0,entry.getKey().intValue());
String expectedFile;
switch (getClusterType()) {
case MINI:
expectedFile="accumulo-site.xml";
break;
case STANDALONE:
expectedFile="LICENSE";
break;
default :
throw new RuntimeException("Unknown cluster type");
}
if (saslEnabled) {
args=new String[]{"-i",instance,"-z",keepers,"--keytab",keytab,"-u",user,"-t",indexTable,"--auths",auths,"--search","--path",expectedFile};
}
 else {
args=new String[]{"-i",instance,"-z",keepers,"-p",passwd,"-u",user,"-t",indexTable,"--auths",auths,"--search","--path",expectedFile};
}
entry=getClusterControl().execWithStdout(QueryUtil.class,args);
if (ClusterType.MINI == getClusterType()) {
MiniAccumuloClusterImpl impl=(MiniAccumuloClusterImpl)cluster;
for (LogWriter writer : impl.getLogWriters()) {
writer.flush();
}
}
log.info("result " + entry.getValue());
assertEquals(0,entry.getKey().intValue());
assertTrue(entry.getValue().contains(expectedFile));
}

</code></pre>

<pre class="type-21 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Sets implicit assumptions 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testBulkIngest() throws Exception {
  assumeTrue(getAdminToken() instanceof PasswordToken);
  String tableName=getUniqueNames(1)[0];
  FileSystem fs=getFileSystem();
  Path p=new Path(dir,"tmp");
  if (fs.exists(p)) {
    fs.delete(p,true);
  }
  goodExec(GenerateTestData.class,"--start-row","0","--count","10000","--output",dir + "/tmp/input/data");
  List<String> commonArgs=new ArrayList<>(Arrays.asList(new String[]{"-i",instance,"-z",keepers,"-u",user,"--table",tableName}));
  if (saslEnabled) {
    commonArgs.add("--keytab");
    commonArgs.add(keytab);
  }
 else {
    commonArgs.add("-p");
    commonArgs.add(passwd);
  }
  List<String> args=new ArrayList<>(commonArgs);
  goodExec(SetupTable.class,args.toArray(new String[0]));
  args=new ArrayList<>(commonArgs);
  args.addAll(Arrays.asList(new String[]{"--inputDir",dir + "/tmp/input","--workDir",dir + "/tmp"}));
  goodExec(BulkIngestExample.class,args.toArray(new String[0]));
  args=new ArrayList<>(commonArgs);
  args.addAll(Arrays.asList(new String[]{"--start-row","0","--count","10000"}));
  goodExec(VerifyIngest.class,args.toArray(new String[0]));
}

</code></pre>

<pre class="type-4 type-11 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void getClusterInfo() throws Exception {
  c=getConnector();
  user=getAdminPrincipal();
  AuthenticationToken token=getAdminToken();
  if (token instanceof KerberosToken) {
    keytab=getAdminUser().getKeytab().getAbsolutePath();
    saslEnabled=true;
  }
 else   if (token instanceof PasswordToken) {
    passwd=new String(((PasswordToken)getAdminToken()).getPassword(),UTF_8);
    saslEnabled=false;
  }
 else {
    Assert.fail("Unknown token type: " + token);
  }
  fs=getCluster().getFileSystem();
  instance=c.getInstance().getInstanceName();
  keepers=c.getInstance().getZooKeepers();
  dir=new Path(cluster.getTemporaryPath(),getClass().getName()).toString();
  origAuths=c.securityOperations().getUserAuthorizations(user);
  c.securityOperations().changeUserAuthorizations(user,new Authorizations(auths.split(",")));
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testReadWriteAndDelete() throws Exception {
  String tableName=getUniqueNames(1)[0];
  String[] args;
  if (saslEnabled) {
    args=new String[]{"-i",instance,"-z",keepers,"-u",user,"--keytab",keytab,"--auths",auths,"--table",tableName,"--createtable","-c","--debug"};
  }
 else {
    args=new String[]{"-i",instance,"-z",keepers,"-u",user,"-p",passwd,"--auths",auths,"--table",tableName,"--createtable","-c","--debug"};
  }
  goodExec(ReadWriteExample.class,args);
  if (saslEnabled) {
    args=new String[]{"-i",instance,"-z",keepers,"-u",user,"--keytab",keytab,"--auths",auths,"--table",tableName,"-d","--debug"};
  }
 else {
    args=new String[]{"-i",instance,"-z",keepers,"-u",user,"-p",passwd,"--auths",auths,"--table",tableName,"-d","--debug"};
  }
  goodExec(ReadWriteExample.class,args);
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRowOperations() throws Exception {
  String[] args;
  if (saslEnabled) {
    args=new String[]{"-i",instance,"-z",keepers,"-u",user,"--keytab",keytab};
  }
 else {
    args=new String[]{"-i",instance,"-z",keepers,"-u",user,"-p",passwd};
  }
  goodExec(RowOperations.class,args);
}

</code></pre>

<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMaxMutationConstraint() throws Exception {
  String tableName=getUniqueNames(1)[0];
  c.tableOperations().create(tableName);
  c.tableOperations().addConstraint(tableName,MaxMutationSize.class.getName());
  TestIngest.Opts opts=new TestIngest.Opts();
  opts.rows=1;
  opts.cols=1000;
  opts.setTableName(tableName);
  if (saslEnabled) {
    opts.updateKerberosCredentials(cluster.getClientConfig());
  }
 else {
    opts.setPrincipal(getAdminPrincipal());
  }
  try {
    TestIngest.ingest(c,opts,bwOpts);
  }
 catch (  MutationsRejectedException ex) {
    assertEquals(1,ex.getConstraintViolationSummaries().size());
  }
}

</code></pre>

<pre class="type-9 type-13 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBloomFilters() throws Exception {
  String tableName=getUniqueNames(1)[0];
  c.tableOperations().create(tableName);
  c.tableOperations().setProperty(tableName,Property.TABLE_BLOOM_ENABLED.getKey(),"true");
  String[] args;
  if (saslEnabled) {
    args=new String[]{"--seed","7","-i",instance,"-z",keepers,"-u",user,"--keytab",keytab,"--num","100000","--min","0","--max","1000000000","--size","50","--batchMemory","2M","--batchLatency","60s","--batchThreads","3","-t",tableName};
  }
 else {
    args=new String[]{"--seed","7","-i",instance,"-z",keepers,"-u",user,"-p",passwd,"--num","100000","--min","0","--max","1000000000","--size","50","--batchMemory","2M","--batchLatency","60s","--batchThreads","3","-t",tableName};
  }
  goodExec(RandomBatchWriter.class,args);
  c.tableOperations().flush(tableName,null,null,true);
  long diff=0, diff2=0;
  for (int i=0; i < 2; i++) {
    long now=System.currentTimeMillis();
    if (saslEnabled) {
      args=new String[]{"--seed","7","-i",instance,"-z",keepers,"-u",user,"--keytab",keytab,"--num","10000","--min","0","--max","1000000000","--size","50","--scanThreads","4","-t",tableName};
    }
 else {
      args=new String[]{"--seed","7","-i",instance,"-z",keepers,"-u",user,"-p",passwd,"--num","10000","--min","0","--max","1000000000","--size","50","--scanThreads","4","-t",tableName};
    }
    goodExec(RandomBatchScanner.class,args);
    diff=System.currentTimeMillis() - now;
    now=System.currentTimeMillis();
    if (saslEnabled) {
      args=new String[]{"--seed","8","-i",instance,"-z",keepers,"-u",user,"--keytab",keytab,"--num","10000","--min","0","--max","1000000000","--size","50","--scanThreads","4","-t",tableName};
    }
 else {
      args=new String[]{"--seed","8","-i",instance,"-z",keepers,"-u",user,"-p",passwd,"--num","10000","--min","0","--max","1000000000","--size","50","--scanThreads","4","-t",tableName};
    }
    int retCode=getClusterControl().exec(RandomBatchScanner.class,args);
    assertEquals(1,retCode);
    diff2=System.currentTimeMillis() - now;
    if (diff2 < diff)     break;
  }
  assertTrue(diff2 < diff);
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testBatchWriter() throws Exception {
  String tableName=getUniqueNames(1)[0];
  c.tableOperations().create(tableName);
  String[] args;
  if (saslEnabled) {
    args=new String[]{"-i",instance,"-z",keepers,"-u",user,"--keytab",keytab,"-t",tableName,"--start","0","--num","100000","--size","50","--batchMemory","10000000","--batchLatency","1000","--batchThreads","4","--vis",visibility};
  }
 else {
    args=new String[]{"-i",instance,"-z",keepers,"-u",user,"-p",passwd,"-t",tableName,"--start","0","--num","100000","--size","50","--batchMemory","10000000","--batchLatency","1000","--batchThreads","4","--vis",visibility};
  }
  goodExec(SequentialBatchWriter.class,args);
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRandomBatchesAndFlush() throws Exception {
  String tableName=getUniqueNames(1)[0];
  c.tableOperations().create(tableName);
  String[] args;
  if (saslEnabled) {
    args=new String[]{"-i",instance,"-z",keepers,"-u",user,"--keytab",keytab,"--table",tableName,"--num","100000","--min","0","--max","100000","--size","100","--batchMemory","1000000","--batchLatency","1000","--batchThreads","4","--vis",visibility};
  }
 else {
    args=new String[]{"-i",instance,"-z",keepers,"-u",user,"-p",passwd,"--table",tableName,"--num","100000","--min","0","--max","100000","--size","100","--batchMemory","1000000","--batchLatency","1000","--batchThreads","4","--vis",visibility};
  }
  goodExec(RandomBatchWriter.class,args);
  if (saslEnabled) {
    args=new String[]{"-i",instance,"-z",keepers,"-u",user,"--keytab",keytab,"--table",tableName,"--num","10000","--min","0","--max","100000","--size","100","--scanThreads","4","--auths",auths};
  }
 else {
    args=new String[]{"-i",instance,"-z",keepers,"-u",user,"-p",passwd,"--table",tableName,"--num","10000","--min","0","--max","100000","--size","100","--scanThreads","4","--auths",auths};
  }
  goodExec(RandomBatchScanner.class,args);
  if (saslEnabled) {
    args=new String[]{"-i",instance,"-z",keepers,"-u",user,"--keytab",keytab,"--table",tableName};
  }
 else {
    args=new String[]{"-i",instance,"-z",keepers,"-u",user,"-p",passwd,"--table",tableName};
  }
  goodExec(Flush.class,args);
}

</code></pre>

<pre class="type-5 type-21 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testShardedIndex() throws Exception {
  File src=new File(System.getProperty("user.dir") + "/src");
  assumeTrue(src.exists());
  String[] names=getUniqueNames(3);
  final String shard=names[0], index=names[1];
  c.tableOperations().create(shard);
  c.tableOperations().create(index);
  bw=c.createBatchWriter(shard,bwc);
  Index.index(30,src,"\\W+",bw);
  bw.close();
  BatchScanner bs=c.createBatchScanner(shard,Authorizations.EMPTY,4);
  List<String> found=Query.query(bs,Arrays.asList("foo","bar"),null);
  bs.close();
  boolean thisFile=false;
  for (  String file : found) {
    if (file.endsWith("/ExamplesIT.java"))     thisFile=true;
  }
  assertTrue(thisFile);
  String[] args;
  if (saslEnabled) {
    args=new String[]{"-i",instance,"-z",keepers,"--shardTable",shard,"--doc2Term",index,"-u",user,"--keytab",keytab};
  }
 else {
    args=new String[]{"-i",instance,"-z",keepers,"--shardTable",shard,"--doc2Term",index,"-u",getAdminPrincipal(),"-p",passwd};
  }
  goodExec(Reverse.class,args);
  if (saslEnabled) {
    args=new String[]{"-i",instance,"-z",keepers,"--shardTable",shard,"--doc2Term",index,"-u",user,"--keytab",keytab,"--terms","5","--count","1000"};
  }
 else {
    args=new String[]{"-i",instance,"-z",keepers,"--shardTable",shard,"--doc2Term",index,"-u",user,"-p",passwd,"--terms","5","--count","1000"};
  }
  goodExec(ContinuousQuery.class,args);
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testInsertWithBatchWriterAndReadData() throws Exception {
  String tableName=getUniqueNames(1)[0];
  String[] args;
  if (saslEnabled) {
    args=new String[]{"-i",instance,"-z",keepers,"-u",user,"--keytab",keytab,"-t",tableName};
  }
 else {
    args=new String[]{"-i",instance,"-z",keepers,"-u",user,"-p",passwd,"-t",tableName};
  }
  goodExec(InsertWithBatchWriter.class,args);
  goodExec(ReadData.class,args);
}

</code></pre>

<pre class="type-9 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTrace() throws Exception {
  Process trace=null;
  if (ClusterType.MINI == getClusterType()) {
    MiniAccumuloClusterImpl impl=(MiniAccumuloClusterImpl)cluster;
    trace=impl.exec(TraceServer.class);
    while (!c.tableOperations().exists("trace"))     sleepUninterruptibly(500,TimeUnit.MILLISECONDS);
  }
  String[] args;
  if (saslEnabled) {
    args=new String[]{"-i",instance,"-z",keepers,"-u",user,"--keytab",keytab,"-C","-D","-c"};
  }
 else {
    args=new String[]{"-i",instance,"-z",keepers,"-u",user,"-p",passwd,"-C","-D","-c"};
  }
  Entry<Integer,String> pair=cluster.getClusterControl().execWithStdout(TracingExample.class,args);
  Assert.assertEquals("Expected return code of zero. STDOUT=" + pair.getValue(),0,pair.getKey().intValue());
  String result=pair.getValue();
  Pattern pattern=Pattern.compile("TraceID: ([0-9a-f]+)");
  Matcher matcher=pattern.matcher(result);
  int count=0;
  while (matcher.find()) {
    if (saslEnabled) {
      args=new String[]{"-i",instance,"-z",keepers,"-u",user,"--keytab",keytab,"--traceid",matcher.group(1)};
    }
 else {
      args=new String[]{"-i",instance,"-z",keepers,"-u",user,"-p",passwd,"--traceid",matcher.group(1)};
    }
    pair=cluster.getClusterControl().execWithStdout(TraceDumpExample.class,args);
    count++;
  }
  assertTrue(count > 0);
  assertTrue("Output did not contain myApp@myHost",pair.getValue().contains("myApp@myHost"));
  if (ClusterType.MINI == getClusterType() && null != trace) {
    trace.destroy();
  }
}

</code></pre>

<pre class="type-21 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Sets implicit assumptions 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testTeraSortAndRead() throws Exception {
  assumeTrue(getAdminToken() instanceof PasswordToken);
  String tableName=getUniqueNames(1)[0];
  String[] args;
  if (saslEnabled) {
    args=new String[]{"--count",(1000 * 1000) + "","-nk","10","-xk","10","-nv","10","-xv","10","-t",tableName,"-i",instance,"-z",keepers,"-u",user,"--keytab",keytab,"--splits","4"};
  }
 else {
    args=new String[]{"--count",(1000 * 1000) + "","-nk","10","-xk","10","-nv","10","-xv","10","-t",tableName,"-i",instance,"-z",keepers,"-u",user,"-p",passwd,"--splits","4"};
  }
  goodExec(TeraSortIngest.class,args);
  Path output=new Path(dir,"tmp/nines");
  if (fs.exists(output)) {
    fs.delete(output,true);
  }
  if (saslEnabled) {
    args=new String[]{"-i",instance,"-z",keepers,"-u",user,"--keytab",keytab,"-t",tableName,"--rowRegex",".*999.*","--output",output.toString()};
  }
 else {
    args=new String[]{"-i",instance,"-z",keepers,"-u",user,"-p",passwd,"-t",tableName,"--rowRegex",".*999.*","--output",output.toString()};
  }
  goodExec(RegexExample.class,args);
  if (saslEnabled) {
    args=new String[]{"-i",instance,"-z",keepers,"-u",user,"--keytab",keytab,"-t",tableName,"--column","c:"};
  }
 else {
    args=new String[]{"-i",instance,"-z",keepers,"-u",user,"-p",passwd,"-t",tableName,"--column","c:"};
  }
  goodExec(RowHash.class,args);
  output=new Path(dir,"tmp/tableFile");
  if (fs.exists(output)) {
    fs.delete(output,true);
  }
  if (saslEnabled) {
    args=new String[]{"-i",instance,"-z",keepers,"-u",user,"--keytab",keytab,"-t",tableName,"--output",output.toString()};
  }
 else {
    args=new String[]{"-i",instance,"-z",keepers,"-u",user,"-p",passwd,"-t",tableName,"--output",output.toString()};
  }
  goodExec(TableToFile.class,args);
}

</code></pre>

<pre class="type-21 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Sets implicit assumptions 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testWordCount() throws Exception {
  assumeTrue(getAdminToken() instanceof PasswordToken);
  String tableName=getUniqueNames(1)[0];
  c.tableOperations().create(tableName);
  is=new IteratorSetting(10,SummingCombiner.class);
  SummingCombiner.setColumns(is,Collections.singletonList(new IteratorSetting.Column(new Text("count"))));
  SummingCombiner.setEncodingType(is,SummingCombiner.Type.STRING);
  c.tableOperations().attachIterator(tableName,is);
  Path readme=new Path(new Path(System.getProperty("user.dir")).getParent(),"README.md");
  if (!new File(readme.toString()).exists()) {
    log.info("Not running test: README.md does not exist)");
    return;
  }
  fs.copyFromLocalFile(readme,new Path(dir + "/tmp/wc/README.md"));
  String[] args;
  if (saslEnabled) {
    args=new String[]{"-i",instance,"-u",user,"--keytab",keytab,"-z",keepers,"--input",dir + "/tmp/wc","-t",tableName};
  }
 else {
    args=new String[]{"-i",instance,"-u",user,"-p",passwd,"-z",keepers,"--input",dir + "/tmp/wc","-t",tableName};
  }
  goodExec(WordCount.class,args);
}

</code></pre>

<pre class="type-9 type-5 type-3 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStatsCombiner() throws Exception {
  String table=getUniqueNames(1)[0];
  c.tableOperations().create(table);
  is=new IteratorSetting(10,StatsCombiner.class);
  StatsCombiner.setCombineAllColumns(is,true);
  c.tableOperations().attachIterator(table,is);
  bw=c.createBatchWriter(table,bwc);
  Mutation m=new Mutation("foo");
  m.put("a","b","1");
  bw.addMutation(m);
  m=new Mutation("foo");
  m.put("a","b","3");
  bw.addMutation(m);
  bw.flush();
  Iterator<Entry<Key,Value>> iter=c.createScanner(table,Authorizations.EMPTY).iterator();
  assertTrue("Iterator had no results",iter.hasNext());
  Entry<Key,Value> e=iter.next();
  assertEquals("Results ","1,3,4,2",e.getValue().toString());
  assertFalse("Iterator had additional results",iter.hasNext());
  m=new Mutation("foo");
  m.put("a","b","0,20,20,2");
  bw.addMutation(m);
  bw.close();
  iter=c.createScanner(table,Authorizations.EMPTY).iterator();
  assertTrue("Iterator had no results",iter.hasNext());
  e=iter.next();
  assertEquals("Results ","0,20,24,4",e.getValue().toString());
  assertFalse("Iterator had additional results",iter.hasNext());
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
