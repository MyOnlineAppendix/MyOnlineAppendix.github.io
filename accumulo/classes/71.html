<h3 style="margin:0px">Class: org.apache.accumulo.core.file.rfile.RFileTest (45 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Executes methods or other tests from the same test unit"><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >ExecutionTester&nbsp;(23)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(20)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(18)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(17)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(15)</kbd></button>&nbsp;<button id="13"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('13')" data-toggle="tooltip" title="Verifies assertions in iterations"><kbd id="tag-13"class="label-info"style="display: inline-block;font-size:7pt" >IterativeVerifier&nbsp;(7)</kbd></button>&nbsp;<button id="14"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('14')" data-toggle="tooltip" title="Verifies values related to public fields."><kbd id="tag-14"class="label-info"style="display: inline-block;font-size:7pt" >PublicFieldVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="11"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('11')" data-toggle="tooltip" title="Verifies assertions inside branch conditions"><kbd id="tag-11"class="label-info"style="display: inline-block;font-size:7pt" >BranchVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="10"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('10')" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution"><kbd id="tag-10"class="label-info"style="display: inline-block;font-size:7pt" >ExceptionVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEncRFile6() throws Exception {
  conf=setAndGetAccumuloConfig(CryptoTest.CRYPTO_ON_CONF);
  test6();
  conf=null;
}

</code></pre>

<pre class="type-13 type-11 type-5 type-3 type-2 type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test11() throws IOException {
  TestRFile trf=new TestRFile(conf);
  trf.openWriter(false);
  trf.writer.startNewLocalityGroup("lg1",ncfs("3mod10"));
  for (int i=3; i < 1024; i+=10) {
    trf.writer.append(nk(nf("i",i),"3mod10","","",i + 2),nv("" + i));
  }
  trf.writer.startNewLocalityGroup("lg2",ncfs("5mod10","7mod10"));
  for (int i=5; i < 1024; ) {
    trf.writer.append(nk(nf("i",i),"5mod10","","",i + 2),nv("" + i));
    i+=2;
    trf.writer.append(nk(nf("i",i),"7mod10","","",i + 2),nv("" + i));
    i+=8;
  }
  trf.writer.startDefaultLocalityGroup();
  for (int i=0; i < 1024; i++) {
    int m10=i % 10;
    if (m10 == 3 || m10 == 5 || m10 == 7)     continue;
    trf.writer.append(nk(nf("i",i),m10 + "mod10","","",i + 2),nv("" + i));
  }
  trf.writer.close();
  trf.openReader();
  trf.iter.seek(new Range(new Text(""),null),EMPTY_COL_FAMS,false);
  assertEquals(3,trf.reader.getNumLocalityGroupsSeeked());
  for (int i=0; i < 1024; i++) {
    assertTrue(trf.iter.hasTop());
    assertEquals(nk(nf("i",i),(i % 10) + "mod10","","",i + 2),trf.iter.getTopKey());
    assertEquals(nv("" + i),trf.iter.getTopValue());
    trf.iter.next();
  }
  assertFalse(trf.iter.hasTop());
  for (int m=0; m < 10; m++) {
    trf.iter.seek(new Range(new Key(),true,null,true),ncfs(m + "mod10"),true);
    assertEquals(1,trf.reader.getNumLocalityGroupsSeeked());
    for (int i=m; i < 1024; i+=10) {
      assertTrue(trf.iter.hasTop());
      assertEquals(nk(nf("i",i),(i % 10) + "mod10","","",i + 2),trf.iter.getTopKey());
      assertEquals(nv("" + i),trf.iter.getTopValue());
      trf.iter.next();
    }
    assertFalse(trf.iter.hasTop());
    trf.iter.seek(new Range(new Key(),true,null,true),ncfs(m + "mod10"),false);
    if (m == 3)     assertEquals(2,trf.reader.getNumLocalityGroupsSeeked());
 else     assertEquals(3,trf.reader.getNumLocalityGroupsSeeked());
    for (int i=0; i < 1024; i++) {
      if (i % 10 == m)       continue;
      assertTrue(trf.iter.hasTop());
      assertEquals(nk(nf("i",i),(i % 10) + "mod10","","",i + 2),trf.iter.getTopKey());
      assertEquals(nv("" + i),trf.iter.getTopValue());
      trf.iter.next();
    }
    assertFalse(trf.iter.hasTop());
  }
  SortedKeyValueIterator<Key,Value> reader2=trf.iter.deepCopy(null);
  for (int m=0; m < 9; m++) {
    trf.iter.seek(new Range(new Key(),true,null,true),ncfs(m + "mod10"),true);
    assertEquals(1,trf.reader.getNumLocalityGroupsSeeked());
    reader2.seek(new Range(new Key(),true,null,true),ncfs((m + 1) + "mod10"),true);
    for (int i=m; i < 1024; i+=10) {
      assertTrue(trf.iter.hasTop());
      assertEquals(nk(nf("i",i),(i % 10) + "mod10","","",i + 2),trf.iter.getTopKey());
      assertEquals(nv("" + i),trf.iter.getTopValue());
      trf.iter.next();
      if (i + 1 < 1024) {
        assertTrue(reader2.hasTop());
        assertEquals(nk(nf("i",(i + 1)),((i + 1) % 10) + "mod10","","",i + 3),reader2.getTopKey());
        assertEquals(nv("" + (i + 1)),reader2.getTopValue());
        reader2.next();
      }
    }
    assertFalse(trf.iter.hasTop());
    assertFalse(reader2.hasTop());
  }
  trf.closeReader();
}

</code></pre>

<pre class="type-5 type-3 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test7() throws IOException {
  TestRFile trf=new TestRFile(conf);
  trf.openWriter();
  for (int i=2; i < 50; i++) {
    trf.writer.append(nk(nf("r_",i),"cf1","cq1","L1",55),nv("foo" + i));
  }
  trf.closeWriter();
  trf.openReader();
  trf.iter.seek(new Range(nk(nf("r_",3),"cf1","cq1","L1",55),true,nk(nf("r_",4),"cf1","cq1","L1",55),false),EMPTY_COL_FAMS,false);
  assertTrue(trf.iter.hasTop());
  assertTrue(trf.iter.getTopKey().equals(nk(nf("r_",3),"cf1","cq1","L1",55)));
  assertEquals(nv("foo" + 3),trf.iter.getTopValue());
  trf.iter.next();
  assertFalse(trf.iter.hasTop());
  trf.iter.seek(new Range(nk(nf("r_",4) + "a","cf1","cq1","L1",55),true,nk(nf("r_",4) + "b","cf1","cq1","L1",55),true),EMPTY_COL_FAMS,false);
  assertFalse(trf.iter.hasTop());
  trf.iter.seek(new Range(nk(nf("r_",4) + "c","cf1","cq1","L1",55),true,nk(nf("r_",4) + "d","cf1","cq1","L1",55),true),EMPTY_COL_FAMS,false);
  assertFalse(trf.iter.hasTop());
  trf.iter.seek(new Range(nk(nf("r_",4) + "e","cf1","cq1","L1",55),true,nk(nf("r_",4) + "f","cf1","cq1","L1",55),true),EMPTY_COL_FAMS,false);
  assertFalse(trf.iter.hasTop());
  trf.iter.seek(new Range(nk(nf("r_",5),"cf1","cq1","L1",55),true,nk(nf("r_",6),"cf1","cq1","L1",55),false),EMPTY_COL_FAMS,false);
  assertTrue(trf.iter.hasTop());
  assertTrue(trf.iter.getTopKey().equals(nk(nf("r_",5),"cf1","cq1","L1",55)));
  assertEquals(nv("foo" + 5),trf.iter.getTopValue());
  trf.iter.next();
  assertFalse(trf.iter.hasTop());
  trf.iter.seek(new Range(nk(nf("r_",0),"cf1","cq1","L1",55),true,nk(nf("r_",2),"cf1","cq1","L1",55),false),EMPTY_COL_FAMS,false);
  assertFalse(trf.iter.hasTop());
  assertEquals(nk(nf("r_",49),"cf1","cq1","L1",55),trf.reader.getLastKey());
  trf.reader.close();
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEncRFile12() throws Exception {
  test12();
  conf=null;
}

</code></pre>

<pre class="type-9 type-13 type-5 type-3 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test3() throws IOException {
  TestRFile trf=new TestRFile(conf);
  trf.openWriter();
  int val=0;
  ArrayList<Key> expectedKeys=new ArrayList<Key>(10000);
  ArrayList<Value> expectedValues=new ArrayList<Value>(10000);
  for (int row=0; row < 4; row++) {
    String rowS=nf("r_",row);
    for (int cf=0; cf < 4; cf++) {
      String cfS=nf("cf_",cf);
      for (int cq=0; cq < 4; cq++) {
        String cqS=nf("cq_",cq);
        for (int cv='A'; cv < 'A' + 4; cv++) {
          String cvS="" + (char)cv;
          for (int ts=4; ts > 0; ts--) {
            Key k=nk(rowS,cfS,cqS,cvS,ts);
            k.setDeleted(true);
            Value v=nv("" + val);
            trf.writer.append(k,v);
            expectedKeys.add(k);
            expectedValues.add(v);
            k=nk(rowS,cfS,cqS,cvS,ts);
            v=nv("" + val);
            trf.writer.append(k,v);
            expectedKeys.add(k);
            expectedValues.add(v);
            val++;
          }
        }
      }
    }
  }
  trf.closeWriter();
  trf.openReader();
  trf.iter.seek(new Range((Key)null,null),EMPTY_COL_FAMS,false);
  verify(trf,expectedKeys.iterator(),expectedValues.iterator());
  int index=expectedKeys.size() / 2;
  trf.seek(expectedKeys.get(index));
  verify(trf,expectedKeys.subList(index,expectedKeys.size()).iterator(),expectedValues.subList(index,expectedKeys.size()).iterator());
  index=0;
  trf.seek(expectedKeys.get(index));
  verify(trf,expectedKeys.subList(index,expectedKeys.size()).iterator(),expectedValues.subList(index,expectedKeys.size()).iterator());
  index=expectedKeys.size() - 1;
  trf.seek(expectedKeys.get(index));
  verify(trf,expectedKeys.subList(index,expectedKeys.size()).iterator(),expectedValues.subList(index,expectedKeys.size()).iterator());
  index=expectedKeys.size();
  trf.seek(new Key(new Text("z")));
  verify(trf,expectedKeys.subList(index,expectedKeys.size()).iterator(),expectedValues.subList(index,expectedKeys.size()).iterator());
  index=expectedKeys.size() / 2;
  trf.seek(expectedKeys.get(index));
  assertTrue(trf.iter.hasTop());
  assertEquals(expectedKeys.get(index),trf.iter.getTopKey());
  assertEquals(expectedValues.get(index),trf.iter.getTopValue());
  trf.iter.next();
  index++;
  assertTrue(trf.iter.hasTop());
  assertEquals(expectedKeys.get(index),trf.iter.getTopKey());
  assertEquals(expectedValues.get(index),trf.iter.getTopValue());
  trf.seek(expectedKeys.get(index));
  assertTrue(trf.iter.hasTop());
  assertEquals(expectedKeys.get(index),trf.iter.getTopKey());
  assertEquals(expectedValues.get(index),trf.iter.getTopValue());
  index=0;
  for (  Key key : expectedKeys) {
    trf.seek(key);
    assertTrue(trf.iter.hasTop());
    assertEquals(key,trf.iter.getTopKey());
    assertEquals(expectedValues.get(index),trf.iter.getTopValue());
    if (index > 0) {
      expectedKeys.get(index - 1);
    }
    index++;
  }
  for (int i=expectedKeys.size() - 1; i >= 0; i--) {
    Key key=expectedKeys.get(i);
    trf.seek(key);
    assertTrue(trf.iter.hasTop());
    assertEquals(key,trf.iter.getTopKey());
    assertEquals(expectedValues.get(i),trf.iter.getTopValue());
    if (i - 1 > 0) {
      expectedKeys.get(i - 1);
    }
  }
  assertEquals(expectedKeys.get(expectedKeys.size() - 1),trf.reader.getLastKey());
  Random rand=new Random();
  for (int i=0; i < 12; i++) {
    index=rand.nextInt(expectedKeys.size());
    trf.seek(expectedKeys.get(index));
    for (; index < expectedKeys.size(); index++) {
      assertTrue(trf.iter.hasTop());
      assertEquals(expectedKeys.get(index),trf.iter.getTopKey());
      assertEquals(expectedValues.get(index),trf.iter.getTopValue());
      trf.iter.next();
    }
  }
  trf.closeReader();
}

</code></pre>

<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void test16() throws IOException {
  TestRFile trf=new TestRFile(conf);
  trf.openWriter(false);
  trf.writer.startNewLocalityGroup("lg1",ncfs("a","b"));
  trf.writer.append(nk("0007","a","cq1","",4),nv("1"));
  try {
    trf.writer.startNewLocalityGroup("lg1",ncfs("b","c"));
    assertFalse(true);
  }
 catch (  IllegalArgumentException ioe) {
  }
  trf.closeWriter();
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEncRFile16() throws Exception {
  conf=setAndGetAccumuloConfig(CryptoTest.CRYPTO_ON_CONF);
  test16();
}

</code></pre>

<pre class="type-9 type-13 type-3 type-2 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
@Test public void testSample() throws IOException {
  int num=10000;
  for (  int sampleBufferSize : new int[]{1 << 10,1 << 20}) {
    RFile.setSampleBufferSize(sampleBufferSize);
    for (    int modulus : new int[]{19,103,1019}) {
      Hasher dataHasher=Hashing.md5().newHasher();
      List<Entry<Key,Value>> sampleData=new ArrayList<Entry<Key,Value>>();
      ConfigurationCopy sampleConf=new ConfigurationCopy(conf == null ? AccumuloConfiguration.getDefaultConfiguration() : conf);
      sampleConf.set(Property.TABLE_SAMPLER,RowSampler.class.getName());
      sampleConf.set(Property.TABLE_SAMPLER_OPTS + "hasher","murmur3_32");
      sampleConf.set(Property.TABLE_SAMPLER_OPTS + "modulus",modulus + "");
      Sampler sampler=SamplerFactory.newSampler(SamplerConfigurationImpl.newSamplerConfig(sampleConf),sampleConf);
      TestRFile trf=new TestRFile(sampleConf);
      trf.openWriter();
      for (int i=0; i < num; i++) {
        add(trf,nk(i,0),nv(i,0),dataHasher,sampleData,sampler);
        add(trf,nk(i,1),nv(i,1),dataHasher,sampleData,sampler);
      }
      HashCode expectedDataHash=dataHasher.hash();
      trf.closeWriter();
      trf.openReader();
      FileSKVIterator sample=trf.reader.getSample(SamplerConfigurationImpl.newSamplerConfig(sampleConf));
      checkSample(sample,sampleData);
      Assert.assertEquals(expectedDataHash,hash(trf.reader));
      SampleIE ie=new SampleIE(SamplerConfigurationImpl.newSamplerConfig(sampleConf).toSamplerConfiguration());
      for (int i=0; i < 3; i++) {
        trf.reader.closeDeepCopies();
        sample=trf.reader.getSample(SamplerConfigurationImpl.newSamplerConfig(sampleConf));
        SortedKeyValueIterator<Key,Value> sampleDC1=sample.deepCopy(ie);
        SortedKeyValueIterator<Key,Value> sampleDC2=sample.deepCopy(ie);
        SortedKeyValueIterator<Key,Value> sampleDC3=trf.reader.deepCopy(ie);
        SortedKeyValueIterator<Key,Value> allDC1=sampleDC1.deepCopy(new SampleIE(null));
        SortedKeyValueIterator<Key,Value> allDC2=sample.deepCopy(new SampleIE(null));
        Assert.assertEquals(expectedDataHash,hash(allDC1));
        Assert.assertEquals(expectedDataHash,hash(allDC2));
        checkSample(sample,sampleData);
        checkSample(sampleDC1,sampleData);
        checkSample(sampleDC2,sampleData);
        checkSample(sampleDC3,sampleData);
      }
      trf.reader.closeDeepCopies();
      trf.closeReader();
    }
  }
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEncRFile2() throws Exception {
  conf=setAndGetAccumuloConfig(CryptoTest.CRYPTO_ON_CONF);
  test2();
  conf=null;
}

</code></pre>

<pre class="type-5 type-3 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test12() throws IOException {
  TestRFile trf=new TestRFile(conf);
  trf.openWriter(false);
  trf.writer.startNewLocalityGroup("lg1",ncfs("a","b"));
  trf.writer.append(nk("0007","a","cq1","",4),nv("1"));
  try {
    trf.writer.append(nk("0009","c","cq1","",4),nv("1"));
    assertFalse(true);
  }
 catch (  IllegalArgumentException ioe) {
  }
  trf.closeWriter();
  trf.openReader();
  trf.iter.seek(new Range(),EMPTY_COL_FAMS,false);
  assertTrue(trf.iter.hasTop());
  assertEquals(nk("0007","a","cq1","",4),trf.iter.getTopKey());
  assertEquals(nv("1"),trf.iter.getTopValue());
  trf.iter.next();
  assertFalse(trf.iter.hasTop());
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEncRFile5() throws Exception {
  conf=setAndGetAccumuloConfig(CryptoTest.CRYPTO_ON_CONF);
  test5();
  conf=null;
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEncRFile9() throws Exception {
  conf=setAndGetAccumuloConfig(CryptoTest.CRYPTO_ON_CONF);
  test9();
  conf=null;
}

</code></pre>

<pre class="type-13 type-5 type-3 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test6() throws IOException {
  TestRFile trf=new TestRFile(conf);
  trf.openWriter();
  for (int i=0; i < 500; i++) {
    trf.writer.append(nk(nf("r_",i),"cf1","cq1","L1",55),nv("foo1"));
  }
  trf.closeWriter();
  trf.openReader();
  for (int i=0; i < 10; i++) {
    trf.seek(nk(nf("q_",i),"cf1","cq1","L1",55));
    assertTrue(trf.iter.hasTop());
    assertEquals(nk(nf("r_",0),"cf1","cq1","L1",55),trf.iter.getTopKey());
    assertEquals(nv("foo1"),trf.iter.getTopValue());
  }
  for (int i=0; i < 10; i++) {
    trf.seek(nk(nf("s_",i),"cf1","cq1","L1",55));
    assertFalse(trf.iter.hasTop());
  }
  assertEquals(nk(nf("r_",499),"cf1","cq1","L1",55),trf.reader.getLastKey());
  trf.closeReader();
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEncRFile13() throws Exception {
  conf=setAndGetAccumuloConfig(CryptoTest.CRYPTO_ON_CONF);
  test13();
  conf=null;
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testOldVersions() throws Exception {
  runVersionTest(3);
  runVersionTest(4);
  runVersionTest(6);
  runVersionTest(7);
}

</code></pre>

<pre class="type-5 type-3 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test2() throws IOException {
  TestRFile trf=new TestRFile(conf);
  trf.openWriter();
  trf.writer.append(nk("r1","cf1","cq1","L1",55),nv("foo"));
  trf.closeWriter();
  trf.openReader();
  trf.seek(null);
  assertTrue(trf.iter.hasTop());
  assertTrue(trf.iter.getTopKey().equals(nk("r1","cf1","cq1","L1",55)));
  assertTrue(trf.iter.getTopValue().equals(nv("foo")));
  trf.iter.next();
  assertFalse(trf.iter.hasTop());
  trf.seek(nk("r2","cf1","cq1","L1",55));
  assertFalse(trf.iter.hasTop());
  trf.seek(nk("r1","cf1","cq1","L1",55));
  assertTrue(trf.iter.hasTop());
  assertTrue(trf.iter.getTopKey().equals(nk("r1","cf1","cq1","L1",55)));
  assertTrue(trf.iter.getTopValue().equals(nv("foo")));
  trf.iter.next();
  assertFalse(trf.iter.hasTop());
  assertEquals(nk("r1","cf1","cq1","L1",55),trf.reader.getLastKey());
  trf.closeReader();
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEncRFile1() throws Exception {
  conf=setAndGetAccumuloConfig(CryptoTest.CRYPTO_ON_CONF);
  test1();
  conf=null;
}

</code></pre>

<pre class="type-13 type-5 type-3 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test17() throws IOException {
  TestRFile trf=new TestRFile(conf);
  trf.openWriter(false);
  trf.writer.startDefaultLocalityGroup();
  for (int i=0; i < 2048; i++) {
    trf.writer.append(nk("r0000","cf1","cq1","",1),nv("" + i));
  }
  for (int i=2048; i < 4096; i++) {
    trf.writer.append(nk("r0001","cf1","cq1","",1),nv("" + i));
  }
  trf.writer.close();
  trf.openReader();
  FileSKVIterator indexIter=trf.reader.getIndex();
  int count=0;
  while (indexIter.hasTop()) {
    count++;
    indexIter.next();
  }
  assertTrue(count > 4);
  trf.iter.seek(new Range(nk("r0000","cf1","cq1","",1),true,nk("r0001","cf1","cq1","",1),false),EMPTY_COL_FAMS,false);
  for (int i=0; i < 2048; i++) {
    assertTrue(trf.iter.hasTop());
    assertEquals(nk("r0000","cf1","cq1","",1),trf.iter.getTopKey());
    assertEquals(nv("" + i),trf.iter.getTopValue());
    trf.iter.next();
  }
  assertFalse(trf.iter.hasTop());
  trf.iter.seek(new Range(nk("r0000","cf1","cq1","",1),false,nk("r0001","cf1","cq1","",1),true),EMPTY_COL_FAMS,false);
  for (int i=2048; i < 4096; i++) {
    assertTrue(trf.iter.hasTop());
    assertEquals(nk("r0001","cf1","cq1","",1),trf.iter.getTopKey());
    assertEquals(nv("" + i),trf.iter.getTopValue());
    trf.iter.next();
  }
  assertFalse(trf.iter.hasTop());
  trf.iter.seek(new Range(nk("r0001","cf1","cq1","",1),true,nk("r0001","cf1","cq1","",1),true),EMPTY_COL_FAMS,false);
  for (int i=2048; i < 4096; i++) {
    assertTrue(trf.iter.hasTop());
    assertEquals(nk("r0001","cf1","cq1","",1),trf.iter.getTopKey());
    assertEquals(nv("" + i),trf.iter.getTopValue());
    trf.iter.next();
  }
  assertFalse(trf.iter.hasTop());
  trf.iter.seek(new Range(nk("r0002","cf1","cq1","",1),true,nk("r0002","cf1","cq1","",1),true),EMPTY_COL_FAMS,false);
  assertFalse(trf.iter.hasTop());
  trf.iter.seek(new Range((Key)null,null),EMPTY_COL_FAMS,false);
  for (int i=0; i < 2048; i++) {
    assertTrue(trf.iter.hasTop());
    assertEquals(nk("r0000","cf1","cq1","",1),trf.iter.getTopKey());
    assertEquals(nv("" + i),trf.iter.getTopValue());
    trf.iter.next();
  }
  for (int i=2048; i < 4096; i++) {
    assertTrue(trf.iter.hasTop());
    assertEquals(nk("r0001","cf1","cq1","",1),trf.iter.getTopKey());
    assertEquals(nv("" + i),trf.iter.getTopValue());
    trf.iter.next();
  }
  assertFalse(trf.iter.hasTop());
  trf.closeReader();
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEncRFile17() throws Exception {
  conf=setAndGetAccumuloConfig(CryptoTest.CRYPTO_ON_CONF);
  test17();
}

</code></pre>

<pre class="type-5 type-3 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test13() throws IOException {
  TestRFile trf=new TestRFile(conf);
  trf.openWriter(false);
  trf.writer.startNewLocalityGroup("lg1",ncfs("a","b"));
  trf.writer.append(nk("0007","a","cq1","",4),nv("1"));
  trf.writer.startDefaultLocalityGroup();
  try {
    trf.writer.append(nk("0008","a","cq1","",4),nv("1"));
    assertFalse(true);
  }
 catch (  IllegalArgumentException ioe) {
  }
  try {
    trf.writer.append(nk("0009","b","cq1","",4),nv("1"));
    assertFalse(true);
  }
 catch (  IllegalArgumentException ioe) {
  }
  trf.closeWriter();
  trf.openReader();
  trf.iter.seek(new Range(),EMPTY_COL_FAMS,false);
  assertTrue(trf.iter.hasTop());
  assertEquals(nk("0007","a","cq1","",4),trf.iter.getTopKey());
  assertEquals(nv("1"),trf.iter.getTopValue());
  trf.iter.next();
  assertFalse(trf.iter.hasTop());
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEncRFile4() throws Exception {
  conf=setAndGetAccumuloConfig(CryptoTest.CRYPTO_ON_CONF);
  test4();
  conf=null;
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEncRFile18() throws Exception {
  conf=setAndGetAccumuloConfig(CryptoTest.CRYPTO_ON_CONF);
  test18();
  conf=null;
}

</code></pre>

<pre class="type-5 type-3 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test9() throws IOException {
  TestRFile trf=new TestRFile(conf);
  trf.openWriter(false);
  trf.writer.startNewLocalityGroup("lg1",ncfs("cf1","cf2"));
  trf.writer.append(nk("0000","cf1","doe,john","",4),nv("1123 West Left st"));
  trf.writer.append(nk("0002","cf2","doe,jane","",5),nv("1124 East Right st"));
  trf.writer.startNewLocalityGroup("lg2",ncfs("cf3","cf4"));
  trf.writer.append(nk("0001","cf3","buck,john","",4),nv("90 Slum st"));
  trf.writer.append(nk("0003","cf4","buck,jane","",5),nv("09 Slum st"));
  trf.writer.close();
  trf.openReader();
  Range r=new Range(nk("0000","cf1","doe,john","",4),true,nk("0003","cf4","buck,jane","",5),true);
  trf.iter.seek(r,ncfs("cf1","cf2"),true);
  assertEquals(1,trf.reader.getNumLocalityGroupsSeeked());
  assertTrue(trf.iter.hasTop());
  assertTrue(trf.iter.getTopKey().equals(nk("0000","cf1","doe,john","",4)));
  assertEquals(nv("1123 West Left st"),trf.iter.getTopValue());
  trf.iter.next();
  assertTrue(trf.iter.hasTop());
  assertTrue(trf.iter.getTopKey().equals(nk("0002","cf2","doe,jane","",5)));
  assertEquals(nv("1124 East Right st"),trf.iter.getTopValue());
  trf.iter.next();
  assertFalse(trf.iter.hasTop());
  r=new Range(nk("0000","cf1","doe,john","",4),true,nk("0003","cf4","buck,jane","",5),true);
  trf.iter.seek(r,ncfs("cf3","cf4"),true);
  assertEquals(1,trf.reader.getNumLocalityGroupsSeeked());
  assertTrue(trf.iter.hasTop());
  assertTrue(trf.iter.getTopKey().equals(nk("0001","cf3","buck,john","",4)));
  assertEquals(nv("90 Slum st"),trf.iter.getTopValue());
  trf.iter.next();
  assertTrue(trf.iter.hasTop());
  assertTrue(trf.iter.getTopKey().equals(nk("0003","cf4","buck,jane","",5)));
  assertEquals(nv("09 Slum st"),trf.iter.getTopValue());
  trf.iter.next();
  assertFalse(trf.iter.hasTop());
  r=new Range(nk("0000","cf1","doe,john","",4),true,nk("0003","cf4","buck,jane","",5),true);
  trf.iter.seek(r,EMPTY_COL_FAMS,false);
  assertEquals(2,trf.reader.getNumLocalityGroupsSeeked());
  assertTrue(trf.iter.hasTop());
  assertTrue(trf.iter.getTopKey().equals(nk("0000","cf1","doe,john","",4)));
  assertEquals(nv("1123 West Left st"),trf.iter.getTopValue());
  trf.iter.next();
  assertTrue(trf.iter.hasTop());
  assertTrue(trf.iter.getTopKey().equals(nk("0001","cf3","buck,john","",4)));
  assertEquals(nv("90 Slum st"),trf.iter.getTopValue());
  trf.iter.next();
  assertTrue(trf.iter.hasTop());
  assertTrue(trf.iter.getTopKey().equals(nk("0002","cf2","doe,jane","",5)));
  assertEquals(nv("1124 East Right st"),trf.iter.getTopValue());
  trf.iter.next();
  assertTrue(trf.iter.hasTop());
  assertTrue(trf.iter.getTopKey().equals(nk("0003","cf4","buck,jane","",5)));
  assertEquals(nv("09 Slum st"),trf.iter.getTopValue());
  trf.iter.next();
  assertFalse(trf.iter.hasTop());
  r=new Range(nk("0000","cf1","doe,john","",4),true,nk("0003","cf4","buck,jane","",5),true);
  trf.iter.seek(r,ncfs("saint","dogooder"),true);
  assertEquals(0,trf.reader.getNumLocalityGroupsSeeked());
  assertFalse(trf.iter.hasTop());
  r=new Range(nk("0000","cf1","doe,john","",4),true,nk("0003","cf4","buck,jane","",5),true);
  trf.iter.seek(r,ncfs("cf4"),true);
  assertEquals(1,trf.reader.getNumLocalityGroupsSeeked());
  assertTrue(trf.iter.hasTop());
  assertTrue(trf.iter.getTopKey().equals(nk("0003","cf4","buck,jane","",5)));
  assertEquals(nv("09 Slum st"),trf.iter.getTopValue());
  trf.iter.next();
  assertFalse(trf.iter.hasTop());
  r=new Range(nk("0000","cf1","doe,john","",4),true,nk("0003","cf4","buck,jane","",5),true);
  trf.iter.seek(r,ncfs("cf3"),true);
  assertEquals(1,trf.reader.getNumLocalityGroupsSeeked());
  assertTrue(trf.iter.hasTop());
  assertTrue(trf.iter.getTopKey().equals(nk("0001","cf3","buck,john","",4)));
  assertEquals(nv("90 Slum st"),trf.iter.getTopValue());
  trf.iter.next();
  assertFalse(trf.iter.hasTop());
  r=new Range(nk("0000","cf1","doe,john","",4),true,nk("0003","cf4","buck,jane","",5),true);
  trf.iter.seek(r,ncfs("cf1"),true);
  assertEquals(1,trf.reader.getNumLocalityGroupsSeeked());
  assertTrue(trf.iter.hasTop());
  assertTrue(trf.iter.getTopKey().equals(nk("0000","cf1","doe,john","",4)));
  assertEquals(nv("1123 West Left st"),trf.iter.getTopValue());
  trf.iter.next();
  assertFalse(trf.iter.hasTop());
  r=new Range(nk("0000","cf1","doe,john","",4),true,nk("0003","cf4","buck,jane","",5),true);
  trf.iter.seek(r,ncfs("cf2"),true);
  assertEquals(1,trf.reader.getNumLocalityGroupsSeeked());
  assertTrue(trf.iter.hasTop());
  assertTrue(trf.iter.getTopKey().equals(nk("0002","cf2","doe,jane","",5)));
  assertEquals(nv("1124 East Right st"),trf.iter.getTopValue());
  trf.iter.next();
  assertFalse(trf.iter.hasTop());
  r=new Range(nk("0000","cf1","doe,john","",4),true,nk("0003","cf4","buck,jane","",5),true);
  trf.iter.seek(r,ncfs("cf1","cf4"),true);
  assertEquals(2,trf.reader.getNumLocalityGroupsSeeked());
  assertTrue(trf.iter.hasTop());
  assertTrue(trf.iter.getTopKey().equals(nk("0000","cf1","doe,john","",4)));
  assertEquals(nv("1123 West Left st"),trf.iter.getTopValue());
  trf.iter.next();
  assertTrue(trf.iter.hasTop());
  assertTrue(trf.iter.getTopKey().equals(nk("0003","cf4","buck,jane","",5)));
  assertEquals(nv("09 Slum st"),trf.iter.getTopValue());
  trf.iter.next();
  assertFalse(trf.iter.hasTop());
  trf.closeReader();
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEncRFile8() throws Exception {
  conf=setAndGetAccumuloConfig(CryptoTest.CRYPTO_ON_CONF);
  test8();
  conf=null;
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEncSample() throws IOException {
  conf=setAndGetAccumuloConfig(CryptoTest.CRYPTO_ON_CONF);
  testSample();
  testSampleLG();
  conf=null;
}

</code></pre>

<pre class="type-5 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testRootTabletEncryption() throws Exception {
  conf=setAndGetAccumuloConfig(CryptoTest.CRYPTO_ON_CONF);
  TestRFile testRfile=new TestRFile(conf);
  testRfile.openWriter();
  RFile.Writer mfw=testRfile.writer;
  Text tableExtent=new Text(KeyExtent.getMetadataEntry(new Text(MetadataTable.ID),MetadataSchema.TabletsSection.getRange().getEndKey().getRow()));
  Key tableDirKey=new Key(tableExtent,TabletsSection.ServerColumnFamily.DIRECTORY_COLUMN.getColumnFamily(),TabletsSection.ServerColumnFamily.DIRECTORY_COLUMN.getColumnQualifier(),0);
  mfw.append(tableDirKey,new Value("/table_info".getBytes()));
  Key tableTimeKey=new Key(tableExtent,TabletsSection.ServerColumnFamily.TIME_COLUMN.getColumnFamily(),TabletsSection.ServerColumnFamily.TIME_COLUMN.getColumnQualifier(),0);
  mfw.append(tableTimeKey,new Value(('L' + "0").getBytes()));
  Key tablePrevRowKey=new Key(tableExtent,TabletsSection.TabletColumnFamily.PREV_ROW_COLUMN.getColumnFamily(),TabletsSection.TabletColumnFamily.PREV_ROW_COLUMN.getColumnQualifier(),0);
  mfw.append(tablePrevRowKey,KeyExtent.encodePrevEndRow(null));
  Text defaultExtent=new Text(KeyExtent.getMetadataEntry(new Text(MetadataTable.ID),null));
  Key defaultDirKey=new Key(defaultExtent,TabletsSection.ServerColumnFamily.DIRECTORY_COLUMN.getColumnFamily(),TabletsSection.ServerColumnFamily.DIRECTORY_COLUMN.getColumnQualifier(),0);
  mfw.append(defaultDirKey,new Value(Constants.DEFAULT_TABLET_LOCATION.getBytes()));
  Key defaultTimeKey=new Key(defaultExtent,TabletsSection.ServerColumnFamily.TIME_COLUMN.getColumnFamily(),TabletsSection.ServerColumnFamily.TIME_COLUMN.getColumnQualifier(),0);
  mfw.append(defaultTimeKey,new Value(('L' + "0").getBytes()));
  Key defaultPrevRowKey=new Key(defaultExtent,TabletsSection.TabletColumnFamily.PREV_ROW_COLUMN.getColumnFamily(),TabletsSection.TabletColumnFamily.PREV_ROW_COLUMN.getColumnQualifier(),0);
  mfw.append(defaultPrevRowKey,KeyExtent.encodePrevEndRow(MetadataSchema.TabletsSection.getRange().getEndKey().getRow()));
  testRfile.closeWriter();
  if (true) {
    FileOutputStream fileOutputStream=new FileOutputStream(tempFolder.newFile("testEncryptedRootFile.rf"));
    fileOutputStream.write(testRfile.baos.toByteArray());
    fileOutputStream.flush();
    fileOutputStream.close();
  }
  testRfile.openReader();
  testRfile.iter.seek(new Range((Key)null,null),EMPTY_COL_FAMS,false);
  assertTrue(testRfile.iter.hasTop());
  assertTrue(testRfile.reader.getLastKey() != null);
  testRfile.closeReader();
  conf=null;
}

</code></pre>

<pre class="type-5 type-3 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test5() throws IOException {
  TestRFile trf=new TestRFile(conf);
  trf.openWriter();
  trf.writer.append(nk("r1","cf1","cq1","L1",55),nv("foo1"));
  trf.writer.append(nk("r1","cf1","cq4","L1",56),nv("foo2"));
  trf.closeWriter();
  trf.openReader();
  trf.seek(nk("r1","cf1","cq3","L1",55));
  assertTrue(trf.iter.hasTop());
  assertEquals(nk("r1","cf1","cq4","L1",56),trf.iter.getTopKey());
  assertEquals(nv("foo2"),trf.iter.getTopValue());
  trf.seek(nk("r1","cf1","cq0","L1",55));
  assertTrue(trf.iter.hasTop());
  assertEquals(nk("r1","cf1","cq1","L1",55),trf.iter.getTopKey());
  assertEquals(nv("foo1"),trf.iter.getTopValue());
  assertEquals(nk("r1","cf1","cq4","L1",56),trf.reader.getLastKey());
  trf.closeReader();
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEncRFile10() throws Exception {
  conf=setAndGetAccumuloConfig(CryptoTest.CRYPTO_ON_CONF);
  test10();
  conf=null;
}

</code></pre>

<pre class="type-5 type-3 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test1() throws IOException {
  TestRFile trf=new TestRFile(conf);
  trf.openWriter();
  trf.closeWriter();
  trf.openReader();
  trf.iter.seek(new Range((Key)null,null),EMPTY_COL_FAMS,false);
  assertFalse(trf.iter.hasTop());
  assertEquals(null,trf.reader.getLastKey());
  trf.closeReader();
}

</code></pre>

<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSampleLG() throws IOException {
  int num=5000;
  for (  int sampleBufferSize : new int[]{1 << 10,1 << 20}) {
    RFile.setSampleBufferSize(sampleBufferSize);
    for (    int modulus : new int[]{19,103,1019}) {
      List<Entry<Key,Value>> sampleDataLG1=new ArrayList<Entry<Key,Value>>();
      List<Entry<Key,Value>> sampleDataLG2=new ArrayList<Entry<Key,Value>>();
      ConfigurationCopy sampleConf=new ConfigurationCopy(conf == null ? AccumuloConfiguration.getDefaultConfiguration() : conf);
      sampleConf.set(Property.TABLE_SAMPLER,RowSampler.class.getName());
      sampleConf.set(Property.TABLE_SAMPLER_OPTS + "hasher","murmur3_32");
      sampleConf.set(Property.TABLE_SAMPLER_OPTS + "modulus",modulus + "");
      Sampler sampler=SamplerFactory.newSampler(SamplerConfigurationImpl.newSamplerConfig(sampleConf),sampleConf);
      TestRFile trf=new TestRFile(sampleConf);
      trf.openWriter(false,1000);
      trf.writer.startNewLocalityGroup("meta-lg",ncfs("metaA","metaB"));
      for (int r=0; r < num; r++) {
        String row=String.format("r%06d",r);
        Key k1=new Key(row,"metaA","q9",7);
        Key k2=new Key(row,"metaB","q8",7);
        Key k3=new Key(row,"metaB","qA",7);
        Value v1=new Value(("" + r).getBytes());
        Value v2=new Value(("" + r * 93).getBytes());
        Value v3=new Value(("" + r * 113).getBytes());
        if (sampler.accept(k1)) {
          sampleDataLG1.add(new AbstractMap.SimpleImmutableEntry<Key,Value>(k1,v1));
          sampleDataLG1.add(new AbstractMap.SimpleImmutableEntry<Key,Value>(k2,v2));
          sampleDataLG1.add(new AbstractMap.SimpleImmutableEntry<Key,Value>(k3,v3));
        }
        trf.writer.append(k1,v1);
        trf.writer.append(k2,v2);
        trf.writer.append(k3,v3);
      }
      trf.writer.startDefaultLocalityGroup();
      for (int r=0; r < num; r++) {
        String row=String.format("r%06d",r);
        Key k1=new Key(row,"dataA","q9",7);
        Value v1=new Value(("" + r).getBytes());
        if (sampler.accept(k1)) {
          sampleDataLG2.add(new AbstractMap.SimpleImmutableEntry<Key,Value>(k1,v1));
        }
        trf.writer.append(k1,v1);
      }
      trf.closeWriter();
      Assert.assertTrue(sampleDataLG1.size() > 0);
      Assert.assertTrue(sampleDataLG2.size() > 0);
      trf.openReader(false);
      FileSKVIterator sample=trf.reader.getSample(SamplerConfigurationImpl.newSamplerConfig(sampleConf));
      checkSample(sample,sampleDataLG1,ncfs("metaA","metaB"),true);
      checkSample(sample,sampleDataLG1,ncfs("metaA"),true);
      checkSample(sample,sampleDataLG1,ncfs("metaB"),true);
      checkSample(sample,sampleDataLG1,ncfs("dataA"),false);
      checkSample(sample,sampleDataLG2,ncfs("metaA","metaB"),false);
      checkSample(sample,sampleDataLG2,ncfs("dataA"),true);
      ArrayList<Entry<Key,Value>> allSampleData=new ArrayList<Entry<Key,Value>>();
      allSampleData.addAll(sampleDataLG1);
      allSampleData.addAll(sampleDataLG2);
      Collections.sort(allSampleData,new Comparator<Entry<Key,Value>>(){
        @Override public int compare(        Entry<Key,Value> o1,        Entry<Key,Value> o2){
          return o1.getKey().compareTo(o2.getKey());
        }
      }
);
      checkSample(sample,allSampleData,ncfs("dataA","metaA"),true);
      checkSample(sample,allSampleData,EMPTY_COL_FAMS,false);
      trf.closeReader();
    }
  }
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void test18() throws IOException {
  TestRFile trf=new TestRFile(conf);
  trf.openWriter(false);
  HashSet<ByteSequence> allCf=new HashSet<ByteSequence>();
  trf.writer.startNewLocalityGroup("lg1",t18ncfs(0));
  for (int i=0; i < 1; i++)   t18Append(trf,allCf,i);
  trf.writer.startNewLocalityGroup("lg2",t18ncfs(1,2));
  for (int i=1; i < 3; i++)   t18Append(trf,allCf,i);
  trf.writer.startNewLocalityGroup("lg3",t18ncfs(3,4,5));
  for (int i=3; i < 6; i++)   t18Append(trf,allCf,i);
  trf.writer.startDefaultLocalityGroup();
  int max=6 + RFile.Writer.MAX_CF_IN_DLG + 100;
  for (int i=6; i < max; i++)   t18Append(trf,allCf,i);
  trf.closeWriter();
  trf.openReader();
  t18Verify(t18ncfs(0),trf.iter,trf.reader,allCf,1,3);
  for (int i=1; i < 10; i++)   t18Verify(t18ncfs(i),trf.iter,trf.reader,allCf,1,4);
  t18Verify(t18ncfs(max + 1),trf.iter,trf.reader,allCf,1,4);
  t18Verify(t18ncfs(1,2,3,4),trf.iter,trf.reader,allCf,2,3);
  t18Verify(t18ncfs(1,2,3,4,5),trf.iter,trf.reader,allCf,2,2);
  t18Verify(t18ncfs(0,1,2,3,4),trf.iter,trf.reader,allCf,3,2);
  t18Verify(t18ncfs(0,1,2,3,4,5),trf.iter,trf.reader,allCf,3,1);
  t18Verify(t18ncfs(0,1,2,3,4,5,6),trf.iter,trf.reader,allCf,4,1);
  t18Verify(t18ncfs(0,1),trf.iter,trf.reader,allCf,2,3);
  t18Verify(t18ncfs(2,3),trf.iter,trf.reader,allCf,2,4);
  t18Verify(t18ncfs(5,6),trf.iter,trf.reader,allCf,2,4);
  trf.closeReader();
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEncRFile14() throws Exception {
  conf=setAndGetAccumuloConfig(CryptoTest.CRYPTO_ON_CONF);
  test14();
  conf=null;
}

</code></pre>

<pre class="type-9 type-13 type-5 type-3 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReseekUnconsumed() throws Exception {
  TestRFile trf=new TestRFile(conf);
  trf.openWriter();
  for (int i=0; i < 2500; i++) {
    trf.writer.append(nk(nf("r_",i),"cf1","cq1","L1",42),nv("foo" + i));
  }
  trf.closeWriter();
  trf.openReader();
  Set<ByteSequence> cfs=Collections.emptySet();
  Random rand=new Random();
  for (int count=0; count < 100; count++) {
    int start=rand.nextInt(2300);
    Range range=new Range(nk(nf("r_",start),"cf1","cq1","L1",42),nk(nf("r_",start + 100),"cf1","cq1","L1",42));
    trf.reader.seek(range,cfs,false);
    int numToScan=rand.nextInt(100);
    for (int j=0; j < numToScan; j++) {
      assertTrue(trf.reader.hasTop());
      assertEquals(nk(nf("r_",start + j),"cf1","cq1","L1",42),trf.reader.getTopKey());
      trf.reader.next();
    }
    assertTrue(trf.reader.hasTop());
    assertEquals(nk(nf("r_",start + numToScan),"cf1","cq1","L1",42),trf.reader.getTopKey());
    int start2=start + numToScan + rand.nextInt(3);
    int end2=start2 + rand.nextInt(3);
    range=new Range(nk(nf("r_",start2),"cf1","cq1","L1",42),nk(nf("r_",end2),"cf1","cq1","L1",42));
    trf.reader.seek(range,cfs,false);
    for (int j=start2; j <= end2; j++) {
      assertTrue(trf.reader.hasTop());
      assertEquals(nk(nf("r_",j),"cf1","cq1","L1",42),trf.reader.getTopKey());
      trf.reader.next();
    }
    assertFalse(trf.reader.hasTop());
  }
  trf.closeReader();
}

</code></pre>

<pre class="type-11 type-3 type-2 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
@Test public void testCryptoDoesntLeakSensitive() throws IOException {
  conf=setAndGetAccumuloConfig(CryptoTest.CRYPTO_ON_CONF);
  TestRFile trf=new TestRFile(conf);
  trf.openWriter();
  trf.closeWriter();
  byte[] rfBytes=trf.baos.toByteArray();
  for (  Property prop : Property.values()) {
    if (prop.isSensitive()) {
      byte[] toCheck=prop.getKey().getBytes();
      assertEquals(-1,Bytes.indexOf(rfBytes,toCheck));
    }
  }
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEncryptedRFiles() throws Exception {
  conf=setAndGetAccumuloConfig(CryptoTest.CRYPTO_ON_CONF);
  test1();
  test2();
  test3();
  test4();
  test5();
  test6();
  test7();
  test8();
  conf=null;
}

</code></pre>

<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void test14() throws IOException {
  TestRFile trf=new TestRFile(conf);
  trf.openWriter(false);
  trf.writer.startDefaultLocalityGroup();
  try {
    trf.writer.startNewLocalityGroup("lg1",ncfs("a","b"));
    assertFalse(true);
  }
 catch (  IllegalStateException ioe) {
  }
  try {
    trf.writer.startDefaultLocalityGroup();
    assertFalse(true);
  }
 catch (  IllegalStateException ioe) {
  }
  trf.writer.close();
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEncRFile7() throws Exception {
  conf=setAndGetAccumuloConfig(CryptoTest.CRYPTO_ON_CONF);
  test7();
  conf=null;
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEncRFile19() throws Exception {
  conf=setAndGetAccumuloConfig(CryptoTest.CRYPTO_ON_CONF);
  test19();
  conf=null;
}

</code></pre>

<pre class="type-5 type-3 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test10() throws IOException {
  TestRFile trf=new TestRFile(conf);
  trf.openWriter(false);
  trf.writer.startNewLocalityGroup("lg1",ncfs("cf1","cf2"));
  trf.writer.startNewLocalityGroup("lg2",ncfs("cf3","cf4"));
  trf.writer.startDefaultLocalityGroup();
  trf.writer.close();
  trf.openReader();
  trf.iter.seek(new Range(new Text(""),null),EMPTY_COL_FAMS,false);
  assertFalse(trf.iter.hasTop());
  trf.closeReader();
  trf=new TestRFile(conf);
  trf.openWriter(false);
  trf.writer.startNewLocalityGroup("lg1",ncfs("cf1","cf2"));
  trf.writer.append(nk("0000","cf1","doe,john","",4),nv("1123 West Left st"));
  trf.writer.append(nk("0002","cf2","doe,jane","",5),nv("1124 East Right st"));
  trf.writer.startNewLocalityGroup("lg2",ncfs("cf3","cf4"));
  trf.writer.startDefaultLocalityGroup();
  trf.writer.close();
  trf.openReader();
  trf.iter.seek(new Range(new Text(""),null),EMPTY_COL_FAMS,false);
  assertTrue(trf.iter.hasTop());
  assertTrue(trf.iter.getTopKey().equals(nk("0000","cf1","doe,john","",4)));
  assertEquals(nv("1123 West Left st"),trf.iter.getTopValue());
  trf.iter.next();
  assertTrue(trf.iter.hasTop());
  assertTrue(trf.iter.getTopKey().equals(nk("0002","cf2","doe,jane","",5)));
  assertEquals(nv("1124 East Right st"),trf.iter.getTopValue());
  trf.iter.next();
  assertFalse(trf.iter.hasTop());
  trf.closeReader();
  trf=new TestRFile(conf);
  trf.openWriter(false);
  trf.writer.startNewLocalityGroup("lg1",ncfs("cf1","cf2"));
  trf.writer.startNewLocalityGroup("lg2",ncfs("cf3","cf4"));
  trf.writer.append(nk("0001","cf3","buck,john","",4),nv("90 Slum st"));
  trf.writer.append(nk("0003","cf4","buck,jane","",5),nv("09 Slum st"));
  trf.writer.startDefaultLocalityGroup();
  trf.writer.close();
  trf.openReader();
  trf.iter.seek(new Range(new Text(""),null),EMPTY_COL_FAMS,false);
  assertTrue(trf.iter.hasTop());
  assertTrue(trf.iter.getTopKey().equals(nk("0001","cf3","buck,john","",4)));
  assertEquals(nv("90 Slum st"),trf.iter.getTopValue());
  trf.iter.next();
  assertTrue(trf.iter.hasTop());
  assertTrue(trf.iter.getTopKey().equals(nk("0003","cf4","buck,jane","",5)));
  assertEquals(nv("09 Slum st"),trf.iter.getTopValue());
  trf.iter.next();
  assertFalse(trf.iter.hasTop());
  trf.closeReader();
  trf=new TestRFile(conf);
  trf.openWriter(false);
  trf.writer.startNewLocalityGroup("lg1",ncfs("cf1","cf2"));
  trf.writer.startNewLocalityGroup("lg2",ncfs("cf3","cf4"));
  trf.writer.startDefaultLocalityGroup();
  trf.writer.append(nk("0007","good citizen","q,john","",4),nv("70 Apple st"));
  trf.writer.append(nk("0008","model citizen","q,jane","",5),nv("81 Plum st"));
  trf.writer.close();
  trf.openReader();
  trf.iter.seek(new Range(new Text(""),null),EMPTY_COL_FAMS,false);
  assertTrue(trf.iter.hasTop());
  assertTrue(trf.iter.getTopKey().equals(nk("0007","good citizen","q,john","",4)));
  assertEquals(nv("70 Apple st"),trf.iter.getTopValue());
  trf.iter.next();
  assertTrue(trf.iter.hasTop());
  assertTrue(trf.iter.getTopKey().equals(nk("0008","model citizen","q,jane","",5)));
  assertEquals(nv("81 Plum st"),trf.iter.getTopValue());
  trf.iter.next();
  assertFalse(trf.iter.hasTop());
  trf.closeReader();
  trf=new TestRFile(conf);
  trf.openWriter(false);
  trf.writer.startNewLocalityGroup("lg1",ncfs("cf1","cf2"));
  trf.writer.append(nk("0000","cf1","doe,john","",4),nv("1123 West Left st"));
  trf.writer.append(nk("0002","cf2","doe,jane","",5),nv("1124 East Right st"));
  trf.writer.startNewLocalityGroup("lg2",ncfs("cf3","cf4"));
  trf.writer.startDefaultLocalityGroup();
  trf.writer.append(nk("0007","good citizen","q,john","",4),nv("70 Apple st"));
  trf.writer.append(nk("0008","model citizen","q,jane","",5),nv("81 Plum st"));
  trf.writer.close();
  trf.openReader();
  trf.iter.seek(new Range(new Text(""),null),EMPTY_COL_FAMS,false);
  assertTrue(trf.iter.hasTop());
  assertTrue(trf.iter.getTopKey().equals(nk("0000","cf1","doe,john","",4)));
  assertEquals(nv("1123 West Left st"),trf.iter.getTopValue());
  trf.iter.next();
  assertTrue(trf.iter.hasTop());
  assertTrue(trf.iter.getTopKey().equals(nk("0002","cf2","doe,jane","",5)));
  assertEquals(nv("1124 East Right st"),trf.iter.getTopValue());
  trf.iter.next();
  assertTrue(trf.iter.hasTop());
  assertTrue(trf.iter.getTopKey().equals(nk("0007","good citizen","q,john","",4)));
  assertEquals(nv("70 Apple st"),trf.iter.getTopValue());
  trf.iter.next();
  assertTrue(trf.iter.hasTop());
  assertTrue(trf.iter.getTopKey().equals(nk("0008","model citizen","q,jane","",5)));
  assertEquals(nv("81 Plum st"),trf.iter.getTopValue());
  trf.iter.next();
  assertFalse(trf.iter.hasTop());
  trf.closeReader();
}

</code></pre>

<pre class="type-13 type-5 type-3 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test8() throws IOException {
  TestRFile trf=new TestRFile(conf);
  trf.openWriter();
  for (int i=0; i < 2500; i++) {
    trf.writer.append(nk(nf("r_",i),"cf1","cq1","L1",42),nv("foo" + i));
  }
  trf.closeWriter();
  trf.openReader();
  for (int i=0; i < 2499; i++) {
    trf.seek(nk(nf("r_",i),"cf1","cq1","L1",42).followingKey(PartialKey.ROW));
    assertTrue(trf.iter.hasTop());
    assertEquals(nk(nf("r_",i + 1),"cf1","cq1","L1",42),trf.iter.getTopKey());
  }
  for (int i=0; i < 2499; i+=2) {
    trf.seek(nk(nf("r_",i),"cf1","cq1","L1",42).followingKey(PartialKey.ROW));
    assertTrue(trf.iter.hasTop());
    assertEquals(nk(nf("r_",i + 1),"cf1","cq1","L1",42),trf.iter.getTopKey());
  }
  for (int i=2498; i >= 0; i--) {
    trf.seek(nk(nf("r_",i),"cf1","cq1","L1",42).followingKey(PartialKey.ROW));
    assertTrue(trf.iter.hasTop());
    assertEquals(nk(nf("r_",i + 1),"cf1","cq1","L1",42),trf.iter.getTopKey());
  }
  trf.closeReader();
  trf=new TestRFile(conf);
  trf.openWriter();
  for (int i=0; i < 2500; i++) {
    trf.writer.append(nk(nf("r_",0),nf("cf_",i),"cq1","L1",42),nv("foo" + i));
  }
  trf.closeWriter();
  trf.openReader();
  for (int i=0; i < 2499; i++) {
    trf.seek(nk(nf("r_",0),nf("cf_",i),"cq1","L1",42).followingKey(PartialKey.ROW_COLFAM));
    assertTrue(trf.iter.hasTop());
    assertEquals(nk(nf("r_",0),nf("cf_",i + 1),"cq1","L1",42),trf.iter.getTopKey());
  }
  for (int i=0; i < 2499; i+=2) {
    trf.seek(nk(nf("r_",0),nf("cf_",i),"cq1","L1",42).followingKey(PartialKey.ROW_COLFAM));
    assertTrue(trf.iter.hasTop());
    assertEquals(nk(nf("r_",0),nf("cf_",i + 1),"cq1","L1",42),trf.iter.getTopKey());
  }
  for (int i=2498; i >= 0; i--) {
    trf.seek(nk(nf("r_",0),nf("cf_",i),"cq1","L1",42).followingKey(PartialKey.ROW_COLFAM));
    assertTrue(trf.iter.hasTop());
    assertEquals(nk(nf("r_",0),nf("cf_",i + 1),"cq1","L1",42),trf.iter.getTopKey());
  }
  trf.closeReader();
  trf=new TestRFile(conf);
  trf.openWriter();
  for (int i=0; i < 2500; i++) {
    trf.writer.append(nk(nf("r_",0),nf("cf_",0),nf("cq_",i),"L1",42),nv("foo" + i));
  }
  trf.closeWriter();
  trf.openReader();
  for (int i=0; i < 2499; i++) {
    trf.seek(nk(nf("r_",0),nf("cf_",0),nf("cq_",i),"L1",42).followingKey(PartialKey.ROW_COLFAM_COLQUAL));
    assertTrue(trf.iter.hasTop());
    assertEquals(nk(nf("r_",0),nf("cf_",0),nf("cq_",i + 1),"L1",42),trf.iter.getTopKey());
  }
  for (int i=0; i < 2499; i+=2) {
    trf.seek(nk(nf("r_",0),nf("cf_",0),nf("cq_",i),"L1",42).followingKey(PartialKey.ROW_COLFAM_COLQUAL));
    assertTrue(trf.iter.hasTop());
    assertEquals(nk(nf("r_",0),nf("cf_",0),nf("cq_",i + 1),"L1",42),trf.iter.getTopKey());
  }
  for (int i=2498; i >= 0; i--) {
    trf.seek(nk(nf("r_",0),nf("cf_",0),nf("cq_",i),"L1",42).followingKey(PartialKey.ROW_COLFAM_COLQUAL));
    assertTrue(trf.iter.hasTop());
    assertEquals(nk(nf("r_",0),nf("cf_",0),nf("cq_",i + 1),"L1",42),trf.iter.getTopKey());
  }
  trf.closeReader();
}

</code></pre>

<pre class="type-10 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=NullPointerException.class) public void testMissingUnreleasedVersions() throws Exception {
  runVersionTest(5);
}

</code></pre>

<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void test4() throws IOException {
  TestRFile trf=new TestRFile(conf);
  trf.openWriter();
  trf.writer.append(nk("r1","cf1","cq1","L1",55),nv("foo1"));
  try {
    trf.writer.append(nk("r0","cf1","cq1","L1",55),nv("foo1"));
    assertFalse(true);
  }
 catch (  IllegalStateException ioe) {
  }
  try {
    trf.writer.append(nk("r1","cf0","cq1","L1",55),nv("foo1"));
    assertFalse(true);
  }
 catch (  IllegalStateException ioe) {
  }
  try {
    trf.writer.append(nk("r1","cf1","cq0","L1",55),nv("foo1"));
    assertFalse(true);
  }
 catch (  IllegalStateException ioe) {
  }
  try {
    trf.writer.append(nk("r1","cf1","cq1","L0",55),nv("foo1"));
    assertFalse(true);
  }
 catch (  IllegalStateException ioe) {
  }
  try {
    trf.writer.append(nk("r1","cf1","cq1","L1",56),nv("foo1"));
    assertFalse(true);
  }
 catch (  IllegalStateException ioe) {
  }
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEncRFile11() throws Exception {
  conf=setAndGetAccumuloConfig(CryptoTest.CRYPTO_ON_CONF);
  test11();
  conf=null;
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEncRFile3() throws Exception {
  conf=setAndGetAccumuloConfig(CryptoTest.CRYPTO_ON_CONF);
  test3();
  conf=null;
}

</code></pre>

<pre class="type-5 type-3 type-2 type-14 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test19() throws IOException {
  TestRFile trf=new TestRFile(conf);
  trf.openWriter(false);
  trf.openWriter(false);
  trf.writer.startNewLocalityGroup("lg1",ncfs("cf1","cf2"));
  trf.writer.append(nk("0000","cf1","doe,john","",4),nv("1123 West Left st"));
  trf.writer.append(nk("0002","cf2","doe,jane","",5),nv("1124 East Right st"));
  trf.writer.startNewLocalityGroup("lg2",ncfs("cf3","cf4"));
  DataOutputStream dos=trf.writer.createMetaStore("count");
  dos.writeInt(2);
  dos.writeUTF("data1");
  dos.writeInt(1);
  dos.writeUTF("data2");
  dos.writeInt(1);
  dos.close();
  trf.closeWriter();
  trf.openReader();
  trf.iter.seek(new Range(),EMPTY_COL_FAMS,false);
  assertTrue(trf.iter.hasTop());
  assertTrue(trf.iter.getTopKey().equals(nk("0000","cf1","doe,john","",4)));
  assertEquals(nv("1123 West Left st"),trf.iter.getTopValue());
  trf.iter.next();
  DataInputStream in=trf.reader.getMetaStore("count");
  assertEquals(2,in.readInt());
  assertEquals("data1",in.readUTF());
  assertEquals(1,in.readInt());
  assertEquals("data2",in.readUTF());
  assertEquals(1,in.readInt());
  in.close();
  assertTrue(trf.iter.hasTop());
  assertTrue(trf.iter.getTopKey().equals(nk("0002","cf2","doe,jane","",5)));
  assertEquals(nv("1124 East Right st"),trf.iter.getTopValue());
  trf.iter.next();
  assertFalse(trf.iter.hasTop());
  trf.closeReader();
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
