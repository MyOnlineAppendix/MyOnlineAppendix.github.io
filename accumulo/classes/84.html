<h3 style="margin:0px">Class: org.apache.accumulo.core.iterators.user.FilterTest (11 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(11)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(10)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(8)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(4)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-9 type-5 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void test4() throws IOException {
  Value dv=new Value();
  TreeMap<Key,Value> tm=new TreeMap<Key,Value>();
  ColumnVisibility le1=new ColumnVisibility("L1");
  ColumnVisibility le2=new ColumnVisibility("L0&OFFICIAL");
  ColumnVisibility le3=new ColumnVisibility("L1&L2");
  ColumnVisibility le4=new ColumnVisibility("L1&L2&G1");
  ColumnVisibility[] lea={le1,le2,le3,le4};
  Authorizations auths=new Authorizations("L1","L2","L0","OFFICIAL");
  for (int i=0; i < 1000; i++) {
    Key k=new Key(new Text(String.format("%03d",i)),new Text("a"),new Text("b"),new Text(lea[i % 4].getExpression()));
    tm.put(k,dv);
  }
  assertTrue(tm.size() == 1000);
  VisibilityFilter a=new VisibilityFilter(new SortedMapIterator(tm),auths,le2.getExpression());
  a.seek(new Range(),EMPTY_COL_FAMS,false);
  int size=size(a);
  assertTrue("size was " + size,size == 750);
}

</code></pre>

<pre class="type-9 type-5 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNoVisFilter() throws IOException {
  TreeMap<Key,Value> tm=new TreeMap<Key,Value>();
  Value v=new Value();
  for (int i=0; i < 1000; i++) {
    Key k=new Key(String.format("%03d",i),"a","b",i % 10 == 0 ? "vis" : "");
    tm.put(k,v);
  }
  assertTrue(tm.size() == 1000);
  Filter filter=new ReqVisFilter();
  filter.init(new SortedMapIterator(tm),EMPTY_OPTS,null);
  filter.seek(new Range(),EMPTY_COL_FAMS,false);
  int size=size(filter);
  assertTrue("size = " + size,size == 100);
}

</code></pre>

<pre class="type-9 type-5 type-3 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test3() throws IOException {
  Value dv=new Value();
  TreeMap<Key,Value> tm=new TreeMap<Key,Value>();
  HashSet<Column> hsc=new HashSet<Column>();
  hsc.add(new Column("c".getBytes(),null,null));
  Text colf1=new Text("a");
  Text colq1=new Text("b");
  Text colf2=new Text("c");
  Text colq2=new Text("d");
  Text colf;
  Text colq;
  for (int i=0; i < 1000; i++) {
    if (Math.abs(Math.ceil(i / 2.0) - i / 2.0) < .001) {
      colf=colf1;
      colq=colq1;
    }
 else {
      colf=colf2;
      colq=colq2;
    }
    Key k=new Key(new Text(String.format("%03d",i)),colf,colq);
    k.setTimestamp(157l);
    tm.put(k,dv);
  }
  assertTrue(tm.size() == 1000);
  ColumnQualifierFilter a=new ColumnQualifierFilter(new SortedMapIterator(tm),hsc);
  a.seek(new Range(),EMPTY_COL_FAMS,false);
  assertEquals(size(a),1000);
  hsc=new HashSet<Column>();
  hsc.add(new Column("a".getBytes(),"b".getBytes(),null));
  a=new ColumnQualifierFilter(new SortedMapIterator(tm),hsc);
  a.seek(new Range(),EMPTY_COL_FAMS,false);
  int size=size(a);
  assertTrue("size was " + size,size == 500);
  hsc=new HashSet<Column>();
  a=new ColumnQualifierFilter(new SortedMapIterator(tm),hsc);
  a.seek(new Range(),EMPTY_COL_FAMS,false);
  size=size(a);
  assertTrue("size was " + size,size == 1000);
}

</code></pre>

<pre class="type-9 type-5 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void test1() throws IOException {
  Text colf=new Text("a");
  Text colq=new Text("b");
  Value dv=new Value();
  TreeMap<Key,Value> tm=new TreeMap<Key,Value>();
  for (int i=0; i < 1000; i++) {
    Key k=new Key(new Text(String.format("%03d",i)),colf,colq);
    tm.put(k,dv);
  }
  assertTrue(tm.size() == 1000);
  Filter filter1=new SimpleFilter();
  filter1.init(new SortedMapIterator(tm),EMPTY_OPTS,null);
  filter1.seek(new Range(),EMPTY_COL_FAMS,false);
  int size=size(filter1);
  assertTrue("size = " + size,size == 100);
  Filter fi=new SimpleFilter();
  fi.init(new SortedMapIterator(tm),EMPTY_OPTS,null);
  Key k=new Key(new Text("500"));
  fi.seek(new Range(k,null),EMPTY_COL_FAMS,false);
  size=size(fi);
  assertTrue("size = " + size,size == 50);
  filter1=new SimpleFilter();
  filter1.init(new SortedMapIterator(tm),EMPTY_OPTS,null);
  Filter filter2=new SimpleFilter2();
  filter2.init(filter1,EMPTY_OPTS,null);
  filter2.seek(new Range(),EMPTY_COL_FAMS,false);
  size=size(filter2);
  assertTrue("size = " + size,size == 0);
}

</code></pre>

<pre class="type-9 type-5 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testDeepCopy() throws IOException {
  Text colf=new Text("a");
  Text colq=new Text("b");
  Value dv=new Value();
  TreeMap<Key,Value> tm=new TreeMap<Key,Value>();
  for (int i=0; i < 1000; i++) {
    Key k=new Key(new Text(String.format("%03d",i)),colf,colq);
    tm.put(k,dv);
  }
  assertTrue(tm.size() == 1000);
  SimpleFilter filter=new SimpleFilter();
  IteratorSetting is=new IteratorSetting(1,SimpleFilter.class);
  Filter.setNegate(is,true);
  filter.init(new SortedMapIterator(tm),is.getOptions(),null);
  SortedKeyValueIterator<Key,Value> copy=filter.deepCopy(null);
  filter.seek(new Range(),EMPTY_COL_FAMS,false);
  int size=size(filter);
  assertTrue("size = " + size,size == 900);
  copy.seek(new Range(),EMPTY_COL_FAMS,false);
  size=size(copy);
  assertTrue("size = " + size,size == 900);
}

</code></pre>

<pre class="type-5 type-3 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTimestampFilter() throws IOException, ParseException {
  Text colf=new Text("a");
  Text colq=new Text("b");
  Value dv=new Value();
  TreeMap<Key,Value> tm=new TreeMap<Key,Value>();
  for (int i=0; i < 100; i++) {
    Key k=new Key(new Text(String.format("%02d",i)),colf,colq);
    k.setTimestamp(i);
    tm.put(k,dv);
  }
  assertTrue(tm.size() == 100);
  SimpleDateFormat dateParser=new SimpleDateFormat("yyyyMMddHHmmssz");
  long baseTime=dateParser.parse("19990101000000GMT").getTime();
  tm.clear();
  for (int i=0; i < 100; i++) {
    Key k=new Key(new Text(String.format("%02d",i)),colf,colq);
    k.setTimestamp(baseTime + (i * 1000));
    tm.put(k,dv);
  }
  assertTrue(tm.size() == 100);
  TimestampFilter a=new TimestampFilter();
  IteratorSetting is=new IteratorSetting(1,TimestampFilter.class);
  TimestampFilter.setRange(is,"19990101010011GMT+01:00","19990101010031GMT+01:00");
  a.init(new SortedMapIterator(tm),is.getOptions(),null);
  a=(TimestampFilter)a.deepCopy(null);
  a.seek(new Range(),EMPTY_COL_FAMS,false);
  assertEquals(size(a),21);
  TimestampFilter.setRange(is,baseTime + 11000,baseTime + 31000);
  a.init(new SortedMapIterator(tm),is.getOptions(),null);
  a.seek(new Range(),EMPTY_COL_FAMS,false);
  assertEquals(size(a),21);
  TimestampFilter.setEnd(is,"19990101000031GMT",false);
  a.init(new SortedMapIterator(tm),is.getOptions(),null);
  a.seek(new Range(),EMPTY_COL_FAMS,false);
  assertEquals(size(a),20);
  TimestampFilter.setStart(is,"19990101000011GMT",false);
  a.init(new SortedMapIterator(tm),is.getOptions(),null);
  a.seek(new Range(),EMPTY_COL_FAMS,false);
  assertEquals(size(a),19);
  TimestampFilter.setEnd(is,"19990101000031GMT",true);
  a.init(new SortedMapIterator(tm),is.getOptions(),null);
  a.seek(new Range(),EMPTY_COL_FAMS,false);
  assertEquals(size(a),20);
  is.clearOptions();
  TimestampFilter.setStart(is,"19990101000011GMT",true);
  a.init(new SortedMapIterator(tm),is.getOptions(),null);
  a.seek(new Range(),EMPTY_COL_FAMS,false);
  assertEquals(size(a),89);
  TimestampFilter.setStart(is,"19990101000011GMT",false);
  assertTrue(a.validateOptions(is.getOptions()));
  a.init(new SortedMapIterator(tm),is.getOptions(),null);
  a.seek(new Range(),EMPTY_COL_FAMS,false);
  assertEquals(size(a),88);
  is.clearOptions();
  TimestampFilter.setEnd(is,"19990101000031GMT",true);
  a.init(new SortedMapIterator(tm),is.getOptions(),null);
  a.seek(new Range(),EMPTY_COL_FAMS,false);
  assertEquals(size(a),32);
  TimestampFilter.setEnd(is,"19990101000031GMT",false);
  assertTrue(a.validateOptions(is.getOptions()));
  a.init(new SortedMapIterator(tm),is.getOptions(),null);
  a.seek(new Range(),EMPTY_COL_FAMS,false);
  assertEquals(size(a),31);
  TimestampFilter.setEnd(is,253402300800001l,true);
  a.init(new SortedMapIterator(tm),is.getOptions(),null);
  is.clearOptions();
  is.addOption(TimestampFilter.START,"19990101000011GMT");
  assertTrue(a.validateOptions(is.getOptions()));
  a.init(new SortedMapIterator(tm),is.getOptions(),null);
  a.seek(new Range(),EMPTY_COL_FAMS,false);
  assertEquals(size(a),89);
  is.clearOptions();
  is.addOption(TimestampFilter.END,"19990101000031GMT");
  assertTrue(a.validateOptions(is.getOptions()));
  a.init(new SortedMapIterator(tm),is.getOptions(),null);
  a.seek(new Range(),EMPTY_COL_FAMS,false);
  assertEquals(size(a),32);
  try {
    a.validateOptions(EMPTY_OPTS);
    assertTrue(false);
  }
 catch (  IllegalArgumentException e) {
  }
}

</code></pre>

<pre class="type-5 type-3 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test2a() throws IOException {
  Text colf=new Text("a");
  Text colq=new Text("b");
  Value dv=new Value();
  TreeMap<Key,Value> tm=new TreeMap<Key,Value>();
  IteratorSetting is=new IteratorSetting(1,ColumnAgeOffFilter.class);
  ColumnAgeOffFilter.addTTL(is,new IteratorSetting.Column("a"),901l);
  long ts=System.currentTimeMillis();
  for (long i=0; i < 1000; i++) {
    Key k=new Key(new Text(String.format("%03d",i)),colf,colq,ts - i);
    tm.put(k,dv);
  }
  assertTrue(tm.size() == 1000);
  ColumnAgeOffFilter a=new ColumnAgeOffFilter();
  assertTrue(a.validateOptions(is.getOptions()));
  a.init(new SortedMapIterator(tm),is.getOptions(),new DefaultIteratorEnvironment());
  a.overrideCurrentTime(ts);
  a.seek(new Range(),EMPTY_COL_FAMS,false);
  assertEquals(size(a),902);
  ColumnAgeOffFilter.addTTL(is,new IteratorSetting.Column("a","b"),101l);
  a.init(new SortedMapIterator(tm),is.getOptions(),new DefaultIteratorEnvironment());
  a.overrideCurrentTime(ts);
  a.seek(new Range(),EMPTY_COL_FAMS,false);
  assertEquals(size(a),102);
  ColumnAgeOffFilter.removeTTL(is,new IteratorSetting.Column("a","b"));
  a.init(new SortedMapIterator(tm),is.getOptions(),new DefaultIteratorEnvironment());
  a=(ColumnAgeOffFilter)a.deepCopy(null);
  a.overrideCurrentTime(ts);
  a.seek(new Range(),EMPTY_COL_FAMS,false);
  assertEquals(size(a),902);
}

</code></pre>

<pre class="type-5 type-3 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test2() throws IOException {
  Text colf=new Text("a");
  Text colq=new Text("b");
  Value dv=new Value();
  TreeMap<Key,Value> tm=new TreeMap<Key,Value>();
  for (int i=0; i < 1000; i++) {
    Key k=new Key(new Text(String.format("%03d",i)),colf,colq);
    k.setTimestamp(i);
    tm.put(k,dv);
  }
  assertTrue(tm.size() == 1000);
  SortedKeyValueIterator<Key,Value> a=new AgeOffFilter();
  IteratorSetting is=new IteratorSetting(1,AgeOffFilter.class);
  AgeOffFilter.setTTL(is,101l);
  AgeOffFilter.setCurrentTime(is,1001l);
  AgeOffFilter.setNegate(is,true);
  assertTrue(((AgeOffFilter)a).validateOptions(is.getOptions()));
  try {
    ((AgeOffFilter)a).validateOptions(EMPTY_OPTS);
    assertTrue(false);
  }
 catch (  IllegalArgumentException e) {
  }
  a.init(new SortedMapIterator(tm),is.getOptions(),null);
  a=a.deepCopy(null);
  SortedKeyValueIterator<Key,Value> copy=a.deepCopy(null);
  a.seek(new Range(),EMPTY_COL_FAMS,false);
  assertEquals(size(a),900);
  copy.seek(new Range(),EMPTY_COL_FAMS,false);
  assertEquals(size(copy),900);
}

</code></pre>

<pre class="type-9 type-5 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void test1neg() throws IOException {
  Text colf=new Text("a");
  Text colq=new Text("b");
  Value dv=new Value();
  TreeMap<Key,Value> tm=new TreeMap<Key,Value>();
  for (int i=0; i < 1000; i++) {
    Key k=new Key(new Text(String.format("%03d",i)),colf,colq);
    tm.put(k,dv);
  }
  assertTrue(tm.size() == 1000);
  Filter filter=new SimpleFilter();
  IteratorSetting is=new IteratorSetting(1,SimpleFilter.class);
  Filter.setNegate(is,true);
  filter.init(new SortedMapIterator(tm),is.getOptions(),null);
  filter.seek(new Range(),EMPTY_COL_FAMS,false);
  int size=size(filter);
  assertTrue("size = " + size,size == 900);
  filter.init(new SortedMapIterator(tm),is.getOptions(),null);
  Key k=new Key(new Text("500"));
  filter.seek(new Range(k,null),EMPTY_COL_FAMS,false);
  size=size(filter);
  assertTrue("size = " + size,size == 450);
  filter.init(new SortedMapIterator(tm),EMPTY_OPTS,null);
  Filter filter2=new SimpleFilter2();
  filter2.init(filter,is.getOptions(),null);
  filter2.seek(new Range(),EMPTY_COL_FAMS,false);
  size=size(filter2);
  assertTrue("size = " + size,size == 100);
}

</code></pre>

<pre class="type-9 type-5 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testDeletes() throws IOException {
  Text colf=new Text("a");
  Text colq=new Text("b");
  Value dv=new Value();
  TreeMap<Key,Value> tm=new TreeMap<Key,Value>();
  Key k=new Key(new Text("0"),colf,colq);
  tm.put(k,dv);
  k=new Key(new Text("1"),colf,colq,10);
  k.setDeleted(true);
  tm.put(k,dv);
  k=new Key(new Text("1"),colf,colq,5);
  tm.put(k,dv);
  k=new Key(new Text("10"),colf,colq);
  tm.put(k,dv);
  assertTrue(tm.size() == 4);
  Filter filter=new SimpleFilter();
  filter.init(new SortedMapIterator(tm),EMPTY_OPTS,null);
  filter.seek(new Range(),EMPTY_COL_FAMS,false);
  int size=size(filter);
  assertTrue("size = " + size,size == 3);
}

</code></pre>

<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void test5() throws IOException {
  Value dv=new Value();
  TreeMap<Key,Value> tm=new TreeMap<Key,Value>();
  tm.put(new Key(new Text(String.format("%03d",1)),new Text("a"),new Text("x")),dv);
  tm.put(new Key(new Text(String.format("%03d",2)),new Text("a"),new Text("y")),dv);
  tm.put(new Key(new Text(String.format("%03d",3)),new Text("a"),new Text("z")),dv);
  tm.put(new Key(new Text(String.format("%03d",4)),new Text("b"),new Text("x")),dv);
  tm.put(new Key(new Text(String.format("%03d",5)),new Text("b"),new Text("y")),dv);
  assertTrue(tm.size() == 5);
  int size=size(ncqf(tm,new Column("c".getBytes(),null,null)));
  assertTrue(size == 5);
  size=size(ncqf(tm,new Column("a".getBytes(),null,null)));
  assertTrue(size == 5);
  size=size(ncqf(tm,new Column("a".getBytes(),"x".getBytes(),null)));
  assertTrue(size == 1);
  size=size(ncqf(tm,new Column("a".getBytes(),"x".getBytes(),null),new Column("b".getBytes(),"x".getBytes(),null)));
  assertTrue(size == 2);
  size=size(ncqf(tm,new Column("a".getBytes(),"x".getBytes(),null),new Column("b".getBytes(),"y".getBytes(),null)));
  assertTrue(size == 2);
  size=size(ncqf(tm,new Column("a".getBytes(),"x".getBytes(),null),new Column("b".getBytes(),null,null)));
  assertTrue(size == 3);
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
