<h3 style="margin:0px">Class: org.apache.accumulo.test.NamespacesIT (24 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(19)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(18)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(17)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(13)</kbd></button>&nbsp;<button id="8"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('8')" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure"><kbd id="tag-8"class="label-info"style="display: inline-block;font-size:7pt" >UtilityVerifier&nbsp;(9)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="10"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('10')" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution"><kbd id="tag-10"class="label-info"style="display: inline-block;font-size:7pt" >ExceptionVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="11"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('11')" data-toggle="tooltip" title="Verifies assertions inside branch conditions"><kbd id="tag-11"class="label-info"style="display: inline-block;font-size:7pt" >BranchVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="13"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('13')" data-toggle="tooltip" title="Verifies assertions in iterations"><kbd id="tag-13"class="label-info"style="display: inline-block;font-size:7pt" >IterativeVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Executes methods or other tests from the same test unit"><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >ExecutionTester&nbsp;(3)</kbd></button>&nbsp;<button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Allocates resources before the execution of the test cases"><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >TestInitializer&nbsp;(1)</kbd></button>&nbsp;<button id="17"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('17')" data-toggle="tooltip" title="Releases resources used by the test cases"><kbd id="tag-17"class="label-info"style="display: inline-block;font-size:7pt" >TestCleaner&nbsp;(1)</kbd></button>&nbsp;<button id="21"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('21')" data-toggle="tooltip" title="Sets implicit assumptions "><kbd id="tag-21"class="label-info"style="display: inline-block;font-size:7pt" >AssumptionSetter&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-8 type-5 type-3 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void renameTable() throws Exception {
  String namespace2=namespace + "_renamed";
  String t1=namespace + ".1";
  String t2=namespace2 + ".2";
  String t3=namespace + ".3";
  String t4=namespace + ".4";
  String t5="5";
  c.namespaceOperations().create(namespace);
  c.namespaceOperations().create(namespace2);
  assertTrue(c.namespaceOperations().exists(namespace));
  assertTrue(c.namespaceOperations().exists(namespace2));
  assertFalse(c.tableOperations().exists(t1));
  assertFalse(c.tableOperations().exists(t2));
  assertFalse(c.tableOperations().exists(t3));
  assertFalse(c.tableOperations().exists(t4));
  assertFalse(c.tableOperations().exists(t5));
  c.tableOperations().create(t1);
  try {
    c.tableOperations().rename(t1,t2);
    fail();
  }
 catch (  AccumuloException e) {
    assertEquals(ThriftTableOperationException.class.getName(),e.getCause().getClass().getName());
    assertEquals(TableOperation.RENAME,((ThriftTableOperationException)e.getCause()).getOp());
    assertEquals(TableOperationExceptionType.INVALID_NAME,((ThriftTableOperationException)e.getCause()).getType());
  }
  try {
    c.tableOperations().rename(t1,t5);
    fail();
  }
 catch (  AccumuloException e) {
    assertEquals(ThriftTableOperationException.class.getName(),e.getCause().getClass().getName());
    assertEquals(TableOperation.RENAME,((ThriftTableOperationException)e.getCause()).getOp());
    assertEquals(TableOperationExceptionType.INVALID_NAME,((ThriftTableOperationException)e.getCause()).getType());
  }
  assertTrue(c.tableOperations().exists(t1));
  assertFalse(c.tableOperations().exists(t2));
  assertFalse(c.tableOperations().exists(t3));
  assertFalse(c.tableOperations().exists(t4));
  assertFalse(c.tableOperations().exists(t5));
  c.tableOperations().rename(t1,t3);
  assertFalse(c.tableOperations().exists(t1));
  assertFalse(c.tableOperations().exists(t2));
  assertTrue(c.tableOperations().exists(t3));
  assertFalse(c.tableOperations().exists(t4));
  assertFalse(c.tableOperations().exists(t5));
}

</code></pre>

<pre class="type-9 type-8 type-5 type-3 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void verifyIteratorInheritance() throws Exception {
  String t1=namespace + ".1";
  c.namespaceOperations().create(namespace);
  c.tableOperations().create(t1);
  String iterName=namespace + "_iter";
  BatchWriter bw=c.createBatchWriter(t1,new BatchWriterConfig());
  Mutation m=new Mutation("r");
  m.put("a","b",new Value("abcde".getBytes()));
  bw.addMutation(m);
  bw.flush();
  bw.close();
  IteratorSetting setting=new IteratorSetting(250,iterName,SimpleFilter.class.getName());
  Scanner s=c.createScanner(t1,Authorizations.EMPTY);
  assertTrue(s.iterator().hasNext());
  assertFalse(c.namespaceOperations().listIterators(namespace).containsKey(iterName));
  assertFalse(c.tableOperations().listIterators(t1).containsKey(iterName));
  c.namespaceOperations().checkIteratorConflicts(namespace,setting,EnumSet.allOf(IteratorScope.class));
  c.namespaceOperations().attachIterator(namespace,setting);
  sleepUninterruptibly(2,TimeUnit.SECONDS);
  try {
    c.namespaceOperations().checkIteratorConflicts(namespace,setting,EnumSet.allOf(IteratorScope.class));
    fail();
  }
 catch (  AccumuloException e) {
    assertEquals(IllegalArgumentException.class.getName(),e.getCause().getClass().getName());
  }
  IteratorSetting setting2=c.namespaceOperations().getIteratorSetting(namespace,setting.getName(),IteratorScope.scan);
  assertEquals(setting,setting2);
  assertTrue(c.namespaceOperations().listIterators(namespace).containsKey(iterName));
  assertTrue(c.tableOperations().listIterators(t1).containsKey(iterName));
  s=c.createScanner(t1,Authorizations.EMPTY);
  assertFalse(s.iterator().hasNext());
  c.namespaceOperations().removeIterator(namespace,setting.getName(),EnumSet.allOf(IteratorScope.class));
  sleepUninterruptibly(2,TimeUnit.SECONDS);
  assertFalse(c.namespaceOperations().listIterators(namespace).containsKey(iterName));
  assertFalse(c.tableOperations().listIterators(t1).containsKey(iterName));
  s=c.createScanner(t1,Authorizations.EMPTY);
  assertTrue(s.iterator().hasNext());
}

</code></pre>

<pre class="type-8 type-5 type-3 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testModifyingPermissions() throws Exception {
  String tableName=namespace + ".modify";
  c.namespaceOperations().create(namespace);
  c.tableOperations().create(tableName);
  assertTrue(c.securityOperations().hasTablePermission(c.whoami(),tableName,TablePermission.READ));
  c.securityOperations().revokeTablePermission(c.whoami(),tableName,TablePermission.READ);
  assertFalse(c.securityOperations().hasTablePermission(c.whoami(),tableName,TablePermission.READ));
  c.securityOperations().grantTablePermission(c.whoami(),tableName,TablePermission.READ);
  assertTrue(c.securityOperations().hasTablePermission(c.whoami(),tableName,TablePermission.READ));
  c.tableOperations().delete(tableName);
  try {
    c.securityOperations().hasTablePermission(c.whoami(),tableName,TablePermission.READ);
    fail();
  }
 catch (  Exception e) {
    if (!(e instanceof AccumuloSecurityException) || !((AccumuloSecurityException)e).getSecurityErrorCode().equals(SecurityErrorCode.TABLE_DOESNT_EXIST))     throw new Exception("Has permission resulted in " + e.getClass().getName(),e);
  }
  try {
    c.securityOperations().grantTablePermission(c.whoami(),tableName,TablePermission.READ);
    fail();
  }
 catch (  Exception e) {
    if (!(e instanceof AccumuloSecurityException) || !((AccumuloSecurityException)e).getSecurityErrorCode().equals(SecurityErrorCode.TABLE_DOESNT_EXIST))     throw new Exception("Has permission resulted in " + e.getClass().getName(),e);
  }
  try {
    c.securityOperations().revokeTablePermission(c.whoami(),tableName,TablePermission.READ);
    fail();
  }
 catch (  Exception e) {
    if (!(e instanceof AccumuloSecurityException) || !((AccumuloSecurityException)e).getSecurityErrorCode().equals(SecurityErrorCode.TABLE_DOESNT_EXIST))     throw new Exception("Has permission resulted in " + e.getClass().getName(),e);
  }
  assertTrue(c.securityOperations().hasNamespacePermission(c.whoami(),namespace,NamespacePermission.READ));
  c.securityOperations().revokeNamespacePermission(c.whoami(),namespace,NamespacePermission.READ);
  assertFalse(c.securityOperations().hasNamespacePermission(c.whoami(),namespace,NamespacePermission.READ));
  c.securityOperations().grantNamespacePermission(c.whoami(),namespace,NamespacePermission.READ);
  assertTrue(c.securityOperations().hasNamespacePermission(c.whoami(),namespace,NamespacePermission.READ));
  c.namespaceOperations().delete(namespace);
  try {
    c.securityOperations().hasTablePermission(c.whoami(),tableName,TablePermission.READ);
    fail();
  }
 catch (  Exception e) {
    if (!(e instanceof AccumuloSecurityException) || !((AccumuloSecurityException)e).getSecurityErrorCode().equals(SecurityErrorCode.TABLE_DOESNT_EXIST))     throw new Exception("Has permission resulted in " + e.getClass().getName(),e);
  }
  try {
    c.securityOperations().grantTablePermission(c.whoami(),tableName,TablePermission.READ);
    fail();
  }
 catch (  Exception e) {
    if (!(e instanceof AccumuloSecurityException) || !((AccumuloSecurityException)e).getSecurityErrorCode().equals(SecurityErrorCode.TABLE_DOESNT_EXIST))     throw new Exception("Has permission resulted in " + e.getClass().getName(),e);
  }
  try {
    c.securityOperations().revokeTablePermission(c.whoami(),tableName,TablePermission.READ);
    fail();
  }
 catch (  Exception e) {
    if (!(e instanceof AccumuloSecurityException) || !((AccumuloSecurityException)e).getSecurityErrorCode().equals(SecurityErrorCode.TABLE_DOESNT_EXIST))     throw new Exception("Has permission resulted in " + e.getClass().getName(),e);
  }
  try {
    c.securityOperations().hasNamespacePermission(c.whoami(),namespace,NamespacePermission.READ);
    fail();
  }
 catch (  Exception e) {
    if (!(e instanceof AccumuloSecurityException) || !((AccumuloSecurityException)e).getSecurityErrorCode().equals(SecurityErrorCode.NAMESPACE_DOESNT_EXIST))     throw new Exception("Has permission resulted in " + e.getClass().getName(),e);
  }
  try {
    c.securityOperations().grantNamespacePermission(c.whoami(),namespace,NamespacePermission.READ);
    fail();
  }
 catch (  Exception e) {
    if (!(e instanceof AccumuloSecurityException) || !((AccumuloSecurityException)e).getSecurityErrorCode().equals(SecurityErrorCode.NAMESPACE_DOESNT_EXIST))     throw new Exception("Has permission resulted in " + e.getClass().getName(),e);
  }
  try {
    c.securityOperations().revokeNamespacePermission(c.whoami(),namespace,NamespacePermission.READ);
    fail();
  }
 catch (  Exception e) {
    if (!(e instanceof AccumuloSecurityException) || !((AccumuloSecurityException)e).getSecurityErrorCode().equals(SecurityErrorCode.NAMESPACE_DOESNT_EXIST))     throw new Exception("Has permission resulted in " + e.getClass().getName(),e);
  }
}

</code></pre>

<pre class="type-10 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AccumuloSecurityException.class) public void deleteDefaultNamespace() throws Exception {
  c.namespaceOperations().delete(Namespaces.DEFAULT_NAMESPACE);
}

</code></pre>

<pre class="type-5 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void verifyPropertyInheritance() throws Exception {
  String t0="0";
  String t1=namespace + ".1";
  String t2=namespace + ".2";
  String k=Property.TABLE_SCAN_MAXMEM.getKey();
  String v="42K";
  assertFalse(c.namespaceOperations().exists(namespace));
  assertFalse(c.tableOperations().exists(t1));
  assertFalse(c.tableOperations().exists(t2));
  c.namespaceOperations().create(namespace);
  c.tableOperations().create(t1);
  c.tableOperations().create(t0);
  assertTrue(c.namespaceOperations().exists(namespace));
  assertTrue(c.tableOperations().exists(t1));
  assertTrue(c.tableOperations().exists(t0));
  assertFalse(checkNamespaceHasProp(namespace,k,v));
  assertFalse(checkTableHasProp(t1,k,v));
  assertFalse(checkNamespaceHasProp(Namespaces.DEFAULT_NAMESPACE,k,v));
  assertFalse(checkTableHasProp(t0,k,v));
  c.namespaceOperations().setProperty(namespace,k,v);
  assertTrue(checkNamespaceHasProp(namespace,k,v));
  assertTrue(checkTableHasProp(t1,k,v));
  assertFalse(checkNamespaceHasProp(Namespaces.DEFAULT_NAMESPACE,k,v));
  assertFalse(checkTableHasProp(t0,k,v));
  assertFalse(c.tableOperations().exists(t2));
  c.tableOperations().create(t2);
  assertTrue(c.tableOperations().exists(t2));
  assertTrue(checkNamespaceHasProp(namespace,k,v));
  assertTrue(checkTableHasProp(t1,k,v));
  assertTrue(checkTableHasProp(t2,k,v));
  assertFalse(checkNamespaceHasProp(Namespaces.DEFAULT_NAMESPACE,k,v));
  assertFalse(checkTableHasProp(t0,k,v));
  c.namespaceOperations().removeProperty(namespace,k);
  assertFalse(checkNamespaceHasProp(namespace,k,v));
  assertFalse(checkTableHasProp(t1,k,v));
  assertFalse(checkTableHasProp(t2,k,v));
  assertFalse(checkNamespaceHasProp(Namespaces.DEFAULT_NAMESPACE,k,v));
  assertFalse(checkTableHasProp(t0,k,v));
  c.namespaceOperations().setProperty(Namespaces.DEFAULT_NAMESPACE,k,v);
  assertFalse(checkNamespaceHasProp(namespace,k,v));
  assertFalse(checkTableHasProp(t1,k,v));
  assertFalse(checkTableHasProp(t2,k,v));
  assertTrue(checkNamespaceHasProp(Namespaces.DEFAULT_NAMESPACE,k,v));
  assertTrue(checkTableHasProp(t0,k,v));
  String k2=Property.TABLE_FILE_MAX.getKey();
  String v2="42";
  String table_v2="13";
  c.namespaceOperations().setProperty(namespace,k2,v2);
  c.tableOperations().setProperty(t2,k2,table_v2);
  assertTrue(checkNamespaceHasProp(namespace,k2,v2));
  assertTrue(checkTableHasProp(t1,k2,v2));
  assertTrue(checkTableHasProp(t2,k2,table_v2));
  c.tableOperations().delete(t1);
  c.tableOperations().delete(t2);
  c.tableOperations().delete(t0);
  c.namespaceOperations().delete(namespace);
}

</code></pre>

<pre class="type-4 type-21 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setupConnectorAndNamespace() throws Exception {
  Assume.assumeTrue(ClusterType.MINI == getClusterType());
  c=getConnector();
  namespace="ns_" + getUniqueNames(1)[0];
}

</code></pre>

<pre class="type-13 type-11 type-8 type-5 type-3 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void verifyTableOperationsExceptions() throws Exception {
  String tableName=namespace + ".1";
  IteratorSetting setting=new IteratorSetting(200,VersioningIterator.class);
  Text a=new Text("a");
  Text z=new Text("z");
  TableOperations ops=c.tableOperations();
  assertFalse(ops.exists(tableName));
  int numRun=0;
  ACCUMULOEXCEPTIONS_NAMESPACENOTFOUND:   for (int i=0; ; ++i)   try {
switch (i) {
case 0:
      ops.create(tableName);
    fail();
  break;
case 1:
ops.create("a");
ops.clone("a",tableName,true,Collections.<String,String>emptyMap(),Collections.<String>emptySet());
fail();
break;
case 2:
ops.importTable(tableName,System.getProperty("user.dir") + "/target");
fail();
break;
default :
assertEquals(3,i);
assertEquals(3,numRun);
break ACCUMULOEXCEPTIONS_NAMESPACENOTFOUND;
}
}
 catch (Exception e) {
numRun++;
if (!(e instanceof AccumuloException) || !(e.getCause() instanceof NamespaceNotFoundException)) throw new Exception("Case " + i + " resulted in "+ e.getClass().getName(),e);
}
numRun=0;
ACCUMULOEXCEPTIONS_TABLENOTFOUND: for (int i=0; ; ++i) try {
switch (i) {
case 0:
ops.removeConstraint(tableName,0);
fail();
break;
case 1:
ops.removeProperty(tableName,"a");
fail();
break;
case 2:
ops.setProperty(tableName,"a","b");
fail();
break;
default :
assertEquals(3,i);
assertEquals(3,numRun);
break ACCUMULOEXCEPTIONS_TABLENOTFOUND;
}
}
 catch (Exception e) {
numRun++;
if (!(e instanceof AccumuloException) || !(e.getCause() instanceof TableNotFoundException) || !(e.getCause().getCause() instanceof NamespaceNotFoundException)) throw new Exception("Case " + i + " resulted in "+ e.getClass().getName(),e);
}
numRun=0;
TABLENOTFOUNDEXCEPTIONS: for (int i=0; ; ++i) try {
switch (i) {
case 0:
ops.addConstraint(tableName,NumericValueConstraint.class.getName());
fail();
break;
case 1:
ops.addSplits(tableName,new TreeSet<Text>());
fail();
break;
case 2:
ops.attachIterator(tableName,setting);
fail();
break;
case 3:
ops.cancelCompaction(tableName);
fail();
break;
case 4:
ops.checkIteratorConflicts(tableName,setting,EnumSet.allOf(IteratorScope.class));
fail();
break;
case 5:
ops.clearLocatorCache(tableName);
fail();
break;
case 6:
ops.clone(tableName,"2",true,Collections.<String,String>emptyMap(),Collections.<String>emptySet());
fail();
break;
case 7:
ops.compact(tableName,a,z,true,true);
fail();
break;
case 8:
ops.delete(tableName);
fail();
break;
case 9:
ops.deleteRows(tableName,a,z);
fail();
break;
case 10:
ops.splitRangeByTablets(tableName,new Range(),10);
fail();
break;
case 11:
ops.exportTable(tableName,namespace + "_dir");
fail();
break;
case 12:
ops.flush(tableName,a,z,true);
fail();
break;
case 13:
ops.getDiskUsage(Collections.singleton(tableName));
fail();
break;
case 14:
ops.getIteratorSetting(tableName,"a",IteratorScope.scan);
fail();
break;
case 15:
ops.getLocalityGroups(tableName);
fail();
break;
case 16:
ops.getMaxRow(tableName,Authorizations.EMPTY,a,true,z,true);
fail();
break;
case 17:
ops.getProperties(tableName);
fail();
break;
case 18:
ops.importDirectory(tableName,"","",false);
fail();
break;
case 19:
ops.testClassLoad(tableName,VersioningIterator.class.getName(),SortedKeyValueIterator.class.getName());
fail();
break;
case 20:
ops.listConstraints(tableName);
fail();
break;
case 21:
ops.listIterators(tableName);
fail();
break;
case 22:
ops.listSplits(tableName);
fail();
break;
case 23:
ops.merge(tableName,a,z);
fail();
break;
case 24:
ops.offline(tableName,true);
fail();
break;
case 25:
ops.online(tableName,true);
fail();
break;
case 26:
ops.removeIterator(tableName,"a",EnumSet.of(IteratorScope.scan));
fail();
break;
case 27:
ops.rename(tableName,tableName + "2");
fail();
break;
case 28:
ops.setLocalityGroups(tableName,Collections.<String,Set<Text>>emptyMap());
fail();
break;
default :
assertEquals(29,i);
assertEquals(29,numRun);
break TABLENOTFOUNDEXCEPTIONS;
}
}
 catch (Exception e) {
numRun++;
if (!(e instanceof TableNotFoundException) || !(e.getCause() instanceof NamespaceNotFoundException)) throw new Exception("Case " + i + " resulted in "+ e.getClass().getName(),e);
}
}

</code></pre>

<pre class="type-13 type-11 type-8 type-5 type-3 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void verifyNamespaceOperationsExceptions() throws Exception {
  IteratorSetting setting=new IteratorSetting(200,VersioningIterator.class);
  NamespaceOperations ops=c.namespaceOperations();
  assertFalse(ops.exists(namespace));
  int numRun=0;
  NAMESPACENOTFOUND:   for (int i=0; ; ++i)   try {
switch (i) {
case 0:
      ops.addConstraint(namespace,NumericValueConstraint.class.getName());
    fail();
  break;
case 1:
ops.attachIterator(namespace,setting);
fail();
break;
case 2:
ops.checkIteratorConflicts(namespace,setting,EnumSet.of(IteratorScope.scan));
fail();
break;
case 3:
ops.delete(namespace);
fail();
break;
case 4:
ops.getIteratorSetting(namespace,"thing",IteratorScope.scan);
fail();
break;
case 5:
ops.getProperties(namespace);
fail();
break;
case 6:
ops.listConstraints(namespace);
fail();
break;
case 7:
ops.listIterators(namespace);
fail();
break;
case 8:
ops.removeConstraint(namespace,1);
fail();
break;
case 9:
ops.removeIterator(namespace,"thing",EnumSet.allOf(IteratorScope.class));
fail();
break;
case 10:
ops.removeProperty(namespace,"a");
fail();
break;
case 11:
ops.rename(namespace,namespace + "2");
fail();
break;
case 12:
ops.setProperty(namespace,"k","v");
fail();
break;
case 13:
ops.testClassLoad(namespace,VersioningIterator.class.getName(),SortedKeyValueIterator.class.getName());
fail();
break;
default :
assertEquals(14,i);
assertEquals(14,numRun);
break NAMESPACENOTFOUND;
}
}
 catch (Exception e) {
numRun++;
if (!(e instanceof NamespaceNotFoundException)) throw new Exception("Case " + i + " resulted in "+ e.getClass().getName(),e);
}
numRun=0;
NAMESPACEEXISTS: for (int i=0; ; ++i) try {
switch (i) {
case 0:
ops.create(namespace + "0");
ops.create(namespace + "0");
fail();
break;
case 1:
ops.create(namespace + i + "_1");
ops.create(namespace + i + "_2");
ops.rename(namespace + i + "_1",namespace + i + "_2");
fail();
break;
case 2:
ops.create(Namespaces.DEFAULT_NAMESPACE);
fail();
break;
case 3:
ops.create(Namespaces.ACCUMULO_NAMESPACE);
fail();
break;
case 4:
ops.create(namespace + i + "_1");
ops.rename(namespace + i + "_1",Namespaces.DEFAULT_NAMESPACE);
fail();
break;
case 5:
ops.create(namespace + i + "_1");
ops.rename(namespace + i + "_1",Namespaces.ACCUMULO_NAMESPACE);
fail();
break;
default :
assertEquals(6,i);
assertEquals(6,numRun);
break NAMESPACEEXISTS;
}
}
 catch (Exception e) {
numRun++;
if (!(e instanceof NamespaceExistsException)) throw new Exception("Case " + i + " resulted in "+ e.getClass().getName(),e);
}
}

</code></pre>

<pre class="type-8 type-5 type-3 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void loadClass() throws Exception {
  assertTrue(c.namespaceOperations().testClassLoad(Namespaces.DEFAULT_NAMESPACE,VersioningIterator.class.getName(),SortedKeyValueIterator.class.getName()));
  assertFalse(c.namespaceOperations().testClassLoad(Namespaces.DEFAULT_NAMESPACE,"dummy",SortedKeyValueIterator.class.getName()));
  try {
    c.namespaceOperations().testClassLoad(namespace,"dummy","dummy");
    fail();
  }
 catch (  NamespaceNotFoundException e) {
  }
}

</code></pre>

<pre class="type-8 type-5 type-3 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void createTableInMissingNamespace() throws Exception {
  String t=namespace + ".1";
  assertFalse(c.namespaceOperations().exists(namespace));
  assertFalse(c.tableOperations().exists(t));
  try {
    c.tableOperations().create(t);
    fail();
  }
 catch (  AccumuloException e) {
    assertEquals(NamespaceNotFoundException.class.getName(),e.getCause().getClass().getName());
    assertFalse(c.namespaceOperations().exists(namespace));
    assertFalse(c.tableOperations().exists(t));
  }
}

</code></pre>

<pre class="type-5 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void createTableInDefaultNamespace() throws Exception {
  String tableName="1";
  c.tableOperations().create(tableName);
  assertTrue(c.tableOperations().exists(tableName));
}

</code></pre>

<pre class="type-5 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void checkBuiltInNamespaces() throws Exception {
  assertTrue(c.namespaceOperations().exists(Namespaces.DEFAULT_NAMESPACE));
  assertTrue(c.namespaceOperations().exists(Namespaces.ACCUMULO_NAMESPACE));
}

</code></pre>

<pre class="type-5 type-3 type-10 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=NamespaceNotEmptyException.class) public void deleteNonEmptyNamespace() throws Exception {
  String tableName1=namespace + ".1";
  assertFalse(c.namespaceOperations().exists(namespace));
  assertFalse(c.tableOperations().exists(tableName1));
  c.namespaceOperations().create(namespace);
  c.tableOperations().create(tableName1);
  assertTrue(c.namespaceOperations().exists(namespace));
  assertTrue(c.tableOperations().exists(tableName1));
  c.namespaceOperations().delete(namespace);
}

</code></pre>

<pre class="type-3 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void checkReservedNamespaces() throws Exception {
  assertEquals(c.namespaceOperations().defaultNamespace(),Namespaces.DEFAULT_NAMESPACE);
  assertEquals(c.namespaceOperations().systemNamespace(),Namespaces.ACCUMULO_NAMESPACE);
}

</code></pre>

<pre class="type-9 type-5 type-3 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void renameNamespaceWithTable() throws Exception {
  String namespace2=namespace + "_renamed";
  String t1=namespace + ".t";
  String t2=namespace2 + ".t";
  c.namespaceOperations().create(namespace);
  c.tableOperations().create(t1);
  assertTrue(c.namespaceOperations().exists(namespace));
  assertTrue(c.tableOperations().exists(t1));
  assertFalse(c.namespaceOperations().exists(namespace2));
  assertFalse(c.tableOperations().exists(t2));
  String namespaceId=c.namespaceOperations().namespaceIdMap().get(namespace);
  String tableId=c.tableOperations().tableIdMap().get(t1);
  c.namespaceOperations().rename(namespace,namespace2);
  assertFalse(c.namespaceOperations().exists(namespace));
  assertFalse(c.tableOperations().exists(t1));
  assertTrue(c.namespaceOperations().exists(namespace2));
  assertTrue(c.tableOperations().exists(t2));
  String namespaceId2=c.namespaceOperations().namespaceIdMap().get(namespace2);
  String tableId2=c.tableOperations().tableIdMap().get(t2);
  assertEquals(namespaceId,namespaceId2);
  assertEquals(tableId,tableId2);
}

</code></pre>

<pre class="type-9 type-11 type-8 type-5 type-3 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests new Namespace permissions as well as modifications to Table permissions because of namespaces. Checks each permission to first make sure the user
 * doesn't have permission to perform the action, then root grants them the permission and we check to make sure they could perform the action.
 */
@Test public void testPermissions() throws Exception {
  ClusterUser user1=getUser(0), user2=getUser(1), root=getAdminUser();
  String u1=user1.getPrincipal();
  String u2=user2.getPrincipal();
  PasswordToken pass=(null != user1.getPassword() ? new PasswordToken(user1.getPassword()) : null);
  String n1=namespace;
  String t1=n1 + ".1";
  String t2=n1 + ".2";
  String t3=n1 + ".3";
  String n2=namespace + "_2";
  loginAs(root);
  c.namespaceOperations().create(n1);
  c.tableOperations().create(t1);
  c.securityOperations().createLocalUser(u1,pass);
  loginAs(user1);
  Connector user1Con=c.getInstance().getConnector(u1,user1.getToken());
  try {
    user1Con.tableOperations().create(t2);
    fail();
  }
 catch (  AccumuloSecurityException e) {
    expectPermissionDenied(e);
  }
  loginAs(root);
  c.securityOperations().grantNamespacePermission(u1,n1,NamespacePermission.CREATE_TABLE);
  loginAs(user1);
  user1Con.tableOperations().create(t2);
  loginAs(root);
  assertTrue(c.tableOperations().list().contains(t2));
  c.securityOperations().revokeNamespacePermission(u1,n1,NamespacePermission.CREATE_TABLE);
  loginAs(user1);
  try {
    user1Con.tableOperations().delete(t1);
    fail();
  }
 catch (  AccumuloSecurityException e) {
    expectPermissionDenied(e);
  }
  loginAs(root);
  c.securityOperations().grantNamespacePermission(u1,n1,NamespacePermission.DROP_TABLE);
  loginAs(user1);
  user1Con.tableOperations().delete(t1);
  loginAs(root);
  assertTrue(!c.tableOperations().list().contains(t1));
  c.securityOperations().revokeNamespacePermission(u1,n1,NamespacePermission.DROP_TABLE);
  c.tableOperations().create(t3);
  BatchWriter bw=c.createBatchWriter(t3,null);
  Mutation m=new Mutation("row");
  m.put("cf","cq","value");
  bw.addMutation(m);
  bw.close();
  loginAs(user1);
  Iterator<Entry<Key,Value>> i=user1Con.createScanner(t3,new Authorizations()).iterator();
  try {
    i.next();
    fail();
  }
 catch (  RuntimeException e) {
    assertEquals(AccumuloSecurityException.class.getName(),e.getCause().getClass().getName());
    expectPermissionDenied((AccumuloSecurityException)e.getCause());
  }
  loginAs(user1);
  m=new Mutation(u1);
  m.put("cf","cq","turtles");
  bw=user1Con.createBatchWriter(t3,null);
  try {
    bw.addMutation(m);
    bw.close();
    fail();
  }
 catch (  MutationsRejectedException e) {
    assertEquals(1,e.getSecurityErrorCodes().size());
    assertEquals(1,e.getSecurityErrorCodes().entrySet().iterator().next().getValue().size());
switch (e.getSecurityErrorCodes().entrySet().iterator().next().getValue().iterator().next()) {
case PERMISSION_DENIED:
      break;
default :
    fail();
}
}
loginAs(root);
c.securityOperations().grantNamespacePermission(u1,n1,NamespacePermission.READ);
loginAs(user1);
i=user1Con.createScanner(t3,new Authorizations()).iterator();
assertTrue(i.hasNext());
loginAs(root);
c.securityOperations().revokeNamespacePermission(u1,n1,NamespacePermission.READ);
c.securityOperations().grantNamespacePermission(u1,n1,NamespacePermission.WRITE);
loginAs(user1);
m=new Mutation(u1);
m.put("cf","cq","turtles");
bw=user1Con.createBatchWriter(t3,null);
bw.addMutation(m);
bw.close();
loginAs(root);
c.securityOperations().revokeNamespacePermission(u1,n1,NamespacePermission.WRITE);
loginAs(user1);
try {
user1Con.tableOperations().setProperty(t3,Property.TABLE_FILE_MAX.getKey(),"42");
fail();
}
 catch (AccumuloSecurityException e) {
expectPermissionDenied(e);
}
loginAs(root);
c.securityOperations().grantNamespacePermission(u1,n1,NamespacePermission.ALTER_TABLE);
loginAs(user1);
user1Con.tableOperations().setProperty(t3,Property.TABLE_FILE_MAX.getKey(),"42");
user1Con.tableOperations().removeProperty(t3,Property.TABLE_FILE_MAX.getKey());
loginAs(root);
c.securityOperations().revokeNamespacePermission(u1,n1,NamespacePermission.ALTER_TABLE);
loginAs(user1);
try {
user1Con.namespaceOperations().setProperty(n1,Property.TABLE_FILE_MAX.getKey(),"55");
fail();
}
 catch (AccumuloSecurityException e) {
expectPermissionDenied(e);
}
loginAs(root);
c.securityOperations().grantNamespacePermission(u1,n1,NamespacePermission.ALTER_NAMESPACE);
loginAs(user1);
user1Con.namespaceOperations().setProperty(n1,Property.TABLE_FILE_MAX.getKey(),"42");
user1Con.namespaceOperations().removeProperty(n1,Property.TABLE_FILE_MAX.getKey());
loginAs(root);
c.securityOperations().revokeNamespacePermission(u1,n1,NamespacePermission.ALTER_NAMESPACE);
loginAs(root);
c.securityOperations().createLocalUser(u2,(root.getPassword() == null ? null : new PasswordToken(user2.getPassword())));
loginAs(user1);
try {
user1Con.securityOperations().grantNamespacePermission(u2,n1,NamespacePermission.ALTER_NAMESPACE);
fail();
}
 catch (AccumuloSecurityException e) {
expectPermissionDenied(e);
}
loginAs(root);
c.securityOperations().grantNamespacePermission(u1,n1,NamespacePermission.GRANT);
loginAs(user1);
user1Con.securityOperations().grantNamespacePermission(u2,n1,NamespacePermission.ALTER_NAMESPACE);
user1Con.securityOperations().revokeNamespacePermission(u2,n1,NamespacePermission.ALTER_NAMESPACE);
loginAs(root);
c.securityOperations().revokeNamespacePermission(u1,n1,NamespacePermission.GRANT);
loginAs(user1);
try {
user1Con.namespaceOperations().create(n2);
fail();
}
 catch (AccumuloSecurityException e) {
expectPermissionDenied(e);
}
loginAs(root);
c.securityOperations().grantSystemPermission(u1,SystemPermission.CREATE_NAMESPACE);
loginAs(user1);
user1Con.namespaceOperations().create(n2);
loginAs(root);
c.securityOperations().revokeSystemPermission(u1,SystemPermission.CREATE_NAMESPACE);
c.securityOperations().revokeNamespacePermission(u1,n2,NamespacePermission.DROP_NAMESPACE);
loginAs(user1);
try {
user1Con.namespaceOperations().delete(n2);
fail();
}
 catch (AccumuloSecurityException e) {
expectPermissionDenied(e);
}
loginAs(root);
c.securityOperations().grantSystemPermission(u1,SystemPermission.DROP_NAMESPACE);
loginAs(user1);
user1Con.namespaceOperations().delete(n2);
loginAs(root);
c.securityOperations().revokeSystemPermission(u1,SystemPermission.DROP_NAMESPACE);
loginAs(user1);
try {
user1Con.namespaceOperations().setProperty(n1,Property.TABLE_FILE_MAX.getKey(),"33");
fail();
}
 catch (AccumuloSecurityException e) {
expectPermissionDenied(e);
}
loginAs(root);
c.securityOperations().grantSystemPermission(u1,SystemPermission.ALTER_NAMESPACE);
loginAs(user1);
user1Con.namespaceOperations().setProperty(n1,Property.TABLE_FILE_MAX.getKey(),"33");
user1Con.namespaceOperations().removeProperty(n1,Property.TABLE_FILE_MAX.getKey());
loginAs(root);
c.securityOperations().revokeSystemPermission(u1,SystemPermission.ALTER_NAMESPACE);
}

</code></pre>

<pre class="type-10 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AccumuloSecurityException.class) public void deleteAccumuloNamespace() throws Exception {
  c.namespaceOperations().delete(Namespaces.ACCUMULO_NAMESPACE);
}

</code></pre>

<pre class="type-8 type-5 type-3 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void cloneTable() throws Exception {
  String namespace2=namespace + "_clone";
  String t1=namespace + ".1";
  String t2=namespace + ".2";
  String t3=namespace2 + ".2";
  String k1=Property.TABLE_FILE_MAX.getKey();
  String k2=Property.TABLE_FILE_REPLICATION.getKey();
  String k1v1="55";
  String k1v2="66";
  String k2v1="5";
  String k2v2="6";
  c.namespaceOperations().create(namespace);
  c.tableOperations().create(t1);
  assertTrue(c.tableOperations().exists(t1));
  assertFalse(c.namespaceOperations().exists(namespace2));
  assertFalse(c.tableOperations().exists(t2));
  assertFalse(c.tableOperations().exists(t3));
  try {
    c.tableOperations().clone(t1,t3,false,null,null);
    fail();
  }
 catch (  AccumuloException e) {
    assertEquals(NamespaceNotFoundException.class.getName(),e.getCause().getClass().getName());
  }
  c.namespaceOperations().create(namespace2);
  c.tableOperations().create(t2);
  c.tableOperations().create(t3);
  for (  String t : Arrays.asList(t2,t3)) {
    try {
      c.tableOperations().clone(t1,t,false,null,null);
      fail();
    }
 catch (    TableExistsException e) {
      c.tableOperations().delete(t);
    }
  }
  assertTrue(c.tableOperations().exists(t1));
  assertTrue(c.namespaceOperations().exists(namespace2));
  assertFalse(c.tableOperations().exists(t2));
  assertFalse(c.tableOperations().exists(t3));
  assertFalse(checkNamespaceHasProp(namespace,k1,k1v1));
  assertFalse(checkNamespaceHasProp(namespace2,k1,k1v2));
  assertFalse(checkTableHasProp(t1,k1,k1v1));
  assertFalse(checkTableHasProp(t1,k1,k1v2));
  assertFalse(checkNamespaceHasProp(namespace,k2,k2v1));
  assertFalse(checkNamespaceHasProp(namespace2,k2,k2v1));
  assertFalse(checkTableHasProp(t1,k2,k2v1));
  assertFalse(checkTableHasProp(t1,k2,k2v2));
  c.namespaceOperations().setProperty(namespace,k1,k1v1);
  c.namespaceOperations().setProperty(namespace2,k1,k1v2);
  c.namespaceOperations().setProperty(namespace,k2,k2v1);
  c.namespaceOperations().setProperty(namespace2,k2,k2v1);
  c.tableOperations().setProperty(t1,k2,k2v2);
  assertTrue(checkNamespaceHasProp(namespace,k1,k1v1));
  assertTrue(checkNamespaceHasProp(namespace2,k1,k1v2));
  assertTrue(checkTableHasProp(t1,k1,k1v1));
  assertFalse(checkTableHasProp(t1,k1,k1v2));
  assertTrue(checkNamespaceHasProp(namespace,k2,k2v1));
  assertTrue(checkNamespaceHasProp(namespace2,k2,k2v1));
  assertFalse(checkTableHasProp(t1,k2,k2v1));
  assertTrue(checkTableHasProp(t1,k2,k2v2));
  for (  String t : Arrays.asList(t2,t3))   c.tableOperations().clone(t1,t,false,null,null);
  assertTrue(c.namespaceOperations().exists(namespace2));
  assertTrue(c.tableOperations().exists(t1));
  assertTrue(c.tableOperations().exists(t2));
  assertTrue(c.tableOperations().exists(t3));
  assertTrue(checkTableHasProp(t1,k1,k1v1));
  assertTrue(checkTableHasProp(t2,k1,k1v1));
  assertTrue(checkTableHasProp(t3,k1,k1v2));
  assertTrue(checkTableHasProp(t1,k2,k2v2));
  assertTrue(checkTableHasProp(t2,k2,k2v2));
  assertTrue(checkTableHasProp(t3,k2,k2v2));
}

</code></pre>

<pre class="type-17 type-3 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@After public void swingMjölnir() throws Exception {
  if (null == c) {
    return;
  }
  for (  String t : c.tableOperations().list())   if (!Tables.qualify(t).getFirst().equals(Namespaces.ACCUMULO_NAMESPACE))   c.tableOperations().delete(t);
  assertEquals(3,c.tableOperations().list().size());
  for (  String n : c.namespaceOperations().list())   if (!n.equals(Namespaces.ACCUMULO_NAMESPACE) && !n.equals(Namespaces.DEFAULT_NAMESPACE))   c.namespaceOperations().delete(n);
  assertEquals(2,c.namespaceOperations().list().size());
  for (  String u : c.securityOperations().listLocalUsers())   if (!getAdminPrincipal().equals(u))   c.securityOperations().dropLocalUser(u);
  assertEquals(1,c.securityOperations().listLocalUsers().size());
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void verifySystemPropertyInheritance() throws Exception {
  String t1="1";
  String t2=namespace + "." + t1;
  c.tableOperations().create(t1);
  c.namespaceOperations().create(namespace);
  c.tableOperations().create(t2);
  _verifySystemPropertyInheritance(t1,t2,Property.TABLE_ITERATOR_PREFIX.getKey() + "scan.sum","20," + SimpleFilter.class.getName(),false);
  _verifySystemPropertyInheritance(t1,t2,Property.TABLE_CONSTRAINT_PREFIX.getKey() + "42",NumericValueConstraint.class.getName(),false);
  _verifySystemPropertyInheritance(t1,t2,Property.TABLE_LOCALITY_GROUP_PREFIX.getKey() + "dummy","dummy",true);
}

</code></pre>

<pre class="type-5 type-3 type-7 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void listNamespaces() throws Exception {
  SortedSet<String> namespaces=c.namespaceOperations().list();
  Map<String,String> map=c.namespaceOperations().namespaceIdMap();
  assertEquals(2,namespaces.size());
  assertEquals(2,map.size());
  assertTrue(namespaces.contains(Namespaces.ACCUMULO_NAMESPACE));
  assertTrue(namespaces.contains(Namespaces.DEFAULT_NAMESPACE));
  assertFalse(namespaces.contains(namespace));
  assertEquals(Namespaces.ACCUMULO_NAMESPACE_ID,map.get(Namespaces.ACCUMULO_NAMESPACE));
  assertEquals(Namespaces.DEFAULT_NAMESPACE_ID,map.get(Namespaces.DEFAULT_NAMESPACE));
  assertNull(map.get(namespace));
  c.namespaceOperations().create(namespace);
  namespaces=c.namespaceOperations().list();
  map=c.namespaceOperations().namespaceIdMap();
  assertEquals(3,namespaces.size());
  assertEquals(3,map.size());
  assertTrue(namespaces.contains(Namespaces.ACCUMULO_NAMESPACE));
  assertTrue(namespaces.contains(Namespaces.DEFAULT_NAMESPACE));
  assertTrue(namespaces.contains(namespace));
  assertEquals(Namespaces.ACCUMULO_NAMESPACE_ID,map.get(Namespaces.ACCUMULO_NAMESPACE));
  assertEquals(Namespaces.DEFAULT_NAMESPACE_ID,map.get(Namespaces.DEFAULT_NAMESPACE));
  assertNotNull(map.get(namespace));
  c.namespaceOperations().delete(namespace);
  namespaces=c.namespaceOperations().list();
  map=c.namespaceOperations().namespaceIdMap();
  assertEquals(2,namespaces.size());
  assertEquals(2,map.size());
  assertTrue(namespaces.contains(Namespaces.ACCUMULO_NAMESPACE));
  assertTrue(namespaces.contains(Namespaces.DEFAULT_NAMESPACE));
  assertFalse(namespaces.contains(namespace));
  assertEquals(Namespaces.ACCUMULO_NAMESPACE_ID,map.get(Namespaces.ACCUMULO_NAMESPACE));
  assertEquals(Namespaces.DEFAULT_NAMESPACE_ID,map.get(Namespaces.DEFAULT_NAMESPACE));
  assertNull(map.get(namespace));
}

</code></pre>

<pre class="type-9 type-13 type-5 type-3 type-7 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void verifyConstraintInheritance() throws Exception {
  String t1=namespace + ".1";
  c.namespaceOperations().create(namespace);
  c.tableOperations().create(t1,new NewTableConfiguration().withoutDefaultIterators());
  String constraintClassName=NumericValueConstraint.class.getName();
  assertFalse(c.namespaceOperations().listConstraints(namespace).containsKey(constraintClassName));
  assertFalse(c.tableOperations().listConstraints(t1).containsKey(constraintClassName));
  c.namespaceOperations().addConstraint(namespace,constraintClassName);
  boolean passed=false;
  for (int i=0; i < 5; i++) {
    if (!c.namespaceOperations().listConstraints(namespace).containsKey(constraintClassName)) {
      Thread.sleep(500);
      continue;
    }
    if (!c.tableOperations().listConstraints(t1).containsKey(constraintClassName)) {
      Thread.sleep(500);
      continue;
    }
    passed=true;
    break;
  }
  assertTrue("Failed to observe newly-added constraint",passed);
  passed=false;
  Integer namespaceNum=null;
  for (int i=0; i < 5; i++) {
    namespaceNum=c.namespaceOperations().listConstraints(namespace).get(constraintClassName);
    if (null == namespaceNum) {
      Thread.sleep(500);
      continue;
    }
    Integer tableNum=c.tableOperations().listConstraints(t1).get(constraintClassName);
    if (null == tableNum) {
      Thread.sleep(500);
      continue;
    }
    assertEquals(namespaceNum,tableNum);
    passed=true;
  }
  assertTrue("Failed to observe constraint in both table and namespace",passed);
  Mutation m1=new Mutation("r1");
  Mutation m2=new Mutation("r2");
  Mutation m3=new Mutation("r3");
  m1.put("a","b",new Value("abcde".getBytes(UTF_8)));
  m2.put("e","f",new Value("123".getBytes(UTF_8)));
  m3.put("c","d",new Value("zyxwv".getBytes(UTF_8)));
  passed=false;
  for (int i=0; i < 5; i++) {
    BatchWriter bw=c.createBatchWriter(t1,new BatchWriterConfig());
    bw.addMutations(Arrays.asList(m1,m2,m3));
    try {
      bw.close();
      Thread.sleep(500);
    }
 catch (    MutationsRejectedException e) {
      passed=true;
      assertEquals(1,e.getConstraintViolationSummaries().size());
      assertEquals(2,e.getConstraintViolationSummaries().get(0).getNumberOfViolatingMutations());
      break;
    }
  }
  assertTrue("Failed to see mutations rejected after constraint was added",passed);
  assertNotNull("Namespace constraint ID should not be null",namespaceNum);
  c.namespaceOperations().removeConstraint(namespace,namespaceNum);
  passed=false;
  for (int i=0; i < 5; i++) {
    if (c.namespaceOperations().listConstraints(namespace).containsKey(constraintClassName)) {
      Thread.sleep(500);
      continue;
    }
    if (c.tableOperations().listConstraints(t1).containsKey(constraintClassName)) {
      Thread.sleep(500);
      continue;
    }
    passed=true;
  }
  assertTrue("Failed to verify that constraint was removed from namespace and table",passed);
  passed=false;
  for (int i=0; i < 5; i++) {
    BatchWriter bw=c.createBatchWriter(t1,new BatchWriterConfig());
    try {
      bw.addMutations(Arrays.asList(m1,m2,m3));
      bw.close();
    }
 catch (    MutationsRejectedException e) {
      Thread.sleep(500);
      continue;
    }
    passed=true;
  }
  assertTrue("Failed to add mutations that should be allowed",passed);
}

</code></pre>

<pre class="type-5 type-3 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void createAndDeleteNamespace() throws Exception {
  String t1=namespace + ".1";
  String t2=namespace + ".2";
  assertFalse(c.namespaceOperations().exists(namespace));
  assertFalse(c.tableOperations().exists(t1));
  assertFalse(c.tableOperations().exists(t2));
  try {
    c.namespaceOperations().delete(namespace);
  }
 catch (  NamespaceNotFoundException e) {
  }
  try {
    c.tableOperations().delete(t1);
  }
 catch (  TableNotFoundException e) {
    assertEquals(NamespaceNotFoundException.class.getName(),e.getCause().getClass().getName());
  }
  c.namespaceOperations().create(namespace);
  assertTrue(c.namespaceOperations().exists(namespace));
  assertFalse(c.tableOperations().exists(t1));
  assertFalse(c.tableOperations().exists(t2));
  c.tableOperations().create(t1);
  assertTrue(c.namespaceOperations().exists(namespace));
  assertTrue(c.tableOperations().exists(t1));
  assertFalse(c.tableOperations().exists(t2));
  c.tableOperations().create(t2);
  assertTrue(c.namespaceOperations().exists(namespace));
  assertTrue(c.tableOperations().exists(t1));
  assertTrue(c.tableOperations().exists(t2));
  c.tableOperations().delete(t1);
  assertTrue(c.namespaceOperations().exists(namespace));
  assertFalse(c.tableOperations().exists(t1));
  assertTrue(c.tableOperations().exists(t2));
  c.tableOperations().delete(t2);
  assertTrue(c.namespaceOperations().exists(namespace));
  assertFalse(c.tableOperations().exists(t1));
  assertFalse(c.tableOperations().exists(t2));
  c.namespaceOperations().delete(namespace);
  assertFalse(c.namespaceOperations().exists(namespace));
  assertFalse(c.tableOperations().exists(t1));
  assertFalse(c.tableOperations().exists(t2));
}

</code></pre>

<pre class="type-5 type-10 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=AccumuloException.class) public void createTableInAccumuloNamespace() throws Exception {
  String tableName=Namespaces.ACCUMULO_NAMESPACE + ".1";
  assertFalse(c.tableOperations().exists(tableName));
  c.tableOperations().create(tableName);
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
