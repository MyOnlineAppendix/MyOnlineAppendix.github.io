<h3 style="margin:0px">Class: org.apache.hive.hcatalog.templeton.TestWebHCatE2e (13 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(12)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(10)</kbd></button>&nbsp;<button id="17"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('17')" data-toggle="tooltip" title="Is not executed with the test suite"><kbd id="tag-17"class="label-info"style="display: inline-block;font-size:7pt" >IgnoredMethod&nbsp;(7)</kbd></button>&nbsp;<button id="11"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('11')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-11"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(7)</kbd></button>&nbsp;<button id="16"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('16')" data-toggle="tooltip" title="Verifies values related to public fields."><kbd id="tag-16"class="label-info"style="display: inline-block;font-size:7pt" >PublicFieldVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="13"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('13')" data-toggle="tooltip" title="Releases resources used by the test cases"><kbd id="tag-13"class="label-info"style="display: inline-block;font-size:7pt" >TestCleaner&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-7 type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
@Test public void getPigVersion() throws Exception {
  MethodCallRetVal p=doHttpCall(templetonBaseUrl + "/version/pig",HTTP_METHOD_TYPE.GET);
  Assert.assertEquals(HttpStatus.NOT_IMPLEMENTED_501,p.httpStatusCode);
  Map<String,Object> props=JsonBuilder.jsonToMap(p.responseBody);
  Assert.assertEquals(p.getAssertMsg(),"Pig version request not yet " + "implemented",(String)props.get("error"));
}

</code></pre>

<pre class="type-11 type-7 type-17 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Ignore("not ready due to HIVE-4824") @Test public void describeNoSuchTable() throws IOException {
  MethodCallRetVal p=doHttpCall(templetonBaseUrl + "/ddl/database/default/table/no_such_table",HTTP_METHOD_TYPE.GET);
  Assert.assertEquals(p.getAssertMsg(),HttpStatus.NOT_FOUND_404,p.httpStatusCode);
  Assert.assertEquals(p.getAssertMsg(),ErrorMsg.INVALID_TABLE.getErrorCode(),getErrorCode(p.responseBody));
}

</code></pre>

<pre class="type-4 type-7 type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getHiveVersion() throws Exception {
  MethodCallRetVal p=doHttpCall(templetonBaseUrl + "/version/hive",HTTP_METHOD_TYPE.GET);
  Assert.assertEquals(HttpStatus.OK_200,p.httpStatusCode);
  Map<String,Object> props=JsonBuilder.jsonToMap(p.responseBody);
  Assert.assertEquals("hive",props.get("module"));
  Assert.assertTrue(p.getAssertMsg(),((String)props.get("version")).matches("[0-9]+.[0-9]+.[0-9]+.*"));
}

</code></pre>

<pre class="type-11 type-4 type-7 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getStatus() throws IOException {
  LOG.debug("+getStatus()");
  MethodCallRetVal p=doHttpCall(templetonBaseUrl + "/status",HTTP_METHOD_TYPE.GET);
  Assert.assertEquals(p.getAssertMsg(),HttpStatus.OK_200,p.httpStatusCode);
  Assert.assertTrue(p.getAssertMsg(),jsonStringToSortedMap("{\"status\":\"ok\",\"version\":\"v1\"}").equals(jsonStringToSortedMap(p.responseBody)));
  LOG.debug("-getStatus()");
}

</code></pre>

<pre class="type-11 type-7 type-17 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Ignore("not ready due to HIVE-4824") @Test public void createTable() throws IOException {
  Map<String,Object> props=new HashMap<String,Object>();
  props.put("comment","Table in default db");
  Map<String,Object> col=new HashMap<String,Object>();
  col.put("name","col1");
  col.put("type","string");
  List<Map<String,Object>> colList=new ArrayList<Map<String,Object>>(1);
  colList.add(col);
  props.put("columns",colList);
  Map<String,Object> format=new HashMap<String,Object>();
  format.put("storedAs","rcfile");
  props.put("format",format);
  MethodCallRetVal createTbl=doHttpCall(templetonBaseUrl + "/ddl/database/default/table/test_table",HTTP_METHOD_TYPE.PUT,props,null);
  Assert.assertEquals(createTbl.getAssertMsg(),HttpStatus.OK_200,createTbl.httpStatusCode);
  LOG.info("createTable() resp: " + createTbl.responseBody);
  MethodCallRetVal descTbl=doHttpCall(templetonBaseUrl + "/ddl/database/default/table/test_table",HTTP_METHOD_TYPE.GET);
  Assert.assertEquals(descTbl.getAssertMsg(),HttpStatus.OK_200,descTbl.httpStatusCode);
}

</code></pre>

<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
"></span><br>
@AfterClass public static void stopWebHcatInMem(){
  if (templetonServer != null) {
    LOG.info("Stopping Main");
    templetonServer.stop();
    LOG.info("Main stopped");
  }
}

</code></pre>

<pre class="type-11 type-7 type-17 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Ignore("not ready due to HIVE-4824") @Test public void listDataBases() throws IOException {
  LOG.debug("+listDataBases()");
  MethodCallRetVal p=doHttpCall(templetonBaseUrl + "/ddl/database",HTTP_METHOD_TYPE.GET);
  Assert.assertEquals(p.getAssertMsg(),HttpStatus.OK_200,p.httpStatusCode);
  Assert.assertEquals(p.getAssertMsg(),"{\"databases\":[\"default\"]}",p.responseBody);
  LOG.debug("-listDataBases()");
}

</code></pre>

<pre class="type-11 type-7 type-17 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Ignore("not ready due to HIVE-4824") @Test public void createDataBase() throws IOException {
  Map<String,Object> props=new HashMap<String,Object>();
  props.put("comment","Hello, there");
  props.put("location",System.getProperty("test.warehouse.dir"));
  Map<String,String> props2=new HashMap<String,String>();
  props2.put("prop","val");
  props.put("properties",props2);
  MethodCallRetVal p=doHttpCall(templetonBaseUrl + "/ddl/database/newdb",HTTP_METHOD_TYPE.PUT,props,null);
  Assert.assertEquals(p.getAssertMsg(),HttpStatus.OK_200,p.httpStatusCode);
}

</code></pre>

<pre class="type-11 type-7 type-17 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * tries to drop table in a DB that doesn't exist
 */
@Ignore("not ready due to HIVE-4824") @Test public void dropTableNoSuchDB() throws IOException {
  MethodCallRetVal p=doHttpCall(templetonBaseUrl + "/ddl/database/no_such_db/table/t1",HTTP_METHOD_TYPE.DELETE);
  Assert.assertEquals(p.getAssertMsg(),HttpStatus.NOT_FOUND_404,p.httpStatusCode);
  Assert.assertEquals(p.getAssertMsg(),ErrorMsg.DATABASE_NOT_EXISTS.getErrorCode(),getErrorCode(p.responseBody));
}

</code></pre>

<pre class="type-7 type-17 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * tries to drop table that doesn't exist (with ifExists=true)
 */
@Ignore("not ready due to HIVE-4824") @Test public void dropTableIfExists() throws IOException {
  MethodCallRetVal p=doHttpCall(templetonBaseUrl + "/ddl/database/default/table/no_such_table",HTTP_METHOD_TYPE.DELETE,null,new NameValuePair[]{new NameValuePair("ifExists","true")});
  Assert.assertEquals(p.getAssertMsg(),HttpStatus.OK_200,p.httpStatusCode);
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Check that we return correct status code when the URL doesn't map to any method
 * in {@link Server}
 */
@Test public void invalidPath() throws IOException {
  MethodCallRetVal p=doHttpCall(templetonBaseUrl + "/no_such_mapping/database",HTTP_METHOD_TYPE.GET);
  Assert.assertEquals(p.getAssertMsg(),HttpStatus.NOT_FOUND_404,p.httpStatusCode);
}

</code></pre>

<pre class="type-4 type-7 type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getHadoopVersion() throws Exception {
  MethodCallRetVal p=doHttpCall(templetonBaseUrl + "/version/hadoop",HTTP_METHOD_TYPE.GET);
  Assert.assertEquals(HttpStatus.OK_200,p.httpStatusCode);
  Map<String,Object> props=JsonBuilder.jsonToMap(p.responseBody);
  Assert.assertEquals("hadoop",props.get("module"));
  Assert.assertTrue(p.getAssertMsg(),((String)props.get("version")).matches("[1-2].[0-9]+.[0-9]+.*"));
}

</code></pre>

<pre class="type-11 type-7 type-17 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * tries to drop table in a DB that doesn't exist
 */
@Ignore("not ready due to HIVE-4824") @Test public void dropTableNoSuchDbIfExists() throws IOException {
  MethodCallRetVal p=doHttpCall(templetonBaseUrl + "/ddl/database/no_such_db/table/t1",HTTP_METHOD_TYPE.DELETE,null,new NameValuePair[]{new NameValuePair("ifExists","true")});
  Assert.assertEquals(p.getAssertMsg(),HttpStatus.NOT_FOUND_404,p.httpStatusCode);
  Assert.assertEquals(p.getAssertMsg(),ErrorMsg.DATABASE_NOT_EXISTS.getErrorCode(),getErrorCode(p.responseBody));
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
