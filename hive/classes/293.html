<h3 style="margin:0px">Class: org.apache.hadoop.hive.serde2.avro.TestAvroDeserializer (16 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(12)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(12)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(12)</kbd></button>&nbsp;<button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(12)</kbd></button>&nbsp;<button id="11"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('11')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-11"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(11)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Executes methods or other tests from the same test unit"><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >ExecutionTester&nbsp;(4)</kbd></button>&nbsp;<button id="16"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('16')" data-toggle="tooltip" title="Verifies values related to public fields."><kbd id="tag-16"class="label-info"style="display: inline-block;font-size:7pt" >PublicFieldVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Verifies assertions in iterations"><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >IterativeVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="8"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('8')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-8"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void canDeserializeNullableTypes() throws IOException, SerDeException {
  Schema s=AvroSerdeUtils.getSchemaFor(TestAvroObjectInspectorGenerator.NULLABLE_STRING_SCHEMA);
  GenericData.Record record=new GenericData.Record(s);
  record.put("nullableString","this is a string");
  verifyNullableType(record,s,"nullableString","this is a string");
  record=new GenericData.Record(s);
  record.put("nullableString",null);
  verifyNullableType(record,s,"nullableString",null);
}

</code></pre>

<pre class="type-11 type-4 type-5 type-7 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void canDeserializeMapsWithJavaLangStringKeys() throws IOException, SerDeException {
  String schemaString="{\n" + "  \"namespace\": \"testing\",\n" + "  \"name\": \"oneMap\",\n"+ "  \"type\": \"record\",\n"+ "  \"fields\": [\n"+ "    {\n"+ "      \"name\":\"aMap\",\n"+ "      \"type\":{\"type\":\"map\",\n"+ "      \"avro.java.string\":\"String\",\n"+ "      \"values\":\"long\"}\n"+ "\t}\n"+ "  ]\n"+ "}";
  Schema s=AvroSerdeUtils.getSchemaFor(schemaString);
  GenericData.Record record=new GenericData.Record(s);
  Map<String,Long> m=new Hashtable<String,Long>();
  m.put("one",1l);
  m.put("two",2l);
  m.put("three",3l);
  record.put("aMap",m);
  assertTrue(GENERIC_DATA.validate(s,record));
  System.out.println("record = " + record);
  AvroGenericRecordWritable garw=Utils.serializeAndDeserializeRecord(record);
  AvroObjectInspectorGenerator aoig=new AvroObjectInspectorGenerator(s);
  AvroDeserializer de=new AvroDeserializer();
  ArrayList row=(ArrayList)de.deserialize(aoig.getColumnNames(),aoig.getColumnTypes(),garw,s);
  assertEquals(1,row.size());
  Object theMapObject=row.get(0);
  assertTrue(theMapObject instanceof Map);
  Map theMap=(Map)theMapObject;
  assertEquals(1l,theMap.get("one"));
  assertEquals(2l,theMap.get("two"));
  assertEquals(3l,theMap.get("three"));
  StandardStructObjectInspector oi=(StandardStructObjectInspector)aoig.getObjectInspector();
  List z=oi.getStructFieldsDataAsList(row);
  assertEquals(1,z.size());
  StructField fieldRef=oi.getStructFieldRef("amap");
  Map theMap2=(Map)oi.getStructFieldData(row,fieldRef);
  assertEquals(1l,theMap2.get("one"));
  assertEquals(2l,theMap2.get("two"));
  assertEquals(3l,theMap2.get("three"));
}

</code></pre>

<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void canDeserializeNullableEnums() throws IOException, SerDeException {
  Schema s=AvroSerdeUtils.getSchemaFor(TestAvroObjectInspectorGenerator.NULLABLE_ENUM_SCHEMA);
  GenericData.Record record=new GenericData.Record(s);
  record.put("nullableEnum",new GenericData.EnumSymbol(AvroSerdeUtils.getOtherTypeFromNullableType(s.getField("nullableEnum").schema()),"CYBERMEN"));
  verifyNullableType(record,s,"nullableEnum","CYBERMEN");
  record=new GenericData.Record(s);
  record.put("nullableEnum",null);
  verifyNullableType(record,s,"nullableEnum",null);
}

</code></pre>

<pre class="type-11 type-4 type-5 type-7 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void canDeserializeEnums() throws SerDeException, IOException {
  Schema s=AvroSerdeUtils.getSchemaFor(TestAvroObjectInspectorGenerator.ENUM_SCHEMA);
  GenericData.Record record=new GenericData.Record(s);
  record.put("baddies",new GenericData.EnumSymbol(s.getField("baddies").schema(),"DALEKS"));
  assertTrue(GENERIC_DATA.validate(s,record));
  AvroGenericRecordWritable garw=Utils.serializeAndDeserializeRecord(record);
  AvroObjectInspectorGenerator aoig=new AvroObjectInspectorGenerator(s);
  AvroDeserializer de=new AvroDeserializer();
  ArrayList row=(ArrayList)de.deserialize(aoig.getColumnNames(),aoig.getColumnTypes(),garw,s);
  assertEquals(1,row.size());
  StandardStructObjectInspector oi=(StandardStructObjectInspector)aoig.getObjectInspector();
  List<? extends StructField> fieldRefs=oi.getAllStructFieldRefs();
  assertEquals(1,fieldRefs.size());
  StructField fieldRef=fieldRefs.get(0);
  assertEquals("baddies",fieldRef.getFieldName());
  Object theStringObject=oi.getStructFieldData(row,fieldRef);
  assertTrue(fieldRef.getFieldObjectInspector() instanceof StringObjectInspector);
  StringObjectInspector soi=(StringObjectInspector)fieldRef.getFieldObjectInspector();
  String finalValue=soi.getPrimitiveJavaObject(theStringObject);
  assertEquals("DALEKS",finalValue);
}

</code></pre>

<pre class="type-11 type-6 type-4 type-5 type-7 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void canDeserializeBytes() throws SerDeException, IOException {
  Schema s=AvroSerdeUtils.getSchemaFor(TestAvroObjectInspectorGenerator.BYTES_SCHEMA);
  GenericData.Record record=new GenericData.Record(s);
  byte[] bytes="ANANCIENTBLUEBOX".getBytes();
  ByteBuffer bb=ByteBuffer.wrap(bytes);
  bb.rewind();
  record.put("bytesField",bb);
  assertTrue(GENERIC_DATA.validate(s,record));
  AvroGenericRecordWritable garw=Utils.serializeAndDeserializeRecord(record);
  AvroObjectInspectorGenerator aoig=new AvroObjectInspectorGenerator(s);
  AvroDeserializer de=new AvroDeserializer();
  ArrayList row=(ArrayList)de.deserialize(aoig.getColumnNames(),aoig.getColumnTypes(),garw,s);
  assertEquals(1,row.size());
  Object byteObject=row.get(0);
  assertTrue(byteObject instanceof byte[]);
  byte[] outBytes=(byte[])byteObject;
  for (int i=0; i < bytes.length; i++) {
    assertEquals(bytes[i],outBytes[i]);
  }
  StandardStructObjectInspector oi=(StandardStructObjectInspector)aoig.getObjectInspector();
  List fieldsDataAsList=oi.getStructFieldsDataAsList(row);
  assertEquals(1,fieldsDataAsList.size());
  StructField fieldRef=oi.getStructFieldRef("bytesField");
  outBytes=(byte[])oi.getStructFieldData(row,fieldRef);
  for (int i=0; i < outBytes.length; i++) {
    assertEquals(bytes[i],outBytes[i]);
  }
}

</code></pre>

<pre class="type-11 type-4 type-5 type-7 type-8 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void canDeserializeVoidType() throws IOException, SerDeException {
  String schemaString="{\n" + "  \"type\": \"record\", \n" + "  \"name\": \"nullTest\",\n"+ "  \"fields\" : [\n"+ "    {\"name\": \"isANull\", \"type\": \"null\"}\n"+ "  ]\n"+ "}";
  Schema s=AvroSerdeUtils.getSchemaFor(schemaString);
  GenericData.Record record=new GenericData.Record(s);
  record.put("isANull",null);
  assertTrue(GENERIC_DATA.validate(s,record));
  AvroGenericRecordWritable garw=Utils.serializeAndDeserializeRecord(record);
  AvroObjectInspectorGenerator aoig=new AvroObjectInspectorGenerator(s);
  AvroDeserializer de=new AvroDeserializer();
  ArrayList row=(ArrayList)de.deserialize(aoig.getColumnNames(),aoig.getColumnTypes(),garw,s);
  assertEquals(1,row.size());
  Object theVoidObject=row.get(0);
  assertNull(theVoidObject);
  StandardStructObjectInspector oi=(StandardStructObjectInspector)aoig.getObjectInspector();
  StructField fieldRef=oi.getStructFieldRef("isANull");
  Object shouldBeNull=oi.getStructFieldData(row,fieldRef);
  assertNull(shouldBeNull);
  assertTrue(fieldRef.getFieldObjectInspector() instanceof VoidObjectInspector);
}

</code></pre>

<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void canDeserializeRecords() throws SerDeException, IOException {
  Schema s=AvroSerdeUtils.getSchemaFor(TestAvroObjectInspectorGenerator.RECORD_SCHEMA);
  canDeserializeRecordsInternal(s,s);
}

</code></pre>

<pre class="type-11 type-6 type-4 type-5 type-7 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void canDeserializeFixed() throws SerDeException, IOException {
  Schema s=AvroSerdeUtils.getSchemaFor(TestAvroObjectInspectorGenerator.FIXED_SCHEMA);
  GenericData.Record record=new GenericData.Record(s);
  byte[] bytes="ANANCIENTBLUEBOX".getBytes();
  record.put("hash",new GenericData.Fixed(s,bytes));
  assertTrue(GENERIC_DATA.validate(s,record));
  AvroGenericRecordWritable garw=Utils.serializeAndDeserializeRecord(record);
  AvroObjectInspectorGenerator aoig=new AvroObjectInspectorGenerator(s);
  AvroDeserializer de=new AvroDeserializer();
  ArrayList row=(ArrayList)de.deserialize(aoig.getColumnNames(),aoig.getColumnTypes(),garw,s);
  assertEquals(1,row.size());
  Object byteObject=row.get(0);
  assertTrue(byteObject instanceof byte[]);
  byte[] outBytes=(byte[])byteObject;
  for (int i=0; i < bytes.length; i++) {
    assertEquals(bytes[i],outBytes[i]);
  }
  StandardStructObjectInspector oi=(StandardStructObjectInspector)aoig.getObjectInspector();
  List fieldsDataAsList=oi.getStructFieldsDataAsList(row);
  assertEquals(1,fieldsDataAsList.size());
  StructField fieldRef=oi.getStructFieldRef("hash");
  outBytes=(byte[])oi.getStructFieldData(row,fieldRef);
  for (int i=0; i < outBytes.length; i++) {
    assertEquals(bytes[i],outBytes[i]);
  }
}

</code></pre>

<pre class="type-11 type-4 type-5 type-7 type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void canDeserializeEvolvedUnions2() throws SerDeException, IOException {
  Schema ws=AvroSerdeUtils.getSchemaFor(TestAvroObjectInspectorGenerator.UNION_SCHEMA_3);
  Schema rs=AvroSerdeUtils.getSchemaFor(TestAvroObjectInspectorGenerator.UNION_SCHEMA_4);
  GenericData.Record record=new GenericData.Record(ws);
  record.put("aUnion",90);
  ResultPair result=unionTester(ws,rs,record);
  assertTrue(result.value instanceof Integer);
  assertEquals(90,result.value);
  UnionObjectInspector uoi=(UnionObjectInspector)result.oi;
  assertEquals(0,uoi.getTag(result.unionObject));
  record=new GenericData.Record(ws);
  record.put("aUnion",99.9f);
  result=unionTester(ws,rs,record);
  assertTrue(result.value instanceof Float);
  assertEquals(99.9f,result.value);
  uoi=(UnionObjectInspector)result.oi;
  assertEquals(1,uoi.getTag(result.unionObject));
}

</code></pre>

<pre class="type-11 type-4 type-5 type-7 type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void canDeserializeEvolvedUnions1() throws SerDeException, IOException {
  Schema ws=AvroSerdeUtils.getSchemaFor(TestAvroObjectInspectorGenerator.UNION_SCHEMA);
  Schema rs=AvroSerdeUtils.getSchemaFor(TestAvroObjectInspectorGenerator.UNION_SCHEMA_2);
  GenericData.Record record=new GenericData.Record(ws);
  record.put("aUnion","this is a string");
  ResultPair result=unionTester(ws,rs,record);
  assertTrue(result.value instanceof String);
  assertEquals("this is a string",result.value);
  UnionObjectInspector uoi=(UnionObjectInspector)result.oi;
  assertEquals(2,uoi.getTag(result.unionObject));
  record=new GenericData.Record(ws);
  record.put("aUnion",99);
  result=unionTester(ws,rs,record);
  assertTrue(result.value instanceof Integer);
  assertEquals(99,result.value);
  uoi=(UnionObjectInspector)result.oi;
  assertEquals(1,uoi.getTag(result.unionObject));
}

</code></pre>

<pre class="type-11 type-4 type-5 type-7 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void canDeserializeArrays() throws SerDeException, IOException {
  Schema s=AvroSerdeUtils.getSchemaFor(TestAvroObjectInspectorGenerator.ARRAY_WITH_PRIMITIVE_ELEMENT_TYPE);
  GenericData.Record record=new GenericData.Record(s);
  List<String> list=new ArrayList<String>();
  list.add("Eccleston");
  list.add("Tennant");
  list.add("Smith");
  record.put("anArray",list);
  assertTrue(GENERIC_DATA.validate(s,record));
  System.out.println("Array-backed record = " + record);
  AvroGenericRecordWritable garw=Utils.serializeAndDeserializeRecord(record);
  AvroObjectInspectorGenerator aoig=new AvroObjectInspectorGenerator(s);
  AvroDeserializer de=new AvroDeserializer();
  ArrayList row=(ArrayList)de.deserialize(aoig.getColumnNames(),aoig.getColumnTypes(),garw,s);
  assertEquals(1,row.size());
  Object theArrayObject=row.get(0);
  assertTrue(theArrayObject instanceof List);
  List theList=(List)theArrayObject;
  assertEquals("Eccleston",theList.get(0));
  assertEquals("Tennant",theList.get(1));
  assertEquals("Smith",theList.get(2));
  StandardStructObjectInspector oi=(StandardStructObjectInspector)aoig.getObjectInspector();
  StructField fieldRefToArray=oi.getStructFieldRef("anArray");
  Object anArrayData=oi.getStructFieldData(row,fieldRefToArray);
  StandardListObjectInspector anArrayOI=(StandardListObjectInspector)fieldRefToArray.getFieldObjectInspector();
  assertEquals(3,anArrayOI.getListLength(anArrayData));
  JavaStringObjectInspector elementOI=(JavaStringObjectInspector)anArrayOI.getListElementObjectInspector();
  Object firstElement=anArrayOI.getListElement(anArrayData,0);
  assertEquals("Eccleston",elementOI.getPrimitiveJavaObject(firstElement));
  assertTrue(firstElement instanceof String);
  Object secondElement=anArrayOI.getListElement(anArrayData,1);
  assertEquals("Tennant",elementOI.getPrimitiveJavaObject(secondElement));
  assertTrue(secondElement instanceof String);
  Object thirdElement=anArrayOI.getListElement(anArrayData,2);
  assertEquals("Smith",elementOI.getPrimitiveJavaObject(thirdElement));
  assertTrue(thirdElement instanceof String);
}

</code></pre>

<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void canDeserializeNullableRecords() throws SerDeException, IOException {
  Schema s=AvroSerdeUtils.getSchemaFor(TestAvroObjectInspectorGenerator.RECORD_SCHEMA);
  Schema fileSchema=AvroSerdeUtils.getSchemaFor(TestAvroObjectInspectorGenerator.NULLABLE_RECORD_SCHEMA);
  canDeserializeRecordsInternal(s,fileSchema);
}

</code></pre>

<pre class="type-11 type-4 type-5 type-7 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void canDeserializeMapWithNullablePrimitiveValues() throws SerDeException, IOException {
  Schema s=AvroSerdeUtils.getSchemaFor(TestAvroObjectInspectorGenerator.MAP_WITH_NULLABLE_PRIMITIVE_VALUE_TYPE_SCHEMA);
  GenericData.Record record=new GenericData.Record(s);
  Map<String,Long> m=new HashMap<String,Long>();
  m.put("one",1l);
  m.put("two",2l);
  m.put("three",3l);
  m.put("mu",null);
  record.put("aMap",m);
  assertTrue(GENERIC_DATA.validate(s,record));
  System.out.println("record = " + record);
  AvroGenericRecordWritable garw=Utils.serializeAndDeserializeRecord(record);
  AvroObjectInspectorGenerator aoig=new AvroObjectInspectorGenerator(s);
  AvroDeserializer de=new AvroDeserializer();
  ArrayList row=(ArrayList)de.deserialize(aoig.getColumnNames(),aoig.getColumnTypes(),garw,s);
  assertEquals(1,row.size());
  Object theMapObject=row.get(0);
  assertTrue(theMapObject instanceof Map);
  Map theMap=(Map)theMapObject;
  assertEquals(1l,theMap.get("one"));
  assertEquals(2l,theMap.get("two"));
  assertEquals(3l,theMap.get("three"));
  assertTrue(theMap.containsKey("mu"));
  assertEquals(null,theMap.get("mu"));
  StandardStructObjectInspector oi=(StandardStructObjectInspector)aoig.getObjectInspector();
  List z=oi.getStructFieldsDataAsList(row);
  assertEquals(1,z.size());
  StructField fieldRef=oi.getStructFieldRef("amap");
  Map theMap2=(Map)oi.getStructFieldData(row,fieldRef);
  assertEquals(1l,theMap2.get("one"));
  assertEquals(2l,theMap2.get("two"));
  assertEquals(3l,theMap2.get("three"));
  assertTrue(theMap2.containsKey("mu"));
  assertEquals(null,theMap2.get("mu"));
}

</code></pre>

<pre class="type-11 type-4 type-5 type-7 type-16 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void canDeserializeUnions() throws SerDeException, IOException {
  Schema s=AvroSerdeUtils.getSchemaFor(TestAvroObjectInspectorGenerator.UNION_SCHEMA);
  GenericData.Record record=new GenericData.Record(s);
  record.put("aUnion","this is a string");
  ResultPair result=unionTester(s,record);
  assertTrue(result.value instanceof String);
  assertEquals("this is a string",result.value);
  UnionObjectInspector uoi=(UnionObjectInspector)result.oi;
  assertEquals(1,uoi.getTag(result.unionObject));
  record=new GenericData.Record(s);
  record.put("aUnion",99);
  result=unionTester(s,record);
  assertTrue(result.value instanceof Integer);
  assertEquals(99,result.value);
  uoi=(UnionObjectInspector)result.oi;
  assertEquals(0,uoi.getTag(result.unionObject));
}

</code></pre>

<pre class="type-11 type-4 type-5 type-7 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void canDeserializeMapsWithPrimitiveKeys() throws SerDeException, IOException {
  Schema s=AvroSerdeUtils.getSchemaFor(TestAvroObjectInspectorGenerator.MAP_WITH_PRIMITIVE_VALUE_TYPE);
  GenericData.Record record=new GenericData.Record(s);
  Map<String,Long> m=new Hashtable<String,Long>();
  m.put("one",1l);
  m.put("two",2l);
  m.put("three",3l);
  record.put("aMap",m);
  assertTrue(GENERIC_DATA.validate(s,record));
  System.out.println("record = " + record);
  AvroGenericRecordWritable garw=Utils.serializeAndDeserializeRecord(record);
  AvroObjectInspectorGenerator aoig=new AvroObjectInspectorGenerator(s);
  AvroDeserializer de=new AvroDeserializer();
  ArrayList row=(ArrayList)de.deserialize(aoig.getColumnNames(),aoig.getColumnTypes(),garw,s);
  assertEquals(1,row.size());
  Object theMapObject=row.get(0);
  assertTrue(theMapObject instanceof Map);
  Map theMap=(Map)theMapObject;
  assertEquals(1l,theMap.get("one"));
  assertEquals(2l,theMap.get("two"));
  assertEquals(3l,theMap.get("three"));
  StandardStructObjectInspector oi=(StandardStructObjectInspector)aoig.getObjectInspector();
  List z=oi.getStructFieldsDataAsList(row);
  assertEquals(1,z.size());
  StructField fieldRef=oi.getStructFieldRef("amap");
  Map theMap2=(Map)oi.getStructFieldData(row,fieldRef);
  assertEquals(1l,theMap2.get("one"));
  assertEquals(2l,theMap2.get("two"));
  assertEquals(3l,theMap2.get("three"));
}

</code></pre>

<pre class="type-4 type-5 type-7 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void verifyCaching() throws SerDeException, IOException {
  Schema s=AvroSerdeUtils.getSchemaFor(TestAvroObjectInspectorGenerator.RECORD_SCHEMA);
  GenericData.Record record=new GenericData.Record(s);
  GenericData.Record innerRecord=new GenericData.Record(s.getField("aRecord").schema());
  innerRecord.put("int1",42);
  innerRecord.put("boolean1",true);
  innerRecord.put("long1",42432234234l);
  record.put("aRecord",innerRecord);
  assertTrue(GENERIC_DATA.validate(s,record));
  AvroGenericRecordWritable garw=Utils.serializeAndDeserializeRecord(record);
  UID recordReaderID=new UID();
  garw.setRecordReaderID(recordReaderID);
  AvroObjectInspectorGenerator aoig=new AvroObjectInspectorGenerator(s);
  AvroDeserializer de=new AvroDeserializer();
  ArrayList row=(ArrayList)de.deserialize(aoig.getColumnNames(),aoig.getColumnTypes(),garw,s);
  assertEquals(1,de.getNoEncodingNeeded().size());
  assertEquals(0,de.getReEncoderCache().size());
  row=(ArrayList)de.deserialize(aoig.getColumnNames(),aoig.getColumnTypes(),garw,s);
  assertEquals(1,de.getNoEncodingNeeded().size());
  assertEquals(0,de.getReEncoderCache().size());
  garw.setRecordReaderID(new UID());
  row=(ArrayList)de.deserialize(aoig.getColumnNames(),aoig.getColumnTypes(),garw,s);
  assertEquals(2,de.getNoEncodingNeeded().size());
  assertEquals(0,de.getReEncoderCache().size());
  Schema evolvedSchema=AvroSerdeUtils.getSchemaFor(s.toString());
  evolvedSchema.getField("aRecord").schema().addProp("Testing","meaningless");
  garw.setRecordReaderID(recordReaderID=new UID());
  row=(ArrayList)de.deserialize(aoig.getColumnNames(),aoig.getColumnTypes(),garw,evolvedSchema);
  assertEquals(2,de.getNoEncodingNeeded().size());
  assertEquals(1,de.getReEncoderCache().size());
  garw.setRecordReaderID(recordReaderID);
  row=(ArrayList)de.deserialize(aoig.getColumnNames(),aoig.getColumnTypes(),garw,evolvedSchema);
  assertEquals(2,de.getNoEncodingNeeded().size());
  assertEquals(1,de.getReEncoderCache().size());
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
