<h3><span class=" glyphicon glyphicon-tag"/>&nbspAPIUtilityVerifier</h3><kbd>Verifies values of objects/variables related to API calls (Java or TPL) </kbd><br><br><br><h4 style="margin:0px">Class: org.apache.hc.core5.http.TestHttpHost </h4><pre class="type-11 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSerialization() throws Exception {
  final HttpHost orig=new HttpHost("somehost",8080,"https");
  final ByteArrayOutputStream outbuffer=new ByteArrayOutputStream();
  final ObjectOutputStream outstream=new ObjectOutputStream(outbuffer);
  outstream.writeObject(orig);
  outstream.close();
  final byte[] raw=outbuffer.toByteArray();
  final ByteArrayInputStream inbuffer=new ByteArrayInputStream(raw);
  final ObjectInputStream instream=new ObjectInputStream(inbuffer);
  final HttpHost clone=(HttpHost)instream.readObject();
  Assert.assertEquals(orig,clone);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.TestHttpVersion </h4><pre class="type-11 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSerialization() throws Exception {
  final HttpVersion orig=HttpVersion.HTTP_1_1;
  final ByteArrayOutputStream outbuffer=new ByteArrayOutputStream();
  final ObjectOutputStream outstream=new ObjectOutputStream(outbuffer);
  outstream.writeObject(orig);
  outstream.close();
  final byte[] raw=outbuffer.toByteArray();
  final ByteArrayInputStream inbuffer=new ByteArrayInputStream(raw);
  final ObjectInputStream instream=new ObjectInputStream(inbuffer);
  final HttpVersion clone=(HttpVersion)instream.readObject();
  Assert.assertEquals(orig,clone);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.entity.TestBasicHttpEntity </h4><pre class="type-11 type-14 type-9 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWriteTo() throws Exception {
  final byte[] bytes="Message content".getBytes(StandardCharsets.US_ASCII);
  final InputStream content=new ByteArrayInputStream(bytes);
  final BasicHttpEntity httpentity=new BasicHttpEntity();
  httpentity.setContent(content);
  ByteArrayOutputStream out=new ByteArrayOutputStream();
  httpentity.writeTo(out);
  final byte[] bytes2=out.toByteArray();
  Assert.assertNotNull(bytes2);
  Assert.assertEquals(bytes.length,bytes2.length);
  for (int i=0; i < bytes.length; i++) {
    Assert.assertEquals(bytes[i],bytes2[i]);
  }
  httpentity.setContent(null);
  out=new ByteArrayOutputStream();
  try {
    httpentity.writeTo(out);
    Assert.fail("IllegalStateException should have been thrown");
  }
 catch (  final IllegalStateException ex) {
  }
  try {
    httpentity.writeTo(null);
    Assert.fail("IllegalArgumentException should have been thrown");
  }
 catch (  final IllegalArgumentException ex) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.entity.TestBufferedHttpEntity </h4><pre class="type-11 type-14 type-9 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWriteToBuffered() throws Exception {
  final byte[] bytes="Message content".getBytes(StandardCharsets.US_ASCII);
  final InputStreamEntity httpentity=new InputStreamEntity(new ByteArrayInputStream(bytes),-1);
  final BufferedHttpEntity bufentity=new BufferedHttpEntity(httpentity);
  ByteArrayOutputStream out=new ByteArrayOutputStream();
  bufentity.writeTo(out);
  byte[] bytes2=out.toByteArray();
  Assert.assertNotNull(bytes2);
  Assert.assertEquals(bytes.length,bytes2.length);
  for (int i=0; i < bytes.length; i++) {
    Assert.assertEquals(bytes[i],bytes2[i]);
  }
  out=new ByteArrayOutputStream();
  bufentity.writeTo(out);
  bytes2=out.toByteArray();
  Assert.assertNotNull(bytes2);
  Assert.assertEquals(bytes.length,bytes2.length);
  for (int i=0; i < bytes.length; i++) {
    Assert.assertEquals(bytes[i],bytes2[i]);
  }
  try {
    bufentity.writeTo(null);
    Assert.fail("IllegalArgumentException should have been thrown");
  }
 catch (  final IllegalArgumentException ex) {
  }
}

</code></pre>

<br>
<pre class="type-11 type-14 type-9 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWriteToWrapped() throws Exception {
  final byte[] bytes="Message content".getBytes(StandardCharsets.US_ASCII);
  final ByteArrayEntity httpentity=new ByteArrayEntity(bytes);
  final BufferedHttpEntity bufentity=new BufferedHttpEntity(httpentity);
  ByteArrayOutputStream out=new ByteArrayOutputStream();
  bufentity.writeTo(out);
  byte[] bytes2=out.toByteArray();
  Assert.assertNotNull(bytes2);
  Assert.assertEquals(bytes.length,bytes2.length);
  for (int i=0; i < bytes.length; i++) {
    Assert.assertEquals(bytes[i],bytes2[i]);
  }
  out=new ByteArrayOutputStream();
  bufentity.writeTo(out);
  bytes2=out.toByteArray();
  Assert.assertNotNull(bytes2);
  Assert.assertEquals(bytes.length,bytes2.length);
  for (int i=0; i < bytes.length; i++) {
    Assert.assertEquals(bytes[i],bytes2[i]);
  }
  try {
    bufentity.writeTo(null);
    Assert.fail("IllegalArgumentException should have been thrown");
  }
 catch (  final IllegalArgumentException ex) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.entity.TestByteArrayEntity </h4><pre class="type-11 type-14 type-9 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWriteToOffLen() throws Exception {
  final byte[] bytes="Message content".getBytes(StandardCharsets.US_ASCII);
  final int off=8;
  final int len=7;
  final ByteArrayEntity httpentity=new ByteArrayEntity(bytes,off,len);
  ByteArrayOutputStream out=new ByteArrayOutputStream();
  httpentity.writeTo(out);
  byte[] bytes2=out.toByteArray();
  Assert.assertNotNull(bytes2);
  Assert.assertEquals(len,bytes2.length);
  for (int i=0; i < len; i++) {
    Assert.assertEquals(bytes[i + off],bytes2[i]);
  }
  out=new ByteArrayOutputStream();
  httpentity.writeTo(out);
  bytes2=out.toByteArray();
  Assert.assertNotNull(bytes2);
  Assert.assertEquals(len,bytes2.length);
  for (int i=0; i < len; i++) {
    Assert.assertEquals(bytes[i + off],bytes2[i]);
  }
  try {
    httpentity.writeTo(null);
    Assert.fail("IllegalArgumentException should have been thrown");
  }
 catch (  final IllegalArgumentException ex) {
  }
}

</code></pre>

<br>
<pre class="type-11 type-14 type-9 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWriteTo() throws Exception {
  final byte[] bytes="Message content".getBytes(StandardCharsets.US_ASCII);
  final ByteArrayEntity httpentity=new ByteArrayEntity(bytes);
  ByteArrayOutputStream out=new ByteArrayOutputStream();
  httpentity.writeTo(out);
  byte[] bytes2=out.toByteArray();
  Assert.assertNotNull(bytes2);
  Assert.assertEquals(bytes.length,bytes2.length);
  for (int i=0; i < bytes.length; i++) {
    Assert.assertEquals(bytes[i],bytes2[i]);
  }
  out=new ByteArrayOutputStream();
  httpentity.writeTo(out);
  bytes2=out.toByteArray();
  Assert.assertNotNull(bytes2);
  Assert.assertEquals(bytes.length,bytes2.length);
  for (int i=0; i < bytes.length; i++) {
    Assert.assertEquals(bytes[i],bytes2[i]);
  }
  try {
    httpentity.writeTo(null);
    Assert.fail("IllegalArgumentException should have been thrown");
  }
 catch (  final IllegalArgumentException ex) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.entity.TestByteBufferEntity </h4><pre class="type-11 type-14 type-9 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWriteTo() throws Exception {
  final ByteBuffer bytes=ByteBuffer.wrap("Message content".getBytes(StandardCharsets.US_ASCII));
  final ByteBufferEntity httpentity=new ByteBufferEntity(bytes);
  ByteArrayOutputStream out=new ByteArrayOutputStream();
  httpentity.writeTo(out);
  byte[] bytes2=out.toByteArray();
  Assert.assertNotNull(bytes2);
  Assert.assertEquals(bytes.capacity(),bytes2.length);
  bytes.position(0);
  for (int i=0; i < bytes2.length; i++) {
    Assert.assertEquals(bytes.get(i),bytes2[i]);
  }
  out=new ByteArrayOutputStream();
  httpentity.writeTo(out);
  bytes2=out.toByteArray();
  Assert.assertNotNull(bytes2);
  Assert.assertEquals(bytes.capacity(),bytes2.length);
  bytes.position(0);
  for (int i=0; i < bytes.capacity(); i++) {
    Assert.assertEquals(bytes.get(i),bytes2[i]);
  }
  try {
    httpentity.writeTo(null);
    Assert.fail("IllegalArgumentException should have been thrown");
  }
 catch (  final IllegalArgumentException ex) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.entity.TestContentType </h4><pre class="type-11 type-1 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExtract() throws Exception {
  final BasicHttpEntity httpentity=new BasicHttpEntity();
  httpentity.setContentType("text/plain; charset = UTF-8");
  final ContentType contentType=ContentType.get(httpentity);
  Assert.assertNotNull(contentType);
  Assert.assertEquals("text/plain",contentType.getMimeType());
  Assert.assertEquals(StandardCharsets.UTF_8,contentType.getCharset());
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExtractNoCharset() throws Exception {
  final BasicHttpEntity httpentity=new BasicHttpEntity();
  httpentity.setContentType("text/plain; param=yadayada");
  final ContentType contentType=ContentType.get(httpentity);
  Assert.assertNotNull(contentType);
  Assert.assertEquals("text/plain",contentType.getMimeType());
  Assert.assertNull(contentType.getCharset());
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLenientExtractInvalidCharset() throws Exception {
  final BasicHttpEntity httpentity=new BasicHttpEntity();
  httpentity.setContentType("text/plain; charset = stuff");
  final ContentType contentType=ContentType.getLenient(httpentity);
  Assert.assertNotNull(contentType);
  Assert.assertEquals("text/plain",contentType.getMimeType());
  Assert.assertEquals(null,contentType.getCharset());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.entity.TestFileEntity </h4><pre class="type-11 type-14 type-15 type-9 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWriteTo() throws Exception {
  final File tmpfile=File.createTempFile("testfile",".txt");
  tmpfile.deleteOnExit();
  final FileOutputStream outstream=new FileOutputStream(tmpfile);
  outstream.write(0);
  outstream.write(1);
  outstream.write(2);
  outstream.write(3);
  outstream.close();
  final FileEntity httpentity=new FileEntity(tmpfile,ContentType.TEXT_PLAIN);
  final ByteArrayOutputStream out=new ByteArrayOutputStream();
  httpentity.writeTo(out);
  final byte[] bytes=out.toByteArray();
  Assert.assertNotNull(bytes);
  Assert.assertEquals(tmpfile.length(),bytes.length);
  for (int i=0; i < 4; i++) {
    Assert.assertEquals(i,bytes[i]);
  }
  if (!tmpfile.delete()) {
    Assert.fail("Failed to delete: " + tmpfile);
  }
  try {
    httpentity.writeTo(null);
    Assert.fail("IllegalArgumentException should have been thrown");
  }
 catch (  final IllegalArgumentException ex) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.entity.TestHttpEntityWrapper </h4><pre class="type-11 type-14 type-9 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWriteTo() throws Exception {
  final String s="Message content";
  final byte[] bytes=s.getBytes(StandardCharsets.ISO_8859_1);
  final StringEntity httpentity=new StringEntity(s);
  final HttpEntityWrapper wrapped=new HttpEntityWrapper(httpentity);
  ByteArrayOutputStream out=new ByteArrayOutputStream();
  wrapped.writeTo(out);
  byte[] bytes2=out.toByteArray();
  Assert.assertNotNull(bytes2);
  Assert.assertEquals(bytes.length,bytes2.length);
  for (int i=0; i < bytes.length; i++) {
    Assert.assertEquals(bytes[i],bytes2[i]);
  }
  out=new ByteArrayOutputStream();
  wrapped.writeTo(out);
  bytes2=out.toByteArray();
  Assert.assertNotNull(bytes2);
  Assert.assertEquals(bytes.length,bytes2.length);
  for (int i=0; i < bytes.length; i++) {
    Assert.assertEquals(bytes[i],bytes2[i]);
  }
  try {
    wrapped.writeTo(null);
    Assert.fail("IllegalArgumentException should have been thrown");
  }
 catch (  final IllegalArgumentException ex) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.entity.TestInputStreamEntity </h4><pre class="type-11 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWriteTo() throws Exception {
  final String message="Message content";
  final byte[] bytes=message.getBytes(StandardCharsets.ISO_8859_1);
  final InputStream instream=new ByteArrayInputStream(bytes);
  final InputStreamEntity httpentity=new InputStreamEntity(instream,bytes.length);
  final ByteArrayOutputStream out=new ByteArrayOutputStream();
  httpentity.writeTo(out);
  final byte[] writtenBytes=out.toByteArray();
  Assert.assertNotNull(writtenBytes);
  Assert.assertEquals(bytes.length,writtenBytes.length);
  final String s=new String(writtenBytes,StandardCharsets.ISO_8859_1.name());
  Assert.assertEquals(message,s);
}

</code></pre>

<br>
<pre class="type-11 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWriteToUnknownLength() throws Exception {
  final String message="Message content";
  final byte[] bytes=message.getBytes(StandardCharsets.ISO_8859_1);
  final InputStream instream=new ByteArrayInputStream(bytes);
  final InputStreamEntity httpentity=new InputStreamEntity(instream);
  final ByteArrayOutputStream out=new ByteArrayOutputStream();
  httpentity.writeTo(out);
  final byte[] writtenBytes=out.toByteArray();
  Assert.assertNotNull(writtenBytes);
  Assert.assertEquals(bytes.length,writtenBytes.length);
  final String s=new String(writtenBytes,StandardCharsets.ISO_8859_1.name());
  Assert.assertEquals(message,s);
}

</code></pre>

<br>
<pre class="type-11 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWriteToPartialContent() throws Exception {
  final String message="Message content";
  final byte[] bytes=message.getBytes(StandardCharsets.ISO_8859_1);
  final InputStream instream=new ByteArrayInputStream(bytes);
  final int contentLength=7;
  final InputStreamEntity httpentity=new InputStreamEntity(instream,contentLength);
  final ByteArrayOutputStream out=new ByteArrayOutputStream();
  httpentity.writeTo(out);
  final byte[] writtenBytes=out.toByteArray();
  Assert.assertNotNull(writtenBytes);
  Assert.assertEquals(contentLength,writtenBytes.length);
  final String s=new String(writtenBytes,StandardCharsets.ISO_8859_1.name());
  Assert.assertEquals(message.substring(0,contentLength),s);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.entity.TestSerializableEntity </h4><pre class="type-11 type-9 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWriteToDirect() throws Exception {
  final Serializable serializableObj=new SerializableObject();
  final SerializableEntity httpentity=new SerializableEntity(serializableObj,false);
  final ByteArrayOutputStream out=new ByteArrayOutputStream();
  httpentity.writeTo(out);
  final byte[] bytes=out.toByteArray();
  Assert.assertNotNull(bytes);
  final ObjectInputStream oin=new ObjectInputStream(new ByteArrayInputStream(bytes));
  final SerializableObject serIn=(SerializableObject)oin.readObject();
  Assert.assertEquals(4,serIn.intValue);
  Assert.assertEquals("Hello",serIn.stringValue);
  try {
    httpentity.writeTo(null);
    Assert.fail("IllegalArgumentException should have been thrown");
  }
 catch (  final IllegalArgumentException ex) {
  }
}

</code></pre>

<br>
<pre class="type-11 type-9 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWriteToBuff() throws Exception {
  final Serializable serializableObj=new SerializableObject();
  final SerializableEntity httpentity=new SerializableEntity(serializableObj,true);
  final ByteArrayOutputStream out=new ByteArrayOutputStream();
  httpentity.writeTo(out);
  final byte[] bytes=out.toByteArray();
  Assert.assertNotNull(bytes);
  final ObjectInputStream oin=new ObjectInputStream(new ByteArrayInputStream(bytes));
  final SerializableObject serIn=(SerializableObject)oin.readObject();
  Assert.assertEquals(4,serIn.intValue);
  Assert.assertEquals("Hello",serIn.stringValue);
  try {
    httpentity.writeTo(null);
    Assert.fail("IllegalArgumentException should have been thrown");
  }
 catch (  final IllegalArgumentException ex) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.entity.TestStringEntity </h4><pre class="type-11 type-1 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNullCharset() throws Exception {
  final String s=constructString(SWISS_GERMAN_HELLO);
  StringEntity httpentity=new StringEntity(s,ContentType.create("text/plain",(Charset)null));
  Assert.assertNotNull(httpentity.getContentType());
  Assert.assertEquals("text/plain",httpentity.getContentType());
  Assert.assertEquals(s,EntityUtils.toString(httpentity));
  httpentity=new StringEntity(s,(Charset)null);
  Assert.assertNotNull(httpentity.getContentType());
  Assert.assertEquals("text/plain",httpentity.getContentType());
  Assert.assertEquals(s,EntityUtils.toString(httpentity));
}

</code></pre>

<br>
<pre class="type-11 type-14 type-9 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWriteTo() throws Exception {
  final String s="Message content";
  final byte[] bytes=s.getBytes(StandardCharsets.ISO_8859_1);
  final StringEntity httpentity=new StringEntity(s);
  ByteArrayOutputStream out=new ByteArrayOutputStream();
  httpentity.writeTo(out);
  byte[] bytes2=out.toByteArray();
  Assert.assertNotNull(bytes2);
  Assert.assertEquals(bytes.length,bytes2.length);
  for (int i=0; i < bytes.length; i++) {
    Assert.assertEquals(bytes[i],bytes2[i]);
  }
  out=new ByteArrayOutputStream();
  httpentity.writeTo(out);
  bytes2=out.toByteArray();
  Assert.assertNotNull(bytes2);
  Assert.assertEquals(bytes.length,bytes2.length);
  for (int i=0; i < bytes.length; i++) {
    Assert.assertEquals(bytes[i],bytes2[i]);
  }
  try {
    httpentity.writeTo(null);
    Assert.fail("IllegalArgumentException should have been thrown");
  }
 catch (  final IllegalArgumentException ex) {
  }
}

</code></pre>

<br>
<pre class="type-11 type-1 type-3 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasics() throws Exception {
  final String s="Message content";
  final StringEntity httpentity=new StringEntity(s,ContentType.TEXT_PLAIN);
  final byte[] bytes=s.getBytes(StandardCharsets.ISO_8859_1);
  Assert.assertEquals(bytes.length,httpentity.getContentLength());
  Assert.assertNotNull(httpentity.getContent());
  Assert.assertTrue(httpentity.isRepeatable());
  Assert.assertFalse(httpentity.isStreaming());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.impl.TestEnglishReasonPhraseCatalog </h4><pre class="type-11 type-15 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReasonPhrases() throws IllegalAccessException {
  final Field[] publicFields=HttpStatus.class.getFields();
  Assert.assertNotNull(publicFields);
  Assert.assertTrue(publicFields.length > 0);
  for (  final Field f : publicFields) {
    final int modifiers=f.getModifiers();
    if ((f.getType() == int.class) && Modifier.isPublic(modifiers) && Modifier.isFinal(modifiers)&& Modifier.isStatic(modifiers)) {
      final int iValue=f.getInt(null);
      final String text=EnglishReasonPhraseCatalog.INSTANCE.getReason(iValue,null);
      Assert.assertNotNull("text is null for HttpStatus." + f.getName(),text);
      Assert.assertTrue(text.length() > 0);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.impl.io.TestChunkCoding </h4><pre class="type-11 type-9 type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTooLongChunkHeader() throws IOException {
  final String s="5; and some very looooong commend\r\n12345\r\n0\r\n";
  final SessionInputBuffer inbuffer1=new SessionInputBufferImpl(16,MessageConstraints.DEFAULT);
  final ByteArrayInputStream inputStream1=new ByteArrayInputStream(s.getBytes(StandardCharsets.ISO_8859_1));
  final ChunkedInputStream in1=new ChunkedInputStream(inbuffer1,inputStream1);
  final byte[] buffer=new byte[300];
  Assert.assertEquals(5,in1.read(buffer));
  in1.close();
  final SessionInputBuffer inbuffer2=new SessionInputBufferImpl(16,MessageConstraints.lineLen(10));
  final ByteArrayInputStream inputStream2=new ByteArrayInputStream(s.getBytes(StandardCharsets.ISO_8859_1));
  final ChunkedInputStream in2=new ChunkedInputStream(inbuffer2,inputStream2);
  try {
    in2.read(buffer);
    Assert.fail("MessageConstraintException expected");
  }
 catch (  final MessageConstraintException ex) {
  }
 finally {
    try {
      in2.close();
    }
 catch (    final MessageConstraintException ex) {
    }
  }
}

</code></pre>

<br>
<pre class="type-11 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testChunkedConsistence() throws IOException {
  final String input="76126;27823abcd;:q38a-\nkjc\rk%1ad\tkh/asdui\r\njkh+?\\suweb";
  final SessionOutputBuffer outbuffer=new SessionOutputBufferImpl(16);
  final ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  final ChunkedOutputStream out=new ChunkedOutputStream(2048,outbuffer,outputStream);
  out.write(input.getBytes(StandardCharsets.ISO_8859_1));
  out.flush();
  out.close();
  out.close();
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(16);
  final ByteArrayInputStream inputStream=new ByteArrayInputStream(outputStream.toByteArray());
  final ChunkedInputStream in=new ChunkedInputStream(inbuffer,inputStream);
  final byte[] d=new byte[10];
  final ByteArrayOutputStream result=new ByteArrayOutputStream();
  int len=0;
  while ((len=in.read(d)) > 0) {
    result.write(d,0,len);
  }
  final String output=new String(result.toByteArray(),StandardCharsets.ISO_8859_1);
  Assert.assertEquals(input,output);
  in.close();
}

</code></pre>

<br>
<pre class="type-11 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testChunkedOutputStreamLargeChunk() throws IOException {
  final SessionOutputBuffer outbuffer=new SessionOutputBufferImpl(16);
  final ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  final ChunkedOutputStream out=new ChunkedOutputStream(2,outbuffer,outputStream);
  out.write(new byte[]{'1','2','3','4'});
  out.finish();
  out.close();
  final String content=new String(outputStream.toByteArray(),StandardCharsets.US_ASCII);
  Assert.assertEquals("4\r\n1234\r\n0\r\n\r\n",content);
}

</code></pre>

<br>
<pre class="type-11 type-10 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=ConnectionClosedException.class) public void testChunkedInputStreamNoClosingChunk() throws IOException {
  final String s="5\r\n01234\r\n";
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(16);
  final ByteArrayInputStream inputStream=new ByteArrayInputStream(s.getBytes(StandardCharsets.ISO_8859_1));
  final ChunkedInputStream in=new ChunkedInputStream(inbuffer,inputStream);
  final byte[] tmp=new byte[5];
  Assert.assertEquals(5,in.read(tmp));
  in.read();
  in.close();
}

</code></pre>

<br>
<pre class="type-11 type-10 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=MalformedChunkCodingException.class) public void testCorruptChunkedInputStreamTruncatedCRLF() throws IOException {
  final String s="5\r\n01234";
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(16);
  final ByteArrayInputStream inputStream=new ByteArrayInputStream(s.getBytes(StandardCharsets.ISO_8859_1));
  final ChunkedInputStream in=new ChunkedInputStream(inbuffer,inputStream);
  final byte[] tmp=new byte[5];
  Assert.assertEquals(5,in.read(tmp));
  in.read();
  in.close();
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAvailable() throws IOException {
  final String s="5\r\n12345\r\n0\r\n";
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(16);
  final ByteArrayInputStream inputStream=new ByteArrayInputStream(s.getBytes(StandardCharsets.ISO_8859_1));
  final ChunkedInputStream in=new ChunkedInputStream(inbuffer,inputStream);
  Assert.assertEquals(0,in.available());
  in.read();
  Assert.assertEquals(4,in.available());
  in.close();
}

</code></pre>

<br>
<pre class="type-11 type-14 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testChunkedInputStreamOneByteRead() throws IOException {
  final String s="5\r\n01234\r\n5\r\n56789\r\n0\r\n";
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(16);
  final ByteArrayInputStream inputStream=new ByteArrayInputStream(s.getBytes(StandardCharsets.ISO_8859_1));
  final ChunkedInputStream in=new ChunkedInputStream(inbuffer,inputStream);
  int ch;
  int i='0';
  while ((ch=in.read()) != -1) {
    Assert.assertEquals(i,ch);
    i++;
  }
  Assert.assertEquals(-1,in.read());
  Assert.assertEquals(-1,in.read());
  in.close();
}

</code></pre>

<br>
<pre class="type-11 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testChunkedOutputStream() throws IOException {
  final SessionOutputBuffer outbuffer=new SessionOutputBufferImpl(16);
  final ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  final ChunkedOutputStream out=new ChunkedOutputStream(2,outbuffer,outputStream);
  out.write('1');
  out.write('2');
  out.write('3');
  out.write('4');
  out.finish();
  out.close();
  final String content=new String(outputStream.toByteArray(),StandardCharsets.US_ASCII);
  Assert.assertEquals("2\r\n12\r\n2\r\n34\r\n0\r\n\r\n",content);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResumeOnSocketTimeoutInData() throws IOException {
  final String s="5\r\n01234\r\n5\r\n5\0006789\r\na\r\n0123\000456789\r\n0\r\n";
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(16);
  final TimeoutByteArrayInputStream inputStream=new TimeoutByteArrayInputStream(s.getBytes(StandardCharsets.ISO_8859_1));
  final ChunkedInputStream in=new ChunkedInputStream(inbuffer,inputStream);
  final byte[] tmp=new byte[3];
  int bytesRead=0;
  int timeouts=0;
  int i=0;
  while (i != -1) {
    try {
      i=in.read(tmp);
      if (i > 0) {
        bytesRead+=i;
      }
    }
 catch (    final InterruptedIOException ex) {
      timeouts++;
    }
  }
  Assert.assertEquals(20,bytesRead);
  Assert.assertEquals(2,timeouts);
  in.close();
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResumeOnSocketTimeoutInChunk() throws IOException {
  final String s="5\000\r\000\n\00001234\r\n\0005\r\n56789\r\na\r\n0123456789\r\n\0000\r\n";
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(16);
  final TimeoutByteArrayInputStream inputStream=new TimeoutByteArrayInputStream(s.getBytes(StandardCharsets.ISO_8859_1));
  final ChunkedInputStream in=new ChunkedInputStream(inbuffer,inputStream);
  final byte[] tmp=new byte[3];
  int bytesRead=0;
  int timeouts=0;
  int i=0;
  while (i != -1) {
    try {
      i=in.read(tmp);
      if (i > 0) {
        bytesRead+=i;
      }
    }
 catch (    final InterruptedIOException ex) {
      timeouts++;
    }
  }
  Assert.assertEquals(20,bytesRead);
  Assert.assertEquals(5,timeouts);
  in.close();
}

</code></pre>

<br>
<pre class="type-11 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testChunkedOutputStreamSmallChunk() throws IOException {
  final SessionOutputBuffer outbuffer=new SessionOutputBufferImpl(16);
  final ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  final ChunkedOutputStream out=new ChunkedOutputStream(2,outbuffer,outputStream);
  out.write('1');
  out.finish();
  out.close();
  final String content=new String(outputStream.toByteArray(),StandardCharsets.US_ASCII);
  Assert.assertEquals("1\r\n1\r\n0\r\n\r\n",content);
}

</code></pre>

<br>
<pre class="type-11 type-10 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=TruncatedChunkException.class) public void testCorruptChunkedInputStreamTruncatedChunk() throws IOException {
  final String s="3\r\n12";
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(16);
  final ByteArrayInputStream inputStream=new ByteArrayInputStream(s.getBytes(StandardCharsets.ISO_8859_1));
  final ChunkedInputStream in=new ChunkedInputStream(inbuffer,inputStream);
  final byte[] buffer=new byte[300];
  Assert.assertEquals(2,in.read(buffer));
  in.read(buffer);
  in.close();
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testChunkedInputStreamLargeBuffer() throws IOException {
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(16);
  final ByteArrayInputStream inputStream=new ByteArrayInputStream(CHUNKED_INPUT.getBytes(StandardCharsets.ISO_8859_1));
  final ChunkedInputStream in=new ChunkedInputStream(inbuffer,inputStream);
  final byte[] buffer=new byte[300];
  final ByteArrayOutputStream out=new ByteArrayOutputStream();
  int len;
  while ((len=in.read(buffer)) > 0) {
    out.write(buffer,0,len);
  }
  Assert.assertEquals(-1,in.read(buffer));
  Assert.assertEquals(-1,in.read(buffer));
  in.close();
  final String result=new String(out.toByteArray(),StandardCharsets.ISO_8859_1);
  Assert.assertEquals(result,CHUNKED_RESULT);
  final Header[] footers=in.getFooters();
  Assert.assertNotNull(footers);
  Assert.assertEquals(2,footers.length);
  Assert.assertEquals("Footer1",footers[0].getName());
  Assert.assertEquals("abcde",footers[0].getValue());
  Assert.assertEquals("Footer2",footers[1].getName());
  Assert.assertEquals("fghij",footers[1].getValue());
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testChunkedInputStreamSmallBuffer() throws IOException {
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(16);
  final ByteArrayInputStream inputStream=new ByteArrayInputStream(CHUNKED_INPUT.getBytes(StandardCharsets.ISO_8859_1));
  final ChunkedInputStream in=new ChunkedInputStream(inbuffer,inputStream);
  final byte[] buffer=new byte[7];
  final ByteArrayOutputStream out=new ByteArrayOutputStream();
  int len;
  while ((len=in.read(buffer)) > 0) {
    out.write(buffer,0,len);
  }
  Assert.assertEquals(-1,in.read(buffer));
  Assert.assertEquals(-1,in.read(buffer));
  in.close();
  final Header[] footers=in.getFooters();
  Assert.assertNotNull(footers);
  Assert.assertEquals(2,footers.length);
  Assert.assertEquals("Footer1",footers[0].getName());
  Assert.assertEquals("abcde",footers[0].getValue());
  Assert.assertEquals("Footer2",footers[1].getName());
  Assert.assertEquals("fghij",footers[1].getValue());
}

</code></pre>

<br>
<pre class="type-11 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testChunkedOutputStreamWithTrailers() throws IOException {
  final SessionOutputBuffer outbuffer=new SessionOutputBufferImpl(16);
  final ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  final ChunkedOutputStream out=new ChunkedOutputStream(2,outbuffer,outputStream,new TrailerSupplier(){
    @Override public Header[] get(){
      return new Header[]{new BasicHeader("E",""),new BasicHeader("Y","Z")};
    }
  }
);
  out.write('x');
  out.finish();
  out.close();
  final String content=new String(outputStream.toByteArray(),StandardCharsets.US_ASCII);
  Assert.assertEquals("1\r\nx\r\n0\r\nE: \r\nY: Z\r\n\r\n",content);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.impl.io.TestContentLengthInputStream </h4><pre class="type-11 type-9 type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClose() throws IOException {
  final String s="1234567890123456-";
  final ByteArrayInputStream inputStream=new ByteArrayInputStream(s.getBytes(StandardCharsets.ISO_8859_1));
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(16);
  final InputStream in=new ContentLengthInputStream(inbuffer,inputStream,16L);
  in.close();
  in.close();
  try {
    in.read();
    Assert.fail("IOException should have been thrown");
  }
 catch (  final IOException ex) {
  }
  final byte[] tmp=new byte[10];
  try {
    in.read(tmp);
    Assert.fail("IOException should have been thrown");
  }
 catch (  final IOException ex) {
  }
  try {
    in.read(tmp,0,tmp.length);
    Assert.fail("IOException should have been thrown");
  }
 catch (  final IOException ex) {
  }
  Assert.assertEquals('-',inbuffer.read(inputStream));
}

</code></pre>

<br>
<pre class="type-11 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBasics() throws IOException {
  final String s="1234567890123456";
  final ByteArrayInputStream inputStream=new ByteArrayInputStream(s.getBytes(StandardCharsets.ISO_8859_1));
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(16);
  final InputStream in=new ContentLengthInputStream(inbuffer,inputStream,10L);
  final ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  final byte[] buffer=new byte[50];
  int len=in.read(buffer,0,2);
  outputStream.write(buffer,0,len);
  len=in.read(buffer);
  outputStream.write(buffer,0,len);
  final String result=new String(outputStream.toByteArray(),StandardCharsets.ISO_8859_1);
  Assert.assertEquals(result,"1234567890");
  in.close();
}

</code></pre>

<br>
<pre class="type-11 type-9 type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTruncatedContent() throws IOException {
  final String s="1234567890123456";
  final ByteArrayInputStream inputStream=new ByteArrayInputStream(s.getBytes(StandardCharsets.ISO_8859_1));
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(16);
  final InputStream in=new ContentLengthInputStream(inbuffer,inputStream,32L);
  final byte[] tmp=new byte[32];
  final int byteRead=in.read(tmp);
  Assert.assertEquals(16,byteRead);
  try {
    in.read(tmp);
    Assert.fail("ConnectionClosedException should have been closed");
  }
 catch (  final ConnectionClosedException ex) {
  }
  try {
    in.read();
    Assert.fail("ConnectionClosedException should have been closed");
  }
 catch (  final ConnectionClosedException ex) {
  }
  try {
    in.close();
    Assert.fail("ConnectionClosedException should have been closed");
  }
 catch (  final ConnectionClosedException ex) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.impl.io.TestContentLengthOutputStream </h4><pre class="type-11 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBasics() throws Exception {
  final ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  final SessionOutputBuffer outbuffer=new SessionOutputBufferImpl(16);
  final OutputStream out=new ContentLengthOutputStream(outbuffer,outputStream,15L);
  final byte[] tmp=new byte[10];
  out.write(tmp,0,10);
  out.write(1);
  out.write(tmp,0,10);
  out.write(tmp,0,10);
  out.write(tmp);
  out.write(1);
  out.write(2);
  out.flush();
  out.close();
  final byte[] data=outputStream.toByteArray();
  Assert.assertEquals(15,data.length);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.impl.io.TestDefaultBHttpClientConnection </h4><pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWriteRequestHead() throws Exception {
  final ByteArrayOutputStream outstream=new ByteArrayOutputStream();
  Mockito.when(socket.getOutputStream()).thenReturn(outstream);
  conn.bind(socket);
  Assert.assertEquals(0,conn.getMetrics().getRequestCount());
  final HttpRequest request=new BasicHttpRequest("GET","/stuff",HttpVersion.HTTP_1_1);
  request.addHeader("User-Agent","test");
  conn.sendRequestHeader(request);
  conn.flush();
  Assert.assertEquals(1,conn.getMetrics().getRequestCount());
  final String s=new String(outstream.toByteArray(),"ASCII");
  Assert.assertEquals("GET /stuff HTTP/1.1\r\nUser-Agent: test\r\n\r\n",s);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWriteRequestEntityChunkCoded() throws Exception {
  final ByteArrayOutputStream outstream=new ByteArrayOutputStream();
  Mockito.when(socket.getOutputStream()).thenReturn(outstream);
  conn.bind(socket);
  Assert.assertEquals(0,conn.getMetrics().getRequestCount());
  final HttpRequest request=new BasicHttpRequest("POST","/stuff",HttpVersion.HTTP_1_1);
  request.addHeader("User-Agent","test");
  request.addHeader("Transfer-Encoding","chunked");
  request.setEntity(new StringEntity("123",ContentType.TEXT_PLAIN));
  conn.sendRequestHeader(request);
  conn.sendRequestEntity(request);
  conn.flush();
  Assert.assertEquals(1,conn.getMetrics().getRequestCount());
  final String s=new String(outstream.toByteArray(),"ASCII");
  Assert.assertEquals("POST /stuff HTTP/1.1\r\nUser-Agent: test\r\nTransfer-Encoding: " + "chunked\r\n\r\n3\r\n123\r\n0\r\n\r\n",s);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-3 type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTerminateRequestContentLengthShort() throws Exception {
  final ByteArrayOutputStream outstream=new ByteArrayOutputStream();
  Mockito.when(socket.getOutputStream()).thenReturn(outstream);
  conn.bind(socket);
  Assert.assertEquals(0,conn.getMetrics().getRequestCount());
  final HttpRequest request=new BasicHttpRequest("POST","/stuff",HttpVersion.HTTP_1_1);
  request.addHeader("User-Agent","test");
  request.addHeader("Content-Length","3");
  final StringEntity entity=new StringEntity("123",ContentType.TEXT_PLAIN);
  entity.setChunked(false);
  request.setEntity(entity);
  conn.sendRequestHeader(request);
  conn.terminateRequest(request);
  conn.flush();
  Assert.assertEquals(1,conn.getMetrics().getRequestCount());
  final String s=new String(outstream.toByteArray(),"ASCII");
  Assert.assertEquals("POST /stuff HTTP/1.1\r\nUser-Agent: test\r\nContent-Length: " + "3\r\n\r\n123",s);
  Assert.assertTrue(conn.isConsistent());
}

</code></pre>

<br>
<pre class="type-11 type-1 type-3 type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTerminateRequestContentLengthLong() throws Exception {
  final ByteArrayOutputStream outstream=new ByteArrayOutputStream();
  Mockito.when(socket.getOutputStream()).thenReturn(outstream);
  conn.bind(socket);
  Assert.assertEquals(0,conn.getMetrics().getRequestCount());
  final HttpRequest request=new BasicHttpRequest("POST","/stuff",HttpVersion.HTTP_1_1);
  request.addHeader("User-Agent","test");
  request.addHeader("Content-Length","3000");
  final ByteArrayEntity entity=new ByteArrayEntity(new byte[3000],ContentType.TEXT_PLAIN);
  entity.setChunked(false);
  request.setEntity(entity);
  conn.sendRequestHeader(request);
  conn.terminateRequest(request);
  conn.flush();
  Assert.assertEquals(1,conn.getMetrics().getRequestCount());
  final String s=new String(outstream.toByteArray(),"ASCII");
  Assert.assertEquals("POST /stuff HTTP/1.1\r\nUser-Agent: test\r\nContent-Length: " + "3000\r\n\r\n",s);
  Assert.assertFalse(conn.isConsistent());
}

</code></pre>

<br>
<pre class="type-11 type-1 type-3 type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTerminateRequestChunkedEntity() throws Exception {
  final ByteArrayOutputStream outstream=new ByteArrayOutputStream();
  Mockito.when(socket.getOutputStream()).thenReturn(outstream);
  conn.bind(socket);
  Assert.assertEquals(0,conn.getMetrics().getRequestCount());
  final HttpRequest request=new BasicHttpRequest("POST","/stuff",HttpVersion.HTTP_1_1);
  request.addHeader("User-Agent","test");
  request.addHeader("Transfer-Encoding","chunked");
  final StringEntity entity=new StringEntity("123",ContentType.TEXT_PLAIN);
  entity.setChunked(true);
  request.setEntity(entity);
  conn.sendRequestHeader(request);
  conn.terminateRequest(request);
  conn.flush();
  Assert.assertEquals(1,conn.getMetrics().getRequestCount());
  final String s=new String(outstream.toByteArray(),"ASCII");
  Assert.assertEquals("POST /stuff HTTP/1.1\r\nUser-Agent: test\r\nTransfer-Encoding: " + "chunked\r\n\r\n0\r\n\r\n",s);
  Assert.assertTrue(conn.isConsistent());
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWriteRequestNoEntity() throws Exception {
  final ByteArrayOutputStream outstream=new ByteArrayOutputStream();
  Mockito.when(socket.getOutputStream()).thenReturn(outstream);
  conn.bind(socket);
  Assert.assertEquals(0,conn.getMetrics().getRequestCount());
  final HttpRequest request=new BasicHttpRequest("POST","/stuff",HttpVersion.HTTP_1_1);
  request.addHeader("User-Agent","test");
  conn.sendRequestHeader(request);
  conn.sendRequestEntity(request);
  conn.flush();
  Assert.assertEquals(1,conn.getMetrics().getRequestCount());
  final String s=new String(outstream.toByteArray(),"ASCII");
  Assert.assertEquals("POST /stuff HTTP/1.1\r\nUser-Agent: test\r\n\r\n",s);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWriteRequestEntityWithContentLength() throws Exception {
  final ByteArrayOutputStream outstream=new ByteArrayOutputStream();
  Mockito.when(socket.getOutputStream()).thenReturn(outstream);
  conn.bind(socket);
  Assert.assertEquals(0,conn.getMetrics().getRequestCount());
  final HttpRequest request=new BasicHttpRequest("POST","/stuff",HttpVersion.HTTP_1_1);
  request.addHeader("User-Agent","test");
  request.addHeader("Content-Length","3");
  request.setEntity(new StringEntity("123",ContentType.TEXT_PLAIN));
  conn.sendRequestHeader(request);
  conn.sendRequestEntity(request);
  conn.flush();
  Assert.assertEquals(1,conn.getMetrics().getRequestCount());
  final String s=new String(outstream.toByteArray(),"ASCII");
  Assert.assertEquals("POST /stuff HTTP/1.1\r\nUser-Agent: test\r\nContent-Length: 3\r\n\r\n123",s);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.impl.io.TestDefaultBHttpServerConnection </h4><pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWriteResponseHead() throws Exception {
  final ByteArrayOutputStream outstream=new ByteArrayOutputStream();
  Mockito.when(socket.getOutputStream()).thenReturn(outstream);
  conn.bind(socket);
  Assert.assertEquals(0,conn.getMetrics().getResponseCount());
  final HttpResponse response=new BasicHttpResponse(HttpVersion.HTTP_1_1,200,"OK");
  response.addHeader("User-Agent","test");
  conn.sendResponseHeader(response);
  conn.flush();
  Assert.assertEquals(1,conn.getMetrics().getResponseCount());
  final String s=new String(outstream.toByteArray(),"ASCII");
  Assert.assertEquals("HTTP/1.1 200 OK\r\nUser-Agent: test\r\n\r\n",s);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWriteResponseEntityWithContentLength() throws Exception {
  final ByteArrayOutputStream outstream=new ByteArrayOutputStream();
  Mockito.when(socket.getOutputStream()).thenReturn(outstream);
  conn.bind(socket);
  Assert.assertEquals(0,conn.getMetrics().getResponseCount());
  final HttpResponse response=new BasicHttpResponse(HttpVersion.HTTP_1_1,200,"OK");
  response.addHeader("Server","test");
  response.addHeader("Content-Length","3");
  response.setEntity(new StringEntity("123",ContentType.TEXT_PLAIN));
  conn.sendResponseHeader(response);
  conn.sendResponseEntity(response);
  conn.flush();
  Assert.assertEquals(1,conn.getMetrics().getResponseCount());
  final String s=new String(outstream.toByteArray(),"ASCII");
  Assert.assertEquals("HTTP/1.1 200 OK\r\nServer: test\r\nContent-Length: 3\r\n\r\n123",s);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWriteResponseNoEntity() throws Exception {
  final ByteArrayOutputStream outstream=new ByteArrayOutputStream();
  Mockito.when(socket.getOutputStream()).thenReturn(outstream);
  conn.bind(socket);
  Assert.assertEquals(0,conn.getMetrics().getResponseCount());
  final HttpResponse response=new BasicHttpResponse(HttpVersion.HTTP_1_1,200,"OK");
  response.addHeader("Server","test");
  conn.sendResponseHeader(response);
  conn.sendResponseEntity(response);
  conn.flush();
  Assert.assertEquals(1,conn.getMetrics().getResponseCount());
  final String s=new String(outstream.toByteArray(),"ASCII");
  Assert.assertEquals("HTTP/1.1 200 OK\r\nServer: test\r\n\r\n",s);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWriteResponse100Head() throws Exception {
  final ByteArrayOutputStream outstream=new ByteArrayOutputStream();
  Mockito.when(socket.getOutputStream()).thenReturn(outstream);
  conn.bind(socket);
  Assert.assertEquals(0,conn.getMetrics().getResponseCount());
  final HttpResponse response=new BasicHttpResponse(HttpVersion.HTTP_1_1,100,"Go on");
  conn.sendResponseHeader(response);
  conn.flush();
  Assert.assertEquals(0,conn.getMetrics().getResponseCount());
  final String s=new String(outstream.toByteArray(),"ASCII");
  Assert.assertEquals("HTTP/1.1 100 Go on\r\n\r\n",s);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWriteResponseEntityChunkCoded() throws Exception {
  final ByteArrayOutputStream outstream=new ByteArrayOutputStream();
  Mockito.when(socket.getOutputStream()).thenReturn(outstream);
  conn.bind(socket);
  Assert.assertEquals(0,conn.getMetrics().getResponseCount());
  final HttpResponse response=new BasicHttpResponse(HttpVersion.HTTP_1_1,200,"OK");
  response.addHeader("Server","test");
  response.addHeader("Transfer-Encoding","chunked");
  response.setEntity(new StringEntity("123",ContentType.TEXT_PLAIN));
  conn.sendResponseHeader(response);
  conn.sendResponseEntity(response);
  conn.flush();
  Assert.assertEquals(1,conn.getMetrics().getResponseCount());
  final String s=new String(outstream.toByteArray(),"ASCII");
  Assert.assertEquals("HTTP/1.1 200 OK\r\nServer: test\r\nTransfer-Encoding: " + "chunked\r\n\r\n3\r\n123\r\n0\r\n\r\n",s);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.impl.io.TestIdentityOutputStream </h4><pre class="type-11 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBasics() throws Exception {
  final ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  final SessionOutputBuffer outbuffer=new SessionOutputBufferImpl(16);
  final OutputStream out=new IdentityOutputStream(outbuffer,outputStream);
  final byte[] tmp=new byte[10];
  out.write(tmp,0,10);
  out.write(tmp);
  out.write(1);
  out.flush();
  out.close();
  final byte[] data=outputStream.toByteArray();
  Assert.assertEquals(21,data.length);
}

</code></pre>

<br>
<pre class="type-11 type-14 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicWrite() throws Exception {
  final ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  final SessionOutputBuffer outbuffer=new SessionOutputBufferImpl(16);
  final OutputStream out=new IdentityOutputStream(outbuffer,outputStream);
  out.write(new byte[]{'a','b'},0,2);
  out.write('c');
  out.flush();
  final byte[] input=outputStream.toByteArray();
  Assert.assertNotNull(input);
  final byte[] expected=new byte[]{'a','b','c'};
  Assert.assertEquals(expected.length,input.length);
  for (int i=0; i < expected.length; i++) {
    Assert.assertEquals(expected[i],input[i]);
  }
  out.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.impl.io.TestMessageParser </h4><pre class="type-11 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParsingMalformedFirstHeader() throws Exception {
  final String s="    header1: stuff\r\n" + "header2: stuff \r\n";
  final ByteArrayInputStream inputStream=new ByteArrayInputStream(s.getBytes(StandardCharsets.US_ASCII));
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(16,StandardCharsets.US_ASCII.newDecoder());
  final Header[] headers=AbstractMessageParser.parseHeaders(inbuffer,inputStream,-1,-1,null);
  Assert.assertNotNull(headers);
  Assert.assertEquals(2,headers.length);
  Assert.assertEquals("header1",headers[0].getName());
  Assert.assertEquals("stuff",headers[0].getValue());
  Assert.assertEquals("header2",headers[1].getName());
  Assert.assertEquals("stuff",headers[1].getValue());
}

</code></pre>

<br>
<pre class="type-11 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEmptyDataStream() throws Exception {
  final String s="";
  final ByteArrayInputStream inputStream=new ByteArrayInputStream(s.getBytes(StandardCharsets.US_ASCII));
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(16,StandardCharsets.US_ASCII.newDecoder());
  final Header[] headers=AbstractMessageParser.parseHeaders(inbuffer,inputStream,-1,-1,null);
  Assert.assertNotNull(headers);
  Assert.assertEquals(0,headers.length);
}

</code></pre>

<br>
<pre class="type-11 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParsingHeader() throws Exception {
  final String s="header1: stuff; param1 = value1; param2 = \"value 2\" \r\n" + "\r\n";
  final ByteArrayInputStream inputStream=new ByteArrayInputStream(s.getBytes(StandardCharsets.US_ASCII));
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(16,StandardCharsets.US_ASCII.newDecoder());
  final Header[] headers=AbstractMessageParser.parseHeaders(inbuffer,inputStream,-1,-1,null);
  Assert.assertNotNull(headers);
  Assert.assertEquals(1,headers.length);
  Assert.assertEquals("header1: stuff; param1 = value1; param2 = \"value 2\" ",headers[0].toString());
  final HeaderElement[] elements=headers[0].getElements();
  Assert.assertNotNull(elements);
  Assert.assertEquals(1,elements.length);
  Assert.assertEquals("stuff",elements[0].getName());
  Assert.assertEquals(null,elements[0].getValue());
  final NameValuePair[] params=elements[0].getParameters();
  Assert.assertNotNull(params);
  Assert.assertEquals(2,params.length);
  Assert.assertEquals("param1",params[0].getName());
  Assert.assertEquals("value1",params[0].getValue());
  Assert.assertEquals("param2",params[1].getName());
  Assert.assertEquals("value 2",params[1].getValue());
}

</code></pre>

<br>
<pre class="type-11 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicHeaderParsing() throws Exception {
  final String s="header1: stuff\r\n" + "header2:  stuff \r\n" + "header3: stuff\r\n"+ "     and more stuff\r\n"+ "\t and even more stuff\r\n"+ "     \r\n"+ "\r\n";
  final ByteArrayInputStream inputStream=new ByteArrayInputStream(s.getBytes(StandardCharsets.US_ASCII));
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(16,StandardCharsets.US_ASCII.newDecoder());
  final Header[] headers=AbstractMessageParser.parseHeaders(inbuffer,inputStream,-1,-1,null);
  Assert.assertNotNull(headers);
  Assert.assertEquals(3,headers.length);
  Assert.assertEquals("header1",headers[0].getName());
  Assert.assertEquals("stuff",headers[0].getValue());
  Assert.assertEquals("header2",headers[1].getName());
  Assert.assertEquals("stuff",headers[1].getValue());
  Assert.assertEquals("header3",headers[2].getName());
  Assert.assertEquals("stuff and more stuff and even more stuff",headers[2].getValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.impl.io.TestRequestParser </h4><pre class="type-11 type-1 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicMessageParsingLeadingEmptyLines() throws Exception {
  final String s="\r\n" + "\r\n" + "GET / HTTP/1.1\r\n"+ "Host: localhost\r\n"+ "\r\n";
  final ByteArrayInputStream inputStream=new ByteArrayInputStream(s.getBytes(StandardCharsets.US_ASCII));
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(16,StandardCharsets.US_ASCII.newDecoder());
  final DefaultHttpRequestParser parser=new DefaultHttpRequestParser(MessageConstraints.custom().setMaxEmptyLineCount(3).build());
  final HttpRequest httprequest=parser.parse(inbuffer,inputStream);
  final RequestLine reqline=httprequest.getRequestLine();
  Assert.assertNotNull(reqline);
  Assert.assertEquals("GET",reqline.getMethod());
  Assert.assertEquals("/",reqline.getUri());
  Assert.assertEquals(HttpVersion.HTTP_1_1,reqline.getProtocolVersion());
  final Header[] headers=httprequest.getAllHeaders();
  Assert.assertEquals(1,headers.length);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMessageParsingTimeout() throws Exception {
  final String s="GET \000/ HTTP/1.1\r\000\n" + "Host: loca\000lhost\r\n" + "User-Agent: whatever\r\n"+ "Coo\000kie: c1=stuff\r\n"+ "\000\r\n";
  final TimeoutByteArrayInputStream inputStream=new TimeoutByteArrayInputStream(s.getBytes(StandardCharsets.US_ASCII));
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(16);
  final DefaultHttpRequestParser parser=new DefaultHttpRequestParser();
  int timeoutCount=0;
  HttpRequest httprequest=null;
  for (int i=0; i < 10; i++) {
    try {
      httprequest=parser.parse(inbuffer,inputStream);
      break;
    }
 catch (    final InterruptedIOException ex) {
      timeoutCount++;
    }
  }
  Assert.assertNotNull(httprequest);
  Assert.assertEquals(5,timeoutCount);
  @SuppressWarnings("null") final RequestLine reqline=httprequest.getRequestLine();
  Assert.assertNotNull(reqline);
  Assert.assertEquals("GET",reqline.getMethod());
  Assert.assertEquals("/",reqline.getUri());
  Assert.assertEquals(HttpVersion.HTTP_1_1,reqline.getProtocolVersion());
  final Header[] headers=httprequest.getAllHeaders();
  Assert.assertEquals(3,headers.length);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicMessageParsing() throws Exception {
  final String s="GET / HTTP/1.1\r\n" + "Host: localhost\r\n" + "User-Agent: whatever\r\n"+ "Cookie: c1=stuff\r\n"+ "\r\n";
  final ByteArrayInputStream inputStream=new ByteArrayInputStream(s.getBytes(StandardCharsets.US_ASCII));
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(16,StandardCharsets.US_ASCII.newDecoder());
  final DefaultHttpRequestParser parser=new DefaultHttpRequestParser();
  final HttpRequest httprequest=parser.parse(inbuffer,inputStream);
  final RequestLine reqline=httprequest.getRequestLine();
  Assert.assertNotNull(reqline);
  Assert.assertEquals("GET",reqline.getMethod());
  Assert.assertEquals("/",reqline.getUri());
  Assert.assertEquals(HttpVersion.HTTP_1_1,reqline.getProtocolVersion());
  final Header[] headers=httprequest.getAllHeaders();
  Assert.assertEquals(3,headers.length);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.impl.io.TestResponseParser </h4><pre class="type-11 type-1 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicMessageParsing() throws Exception {
  final String s="HTTP/1.1 200 OK\r\n" + "Server: whatever\r\n" + "Date: some date\r\n"+ "Set-Cookie: c1=stuff\r\n"+ "\r\n";
  final ByteArrayInputStream inputStream=new ByteArrayInputStream(s.getBytes(StandardCharsets.US_ASCII));
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(16,StandardCharsets.US_ASCII.newDecoder());
  final DefaultHttpResponseParser parser=new DefaultHttpResponseParser();
  final HttpResponse httpresponse=parser.parse(inbuffer,inputStream);
  final StatusLine statusline=httpresponse.getStatusLine();
  Assert.assertNotNull(statusline);
  Assert.assertEquals(200,statusline.getStatusCode());
  Assert.assertEquals("OK",statusline.getReasonPhrase());
  Assert.assertEquals(HttpVersion.HTTP_1_1,statusline.getProtocolVersion());
  final Header[] headers=httpresponse.getAllHeaders();
  Assert.assertEquals(3,headers.length);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMessageParsingTimeout() throws Exception {
  final String s="HTTP\000/1.1 200\000 OK\r\n" + "Server: wha\000tever\r\n" + "Date: some date\r\n"+ "Set-Coo\000kie: c1=stuff\r\n"+ "\000\r\n";
  final TimeoutByteArrayInputStream inputStream=new TimeoutByteArrayInputStream(s.getBytes(StandardCharsets.US_ASCII));
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(16);
  final DefaultHttpResponseParser parser=new DefaultHttpResponseParser();
  int timeoutCount=0;
  HttpResponse httpresponse=null;
  for (int i=0; i < 10; i++) {
    try {
      httpresponse=parser.parse(inbuffer,inputStream);
      break;
    }
 catch (    final InterruptedIOException ex) {
      timeoutCount++;
    }
  }
  Assert.assertNotNull(httpresponse);
  Assert.assertEquals(5,timeoutCount);
  @SuppressWarnings("null") final StatusLine statusline=httpresponse.getStatusLine();
  Assert.assertNotNull(statusline);
  Assert.assertEquals(200,statusline.getStatusCode());
  Assert.assertEquals("OK",statusline.getReasonPhrase());
  Assert.assertEquals(HttpVersion.HTTP_1_1,statusline.getProtocolVersion());
  final Header[] headers=httpresponse.getAllHeaders();
  Assert.assertEquals(3,headers.length);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicMessageParsingLeadingEmptyLines() throws Exception {
  final String s="\r\n" + "\r\n" + "HTTP/1.1 200 OK\r\n"+ "Server: whatever\r\n"+ "\r\n";
  final ByteArrayInputStream inputStream=new ByteArrayInputStream(s.getBytes(StandardCharsets.US_ASCII));
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(16,StandardCharsets.US_ASCII.newDecoder());
  final DefaultHttpResponseParser parser=new DefaultHttpResponseParser(MessageConstraints.custom().setMaxEmptyLineCount(3).build());
  final HttpResponse httpresponse=parser.parse(inbuffer,inputStream);
  final StatusLine statusline=httpresponse.getStatusLine();
  Assert.assertNotNull(statusline);
  Assert.assertEquals(200,statusline.getStatusCode());
  Assert.assertEquals("OK",statusline.getReasonPhrase());
  Assert.assertEquals(HttpVersion.HTTP_1_1,statusline.getProtocolVersion());
  final Header[] headers=httpresponse.getAllHeaders();
  Assert.assertEquals(1,headers.length);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.impl.io.TestSessionInOutBuffers </h4><pre class="type-11 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUnmappableInputActionIgnore() throws Exception {
  final String s="This text contains a circumflex \u0302 !!!";
  final CharsetEncoder encoder=StandardCharsets.ISO_8859_1.newEncoder();
  encoder.onMalformedInput(CodingErrorAction.IGNORE);
  encoder.onUnmappableCharacter(CodingErrorAction.IGNORE);
  final SessionOutputBuffer outbuffer=new SessionOutputBufferImpl(16,encoder);
  final ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  final CharArrayBuffer chbuffer=new CharArrayBuffer(32);
  chbuffer.append(s);
  outbuffer.writeLine(chbuffer,outputStream);
  outbuffer.flush(outputStream);
  final String result=new String(outputStream.toByteArray(),"ISO-8859-1");
  Assert.assertEquals("This text contains a circumflex  !!!\r\n",result);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBasicReadWriteLineLargeBuffer() throws Exception {
  final String[] teststrs=new String[5];
  teststrs[0]="Hello";
  teststrs[1]="This string should be much longer than the size of the output buffer " + "which is only 16 bytes for this test";
  final StringBuilder buffer=new StringBuilder();
  for (int i=0; i < 15; i++) {
    buffer.append("123456789 ");
  }
  buffer.append("and stuff like that");
  teststrs[2]=buffer.toString();
  teststrs[3]="";
  teststrs[4]="And goodbye";
  final CharArrayBuffer chbuffer=new CharArrayBuffer(16);
  final SessionOutputBuffer outbuffer=new SessionOutputBufferImpl(16);
  final ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  for (  final String teststr : teststrs) {
    chbuffer.clear();
    chbuffer.append(teststr);
    outbuffer.writeLine(chbuffer,outputStream);
  }
  outbuffer.writeLine(null,outputStream);
  outbuffer.flush(outputStream);
  final long bytesWritten=outbuffer.getMetrics().getBytesTransferred();
  long expected=0;
  for (  final String teststr : teststrs) {
    expected+=(teststr.length() + 2);
  }
  Assert.assertEquals(expected,bytesWritten);
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(1024);
  final ByteArrayInputStream inputStream=new ByteArrayInputStream(outputStream.toByteArray());
  for (  final String teststr : teststrs) {
    chbuffer.clear();
    inbuffer.readLine(chbuffer,inputStream);
    Assert.assertEquals(teststr,chbuffer.toString());
  }
  chbuffer.clear();
  Assert.assertEquals(-1,inbuffer.readLine(chbuffer,inputStream));
  chbuffer.clear();
  Assert.assertEquals(-1,inbuffer.readLine(chbuffer,inputStream));
  final long bytesRead=inbuffer.getMetrics().getBytesTransferred();
  Assert.assertEquals(expected,bytesRead);
}

</code></pre>

<br>
<pre class="type-11 type-14 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReadWriteBytes() throws Exception {
  final byte[] out=new byte[40];
  for (int i=0; i < out.length; i++) {
    out[i]=(byte)('0' + i);
  }
  final SessionOutputBuffer outbuffer=new SessionOutputBufferImpl(16);
  final ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  int off=0;
  int remaining=out.length;
  while (remaining > 0) {
    int chunk=10;
    if (chunk > remaining) {
      chunk=remaining;
    }
    outbuffer.write(out,off,chunk,outputStream);
    off+=chunk;
    remaining-=chunk;
  }
  outbuffer.flush(outputStream);
  final long bytesWritten=outbuffer.getMetrics().getBytesTransferred();
  Assert.assertEquals(out.length,bytesWritten);
  final byte[] tmp=outputStream.toByteArray();
  Assert.assertEquals(out.length,tmp.length);
  for (int i=0; i < out.length; i++) {
    Assert.assertEquals(out[i],tmp[i]);
  }
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(16);
  final ByteArrayInputStream inputStream=new ByteArrayInputStream(tmp);
  Assert.assertEquals(0,inbuffer.read(null,0,10,inputStream));
  Assert.assertEquals(0,inbuffer.read(null,inputStream));
  long bytesRead=inbuffer.getMetrics().getBytesTransferred();
  Assert.assertEquals(0,bytesRead);
  final byte[] in=new byte[40];
  off=0;
  remaining=in.length;
  while (remaining > 0) {
    int chunk=10;
    if (chunk > remaining) {
      chunk=remaining;
    }
    final int l=inbuffer.read(in,off,chunk,inputStream);
    if (l == -1) {
      break;
    }
    off+=l;
    remaining-=l;
  }
  for (int i=0; i < out.length; i++) {
    Assert.assertEquals(out[i],in[i]);
  }
  Assert.assertEquals(-1,inbuffer.read(tmp,inputStream));
  Assert.assertEquals(-1,inbuffer.read(tmp,inputStream));
  bytesRead=inbuffer.getMetrics().getBytesTransferred();
  Assert.assertEquals(out.length,bytesRead);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testComplexReadWriteLine() throws Exception {
  final SessionOutputBuffer outbuffer=new SessionOutputBufferImpl(16);
  final ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  outbuffer.write(new byte[]{'a','\n'},outputStream);
  outbuffer.write(new byte[]{'\r','\n'},outputStream);
  outbuffer.write(new byte[]{'\r','\r','\n'},outputStream);
  outbuffer.write(new byte[]{'\n'},outputStream);
  outbuffer.write(null,outputStream);
  outbuffer.write(null,0,12,outputStream);
  outbuffer.flush(outputStream);
  long bytesWritten=outbuffer.getMetrics().getBytesTransferred();
  Assert.assertEquals(8,bytesWritten);
  final StringBuilder buffer=new StringBuilder();
  for (int i=0; i < 14; i++) {
    buffer.append("a");
  }
  final String s1=buffer.toString();
  buffer.append("\r\n");
  outbuffer.write(buffer.toString().getBytes(StandardCharsets.US_ASCII),outputStream);
  outbuffer.flush(outputStream);
  bytesWritten=outbuffer.getMetrics().getBytesTransferred();
  Assert.assertEquals(8 + 14 + 2,bytesWritten);
  buffer.setLength(0);
  for (int i=0; i < 15; i++) {
    buffer.append("a");
  }
  final String s2=buffer.toString();
  buffer.append("\r\n");
  outbuffer.write(buffer.toString().getBytes(StandardCharsets.US_ASCII),outputStream);
  outbuffer.flush(outputStream);
  bytesWritten=outbuffer.getMetrics().getBytesTransferred();
  Assert.assertEquals(8 + 14 + 2+ 15+ 2,bytesWritten);
  buffer.setLength(0);
  for (int i=0; i < 16; i++) {
    buffer.append("a");
  }
  final String s3=buffer.toString();
  buffer.append("\r\n");
  outbuffer.write(buffer.toString().getBytes(StandardCharsets.US_ASCII),outputStream);
  outbuffer.flush(outputStream);
  bytesWritten=outbuffer.getMetrics().getBytesTransferred();
  Assert.assertEquals(8 + 14 + 2+ 15+ 2+ 16+ 2,bytesWritten);
  outbuffer.write(new byte[]{'a'},outputStream);
  outbuffer.flush(outputStream);
  bytesWritten=outbuffer.getMetrics().getBytesTransferred();
  Assert.assertEquals(8 + 14 + 2+ 15+ 2+ 16+ 2+ 1,bytesWritten);
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(16);
  final ByteArrayInputStream inputStream=new ByteArrayInputStream(outputStream.toByteArray());
  final CharArrayBuffer chbuffer=new CharArrayBuffer(16);
  chbuffer.clear();
  inbuffer.readLine(chbuffer,inputStream);
  Assert.assertEquals("a",chbuffer.toString());
  chbuffer.clear();
  inbuffer.readLine(chbuffer,inputStream);
  Assert.assertEquals("",chbuffer.toString());
  chbuffer.clear();
  inbuffer.readLine(chbuffer,inputStream);
  Assert.assertEquals("\r",chbuffer.toString());
  chbuffer.clear();
  inbuffer.readLine(chbuffer,inputStream);
  Assert.assertEquals("",chbuffer.toString());
  chbuffer.clear();
  inbuffer.readLine(chbuffer,inputStream);
  Assert.assertEquals(s1,chbuffer.toString());
  chbuffer.clear();
  inbuffer.readLine(chbuffer,inputStream);
  Assert.assertEquals(s2,chbuffer.toString());
  chbuffer.clear();
  inbuffer.readLine(chbuffer,inputStream);
  Assert.assertEquals(s3,chbuffer.toString());
  chbuffer.clear();
  inbuffer.readLine(chbuffer,inputStream);
  Assert.assertEquals("a",chbuffer.toString());
  chbuffer.clear();
  inbuffer.readLine(chbuffer,inputStream);
  Assert.assertEquals(-1,inbuffer.readLine(chbuffer,inputStream));
  chbuffer.clear();
  inbuffer.readLine(chbuffer,inputStream);
  Assert.assertEquals(-1,inbuffer.readLine(chbuffer,inputStream));
  final long bytesRead=inbuffer.getMetrics().getBytesTransferred();
  Assert.assertEquals(bytesWritten,bytesRead);
}

</code></pre>

<br>
<pre class="type-11 type-14 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMultibyteCodedReadWriteLine() throws Exception {
  final String s1=constructString(SWISS_GERMAN_HELLO);
  final String s2=constructString(RUSSIAN_HELLO);
  final String s3="Like hello and stuff";
  final SessionOutputBuffer outbuffer=new SessionOutputBufferImpl(16,StandardCharsets.UTF_8.newEncoder());
  final ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  final CharArrayBuffer chbuffer=new CharArrayBuffer(16);
  for (int i=0; i < 10; i++) {
    chbuffer.clear();
    chbuffer.append(s1);
    outbuffer.writeLine(chbuffer,outputStream);
    chbuffer.clear();
    chbuffer.append(s2);
    outbuffer.writeLine(chbuffer,outputStream);
    chbuffer.clear();
    chbuffer.append(s3);
    outbuffer.writeLine(chbuffer,outputStream);
  }
  outbuffer.flush(outputStream);
  final long bytesWritten=outbuffer.getMetrics().getBytesTransferred();
  final long expected=((s1.getBytes(StandardCharsets.UTF_8).length + 2) + (s2.getBytes(StandardCharsets.UTF_8).length + 2) + (s3.getBytes(StandardCharsets.UTF_8).length + 2)) * 10;
  Assert.assertEquals(expected,bytesWritten);
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(16,StandardCharsets.UTF_8.newDecoder());
  final ByteArrayInputStream inputStream=new ByteArrayInputStream(outputStream.toByteArray());
  for (int i=0; i < 10; i++) {
    chbuffer.clear();
    inbuffer.readLine(chbuffer,inputStream);
    Assert.assertEquals(s1,chbuffer.toString());
    chbuffer.clear();
    inbuffer.readLine(chbuffer,inputStream);
    Assert.assertEquals(s2,chbuffer.toString());
    chbuffer.clear();
    inbuffer.readLine(chbuffer,inputStream);
    Assert.assertEquals(s3,chbuffer.toString());
  }
  chbuffer.clear();
  Assert.assertEquals(-1,inbuffer.readLine(chbuffer,inputStream));
  chbuffer.clear();
  Assert.assertEquals(-1,inbuffer.readLine(chbuffer,inputStream));
  final long bytesRead=inbuffer.getMetrics().getBytesTransferred();
  Assert.assertEquals(expected,bytesRead);
}

</code></pre>

<br>
<pre class="type-11 type-14 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReadWriteByte() throws Exception {
  final byte[] out=new byte[40];
  for (int i=0; i < out.length; i++) {
    out[i]=(byte)(120 + i);
  }
  final SessionOutputBuffer outbuffer=new SessionOutputBufferImpl(16);
  final ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  for (  final byte element : out) {
    outbuffer.write(element,outputStream);
  }
  outbuffer.flush(outputStream);
  final long bytesWritten=outbuffer.getMetrics().getBytesTransferred();
  Assert.assertEquals(out.length,bytesWritten);
  final byte[] tmp=outputStream.toByteArray();
  Assert.assertEquals(out.length,tmp.length);
  for (int i=0; i < out.length; i++) {
    Assert.assertEquals(out[i],tmp[i]);
  }
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(16);
  final ByteArrayInputStream inputStream=new ByteArrayInputStream(tmp);
  final byte[] in=new byte[40];
  for (int i=0; i < in.length; i++) {
    in[i]=(byte)inbuffer.read(inputStream);
  }
  for (int i=0; i < out.length; i++) {
    Assert.assertEquals(out[i],in[i]);
  }
  Assert.assertEquals(-1,inbuffer.read(inputStream));
  Assert.assertEquals(-1,inbuffer.read(inputStream));
  final long bytesRead=inbuffer.getMetrics().getBytesTransferred();
  Assert.assertEquals(out.length,bytesRead);
}

</code></pre>

<br>
<pre class="type-11 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUnmappableInputActionReplace() throws Exception {
  final String s="This text contains a circumflex \u0302 !!!";
  final CharsetEncoder encoder=StandardCharsets.ISO_8859_1.newEncoder();
  encoder.onMalformedInput(CodingErrorAction.IGNORE);
  encoder.onUnmappableCharacter(CodingErrorAction.REPLACE);
  final SessionOutputBuffer outbuffer=new SessionOutputBufferImpl(16,encoder);
  final ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  final CharArrayBuffer chbuffer=new CharArrayBuffer(32);
  chbuffer.append(s);
  outbuffer.writeLine(chbuffer,outputStream);
  outbuffer.flush(outputStream);
  final String result=new String(outputStream.toByteArray(),"ISO-8859-1");
  Assert.assertEquals("This text contains a circumflex ? !!!\r\n",result);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBasicReadWriteLine() throws Exception {
  final String[] teststrs=new String[5];
  teststrs[0]="Hello";
  teststrs[1]="This string should be much longer than the size of the output buffer " + "which is only 16 bytes for this test";
  final StringBuilder buffer=new StringBuilder();
  for (int i=0; i < 15; i++) {
    buffer.append("123456789 ");
  }
  buffer.append("and stuff like that");
  teststrs[2]=buffer.toString();
  teststrs[3]="";
  teststrs[4]="And goodbye";
  final CharArrayBuffer chbuffer=new CharArrayBuffer(16);
  final SessionOutputBuffer outbuffer=new SessionOutputBufferImpl(16);
  final ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  for (  final String teststr : teststrs) {
    chbuffer.clear();
    chbuffer.append(teststr);
    outbuffer.writeLine(chbuffer,outputStream);
  }
  outbuffer.writeLine(null,outputStream);
  outbuffer.flush(outputStream);
  HttpTransportMetrics tmetrics=outbuffer.getMetrics();
  final long bytesWritten=tmetrics.getBytesTransferred();
  long expected=0;
  for (  final String teststr : teststrs) {
    expected+=(teststr.length() + 2);
  }
  Assert.assertEquals(expected,bytesWritten);
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(16);
  final ByteArrayInputStream inputStream=new ByteArrayInputStream(outputStream.toByteArray());
  for (  final String teststr : teststrs) {
    chbuffer.clear();
    inbuffer.readLine(chbuffer,inputStream);
    Assert.assertEquals(teststr,chbuffer.toString());
  }
  chbuffer.clear();
  Assert.assertEquals(-1,inbuffer.readLine(chbuffer,inputStream));
  chbuffer.clear();
  Assert.assertEquals(-1,inbuffer.readLine(chbuffer,inputStream));
  tmetrics=inbuffer.getMetrics();
  final long bytesRead=tmetrics.getBytesTransferred();
  Assert.assertEquals(expected,bytesRead);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReadLineFringeCase1() throws Exception {
  final String s="abc\r\n";
  final byte[] tmp=s.getBytes(StandardCharsets.US_ASCII);
  final SessionInputBuffer inbuffer1=new SessionInputBufferImpl(128);
  final ByteArrayInputStream inputStream=new ByteArrayInputStream(tmp);
  Assert.assertEquals('a',inbuffer1.read(inputStream));
  Assert.assertEquals('b',inbuffer1.read(inputStream));
  Assert.assertEquals('c',inbuffer1.read(inputStream));
  Assert.assertEquals('\r',inbuffer1.read(inputStream));
  final CharArrayBuffer chbuffer=new CharArrayBuffer(16);
  Assert.assertEquals(0,inbuffer1.readLine(chbuffer,inputStream));
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMultibyteCodedReadWriteLongLine() throws Exception {
  final String s1=constructString(SWISS_GERMAN_HELLO);
  final String s2=constructString(RUSSIAN_HELLO);
  final String s3="Like hello and stuff";
  final StringBuilder buf=new StringBuilder();
  for (int i=0; i < 1024; i++) {
    buf.append(s1).append(s2).append(s3);
  }
  final String s=buf.toString();
  final SessionOutputBuffer outbuffer=new SessionOutputBufferImpl(16,StandardCharsets.UTF_8.newEncoder());
  final ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  final CharArrayBuffer chbuffer=new CharArrayBuffer(16);
  chbuffer.append(s);
  outbuffer.writeLine(chbuffer,outputStream);
  outbuffer.flush(outputStream);
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(16,StandardCharsets.UTF_8.newDecoder());
  final ByteArrayInputStream inputStream=new ByteArrayInputStream(outputStream.toByteArray());
  chbuffer.clear();
  inbuffer.readLine(chbuffer,inputStream);
  Assert.assertEquals(s,chbuffer.toString());
}

</code></pre>

<br>
<pre class="type-11 type-14 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNonAsciiReadWriteLine() throws Exception {
  final String s1=constructString(SWISS_GERMAN_HELLO);
  final SessionOutputBuffer outbuffer=new SessionOutputBufferImpl(16,StandardCharsets.ISO_8859_1.newEncoder());
  final ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  final CharArrayBuffer chbuffer=new CharArrayBuffer(16);
  for (int i=0; i < 10; i++) {
    chbuffer.clear();
    chbuffer.append(s1);
    outbuffer.writeLine(chbuffer,outputStream);
  }
  chbuffer.clear();
  outbuffer.writeLine(chbuffer,outputStream);
  outbuffer.flush(outputStream);
  final long bytesWritten=outbuffer.getMetrics().getBytesTransferred();
  final long expected=((s1.getBytes(StandardCharsets.ISO_8859_1).length + 2)) * 10 + 2;
  Assert.assertEquals(expected,bytesWritten);
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(16,StandardCharsets.ISO_8859_1.newDecoder());
  final ByteArrayInputStream inputStream=new ByteArrayInputStream(outputStream.toByteArray());
  for (int i=0; i < 10; i++) {
    chbuffer.clear();
    final int len=inbuffer.readLine(chbuffer,inputStream);
    Assert.assertEquals(len,SWISS_GERMAN_HELLO.length);
    Assert.assertEquals(s1,chbuffer.toString());
  }
  chbuffer.clear();
  Assert.assertEquals(0,inbuffer.readLine(chbuffer,inputStream));
  chbuffer.clear();
  Assert.assertEquals(-1,inbuffer.readLine(chbuffer,inputStream));
  chbuffer.clear();
  Assert.assertEquals(-1,inbuffer.readLine(chbuffer,inputStream));
  final long bytesRead=inbuffer.getMetrics().getBytesTransferred();
  Assert.assertEquals(expected,bytesRead);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.impl.nio.TestBuffers </h4><pre class="type-11 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOutputBufferOperations() throws IOException {
  final ByteArrayOutputStream outstream=new ByteArrayOutputStream();
  final WritableByteChannel channel=Channels.newChannel(outstream);
  final SessionOutputBuffer outbuf=new SessionOutputBufferImpl(1024,128,StandardCharsets.US_ASCII);
  final BasicHttpTransportMetrics metrics=new BasicHttpTransportMetrics();
  final ContentEncoder encoder=new ContentEncoderMock(channel,outbuf,metrics);
  final SimpleOutputBuffer buffer=new SimpleOutputBuffer(4,DirectByteBufferAllocator.INSTANCE);
  buffer.write("stuff".getBytes(StandardCharsets.US_ASCII));
  buffer.write(';');
  buffer.produceContent(encoder);
  buffer.write("more ".getBytes(StandardCharsets.US_ASCII));
  buffer.write("stuff".getBytes(StandardCharsets.US_ASCII));
  buffer.produceContent(encoder);
  final byte[] content=outstream.toByteArray();
  Assert.assertEquals("stuff;more stuff",new String(content,StandardCharsets.US_ASCII));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.impl.nio.TestDefaultNHttpClientConnection </h4><pre class="type-11 type-1 type-3 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConsumeInputShortMessage() throws Exception {
  final ReadableByteChannelMock rchannel=Mockito.spy(new ReadableByteChannelMock(new String[]{"HTTP/1.1 200 OK\r\nContent-Length: 5\r\n\r\nstuff"},StandardCharsets.US_ASCII));
  final ByteChannelMock channel=new ByteChannelMock(rchannel,null);
  Mockito.when(session.channel()).thenReturn(channel);
  Mockito.when(session.getEventMask()).thenReturn(SelectionKey.OP_READ);
  final LinkedList<HttpResponse> responses=new LinkedList<>();
  Mockito.doAnswer(new ResponseCapturingAnswer(responses)).when(handler).responseReceived(Matchers.<NHttpClientConnection>any());
  Mockito.doAnswer(new ConsumeContentAnswer(new SimpleInputBuffer(64))).when(handler).inputReady(Matchers.<NHttpClientConnection>any(),Matchers.<ContentDecoder>any());
  Assert.assertEquals(0,conn.getMetrics().getResponseCount());
  conn.consumeInput(handler);
  Assert.assertNull(conn.getHttpResponse());
  Assert.assertNull(conn.contentDecoder);
  Assert.assertEquals(1,conn.getMetrics().getResponseCount());
  Assert.assertEquals(43,conn.getMetrics().getReceivedBytesCount());
  Mockito.verify(handler,Mockito.times(1)).responseReceived(Matchers.<NHttpClientConnection>any());
  Mockito.verify(handler,Mockito.times(1)).inputReady(Matchers.<NHttpClientConnection>any(),Matchers.<LengthDelimitedDecoder>any());
  Mockito.verify(rchannel,Mockito.times(2)).read(Matchers.<ByteBuffer>any());
  Mockito.verify(handler,Mockito.never()).exception(Matchers.<NHttpClientConnection>any(),Matchers.<Exception>any());
  Assert.assertFalse(responses.isEmpty());
  final HttpResponse response=responses.getFirst();
  Assert.assertNotNull(response);
  Assert.assertEquals(HttpVersion.HTTP_1_1,response.getStatusLine().getProtocolVersion());
  Assert.assertEquals(200,response.getCode());
  Assert.assertEquals("OK",response.getStatusLine().getReasonPhrase());
  final HttpEntity entity=response.getEntity();
  Assert.assertNotNull(entity);
  Assert.assertEquals(5,entity.getContentLength());
}

</code></pre>

<br>
<pre class="type-11 type-1 type-3 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConsumeInputBasicMessageNoEntity() throws Exception {
  final ReadableByteChannelMock rchannel=Mockito.spy(new ReadableByteChannelMock(new String[]{"HTTP/1.1 100 Continue\r\n\r\n"},StandardCharsets.US_ASCII));
  final ByteChannelMock channel=new ByteChannelMock(rchannel,null);
  Mockito.when(session.channel()).thenReturn(channel);
  Mockito.when(session.getEventMask()).thenReturn(SelectionKey.OP_READ);
  final LinkedList<HttpResponse> responses=new LinkedList<>();
  Mockito.doAnswer(new ResponseCapturingAnswer(responses)).when(handler).responseReceived(Matchers.<NHttpClientConnection>any());
  Mockito.doAnswer(new ConsumeContentAnswer(new SimpleInputBuffer(64))).when(handler).inputReady(Matchers.<NHttpClientConnection>any(),Matchers.<ContentDecoder>any());
  conn.consumeInput(handler);
  Assert.assertNull(conn.getHttpResponse());
  Assert.assertNull(conn.contentDecoder);
  Mockito.verify(handler,Mockito.times(1)).responseReceived(Matchers.<NHttpClientConnection>any());
  Mockito.verify(handler,Mockito.never()).inputReady(Matchers.<NHttpClientConnection>any(),Matchers.<LengthDelimitedDecoder>any());
  Mockito.verify(rchannel,Mockito.times(1)).read(Matchers.<ByteBuffer>any());
  Mockito.verify(handler,Mockito.never()).exception(Matchers.<NHttpClientConnection>any(),Matchers.<Exception>any());
  Assert.assertFalse(responses.isEmpty());
  final HttpResponse response=responses.getFirst();
  Assert.assertNotNull(response);
  Assert.assertEquals(HttpVersion.HTTP_1_1,response.getStatusLine().getProtocolVersion());
  Assert.assertEquals(100,response.getCode());
  final HttpEntity entity=response.getEntity();
  Assert.assertNull(entity);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-3 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConsumeInputLongMessage() throws Exception {
  conn=new DefaultNHttpClientConnection(session,1024);
  final ReadableByteChannelMock rchannel=Mockito.spy(new ReadableByteChannelMock(new String[]{"HTTP/1.1 200 OK\r\nContent-Length: 100\r\n\r\na lot of stuff","",""},StandardCharsets.US_ASCII));
  final ByteChannelMock channel=new ByteChannelMock(rchannel,null);
  Mockito.when(session.channel()).thenReturn(channel);
  Mockito.when(session.getEventMask()).thenReturn(SelectionKey.OP_READ);
  final LinkedList<HttpResponse> responses=new LinkedList<>();
  Mockito.doAnswer(new ResponseCapturingAnswer(responses)).when(handler).responseReceived(Matchers.<NHttpClientConnection>any());
  Mockito.doAnswer(new ConsumeContentAnswer(new SimpleInputBuffer(64))).when(handler).inputReady(Matchers.<NHttpClientConnection>any(),Matchers.<ContentDecoder>any());
  Assert.assertEquals(0,conn.getMetrics().getResponseCount());
  conn.consumeInput(handler);
  Assert.assertNotNull(conn.getHttpResponse());
  Assert.assertNotNull(conn.contentDecoder);
  Assert.assertEquals(1,conn.getMetrics().getResponseCount());
  Assert.assertEquals(54,conn.getMetrics().getReceivedBytesCount());
  Mockito.verify(handler,Mockito.times(1)).responseReceived(Matchers.<NHttpClientConnection>any());
  Mockito.verify(handler,Mockito.times(1)).inputReady(Matchers.<NHttpClientConnection>any(),Matchers.<LengthDelimitedDecoder>any());
  Mockito.verify(rchannel,Mockito.times(2)).read(Matchers.<ByteBuffer>any());
  Mockito.verify(handler,Mockito.never()).exception(Matchers.<NHttpClientConnection>any(),Matchers.<Exception>any());
  Assert.assertFalse(responses.isEmpty());
  final HttpResponse response=responses.getFirst();
  Assert.assertNotNull(response);
  Assert.assertEquals(HttpVersion.HTTP_1_1,response.getStatusLine().getProtocolVersion());
  Assert.assertEquals(200,response.getCode());
  Assert.assertEquals("OK",response.getStatusLine().getReasonPhrase());
  final HttpEntity entity=response.getEntity();
  Assert.assertNotNull(entity);
  Assert.assertEquals(100,entity.getContentLength());
  conn.consumeInput(handler);
  Assert.assertEquals(1,conn.getMetrics().getResponseCount());
  Assert.assertEquals(54,conn.getMetrics().getReceivedBytesCount());
  Mockito.verify(rchannel,Mockito.times(3)).read(Matchers.<ByteBuffer>any());
  Mockito.verify(handler,Mockito.never()).exception(Matchers.<NHttpClientConnection>any(),Matchers.<Exception>any());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.impl.nio.TestDefaultNHttpServerConnection </h4><pre class="type-11 type-1 type-3 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConsumeInputBasicMessageNoEntity() throws Exception {
  final ReadableByteChannelMock rchannel=Mockito.spy(new ReadableByteChannelMock(new String[]{"GET / HTTP/1.1\r\n\r\n"},StandardCharsets.US_ASCII));
  final ByteChannelMock channel=new ByteChannelMock(rchannel,null);
  Mockito.when(session.channel()).thenReturn(channel);
  Mockito.when(session.getEventMask()).thenReturn(SelectionKey.OP_READ);
  final LinkedList<HttpRequest> requests=new LinkedList<>();
  Mockito.doAnswer(new RequestCapturingAnswer(requests)).when(handler).requestReceived(Matchers.<NHttpServerConnection>any());
  Mockito.doAnswer(new ConsumeContentAnswer(new SimpleInputBuffer(64))).when(handler).inputReady(Matchers.<NHttpServerConnection>any(),Matchers.<ContentDecoder>any());
  conn.consumeInput(handler);
  Assert.assertNull(conn.getHttpResponse());
  Assert.assertNull(conn.contentDecoder);
  Mockito.verify(handler,Mockito.times(1)).requestReceived(Matchers.<NHttpServerConnection>any());
  Mockito.verify(handler,Mockito.never()).inputReady(Matchers.<NHttpServerConnection>any(),Matchers.<LengthDelimitedDecoder>any());
  Mockito.verify(rchannel,Mockito.times(1)).read(Matchers.<ByteBuffer>any());
  Mockito.verify(handler,Mockito.never()).exception(Matchers.<NHttpServerConnection>any(),Matchers.<Exception>any());
  Assert.assertFalse(requests.isEmpty());
  final HttpRequest request=requests.getFirst();
  Assert.assertNotNull(request);
  Assert.assertEquals(HttpVersion.HTTP_1_1,request.getRequestLine().getProtocolVersion());
  Assert.assertEquals("GET",request.getRequestLine().getMethod());
  Assert.assertEquals("/",request.getRequestLine().getUri());
}

</code></pre>

<br>
<pre class="type-11 type-1 type-3 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConsumeInputLongMessage() throws Exception {
  conn=new DefaultNHttpServerConnection(session,1024);
  final ReadableByteChannelMock rchannel=Mockito.spy(new ReadableByteChannelMock(new String[]{"POST / HTTP/1.1\r\nContent-Length: 100\r\n\r\na lot of stuff","",""},StandardCharsets.US_ASCII));
  final ByteChannelMock channel=new ByteChannelMock(rchannel,null);
  Mockito.when(session.channel()).thenReturn(channel);
  Mockito.when(session.getEventMask()).thenReturn(SelectionKey.OP_READ);
  final LinkedList<HttpRequest> requests=new LinkedList<>();
  Mockito.doAnswer(new RequestCapturingAnswer(requests)).when(handler).requestReceived(Matchers.<NHttpServerConnection>any());
  Mockito.doAnswer(new ConsumeContentAnswer(new SimpleInputBuffer(64))).when(handler).inputReady(Matchers.<NHttpServerConnection>any(),Matchers.<ContentDecoder>any());
  Assert.assertEquals(0,conn.getMetrics().getResponseCount());
  conn.consumeInput(handler);
  Assert.assertNotNull(conn.getHttpRequest());
  Assert.assertNotNull(conn.contentDecoder);
  Assert.assertEquals(1,conn.getMetrics().getRequestCount());
  Assert.assertEquals(54,conn.getMetrics().getReceivedBytesCount());
  Mockito.verify(handler,Mockito.times(1)).requestReceived(Matchers.<NHttpServerConnection>any());
  Mockito.verify(handler,Mockito.times(1)).inputReady(Matchers.<NHttpServerConnection>any(),Matchers.<LengthDelimitedDecoder>any());
  Mockito.verify(rchannel,Mockito.times(2)).read(Matchers.<ByteBuffer>any());
  Mockito.verify(handler,Mockito.never()).exception(Matchers.<NHttpServerConnection>any(),Matchers.<Exception>any());
  Assert.assertFalse(requests.isEmpty());
  final HttpRequest request=requests.getFirst();
  Assert.assertNotNull(request);
  Assert.assertEquals(HttpVersion.HTTP_1_1,request.getRequestLine().getProtocolVersion());
  Assert.assertEquals("POST",request.getRequestLine().getMethod());
  Assert.assertEquals("/",request.getRequestLine().getUri());
  Assert.assertTrue(request instanceof HttpRequest);
  final HttpEntity entity=((HttpRequest)request).getEntity();
  Assert.assertNotNull(entity);
  Assert.assertEquals(100,entity.getContentLength());
  conn.consumeInput(handler);
  Assert.assertEquals(1,conn.getMetrics().getRequestCount());
  Assert.assertEquals(54,conn.getMetrics().getReceivedBytesCount());
  Mockito.verify(rchannel,Mockito.times(3)).read(Matchers.<ByteBuffer>any());
  Mockito.verify(handler,Mockito.never()).exception(Matchers.<NHttpServerConnection>any(),Matchers.<Exception>any());
}

</code></pre>

<br>
<pre class="type-11 type-1 type-3 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConsumeInputShortMessage() throws Exception {
  final ReadableByteChannelMock rchannel=Mockito.spy(new ReadableByteChannelMock(new String[]{"POST / HTTP/1.1\r\nContent-Length: 5\r\n\r\nstuff"},StandardCharsets.US_ASCII));
  final ByteChannelMock channel=new ByteChannelMock(rchannel,null);
  Mockito.when(session.channel()).thenReturn(channel);
  Mockito.when(session.getEventMask()).thenReturn(SelectionKey.OP_READ);
  final LinkedList<HttpRequest> requests=new LinkedList<>();
  Mockito.doAnswer(new RequestCapturingAnswer(requests)).when(handler).requestReceived(Matchers.<NHttpServerConnection>any());
  Mockito.doAnswer(new ConsumeContentAnswer(new SimpleInputBuffer(64))).when(handler).inputReady(Matchers.<NHttpServerConnection>any(),Matchers.<ContentDecoder>any());
  Assert.assertEquals(0,conn.getMetrics().getRequestCount());
  conn.consumeInput(handler);
  Assert.assertNull(conn.getHttpResponse());
  Assert.assertNull(conn.contentDecoder);
  Assert.assertEquals(1,conn.getMetrics().getRequestCount());
  Assert.assertEquals(43,conn.getMetrics().getReceivedBytesCount());
  Mockito.verify(handler,Mockito.times(1)).requestReceived(Matchers.<NHttpServerConnection>any());
  Mockito.verify(handler,Mockito.times(1)).inputReady(Matchers.<NHttpServerConnection>any(),Matchers.<LengthDelimitedDecoder>any());
  Mockito.verify(rchannel,Mockito.times(2)).read(Matchers.<ByteBuffer>any());
  Mockito.verify(handler,Mockito.never()).exception(Matchers.<NHttpServerConnection>any(),Matchers.<Exception>any());
  Assert.assertFalse(requests.isEmpty());
  final HttpRequest request=requests.getFirst();
  Assert.assertNotNull(request);
  Assert.assertEquals(HttpVersion.HTTP_1_1,request.getRequestLine().getProtocolVersion());
  Assert.assertEquals("POST",request.getRequestLine().getMethod());
  Assert.assertEquals("/",request.getRequestLine().getUri());
  Assert.assertTrue(request instanceof HttpRequest);
  final HttpEntity entity=((HttpRequest)request).getEntity();
  Assert.assertNotNull(entity);
  Assert.assertEquals(5,entity.getContentLength());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.impl.nio.TestHttpAsyncRequester </h4><pre class="type-11 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExecuteConnectionClosedUnexpectedly() throws Exception {
  Mockito.when(this.conn.isOpen()).thenReturn(false);
  final Future future=this.requester.execute(this.requestProducer,this.responseConsumer,this.conn,this.exchangeContext,null);
  Assert.assertNotNull(future);
  Mockito.verify(this.requestProducer).failed(Matchers.any(ConnectionClosedException.class));
  Mockito.verify(this.responseConsumer).failed(Matchers.any(ConnectionClosedException.class));
  Mockito.verify(this.requestProducer,Mockito.atLeastOnce()).close();
  Mockito.verify(this.responseConsumer,Mockito.atLeastOnce()).close();
  Assert.assertTrue(future.isDone());
  Assert.assertNotNull(future.isDone());
  try {
    future.get();
  }
 catch (  final ExecutionException ex) {
    final Throwable cause=ex.getCause();
    Assert.assertNotNull(cause);
    Assert.assertTrue(cause instanceof ConnectionClosedException);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.impl.nio.TestLengthDelimitedDecoder </h4><pre class="type-11 type-1 type-3 type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCodingBeyondContentLimitFile() throws Exception {
  final ReadableByteChannel channel=new ReadableByteChannelMock(new String[]{"stuff;","more stuff; and a lot more stuff"},StandardCharsets.US_ASCII);
  final SessionInputBuffer inbuf=new SessionInputBufferImpl(1024,256,StandardCharsets.US_ASCII);
  final BasicHttpTransportMetrics metrics=new BasicHttpTransportMetrics();
  final LengthDelimitedDecoder decoder=new LengthDelimitedDecoder(channel,inbuf,metrics,16);
  createTempFile();
  final RandomAccessFile testfile=new RandomAccessFile(this.tmpfile,"rw");
  try {
    final FileChannel fchannel=testfile.getChannel();
    long bytesRead=decoder.transfer(fchannel,0,6);
    Assert.assertEquals(6,bytesRead);
    Assert.assertFalse(decoder.isCompleted());
    Assert.assertEquals(6,metrics.getBytesTransferred());
    bytesRead=decoder.transfer(fchannel,0,10);
    Assert.assertEquals(10,bytesRead);
    Assert.assertTrue(decoder.isCompleted());
    Assert.assertEquals(16,metrics.getBytesTransferred());
    bytesRead=decoder.transfer(fchannel,0,1);
    Assert.assertEquals(-1,bytesRead);
    Assert.assertTrue(decoder.isCompleted());
    Assert.assertEquals(16,metrics.getBytesTransferred());
  }
  finally {
    testfile.close();
  }
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=ConnectionClosedException.class) public void testTruncatedContentWithFile() throws Exception {
  final ReadableByteChannel channel=new ReadableByteChannelMock(new String[]{"1234567890"},StandardCharsets.US_ASCII);
  final SessionInputBuffer inbuf=new SessionInputBufferImpl(1024,256,StandardCharsets.US_ASCII);
  final BasicHttpTransportMetrics metrics=new BasicHttpTransportMetrics();
  final LengthDelimitedDecoder decoder=new LengthDelimitedDecoder(channel,inbuf,metrics,20);
  createTempFile();
  final RandomAccessFile testfile=new RandomAccessFile(this.tmpfile,"rw");
  try {
    final FileChannel fchannel=testfile.getChannel();
    final long bytesRead=decoder.transfer(fchannel,0,Integer.MAX_VALUE);
    Assert.assertEquals(10,bytesRead);
    decoder.transfer(fchannel,0,Integer.MAX_VALUE);
  }
  finally {
    testfile.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.impl.nio.TestSessionInOutBuffers </h4><pre class="type-11 type-1 type-3 type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testComplexReadWriteLine() throws Exception {
  final SessionOutputBuffer outbuf=new SessionOutputBufferImpl(1024,16,null,this.allocator);
  outbuf.write(ByteBuffer.wrap(new byte[]{'a','\n'}));
  outbuf.write(ByteBuffer.wrap(new byte[]{'\r','\n'}));
  outbuf.write(ByteBuffer.wrap(new byte[]{'\r','\r','\n'}));
  outbuf.write(ByteBuffer.wrap(new byte[]{'\n'}));
  final StringBuilder buffer=new StringBuilder();
  for (int i=0; i < 14; i++) {
    buffer.append("a");
  }
  final String s1=buffer.toString();
  buffer.append("\r\n");
  outbuf.write(ByteBuffer.wrap(buffer.toString().getBytes(StandardCharsets.US_ASCII)));
  buffer.setLength(0);
  for (int i=0; i < 15; i++) {
    buffer.append("a");
  }
  final String s2=buffer.toString();
  buffer.append("\r\n");
  outbuf.write(ByteBuffer.wrap(buffer.toString().getBytes(StandardCharsets.US_ASCII)));
  buffer.setLength(0);
  for (int i=0; i < 16; i++) {
    buffer.append("a");
  }
  final String s3=buffer.toString();
  buffer.append("\r\n");
  outbuf.write(ByteBuffer.wrap(buffer.toString().getBytes(StandardCharsets.US_ASCII)));
  outbuf.write(ByteBuffer.wrap(new byte[]{'a'}));
  final ByteArrayOutputStream outstream=new ByteArrayOutputStream();
  final WritableByteChannel outChannel=newChannel(outstream);
  outbuf.flush(outChannel);
  final ReadableByteChannel channel=newChannel(outstream.toByteArray());
  final SessionInputBuffer inbuf=new SessionInputBufferImpl(1024,16,null,this.allocator);
  inbuf.fill(channel);
  final CharArrayBuffer chbuffer=new CharArrayBuffer(32);
  chbuffer.clear();
  inbuf.readLine(chbuffer,true);
  Assert.assertEquals("a",chbuffer.toString());
  chbuffer.clear();
  inbuf.readLine(chbuffer,true);
  Assert.assertEquals("",chbuffer.toString());
  chbuffer.clear();
  inbuf.readLine(chbuffer,true);
  Assert.assertEquals("\r",chbuffer.toString());
  chbuffer.clear();
  inbuf.readLine(chbuffer,true);
  Assert.assertEquals("",chbuffer.toString());
  chbuffer.clear();
  inbuf.readLine(chbuffer,true);
  Assert.assertEquals(s1,chbuffer.toString());
  chbuffer.clear();
  inbuf.readLine(chbuffer,true);
  Assert.assertEquals(s2,chbuffer.toString());
  chbuffer.clear();
  inbuf.readLine(chbuffer,true);
  Assert.assertEquals(s3,chbuffer.toString());
  chbuffer.clear();
  inbuf.readLine(chbuffer,true);
  Assert.assertEquals("a",chbuffer.toString());
  chbuffer.clear();
  inbuf.readLine(chbuffer,true);
  Assert.assertFalse(inbuf.readLine(chbuffer,true));
  chbuffer.clear();
  inbuf.readLine(chbuffer,true);
  Assert.assertFalse(inbuf.readLine(chbuffer,true));
}

</code></pre>

<br>
<pre class="type-11 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUnmappableInputActionReplace() throws Exception {
  final String s="This text contains a circumflex \u0302 !!!";
  final CharsetEncoder encoder=StandardCharsets.ISO_8859_1.newEncoder();
  encoder.onMalformedInput(CodingErrorAction.IGNORE);
  encoder.onUnmappableCharacter(CodingErrorAction.REPLACE);
  final SessionOutputBuffer outbuf=new SessionOutputBufferImpl(1024,16,encoder,this.allocator);
  final ByteArrayOutputStream baos=new ByteArrayOutputStream();
  final WritableByteChannel channel=newChannel(baos);
  final CharArrayBuffer chbuffer=new CharArrayBuffer(16);
  chbuffer.append(s);
  outbuf.writeLine(chbuffer);
  outbuf.flush(channel);
  final String result=new String(baos.toByteArray(),"US-ASCII");
  Assert.assertEquals("This text contains a circumflex ? !!!\r\n",result);
}

</code></pre>

<br>
<pre class="type-11 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUnmappableInputActionIgnore() throws Exception {
  final String s="This text contains a circumflex \u0302!!!";
  final CharsetEncoder encoder=StandardCharsets.ISO_8859_1.newEncoder();
  encoder.onMalformedInput(CodingErrorAction.IGNORE);
  encoder.onUnmappableCharacter(CodingErrorAction.IGNORE);
  final SessionOutputBuffer outbuf=new SessionOutputBufferImpl(1024,16,encoder,this.allocator);
  final ByteArrayOutputStream baos=new ByteArrayOutputStream();
  final WritableByteChannel channel=newChannel(baos);
  final CharArrayBuffer chbuffer=new CharArrayBuffer(16);
  chbuffer.append(s);
  outbuf.writeLine(chbuffer);
  outbuf.flush(channel);
  final String result=new String(baos.toByteArray(),"US-ASCII");
  Assert.assertEquals("This text contains a circumflex !!!\r\n",result);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReadToChannelWithMaxLen() throws Exception {
  final byte[] pattern="0123456789ABCDEF".getBytes(StandardCharsets.US_ASCII);
  final ReadableByteChannel channel=newChannel(pattern);
  final SessionInputBuffer inbuf=new SessionInputBufferImpl(4096,1024,null,this.allocator);
  while (inbuf.fill(channel) > 0) {
  }
  final ByteArrayOutputStream outstream=new ByteArrayOutputStream();
  final WritableByteChannel dst=newChannel(outstream);
  Assert.assertEquals(10,inbuf.read(dst,10));
  Assert.assertEquals(3,inbuf.read(dst,3));
  Assert.assertEquals(3,inbuf.read(dst,10));
  Assert.assertEquals(ByteBuffer.wrap(pattern),ByteBuffer.wrap(outstream.toByteArray()));
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReadToChannel() throws Exception {
  final byte[] pattern="0123456789ABCDEF".getBytes(StandardCharsets.US_ASCII);
  final ReadableByteChannel channel=newChannel(pattern);
  final SessionInputBuffer inbuf=new SessionInputBufferImpl(4096,1024,null,this.allocator);
  while (inbuf.fill(channel) > 0) {
  }
  final ByteArrayOutputStream outstream=new ByteArrayOutputStream();
  final WritableByteChannel dst=newChannel(outstream);
  Assert.assertEquals(16,inbuf.read(dst));
  Assert.assertEquals(ByteBuffer.wrap(pattern),ByteBuffer.wrap(outstream.toByteArray()));
}

</code></pre>

<br>
<pre class="type-11 type-1 type-3 type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWriteLineChunks() throws Exception {
  final SessionOutputBuffer outbuf=new SessionOutputBufferImpl(16,16,null,this.allocator);
  final SessionInputBuffer inbuf=new SessionInputBufferImpl(16,16,null,this.allocator);
  ReadableByteChannel inChannel=newChannel("One\r\nTwo\r\nThree");
  inbuf.fill(inChannel);
  final CharArrayBuffer line=new CharArrayBuffer(64);
  line.clear();
  Assert.assertTrue(inbuf.readLine(line,false));
  Assert.assertEquals("One",line.toString());
  outbuf.writeLine(line);
  line.clear();
  Assert.assertTrue(inbuf.readLine(line,false));
  Assert.assertEquals("Two",line.toString());
  outbuf.writeLine(line);
  line.clear();
  Assert.assertFalse(inbuf.readLine(line,false));
  inChannel=newChannel("\r\nFour");
  inbuf.fill(inChannel);
  line.clear();
  Assert.assertTrue(inbuf.readLine(line,false));
  Assert.assertEquals("Three",line.toString());
  outbuf.writeLine(line);
  inbuf.fill(inChannel);
  line.clear();
  Assert.assertTrue(inbuf.readLine(line,true));
  Assert.assertEquals("Four",line.toString());
  outbuf.writeLine(line);
  line.clear();
  Assert.assertFalse(inbuf.readLine(line,true));
  final ByteArrayOutputStream outstream=new ByteArrayOutputStream();
  final WritableByteChannel outChannel=newChannel(outstream);
  outbuf.flush(outChannel);
  final String s=new String(outstream.toByteArray(),"US-ASCII");
  Assert.assertEquals("One\r\nTwo\r\nThree\r\nFour\r\n",s);
}

</code></pre>

<br>
<pre class="type-11 type-14 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMultibyteCodedReadWriteLine() throws Exception {
  final String s1=constructString(SWISS_GERMAN_HELLO);
  final String s2=constructString(RUSSIAN_HELLO);
  final String s3="Like hello and stuff";
  final SessionOutputBuffer outbuf=new SessionOutputBufferImpl(1024,16,StandardCharsets.UTF_8.newEncoder(),this.allocator);
  final CharArrayBuffer chbuffer=new CharArrayBuffer(32);
  for (int i=0; i < 10; i++) {
    chbuffer.clear();
    chbuffer.append(s1);
    outbuf.writeLine(chbuffer);
    chbuffer.clear();
    chbuffer.append(s2);
    outbuf.writeLine(chbuffer);
    chbuffer.clear();
    chbuffer.append(s3);
    outbuf.writeLine(chbuffer);
  }
  final ByteArrayOutputStream outstream=new ByteArrayOutputStream();
  final WritableByteChannel outChannel=newChannel(outstream);
  outbuf.flush(outChannel);
  final byte[] tmp=outstream.toByteArray();
  final ReadableByteChannel channel=newChannel(tmp);
  final SessionInputBuffer inbuf=new SessionInputBufferImpl(16,16,StandardCharsets.UTF_8.newDecoder(),this.allocator);
  while (inbuf.fill(channel) > 0) {
  }
  for (int i=0; i < 10; i++) {
    chbuffer.clear();
    inbuf.readLine(chbuffer,true);
    Assert.assertEquals(s1,chbuffer.toString());
    chbuffer.clear();
    inbuf.readLine(chbuffer,true);
    Assert.assertEquals(s2,chbuffer.toString());
    chbuffer.clear();
    inbuf.readLine(chbuffer,true);
    Assert.assertEquals(s3,chbuffer.toString());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.integration.TestClientOutOfSequenceResponse </h4><pre class="type-11 type-1 type-3 type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOutOfSequenceResponse() throws Exception {
  client.setMaxPerRoute(1);
  client.setMaxTotal(1);
  client.start();
  final HttpHost target=new HttpHost("localhost",server.getLocalPort());
  final HttpRequest get1=new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1);
  final Future<HttpResponse> future1=client.execute(target,get1);
  final HttpRequest get2=new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1);
  final Future<HttpResponse> future2=client.execute(target,get2);
  final Socket socket=server.accept();
  Thread.sleep(100);
  for (int i=0; i < 3; ++i) {
    socket.getOutputStream().write(("HTTP/1.1 200 OK\r\n" + "Content-Length: 0\r\n" + "Connection: keep-alive\r\n\r\n").getBytes(StandardCharsets.UTF_8));
    socket.getOutputStream().flush();
  }
  final HttpResponse response1=future1.get();
  Assert.assertEquals(200,response1.getCode());
  try {
    final HttpResponse response2=future2.get();
    Assert.assertEquals(200,response2.getCode());
  }
 catch (  final ExecutionException ex) {
    Assert.assertTrue(ex.getCause() instanceof HttpException);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.integration.TestCustomSSL </h4><pre class="type-11 type-1 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCustomSSLContext() throws Exception {
  final SSLSetupHandler sslSetupHandler=new SSLSetupHandler(){
    @Override public void initalize(    final SSLEngine sslengine) throws SSLException {
    }
    @Override public void verify(    final IOSession iosession,    final SSLSession sslsession) throws SSLException {
      final BigInteger sslid=new BigInteger(sslsession.getId());
      iosession.setAttribute("ssl-id",sslid);
    }
  }
;
  final HttpRequestHandler requestHandler=new HttpRequestHandler(){
    @Override public void handle(    final HttpRequest request,    final HttpResponse response,    final HttpContext context) throws HttpException, IOException {
      final NHttpConnection conn=(NHttpConnection)context.getAttribute(HttpCoreContext.HTTP_CONNECTION);
      final BigInteger sslid=(BigInteger)conn.getContext().getAttribute("ssl-id");
      Assert.assertNotNull(sslid);
    }
  }
;
  final URL keyStoreURL=getClass().getResource("/test.keystore");
  final String storePassword="nopassword";
  final SSLContext serverSSLContext=SSLContextBuilder.create().loadTrustMaterial(keyStoreURL,storePassword.toCharArray()).loadKeyMaterial(keyStoreURL,storePassword.toCharArray(),storePassword.toCharArray()).build();
  this.server=new HttpServerNio();
  this.server.setConnectionFactory(new ServerConnectionFactory(serverSSLContext,sslSetupHandler));
  this.server.setTimeout(5000);
  final SSLContext clientSSLContext=SSLContextBuilder.create().loadTrustMaterial(keyStoreURL,storePassword.toCharArray()).build();
  this.client=new HttpClientNio(new BasicNIOConnFactory(new ClientConnectionFactory(clientSSLContext),null));
  this.client.setTimeout(5000);
  this.server.registerHandler("*",new BasicAsyncRequestHandler(requestHandler));
  this.server.start();
  this.client.start();
  final ListenerEndpoint endpoint=this.server.getListenerEndpoint();
  endpoint.waitFor();
  final InetSocketAddress address=(InetSocketAddress)endpoint.getAddress();
  final HttpHost target=new HttpHost("localhost",address.getPort());
  final BasicHttpRequest request=new BasicHttpRequest("GET","/");
  final Future<HttpResponse> future=this.client.execute(target,request);
  final HttpResponse response=future.get();
  Assert.assertNotNull(response);
  Assert.assertEquals(200,response.getCode());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.integration.TestDefaultListeningIOReactor </h4><pre class="type-11 type-1 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEndpointUpAndDown() throws Exception {
  final IOEventDispatch eventDispatch=createIOEventDispatch();
  final IOReactorConfig config=IOReactorConfig.custom().setIoThreadCount(1).build();
  final ListeningIOReactor ioreactor=new DefaultListeningIOReactor(config);
  final Thread t=new Thread(new Runnable(){
    @Override public void run(){
      try {
        ioreactor.execute(eventDispatch);
      }
 catch (      final IOException ex) {
      }
    }
  }
);
  t.start();
  Set<ListenerEndpoint> endpoints=ioreactor.getEndpoints();
  Assert.assertNotNull(endpoints);
  Assert.assertEquals(0,endpoints.size());
  final ListenerEndpoint endpoint1=ioreactor.listen(new InetSocketAddress(0));
  endpoint1.waitFor();
  final ListenerEndpoint endpoint2=ioreactor.listen(new InetSocketAddress(0));
  endpoint2.waitFor();
  final int port=((InetSocketAddress)endpoint2.getAddress()).getPort();
  endpoints=ioreactor.getEndpoints();
  Assert.assertNotNull(endpoints);
  Assert.assertEquals(2,endpoints.size());
  endpoint1.close();
  endpoints=ioreactor.getEndpoints();
  Assert.assertNotNull(endpoints);
  Assert.assertEquals(1,endpoints.size());
  final ListenerEndpoint endpoint=endpoints.iterator().next();
  Assert.assertEquals(port,((InetSocketAddress)endpoint.getAddress()).getPort());
  ioreactor.shutdown(1000);
  t.join(1000);
  Assert.assertEquals(IOReactorStatus.SHUT_DOWN,ioreactor.getStatus());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.integration.TestHttpAsyncHandlers </h4><pre class="type-11 type-14 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHttpPostsHTTP10() throws Exception {
  this.server.registerHandler("*",new BasicAsyncRequestHandler(new SimpleRequestHandler()));
  final HttpHost target=start();
  this.client.setMaxPerRoute(3);
  this.client.setMaxTotal(3);
  final String pattern=RndTestPatternGenerator.generateText();
  final int count=RndTestPatternGenerator.generateCount(1000);
  final String expectedPattern=createExpectedString(pattern,count);
  final Queue<Future<HttpResponse>> queue=new ConcurrentLinkedQueue<>();
  for (int i=0; i < 30; i++) {
    final BasicHttpRequest request=new BasicHttpRequest("POST",createRequestUri(pattern,count),HttpVersion.HTTP_1_0);
    final NStringEntity entity=new NStringEntity(expectedPattern,ContentType.DEFAULT_TEXT);
    request.setEntity(entity);
    final Future<HttpResponse> future=this.client.execute(target,request);
    queue.add(future);
  }
  while (!queue.isEmpty()) {
    final Future<HttpResponse> future=queue.remove();
    final HttpResponse response=future.get();
    Assert.assertNotNull(response);
    Assert.assertEquals(expectedPattern,EntityUtils.toString(response.getEntity()));
  }
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHttpPostIdentity() throws Exception {
  this.server.registerHandler("*",new BasicAsyncRequestHandler(new SimpleRequestHandler()));
  this.client.setHttpProcessor(new ImmutableHttpProcessor(new HttpRequestInterceptor(){
    @Override public void process(    final HttpRequest request,    final HttpContext context) throws HttpException, IOException {
      request.addHeader(HttpHeaders.TRANSFER_ENCODING,"identity");
    }
  }
,new RequestTargetHost(),new RequestConnControl(),new RequestUserAgent(),new RequestExpectContinue()));
  final HttpHost target=start();
  this.client.setMaxPerRoute(3);
  this.client.setMaxTotal(3);
  final String pattern=RndTestPatternGenerator.generateText();
  final int count=RndTestPatternGenerator.generateCount(1000);
  final BasicHttpRequest request=new BasicHttpRequest("POST",createRequestUri(pattern,count));
  request.setEntity(null);
  final Future<HttpResponse> future=this.client.execute(target,request);
  final HttpResponse response=future.get();
  Assert.assertNotNull(response);
  Assert.assertEquals(HttpStatus.SC_NOT_IMPLEMENTED,response.getCode());
}

</code></pre>

<br>
<pre class="type-11 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHttpPostsWithExpectationVerification() throws Exception {
  this.server.registerHandler("*",new BasicAsyncRequestHandler(new SimpleRequestHandler()));
  this.server.setExpectationVerifier(new HttpAsyncExpectationVerifier(){
    @Override public void verify(    final HttpAsyncExchange httpexchange,    final HttpContext context) throws HttpException {
      final HttpRequest request=httpexchange.getRequest();
      ProtocolVersion ver=request.getRequestLine().getProtocolVersion();
      final String s=request.getRequestLine().getUri();
      if (!s.equals("AAAAAx10")) {
        if (!ver.lessEquals(HttpVersion.HTTP_1_1)) {
          ver=HttpVersion.HTTP_1_1;
        }
        final BasicHttpResponse response=new BasicHttpResponse(ver,HttpStatus.SC_EXPECTATION_FAILED,"Expectation failed");
        response.setEntity(new NStringEntity("Expectation failed",ContentType.TEXT_PLAIN));
        httpexchange.submitResponse(new BasicAsyncResponseProducer(response));
      }
 else {
        httpexchange.submitResponse();
      }
    }
  }
);
  final HttpHost target=start();
  final BasicHttpRequest request1=new BasicHttpRequest("POST",createRequestUri("AAAAA",10));
  request1.setEntity(new NStringEntity(createExpectedString("AAAAA",10)));
  final BasicHttpRequest request2=new BasicHttpRequest("POST",createRequestUri("AAAAA",10));
  request2.setEntity(new NStringEntity(createExpectedString("AAAAA",10)));
  final BasicHttpRequest request3=new BasicHttpRequest("POST",createRequestUri("BBBBB",10));
  request3.setEntity(new NStringEntity(createExpectedString("BBBBB",10)));
  final HttpRequest[] requests=new HttpRequest[]{request1,request2,request3};
  final Queue<Future<HttpResponse>> queue=new ConcurrentLinkedQueue<>();
  for (  final HttpRequest request : requests) {
    final HttpContext context=new BasicHttpContext();
    final Future<HttpResponse> future=this.client.execute(target,request,context);
    queue.add(future);
  }
  final Future<HttpResponse> future1=queue.remove();
  final HttpResponse response1=future1.get();
  Assert.assertEquals(HttpStatus.SC_OK,response1.getCode());
  final Future<HttpResponse> future2=queue.remove();
  final HttpResponse response2=future2.get();
  Assert.assertEquals(HttpStatus.SC_OK,response2.getCode());
  final Future<HttpResponse> future3=queue.remove();
  final HttpResponse response3=future3.get();
  Assert.assertEquals(HttpStatus.SC_EXPECTATION_FAILED,response3.getCode());
}

</code></pre>

<br>
<pre class="type-11 type-14 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHttpExceptionInHandler() throws Exception {
class FailingRequestHandler implements HttpAsyncRequestHandler<HttpRequest> {
    public FailingRequestHandler(){
      super();
    }
    @Override public HttpAsyncRequestConsumer<HttpRequest> processRequest(    final HttpRequest request,    final HttpContext context){
      return new BasicAsyncRequestConsumer();
    }
    @Override public void handle(    final HttpRequest request,    final HttpAsyncExchange httpexchange,    final HttpContext context) throws HttpException, IOException {
      throw new HttpException("Boom");
    }
  }
  this.server.registerHandler("*",new FailingRequestHandler());
  final HttpHost target=start();
  this.client.setMaxPerRoute(3);
  this.client.setMaxTotal(3);
  final String pattern=RndTestPatternGenerator.generateText();
  final int count=RndTestPatternGenerator.generateCount(1000);
  final Queue<Future<HttpResponse>> queue=new ConcurrentLinkedQueue<>();
  for (int i=0; i < 1; i++) {
    final BasicHttpRequest request=new BasicHttpRequest("GET",createRequestUri(pattern,count));
    final Future<HttpResponse> future=this.client.execute(target,request);
    queue.add(future);
  }
  while (!queue.isEmpty()) {
    final Future<HttpResponse> future=queue.remove();
    final HttpResponse response=future.get();
    Assert.assertNotNull(response);
    Assert.assertEquals(HttpStatus.SC_INTERNAL_SERVER_ERROR,response.getCode());
  }
}

</code></pre>

<br>
<pre class="type-11 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAbsentHostHeader() throws Exception {
  this.server.registerHandler("*",new BasicAsyncRequestHandler(new HttpRequestHandler(){
    @Override public void handle(    final HttpRequest request,    final HttpResponse response,    final HttpContext context) throws HttpException, IOException {
      response.setStatusCode(HttpStatus.SC_OK);
      response.setEntity(new NStringEntity("All is well",StandardCharsets.US_ASCII));
    }
  }
));
  this.client.setHttpProcessor(new ImmutableHttpProcessor(new RequestContent(),new RequestConnControl()));
  final HttpHost target=start();
  this.client.setMaxPerRoute(3);
  this.client.setMaxTotal(3);
  final BasicHttpRequest request1=new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_0);
  final Future<HttpResponse> future1=this.client.execute(target,request1);
  final HttpResponse response1=future1.get();
  Assert.assertNotNull(response1);
  Assert.assertEquals(200,response1.getCode());
  final BasicHttpRequest request2=new BasicHttpRequest("GET","/",HttpVersion.HTTP_1_1);
  final Future<HttpResponse> future2=this.client.execute(target,request2);
  final HttpResponse response2=future2.get();
  Assert.assertNotNull(response2);
  Assert.assertEquals(400,response2.getCode());
}

</code></pre>

<br>
<pre class="type-11 type-14 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHttpPostsChunked() throws Exception {
  this.server.registerHandler("*",new BasicAsyncRequestHandler(new SimpleRequestHandler()));
  final HttpHost target=start();
  this.client.setMaxPerRoute(3);
  this.client.setMaxTotal(3);
  final String pattern=RndTestPatternGenerator.generateText();
  final int count=RndTestPatternGenerator.generateCount(1000);
  final String expectedPattern=createExpectedString(pattern,count);
  final Queue<Future<HttpResponse>> queue=new ConcurrentLinkedQueue<>();
  for (int i=0; i < 30; i++) {
    final BasicHttpRequest request=new BasicHttpRequest("POST",createRequestUri(pattern,count));
    final NStringEntity entity=new NStringEntity(expectedPattern,ContentType.DEFAULT_TEXT);
    entity.setChunked(true);
    request.setEntity(entity);
    final Future<HttpResponse> future=this.client.execute(target,request);
    queue.add(future);
  }
  while (!queue.isEmpty()) {
    final Future<HttpResponse> future=queue.remove();
    final HttpResponse response=future.get();
    Assert.assertNotNull(response);
    Assert.assertEquals(expectedPattern,EntityUtils.toString(response.getEntity()));
  }
}

</code></pre>

<br>
<pre class="type-11 type-14 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNoServiceHandler() throws Exception {
  final HttpHost target=start();
  this.client.setMaxPerRoute(3);
  this.client.setMaxTotal(3);
  final String pattern=RndTestPatternGenerator.generateText();
  final int count=RndTestPatternGenerator.generateCount(1000);
  final Queue<Future<HttpResponse>> queue=new ConcurrentLinkedQueue<>();
  for (int i=0; i < 30; i++) {
    final BasicHttpRequest request=new BasicHttpRequest("GET",createRequestUri(pattern,count));
    final Future<HttpResponse> future=this.client.execute(target,request);
    queue.add(future);
  }
  while (!queue.isEmpty()) {
    final Future<HttpResponse> future=queue.remove();
    final HttpResponse response=future.get();
    Assert.assertNotNull(response);
    Assert.assertEquals(HttpStatus.SC_NOT_IMPLEMENTED,response.getCode());
  }
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHttpPostNoContentLength() throws Exception {
  this.server.registerHandler("*",new BasicAsyncRequestHandler(new SimpleRequestHandler()));
  this.client.setHttpProcessor(new ImmutableHttpProcessor(new RequestTargetHost(),new RequestConnControl(),new RequestUserAgent(),new RequestExpectContinue()));
  final HttpHost target=start();
  this.client.setMaxPerRoute(3);
  this.client.setMaxTotal(3);
  final String pattern=RndTestPatternGenerator.generateText();
  final int count=RndTestPatternGenerator.generateCount(1000);
  final BasicHttpRequest request=new BasicHttpRequest("POST",createRequestUri(pattern,count));
  request.setEntity(null);
  final Future<HttpResponse> future=this.client.execute(target,request);
  final HttpResponse response=future.get();
  Assert.assertNotNull(response);
  Assert.assertEquals(HttpStatus.SC_OK,response.getCode());
}

</code></pre>

<br>
<pre class="type-11 type-14 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHttpPostsWithExpectContinue() throws Exception {
  this.server.registerHandler("*",new BasicAsyncRequestHandler(new SimpleRequestHandler()));
  final HttpHost target=start();
  this.client.setMaxPerRoute(3);
  this.client.setMaxTotal(3);
  final String pattern=RndTestPatternGenerator.generateText();
  final int count=RndTestPatternGenerator.generateCount(1000);
  final String expectedPattern=createExpectedString(pattern,count);
  final Queue<Future<HttpResponse>> queue=new ConcurrentLinkedQueue<>();
  for (int i=0; i < 30; i++) {
    final BasicHttpRequest request=new BasicHttpRequest("POST",createRequestUri(pattern,count));
    final NStringEntity entity=new NStringEntity(expectedPattern,ContentType.DEFAULT_TEXT);
    request.setEntity(entity);
    final HttpContext context=new BasicHttpContext();
    final Future<HttpResponse> future=this.client.execute(target,request,context);
    queue.add(future);
  }
  while (!queue.isEmpty()) {
    final Future<HttpResponse> future=queue.remove();
    final HttpResponse response=future.get();
    Assert.assertNotNull(response);
    Assert.assertEquals(expectedPattern,EntityUtils.toString(response.getEntity()));
  }
}

</code></pre>

<br>
<pre class="type-11 type-14 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHttpPostsFailedExpectionContentLengthNonReusableConnection() throws Exception {
  this.server.registerHandler("*",new BasicAsyncRequestHandler(new SimpleRequestHandler()));
  this.server.setExpectationVerifier(new HttpAsyncExpectationVerifier(){
    @Override public void verify(    final HttpAsyncExchange httpexchange,    final HttpContext context) throws HttpException {
      new Thread(){
        @Override public void run(){
          final HttpRequest request=httpexchange.getRequest();
          ProtocolVersion ver=request.getRequestLine().getProtocolVersion();
          final String s=request.getRequestLine().getUri();
          if (!s.equals("AAAAAx10")) {
            if (!ver.lessEquals(HttpVersion.HTTP_1_1)) {
              ver=HttpVersion.HTTP_1_1;
            }
            final BasicHttpResponse response=new BasicHttpResponse(ver,HttpStatus.SC_EXPECTATION_FAILED,"Expectation failed");
            response.setEntity(new NStringEntity("Expectation failed",ContentType.TEXT_PLAIN));
            httpexchange.submitResponse(new BasicAsyncResponseProducer(response));
          }
 else {
            httpexchange.submitResponse();
          }
        }
      }
.start();
    }
  }
);
  this.client.setMaxPerRoute(1);
  this.client.setMaxTotal(1);
  final HttpHost target=start();
  for (int i=0; i < 3; i++) {
    final BasicHttpRequest request1=new BasicHttpRequest("POST",createRequestUri("AAAAA",10));
    final HttpEntity entity1=new NStringEntity(createExpectedString("AAAAA",10));
    request1.setEntity(entity1);
    final HttpContext context=new BasicHttpContext();
    final Future<HttpResponse> future1=this.client.execute(target,request1,context);
    final HttpResponse response1=future1.get();
    Assert.assertEquals(HttpStatus.SC_OK,response1.getCode());
    final BasicHttpRequest request2=new BasicHttpRequest("POST",createRequestUri("BBBBB",10));
    final HttpEntity entity2=new NStringEntity(createExpectedString("BBBBB",500));
    request2.setEntity(entity2);
    final Future<HttpResponse> future2=this.client.execute(target,request2,context);
    final HttpResponse response2=future2.get();
    Assert.assertEquals(HttpStatus.SC_EXPECTATION_FAILED,response2.getCode());
  }
}

</code></pre>

<br>
<pre class="type-11 type-14 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHttpPostsNoEntity() throws Exception {
  this.server.registerHandler("*",new BasicAsyncRequestHandler(new SimpleRequestHandler()));
  final HttpHost target=start();
  this.client.setMaxPerRoute(3);
  this.client.setMaxTotal(3);
  final String pattern=RndTestPatternGenerator.generateText();
  final int count=RndTestPatternGenerator.generateCount(1000);
  final Queue<Future<HttpResponse>> queue=new ConcurrentLinkedQueue<>();
  for (int i=0; i < 30; i++) {
    final BasicHttpRequest request=new BasicHttpRequest("POST",createRequestUri(pattern,count));
    request.setEntity(null);
    final Future<HttpResponse> future=this.client.execute(target,request);
    queue.add(future);
  }
  while (!queue.isEmpty()) {
    final Future<HttpResponse> future=queue.remove();
    final HttpResponse response=future.get();
    Assert.assertNotNull(response);
    Assert.assertEquals(HttpStatus.SC_OK,response.getCode());
  }
}

</code></pre>

<br>
<pre class="type-11 type-14 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHttpGets() throws Exception {
  this.server.registerHandler("*",new BasicAsyncRequestHandler(new SimpleRequestHandler()));
  final HttpHost target=start();
  this.client.setMaxPerRoute(3);
  this.client.setMaxTotal(3);
  final String pattern=RndTestPatternGenerator.generateText();
  final int count=RndTestPatternGenerator.generateCount(1000);
  final String expectedPattern=createExpectedString(pattern,count);
  final Queue<Future<HttpResponse>> queue=new ConcurrentLinkedQueue<>();
  for (int i=0; i < 30; i++) {
    final BasicHttpRequest request=new BasicHttpRequest("GET",createRequestUri(pattern,count));
    final Future<HttpResponse> future=this.client.execute(target,request);
    queue.add(future);
  }
  while (!queue.isEmpty()) {
    final Future<HttpResponse> future=queue.remove();
    final HttpResponse response=future.get();
    Assert.assertNotNull(response);
    Assert.assertEquals(expectedPattern,EntityUtils.toString(response.getEntity()));
  }
}

</code></pre>

<br>
<pre class="type-11 type-14 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHttpPostsFailedExpectionConnectionReuseLateResponseBody() throws Exception {
  this.server.registerHandler("*",new BasicAsyncRequestHandler(new SimpleRequestHandler()));
  this.server.setExpectationVerifier(new HttpAsyncExpectationVerifier(){
    @Override public void verify(    final HttpAsyncExchange httpexchange,    final HttpContext context) throws HttpException {
      new Thread(){
        @Override public void run(){
          final HttpRequest request=httpexchange.getRequest();
          ProtocolVersion ver=request.getRequestLine().getProtocolVersion();
          final String s=request.getRequestLine().getUri();
          if (!s.equals("AAAAAx10")) {
            if (!ver.lessEquals(HttpVersion.HTTP_1_1)) {
              ver=HttpVersion.HTTP_1_1;
            }
            final BasicHttpResponse response=new BasicHttpResponse(ver,HttpStatus.SC_EXPECTATION_FAILED,"Expectation failed");
            response.setEntity(new NStringEntity("Expectation failed",ContentType.TEXT_PLAIN));
            final AtomicInteger count=new AtomicInteger(0);
            httpexchange.submitResponse(new BasicAsyncResponseProducer(response){
              @Override public void produceContent(              final ContentEncoder encoder,              final IOControl ioctrl) throws IOException {
                if (count.incrementAndGet() < 3) {
                  try {
                    Thread.sleep(50);
                  }
 catch (                  final InterruptedException ignore) {
                  }
                }
 else {
                  super.produceContent(encoder,ioctrl);
                }
              }
            }
);
          }
 else {
            httpexchange.submitResponse();
          }
        }
      }
.start();
    }
  }
);
  this.client.setMaxPerRoute(1);
  this.client.setMaxTotal(1);
  final HttpHost target=start();
  for (int i=0; i < 10; i++) {
    final BasicHttpRequest request1=new BasicHttpRequest("POST",createRequestUri("AAAAA",10));
    final NStringEntity entity1=new NStringEntity(createExpectedString("AAAAA",10));
    entity1.setChunked(i % 2 == 0);
    request1.setEntity(entity1);
    final HttpContext context=new BasicHttpContext();
    final Future<HttpResponse> future1=this.client.execute(target,request1,context);
    final HttpResponse response1=future1.get();
    Assert.assertEquals(HttpStatus.SC_OK,response1.getCode());
    final BasicHttpRequest request2=new BasicHttpRequest("POST",createRequestUri("BBBBB",10));
    final NStringEntity entity2=new NStringEntity(createExpectedString("BBBBB",10));
    entity2.setChunked(i % 2 == 0);
    request2.setEntity(entity2);
    final Future<HttpResponse> future2=this.client.execute(target,request2,context);
    final HttpResponse response2=future2.get();
    Assert.assertEquals(HttpStatus.SC_EXPECTATION_FAILED,response2.getCode());
  }
}

</code></pre>

<br>
<pre class="type-11 type-14 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHttpHeads() throws Exception {
  this.server.registerHandler("*",new BasicAsyncRequestHandler(new SimpleRequestHandler()));
  final HttpHost target=start();
  this.client.setMaxPerRoute(3);
  this.client.setMaxTotal(3);
  final String pattern=RndTestPatternGenerator.generateText();
  final int count=RndTestPatternGenerator.generateCount(1000);
  final Queue<Future<HttpResponse>> queue=new ConcurrentLinkedQueue<>();
  for (int i=0; i < 30; i++) {
    final BasicHttpRequest request=new BasicHttpRequest("HEAD",createRequestUri(pattern,count));
    final Future<HttpResponse> future=this.client.execute(target,request);
    queue.add(future);
  }
  while (!queue.isEmpty()) {
    final Future<HttpResponse> future=queue.remove();
    final HttpResponse response=future.get();
    Assert.assertNotNull(response);
    Assert.assertEquals(HttpStatus.SC_OK,response.getCode());
  }
}

</code></pre>

<br>
<pre class="type-11 type-14 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHttpHeadsDelayedResponse() throws Exception {
class DelayedRequestHandler implements HttpAsyncRequestHandler<HttpRequest> {
    private final SimpleRequestHandler requestHandler;
    public DelayedRequestHandler(){
      super();
      this.requestHandler=new SimpleRequestHandler();
    }
    @Override public HttpAsyncRequestConsumer<HttpRequest> processRequest(    final HttpRequest request,    final HttpContext context){
      return new BasicAsyncRequestConsumer();
    }
    @Override public void handle(    final HttpRequest request,    final HttpAsyncExchange httpexchange,    final HttpContext context) throws HttpException, IOException {
      ProtocolVersion ver=request.getRequestLine().getProtocolVersion();
      if (!ver.lessEquals(HttpVersion.HTTP_1_1)) {
        ver=HttpVersion.HTTP_1_1;
      }
      final BasicHttpResponse response=new BasicHttpResponse(ver,HttpStatus.SC_OK,"OK");
      new Thread(){
        @Override public void run(){
          try {
            Thread.sleep(100);
          }
 catch (          final InterruptedException ie) {
          }
          try {
            requestHandler.handle(request,response,context);
          }
 catch (          final Exception ex) {
            response.setStatusCode(HttpStatus.SC_INTERNAL_SERVER_ERROR);
          }
          httpexchange.submitResponse(new BasicAsyncResponseProducer(response));
        }
      }
.start();
    }
  }
  this.server.registerHandler("*",new DelayedRequestHandler());
  final HttpHost target=start();
  this.client.setMaxPerRoute(3);
  this.client.setMaxTotal(3);
  final String pattern=RndTestPatternGenerator.generateText();
  final int count=RndTestPatternGenerator.generateCount(1000);
  final Queue<Future<HttpResponse>> queue=new ConcurrentLinkedQueue<>();
  for (int i=0; i < 30; i++) {
    final BasicHttpRequest request=new BasicHttpRequest("HEAD",createRequestUri(pattern,count));
    final Future<HttpResponse> future=this.client.execute(target,request);
    queue.add(future);
  }
  while (!queue.isEmpty()) {
    final Future<HttpResponse> future=queue.remove();
    final HttpResponse response=future.get();
    Assert.assertNotNull(response);
    Assert.assertEquals(HttpStatus.SC_OK,response.getCode());
  }
}

</code></pre>

<br>
<pre class="type-11 type-14 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies whether objects are null
"></span><br>
@Test public void testResponseNoContent() throws Exception {
  this.server.registerHandler("*",new BasicAsyncRequestHandler(new HttpRequestHandler(){
    @Override public void handle(    final HttpRequest request,    final HttpResponse response,    final HttpContext context) throws HttpException, IOException {
      response.setStatusCode(HttpStatus.SC_NO_CONTENT);
    }
  }
));
  final HttpHost target=start();
  this.client.setMaxPerRoute(3);
  this.client.setMaxTotal(3);
  final Queue<Future<HttpResponse>> queue=new ConcurrentLinkedQueue<>();
  for (int i=0; i < 30; i++) {
    final BasicHttpRequest request=new BasicHttpRequest("GET","/");
    final Future<HttpResponse> future=this.client.execute(target,request);
    queue.add(future);
  }
  while (!queue.isEmpty()) {
    final Future<HttpResponse> future=queue.remove();
    final HttpResponse response=future.get();
    Assert.assertNotNull(response);
    Assert.assertNull(response.getEntity());
  }
}

</code></pre>

<br>
<pre class="type-11 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHttpPostsWithExpectationVerificationDelayedResponse() throws Exception {
  this.server.registerHandler("*",new BasicAsyncRequestHandler(new SimpleRequestHandler()));
  this.server.setExpectationVerifier(new HttpAsyncExpectationVerifier(){
    @Override public void verify(    final HttpAsyncExchange httpexchange,    final HttpContext context) throws HttpException {
      new Thread(){
        @Override public void run(){
          try {
            Thread.sleep(100);
          }
 catch (          final InterruptedException ie) {
          }
          final HttpRequest request=httpexchange.getRequest();
          ProtocolVersion ver=request.getRequestLine().getProtocolVersion();
          final String s=request.getRequestLine().getUri();
          if (!s.equals("AAAAAx10")) {
            if (!ver.lessEquals(HttpVersion.HTTP_1_1)) {
              ver=HttpVersion.HTTP_1_1;
            }
            final BasicHttpResponse response=new BasicHttpResponse(ver,HttpStatus.SC_EXPECTATION_FAILED,"Expectation failed");
            response.setEntity(new NStringEntity("Expectation failed",ContentType.TEXT_PLAIN));
            httpexchange.submitResponse(new BasicAsyncResponseProducer(response));
          }
 else {
            httpexchange.submitResponse();
          }
        }
      }
.start();
    }
  }
);
  final HttpHost target=start();
  final BasicHttpRequest request1=new BasicHttpRequest("POST",createRequestUri("AAAAA",10));
  request1.setEntity(new NStringEntity(createExpectedString("AAAAA",10)));
  final BasicHttpRequest request2=new BasicHttpRequest("POST",createRequestUri("AAAAA",10));
  request2.setEntity(new NStringEntity(createExpectedString("AAAAA",10)));
  final BasicHttpRequest request3=new BasicHttpRequest("POST",createRequestUri("BBBBB",10));
  request3.setEntity(new NStringEntity(createExpectedString("BBBBB",10)));
  final HttpRequest[] requests=new HttpRequest[]{request1,request2,request3};
  final Queue<Future<HttpResponse>> queue=new ConcurrentLinkedQueue<>();
  for (  final HttpRequest request : requests) {
    final HttpContext context=new BasicHttpContext();
    final Future<HttpResponse> future=this.client.execute(target,request,context);
    queue.add(future);
  }
  final Future<HttpResponse> future1=queue.remove();
  final HttpResponse response1=future1.get();
  Assert.assertEquals(HttpStatus.SC_OK,response1.getCode());
  final Future<HttpResponse> future2=queue.remove();
  final HttpResponse response2=future2.get();
  Assert.assertEquals(HttpStatus.SC_OK,response2.getCode());
  final Future<HttpResponse> future3=queue.remove();
  final HttpResponse response3=future3.get();
  Assert.assertEquals(HttpStatus.SC_EXPECTATION_FAILED,response3.getCode());
}

</code></pre>

<br>
<pre class="type-11 type-14 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHttpPostsWithContentLength() throws Exception {
  this.server.registerHandler("*",new BasicAsyncRequestHandler(new SimpleRequestHandler()));
  final HttpHost target=start();
  this.client.setMaxPerRoute(3);
  this.client.setMaxTotal(3);
  final String pattern=RndTestPatternGenerator.generateText();
  final int count=RndTestPatternGenerator.generateCount(1000);
  final String expectedPattern=createExpectedString(pattern,count);
  final Queue<Future<HttpResponse>> queue=new ConcurrentLinkedQueue<>();
  for (int i=0; i < 30; i++) {
    final BasicHttpRequest request=new BasicHttpRequest("POST",createRequestUri(pattern,count));
    final NStringEntity entity=new NStringEntity(expectedPattern,ContentType.DEFAULT_TEXT);
    request.setEntity(entity);
    final Future<HttpResponse> future=this.client.execute(target,request);
    queue.add(future);
  }
  while (!queue.isEmpty()) {
    final Future<HttpResponse> future=queue.remove();
    final HttpResponse response=future.get();
    Assert.assertNotNull(response);
    Assert.assertEquals(expectedPattern,EntityUtils.toString(response.getEntity()));
  }
}

</code></pre>

<br>
<pre class="type-11 type-14 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHttpPostsFailedExpectionConnectionReuse() throws Exception {
  this.server.registerHandler("*",new BasicAsyncRequestHandler(new SimpleRequestHandler()));
  this.server.setExpectationVerifier(new HttpAsyncExpectationVerifier(){
    @Override public void verify(    final HttpAsyncExchange httpexchange,    final HttpContext context) throws HttpException {
      new Thread(){
        @Override public void run(){
          final HttpRequest request=httpexchange.getRequest();
          ProtocolVersion ver=request.getRequestLine().getProtocolVersion();
          final String s=request.getRequestLine().getUri();
          if (!s.equals("AAAAAx10")) {
            if (!ver.lessEquals(HttpVersion.HTTP_1_1)) {
              ver=HttpVersion.HTTP_1_1;
            }
            final BasicHttpResponse response=new BasicHttpResponse(ver,HttpStatus.SC_EXPECTATION_FAILED,"Expectation failed");
            response.setEntity(new NStringEntity("Expectation failed",ContentType.TEXT_PLAIN));
            httpexchange.submitResponse(new BasicAsyncResponseProducer(response));
          }
 else {
            httpexchange.submitResponse();
          }
        }
      }
.start();
    }
  }
);
  this.client.setMaxPerRoute(1);
  this.client.setMaxTotal(1);
  final HttpHost target=start();
  for (int i=0; i < 10; i++) {
    final BasicHttpRequest request1=new BasicHttpRequest("POST",createRequestUri("AAAAA",10));
    final NStringEntity entity1=new NStringEntity(createExpectedString("AAAAA",10));
    entity1.setChunked(i % 2 == 0);
    request1.setEntity(entity1);
    final HttpContext context=new BasicHttpContext();
    final Future<HttpResponse> future1=this.client.execute(target,request1,context);
    final HttpResponse response1=future1.get();
    Assert.assertEquals(HttpStatus.SC_OK,response1.getCode());
    final BasicHttpRequest request2=new BasicHttpRequest("POST",createRequestUri("BBBBB",10));
    final NStringEntity entity2=new NStringEntity(createExpectedString("BBBBB",10));
    entity2.setChunked(i % 2 == 0);
    request2.setEntity(entity2);
    final Future<HttpResponse> future2=this.client.execute(target,request2,context);
    final HttpResponse response2=future2.get();
    Assert.assertEquals(HttpStatus.SC_EXPECTATION_FAILED,response2.getCode());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.integration.TestHttpAsyncHandlersBrokenExpectContinue </h4><pre class="type-11 type-14 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHttpPostsWithExpectationVerificationSendWithoutAck() throws Exception {
  this.server.registerHandler("*",new BasicAsyncRequestHandler(new SimpleRequestHandler()));
  this.server.setExpectationVerifier(new HttpAsyncExpectationVerifier(){
    @Override public void verify(    final HttpAsyncExchange httpexchange,    final HttpContext context) throws HttpException {
      try {
        Thread.sleep(1200);
      }
 catch (      final InterruptedException ignore) {
      }
      httpexchange.submitResponse();
    }
  }
);
  this.client.setMaxPerRoute(1);
  this.client.setMaxTotal(1);
  this.client.setWaitForContinue(1);
  final HttpHost target=start();
  for (int i=0; i < 2; i++) {
    final BasicHttpRequest request1=new BasicHttpRequest("POST",createRequestUri("AAAAA",10));
    final HttpEntity entity1=new NStringEntity(createExpectedString("AAAAA",1000));
    request1.setEntity(entity1);
    final HttpContext context=new BasicHttpContext();
    final Future<HttpResponse> future1=this.client.execute(target,request1,context);
    final HttpResponse response1=future1.get();
    Assert.assertEquals(HttpStatus.SC_OK,response1.getCode());
    final BasicHttpRequest request2=new BasicHttpRequest("POST",createRequestUri("BBBBB",10));
    final NStringEntity entity2=new NStringEntity(createExpectedString("BBBBB",1000));
    entity2.setChunked(true);
    request2.setEntity(entity2);
    final Future<HttpResponse> future2=this.client.execute(target,request2,context);
    final HttpResponse response2=future2.get();
    Assert.assertEquals(HttpStatus.SC_OK,response2.getCode());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.integration.TestHttpAsyncHandlersPipelining </h4><pre class="type-11 type-14 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHttpDelayedResponse() throws Exception {
class DelayedRequestHandler implements HttpAsyncRequestHandler<HttpRequest> {
    private final SimpleRequestHandler requestHandler;
    public DelayedRequestHandler(){
      super();
      this.requestHandler=new SimpleRequestHandler();
    }
    @Override public HttpAsyncRequestConsumer<HttpRequest> processRequest(    final HttpRequest request,    final HttpContext context){
      return new BasicAsyncRequestConsumer();
    }
    @Override public void handle(    final HttpRequest request,    final HttpAsyncExchange httpexchange,    final HttpContext context) throws HttpException, IOException {
      final BasicHttpResponse response=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"OK");
      new Thread(){
        @Override public void run(){
          try {
            Thread.sleep(100);
          }
 catch (          final InterruptedException ie) {
          }
          try {
            requestHandler.handle(request,response,context);
          }
 catch (          final Exception ex) {
            response.setStatusCode(HttpStatus.SC_INTERNAL_SERVER_ERROR);
          }
          httpexchange.submitResponse(new BasicAsyncResponseProducer(response));
        }
      }
.start();
    }
  }
  this.server.registerHandler("*",new DelayedRequestHandler());
  final HttpHost target=start();
  this.client.setMaxPerRoute(3);
  this.client.setMaxTotal(3);
  final String pattern1=RndTestPatternGenerator.generateText();
  final String pattern2=RndTestPatternGenerator.generateText();
  final String pattern3=RndTestPatternGenerator.generateText();
  final int count=RndTestPatternGenerator.generateCount(1000);
  final String expectedPattern1=createExpectedString(pattern1,count);
  final String expectedPattern2=createExpectedString(pattern2,count);
  final String expectedPattern3=createExpectedString(pattern3,count);
  final Queue<Future<List<HttpResponse>>> queue=new ConcurrentLinkedQueue<>();
  for (int i=0; i < 1; i++) {
    final HttpRequest request1=new BasicHttpRequest("GET",createRequestUri(pattern1,count));
    final HttpRequest request2=new BasicHttpRequest("POST",createRequestUri(pattern2,count));
    final NStringEntity entity2=new NStringEntity(expectedPattern2,ContentType.DEFAULT_TEXT);
    entity2.setChunked(RndTestPatternGenerator.generateBoolean());
    request2.setEntity(entity2);
    final HttpRequest request3=new BasicHttpRequest("POST",createRequestUri(pattern3,count));
    final NStringEntity entity3=new NStringEntity(expectedPattern3,ContentType.DEFAULT_TEXT);
    entity3.setChunked(RndTestPatternGenerator.generateBoolean());
    request3.setEntity(entity3);
    final Future<List<HttpResponse>> future=this.client.executePipelined(target,request1,request2,request3);
    queue.add(future);
  }
  while (!queue.isEmpty()) {
    final Future<List<HttpResponse>> future=queue.remove();
    final List<HttpResponse> responses=future.get();
    Assert.assertNotNull(responses);
    Assert.assertEquals(3,responses.size());
    for (    final HttpResponse response : responses) {
      Assert.assertEquals(HttpStatus.SC_OK,response.getCode());
    }
    Assert.assertEquals(expectedPattern1,EntityUtils.toString(responses.get(0).getEntity()));
    Assert.assertEquals(expectedPattern2,EntityUtils.toString(responses.get(1).getEntity()));
    Assert.assertEquals(expectedPattern3,EntityUtils.toString(responses.get(2).getEntity()));
  }
}

</code></pre>

<br>
<pre class="type-11 type-14 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHttpHeads() throws Exception {
  this.server.registerHandler("*",new BasicAsyncRequestHandler(new SimpleRequestHandler()));
  final HttpHost target=start();
  this.client.setMaxPerRoute(3);
  this.client.setMaxTotal(3);
  final String pattern=RndTestPatternGenerator.generateText();
  final int count=RndTestPatternGenerator.generateCount(1000);
  final Queue<Future<List<HttpResponse>>> queue=new ConcurrentLinkedQueue<>();
  for (int i=0; i < 10; i++) {
    final String requestUri=createRequestUri(pattern,count);
    final HttpRequest head1=new BasicHttpRequest("HEAD",requestUri);
    final HttpRequest head2=new BasicHttpRequest("HEAD",requestUri);
    final HttpRequest post1=new BasicHttpRequest("POST",requestUri);
    post1.setEntity(new NStringEntity("stuff",ContentType.TEXT_PLAIN));
    final Future<List<HttpResponse>> future=this.client.executePipelined(target,head1,head2,post1);
    queue.add(future);
  }
  while (!queue.isEmpty()) {
    final Future<List<HttpResponse>> future=queue.remove();
    final List<HttpResponse> responses=future.get();
    Assert.assertNotNull(responses);
    Assert.assertEquals(3,responses.size());
    for (    final HttpResponse response : responses) {
      Assert.assertEquals(HttpStatus.SC_OK,response.getCode());
    }
  }
}

</code></pre>

<br>
<pre class="type-11 type-14 type-1 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHttpPosts() throws Exception {
  this.server.registerHandler("*",new BasicAsyncRequestHandler(new SimpleRequestHandler()));
  final HttpHost target=start();
  this.client.setMaxPerRoute(3);
  this.client.setMaxTotal(3);
  final String pattern=RndTestPatternGenerator.generateText();
  final int count=RndTestPatternGenerator.generateCount(1000);
  final String expectedPattern=createExpectedString(pattern,count);
  final Queue<Future<List<HttpResponse>>> queue=new ConcurrentLinkedQueue<>();
  for (int i=0; i < 10; i++) {
    final String requestUri=createRequestUri(pattern,count);
    final HttpRequest request1=new BasicHttpRequest("POST",requestUri);
    final NStringEntity entity1=new NStringEntity(expectedPattern,ContentType.DEFAULT_TEXT);
    entity1.setChunked(RndTestPatternGenerator.generateBoolean());
    request1.setEntity(entity1);
    final HttpRequest request2=new BasicHttpRequest("POST",requestUri);
    final NStringEntity entity2=new NStringEntity(expectedPattern,ContentType.DEFAULT_TEXT);
    entity2.setChunked(RndTestPatternGenerator.generateBoolean());
    request2.setEntity(entity2);
    final HttpRequest request3=new BasicHttpRequest("POST",requestUri);
    final NStringEntity entity3=new NStringEntity(expectedPattern,ContentType.DEFAULT_TEXT);
    entity3.setChunked(RndTestPatternGenerator.generateBoolean());
    request3.setEntity(entity3);
    final Future<List<HttpResponse>> future=this.client.executePipelined(target,request1,request2,request3);
    queue.add(future);
  }
  while (!queue.isEmpty()) {
    final Future<List<HttpResponse>> future=queue.remove();
    final List<HttpResponse> responses=future.get();
    Assert.assertNotNull(responses);
    Assert.assertEquals(3,responses.size());
    for (    final HttpResponse response : responses) {
      Assert.assertEquals(HttpStatus.SC_OK,response.getCode());
      Assert.assertEquals(expectedPattern,EntityUtils.toString(response.getEntity()));
    }
  }
}

</code></pre>

<br>
<pre class="type-11 type-14 type-1 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnexpectedConnectionClosure() throws Exception {
  this.server.registerHandler("*",new BasicAsyncRequestHandler(new HttpRequestHandler(){
    @Override public void handle(    final HttpRequest request,    final HttpResponse response,    final HttpContext context) throws HttpException, IOException {
      response.setStatusCode(HttpStatus.SC_OK);
      response.setEntity(new StringEntity("all is well",ContentType.TEXT_PLAIN));
    }
  }
));
  this.server.registerHandler("/boom",new BasicAsyncRequestHandler(new HttpRequestHandler(){
    @Override public void handle(    final HttpRequest request,    final HttpResponse response,    final HttpContext context) throws HttpException, IOException {
      response.setStatusCode(HttpStatus.SC_INTERNAL_SERVER_ERROR);
      response.setHeader(HttpHeaders.CONNECTION,"Close");
      response.setEntity(new StringEntity("boooooom!!!!!",ContentType.TEXT_PLAIN));
    }
  }
));
  final HttpHost target=start();
  this.client.setMaxPerRoute(3);
  this.client.setMaxTotal(3);
  for (int i=0; i < 3; i++) {
    final HttpAsyncRequestProducer p1=new BasicAsyncRequestProducer(target,new BasicHttpRequest("GET","/"));
    final HttpAsyncRequestProducer p2=new BasicAsyncRequestProducer(target,new BasicHttpRequest("GET","/"));
    final HttpAsyncRequestProducer p3=new BasicAsyncRequestProducer(target,new BasicHttpRequest("GET","/boom"));
    final List<HttpAsyncRequestProducer> requestProducers=new ArrayList<>();
    requestProducers.add(p1);
    requestProducers.add(p2);
    requestProducers.add(p3);
    final HttpAsyncResponseConsumer<HttpResponse> c1=new BasicAsyncResponseConsumer();
    final HttpAsyncResponseConsumer<HttpResponse> c2=new BasicAsyncResponseConsumer();
    final HttpAsyncResponseConsumer<HttpResponse> c3=new BasicAsyncResponseConsumer();
    final List<HttpAsyncResponseConsumer<HttpResponse>> responseConsumers=new ArrayList<>();
    responseConsumers.add(c1);
    responseConsumers.add(c2);
    responseConsumers.add(c3);
    final Future<List<HttpResponse>> future=this.client.executePipelined(target,requestProducers,responseConsumers,null,null);
    try {
      future.get();
    }
 catch (    final ExecutionException ex) {
      final Throwable cause=ex.getCause();
      Assert.assertTrue(cause instanceof ConnectionClosedException);
    }
    Assert.assertTrue(c1.isDone());
    Assert.assertNotNull(c1.getResult());
    Assert.assertTrue(c2.isDone());
    Assert.assertNotNull(c2.getResult());
    Assert.assertTrue(c2.isDone());
    Assert.assertNotNull(c3.getResult());
  }
}

</code></pre>

<br>
<pre class="type-11 type-14 type-1 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHttpGets() throws Exception {
  this.server.registerHandler("*",new BasicAsyncRequestHandler(new SimpleRequestHandler()));
  final HttpHost target=start();
  this.client.setMaxPerRoute(3);
  this.client.setMaxTotal(3);
  final String pattern=RndTestPatternGenerator.generateText();
  final int count=RndTestPatternGenerator.generateCount(1000);
  final String expectedPattern=createExpectedString(pattern,count);
  final Queue<Future<List<HttpResponse>>> queue=new ConcurrentLinkedQueue<>();
  for (int i=0; i < 10; i++) {
    final String requestUri=createRequestUri(pattern,count);
    final Future<List<HttpResponse>> future=this.client.executePipelined(target,new BasicHttpRequest("GET",requestUri),new BasicHttpRequest("GET",requestUri),new BasicHttpRequest("GET",requestUri));
    queue.add(future);
  }
  while (!queue.isEmpty()) {
    final Future<List<HttpResponse>> future=queue.remove();
    final List<HttpResponse> responses=future.get();
    Assert.assertNotNull(responses);
    Assert.assertEquals(3,responses.size());
    for (    final HttpResponse response : responses) {
      Assert.assertEquals(HttpStatus.SC_OK,response.getCode());
      Assert.assertEquals(expectedPattern,EntityUtils.toString(response.getEntity()));
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.integration.TestSyncHttp </h4><pre class="type-11 type-14 type-1 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHttpContent() throws Exception {
  final String[] patterns={"0123456789ABCDEF","yadayada-blahblah-this-and-that-yadayada-blahblah-this-and-that-" + "yadayada-blahblah-this-and-that-yadayada-blahblah-this-and-that-" + "yadayada-blahblah-this-and-that-yadayada-blahblah-this-and-that-"+ "yadayada-blahblah-this-and-that-yadayada-blahblah-this-and-that-"+ "yadayada-blahblah-this-and-that-yadayada-blahblah-this-and-that-"+ "yadayada-blahblah-this-and-that-yadayada-blahblah-this-and-that-"+ "yadayada-blahblah-this-and-that-yadayada-blahblah-this-and-that-"+ "yadayada-blahblah-this-and-that-yadayada-blahblah-this-and-that-"+ "yadayada-blahblah-this-and-that-yadayada-blahblah-this-and-that-"+ "yadayada-blahblah-this-and-that-yadayada-blahblah-this-and-that-"+ "yadayada-blahblah-this-and-that-yadayada-blahblah-this-and-that-"+ "yadayada-blahblah-this-and-that-yadayada-blahblah-this-and-that-"+ "yadayada-blahblah-this-and-that-yadayada-blahblah-this-and-that-"+ "yadayada-blahblah-this-and-that-yadayada-blahblah-this-and-that-"+ "yadayada-blahblah-this-and-that-yadayada-blahblah-this-and-that"};
  this.server.registerHandler("*",new HttpRequestHandler(){
    @Override public void handle(    final HttpRequest request,    final HttpResponse response,    final HttpContext context) throws HttpException, IOException {
      if (request instanceof HttpRequest) {
        int n=1;
        String s=request.getRequestLine().getUri();
        if (s.startsWith("/?n=")) {
          s=s.substring(4);
          try {
            n=Integer.parseInt(s);
            if (n <= 0) {
              throw new HttpException("Invalid request: " + "number of repetitions cannot be negative or zero");
            }
          }
 catch (          final NumberFormatException ex) {
            throw new HttpException("Invalid request: " + "number of repetitions is invalid");
          }
        }
        final HttpEntity incoming=request.getEntity();
        if (incoming != null) {
          final String line=EntityUtils.toString(incoming);
          final ContentType contentType=ContentType.getOrDefault(incoming);
          Charset charset=contentType.getCharset();
          if (charset == null) {
            charset=StandardCharsets.ISO_8859_1;
          }
          final RepeatingEntity outgoing=new RepeatingEntity(line,charset,n);
          outgoing.setChunked(n % 2 == 0);
          response.setEntity(outgoing);
        }
      }
 else {
        throw new HttpException("Invalid request: POST request expected");
      }
    }
  }
);
  this.server.start();
  final DefaultBHttpClientConnection conn=client.createConnection();
  final HttpHost host=new HttpHost("localhost",this.server.getPort());
  try {
    for (    final String pattern : patterns) {
      for (int n=1000; n < 1020; n++) {
        if (!conn.isOpen()) {
          client.connect(host,conn);
        }
        final BasicHttpRequest post=new BasicHttpRequest("POST","/?n=" + n);
        final StringEntity outgoing=new StringEntity(pattern);
        outgoing.setChunked(n % 2 == 0);
        post.setEntity(outgoing);
        final HttpResponse response=this.client.execute(post,host,conn);
        final HttpEntity incoming=response.getEntity();
        Assert.assertNotNull(incoming);
        final InputStream instream=incoming.getContent();
        final ContentType contentType=ContentType.getOrDefault(incoming);
        Charset charset=contentType.getCharset();
        if (charset == null) {
          charset=StandardCharsets.ISO_8859_1;
        }
        Assert.assertNotNull(instream);
        final BufferedReader reader=new BufferedReader(new InputStreamReader(instream,charset));
        String line;
        int count=0;
        while ((line=reader.readLine()) != null) {
          Assert.assertEquals(pattern,line);
          count++;
        }
        Assert.assertEquals(n,count);
        if (!this.client.keepAlive(post,response)) {
          conn.close();
        }
      }
    }
  }
  finally {
    conn.close();
    this.server.shutdown();
  }
}

</code></pre>

<br>
<pre class="type-11 type-14 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * This test case executes a series of simple POST requests using
 * the 'expect: continue' handshake.
 */
@Test public void testHttpPostsWithExpectContinue() throws Exception {
  final int reqNo=20;
  final Random rnd=new Random();
  final List<byte[]> testData=new ArrayList<>(reqNo);
  for (int i=0; i < reqNo; i++) {
    final int size=rnd.nextInt(5000);
    final byte[] data=new byte[size];
    rnd.nextBytes(data);
    testData.add(data);
  }
  this.server.registerHandler("*",new HttpRequestHandler(){
    @Override public void handle(    final HttpRequest request,    final HttpResponse response,    final HttpContext context) throws HttpException, IOException {
      final HttpEntity incoming=request.getEntity();
      if (incoming != null) {
        final byte[] data=EntityUtils.toByteArray(incoming);
        final ByteArrayEntity outgoing=new ByteArrayEntity(data);
        outgoing.setChunked(true);
        response.setEntity(outgoing);
      }
    }
  }
);
  this.server.start();
  final DefaultBHttpClientConnection conn=client.createConnection();
  final HttpHost host=new HttpHost("localhost",this.server.getPort());
  try {
    for (int r=0; r < reqNo; r++) {
      if (!conn.isOpen()) {
        client.connect(host,conn);
      }
      final BasicHttpRequest post=new BasicHttpRequest("POST","/");
      final byte[] data=testData.get(r);
      final ByteArrayEntity outgoing=new ByteArrayEntity(data);
      outgoing.setChunked(true);
      post.setEntity(outgoing);
      final HttpResponse response=this.client.execute(post,host,conn);
      final byte[] received=EntityUtils.toByteArray(response.getEntity());
      final byte[] expected=testData.get(r);
      Assert.assertEquals(expected.length,received.length);
      for (int i=0; i < expected.length; i++) {
        Assert.assertEquals(expected[i],received[i]);
      }
      if (!this.client.keepAlive(post,response)) {
        conn.close();
      }
    }
    final HttpConnectionMetrics cm=conn.getMetrics();
    Assert.assertEquals(reqNo,cm.getRequestCount());
    Assert.assertEquals(reqNo,cm.getResponseCount());
  }
  finally {
    conn.close();
    this.server.shutdown();
  }
}

</code></pre>

<br>
<pre class="type-11 type-14 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * This test case executes a series of simple GET requests
 */
@Test public void testSimpleBasicHttpRequests() throws Exception {
  final int reqNo=20;
  final Random rnd=new Random();
  final List<byte[]> testData=new ArrayList<>(reqNo);
  for (int i=0; i < reqNo; i++) {
    final int size=rnd.nextInt(5000);
    final byte[] data=new byte[size];
    rnd.nextBytes(data);
    testData.add(data);
  }
  this.server.registerHandler("*",new HttpRequestHandler(){
    @Override public void handle(    final HttpRequest request,    final HttpResponse response,    final HttpContext context) throws HttpException, IOException {
      String s=request.getRequestLine().getUri();
      if (s.startsWith("/?")) {
        s=s.substring(2);
      }
      final int index=Integer.parseInt(s);
      final byte[] data=testData.get(index);
      final ByteArrayEntity entity=new ByteArrayEntity(data);
      response.setEntity(entity);
    }
  }
);
  this.server.start();
  final DefaultBHttpClientConnection conn=client.createConnection();
  final HttpHost host=new HttpHost("localhost",this.server.getPort());
  try {
    for (int r=0; r < reqNo; r++) {
      if (!conn.isOpen()) {
        client.connect(host,conn);
      }
      final BasicHttpRequest get=new BasicHttpRequest("GET","/?" + r);
      final HttpResponse response=this.client.execute(get,host,conn);
      final byte[] received=EntityUtils.toByteArray(response.getEntity());
      final byte[] expected=testData.get(r);
      Assert.assertEquals(expected.length,received.length);
      for (int i=0; i < expected.length; i++) {
        Assert.assertEquals(expected[i],received[i]);
      }
      if (!this.client.keepAlive(get,response)) {
        conn.close();
      }
    }
    final HttpConnectionMetrics cm=conn.getMetrics();
    Assert.assertEquals(reqNo,cm.getRequestCount());
    Assert.assertEquals(reqNo,cm.getResponseCount());
  }
  finally {
    conn.close();
    this.server.shutdown();
  }
}

</code></pre>

<br>
<pre class="type-11 type-14 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * This test case executes a series of simple POST requests with content length
 * delimited content.
 */
@Test public void testSimpleHttpPostsWithContentLength() throws Exception {
  final int reqNo=20;
  final Random rnd=new Random();
  final List<byte[]> testData=new ArrayList<>(reqNo);
  for (int i=0; i < reqNo; i++) {
    final int size=rnd.nextInt(5000);
    final byte[] data=new byte[size];
    rnd.nextBytes(data);
    testData.add(data);
  }
  this.server.registerHandler("*",new HttpRequestHandler(){
    @Override public void handle(    final HttpRequest request,    final HttpResponse response,    final HttpContext context) throws HttpException, IOException {
      final HttpEntity incoming=request.getEntity();
      if (incoming != null) {
        final byte[] data=EntityUtils.toByteArray(incoming);
        final ByteArrayEntity outgoing=new ByteArrayEntity(data);
        outgoing.setChunked(false);
        response.setEntity(outgoing);
      }
    }
  }
);
  this.server.start();
  final DefaultBHttpClientConnection conn=client.createConnection();
  final HttpHost host=new HttpHost("localhost",this.server.getPort());
  try {
    for (int r=0; r < reqNo; r++) {
      if (!conn.isOpen()) {
        client.connect(host,conn);
      }
      final BasicHttpRequest post=new BasicHttpRequest("POST","/");
      final byte[] data=testData.get(r);
      final ByteArrayEntity outgoing=new ByteArrayEntity(data);
      post.setEntity(outgoing);
      final HttpResponse response=this.client.execute(post,host,conn);
      final byte[] received=EntityUtils.toByteArray(response.getEntity());
      final byte[] expected=testData.get(r);
      Assert.assertEquals(expected.length,received.length);
      for (int i=0; i < expected.length; i++) {
        Assert.assertEquals(expected[i],received[i]);
      }
      if (!this.client.keepAlive(post,response)) {
        conn.close();
      }
    }
    final HttpConnectionMetrics cm=conn.getMetrics();
    Assert.assertEquals(reqNo,cm.getRequestCount());
    Assert.assertEquals(reqNo,cm.getResponseCount());
  }
  finally {
    conn.close();
    this.server.shutdown();
  }
}

</code></pre>

<br>
<pre class="type-11 type-14 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * This test case executes a series of simple POST requests with chunk
 * coded content content.
 */
@Test public void testSimpleHttpPostsChunked() throws Exception {
  final int reqNo=20;
  final Random rnd=new Random();
  final List<byte[]> testData=new ArrayList<>(reqNo);
  for (int i=0; i < reqNo; i++) {
    final int size=rnd.nextInt(20000);
    final byte[] data=new byte[size];
    rnd.nextBytes(data);
    testData.add(data);
  }
  this.server.registerHandler("*",new HttpRequestHandler(){
    @Override public void handle(    final HttpRequest request,    final HttpResponse response,    final HttpContext context) throws HttpException, IOException {
      final HttpEntity entity=request.getEntity();
      if (entity != null) {
        final byte[] data=EntityUtils.toByteArray(entity);
        final ByteArrayEntity outgoing=new ByteArrayEntity(data);
        outgoing.setChunked(true);
        response.setEntity(outgoing);
      }
    }
  }
);
  this.server.start();
  final DefaultBHttpClientConnection conn=client.createConnection();
  final HttpHost host=new HttpHost("localhost",this.server.getPort());
  try {
    for (int r=0; r < reqNo; r++) {
      if (!conn.isOpen()) {
        client.connect(host,conn);
      }
      final BasicHttpRequest post=new BasicHttpRequest("POST","/");
      final byte[] data=testData.get(r);
      final ByteArrayEntity outgoing=new ByteArrayEntity(data);
      outgoing.setChunked(true);
      post.setEntity(outgoing);
      final HttpResponse response=this.client.execute(post,host,conn);
      final byte[] received=EntityUtils.toByteArray(response.getEntity());
      final byte[] expected=testData.get(r);
      Assert.assertEquals(expected.length,received.length);
      for (int i=0; i < expected.length; i++) {
        Assert.assertEquals(expected[i],received[i]);
      }
      if (!this.client.keepAlive(post,response)) {
        conn.close();
      }
    }
    final HttpConnectionMetrics cm=conn.getMetrics();
    Assert.assertEquals(reqNo,cm.getRequestCount());
    Assert.assertEquals(reqNo,cm.getResponseCount());
  }
  finally {
    conn.close();
    this.server.shutdown();
  }
}

</code></pre>

<br>
<pre class="type-11 type-14 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * This test case executes a series of simple HTTP/1.0 POST requests.
 */
@Test public void testSimpleHttpPostsHTTP10() throws Exception {
  final int reqNo=20;
  final Random rnd=new Random();
  final List<byte[]> testData=new ArrayList<>(reqNo);
  for (int i=0; i < reqNo; i++) {
    final int size=rnd.nextInt(5000);
    final byte[] data=new byte[size];
    rnd.nextBytes(data);
    testData.add(data);
  }
  this.server.registerHandler("*",new HttpRequestHandler(){
    @Override public void handle(    final HttpRequest request,    final HttpResponse response,    final HttpContext context) throws HttpException, IOException {
      final HttpEntity incoming=request.getEntity();
      if (incoming != null) {
        final byte[] data=EntityUtils.toByteArray(incoming);
        final ByteArrayEntity outgoing=new ByteArrayEntity(data);
        outgoing.setChunked(false);
        response.setEntity(outgoing);
      }
    }
  }
);
  this.server.start();
  final DefaultBHttpClientConnection conn=client.createConnection();
  final HttpHost host=new HttpHost("localhost",this.server.getPort());
  try {
    for (int r=0; r < reqNo; r++) {
      if (!conn.isOpen()) {
        client.connect(host,conn);
      }
      final BasicHttpRequest post=new BasicHttpRequest("POST","/",HttpVersion.HTTP_1_0);
      final byte[] data=testData.get(r);
      final ByteArrayEntity outgoing=new ByteArrayEntity(data);
      post.setEntity(outgoing);
      final HttpResponse response=this.client.execute(post,host,conn);
      Assert.assertEquals(HttpVersion.HTTP_1_1,response.getStatusLine().getProtocolVersion());
      final byte[] received=EntityUtils.toByteArray(response.getEntity());
      final byte[] expected=testData.get(r);
      Assert.assertEquals(expected.length,received.length);
      for (int i=0; i < expected.length; i++) {
        Assert.assertEquals(expected[i],received[i]);
      }
      if (!this.client.keepAlive(post,response)) {
        conn.close();
      }
    }
    final HttpConnectionMetrics cm=conn.getMetrics();
    Assert.assertEquals(reqNo,cm.getRequestCount());
    Assert.assertEquals(reqNo,cm.getResponseCount());
  }
  finally {
    conn.close();
    this.server.shutdown();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.integration.TestTruncatedChunks </h4><pre class="type-11 type-9 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTruncatedChunkException() throws Exception {
  this.server.registerHandler("*",new BasicAsyncRequestHandler(new SimpleRequestHandler(true)));
  this.server.start();
  this.client.start();
  final ListenerEndpoint endpoint=this.server.getListenerEndpoint();
  endpoint.waitFor();
  final String pattern=RndTestPatternGenerator.generateText();
  final int count=RndTestPatternGenerator.generateCount(1000);
  final HttpHost target=new HttpHost("localhost",((InetSocketAddress)endpoint.getAddress()).getPort());
  final BasicHttpRequest request=new BasicHttpRequest("GET",pattern + "x" + count);
  final Future<HttpResponse> future=this.client.execute(target,request);
  try {
    future.get();
    Assert.fail("ExecutionException should have been thrown");
  }
 catch (  final ExecutionException ex) {
    final Throwable cause=ex.getCause();
    Assert.assertTrue(cause instanceof MalformedChunkCodingException);
  }
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIgnoreTruncatedChunkException() throws Exception {
  this.server.registerHandler("*",new BasicAsyncRequestHandler(new SimpleRequestHandler(true)));
  this.server.start();
  this.client.start();
  final ListenerEndpoint endpoint=this.server.getListenerEndpoint();
  endpoint.waitFor();
  final String pattern=RndTestPatternGenerator.generateText();
  final int count=RndTestPatternGenerator.generateCount(1000);
  final HttpHost target=new HttpHost("localhost",((InetSocketAddress)endpoint.getAddress()).getPort());
  final BasicHttpRequest request=new BasicHttpRequest("GET",pattern + "x" + count);
  final Future<HttpResponse> future=this.client.execute(new BasicAsyncRequestProducer(target,request),new LenientAsyncResponseConsumer(),null,null);
  final HttpResponse response=future.get();
  Assert.assertNotNull(response);
  Assert.assertEquals(HttpStatus.SC_OK,response.getCode());
  Assert.assertEquals(new String(GARBAGE,StandardCharsets.ISO_8859_1.name()),EntityUtils.toString(response.getEntity()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.message.TestBasicHeaderElementIterator </h4><pre class="type-11 type-9 type-3 type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultiHeader(){
  final Header[] headers=new Header[]{new BasicHeader("Name","value0"),new BasicHeader("Name","value1")};
  final Iterator<HeaderElement> hei=new BasicHeaderElementIterator(new BasicHeaderIterator(headers,"Name"));
  Assert.assertTrue(hei.hasNext());
  HeaderElement elem=hei.next();
  Assert.assertEquals("The two header values must be equal","value0",elem.getName());
  Assert.assertTrue(hei.hasNext());
  elem=hei.next();
  Assert.assertEquals("The two header values must be equal","value1",elem.getName());
  Assert.assertFalse(hei.hasNext());
  try {
    hei.next();
    Assert.fail("NoSuchElementException should have been thrown");
  }
 catch (  final NoSuchElementException ex) {
  }
  Assert.assertFalse(hei.hasNext());
  try {
    hei.next();
    Assert.fail("NoSuchElementException should have been thrown");
  }
 catch (  final NoSuchElementException ex) {
  }
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMultiHeaderSameLine(){
  final Header[] headers=new Header[]{new BasicHeader("name","value0,value1"),new BasicHeader("nAme","cookie1=1,cookie2=2")};
  final Iterator<HeaderElement> hei=new BasicHeaderElementIterator(new BasicHeaderIterator(headers,"Name"));
  HeaderElement elem=hei.next();
  Assert.assertEquals("The two header values must be equal","value0",elem.getName());
  elem=hei.next();
  Assert.assertEquals("The two header values must be equal","value1",elem.getName());
  elem=hei.next();
  Assert.assertEquals("The two header values must be equal","cookie1",elem.getName());
  Assert.assertEquals("The two header values must be equal","1",elem.getValue());
  elem=hei.next();
  Assert.assertEquals("The two header values must be equal","cookie2",elem.getName());
  Assert.assertEquals("The two header values must be equal","2",elem.getValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.message.TestBasicHeaderValueParser </h4><pre class="type-11 type-1 type-3 type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNVParseAll(){
  String s="test; test1 =  stuff   ; test2 =  \"stuff; stuff\"; test3=\"stuff";
  CharArrayBuffer buffer=new CharArrayBuffer(16);
  buffer.append(s);
  ParserCursor cursor=new ParserCursor(0,s.length());
  NameValuePair[] params=this.parser.parseParameters(buffer,cursor);
  Assert.assertEquals("test",params[0].getName());
  Assert.assertEquals(null,params[0].getValue());
  Assert.assertEquals("test1",params[1].getName());
  Assert.assertEquals("stuff",params[1].getValue());
  Assert.assertEquals("test2",params[2].getName());
  Assert.assertEquals("stuff; stuff",params[2].getValue());
  Assert.assertEquals("test3",params[3].getName());
  Assert.assertEquals("stuff",params[3].getValue());
  Assert.assertEquals(s.length(),cursor.getPos());
  Assert.assertTrue(cursor.atEnd());
  s="test; test1 =  stuff   ; test2 =  \"stuff; stuff\"; test3=\"stuff\",123";
  buffer=new CharArrayBuffer(16);
  buffer.append(s);
  cursor=new ParserCursor(0,s.length());
  params=this.parser.parseParameters(buffer,cursor);
  Assert.assertEquals("test",params[0].getName());
  Assert.assertEquals(null,params[0].getValue());
  Assert.assertEquals("test1",params[1].getName());
  Assert.assertEquals("stuff",params[1].getValue());
  Assert.assertEquals("test2",params[2].getName());
  Assert.assertEquals("stuff; stuff",params[2].getValue());
  Assert.assertEquals("test3",params[3].getName());
  Assert.assertEquals("stuff",params[3].getValue());
  Assert.assertEquals(s.length() - 3,cursor.getPos());
  Assert.assertFalse(cursor.atEnd());
  s="  ";
  buffer=new CharArrayBuffer(16);
  buffer.append(s);
  cursor=new ParserCursor(0,s.length());
  params=this.parser.parseParameters(buffer,cursor);
  Assert.assertEquals(0,params.length);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-3 type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNVParse(){
  String s="test";
  CharArrayBuffer buffer=new CharArrayBuffer(64);
  buffer.append(s);
  ParserCursor cursor=new ParserCursor(0,s.length());
  NameValuePair param=this.parser.parseNameValuePair(buffer,cursor);
  Assert.assertEquals("test",param.getName());
  Assert.assertEquals(null,param.getValue());
  Assert.assertEquals(s.length(),cursor.getPos());
  Assert.assertTrue(cursor.atEnd());
  s="test;";
  buffer=new CharArrayBuffer(16);
  buffer.append(s);
  cursor=new ParserCursor(0,s.length());
  param=this.parser.parseNameValuePair(buffer,cursor);
  Assert.assertEquals("test",param.getName());
  Assert.assertEquals(null,param.getValue());
  Assert.assertEquals(s.length(),cursor.getPos());
  Assert.assertTrue(cursor.atEnd());
  s="test  ,12";
  buffer=new CharArrayBuffer(16);
  buffer.append(s);
  cursor=new ParserCursor(0,s.length());
  param=this.parser.parseNameValuePair(buffer,cursor);
  Assert.assertEquals("test",param.getName());
  Assert.assertEquals(null,param.getValue());
  Assert.assertEquals(s.length() - 2,cursor.getPos());
  Assert.assertFalse(cursor.atEnd());
  s="test=stuff";
  buffer=new CharArrayBuffer(16);
  buffer.append(s);
  cursor=new ParserCursor(0,s.length());
  param=this.parser.parseNameValuePair(buffer,cursor);
  Assert.assertEquals("test",param.getName());
  Assert.assertEquals("stuff",param.getValue());
  Assert.assertEquals(s.length(),cursor.getPos());
  Assert.assertTrue(cursor.atEnd());
  s="   test  =   stuff ";
  buffer=new CharArrayBuffer(16);
  buffer.append(s);
  cursor=new ParserCursor(0,s.length());
  param=this.parser.parseNameValuePair(buffer,cursor);
  Assert.assertEquals("test",param.getName());
  Assert.assertEquals("stuff",param.getValue());
  Assert.assertEquals(s.length(),cursor.getPos());
  Assert.assertTrue(cursor.atEnd());
  s="   test  =   stuff ;1234";
  buffer=new CharArrayBuffer(16);
  buffer.append(s);
  cursor=new ParserCursor(0,s.length());
  param=this.parser.parseNameValuePair(buffer,cursor);
  Assert.assertEquals("test",param.getName());
  Assert.assertEquals("stuff",param.getValue());
  Assert.assertEquals(s.length() - 4,cursor.getPos());
  Assert.assertFalse(cursor.atEnd());
  s="test  = \"stuff\"";
  buffer=new CharArrayBuffer(16);
  buffer.append(s);
  cursor=new ParserCursor(0,s.length());
  param=this.parser.parseNameValuePair(buffer,cursor);
  Assert.assertEquals("test",param.getName());
  Assert.assertEquals("stuff",param.getValue());
  s="test  = \"  stuff\\\"\"";
  buffer=new CharArrayBuffer(16);
  buffer.append(s);
  cursor=new ParserCursor(0,s.length());
  param=this.parser.parseNameValuePair(buffer,cursor);
  Assert.assertEquals("test",param.getName());
  Assert.assertEquals("  stuff\"",param.getValue());
  s="  test";
  buffer=new CharArrayBuffer(16);
  buffer.append(s);
  cursor=new ParserCursor(0,s.length());
  param=this.parser.parseNameValuePair(buffer,cursor);
  Assert.assertEquals("test",param.getName());
  Assert.assertEquals(null,param.getValue());
  s="  ";
  buffer=new CharArrayBuffer(16);
  buffer.append(s);
  cursor=new ParserCursor(0,s.length());
  param=this.parser.parseNameValuePair(buffer,cursor);
  Assert.assertEquals("",param.getName());
  Assert.assertEquals(null,param.getValue());
  s=" = stuff ";
  buffer=new CharArrayBuffer(16);
  buffer.append(s);
  cursor=new ParserCursor(0,s.length());
  param=this.parser.parseNameValuePair(buffer,cursor);
  Assert.assertEquals("",param.getName());
  Assert.assertEquals("stuff",param.getValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.message.TestBufferedHeader </h4><pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSerialization() throws Exception {
  final CharArrayBuffer buf=new CharArrayBuffer(32);
  buf.append("name: value");
  final BufferedHeader orig=new BufferedHeader(buf,false);
  final ByteArrayOutputStream outbuffer=new ByteArrayOutputStream();
  final ObjectOutputStream outstream=new ObjectOutputStream(outbuffer);
  outstream.writeObject(orig);
  outstream.close();
  final byte[] raw=outbuffer.toByteArray();
  final ByteArrayInputStream inbuffer=new ByteArrayInputStream(raw);
  final ObjectInputStream instream=new ObjectInputStream(inbuffer);
  final BufferedHeader clone=(BufferedHeader)instream.readObject();
  Assert.assertEquals(orig.getName(),clone.getName());
  Assert.assertEquals(orig.getValue(),clone.getValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.message.TestHeader </h4><pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSerialization() throws Exception {
  final BasicHeader orig=new BasicHeader("name1","value1");
  final ByteArrayOutputStream outbuffer=new ByteArrayOutputStream();
  final ObjectOutputStream outstream=new ObjectOutputStream(outbuffer);
  outstream.writeObject(orig);
  outstream.close();
  final byte[] raw=outbuffer.toByteArray();
  final ByteArrayInputStream inbuffer=new ByteArrayInputStream(raw);
  final ObjectInputStream instream=new ObjectInputStream(inbuffer);
  final BasicHeader clone=(BasicHeader)instream.readObject();
  Assert.assertEquals(orig.getName(),clone.getName());
  Assert.assertEquals(orig.getValue(),clone.getValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.message.TestHeaderElement </h4><pre class="type-11 type-9 type-1 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParamByName() throws Exception {
  final String s="name = value; param1 = value1; param2 = value2";
  final CharArrayBuffer buf=new CharArrayBuffer(64);
  buf.append(s);
  final ParserCursor cursor=new ParserCursor(0,buf.length());
  final HeaderElement element=BasicHeaderValueParser.INSTANCE.parseHeaderElement(buf,cursor);
  Assert.assertEquals("value1",element.getParameterByName("param1").getValue());
  Assert.assertEquals("value2",element.getParameterByName("param2").getValue());
  Assert.assertNull(element.getParameterByName("param3"));
  try {
    element.getParameterByName(null);
    Assert.fail("IllegalArgumentException should have been thrown");
  }
 catch (  final IllegalArgumentException ex) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.message.TestHeaderGroup </h4><pre class="type-11 type-14 type-1 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSerialization() throws Exception {
  final HeaderGroup orig=new HeaderGroup();
  final Header header1=new BasicHeader("name","value1");
  final Header header2=new BasicHeader("name","value2");
  final Header header3=new BasicHeader("name","value3");
  orig.setHeaders(new Header[]{header1,header2,header3});
  final ByteArrayOutputStream outbuffer=new ByteArrayOutputStream();
  final ObjectOutputStream outstream=new ObjectOutputStream(outbuffer);
  outstream.writeObject(orig);
  outstream.close();
  final byte[] raw=outbuffer.toByteArray();
  final ByteArrayInputStream inbuffer=new ByteArrayInputStream(raw);
  final ObjectInputStream instream=new ObjectInputStream(inbuffer);
  final HeaderGroup clone=(HeaderGroup)instream.readObject();
  final Header[] headers1=orig.getAllHeaders();
  final Header[] headers2=clone.getAllHeaders();
  Assert.assertNotNull(headers1);
  Assert.assertNotNull(headers2);
  Assert.assertEquals(headers1.length,headers2.length);
  for (int i=0; i < headers1.length; i++) {
    Assert.assertEquals(headers1[i].getName(),headers2[i].getName());
    Assert.assertEquals(headers1[i].getValue(),headers2[i].getValue());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.message.TestRequestLine </h4><pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSerialization() throws Exception {
  final BasicRequestLine orig=new BasicRequestLine("GET","/stuff",HttpVersion.HTTP_1_1);
  final ByteArrayOutputStream outbuffer=new ByteArrayOutputStream();
  final ObjectOutputStream outstream=new ObjectOutputStream(outbuffer);
  outstream.writeObject(orig);
  outstream.close();
  final byte[] raw=outbuffer.toByteArray();
  final ByteArrayInputStream inbuffer=new ByteArrayInputStream(raw);
  final ObjectInputStream instream=new ObjectInputStream(inbuffer);
  final BasicRequestLine clone=(BasicRequestLine)instream.readObject();
  Assert.assertEquals(orig.getMethod(),clone.getMethod());
  Assert.assertEquals(orig.getUri(),clone.getUri());
  Assert.assertEquals(orig.getProtocolVersion(),clone.getProtocolVersion());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.message.TestStatusLine </h4><pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSerialization() throws Exception {
  final BasicStatusLine orig=new BasicStatusLine(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,"OK");
  final ByteArrayOutputStream outbuffer=new ByteArrayOutputStream();
  final ObjectOutputStream outstream=new ObjectOutputStream(outbuffer);
  outstream.writeObject(orig);
  outstream.close();
  final byte[] raw=outbuffer.toByteArray();
  final ByteArrayInputStream inbuffer=new ByteArrayInputStream(raw);
  final ObjectInputStream instream=new ObjectInputStream(inbuffer);
  final BasicStatusLine clone=(BasicStatusLine)instream.readObject();
  Assert.assertEquals(orig.getReasonPhrase(),clone.getReasonPhrase());
  Assert.assertEquals(orig.getStatusCode(),clone.getStatusCode());
  Assert.assertEquals(orig.getProtocolVersion(),clone.getProtocolVersion());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.message.TestTokenParser </h4><pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTokenParsingEscapedDelimiter() throws Exception {
  final String s="stuff\"\\\"more\\\";\"stuff;";
  final CharArrayBuffer raw=createBuffer(s);
  final ParserCursor cursor=new ParserCursor(0,s.length());
  final String result=parser.parseValue(raw,cursor,TokenParser.INIT_BITSET(';'));
  Assert.assertEquals("stuff\"more\";stuff",result);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTokenParsingSlashOutsideQuotes() throws Exception {
  final String s="stuff\\; more stuff;";
  final CharArrayBuffer raw=createBuffer(s);
  final ParserCursor cursor=new ParserCursor(0,s.length());
  final String result=parser.parseValue(raw,cursor,TokenParser.INIT_BITSET(';'));
  Assert.assertEquals("stuff\\",result);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTokenParsingEscapedQuotes() throws Exception {
  final String s="stuff\"\\\"more\\\"\"stuff;";
  final CharArrayBuffer raw=createBuffer(s);
  final ParserCursor cursor=new ParserCursor(0,s.length());
  final String result=parser.parseValue(raw,cursor,TokenParser.INIT_BITSET(';'));
  Assert.assertEquals("stuff\"more\"stuff",result);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTokenParsingTokensWithUnquotedBlanks() throws Exception {
  final String s="  stuff and   \tsome\tmore  stuff  ;";
  final CharArrayBuffer raw=createBuffer(s);
  final ParserCursor cursor=new ParserCursor(0,s.length());
  final String result=parser.parseToken(raw,cursor,TokenParser.INIT_BITSET(';'));
  Assert.assertEquals("stuff and some more stuff",result);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTokenParsingEscapedSlash() throws Exception {
  final String s="stuff\"\\\"more\\\";\\\\\"stuff;";
  final CharArrayBuffer raw=createBuffer(s);
  final ParserCursor cursor=new ParserCursor(0,s.length());
  final String result=parser.parseValue(raw,cursor,TokenParser.INIT_BITSET(';'));
  Assert.assertEquals("stuff\"more\";\\stuff",result);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTokenParsingMixedValuesAndQuotedValues() throws Exception {
  final String s="  stuff and    \" some more \"   \"stuff  ;";
  final CharArrayBuffer raw=createBuffer(s);
  final ParserCursor cursor=new ParserCursor(0,s.length());
  final String result=parser.parseValue(raw,cursor,TokenParser.INIT_BITSET(';'));
  Assert.assertEquals("stuff and  some more  stuff  ;",result);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-3 type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicTokenParsing() throws Exception {
  final String s="   raw: \" some stuff \"";
  final CharArrayBuffer raw=createBuffer(s);
  final ParserCursor cursor=new ParserCursor(0,s.length());
  parser.skipWhiteSpace(raw,cursor);
  Assert.assertFalse(cursor.atEnd());
  Assert.assertEquals(3,cursor.getPos());
  final StringBuilder strbuf1=new StringBuilder();
  parser.copyContent(raw,cursor,TokenParser.INIT_BITSET(':'),strbuf1);
  Assert.assertFalse(cursor.atEnd());
  Assert.assertEquals(6,cursor.getPos());
  Assert.assertEquals("raw",strbuf1.toString());
  Assert.assertEquals(':',raw.charAt(cursor.getPos()));
  cursor.updatePos(cursor.getPos() + 1);
  parser.skipWhiteSpace(raw,cursor);
  Assert.assertFalse(cursor.atEnd());
  Assert.assertEquals(8,cursor.getPos());
  final StringBuilder strbuf2=new StringBuilder();
  parser.copyQuotedContent(raw,cursor,strbuf2);
  Assert.assertTrue(cursor.atEnd());
  Assert.assertEquals(" some stuff ",strbuf2.toString());
  parser.copyQuotedContent(raw,cursor,strbuf2);
  Assert.assertTrue(cursor.atEnd());
  parser.skipWhiteSpace(raw,cursor);
  Assert.assertTrue(cursor.atEnd());
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTokenParsingMixedValuesAndQuotedValues2() throws Exception {
  final String s="stuff\"more\"stuff;";
  final CharArrayBuffer raw=createBuffer(s);
  final ParserCursor cursor=new ParserCursor(0,s.length());
  final String result=parser.parseValue(raw,cursor,TokenParser.INIT_BITSET(';'));
  Assert.assertEquals("stuffmorestuff",result);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-3 type-10 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTokenParsingWithQuotedPairs() throws Exception {
  final String s="raw: \"\\\"some\\stuff\\\\\"";
  final CharArrayBuffer raw=createBuffer(s);
  final ParserCursor cursor=new ParserCursor(0,s.length());
  parser.skipWhiteSpace(raw,cursor);
  Assert.assertFalse(cursor.atEnd());
  Assert.assertEquals(0,cursor.getPos());
  final StringBuilder strbuf1=new StringBuilder();
  parser.copyContent(raw,cursor,TokenParser.INIT_BITSET(':'),strbuf1);
  Assert.assertFalse(cursor.atEnd());
  Assert.assertEquals("raw",strbuf1.toString());
  Assert.assertEquals(':',raw.charAt(cursor.getPos()));
  cursor.updatePos(cursor.getPos() + 1);
  parser.skipWhiteSpace(raw,cursor);
  Assert.assertFalse(cursor.atEnd());
  final StringBuilder strbuf2=new StringBuilder();
  parser.copyQuotedContent(raw,cursor,strbuf2);
  Assert.assertTrue(cursor.atEnd());
  Assert.assertEquals("\"some\\stuff\\",strbuf2.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.pool.nio.TestBasicNIOConnPool </h4><pre class="type-11 type-1 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTimeoutOnLeaseRelease() throws Exception {
  final HttpHost host=new HttpHost("somehost");
  final SessionRequest sessionRequest=Mockito.mock(SessionRequest.class);
  Mockito.when(sessionRequest.getSession()).thenReturn(session);
  Mockito.when(sessionRequest.getAttachment()).thenReturn(host);
  Mockito.when(reactor.connect(Matchers.any(SocketAddress.class),Matchers.any(SocketAddress.class),Matchers.eq(host),Matchers.any(SessionRequestCallback.class))).thenReturn(sessionRequest);
  Mockito.when(session.getSocketTimeout()).thenReturn(999);
  final Future<BasicNIOPoolEntry> future1=pool.lease(host,null,10,TimeUnit.SECONDS,null);
  Mockito.verify(sessionRequest).setConnectTimeout(10000);
  pool.requestCompleted(sessionRequest);
  final BasicNIOPoolEntry entry1=future1.get();
  final NHttpClientConnection conn1=entry1.getConnection();
  Assert.assertNotNull(entry1);
  Assert.assertNotNull(conn1);
  Assert.assertEquals(999,entry1.getSocketTimeout());
  Assert.assertEquals(999,conn1.getSocketTimeout());
  Mockito.when(session.getSocketTimeout()).thenReturn(888);
  pool.release(entry1,true);
  Assert.assertEquals(888,entry1.getSocketTimeout());
  Mockito.verify(session).setSocketTimeout(0);
  final Future<BasicNIOPoolEntry> future2=pool.lease(host,null,10,TimeUnit.SECONDS,null);
  final BasicNIOPoolEntry entry2=future2.get();
  final NHttpClientConnection conn2=entry2.getConnection();
  Assert.assertNotNull(entry2);
  Assert.assertNotNull(conn2);
  Assert.assertEquals(888,entry1.getSocketTimeout());
  Mockito.verify(session).setSocketTimeout(888);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http.protocol.TestTrailerNameFormatter </h4><pre class="type-11 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTrailerFormatting() throws Exception {
  final HttpEntity entity=new HttpEntityWithTrailers(new StringEntity("some stuff with trailers",StandardCharsets.US_ASCII),new BasicHeader("z","this"),new BasicHeader("b","that"),new BasicHeader("a","this and that"));
  final Header header=TrailerNameFormatter.format(entity);
  Assert.assertNotNull(header);
  Assert.assertEquals("a, b, z",header.getValue());
}

</code></pre>

<br>
<pre class="type-11 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTrailerFormattingSameName() throws Exception {
  final HttpEntity entity=new HttpEntityWithTrailers(new StringEntity("some stuff with trailers",StandardCharsets.US_ASCII),new BasicHeader("a","this"),new BasicHeader("a","that"),new BasicHeader("a","this and that"));
  final Header header=TrailerNameFormatter.format(entity);
  Assert.assertNotNull(header);
  Assert.assertEquals("a",header.getValue());
}

</code></pre>

<br>
<pre class="type-11 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
"></span><br>
@Test public void testTrailerNullTrailers() throws Exception {
  final HttpEntity entity=new StringEntity("some stuff and no trailers",StandardCharsets.US_ASCII);
  final Header header=TrailerNameFormatter.format(entity);
  Assert.assertNull(header);
}

</code></pre>

<br>
<pre class="type-11 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
"></span><br>
@Test public void testTrailerNoTrailers() throws Exception {
  final HttpEntity entity=new HttpEntityWithTrailers(new StringEntity("some stuff and no trailers",StandardCharsets.US_ASCII));
  final Header header=TrailerNameFormatter.format(entity);
  Assert.assertNull(header);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.http2.impl.io.TestSessionInOutBuffers </h4><pre class="type-11 type-1 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReadWriteFrame() throws Exception {
  final ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  final SessionOutputBuffer outbuffer=new SessionOutputBufferImpl(16 * 1024);
  final ByteBufferFrame frame=new ByteBufferFrame(FrameType.DATA.getValue(),0,1L,ByteBuffer.wrap(new byte[]{1,2,3,4,5}));
  outbuffer.write(frame,outputStream);
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(16 * 1024);
  final byte[] bytes=outputStream.toByteArray();
  final ByteArrayInputStream inputStream=new ByteArrayInputStream(bytes);
  Assert.assertEquals(FrameConsts.HEAD_LEN + 5,bytes.length);
  Assert.assertEquals(1,outbuffer.getMetrics().getFramesTransferred());
  Assert.assertEquals(bytes.length,outbuffer.getMetrics().getBytesTransferred());
  final Frame<ByteBuffer> frame2=inbuffer.readFrame(inputStream);
  Assert.assertEquals(FrameType.DATA.getValue(),frame2.getType());
  Assert.assertEquals(0,frame2.getFlags());
  Assert.assertEquals(1L,frame2.getStreamId());
  final ByteBuffer payload2=frame2.getPayload();
  Assert.assertNotNull(payload2);
  Assert.assertEquals(5,payload2.remaining());
  Assert.assertEquals(1,payload2.get());
  Assert.assertEquals(2,payload2.get());
  Assert.assertEquals(3,payload2.get());
  Assert.assertEquals(4,payload2.get());
  Assert.assertEquals(5,payload2.get());
  Assert.assertEquals(-1,inputStream.read());
  Assert.assertEquals(1,inbuffer.getMetrics().getFramesTransferred());
  Assert.assertEquals(bytes.length,inbuffer.getMetrics().getBytesTransferred());
}

</code></pre>

<br>
<pre class="type-11 type-1 type-3 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReadWriteFrameWithPadding() throws Exception {
  final ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  final SessionOutputBuffer outbuffer=new SessionOutputBufferImpl(16 * 1024);
  final ByteBufferFrame frame=new ByteBufferFrame(FrameType.DATA.getValue(),FrameFlag.of(FrameFlag.PADDED),1L,ByteBuffer.wrap(new byte[]{1,2,3,4,5}));
  outbuffer.write(frame,outputStream);
  final SessionInputBuffer inbuffer=new SessionInputBufferImpl(16 * 1024);
  final byte[] bytes=outputStream.toByteArray();
  final ByteArrayInputStream inputStream=new ByteArrayInputStream(bytes);
  Assert.assertTrue(bytes.length > FrameConsts.HEAD_LEN + 1 + 5);
  Assert.assertEquals(1,outbuffer.getMetrics().getFramesTransferred());
  Assert.assertEquals(bytes.length,outbuffer.getMetrics().getBytesTransferred());
  final Frame<ByteBuffer> frame2=inbuffer.readFrame(inputStream);
  Assert.assertEquals(FrameType.DATA.getValue(),frame2.getType());
  Assert.assertEquals(FrameFlag.PADDED.getValue(),frame2.getFlags());
  Assert.assertEquals(1L,frame2.getStreamId());
  final ByteBuffer payload2=frame2.getPayload();
  Assert.assertNotNull(payload2);
  Assert.assertEquals(5,payload2.remaining());
  Assert.assertEquals(1,payload2.get());
  Assert.assertEquals(2,payload2.get());
  Assert.assertEquals(3,payload2.get());
  Assert.assertEquals(4,payload2.get());
  Assert.assertEquals(5,payload2.get());
  Assert.assertEquals(-1,inputStream.read());
  Assert.assertEquals(1,inbuffer.getMetrics().getFramesTransferred());
  Assert.assertEquals(bytes.length,inbuffer.getMetrics().getBytesTransferred());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.pool.io.TestConnPool </h4><pre class="type-11 type-1 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateNewIfExpired() throws Exception {
  final LocalConnFactory connFactory=Mockito.mock(LocalConnFactory.class);
  final BHttpConnection conn1=Mockito.mock(BHttpConnection.class);
  Mockito.when(conn1.isOpen()).thenReturn(true);
  Mockito.when(connFactory.create(Mockito.eq("somehost"))).thenReturn(conn1);
  final LocalConnPool pool=new LocalConnPool(connFactory,2,2);
  final Future<LocalPoolEntry> future1=pool.lease("somehost",null);
  final LocalPoolEntry entry1=future1.get(1,TimeUnit.SECONDS);
  Assert.assertNotNull(entry1);
  Mockito.verify(connFactory,Mockito.times(1)).create(Mockito.eq("somehost"));
  entry1.updateExpiry(1,TimeUnit.MILLISECONDS);
  pool.release(entry1,true);
  Thread.sleep(200L);
  final Future<LocalPoolEntry> future2=pool.lease("somehost",null);
  final LocalPoolEntry entry2=future2.get(1,TimeUnit.SECONDS);
  Assert.assertNotNull(entry2);
  Mockito.verify(connFactory,Mockito.times(2)).create(Mockito.eq("somehost"));
  final PoolStats totals=pool.getTotalStats();
  Assert.assertEquals(0,totals.getAvailable());
  Assert.assertEquals(1,totals.getLeased());
  Assert.assertEquals(Collections.singleton("somehost"),pool.getRoutes());
  final PoolStats stats=pool.getStats("somehost");
  Assert.assertEquals(0,stats.getAvailable());
  Assert.assertEquals(1,stats.getLeased());
}

</code></pre>

<br>
<pre class="type-11 type-1 type-7 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testValidateConnectionNotStale() throws Exception {
  final BHttpConnection conn=Mockito.mock(BHttpConnection.class);
  Mockito.when(conn.isOpen()).thenReturn(true);
  Mockito.when(conn.isStale()).thenReturn(false);
  final LocalConnFactory connFactory=Mockito.mock(LocalConnFactory.class);
  Mockito.when(connFactory.create(Mockito.eq("somehost"))).thenReturn(conn);
  final LocalConnPool pool=new LocalConnPool(connFactory,2,10);
  pool.setValidateAfterInactivity(5);
  final Future<LocalPoolEntry> future1=pool.lease("somehost",null);
  final LocalPoolEntry entry1=future1.get(1,TimeUnit.SECONDS);
  Assert.assertNotNull(entry1);
  pool.release(entry1,true);
  Thread.sleep(10);
  final Future<LocalPoolEntry> future2=pool.lease("somehost",null);
  final LocalPoolEntry entry2=future2.get(1,TimeUnit.SECONDS);
  Assert.assertNotNull(entry2);
  Assert.assertSame(entry1,entry2);
  Mockito.verify(conn,Mockito.times(1)).isStale();
}

</code></pre>

<br>
<pre class="type-11 type-9 type-1 type-3 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testShutdown() throws Exception {
  final LocalConnFactory connFactory=Mockito.mock(LocalConnFactory.class);
  final BHttpConnection conn1=Mockito.mock(BHttpConnection.class);
  Mockito.when(conn1.isOpen()).thenReturn(true);
  Mockito.when(connFactory.create(Mockito.eq("somehost"))).thenReturn(conn1);
  final BHttpConnection conn2=Mockito.mock(BHttpConnection.class);
  Mockito.when(conn2.isOpen()).thenReturn(true);
  Mockito.when(connFactory.create(Mockito.eq("otherhost"))).thenReturn(conn2);
  final LocalConnPool pool=new LocalConnPool(connFactory,2,2);
  final Future<LocalPoolEntry> future1=pool.lease("somehost",null);
  final LocalPoolEntry entry1=future1.get(1,TimeUnit.SECONDS);
  Assert.assertNotNull(entry1);
  final Future<LocalPoolEntry> future2=pool.lease("otherhost",null);
  final LocalPoolEntry entry2=future2.get(1,TimeUnit.SECONDS);
  Assert.assertNotNull(entry2);
  pool.release(entry2,true);
  final PoolStats totals=pool.getTotalStats();
  Assert.assertEquals(1,totals.getAvailable());
  Assert.assertEquals(1,totals.getLeased());
  pool.shutdown();
  Assert.assertTrue(pool.isShutdown());
  pool.shutdown();
  pool.shutdown();
  Mockito.verify(conn1,Mockito.atLeastOnce()).close();
  Mockito.verify(conn2,Mockito.atLeastOnce()).close();
  try {
    pool.lease("somehost",null);
    Assert.fail("IllegalStateException should have been thrown");
  }
 catch (  final IllegalStateException expected) {
  }
  pool.release(new LocalPoolEntry("somehost",Mockito.mock(BHttpConnection.class)),true);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testLeaseIOException() throws Exception {
  final LocalConnFactory connFactory=Mockito.mock(LocalConnFactory.class);
  Mockito.doThrow(new IOException("Oppsie")).when(connFactory).create("somehost");
  final LocalConnPool pool=new LocalConnPool(connFactory,2,10);
  final Future<LocalPoolEntry> future1=pool.lease("somehost",null);
  final GetPoolEntryThread t1=new GetPoolEntryThread(future1);
  t1.start();
  t1.join(GRACE_PERIOD);
  Assert.assertTrue(future1.isDone());
  Assert.assertTrue(t1.getException() instanceof ExecutionException);
  Assert.assertTrue(t1.getException().getCause() instanceof IOException);
  Assert.assertFalse(future1.isCancelled());
}

</code></pre>

<br>
<pre class="type-11 type-1 type-7 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testValidateConnectionStale() throws Exception {
  final BHttpConnection conn=Mockito.mock(BHttpConnection.class);
  Mockito.when(conn.isOpen()).thenReturn(true);
  Mockito.when(conn.isStale()).thenReturn(false);
  final LocalConnFactory connFactory=Mockito.mock(LocalConnFactory.class);
  Mockito.when(connFactory.create(Mockito.eq("somehost"))).thenReturn(conn);
  final LocalConnPool pool=new LocalConnPool(connFactory,2,10);
  pool.setValidateAfterInactivity(5);
  final Future<LocalPoolEntry> future1=pool.lease("somehost",null);
  final LocalPoolEntry entry1=future1.get(1,TimeUnit.SECONDS);
  Assert.assertNotNull(entry1);
  pool.release(entry1,true);
  Thread.sleep(10);
  Mockito.verify(connFactory,Mockito.times(1)).create("somehost");
  Mockito.when(conn.isStale()).thenReturn(true);
  final Future<LocalPoolEntry> future2=pool.lease("somehost",null);
  final LocalPoolEntry entry2=future2.get(1,TimeUnit.SECONDS);
  Assert.assertNotNull(entry2);
  Assert.assertNotSame(entry1,entry2);
  Mockito.verify(conn,Mockito.times(1)).isStale();
  Mockito.verify(conn,Mockito.times(1)).close();
  Mockito.verify(connFactory,Mockito.times(2)).create("somehost");
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCloseExpired() throws Exception {
  final LocalConnFactory connFactory=Mockito.mock(LocalConnFactory.class);
  final BHttpConnection conn1=Mockito.mock(BHttpConnection.class);
  Mockito.when(conn1.isOpen()).thenReturn(Boolean.FALSE);
  final BHttpConnection conn2=Mockito.mock(BHttpConnection.class);
  Mockito.when(conn2.isOpen()).thenReturn(Boolean.TRUE);
  Mockito.when(connFactory.create(Mockito.eq("somehost"))).thenReturn(conn1,conn2);
  final LocalConnPool pool=new LocalConnPool(connFactory,2,2);
  final Future<LocalPoolEntry> future1=pool.lease("somehost",null);
  final LocalPoolEntry entry1=future1.get(1,TimeUnit.SECONDS);
  Assert.assertNotNull(entry1);
  final Future<LocalPoolEntry> future2=pool.lease("somehost",null);
  final LocalPoolEntry entry2=future2.get(1,TimeUnit.SECONDS);
  Assert.assertNotNull(entry2);
  entry1.updateExpiry(1,TimeUnit.MILLISECONDS);
  pool.release(entry1,true);
  Thread.sleep(200);
  entry2.updateExpiry(1000,TimeUnit.SECONDS);
  pool.release(entry2,true);
  pool.closeExpired();
  Mockito.verify(conn1).close();
  Mockito.verify(conn2,Mockito.never()).close();
  final PoolStats totals=pool.getTotalStats();
  Assert.assertEquals(1,totals.getAvailable());
  Assert.assertEquals(0,totals.getLeased());
  final PoolStats stats=pool.getStats("somehost");
  Assert.assertEquals(1,stats.getAvailable());
  Assert.assertEquals(0,stats.getLeased());
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCloseIdle() throws Exception {
  final LocalConnFactory connFactory=Mockito.mock(LocalConnFactory.class);
  final BHttpConnection conn1=Mockito.mock(BHttpConnection.class);
  Mockito.when(conn1.isOpen()).thenReturn(true);
  final BHttpConnection conn2=Mockito.mock(BHttpConnection.class);
  Mockito.when(conn2.isOpen()).thenReturn(true);
  Mockito.when(connFactory.create(Mockito.eq("somehost"))).thenReturn(conn1,conn2);
  final LocalConnPool pool=new LocalConnPool(connFactory,2,2);
  final Future<LocalPoolEntry> future1=pool.lease("somehost",null);
  final LocalPoolEntry entry1=future1.get(1,TimeUnit.SECONDS);
  Assert.assertNotNull(entry1);
  final Future<LocalPoolEntry> future2=pool.lease("somehost",null);
  final LocalPoolEntry entry2=future2.get(1,TimeUnit.SECONDS);
  Assert.assertNotNull(entry2);
  entry1.updateExpiry(0,TimeUnit.MILLISECONDS);
  pool.release(entry1,true);
  Thread.sleep(200L);
  entry2.updateExpiry(0,TimeUnit.MILLISECONDS);
  pool.release(entry2,true);
  pool.closeIdle(50,TimeUnit.MILLISECONDS);
  Mockito.verify(conn1).close();
  Mockito.verify(conn2,Mockito.never()).close();
  PoolStats totals=pool.getTotalStats();
  Assert.assertEquals(1,totals.getAvailable());
  Assert.assertEquals(0,totals.getLeased());
  PoolStats stats=pool.getStats("somehost");
  Assert.assertEquals(1,stats.getAvailable());
  Assert.assertEquals(0,stats.getLeased());
  pool.closeIdle(-1,TimeUnit.MILLISECONDS);
  Mockito.verify(conn2).close();
  totals=pool.getTotalStats();
  Assert.assertEquals(0,totals.getAvailable());
  Assert.assertEquals(0,totals.getLeased());
  stats=pool.getStats("somehost");
  Assert.assertEquals(0,stats.getAvailable());
  Assert.assertEquals(0,stats.getLeased());
}

</code></pre>

<br>
<pre class="type-11 type-1 type-7 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLeaseRelease() throws Exception {
  final BHttpConnection conn1=Mockito.mock(BHttpConnection.class);
  Mockito.when(conn1.isOpen()).thenReturn(true);
  final BHttpConnection conn2=Mockito.mock(BHttpConnection.class);
  Mockito.when(conn2.isOpen()).thenReturn(true);
  final LocalConnFactory connFactory=Mockito.mock(LocalConnFactory.class);
  Mockito.when(connFactory.create(Mockito.eq("somehost"))).thenReturn(conn1);
  Mockito.when(connFactory.create(Mockito.eq("otherhost"))).thenReturn(conn2);
  final LocalConnPool pool=new LocalConnPool(connFactory,2,10);
  final Future<LocalPoolEntry> future1=pool.lease("somehost",null);
  final LocalPoolEntry entry1=future1.get(1,TimeUnit.SECONDS);
  Assert.assertNotNull(entry1);
  final Future<LocalPoolEntry> future2=pool.lease("somehost",null);
  final LocalPoolEntry entry2=future2.get(1,TimeUnit.SECONDS);
  Assert.assertNotNull(entry2);
  final Future<LocalPoolEntry> future3=pool.lease("otherhost",null);
  final LocalPoolEntry entry3=future3.get(1,TimeUnit.SECONDS);
  Assert.assertNotNull(entry3);
  PoolStats totals=pool.getTotalStats();
  Assert.assertEquals(0,totals.getAvailable());
  Assert.assertEquals(3,totals.getLeased());
  final LocalPoolEntry entry=future1.get();
  Assert.assertSame(entry1,entry);
  pool.release(entry1,true);
  pool.release(entry2,true);
  pool.release(entry3,false);
  Mockito.verify(conn1,Mockito.never()).close();
  Mockito.verify(conn2,Mockito.times(1)).close();
  totals=pool.getTotalStats();
  Assert.assertEquals(2,totals.getAvailable());
  Assert.assertEquals(0,totals.getLeased());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.pool.nio.TestNIOConnPool </h4><pre class="type-11 type-1 type-3 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMaxLimits() throws Exception {
  final IOSession iosession1=Mockito.mock(IOSession.class);
  final SessionRequest sessionRequest1=Mockito.mock(SessionRequest.class);
  Mockito.when(sessionRequest1.getAttachment()).thenReturn("somehost");
  Mockito.when(sessionRequest1.getSession()).thenReturn(iosession1);
  final IOSession iosession2=Mockito.mock(IOSession.class);
  final SessionRequest sessionRequest2=Mockito.mock(SessionRequest.class);
  Mockito.when(sessionRequest2.getAttachment()).thenReturn("otherhost");
  Mockito.when(sessionRequest2.getSession()).thenReturn(iosession2);
  final ConnectingIOReactor ioreactor=Mockito.mock(ConnectingIOReactor.class);
  Mockito.when(ioreactor.connect(Matchers.eq(InetSocketAddress.createUnresolved("somehost",80)),Matchers.any(SocketAddress.class),Matchers.any(),Matchers.any(SessionRequestCallback.class))).thenReturn(sessionRequest1);
  Mockito.when(ioreactor.connect(Matchers.eq(InetSocketAddress.createUnresolved("otherhost",80)),Matchers.any(SocketAddress.class),Matchers.any(),Matchers.any(SessionRequestCallback.class))).thenReturn(sessionRequest2);
  final LocalSessionPool pool=new LocalSessionPool(ioreactor,2,10);
  pool.setMaxPerRoute("somehost",2);
  pool.setMaxPerRoute("otherhost",1);
  pool.setMaxTotal(3);
  final Future<LocalPoolEntry> future1=pool.lease("somehost",null);
  pool.requestCompleted(sessionRequest1);
  final Future<LocalPoolEntry> future2=pool.lease("somehost",null);
  pool.requestCompleted(sessionRequest1);
  final Future<LocalPoolEntry> future3=pool.lease("otherhost",null);
  pool.requestCompleted(sessionRequest2);
  final LocalPoolEntry entry1=future1.get();
  Assert.assertNotNull(entry1);
  final LocalPoolEntry entry2=future2.get();
  Assert.assertNotNull(entry2);
  final LocalPoolEntry entry3=future3.get();
  Assert.assertNotNull(entry3);
  pool.release(entry1,true);
  pool.release(entry2,true);
  pool.release(entry3,true);
  final PoolStats totals=pool.getTotalStats();
  Assert.assertEquals(3,totals.getAvailable());
  Assert.assertEquals(0,totals.getLeased());
  Assert.assertEquals(0,totals.getPending());
  final Future<LocalPoolEntry> future4=pool.lease("somehost",null);
  final Future<LocalPoolEntry> future5=pool.lease("somehost",null);
  final Future<LocalPoolEntry> future6=pool.lease("otherhost",null);
  final Future<LocalPoolEntry> future7=pool.lease("somehost",null);
  final Future<LocalPoolEntry> future8=pool.lease("somehost",null);
  final Future<LocalPoolEntry> future9=pool.lease("otherhost",null);
  Assert.assertTrue(future4.isDone());
  final LocalPoolEntry entry4=future4.get();
  Assert.assertNotNull(entry4);
  Assert.assertTrue(future5.isDone());
  final LocalPoolEntry entry5=future5.get();
  Assert.assertNotNull(entry5);
  Assert.assertTrue(future6.isDone());
  final LocalPoolEntry entry6=future6.get();
  Assert.assertNotNull(entry6);
  Assert.assertFalse(future7.isDone());
  Assert.assertFalse(future8.isDone());
  Assert.assertFalse(future9.isDone());
  Mockito.verify(ioreactor,Mockito.times(3)).connect(Matchers.any(SocketAddress.class),Matchers.any(SocketAddress.class),Matchers.any(),Matchers.any(SessionRequestCallback.class));
  pool.release(entry4,true);
  pool.release(entry5,false);
  pool.release(entry6,true);
  Assert.assertTrue(future7.isDone());
  Assert.assertFalse(future8.isDone());
  Assert.assertTrue(future9.isDone());
  Mockito.verify(ioreactor,Mockito.times(4)).connect(Matchers.any(SocketAddress.class),Matchers.any(SocketAddress.class),Matchers.any(),Matchers.any(SessionRequestCallback.class));
}

</code></pre>

<br>
<pre class="type-11 type-1 type-3 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLeaseRequestTimeout() throws Exception {
  final IOSession iosession1=Mockito.mock(IOSession.class);
  Mockito.when(iosession1.isClosed()).thenReturn(Boolean.TRUE);
  final SessionRequest sessionRequest1=Mockito.mock(SessionRequest.class);
  Mockito.when(sessionRequest1.getAttachment()).thenReturn("somehost");
  Mockito.when(sessionRequest1.getSession()).thenReturn(iosession1);
  final ConnectingIOReactor ioreactor=Mockito.mock(ConnectingIOReactor.class);
  Mockito.when(ioreactor.connect(Matchers.any(SocketAddress.class),Matchers.any(SocketAddress.class),Matchers.any(),Matchers.any(SessionRequestCallback.class))).thenReturn(sessionRequest1);
  final LocalSessionPool pool=new LocalSessionPool(ioreactor,1,1);
  final Future<LocalPoolEntry> future1=pool.lease("somehost",null,0,TimeUnit.MILLISECONDS,null);
  final Future<LocalPoolEntry> future2=pool.lease("somehost",null,0,TimeUnit.MILLISECONDS,null);
  final Future<LocalPoolEntry> future3=pool.lease("somehost",null,10,TimeUnit.MILLISECONDS,null);
  pool.requestCompleted(sessionRequest1);
  Assert.assertTrue(future1.isDone());
  final LocalPoolEntry entry1=future1.get();
  Assert.assertNotNull(entry1);
  Assert.assertFalse(future2.isDone());
  Assert.assertFalse(future3.isDone());
  Thread.sleep(100);
  pool.validatePendingRequests();
  Assert.assertFalse(future2.isDone());
  Assert.assertTrue(future3.isDone());
}

</code></pre>

<br>
<pre class="type-11 type-1 type-3 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStatefulConnectionRedistributionOnPerRouteMaxLimit() throws Exception {
  final IOSession iosession1=Mockito.mock(IOSession.class);
  final SessionRequest sessionRequest1=Mockito.mock(SessionRequest.class);
  Mockito.when(sessionRequest1.getAttachment()).thenReturn("somehost");
  Mockito.when(sessionRequest1.getSession()).thenReturn(iosession1);
  final IOSession iosession2=Mockito.mock(IOSession.class);
  final SessionRequest sessionRequest2=Mockito.mock(SessionRequest.class);
  Mockito.when(sessionRequest2.getAttachment()).thenReturn("somehost");
  Mockito.when(sessionRequest2.getSession()).thenReturn(iosession2);
  final IOSession iosession3=Mockito.mock(IOSession.class);
  final SessionRequest sessionRequest3=Mockito.mock(SessionRequest.class);
  Mockito.when(sessionRequest3.getAttachment()).thenReturn("somehost");
  Mockito.when(sessionRequest3.getSession()).thenReturn(iosession3);
  final ConnectingIOReactor ioreactor=Mockito.mock(ConnectingIOReactor.class);
  Mockito.when(ioreactor.connect(Matchers.eq(InetSocketAddress.createUnresolved("somehost",80)),Matchers.any(SocketAddress.class),Matchers.any(),Matchers.any(SessionRequestCallback.class))).thenReturn(sessionRequest1,sessionRequest2,sessionRequest3);
  final LocalSessionPool pool=new LocalSessionPool(ioreactor,2,10);
  pool.setMaxPerRoute("somehost",2);
  pool.setMaxTotal(2);
  final Future<LocalPoolEntry> future1=pool.lease("somehost",null);
  final Future<LocalPoolEntry> future2=pool.lease("somehost",null);
  Mockito.verify(ioreactor,Mockito.times(2)).connect(Matchers.eq(InetSocketAddress.createUnresolved("somehost",80)),Matchers.any(SocketAddress.class),Matchers.any(),Matchers.any(SessionRequestCallback.class));
  pool.requestCompleted(sessionRequest1);
  pool.requestCompleted(sessionRequest2);
  Assert.assertTrue(future1.isDone());
  final LocalPoolEntry entry1=future1.get();
  Assert.assertNotNull(entry1);
  Assert.assertTrue(future2.isDone());
  final LocalPoolEntry entry2=future2.get();
  Assert.assertNotNull(entry2);
  PoolStats totals=pool.getTotalStats();
  Assert.assertEquals(0,totals.getAvailable());
  Assert.assertEquals(2,totals.getLeased());
  Assert.assertEquals(0,totals.getPending());
  entry1.setState("some-stuff");
  pool.release(entry1,true);
  entry2.setState("some-stuff");
  pool.release(entry2,true);
  final Future<LocalPoolEntry> future3=pool.lease("somehost","some-stuff");
  final Future<LocalPoolEntry> future4=pool.lease("somehost","some-stuff");
  Assert.assertTrue(future1.isDone());
  final LocalPoolEntry entry3=future3.get();
  Assert.assertNotNull(entry3);
  Assert.assertTrue(future4.isDone());
  final LocalPoolEntry entry4=future4.get();
  Assert.assertNotNull(entry4);
  Mockito.verify(ioreactor,Mockito.times(2)).connect(Matchers.eq(InetSocketAddress.createUnresolved("somehost",80)),Matchers.any(SocketAddress.class),Matchers.any(),Matchers.any(SessionRequestCallback.class));
  pool.release(entry3,true);
  pool.release(entry4,true);
  totals=pool.getTotalStats();
  Assert.assertEquals(2,totals.getAvailable());
  Assert.assertEquals(0,totals.getLeased());
  Assert.assertEquals(0,totals.getPending());
  final Future<LocalPoolEntry> future5=pool.lease("somehost","some-other-stuff");
  Assert.assertFalse(future5.isDone());
  Mockito.verify(ioreactor,Mockito.times(3)).connect(Matchers.eq(InetSocketAddress.createUnresolved("somehost",80)),Matchers.any(SocketAddress.class),Matchers.any(),Matchers.any(SessionRequestCallback.class));
  Mockito.verify(iosession2).close();
  Mockito.verify(iosession1,Mockito.never()).close();
  totals=pool.getTotalStats();
  Assert.assertEquals(1,totals.getAvailable());
  Assert.assertEquals(0,totals.getLeased());
  Assert.assertEquals(1,totals.getPending());
}

</code></pre>

<br>
<pre class="type-11 type-1 type-3 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConnectionRedistributionOnTotalMaxLimit() throws Exception {
  final IOSession iosession1=Mockito.mock(IOSession.class);
  final SessionRequest sessionRequest1=Mockito.mock(SessionRequest.class);
  Mockito.when(sessionRequest1.getAttachment()).thenReturn("somehost");
  Mockito.when(sessionRequest1.getSession()).thenReturn(iosession1);
  final IOSession iosession2=Mockito.mock(IOSession.class);
  final SessionRequest sessionRequest2=Mockito.mock(SessionRequest.class);
  Mockito.when(sessionRequest2.getAttachment()).thenReturn("somehost");
  Mockito.when(sessionRequest2.getSession()).thenReturn(iosession2);
  final IOSession iosession3=Mockito.mock(IOSession.class);
  final SessionRequest sessionRequest3=Mockito.mock(SessionRequest.class);
  Mockito.when(sessionRequest3.getAttachment()).thenReturn("otherhost");
  Mockito.when(sessionRequest3.getSession()).thenReturn(iosession3);
  final IOSession iosession4=Mockito.mock(IOSession.class);
  final SessionRequest sessionRequest4=Mockito.mock(SessionRequest.class);
  Mockito.when(sessionRequest4.getAttachment()).thenReturn("otherhost");
  Mockito.when(sessionRequest4.getSession()).thenReturn(iosession4);
  final ConnectingIOReactor ioreactor=Mockito.mock(ConnectingIOReactor.class);
  Mockito.when(ioreactor.connect(Matchers.eq(InetSocketAddress.createUnresolved("somehost",80)),Matchers.any(SocketAddress.class),Matchers.any(),Matchers.any(SessionRequestCallback.class))).thenReturn(sessionRequest1,sessionRequest2,sessionRequest1);
  Mockito.when(ioreactor.connect(Matchers.eq(InetSocketAddress.createUnresolved("otherhost",80)),Matchers.any(SocketAddress.class),Matchers.any(),Matchers.any(SessionRequestCallback.class))).thenReturn(sessionRequest3,sessionRequest4,sessionRequest3);
  final LocalSessionPool pool=new LocalSessionPool(ioreactor,2,10);
  pool.setMaxPerRoute("somehost",2);
  pool.setMaxPerRoute("otherhost",2);
  pool.setMaxTotal(2);
  final Future<LocalPoolEntry> future1=pool.lease("somehost",null);
  final Future<LocalPoolEntry> future2=pool.lease("somehost",null);
  final Future<LocalPoolEntry> future3=pool.lease("otherhost",null);
  final Future<LocalPoolEntry> future4=pool.lease("otherhost",null);
  Mockito.verify(ioreactor,Mockito.times(2)).connect(Matchers.eq(InetSocketAddress.createUnresolved("somehost",80)),Matchers.any(SocketAddress.class),Matchers.any(),Matchers.any(SessionRequestCallback.class));
  Mockito.verify(ioreactor,Mockito.never()).connect(Matchers.eq(InetSocketAddress.createUnresolved("otherhost",80)),Matchers.any(SocketAddress.class),Matchers.any(),Matchers.any(SessionRequestCallback.class));
  pool.requestCompleted(sessionRequest1);
  pool.requestCompleted(sessionRequest2);
  Assert.assertTrue(future1.isDone());
  final LocalPoolEntry entry1=future1.get();
  Assert.assertNotNull(entry1);
  Assert.assertTrue(future2.isDone());
  final LocalPoolEntry entry2=future2.get();
  Assert.assertNotNull(entry2);
  Assert.assertFalse(future3.isDone());
  Assert.assertFalse(future4.isDone());
  PoolStats totals=pool.getTotalStats();
  Assert.assertEquals(0,totals.getAvailable());
  Assert.assertEquals(2,totals.getLeased());
  Assert.assertEquals(0,totals.getPending());
  pool.release(entry1,true);
  pool.release(entry2,true);
  Mockito.verify(ioreactor,Mockito.times(2)).connect(Matchers.eq(InetSocketAddress.createUnresolved("somehost",80)),Matchers.any(SocketAddress.class),Matchers.any(),Matchers.any(SessionRequestCallback.class));
  Mockito.verify(ioreactor,Mockito.times(2)).connect(Matchers.eq(InetSocketAddress.createUnresolved("otherhost",80)),Matchers.any(SocketAddress.class),Matchers.any(),Matchers.any(SessionRequestCallback.class));
  pool.requestCompleted(sessionRequest3);
  pool.requestCompleted(sessionRequest4);
  Assert.assertTrue(future3.isDone());
  final LocalPoolEntry entry3=future3.get();
  Assert.assertNotNull(entry3);
  Assert.assertTrue(future4.isDone());
  final LocalPoolEntry entry4=future4.get();
  Assert.assertNotNull(entry4);
  totals=pool.getTotalStats();
  Assert.assertEquals(0,totals.getAvailable());
  Assert.assertEquals(2,totals.getLeased());
  Assert.assertEquals(0,totals.getPending());
  final Future<LocalPoolEntry> future5=pool.lease("somehost",null);
  final Future<LocalPoolEntry> future6=pool.lease("otherhost",null);
  Mockito.verify(ioreactor,Mockito.times(2)).connect(Matchers.eq(InetSocketAddress.createUnresolved("somehost",80)),Matchers.any(SocketAddress.class),Matchers.any(),Matchers.any(SessionRequestCallback.class));
  Mockito.verify(ioreactor,Mockito.times(2)).connect(Matchers.eq(InetSocketAddress.createUnresolved("otherhost",80)),Matchers.any(SocketAddress.class),Matchers.any(),Matchers.any(SessionRequestCallback.class));
  pool.release(entry3,true);
  pool.release(entry4,true);
  Mockito.verify(ioreactor,Mockito.times(3)).connect(Matchers.eq(InetSocketAddress.createUnresolved("somehost",80)),Matchers.any(SocketAddress.class),Matchers.any(),Matchers.any(SessionRequestCallback.class));
  Mockito.verify(ioreactor,Mockito.times(2)).connect(Matchers.eq(InetSocketAddress.createUnresolved("otherhost",80)),Matchers.any(SocketAddress.class),Matchers.any(),Matchers.any(SessionRequestCallback.class));
  pool.requestCompleted(sessionRequest1);
  Assert.assertTrue(future5.isDone());
  final LocalPoolEntry entry5=future5.get();
  Assert.assertNotNull(entry5);
  Assert.assertTrue(future6.isDone());
  final LocalPoolEntry entry6=future6.get();
  Assert.assertNotNull(entry6);
  totals=pool.getTotalStats();
  Assert.assertEquals(0,totals.getAvailable());
  Assert.assertEquals(2,totals.getLeased());
  Assert.assertEquals(0,totals.getPending());
  pool.release(entry5,true);
  pool.release(entry6,true);
  Mockito.verify(ioreactor,Mockito.times(3)).connect(Matchers.eq(InetSocketAddress.createUnresolved("somehost",80)),Matchers.any(SocketAddress.class),Matchers.any(),Matchers.any(SessionRequestCallback.class));
  Mockito.verify(ioreactor,Mockito.times(2)).connect(Matchers.eq(InetSocketAddress.createUnresolved("otherhost",80)),Matchers.any(SocketAddress.class),Matchers.any(),Matchers.any(SessionRequestCallback.class));
  totals=pool.getTotalStats();
  Assert.assertEquals(2,totals.getAvailable());
  Assert.assertEquals(0,totals.getLeased());
  Assert.assertEquals(0,totals.getPending());
}

</code></pre>

<br>
<pre class="type-11 type-1 type-3 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCencelledConnect() throws Exception {
  final IOSession iosession=Mockito.mock(IOSession.class);
  final SessionRequest sessionRequest=Mockito.mock(SessionRequest.class);
  Mockito.when(sessionRequest.getAttachment()).thenReturn("somehost");
  Mockito.when(sessionRequest.getSession()).thenReturn(iosession);
  final ConnectingIOReactor ioreactor=Mockito.mock(ConnectingIOReactor.class);
  Mockito.when(ioreactor.connect(Matchers.any(SocketAddress.class),Matchers.any(SocketAddress.class),Matchers.any(),Matchers.any(SessionRequestCallback.class))).thenReturn(sessionRequest);
  Mockito.when(ioreactor.getStatus()).thenReturn(IOReactorStatus.ACTIVE);
  final LocalSessionPool pool=new LocalSessionPool(ioreactor,2,10);
  final Future<LocalPoolEntry> future=pool.lease("somehost",null);
  PoolStats totals=pool.getTotalStats();
  Assert.assertEquals(0,totals.getAvailable());
  Assert.assertEquals(0,totals.getLeased());
  Assert.assertEquals(1,totals.getPending());
  pool.requestCancelled(sessionRequest);
  Assert.assertTrue(future.isDone());
  Assert.assertTrue(future.isCancelled());
  final LocalPoolEntry entry=future.get();
  Assert.assertNull(entry);
  totals=pool.getTotalStats();
  Assert.assertEquals(0,totals.getAvailable());
  Assert.assertEquals(0,totals.getLeased());
  Assert.assertEquals(0,totals.getPending());
}

</code></pre>

<br>
<pre class="type-11 type-1 type-3 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCloseExpired() throws Exception {
  final IOSession iosession1=Mockito.mock(IOSession.class);
  Mockito.when(iosession1.isClosed()).thenReturn(Boolean.TRUE);
  final SessionRequest sessionRequest1=Mockito.mock(SessionRequest.class);
  Mockito.when(sessionRequest1.getAttachment()).thenReturn("somehost");
  Mockito.when(sessionRequest1.getSession()).thenReturn(iosession1);
  final IOSession iosession2=Mockito.mock(IOSession.class);
  final SessionRequest sessionRequest2=Mockito.mock(SessionRequest.class);
  Mockito.when(sessionRequest2.getAttachment()).thenReturn("somehost");
  Mockito.when(sessionRequest2.getSession()).thenReturn(iosession2);
  final ConnectingIOReactor ioreactor=Mockito.mock(ConnectingIOReactor.class);
  Mockito.when(ioreactor.connect(Matchers.any(SocketAddress.class),Matchers.any(SocketAddress.class),Matchers.any(),Matchers.any(SessionRequestCallback.class))).thenReturn(sessionRequest1,sessionRequest2);
  final LocalSessionPool pool=new LocalSessionPool(ioreactor,2,2);
  final Future<LocalPoolEntry> future1=pool.lease("somehost",null);
  final Future<LocalPoolEntry> future2=pool.lease("somehost",null);
  pool.requestCompleted(sessionRequest1);
  pool.requestCompleted(sessionRequest2);
  Assert.assertTrue(future1.isDone());
  final LocalPoolEntry entry1=future1.get();
  Assert.assertNotNull(entry1);
  Assert.assertTrue(future2.isDone());
  final LocalPoolEntry entry2=future2.get();
  Assert.assertNotNull(entry2);
  entry1.updateExpiry(1,TimeUnit.MILLISECONDS);
  pool.release(entry1,true);
  Thread.sleep(200);
  entry2.updateExpiry(1000,TimeUnit.SECONDS);
  pool.release(entry2,true);
  pool.closeExpired();
  Mockito.verify(iosession1).close();
  Mockito.verify(iosession2,Mockito.never()).close();
  final PoolStats totals=pool.getTotalStats();
  Assert.assertEquals(1,totals.getAvailable());
  Assert.assertEquals(0,totals.getLeased());
  Assert.assertEquals(0,totals.getPending());
  final PoolStats stats=pool.getStats("somehost");
  Assert.assertEquals(1,stats.getAvailable());
  Assert.assertEquals(0,stats.getLeased());
  Assert.assertEquals(0,stats.getPending());
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLeaseRelease() throws Exception {
  final IOSession iosession1=Mockito.mock(IOSession.class);
  final SessionRequest sessionRequest1=Mockito.mock(SessionRequest.class);
  Mockito.when(sessionRequest1.getAttachment()).thenReturn("somehost");
  Mockito.when(sessionRequest1.getSession()).thenReturn(iosession1);
  final IOSession iosession2=Mockito.mock(IOSession.class);
  final SessionRequest sessionRequest2=Mockito.mock(SessionRequest.class);
  Mockito.when(sessionRequest2.getAttachment()).thenReturn("otherhost");
  Mockito.when(sessionRequest2.getSession()).thenReturn(iosession2);
  final ConnectingIOReactor ioreactor=Mockito.mock(ConnectingIOReactor.class);
  Mockito.when(ioreactor.connect(Matchers.eq(InetSocketAddress.createUnresolved("somehost",80)),Matchers.any(SocketAddress.class),Matchers.any(),Matchers.any(SessionRequestCallback.class))).thenReturn(sessionRequest1);
  Mockito.when(ioreactor.connect(Matchers.eq(InetSocketAddress.createUnresolved("otherhost",80)),Matchers.any(SocketAddress.class),Matchers.any(),Matchers.any(SessionRequestCallback.class))).thenReturn(sessionRequest2);
  final LocalSessionPool pool=new LocalSessionPool(ioreactor,2,10);
  final Future<LocalPoolEntry> future1=pool.lease("somehost",null);
  pool.requestCompleted(sessionRequest1);
  final Future<LocalPoolEntry> future2=pool.lease("somehost",null);
  pool.requestCompleted(sessionRequest1);
  final Future<LocalPoolEntry> future3=pool.lease("otherhost",null);
  pool.requestCompleted(sessionRequest2);
  final LocalPoolEntry entry1=future1.get();
  Assert.assertNotNull(entry1);
  final LocalPoolEntry entry2=future2.get();
  Assert.assertNotNull(entry2);
  final LocalPoolEntry entry3=future3.get();
  Assert.assertNotNull(entry3);
  pool.release(entry1,true);
  pool.release(entry2,true);
  pool.release(entry3,false);
  Mockito.verify(iosession1,Mockito.never()).close();
  Mockito.verify(iosession2,Mockito.times(1)).close();
  final PoolStats totals=pool.getTotalStats();
  Assert.assertEquals(2,totals.getAvailable());
  Assert.assertEquals(0,totals.getLeased());
  Assert.assertEquals(0,totals.getPending());
}

</code></pre>

<br>
<pre class="type-11 type-1 type-3 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCloseIdle() throws Exception {
  final IOSession iosession1=Mockito.mock(IOSession.class);
  final SessionRequest sessionRequest1=Mockito.mock(SessionRequest.class);
  Mockito.when(sessionRequest1.getAttachment()).thenReturn("somehost");
  Mockito.when(sessionRequest1.getSession()).thenReturn(iosession1);
  final IOSession iosession2=Mockito.mock(IOSession.class);
  final SessionRequest sessionRequest2=Mockito.mock(SessionRequest.class);
  Mockito.when(sessionRequest2.getAttachment()).thenReturn("somehost");
  Mockito.when(sessionRequest2.getSession()).thenReturn(iosession2);
  final ConnectingIOReactor ioreactor=Mockito.mock(ConnectingIOReactor.class);
  Mockito.when(ioreactor.connect(Matchers.any(SocketAddress.class),Matchers.any(SocketAddress.class),Matchers.any(),Matchers.any(SessionRequestCallback.class))).thenReturn(sessionRequest1,sessionRequest2);
  final LocalSessionPool pool=new LocalSessionPool(ioreactor,2,2);
  final Future<LocalPoolEntry> future1=pool.lease("somehost",null);
  final Future<LocalPoolEntry> future2=pool.lease("somehost",null);
  pool.requestCompleted(sessionRequest1);
  pool.requestCompleted(sessionRequest2);
  Assert.assertTrue(future1.isDone());
  final LocalPoolEntry entry1=future1.get();
  Assert.assertNotNull(entry1);
  Assert.assertTrue(future2.isDone());
  final LocalPoolEntry entry2=future2.get();
  Assert.assertNotNull(entry2);
  entry1.updateExpiry(0,TimeUnit.MILLISECONDS);
  pool.release(entry1,true);
  Thread.sleep(200L);
  entry2.updateExpiry(0,TimeUnit.MILLISECONDS);
  pool.release(entry2,true);
  pool.closeIdle(50,TimeUnit.MILLISECONDS);
  Mockito.verify(iosession1).close();
  Mockito.verify(iosession2,Mockito.never()).close();
  PoolStats totals=pool.getTotalStats();
  Assert.assertEquals(1,totals.getAvailable());
  Assert.assertEquals(0,totals.getLeased());
  Assert.assertEquals(0,totals.getPending());
  PoolStats stats=pool.getStats("somehost");
  Assert.assertEquals(1,stats.getAvailable());
  Assert.assertEquals(0,stats.getLeased());
  Assert.assertEquals(0,stats.getPending());
  pool.closeIdle(-1,TimeUnit.MILLISECONDS);
  Mockito.verify(iosession2).close();
  totals=pool.getTotalStats();
  Assert.assertEquals(0,totals.getAvailable());
  Assert.assertEquals(0,totals.getLeased());
  Assert.assertEquals(0,totals.getPending());
  stats=pool.getStats("somehost");
  Assert.assertEquals(0,stats.getAvailable());
  Assert.assertEquals(0,stats.getLeased());
  Assert.assertEquals(0,stats.getPending());
}

</code></pre>

<br>
<pre class="type-11 type-1 type-3 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateNewIfExpired() throws Exception {
  final IOSession iosession1=Mockito.mock(IOSession.class);
  Mockito.when(iosession1.isClosed()).thenReturn(Boolean.TRUE);
  final SessionRequest sessionRequest1=Mockito.mock(SessionRequest.class);
  Mockito.when(sessionRequest1.getAttachment()).thenReturn("somehost");
  Mockito.when(sessionRequest1.getSession()).thenReturn(iosession1);
  final ConnectingIOReactor ioreactor=Mockito.mock(ConnectingIOReactor.class);
  Mockito.when(ioreactor.connect(Matchers.eq(InetSocketAddress.createUnresolved("somehost",80)),Matchers.any(SocketAddress.class),Matchers.any(),Matchers.any(SessionRequestCallback.class))).thenReturn(sessionRequest1);
  final LocalSessionPool pool=new LocalSessionPool(ioreactor,2,2);
  final Future<LocalPoolEntry> future1=pool.lease("somehost",null);
  Mockito.verify(ioreactor,Mockito.times(1)).connect(Matchers.any(SocketAddress.class),Matchers.any(SocketAddress.class),Matchers.any(),Matchers.any(SessionRequestCallback.class));
  pool.requestCompleted(sessionRequest1);
  Assert.assertTrue(future1.isDone());
  final LocalPoolEntry entry1=future1.get();
  Assert.assertNotNull(entry1);
  entry1.updateExpiry(1,TimeUnit.MILLISECONDS);
  pool.release(entry1,true);
  Thread.sleep(200L);
  final Future<LocalPoolEntry> future2=pool.lease("somehost",null);
  Assert.assertFalse(future2.isDone());
  Mockito.verify(iosession1).close();
  Mockito.verify(ioreactor,Mockito.times(2)).connect(Matchers.any(SocketAddress.class),Matchers.any(SocketAddress.class),Matchers.any(),Matchers.any(SessionRequestCallback.class));
  final PoolStats totals=pool.getTotalStats();
  Assert.assertEquals(0,totals.getAvailable());
  Assert.assertEquals(0,totals.getLeased());
  Assert.assertEquals(1,totals.getPending());
  Assert.assertEquals(Collections.singleton("somehost"),pool.getRoutes());
  final PoolStats stats=pool.getStats("somehost");
  Assert.assertEquals(0,stats.getAvailable());
  Assert.assertEquals(0,stats.getLeased());
  Assert.assertEquals(1,stats.getPending());
}

</code></pre>

<br>
<pre class="type-11 type-1 type-3 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSuccessfulConnect() throws Exception {
  final IOSession iosession=Mockito.mock(IOSession.class);
  final SessionRequest sessionRequest=Mockito.mock(SessionRequest.class);
  Mockito.when(sessionRequest.getAttachment()).thenReturn("somehost");
  Mockito.when(sessionRequest.getSession()).thenReturn(iosession);
  final ConnectingIOReactor ioreactor=Mockito.mock(ConnectingIOReactor.class);
  Mockito.when(ioreactor.connect(Matchers.any(SocketAddress.class),Matchers.any(SocketAddress.class),Matchers.any(),Matchers.any(SessionRequestCallback.class))).thenReturn(sessionRequest);
  final LocalSessionPool pool=new LocalSessionPool(ioreactor,2,10);
  final Future<LocalPoolEntry> future=pool.lease("somehost",null,100,TimeUnit.MILLISECONDS,null);
  Mockito.verify(sessionRequest).setConnectTimeout(100);
  PoolStats totals=pool.getTotalStats();
  Assert.assertEquals(0,totals.getAvailable());
  Assert.assertEquals(0,totals.getLeased());
  Assert.assertEquals(1,totals.getPending());
  pool.requestCompleted(sessionRequest);
  Assert.assertTrue(future.isDone());
  Assert.assertFalse(future.isCancelled());
  final LocalPoolEntry entry=future.get();
  Assert.assertNotNull(entry);
  totals=pool.getTotalStats();
  Assert.assertEquals(0,totals.getAvailable());
  Assert.assertEquals(1,totals.getLeased());
  Assert.assertEquals(0,totals.getPending());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.ssl.TestSSLContextBuilder </h4><pre class="type-11 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSSLHanskshakeClientUnauthenticated() throws Exception {
  final URL resource1=getClass().getResource("/test-server.keystore");
  final String storePassword="nopassword";
  final String keyPassword="nopassword";
  final SSLContext serverSslContext=SSLContextBuilder.create().loadKeyMaterial(resource1,storePassword.toCharArray(),keyPassword.toCharArray()).build();
  Assert.assertNotNull(serverSslContext);
  final URL resource2=getClass().getResource("/test-client.keystore");
  final SSLContext clientSslContext=SSLContextBuilder.create().loadTrustMaterial(resource2,storePassword.toCharArray()).build();
  Assert.assertNotNull(clientSslContext);
  final SSLServerSocket serverSocket=(SSLServerSocket)serverSslContext.getServerSocketFactory().createServerSocket();
  serverSocket.setWantClientAuth(true);
  serverSocket.bind(new InetSocketAddress(0));
  this.executorService=Executors.newSingleThreadExecutor();
  final Future<Principal> future=this.executorService.submit(new Callable<Principal>(){
    @Override public Principal call() throws Exception {
      final SSLSocket socket=(SSLSocket)serverSocket.accept();
      Principal clientPrincipal=null;
      try {
        final SSLSession session=socket.getSession();
        try {
          clientPrincipal=session.getPeerPrincipal();
        }
 catch (        final SSLPeerUnverifiedException ignore) {
        }
        final OutputStream outputStream=socket.getOutputStream();
        outputStream.write(new byte[]{'H','i'});
        outputStream.flush();
      }
  finally {
        socket.close();
      }
      return clientPrincipal;
    }
  }
);
  final int localPort=serverSocket.getLocalPort();
  final SSLSocket clientSocket=(SSLSocket)clientSslContext.getSocketFactory().createSocket();
  try {
    clientSocket.connect(new InetSocketAddress("localhost",localPort),5000);
    clientSocket.startHandshake();
    final InputStream inputStream=clientSocket.getInputStream();
    Assert.assertEquals('H',inputStream.read());
    Assert.assertEquals('i',inputStream.read());
    Assert.assertEquals(-1,inputStream.read());
  }
  finally {
    clientSocket.close();
  }
  final Principal clientPrincipal=future.get(5,TimeUnit.SECONDS);
  Assert.assertNull(clientPrincipal);
}

</code></pre>

<br>
<pre class="type-11 type-3 type-2 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=IOException.class) public void testSSLHanskshakeProtocolMismatch1() throws Exception {
  final URL resource1=getClass().getResource("/test-server.keystore");
  final String storePassword="nopassword";
  final String keyPassword="nopassword";
  final SSLContext serverSslContext=SSLContextBuilder.create().loadKeyMaterial(resource1,storePassword.toCharArray(),keyPassword.toCharArray()).build();
  Assert.assertNotNull(serverSslContext);
  final URL resource2=getClass().getResource("/test-client.keystore");
  final SSLContext clientSslContext=SSLContextBuilder.create().loadTrustMaterial(resource2,storePassword.toCharArray()).build();
  Assert.assertNotNull(clientSslContext);
  final SSLServerSocket serverSocket=(SSLServerSocket)serverSslContext.getServerSocketFactory().createServerSocket();
  final Set<String> supportedServerProtocols=new LinkedHashSet<>(Arrays.asList(serverSocket.getSupportedProtocols()));
  Assert.assertTrue(supportedServerProtocols.contains("TLSv1"));
  serverSocket.setEnabledProtocols(new String[]{"TLSv1"});
  serverSocket.bind(new InetSocketAddress(0));
  this.executorService=Executors.newSingleThreadExecutor();
  this.executorService.submit(new Callable<Boolean>(){
    @Override public Boolean call() throws Exception {
      final SSLSocket socket=(SSLSocket)serverSocket.accept();
      try {
        socket.getSession();
      }
  finally {
        socket.close();
      }
      return Boolean.FALSE;
    }
  }
);
  final int localPort=serverSocket.getLocalPort();
  final SSLSocket clientSocket=(SSLSocket)clientSslContext.getSocketFactory().createSocket();
  try {
    final Set<String> supportedClientProtocols=new LinkedHashSet<>(Arrays.asList(clientSocket.getSupportedProtocols()));
    Assert.assertTrue(supportedClientProtocols.contains("SSLv3"));
    clientSocket.setEnabledProtocols(new String[]{"SSLv3"});
    clientSocket.connect(new InetSocketAddress("localhost",localPort),5000);
    clientSocket.startHandshake();
  }
  finally {
    clientSocket.close();
  }
}

</code></pre>

<br>
<pre class="type-11 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSSLHanskshakeServerCustomTrustStrategy() throws Exception {
  final URL resource1=getClass().getResource("/test-server.keystore");
  final String storePassword="nopassword";
  final String keyPassword="nopassword";
  final SSLContext serverSslContext=SSLContextBuilder.create().loadKeyMaterial(resource1,storePassword.toCharArray(),keyPassword.toCharArray()).build();
  Assert.assertNotNull(serverSslContext);
  final AtomicReference<X509Certificate[]> certChainRef=new AtomicReference<>();
  final TrustStrategy trustStrategy=new TrustStrategy(){
    @Override public boolean isTrusted(    final X509Certificate[] chain,    final String authType) throws CertificateException {
      certChainRef.set(chain);
      return true;
    }
  }
;
  final SSLContext clientSslContext=SSLContextBuilder.create().loadTrustMaterial(trustStrategy).build();
  Assert.assertNotNull(clientSslContext);
  final ServerSocket serverSocket=serverSslContext.getServerSocketFactory().createServerSocket();
  serverSocket.bind(new InetSocketAddress(0));
  this.executorService=Executors.newSingleThreadExecutor();
  final Future<Boolean> future=this.executorService.submit(new Callable<Boolean>(){
    @Override public Boolean call() throws Exception {
      final Socket socket=serverSocket.accept();
      try {
        final OutputStream outputStream=socket.getOutputStream();
        outputStream.write(new byte[]{'H','i'});
        outputStream.flush();
      }
  finally {
        socket.close();
      }
      return Boolean.TRUE;
    }
  }
);
  final int localPort=serverSocket.getLocalPort();
  final SSLSocket clientSocket=(SSLSocket)clientSslContext.getSocketFactory().createSocket();
  try {
    clientSocket.connect(new InetSocketAddress("localhost",localPort),5000);
    final InputStream inputStream=clientSocket.getInputStream();
    Assert.assertEquals('H',inputStream.read());
    Assert.assertEquals('i',inputStream.read());
    Assert.assertEquals(-1,inputStream.read());
  }
  finally {
    clientSocket.close();
  }
  final Boolean result=future.get(5,TimeUnit.SECONDS);
  Assert.assertNotNull(result);
  final X509Certificate[] certs=certChainRef.get();
  Assert.assertNotNull(certs);
  Assert.assertEquals(2,certs.length);
  final X509Certificate cert1=certs[0];
  final Principal subjectDN1=cert1.getSubjectDN();
  Assert.assertNotNull(subjectDN1);
  Assert.assertEquals("CN=Test Server, OU=HttpComponents Project, O=Apache Software Foundation, " + "L=Unknown, ST=Unknown, C=Unknown",subjectDN1.getName());
  final X509Certificate cert2=certs[1];
  final Principal subjectDN2=cert2.getSubjectDN();
  Assert.assertNotNull(subjectDN2);
  Assert.assertEquals("EMAILADDRESS=dev@hc.apache.org, " + "CN=Test CA, OU=HttpComponents Project, O=Apache Software Foundation",subjectDN2.getName());
  final Principal issuerDN=cert2.getIssuerDN();
  Assert.assertNotNull(issuerDN);
  Assert.assertEquals("EMAILADDRESS=dev@hc.apache.org, " + "CN=Test CA, OU=HttpComponents Project, O=Apache Software Foundation",issuerDN.getName());
}

</code></pre>

<br>
<pre class="type-11 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSSLHanskshakeClientAuthenticated() throws Exception {
  final URL resource1=getClass().getResource("/test-server.keystore");
  final String storePassword="nopassword";
  final String keyPassword="nopassword";
  final SSLContext serverSslContext=SSLContextBuilder.create().loadTrustMaterial(resource1,storePassword.toCharArray()).loadKeyMaterial(resource1,storePassword.toCharArray(),keyPassword.toCharArray()).build();
  Assert.assertNotNull(serverSslContext);
  final URL resource2=getClass().getResource("/test-client.keystore");
  final SSLContext clientSslContext=SSLContextBuilder.create().loadTrustMaterial(resource2,storePassword.toCharArray()).loadKeyMaterial(resource2,storePassword.toCharArray(),storePassword.toCharArray()).build();
  Assert.assertNotNull(clientSslContext);
  final SSLServerSocket serverSocket=(SSLServerSocket)serverSslContext.getServerSocketFactory().createServerSocket();
  serverSocket.setNeedClientAuth(true);
  serverSocket.bind(new InetSocketAddress(0));
  this.executorService=Executors.newSingleThreadExecutor();
  final Future<Principal> future=this.executorService.submit(new Callable<Principal>(){
    @Override public Principal call() throws Exception {
      final SSLSocket socket=(SSLSocket)serverSocket.accept();
      try {
        final SSLSession session=socket.getSession();
        final Principal clientPrincipal=session.getPeerPrincipal();
        final OutputStream outputStream=socket.getOutputStream();
        outputStream.write(new byte[]{'H','i'});
        outputStream.flush();
        return clientPrincipal;
      }
  finally {
        socket.close();
      }
    }
  }
);
  final int localPort=serverSocket.getLocalPort();
  final SSLSocket clientSocket=(SSLSocket)clientSslContext.getSocketFactory().createSocket();
  try {
    clientSocket.connect(new InetSocketAddress("localhost",localPort),5000);
    clientSocket.startHandshake();
    final InputStream inputStream=clientSocket.getInputStream();
    Assert.assertEquals('H',inputStream.read());
    Assert.assertEquals('i',inputStream.read());
    Assert.assertEquals(-1,inputStream.read());
  }
  finally {
    clientSocket.close();
  }
  final Principal clientPrincipal=future.get(5,TimeUnit.SECONDS);
  Assert.assertNotNull(clientPrincipal);
}

</code></pre>

<br>
<pre class="type-11 type-2 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=IOException.class) public void testSSLHanskshakeClientUnauthenticatedError() throws Exception {
  final URL resource1=getClass().getResource("/test-server.keystore");
  final String storePassword="nopassword";
  final String keyPassword="nopassword";
  final SSLContext serverSslContext=SSLContextBuilder.create().loadKeyMaterial(resource1,storePassword.toCharArray(),keyPassword.toCharArray()).build();
  Assert.assertNotNull(serverSslContext);
  final URL resource2=getClass().getResource("/test-client.keystore");
  final SSLContext clientSslContext=SSLContextBuilder.create().loadTrustMaterial(resource2,storePassword.toCharArray()).build();
  Assert.assertNotNull(clientSslContext);
  final SSLServerSocket serverSocket=(SSLServerSocket)serverSslContext.getServerSocketFactory().createServerSocket();
  serverSocket.setNeedClientAuth(true);
  serverSocket.bind(new InetSocketAddress(0));
  this.executorService=Executors.newSingleThreadExecutor();
  this.executorService.submit(new Callable<Boolean>(){
    @Override public Boolean call() throws Exception {
      final SSLSocket socket=(SSLSocket)serverSocket.accept();
      try {
        socket.getSession();
      }
  finally {
        socket.close();
      }
      return Boolean.FALSE;
    }
  }
);
  final int localPort=serverSocket.getLocalPort();
  final SSLSocket clientSocket=(SSLSocket)clientSslContext.getSocketFactory().createSocket();
  try {
    clientSocket.connect(new InetSocketAddress("localhost",localPort),5000);
    clientSocket.startHandshake();
  }
  finally {
    clientSocket.close();
  }
}

</code></pre>

<br>
<pre class="type-11 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSSLHanskshakeClientAuthenticatedPrivateKeyStrategy() throws Exception {
  final URL resource1=getClass().getResource("/test-server.keystore");
  final String storePassword="nopassword";
  final String keyPassword="nopassword";
  final SSLContext serverSslContext=SSLContextBuilder.create().loadTrustMaterial(resource1,storePassword.toCharArray()).loadKeyMaterial(resource1,storePassword.toCharArray(),keyPassword.toCharArray()).build();
  Assert.assertNotNull(serverSslContext);
  final PrivateKeyStrategy privateKeyStrategy=new PrivateKeyStrategy(){
    @Override public String chooseAlias(    final Map<String,PrivateKeyDetails> aliases,    final SSLParameters sslParameters){
      if (aliases.keySet().contains("client2")) {
        return "client2";
      }
 else {
        return null;
      }
    }
  }
;
  final URL resource2=getClass().getResource("/test-client.keystore");
  final SSLContext clientSslContext=SSLContextBuilder.create().loadTrustMaterial(resource2,storePassword.toCharArray()).loadKeyMaterial(resource2,storePassword.toCharArray(),storePassword.toCharArray(),privateKeyStrategy).build();
  Assert.assertNotNull(clientSslContext);
  final SSLServerSocket serverSocket=(SSLServerSocket)serverSslContext.getServerSocketFactory().createServerSocket();
  serverSocket.setNeedClientAuth(true);
  serverSocket.bind(new InetSocketAddress(0));
  this.executorService=Executors.newSingleThreadExecutor();
  final Future<Principal> future=this.executorService.submit(new Callable<Principal>(){
    @Override public Principal call() throws Exception {
      final SSLSocket socket=(SSLSocket)serverSocket.accept();
      try {
        final SSLSession session=socket.getSession();
        final Principal clientPrincipal=session.getPeerPrincipal();
        final OutputStream outputStream=socket.getOutputStream();
        outputStream.write(new byte[]{'H','i'});
        outputStream.flush();
        return clientPrincipal;
      }
  finally {
        socket.close();
      }
    }
  }
);
  final int localPort=serverSocket.getLocalPort();
  final SSLSocket clientSocket=(SSLSocket)clientSslContext.getSocketFactory().createSocket();
  try {
    clientSocket.connect(new InetSocketAddress("localhost",localPort),5000);
    clientSocket.startHandshake();
    final InputStream inputStream=clientSocket.getInputStream();
    Assert.assertEquals('H',inputStream.read());
    Assert.assertEquals('i',inputStream.read());
    Assert.assertEquals(-1,inputStream.read());
  }
  finally {
    clientSocket.close();
  }
  final Principal clientPrincipal=future.get(5,TimeUnit.SECONDS);
  Assert.assertNotNull(clientPrincipal);
  Assert.assertEquals("CN=Test Client 2,OU=HttpComponents Project,O=Apache Software Foundation," + "L=Unknown,ST=Unknown,C=Unknown",clientPrincipal.getName());
}

</code></pre>

<br>
<pre class="type-11 type-2 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=SSLHandshakeException.class) public void testSSLHanskshakeServerNotTrusted() throws Exception {
  final URL resource1=getClass().getResource("/test-server.keystore");
  final String storePassword="nopassword";
  final String keyPassword="nopassword";
  final SSLContext serverSslContext=SSLContextBuilder.create().loadKeyMaterial(resource1,storePassword.toCharArray(),keyPassword.toCharArray()).build();
  Assert.assertNotNull(serverSslContext);
  final URL resource2=getClass().getResource("/test.keystore");
  final SSLContext clientSslContext=SSLContextBuilder.create().loadTrustMaterial(resource2,storePassword.toCharArray()).build();
  Assert.assertNotNull(clientSslContext);
  final ServerSocket serverSocket=serverSslContext.getServerSocketFactory().createServerSocket();
  serverSocket.bind(new InetSocketAddress(0));
  this.executorService=Executors.newSingleThreadExecutor();
  this.executorService.submit(new Callable<Boolean>(){
    @Override public Boolean call() throws Exception {
      final SSLSocket socket=(SSLSocket)serverSocket.accept();
      try {
        socket.getSession();
      }
  finally {
        socket.close();
      }
      return Boolean.FALSE;
    }
  }
);
  final int localPort=serverSocket.getLocalPort();
  final SSLSocket clientSocket=(SSLSocket)clientSslContext.getSocketFactory().createSocket();
  try {
    clientSocket.connect(new InetSocketAddress("localhost",localPort),5000);
    clientSocket.startHandshake();
  }
  finally {
    clientSocket.close();
  }
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSSLHanskshakeProtocolMismatch2() throws Exception {
  final URL resource1=getClass().getResource("/test-server.keystore");
  final String storePassword="nopassword";
  final String keyPassword="nopassword";
  final SSLContext serverSslContext=SSLContextBuilder.create().loadKeyMaterial(resource1,storePassword.toCharArray(),keyPassword.toCharArray()).build();
  Assert.assertNotNull(serverSslContext);
  final URL resource2=getClass().getResource("/test-client.keystore");
  final SSLContext clientSslContext=SSLContextBuilder.create().loadTrustMaterial(resource2,storePassword.toCharArray()).build();
  Assert.assertNotNull(clientSslContext);
  final SSLServerSocket serverSocket=(SSLServerSocket)serverSslContext.getServerSocketFactory().createServerSocket();
  final Set<String> supportedServerProtocols=new LinkedHashSet<>(Arrays.asList(serverSocket.getSupportedProtocols()));
  Assert.assertTrue(supportedServerProtocols.contains("SSLv3"));
  serverSocket.setEnabledProtocols(new String[]{"SSLv3"});
  serverSocket.bind(new InetSocketAddress(0));
  this.executorService=Executors.newSingleThreadExecutor();
  this.executorService.submit(new Callable<Boolean>(){
    @Override public Boolean call() throws Exception {
      final SSLSocket socket=(SSLSocket)serverSocket.accept();
      try {
        socket.getSession();
      }
  finally {
        socket.close();
      }
      return Boolean.FALSE;
    }
  }
);
  final int localPort=serverSocket.getLocalPort();
  final SSLSocket clientSocket=(SSLSocket)clientSslContext.getSocketFactory().createSocket();
  try {
    final Set<String> supportedClientProtocols=new LinkedHashSet<>(Arrays.asList(clientSocket.getSupportedProtocols()));
    Assert.assertTrue(supportedClientProtocols.contains("TLSv1"));
    clientSocket.setEnabledProtocols(new String[]{"TLSv1"});
    clientSocket.connect(new InetSocketAddress("localhost",localPort),5000);
    final boolean isWindows=System.getProperty("os.name").contains("Windows");
    final Class<? extends IOException> expectedExceptionClass=isWindows ? SocketException.class : SSLHandshakeException.class;
    try {
      clientSocket.startHandshake();
      Assert.fail();
    }
 catch (    final Exception e) {
      Assert.assertEquals(expectedExceptionClass,e.getClass());
    }
  }
  finally {
    clientSocket.close();
  }
}

</code></pre>

<br>
<pre class="type-11 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
"></span><br>
@Test public void testKeyWithAlternatePassword() throws Exception {
  final URL resource1=getClass().getResource("/test-keypasswd.keystore");
  final String storePassword="nopassword";
  final String keyPassword="password";
  final SSLContext sslContext=SSLContextBuilder.create().loadKeyMaterial(resource1,storePassword.toCharArray(),keyPassword.toCharArray()).loadTrustMaterial(resource1,storePassword.toCharArray()).build();
  Assert.assertNotNull(sslContext);
  final SSLSocketFactory socketFactory=sslContext.getSocketFactory();
  Assert.assertNotNull(socketFactory);
}

</code></pre>

<br>
<pre class="type-11 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSSLHanskshakeServerTrusted() throws Exception {
  final URL resource1=getClass().getResource("/test.keystore");
  final String storePassword="nopassword";
  final String keyPassword="nopassword";
  final SSLContext serverSslContext=SSLContextBuilder.create().loadKeyMaterial(resource1,storePassword.toCharArray(),keyPassword.toCharArray()).build();
  Assert.assertNotNull(serverSslContext);
  final SSLContext clientSslContext=SSLContextBuilder.create().loadTrustMaterial(resource1,storePassword.toCharArray()).build();
  Assert.assertNotNull(clientSslContext);
  final ServerSocket serverSocket=serverSslContext.getServerSocketFactory().createServerSocket();
  serverSocket.bind(new InetSocketAddress(0));
  this.executorService=Executors.newSingleThreadExecutor();
  final Future<Boolean> future=this.executorService.submit(new Callable<Boolean>(){
    @Override public Boolean call() throws Exception {
      final Socket socket=serverSocket.accept();
      try {
        final OutputStream outputStream=socket.getOutputStream();
        outputStream.write(new byte[]{'H','i'});
        outputStream.flush();
      }
  finally {
        socket.close();
      }
      return Boolean.TRUE;
    }
  }
);
  final int localPort=serverSocket.getLocalPort();
  final Socket clientSocket=clientSslContext.getSocketFactory().createSocket();
  try {
    clientSocket.connect(new InetSocketAddress("localhost",localPort),5000);
    final InputStream inputStream=clientSocket.getInputStream();
    Assert.assertEquals('H',inputStream.read());
    Assert.assertEquals('i',inputStream.read());
    Assert.assertEquals(-1,inputStream.read());
  }
  finally {
    clientSocket.close();
  }
  final Boolean result=future.get(5,TimeUnit.SECONDS);
  Assert.assertNotNull(result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.util.TestByteArrayBuffer </h4><pre class="type-11 type-1 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSerialization() throws Exception {
  final ByteArrayBuffer orig=new ByteArrayBuffer(32);
  orig.append(1);
  orig.append(2);
  orig.append(3);
  final ByteArrayOutputStream outbuffer=new ByteArrayOutputStream();
  final ObjectOutputStream outstream=new ObjectOutputStream(outbuffer);
  outstream.writeObject(orig);
  outstream.close();
  final byte[] raw=outbuffer.toByteArray();
  final ByteArrayInputStream inbuffer=new ByteArrayInputStream(raw);
  final ObjectInputStream instream=new ObjectInputStream(inbuffer);
  final ByteArrayBuffer clone=(ByteArrayBuffer)instream.readObject();
  Assert.assertEquals(orig.capacity(),clone.capacity());
  Assert.assertEquals(orig.length(),clone.length());
  final byte[] data=clone.toByteArray();
  Assert.assertNotNull(data);
  Assert.assertEquals(3,data.length);
  Assert.assertEquals(1,data[0]);
  Assert.assertEquals(2,data[1]);
  Assert.assertEquals(3,data[2]);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.util.TestCharArrayBuffer </h4><pre class="type-11 type-1 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSerialization() throws Exception {
  final CharArrayBuffer orig=new CharArrayBuffer(32);
  orig.append('a');
  orig.append('b');
  orig.append('c');
  final ByteArrayOutputStream outbuffer=new ByteArrayOutputStream();
  final ObjectOutputStream outstream=new ObjectOutputStream(outbuffer);
  outstream.writeObject(orig);
  outstream.close();
  final byte[] raw=outbuffer.toByteArray();
  final ByteArrayInputStream inbuffer=new ByteArrayInputStream(raw);
  final ObjectInputStream instream=new ObjectInputStream(inbuffer);
  final CharArrayBuffer clone=(CharArrayBuffer)instream.readObject();
  Assert.assertEquals(orig.capacity(),clone.capacity());
  Assert.assertEquals(orig.length(),clone.length());
  final char[] data=clone.toCharArray();
  Assert.assertNotNull(data);
  Assert.assertEquals(3,data.length);
  Assert.assertEquals('a',data[0]);
  Assert.assertEquals('b',data[1]);
  Assert.assertEquals('c',data[2]);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.util.TestEntityUtils </h4><pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDefaultCharsetContentToString() throws Exception {
  final String content=constructString(RUSSIAN_HELLO);
  final byte[] bytes=content.getBytes(Charset.forName("KOI8-R"));
  final BasicHttpEntity httpentity=new BasicHttpEntity();
  httpentity.setContent(new ByteArrayInputStream(bytes));
  httpentity.setContentType("text/plain");
  final String s=EntityUtils.toString(httpentity,"KOI8-R");
  Assert.assertEquals(content,s);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNoCharsetContentToString() throws Exception {
  final String content=constructString(SWISS_GERMAN_HELLO);
  final byte[] bytes=content.getBytes(StandardCharsets.ISO_8859_1);
  final BasicHttpEntity httpentity=new BasicHttpEntity();
  httpentity.setContent(new ByteArrayInputStream(bytes));
  httpentity.setContentType("text/plain");
  final String s=EntityUtils.toString(httpentity);
  Assert.assertEquals(content,s);
}

</code></pre>

<br>
<pre class="type-11 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
"></span><br>
@Test public void testEmptyContentToByteArray() throws Exception {
  final NullHttpEntity httpentity=new NullHttpEntity();
  final byte[] bytes=EntityUtils.toByteArray(httpentity);
  Assert.assertNull(bytes);
}

</code></pre>

<br>
<pre class="type-11 type-14 type-1 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnknownLengthContentToByteArray() throws Exception {
  final byte[] bytes="Message content".getBytes(StandardCharsets.ISO_8859_1);
  final BasicHttpEntity httpentity=new BasicHttpEntity();
  httpentity.setContent(new ByteArrayInputStream(bytes));
  httpentity.setContentLength(-1L);
  final byte[] bytes2=EntityUtils.toByteArray(httpentity);
  Assert.assertNotNull(bytes2);
  Assert.assertEquals(bytes.length,bytes2.length);
  for (int i=0; i < bytes.length; i++) {
    Assert.assertEquals(bytes[i],bytes2[i]);
  }
}

</code></pre>

<br>
<pre class="type-11 type-14 type-1 type-10 type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testKnownLengthContentToByteArray() throws Exception {
  final byte[] bytes="Message content".getBytes(StandardCharsets.ISO_8859_1);
  final BasicHttpEntity httpentity=new BasicHttpEntity();
  httpentity.setContent(new ByteArrayInputStream(bytes));
  httpentity.setContentLength(bytes.length);
  final byte[] bytes2=EntityUtils.toByteArray(httpentity);
  Assert.assertNotNull(bytes2);
  Assert.assertEquals(bytes.length,bytes2.length);
  for (int i=0; i < bytes.length; i++) {
    Assert.assertEquals(bytes[i],bytes2[i]);
  }
}

</code></pre>

<br>
<pre class="type-11 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
"></span><br>
@Test public void testEmptyContentToString() throws Exception {
  final NullHttpEntity httpentity=new NullHttpEntity();
  final String s=EntityUtils.toString(httpentity);
  Assert.assertNull(s);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUnknownLengthContentToString() throws Exception {
  final byte[] bytes="Message content".getBytes(StandardCharsets.ISO_8859_1);
  final BasicHttpEntity httpentity=new BasicHttpEntity();
  httpentity.setContent(new ByteArrayInputStream(bytes));
  httpentity.setContentLength(-1L);
  final String s=EntityUtils.toString(httpentity,"ISO-8859-1");
  Assert.assertEquals("Message content",s);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testContentWithContentTypeToString() throws Exception {
  final String content=constructString(RUSSIAN_HELLO);
  final byte[] bytes=content.getBytes(StandardCharsets.UTF_8);
  final BasicHttpEntity httpentity=new BasicHttpEntity();
  httpentity.setContent(new ByteArrayInputStream(bytes));
  httpentity.setContentType("text/plain; charset=UTF-8");
  final String s=EntityUtils.toString(httpentity,"ISO-8859-1");
  Assert.assertEquals(content,s);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testKnownLengthContentToString() throws Exception {
  final byte[] bytes="Message content".getBytes(StandardCharsets.ISO_8859_1);
  final BasicHttpEntity httpentity=new BasicHttpEntity();
  httpentity.setContent(new ByteArrayInputStream(bytes));
  httpentity.setContentLength(bytes.length);
  final String s=EntityUtils.toString(httpentity,"ISO-8859-1");
  Assert.assertEquals("Message content",s);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testContentWithInvalidContentTypeToString() throws Exception {
  final String content=constructString(RUSSIAN_HELLO);
  final byte[] bytes=content.getBytes("UTF-8");
  final BasicHttpEntity httpentity=new BasicHttpEntity();
  httpentity.setContent(new ByteArrayInputStream(bytes));
  httpentity.setContentType("text/plain; charset=nosuchcharset");
  final String s=EntityUtils.toString(httpentity,"UTF-8");
  Assert.assertEquals(content,s);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.hc.core5.util.TestLangUtils </h4><pre class="type-11 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testBasicHash(){
  final Integer i=new Integer(1234);
  final int h1=LangUtils.hashCode(LangUtils.HASH_SEED,i.hashCode());
  final int h2=LangUtils.hashCode(LangUtils.HASH_SEED,i);
  Assert.assertTrue(h1 == h2);
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
