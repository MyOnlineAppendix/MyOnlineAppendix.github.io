<h3 style="margin:0px">Class: org.apache.tuscany.sca.node.impl.NodeImplTestCase (11 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Executes methods or other tests from the same test unit"><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >ExecutionTester&nbsp;(7)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="12"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('12')" data-toggle="tooltip" title="Invokes logging operations"><kbd id="tag-12"class="label-info"style="display: inline-block;font-size:7pt" >Logger&nbsp;(1)</kbd></button>&nbsp;<button id="14"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('14')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-14"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testNodeWithCompositeContent(){
  NodeFactory factory=new NodeFactoryImpl();
  Contribution contribution=new Contribution("c1",new File("target/test-classes").toURI().toString());
  Node node=factory.createNode(new StringReader(composite),contribution);
  testNode2(node);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@SuppressWarnings("deprecation") @Test public void testNodeWithAbsoluteCompositeURI() throws MalformedURLException {
  NodeFactory factory=new NodeFactoryImpl();
  Contribution contribution=new Contribution("c1",new File("target/test-classes").toURL().toString());
  String compositeURI=new File("target/test-classes/HelloWorld.composite").toURL().toString();
  Node node=factory.createNode(compositeURI,contribution);
  testNode(node);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testNodeWithURI(){
  testNode(new NodeFactoryImpl().createNode(URI.create("foo"),"target/test-classes"));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDefaultNode(){
  testNode(new NodeFactoryImpl().createNode());
}

</code></pre>

<pre class="type-12 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testLoadNodeFactoryProperties() throws Exception {
  URL url=getClass().getResource("/org/apache/tuscany/sca/node/configuration/test-node-factory.config");
  Collection<Map<String,String>> items=ServiceDeclarationParser.load(url,false);
  for (  Map<String,String> attrs : items) {
    System.out.println(attrs);
  }
}

</code></pre>

<pre class="type-2 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testAutoDestroy() throws Exception {
  NodeFactory nf=NodeFactory.newInstance();
  Node node=nf.createNode();
  node.start();
  Assert.assertTrue(((NodeFactoryImpl)nf).inited);
  node.stop();
  Assert.assertFalse(((NodeFactoryImpl)nf).inited);
  nf=NodeFactory.newInstance();
  nf.setAutoDestroy(false);
  node=nf.createNode();
  node.start();
  Assert.assertTrue(((NodeFactoryImpl)nf).inited);
  node.stop();
  Assert.assertTrue(((NodeFactoryImpl)nf).inited);
}

</code></pre>

<pre class="type-7 type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNodeFactoryProperties() throws Exception {
  NodeFactoryImpl factory=(NodeFactoryImpl)NodeFactory.newInstance();
  factory.init();
  UtilityExtensionPoint utilities=factory.getExtensionPointRegistry().getExtensionPoint(UtilityExtensionPoint.class);
  Properties ps=utilities.getUtility(RuntimeProperties.class).getProperties();
  Assert.assertEquals(0,ps.size());
  Properties properties=new Properties();
  properties.setProperty("defaultScheme","vm");
  properties.setProperty("foo.bla","some value");
  factory=(NodeFactoryImpl)NodeFactory.newInstance(properties);
  factory.init();
  utilities=factory.getExtensionPointRegistry().getExtensionPoint(UtilityExtensionPoint.class);
  ps=utilities.getUtility(RuntimeProperties.class).getProperties();
  Assert.assertEquals(2,ps.size());
  Assert.assertEquals("some value",ps.getProperty("foo.bla"));
  factory=(NodeFactoryImpl)NodeFactory.newInstance("properties:test.properties");
  factory.init();
  utilities=factory.getExtensionPointRegistry().getExtensionPoint(UtilityExtensionPoint.class);
  ps=utilities.getUtility(RuntimeProperties.class).getProperties();
  Assert.assertEquals(2,ps.size());
  Assert.assertEquals("xyz",ps.getProperty("foo.bla"));
  factory=(NodeFactoryImpl)NodeFactory.newInstance("uri:foo?k1=v1&k2=v2&defaultScheme=vm");
  factory.init();
  utilities=factory.getExtensionPointRegistry().getExtensionPoint(UtilityExtensionPoint.class);
  ps=utilities.getUtility(RuntimeProperties.class).getProperties();
  Assert.assertEquals(4,ps.size());
  Assert.assertEquals("vm",ps.getProperty("defaultScheme"));
  Assert.assertEquals("foo",ps.getProperty("defaultDomainName"));
  Assert.assertEquals("v1",ps.getProperty("k1"));
  Assert.assertEquals("v2",ps.getProperty("k2"));
  factory=(NodeFactoryImpl)NodeFactory.newInstance("uri:");
  factory.init();
  utilities=factory.getExtensionPointRegistry().getExtensionPoint(UtilityExtensionPoint.class);
  ps=utilities.getUtility(RuntimeProperties.class).getProperties();
  Assert.assertEquals(1,ps.size());
  Assert.assertEquals("",ps.getProperty("defaultDomainName"));
  factory=(NodeFactoryImpl)NodeFactory.newInstance("uri:?");
  factory.init();
  utilities=factory.getExtensionPointRegistry().getExtensionPoint(UtilityExtensionPoint.class);
  ps=utilities.getUtility(RuntimeProperties.class).getProperties();
  Assert.assertEquals(1,ps.size());
  Assert.assertEquals("default",ps.getProperty("defaultDomainName"));
  factory=(NodeFactoryImpl)NodeFactory.newInstance("uri:?foo");
  factory.init();
  utilities=factory.getExtensionPointRegistry().getExtensionPoint(UtilityExtensionPoint.class);
  ps=utilities.getUtility(RuntimeProperties.class).getProperties();
  Assert.assertEquals(2,ps.size());
  Assert.assertEquals("default",ps.getProperty("defaultDomainName"));
  Assert.assertEquals("",ps.getProperty("foo"));
}

</code></pre>

<pre class="type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetServiceEndpoints(){
  NodeFactory factory=new NodeFactoryImpl();
  Contribution contribution=new Contribution("c1",new File("target/test-classes").toURI().toString());
  NodeImpl node=(NodeImpl)factory.createNode(new StringReader(composite),contribution);
  node.start();
  List<Endpoint> es=node.getServiceEndpoints();
  Assert.assertEquals(1,es.size());
  Assert.assertEquals("HelloWorld2",es.get(0).getComponent().getName());
  node.stop();
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testNodeWithRelativeCompositeURI(){
  NodeFactory factory=new NodeFactoryImpl();
  Contribution contribution=new Contribution("c1",new File("target/test-classes").toURI().toString());
  String compositeURI="HelloWorld.composite";
  Node node=factory.createNode(compositeURI,contribution);
  testNode(node);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testNodeWithURIandComposite() throws MalformedURLException {
  String compositeURI=new File("target/test-classes/HelloWorld.composite").toURI().toString();
  testNode(new NodeFactoryImpl().createNode(URI.create("foo"),compositeURI,new String[]{"target/test-classes"}));
}

</code></pre>

<pre class="type-7 type-2 type-9 type-1 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNodeFactoryAttributes(){
  Map<String,Map<String,String>> attrs=new HashMap<String,Map<String,String>>();
  Map<String,String> map=new HashMap<String,String>();
  map.put("enabled","false");
  attrs.put(ValidationSchemaExtensionPoint.class.getName(),map);
  Map<String,String> map2=new HashMap<String,String>();
  map2.put("urn:MyDomain","multicast://200.0.0.100:50000/MyDomain");
  attrs.put(DomainRegistryFactoryExtensionPoint.class.getName(),map2);
  NodeFactoryImpl factory=(NodeFactoryImpl)NodeFactory.newInstance(attrs);
  Assert.assertFalse(factory.getExtensionPointRegistry().getExtensionPoint(ValidationSchemaExtensionPoint.class).isEnabled());
  DomainRegistryFactoryExtensionPoint domainRegistryFactoryExtensionPoint=factory.getExtensionPointRegistry().getExtensionPoint(DomainRegistryFactoryExtensionPoint.class);
  Map<String,String> mapping=domainRegistryFactoryExtensionPoint.getDomainRegistryMapping();
  Assert.assertEquals(1,mapping.size());
  Assert.assertEquals("multicast://200.0.0.100:50000/MyDomain",mapping.get("urn:MyDomain"));
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
