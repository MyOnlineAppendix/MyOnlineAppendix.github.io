<h3><span class=" glyphicon glyphicon-tag"/>&nbspBooleanVerifier</h3><kbd>Verifies boolean conditions</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.aries.ant.taskdefs.EsaTaskTest </h4><pre class="type-4 type-5 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void generateArchiveNoManifest(){
  File srcDir=new File("../src/test/resources");
  File destfile=new File("target/esa-test1.esa");
  if (destfile.exists()) {
    destfile.delete();
  }
  assertFalse(destfile.exists());
  EsaTask esaTask=new EsaTask();
  Project testProject=new Project();
  esaTask.setProject(testProject);
  FileSet fileSet=new FileSet();
  fileSet.setDir(srcDir);
  fileSet.setIncludes("*.jar");
  esaTask.addFileset(fileSet);
  esaTask.setDestFile(destfile);
  esaTask.setSymbolicName("esatask-test");
  esaTask.setVersion("1.0.0");
  esaTask.execute();
  assertTrue(destfile.exists());
  try {
    ZipFile esaArchive=new ZipFile(destfile);
    assertNotNull(esaArchive);
    ZipEntry subsystemManifest=esaArchive.getEntry("OSGI-INF/SUBSYSTEM.MF");
    assertNull(subsystemManifest);
  }
 catch (  IOException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-4 type-5 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void generateArchiveWithFileManifest(){
  File srcDir=new File("../src/test/resources");
  File destfile=new File("target/esa-test2.esa");
  if (destfile.exists()) {
    destfile.delete();
  }
  assertFalse(destfile.exists());
  EsaTask esaTask=new EsaTask();
  Project testProject=new Project();
  esaTask.setProject(testProject);
  FileSet fileSet=new FileSet();
  fileSet.setDir(srcDir);
  fileSet.setIncludes("*.jar");
  esaTask.addFileset(fileSet);
  esaTask.setDestFile(destfile);
  esaTask.setSymbolicName("esatask-test");
  esaTask.setVersion("1.0.0");
  esaTask.setManifest(new File(srcDir,"SUBSYSTEM.MF"));
  esaTask.execute();
  assertTrue(destfile.exists());
  try {
    ZipFile esaArchive=new ZipFile(destfile);
    assertNotNull(esaArchive);
    ZipEntry subsystemManifest=esaArchive.getEntry("OSGI-INF/SUBSYSTEM.MF");
    assertNotNull(subsystemManifest);
  }
 catch (  IOException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-4 type-5 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void generateArchiveWithNewManifest(){
  File srcDir=new File("../src/test/resources");
  assertTrue(srcDir.exists());
  File destfile=new File("target/esa-test.esa");
  if (destfile.exists()) {
    destfile.delete();
  }
  assertFalse(destfile.exists());
  EsaTask esaTask=new EsaTask();
  Project testProject=new Project();
  esaTask.setProject(testProject);
  FileSet fileSet=new FileSet();
  fileSet.setDir(srcDir);
  fileSet.setIncludes("*.jar");
  esaTask.addFileset(fileSet);
  esaTask.setDestFile(destfile);
  esaTask.setSymbolicName("esatask-test");
  esaTask.setName("ESA Test Task");
  esaTask.setVersion("1.0.0");
  esaTask.setGenerateManifest(true);
  esaTask.execute();
  assertTrue(destfile.exists());
  try {
    ZipFile esaArchive=new ZipFile(destfile);
    assertNotNull(esaArchive);
    ZipEntry subsystemManifest=esaArchive.getEntry("OSGI-INF/SUBSYSTEM.MF");
    assertNotNull(subsystemManifest);
  }
 catch (  IOException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.application.deployment.management.DeploymentGeneratorTest </h4><pre class="type-4 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void checkBundleInAppContentAndUseContent() throws Exception {
  List<ModelledResource> cmr=new ArrayList<ModelledResource>();
  cmr.add(createModelledResource("test.api","1.1.0",Collections.<String>emptyList(),Arrays.asList("test.api.pack;version=1.1.0")));
  cmr.add(createModelledResource("test.api","1.0.0",Collections.<String>emptyList(),Arrays.asList("test.api.pack;version=1.0.0")));
  cmr.add(createModelledResource("test.consumer","1.0.0",Arrays.asList("test.api.pack;version=\"[1.0.0,2.0.0)\""),Collections.<String>emptyList()));
  cmr.add(createModelledResource("test.provider","1.0.0",Arrays.asList("test.api.pack;version=\"[1.0.0,1.1.0)\""),Collections.<String>emptyList()));
  _resolver.addResult(cmr);
  Skeleton.getSkeleton(appMetadata).setReturnValue(new MethodCall(ApplicationMetadata.class,"getApplicationContents"),Arrays.asList(mockContent("test.api","1.1.0"),mockContent("test.consumer","1.0.0"),mockContent("test.provider","1.0.0")));
  Skeleton.getSkeleton(appMetadata).setReturnValue(new MethodCall(ApplicationMetadata.class,"getUseBundles"),Arrays.asList(mockContent("test.api","1.0.0")));
  app=Skeleton.newMock(AriesApplication.class);
  Skeleton.getSkeleton(app).setReturnValue(new MethodCall(AriesApplication.class,"getApplicationMetadata"),appMetadata);
  DeployedBundles deployedBundles=deplMFMgr.generateDeployedBundles(appMetadata,Arrays.asList(new ModelledResource[]{cmr.get(0),cmr.get(2),cmr.get(3)}),new ArrayList<Content>());
  Manifest mf=deplMFMgr.generateDeploymentManifest(appMetadata.getApplicationSymbolicName(),appMetadata.getApplicationVersion().toString(),deployedBundles);
  mf.write(System.out);
  assertTrue(mf.getMainAttributes().getValue("Deployed-Content").contains("test.api;deployed-version=1.1.0"));
  assertTrue(mf.getMainAttributes().getValue("Deployed-Use-Bundle").contains("test.api;deployed-version=1.0.0"));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Similar to the checkBundleInAppContentAndProvisionContent scenario. However, this time the provisioned bundle does not provide
 * a package or service to the isolated content, so there is no problem.
 * @throws Exception
 */
@Test public void checkBundleInAppContentAndProvisionContentButNothingSharedToIsolatedContent() throws Exception {
  List<ModelledResource> cmr=new ArrayList<ModelledResource>();
  cmr.add(createModelledResource("test.util","1.1.0",Collections.<String>emptyList(),Arrays.asList("test.api.pack;version=1.1.0")));
  cmr.add(createModelledResource("test.bundle","1.0.0",Arrays.asList("test.api.pack;version=\"[1.1.0,2.0.0)\""),Collections.<String>emptyList()));
  cmr.add(createModelledResource("test.provisioned","1.0.0",Arrays.asList("test.api.pack;version=\"[1.0.0,1.1.0)\""),Collections.<String>emptyList()));
  cmr.add(createModelledResource("test.util","1.0.0",Collections.<String>emptyList(),Arrays.asList("test.api.pack;version=1.0.0")));
  _resolver.addResult(cmr);
  Skeleton.getSkeleton(appMetadata).setReturnValue(new MethodCall(ApplicationMetadata.class,"getApplicationContents"),Arrays.asList(mockContent("test.util","1.1.0"),mockContent("test.bundle","1.0.0")));
  app=Skeleton.newMock(AriesApplication.class);
  Skeleton.getSkeleton(app).setReturnValue(new MethodCall(AriesApplication.class,"getApplicationMetadata"),appMetadata);
  DeployedBundles deployedBundles=deplMFMgr.generateDeployedBundles(appMetadata,Arrays.asList(new ModelledResource[]{cmr.get(0),cmr.get(1)}),new ArrayList<Content>());
  Manifest mf=deplMFMgr.generateDeploymentManifest(appMetadata.getApplicationSymbolicName(),appMetadata.getApplicationVersion().toString(),deployedBundles);
  assertTrue(mf.getMainAttributes().getValue("Deployed-Content").contains("test.util;deployed-version=1.1.0"));
  assertTrue(mf.getMainAttributes().getValue("Provision-Bundle").contains("test.util;deployed-version=1.0.0"));
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * This method checks that the a more complicated circular dependency issues the correct error message
 * and checks that the details listed in the exception are correct. 
 * @throws Exception
 */
@Test public void checkMultipleCircularDependenciesDetected() throws Exception {
  Collection<ModelledResource> cmr=new ArrayList<ModelledResource>();
  ExportedPackage testIsolated1=createExportedPackage("test.isolated1","1.0.0",new String[]{"test.isolated1","test.isolated2"},new String[]{"test.shared1","test.shared2"});
  cmr.add(testIsolated1.getBundle());
  ExportedPackage testIsolated2=createExportedPackage("test.isolated2","1.0.0",new String[]{"test.isolated1","test.isolated2"},new String[]{"test.shared1","test.shared2"});
  cmr.add(testIsolated2.getBundle());
  ExportedPackage testShared1=createExportedPackage("test.shared1","1.0.0",new String[]{"test.shared1","test.shared2"},new String[]{"test.isolated1","test.isolated2"});
  cmr.add(testShared1.getBundle());
  ExportedPackage testShared2=createExportedPackage("test.shared2","1.0.0",new String[]{"test.shared1","test.shared2"},new String[]{"test.isolated1","test.isolated2"});
  cmr.add(testShared2.getBundle());
  _resolver.addResult(cmr);
  _resolver.addResult(cmr);
  Skeleton.getSkeleton(appMetadata).setReturnValue(new MethodCall(ApplicationMetadata.class,"getApplicationContents"),Arrays.asList(mockContent("test.isolated1","1.0.0"),mockContent("test.isolated2","1.0.0")));
  app=Skeleton.newMock(AriesApplication.class);
  Skeleton.getSkeleton(app).setReturnValue(new MethodCall(AriesApplication.class,"getApplicationMetadata"),appMetadata);
  try {
    DeployedBundles deployedBundles=deplMFMgr.generateDeployedBundles(appMetadata,Arrays.asList(new ModelledResource[]{testIsolated1.getBundle(),testIsolated2.getBundle()}),new ArrayList<Content>());
    deplMFMgr.generateDeploymentManifest(appMetadata.getApplicationSymbolicName(),appMetadata.getApplicationVersion().toString(),deployedBundles);
  }
 catch (  ResolverException rx) {
    List<String> unsatisfiedReqs=rx.getUnsatisfiedRequirements();
    assertEquals("4 unsatisfied requirements expected, but got " + Arrays.toString(unsatisfiedReqs.toArray()),4,unsatisfiedReqs.size());
    List<String> checkMessages=new ArrayList<String>();
    checkMessages.add("Shared bundle test.shared1_1.0.0 has a dependency for package test.isolated1 which " + "is exported from application bundles [test.isolated1_1.0.0, test.isolated2_1.0.0]");
    checkMessages.add("Shared bundle test.shared1_1.0.0 has a dependency for package test.isolated2 which " + "is exported from application bundles [test.isolated1_1.0.0, test.isolated2_1.0.0]");
    checkMessages.add("Shared bundle test.shared2_1.0.0 has a dependency for package test.isolated1 which " + "is exported from application bundles [test.isolated1_1.0.0, test.isolated2_1.0.0]");
    checkMessages.add("Shared bundle test.shared2_1.0.0 has a dependency for package test.isolated2 which " + "is exported from application bundles [test.isolated1_1.0.0, test.isolated2_1.0.0]");
    for (    String unsatisfiedReq : unsatisfiedReqs) {
      assertTrue(unsatisfiedReq + " is not an expected msg",checkMessages.contains(unsatisfiedReq.trim()));
    }
  }
}

</code></pre>

<br>
<pre class="type-5 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void checkBasicCircularDependenciesDetected() throws Exception {
  Collection<ModelledResource> cmr=new ArrayList<ModelledResource>();
  ExportedPackage testIsolatedPkg=createExportedPackage("test.isolated","1.0.0",new String[]{"test.shared"},new String[]{"test.isolated.pkg"});
  cmr.add(testIsolatedPkg.getBundle());
  ExportedPackage testSharedPkg=createExportedPackage("test.shared","1.0.0",new String[]{"test.isolated.pkg"},new String[]{"test.shared"});
  cmr.add(testSharedPkg.getBundle());
  _resolver.addResult(cmr);
  _resolver.addResult(cmr);
  Skeleton.getSkeleton(appMetadata).setReturnValue(new MethodCall(ApplicationMetadata.class,"getApplicationContents"),Arrays.asList(mockContent("test.isolated","1.0.0")));
  try {
    DeployedBundles deployedBundles=deplMFMgr.generateDeployedBundles(appMetadata,new ArrayList<ModelledResource>(),new ArrayList<Content>());
    deplMFMgr.generateDeploymentManifest(appMetadata.getApplicationSymbolicName(),appMetadata.getApplicationVersion().toString(),deployedBundles);
  }
 catch (  ResolverException rx) {
    List<String> usr=rx.getUnsatisfiedRequirements();
    assertEquals("One unsatisfied requirement expected, not " + usr.size(),usr.size(),1);
    String chkMsg="Shared bundle test.shared_1.0.0 has a dependency for package " + "test.shared which is exported from application bundle [test.isolated_1.0.0]";
    assertTrue(chkMsg + " expected, not " + usr,usr.contains(chkMsg));
    return;
  }
  fail("ResolverException expected");
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolve() throws Exception {
  Skeleton.getSkeleton(appMetadata).setReturnValue(new MethodCall(ApplicationMetadata.class,"getApplicationContents"),Arrays.asList(mockContent("aries.test.a","1.0.0"),mockContent("aries.test.b","[1.0.0, 2.0.0)")));
  Skeleton.getSkeleton(appMetadata).setReturnValue(new MethodCall(ApplicationMetadata.class,"getUseBundles"),Arrays.asList(BUNDLE_C,BUNDLE_D));
  DeployedBundles deployedBundles=deplMFMgr.generateDeployedBundles(appMetadata,new ArrayList<ModelledResource>(),Collections.<Content>emptyList());
  Manifest man=deplMFMgr.generateDeploymentManifest(appMetadata.getApplicationSymbolicName(),appMetadata.getApplicationVersion().toString(),deployedBundles);
  Attributes attrs=man.getMainAttributes();
  assertEquals("aries.test",attrs.getValue(AppConstants.APPLICATION_SYMBOLIC_NAME));
  assertEquals("1.0.0",attrs.getValue(AppConstants.APPLICATION_VERSION));
  String content=attrs.getValue(AppConstants.DEPLOYMENT_CONTENT);
  String useBundle=attrs.getValue(AppConstants.DEPLOYMENT_USE_BUNDLE);
  String provisioned=attrs.getValue(AppConstants.DEPLOYMENT_PROVISION_BUNDLE);
  assertTrue(content.contains("aries.test.a;deployed-version=1.0.0"));
  assertTrue(content.contains("aries.test.b;deployed-version=1.1.0"));
  assertTrue(useBundle.contains("aries.test.c;deployed-version=1.0.5"));
  assertFalse(useBundle.contains("aries.test.d"));
  assertTrue(provisioned.contains("aries.test.e;deployed-version=1.0.0"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.application.impl.ApplicationMetadataImplTest </h4><pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMetadataCreation() throws Exception {
  ApplicationMetadataFactory manager=new ApplicationMetadataFactoryImpl();
  ApplicationMetadata app=manager.parseApplicationMetadata(getClass().getResourceAsStream("/META-INF/APPLICATION4.MF"));
  assertEquals("Travel Reservation",app.getApplicationName());
  assertEquals("com.travel.reservation",app.getApplicationSymbolicName());
  assertEquals(Version.parseVersion("1.2.0"),app.getApplicationVersion());
  List<Content> appContents=app.getApplicationContents();
  assertEquals(2,appContents.size());
  Content appContent1=new ContentImpl("com.travel.reservation.business");
  Map<String,String> attrs=new HashMap<String,String>();
  attrs.put("version","\"[1.1.0,1.2.0)\"");
  Content appContent2=new ContentImpl("com.travel.reservation.web",attrs);
  assertTrue(appContents.contains(appContent2));
  assertTrue(appContents.contains(appContent1));
  List<ServiceDeclaration> importedService=app.getApplicationImportServices();
  assertEquals(2,importedService.size());
  assertTrue(importedService.contains(new ServiceDeclarationImpl("com.travel.flight.api")));
  assertTrue(importedService.contains(new ServiceDeclarationImpl("com.travel.rail.api")));
  List<ServiceDeclaration> exportedService=app.getApplicationExportServices();
  assertTrue(exportedService.contains(new ServiceDeclarationImpl("com.travel.reservation")));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.application.impl.DeploymentContentImplTest </h4><pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeploymentContent002() throws Exception {
  DeploymentContentImpl dc=new DeploymentContentImpl("com.travel.reservation.business;deployed-version=2.0");
  assertEquals("2.0",dc.getAttribute("deployed-version"));
  VersionRange vi=dc.getVersion();
  assertTrue(vi.isExactVersion());
  assertEquals(new Version("2.0"),dc.getExactVersion());
  assertEquals("com.travel.reservation.business",dc.getContentName());
  assertEquals("{deployed-version=2.0}",dc.getNameValueMap().toString());
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeploymentContent003() throws Exception {
  DeploymentContentImpl dc=new DeploymentContentImpl("com.travel.reservation.data;deployed-version=2.1.1");
  assertEquals("2.1.1",dc.getAttribute("deployed-version"));
  VersionRange vi=dc.getVersion();
  assertTrue(vi.isExactVersion());
  assertEquals(new Version("2.1.1"),dc.getExactVersion());
  assertEquals("com.travel.reservation.data",dc.getContentName());
  assertEquals("{deployed-version=2.1.1}",dc.getNameValueMap().toString());
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeploymentContent001() throws Exception {
  DeploymentContentImpl dc=new DeploymentContentImpl("com.travel.reservation.web;deployed-version=\"1.1.0\"");
  assertEquals("1.1.0",dc.getAttribute("deployed-version"));
  VersionRange vi=dc.getVersion();
  assertTrue(vi.isExactVersion());
  assertEquals(new Version("1.1.0"),dc.getExactVersion());
  assertEquals("com.travel.reservation.web",dc.getContentName());
  assertEquals("{deployed-version=1.1.0}",dc.getNameValueMap().toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.application.management.impl.AriesApplicationManagerImplTest </h4><pre class="type-4 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreate() throws Exception {
  AriesApplication app=createApplication(TEST_EBA);
  ApplicationMetadata appMeta=app.getApplicationMetadata();
  assertEquals(appMeta.getApplicationName(),"Test application");
  assertEquals(appMeta.getApplicationSymbolicName(),"org.apache.aries.application.management.test");
  assertEquals(appMeta.getApplicationVersion(),new Version("1.0"));
  List<Content> appContent=appMeta.getApplicationContents();
  assertEquals(appContent.size(),2);
  Content fbw=new ContentImpl("foo.bar.widgets;version=1.0.0");
  Content mbl=new ContentImpl("my.business.logic;version=1.0.0");
  assertTrue(appContent.contains(fbw));
  assertTrue(appContent.contains(mbl));
  DeploymentMetadata dm=app.getDeploymentMetadata();
  List<DeploymentContent> dcList=dm.getApplicationDeploymentContents();
  assertEquals(2,dcList.size());
  DeploymentContent dc1=new DeploymentContentImpl("foo.bar.widgets;deployed-version=1.1.0");
  DeploymentContent dc2=new DeploymentContentImpl("my.business.logic;deployed-version=1.1.0");
  DeploymentContent dc3=new DeploymentContentImpl("a.handy.persistence.library;deployed-version=1.1.0");
  assertTrue(dcList.contains(dc1));
  assertTrue(dcList.contains(dc2));
  dcList=dm.getApplicationProvisionBundles();
  assertEquals(1,dcList.size());
  assertTrue(dcList.contains(dc3));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateAndConversion() throws Exception {
  AriesApplication app=createApplication(CONVERSION_EBA);
  ApplicationMetadata appMeta=app.getApplicationMetadata();
  assertEquals(appMeta.getApplicationName(),"conversion.eba");
  assertEquals(appMeta.getApplicationSymbolicName(),"conversion.eba");
  assertEquals(appMeta.getApplicationVersion(),new Version("0.0"));
  List<Content> appContent=appMeta.getApplicationContents();
  assertEquals(2,appContent.size());
  Content fbw=new ContentImpl("hello.world.jar;version=\"[1.1.0, 1.1.0]\"");
  Content mbl=new ContentImpl("helloWorld.war;version=\"[0.0.0, 0.0.0]\"");
  assertTrue(appContent.contains(fbw));
  assertTrue(appContent.contains(mbl));
  DeploymentMetadata dm=app.getDeploymentMetadata();
  List<DeploymentContent> dcList=dm.getApplicationDeploymentContents();
  assertEquals(2,dcList.size());
  DeploymentContent dc1=new DeploymentContentImpl("hello.world.jar;deployed-version=1.1.0");
  DeploymentContent dc2=new DeploymentContentImpl("helloWorld.war;deployed-version=0.0.0");
  DeploymentContent dc3=new DeploymentContentImpl("a.handy.persistence.library;deployed-version=1.1.0");
  assertTrue(dcList.contains(dc1));
  assertTrue(dcList.contains(dc2));
  dcList=dm.getApplicationProvisionBundles();
  assertEquals(1,dcList.size());
  assertTrue(dcList.contains(dc3));
  assertEquals(2,app.getBundleInfo().size());
  BundleInfo info;
  info=findBundleInfo(app.getBundleInfo(),"hello.world.jar");
  assertNotNull(info);
  assertEquals("HelloWorldJar",info.getHeaders().get(Constants.BUNDLE_NAME));
  info=findBundleInfo(app.getBundleInfo(),"helloWorld.war");
  assertNotNull(info);
  assertEquals("helloWorld.war",info.getHeaders().get(Constants.BUNDLE_NAME));
  assertEquals("/test",info.getHeaders().get("Bundle-ContextPath"));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-3 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFailedUpdate() throws Exception {
  AriesApplication app=createApplication(TEST_EBA);
  DeploymentMetadata depMf=createUpdateDepMf();
  AriesApplicationContext ctx=Skeleton.newMock(AriesApplicationContext.class);
  Skeleton.getSkeleton(ctx).setReturnValue(new MethodCall(AriesApplicationContext.class,"getApplication"),app);
  AriesApplicationContextManager ctxMgr=Skeleton.newMock(AriesApplicationContextManager.class);
  Skeleton.getSkeleton(ctxMgr).setReturnValue(new MethodCall(AriesApplicationContextManager.class,"getApplicationContexts"),Collections.singleton(ctx));
  Skeleton.getSkeleton(ctxMgr).setThrows(new MethodCall(AriesApplicationContextManager.class,"update",AriesApplication.class,DeploymentMetadata.class),new UpdateException("",null,false,null));
  _appMgr.setApplicationContextManager(ctxMgr);
  try {
    _appMgr.update(app,depMf);
    fail("Update should have failed.");
  }
 catch (  UpdateException e) {
    assertTrue("Deployment.mf should have been updated",app.getDeploymentMetadata() == depMf);
  }
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testUpdate() throws Exception {
  AriesApplication app=createApplication(TEST_EBA);
  DeploymentMetadata depMf=createUpdateDepMf();
  AriesApplicationContextManager ctxMgr=Skeleton.newMock(AriesApplicationContextManager.class);
  _appMgr.setApplicationContextManager(ctxMgr);
  _appMgr.update(app,depMf);
  assertTrue("Deployment.mf should have been updated",app.getDeploymentMetadata() == depMf);
}

</code></pre>

<br>
<pre class="type-4 type-5 type-3 type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRolledbackUpdate() throws Exception {
  AriesApplication app=createApplication(TEST_EBA);
  DeploymentMetadata depMf=createUpdateDepMf();
  DeploymentMetadata oldMf=app.getDeploymentMetadata();
  AriesApplicationContext ctx=Skeleton.newMock(AriesApplicationContext.class);
  Skeleton.getSkeleton(ctx).setReturnValue(new MethodCall(AriesApplicationContext.class,"getApplication"),app);
  AriesApplicationContextManager ctxMgr=Skeleton.newMock(AriesApplicationContextManager.class);
  Skeleton.getSkeleton(ctxMgr).setReturnValue(new MethodCall(AriesApplicationContextManager.class,"getApplicationContexts"),Collections.singleton(ctx));
  Skeleton.getSkeleton(ctxMgr).setThrows(new MethodCall(AriesApplicationContextManager.class,"update",AriesApplication.class,DeploymentMetadata.class),new UpdateException("",null,true,null));
  _appMgr.setApplicationContextManager(ctxMgr);
  try {
    _appMgr.update(app,depMf);
    fail("Update should have failed.");
  }
 catch (  UpdateException e) {
    assertTrue("Deployment.mf should have been rolled back to the old",app.getDeploymentMetadata() == oldMf);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.application.modelling.impl.ParserProxyTest </h4><pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void basicTest1() throws Exception {
  File bpXml=new File(resourceDir,"appModeller/test1.eba/bundle1.jar/OSGI-INF/blueprint/bp.xml");
  File bp2Xml=new File(resourceDir,"appModeller/test1.eba/bundle1.jar/OSGI-INF/blueprint/bp2.xml");
  List<URL> urls=new ArrayList<URL>();
  urls.add((bpXml.toURI()).toURL());
  urls.add((bp2Xml.toURI()).toURL());
  List<? extends WrappedServiceMetadata> results=_parserProxy.parse(urls);
  assertTrue("Four results expected, not " + results.size(),results.size() == 4);
  Set<WrappedServiceMetadata> resultSet=new HashSet<WrappedServiceMetadata>(results);
  Set<WrappedServiceMetadata> expectedResults=getTest1ExpectedResults();
  assertEquals("Blueprint parsed xml is not as expected: " + resultSet.toString() + " != "+ expectedResults,resultSet,expectedResults);
}

</code></pre>

<br>
<pre class="type-3 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseAllServiceElements() throws Exception {
  File bpXml=new File(resourceDir,"appModeller/test1.eba/bundle1.jar/OSGI-INF/blueprint/bp.xml");
  File bp2Xml=new File(resourceDir,"appModeller/test1.eba/bundle1.jar/OSGI-INF/blueprint/bp2.xml");
  List<WrappedServiceMetadata> services=new ArrayList<WrappedServiceMetadata>();
  List<WrappedReferenceMetadata> references=new ArrayList<WrappedReferenceMetadata>();
  FileInputStream fis=new FileInputStream(bpXml);
  ParsedServiceElements bpelem=_parserProxy.parseAllServiceElements(fis);
  services.addAll(bpelem.getServices());
  references.addAll(bpelem.getReferences());
  fis=new FileInputStream(bp2Xml);
  bpelem=_parserProxy.parseAllServiceElements(fis);
  services.addAll(bpelem.getServices());
  references.addAll(bpelem.getReferences());
  assertTrue("Six services expected, not " + services.size(),services.size() == 6);
  assertTrue("Three references expected, not " + references.size(),references.size() == 3);
  Set<WrappedServiceMetadata> expectedServices=getTest2ExpectedServices();
  int serviceMatchesFound=0;
  for (  WrappedServiceMetadata result : services) {
    Iterator<WrappedServiceMetadata> it=expectedServices.iterator();
    while (it.hasNext()) {
      WrappedServiceMetadata next=it.next();
      if (result.equals(next) || result.identicalOrDiffersOnlyByName(next)) {
        serviceMatchesFound++;
        it.remove();
      }
    }
  }
  assertEquals("Parsed services are wrong: " + expectedServices + " unmatched ",6,serviceMatchesFound);
  Set<WrappedReferenceMetadata> expectedReferences=getTest2ExpectedReferences();
  Set<WrappedReferenceMetadata> results=new HashSet<WrappedReferenceMetadata>(references);
  assertTrue("Parsed references are not as we'd expected: " + results.toString() + " != "+ expectedReferences,results.equals(expectedReferences));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.application.modelling.utils.AbstractBundleResourceTest </h4><pre class="type-4 type-12 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBundleResource() throws Exception {
  assertEquals("The bundle symbolic name is wrong.","test.bundle1",bundleResource.getSymbolicName());
  assertEquals("The bundle version is wrong.","2.0.0.build-121",bundleResource.getVersion().toString());
  assertEquals("The bundle presentation name is wrong.","Test Bundle",bundleResource.getExportedBundle().getAttributes().get(ModellingConstants.OBR_PRESENTATION_NAME));
  int count=0;
  for (  ImportedPackage ip : bundleResource.getImportedPackages()) {
    String filter=ip.getAttributeFilter();
    Map<String,String> parsedFilterElements=ManifestHeaderProcessor.parseFilter(filter);
    if (ip.getPackageName().equals("org.osgi.framework")) {
      count++;
      assertEquals("Wrong package",parsedFilterElements.get("package"),"org.osgi.framework");
      assertEquals("Wrong package version",parsedFilterElements.get("version"),"1.3.0");
    }
 else     if (ip.getPackageName().equals("aries.ws.kernel.file")) {
      count++;
      assertEquals("Wrong package",parsedFilterElements.get("package"),"aries.ws.kernel.file");
      assertEquals("Wrong package version",parsedFilterElements.get("version"),"0.0.0");
    }
 else     if (ip.getPackageName().equals("aries.wsspi.application.aries")) {
      count++;
      assertEquals("Wrong package",parsedFilterElements.get("package"),"aries.wsspi.application.aries");
      assertEquals("Wrong package version",parsedFilterElements.get("version"),"0.0.0");
      assertEquals("Company wrong",parsedFilterElements.get("company"),"yang");
      assertTrue("mandatory filter missing",filter.contains("(mandatory:<*company)"));
    }
 else     if (ip.getPackageName().equals("aries.ws.ffdc")) {
      count++;
      assertEquals("The filter is wrong.","(&(package=aries.ws.ffdc)(version>=0.0.0))",ip.getAttributeFilter());
      assertTrue("Optional import not correctly represented",ip.isOptional());
    }
 else     if (ip.getPackageName().equals("aries.ws.app.framework.plugin")) {
      count++;
      assertEquals("Wrong package",parsedFilterElements.get("package"),"aries.ws.app.framework.plugin");
      assertEquals("Wrong package version",parsedFilterElements.get("version"),"[1.0.0,2.0.0)");
    }
 else     if (ip.getPackageName().equals("aries.ejs.ras")) {
      count++;
      assertEquals("Wrong package",parsedFilterElements.get("package"),"aries.ejs.ras");
      assertEquals("Wrong package version",parsedFilterElements.get("version"),"0.0.0");
    }
 else     if (ip.getPackageName().equals("aries.ws.event")) {
      count++;
      assertEquals("Wrong package",parsedFilterElements.get("package"),"aries.ws.event");
      assertEquals("Wrong package version",parsedFilterElements.get("version"),"1.0.0");
    }
 else     if (ip.getPackageName().equals("aries.wsspi.app.container.aries")) {
      count++;
      assertEquals("Wrong package",parsedFilterElements.get("package"),"aries.wsspi.app.container.aries");
      assertEquals("Wrong package version",parsedFilterElements.get("version"),"0.0.0");
      assertEquals("Wrong bundle symbolic name",parsedFilterElements.get("bundle-symbolic-name"),"B");
      assertEquals("Wrong bundle version",parsedFilterElements.get("bundle-version"),"[1.2.0,2.2.0)");
    }
 else     if (ip.getPackageName().equals("aries.ws.eba.bla")) {
      count++;
      assertEquals("Wrong package",parsedFilterElements.get("package"),"aries.ws.eba.bla");
      assertEquals("Wrong package version",parsedFilterElements.get("version"),"0.0.0");
    }
 else     if (ip.getPackageName().equals("aries.ws.eba.launcher")) {
      count++;
      assertEquals("Wrong package",parsedFilterElements.get("package"),"aries.ws.eba.launcher");
      assertEquals("Wrong package version",parsedFilterElements.get("version"),"[1.0.0,2.0.0]");
      assertTrue("Dynamic-ImportPackage should be optional",ip.isOptional());
    }
 else     if (ip.getPackageName().equals("aries.ws.eba.bundle4")) {
      count++;
      assertEquals("Wrong package",parsedFilterElements.get("package"),"aries.ws.eba.bundle4");
      assertEquals("Wrong package version",parsedFilterElements.get("version"),"3.0.0");
    }
 else     if (ip.getPackageName().equals("aries.ws.eba.bundle5")) {
      count++;
      assertEquals("Wrong package",parsedFilterElements.get("package"),"aries.ws.eba.bundle5");
      assertEquals("Wrong package version",parsedFilterElements.get("version"),"3.0.0");
    }
 else     if (ip.getPackageName().equals("aries.ws.eba.bundle6")) {
      count++;
      assertEquals("Wrong package",parsedFilterElements.get("package"),"aries.ws.eba.bundle6");
      assertEquals("The filter is wrong.","(&(package=aries.ws.eba.bundle6)(version>=0.0.0))",ip.getAttributeFilter());
    }
 else     if (ip.getPackageName().equals("aries.ws.eba.bundle7")) {
      count++;
      assertEquals("The filter is wrong.","(&(package=aries.ws.eba.bundle7)(version>=0.0.0))",ip.getAttributeFilter());
    }
  }
  for (  ImportedBundle ib : bundleResource.getRequiredBundles()) {
    String filter=ib.getAttributeFilter();
    Map<String,String> parsedFilterElements=ManifestHeaderProcessor.parseFilter(filter);
    if (ib.getSymbolicName().equals("com.acme.facade")) {
      count++;
      assertEquals("Wrong bundle symbolic name",parsedFilterElements.get("symbolicname"),"com.acme.facade");
      assertEquals("Wrong bundle version",parsedFilterElements.get("version"),"3.0.0");
    }
 else     if (ib.getSymbolicName().equals("com.acme.bar")) {
      count++;
      assertEquals("Wrong bundle symbolic name",parsedFilterElements.get("symbolicname"),"com.acme.bar");
    }
 else     if (ib.getSymbolicName().equals("aries.ws.eba.framework")) {
      count++;
      assertEquals("Wrong bundle symbolic name",parsedFilterElements.get("symbolicname"),"aries.ws.eba.framework");
      assertEquals("Wrong bundle version",parsedFilterElements.get("version"),"(3.0.0,4.0.0)");
    }
 else     if (ib.getSymbolicName().equals("com.de.ba")) {
      count++;
      assertEquals("Wrong bundle symbolic name",parsedFilterElements.get("symbolicname"),"com.de.ba");
    }
 else     if (ib.getSymbolicName().equals("com.ab.de")) {
      count++;
      assertEquals("Wrong bundle symbolic name",parsedFilterElements.get("symbolicname"),"com.ab.de");
    }
  }
  for (  ImportedService svc : bundleResource.getImportedServices()) {
    if (svc.getInterface().equals("aries.ws.eba.import")) {
      count++;
      String filter=svc.getAttributeFilter();
      Map<String,String> parsedFilterElements=ManifestHeaderProcessor.parseFilter(filter);
      assertEquals("Wrong object class",parsedFilterElements.get("objectClass"),"aries.ws.eba.import");
      assertTrue("(service=service) should be present",svc.getAttributeFilter().contains("(service=service)"));
      assertTrue("(mandatory:<*service) should be present",svc.getAttributeFilter().contains("(mandatory:<*service)"));
    }
  }
  assertEquals("Not all requirements are listed.",bundleResource.getImportedPackages().size() + bundleResource.getImportedServices().size() + bundleResource.getRequiredBundles().size(),count);
  int verifiedExport=0;
  for (  ExportedPackage cap : bundleResource.getExportedPackages()) {
    if (cap.getPackageName().equals("aries.ws.eba.bundle1")) {
      verifiedExport++;
      assertEquals("The export package is not expected.","2.2.0",cap.getVersion());
      assertEquals("The export package is not expected.","test.bundle1",cap.getAttributes().get("bundle-symbolic-name"));
      assertEquals("The export package is not expected.","2.0.0.build-121",cap.getAttributes().get("bundle-version").toString());
    }
 else     if (cap.getPackageName().equals("aries.ws.eba.bundle2")) {
      verifiedExport++;
      assertEquals("The export package is not expected.","3",cap.getVersion());
    }
 else     if (cap.getPackageName().equals("aries.ws.eba.bundle3")) {
      verifiedExport++;
      assertEquals("The export package is not expected.","3",cap.getVersion());
    }
  }
  assertEquals("The number of exports are not expected.",bundleResource.getExportedPackages().size(),verifiedExport);
  assertEquals("The bundle resource is wrong.","Test Bundle",bundleResource.getExportedBundle().getAttributes().get(ModellingConstants.OBR_PRESENTATION_NAME));
  assertEquals("The bundle resource is wrong.","2.0.0.build-121",bundleResource.getExportedBundle().getVersion());
  assertEquals("The bundle resource is wrong.","test.bundle1",bundleResource.getExportedBundle().getSymbolicName());
  for (  ExportedService svc : bundleResource.getExportedServices()) {
    assertEquals("The export service is wrong","aries.ws.eba.export",svc.getInterfaces().iterator().next());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.application.modelling.utils.DeployedBundlesTest </h4><pre class="type-5 type-3 type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetRequiredUseBundle_Valid() throws Exception {
  DeployedBundles deployedBundles=validDeployedBundles();
  packagesResolve(deployedBundles);
  Collection<ModelledResource> requiredUseBundle=null;
  try {
    requiredUseBundle=deployedBundles.getRequiredUseBundle();
  }
 catch (  ResolverException e) {
    e.printStackTrace();
    Assert.fail(e.toString());
  }
  Assert.assertTrue("RequiredUseBundle=" + requiredUseBundle,requiredUseBundle.size() == 2);
}

</code></pre>

<br>
<pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testGetProvisionBundle_Valid() throws Exception {
  DeployedBundles deployedBundles=validDeployedBundles();
  packagesResolve(deployedBundles);
  String provisionBundleEntry=deployedBundles.getProvisionBundle();
  String expectedResult="bundle.e;deployed-version=1.0.0";
  Assert.assertTrue("ProvisionBundle=" + provisionBundleEntry,isEqual(provisionBundleEntry,expectedResult));
}

</code></pre>

<br>
<pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testGetUseBundle_Valid() throws Exception {
  DeployedBundles deployedBundles=validDeployedBundles();
  packagesResolve(deployedBundles);
  String useBundleEntry=deployedBundles.getUseBundle();
  String expectedResult="bundle.c;deployed-version=1.0.0,bundle.d;deployed-version=1.0.0";
  Assert.assertTrue("UseBundle=" + useBundleEntry,isEqual(useBundleEntry,expectedResult));
}

</code></pre>

<br>
<pre class="type-5 type-3 type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetImportPackage_ValidResolutionAttribute() throws Exception {
  DeployedBundles deployedBundles=getSimpleDeployedBundles(ternary.CONTENT,ternary.CONTENT,ternary.NONE);
  deployedBundles.addBundle(createModelledResource("bundle.a","1.0.0",Arrays.asList("package.c;version=1.0.0;resolution:=optional"),new ArrayList<String>()));
  deployedBundles.addBundle(createModelledResource("bundle.b","1.0.0",Arrays.asList("package.c;version=1.0.0"),new ArrayList<String>()));
  deployedBundles.addBundle(createModelledResource("bundle.c","1.0.0",new ArrayList<String>(),Arrays.asList("package.c;version=1.0.0")));
  String importPackageEntry=null;
  try {
    importPackageEntry=deployedBundles.getImportPackage();
  }
 catch (  ResolverException e) {
    e.printStackTrace();
    Assert.fail(e.toString());
  }
  String expectedResult="package.c;version=1.0.0";
  Assert.assertTrue("ImportPackage=" + importPackageEntry,isEqual(importPackageEntry,expectedResult));
}

</code></pre>

<br>
<pre class="type-5 type-3 type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetImportPackage_ValidDuplicatesWithAttributes() throws Exception {
  DeployedBundles deployedBundles=getSimpleDeployedBundles(ternary.CONTENT,ternary.CONTENT,ternary.NONE);
  deployedBundles.addBundle(createModelledResource("bundle.a","1.0.0",Arrays.asList("package.c;version=1.0.0;was_internal=true"),new ArrayList<String>()));
  deployedBundles.addBundle(createModelledResource("bundle.b","1.0.0",Arrays.asList("package.c;version=2.0.0;was_internal=true"),new ArrayList<String>()));
  deployedBundles.addBundle(createModelledResource("bundle.c","1.0.0",new ArrayList<String>(),Arrays.asList("package.c;version=2.0.0;was_internal=true")));
  String importPackageEntry=null;
  try {
    importPackageEntry=deployedBundles.getImportPackage();
  }
 catch (  ResolverException e) {
    e.printStackTrace();
    Assert.fail(e.toString());
  }
  String expectedResult="package.c;was_internal=\"true\";version=\"2.0.0\"";
  Assert.assertTrue("ImportPackage=" + importPackageEntry,isEqual(importPackageEntry,expectedResult));
}

</code></pre>

<br>
<pre class="type-5 type-3 type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetImportPackage_Valid() throws Exception {
  String importPackageEntry=null;
  try {
    DeployedBundles deployedBundles=validDeployedBundles();
    packagesResolve(deployedBundles);
    importPackageEntry=deployedBundles.getImportPackage();
  }
 catch (  ResolverException e) {
    e.printStackTrace();
    Assert.fail(e.toString());
  }
  String expectedResult="package.c;version=\"1.0.0\";bundle-symbolic-name=\"bundle.c\";bundle-version=\"[1.0.0,1.0.0]\"," + "package.d;version=\"1.0.0\";bundle-symbolic-name=\"bundle.d\";bundle-version=\"[1.0.0,1.0.0]\"," + "package.e;version=\"[1.0.0,2.0.0)\","+ "package.g;version=\"0.0.0\"";
  Assert.assertTrue("ImportPackage=" + importPackageEntry,isEqual(importPackageEntry,expectedResult));
}

</code></pre>

<br>
<pre class="type-5 type-3 type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetImportPackage_bundleSymbolicNameOK() throws Exception {
  DeployedBundles deployedBundles=getSimpleDeployedBundles(ternary.CONTENT,ternary.CONTENT,ternary.NONE);
  deployedBundles.addBundle(createModelledResource("bundle.a","1.0.0",Arrays.asList("package.b;version=1.0.0;bundle-symbolic-name=bundle.b;bundle-version=\"[1.0.0,2.0.0)\""),new ArrayList<String>()));
  deployedBundles.addBundle(createModelledResource("bundle.b","1.0.0",new ArrayList<String>(),Arrays.asList("package.b;version=2.0.0")));
  String importPackageEntry=null;
  try {
    importPackageEntry=deployedBundles.getImportPackage();
  }
 catch (  ResolverException e) {
    e.printStackTrace();
    Assert.fail(e.toString());
  }
  String expectedResult="";
  Assert.assertTrue("ImportPackage=" + importPackageEntry,isEqual(importPackageEntry,expectedResult));
}

</code></pre>

<br>
<pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testGetContent_Valid() throws Exception {
  DeployedBundles deployedBundles=validDeployedBundles();
  packagesResolve(deployedBundles);
  String contentEntry=deployedBundles.getContent();
  String expectedResult="bundle.a;deployed-version=1.0.0,bundle.b;deployed-version=1.0.0";
  Assert.assertTrue("Content=" + contentEntry,isEqual(contentEntry,expectedResult));
}

</code></pre>

<br>
<pre class="type-5 type-3 type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetImportPackage_ValidDuplicates() throws Exception {
  DeployedBundles deployedBundles=getSimpleDeployedBundles(ternary.CONTENT,ternary.CONTENT,ternary.CONTENT);
  deployedBundles.addBundle(createModelledResource("bundle.a","1.0.0",Arrays.asList("package.d;version=\"[1.0.0,3.0.0)\""),new ArrayList<String>()));
  deployedBundles.addBundle(createModelledResource("bundle.b","1.0.0",Arrays.asList("package.d;version=\"2.0.0\""),new ArrayList<String>()));
  deployedBundles.addBundle(createModelledResource("bundle.c","1.0.0",Arrays.asList("package.d;version=\"1.0.0\""),new ArrayList<String>()));
  deployedBundles.addBundle(createModelledResource("bundle.d","1.0.0",new ArrayList<String>(),Arrays.asList("package.d;version=2.0.1")));
  String importPackageEntry=null;
  try {
    importPackageEntry=deployedBundles.getImportPackage();
  }
 catch (  ResolverException e) {
    e.printStackTrace();
    Assert.fail(e.toString());
  }
  String expectedResult="package.d;version=\"[2.0.0,3.0.0)\"";
  Assert.assertTrue("ImportPackage=" + importPackageEntry,isEqual(importPackageEntry,expectedResult));
}

</code></pre>

<br>
<pre class="type-5 type-3 type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetRequiredUseBundle_RedundantEntry() throws Exception {
  DeployedBundles deployedBundles=getSimpleDeployedBundles(ternary.CONTENT,ternary.USES,ternary.USES);
  deployedBundles.addBundle(createModelledResource("bundle.a","1.0.0",Arrays.asList("package.b"),new ArrayList<String>()));
  deployedBundles.addBundle(createModelledResource("bundle.b","1.0.0",Arrays.asList("package.c"),Arrays.asList("package.b;version=1.0.0")));
  deployedBundles.addBundle(createModelledResource("bundle.c","1.0.0",Arrays.asList("package.b;version=1.0.0"),Arrays.asList("package.c;version=1.0.0")));
  Collection<ModelledResource> requiredUseBundle=null;
  try {
    requiredUseBundle=deployedBundles.getRequiredUseBundle();
  }
 catch (  ResolverException e) {
    e.printStackTrace();
    Assert.fail(e.toString());
  }
  Assert.assertTrue("RequiredUseBundle=" + requiredUseBundle,requiredUseBundle.size() == 1);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.application.modelling.utils.ExportedPackageTest </h4><pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testEqualsForTrivialPackagesWithDifferentVersion(){
  String packageName="package.name";
  ExportedPackage package1=instantiatePackage(packageName,"1.0.0");
  ExportedPackage package2=instantiatePackage(packageName,"1.0.1");
  assertFalse("Unexpectedly reported as equal" + package1 + "=="+ package2,package1.equals(package2));
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testEqualsForTrivialPackagesWithDifferentName(){
  String version="1.0.0";
  ExportedPackage package1=instantiatePackage("package.name",version);
  ExportedPackage package2=instantiatePackage("other.package.name",version);
  assertFalse("Unexpectedly reported as equal" + package1 + "=="+ package2,package1.equals(package2));
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testEqualsForEqualPackagesWithDifferentAttributes(){
  String packageName="package.name";
  String version="1.0.0";
  ExportedPackage package1=instantiatePackage(packageName,version,"att=something");
  ExportedPackage package2=instantiatePackage(packageName,version,"att=something.else");
  assertFalse("Unexpectedly reported as equal" + package1 + "=="+ package2,package1.equals(package2));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.application.modelling.utils.ExportedServiceTest </h4><pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void checkEquality(){
  Map<String,Object> props=new HashMap<String,Object>();
  props.put("away","www.away.com");
  props.put("home","www.home.net");
  WrappedServiceMetadata wsm1=new ExportedServiceImpl(null,0,Arrays.asList("a.b.c","d.e.f"),props);
  WrappedServiceMetadata wsm2=new ExportedServiceImpl(null,0,Arrays.asList("d.e.f","a.b.c"),props);
  assertTrue("Basic equality test",wsm1.equals(wsm2));
  assertTrue("Basic equality test",wsm2.equals(wsm1));
  assertTrue("Hashcodes equal",wsm1.hashCode() == wsm2.hashCode());
  wsm2=new ExportedServiceImpl(null,0,Arrays.asList("d.e.f","a.b.c","g.e.f"),props);
  assertFalse("Adding an interface makes them different",wsm1.equals(wsm2));
  assertFalse("Adding an interface makes them different",wsm2.equals(wsm1));
  assertFalse("Hashcodes should differ",wsm1.hashCode() == wsm2.hashCode());
  props=new HashMap<String,Object>(props);
  props.put("interim","w3.interim.org");
  wsm1=new ExportedServiceImpl(null,0,Arrays.asList("a.b.c","d.e.f","g.e.f"),props);
  assertFalse("Adding a service property makes them different",wsm1.equals(wsm2));
  assertFalse("Adding a service property makes them different",wsm2.equals(wsm1));
  assertFalse("Hashcodes still different",wsm1.hashCode() == wsm2.hashCode());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.application.modelling.utils.ImportedPackageTest </h4><pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testEqualsForTrivialPackagesWithDifferentVersion() throws InvalidAttributeException {
  String packageName="package.name";
  ImportedPackage package1=instantiatePackage(packageName,"1.0.0");
  ImportedPackage package2=instantiatePackage(packageName,"1.0.1");
  assertFalse("Unexpectedly reported as equal" + package1 + "=="+ package2,package1.equals(package2));
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testEqualsForTrivialPackagesWithDifferentName() throws InvalidAttributeException {
  String version="1.0.0";
  ImportedPackage package1=instantiatePackage("package.name",version);
  ImportedPackage package2=instantiatePackage("other.package.name",version);
  assertFalse("Unexpectedly reported as equal" + package1 + "=="+ package2,package1.equals(package2));
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testEqualsForEqualPackagesWithDifferentAttributes() throws InvalidAttributeException {
  String packageName="package.name";
  String version="1.0.0";
  ImportedPackage package1=instantiatePackage(packageName,version,"att=something");
  ImportedPackage package2=instantiatePackage(packageName,version,"att=something.else");
  assertFalse("Unexpectedly reported as equal" + package1 + "=="+ package2,package1.equals(package2));
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testEqualsForTrivialPackagesWithDifferentVersionRanges() throws InvalidAttributeException {
  String packageName="package.name";
  ImportedPackage package1=instantiatePackage(packageName,"[1.0.0, 4.4.4)");
  ImportedPackage package2=instantiatePackage(packageName,"[1.0.0, 4.4.2)");
  assertFalse("Unexpectedly reported as equal" + package1 + "=="+ package2,package1.equals(package2));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.application.modelling.utils.PackageRequirementMergerTest </h4><pre class="type-5 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMergeInvalid() throws Exception {
  Collection<ImportedPackage> reqs=new ArrayList<ImportedPackage>();
  reqs.add(newImportedPackage("a","[1.0.0,2.0.0]"));
  reqs.add(newImportedPackage("a","[3.0.0,3.0.0]"));
  reqs.add(newImportedPackage("b","1.0.0"));
  reqs.add(newImportedPackage("b","2.0.0"));
  reqs.add(newImportedPackage("c","[1.0.0,2.0.0)"));
  reqs.add(newImportedPackage("c","2.0.0"));
  PackageRequirementMerger merger=new PackageRequirementMerger(reqs);
  Assert.assertFalse(merger.isMergeSuccessful());
  try {
    merger.getMergedRequirements();
    Assert.fail("getMergedRequirements should throw IllegalStateException.");
  }
 catch (  IllegalStateException e) {
  }
  Set<String> result=merger.getInvalidRequirements();
  Set<String> expected=new HashSet<String>();
  expected.add("a");
  expected.add("c");
  Assert.assertEquals(expected,result);
}

</code></pre>

<br>
<pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testMergeValid() throws Exception {
  Collection<ImportedPackage> reqs=new ArrayList<ImportedPackage>();
  reqs.add(newImportedPackage("a","1.0.0"));
  reqs.add(newImportedPackage("a","2.0.0"));
  reqs.add(newImportedPackage("a","3.0.0"));
  reqs.add(newImportedPackage("b","1.0.0"));
  reqs.add(newImportedPackage("b","2.0.0"));
  reqs.add(newImportedPackage("c","1.0.0"));
  PackageRequirementMerger merger=new PackageRequirementMerger(reqs);
  Assert.assertTrue(merger.isMergeSuccessful());
  Assert.assertTrue(merger.getInvalidRequirements().isEmpty());
  Collection<ImportedPackage> result=merger.getMergedRequirements();
  Collection<ImportedPackage> expected=new ArrayList<ImportedPackage>();
  expected.add(newImportedPackage("a","3.0.0"));
  expected.add(newImportedPackage("b","2.0.0"));
  expected.add(newImportedPackage("c","1.0.0"));
  Assert.assertTrue(result.toString(),isEqual(result,expected));
}

</code></pre>

<br>
<pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testMergeValidAdditionalAttributes() throws Exception {
  Collection<ImportedPackage> reqs=new ArrayList<ImportedPackage>();
  reqs.add(newImportedPackage("a","1.0.0","foo=bar"));
  reqs.add(newImportedPackage("a","2.0.0","foo=bar"));
  PackageRequirementMerger merger=new PackageRequirementMerger(reqs);
  Assert.assertTrue(merger.isMergeSuccessful());
  Assert.assertTrue(merger.getInvalidRequirements().isEmpty());
  Collection<ImportedPackage> result=merger.getMergedRequirements();
  Collection<ImportedPackage> expected=new ArrayList<ImportedPackage>();
  expected.add(newImportedPackage("a","2.0.0","foo=bar"));
  Assert.assertTrue(result.toString(),isEqual(result,expected));
}

</code></pre>

<br>
<pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testMergeMandatoryResolution() throws Exception {
  Collection<ImportedPackage> reqs=new ArrayList<ImportedPackage>();
  reqs.add(newImportedPackage("a","1.0.0",true));
  reqs.add(newImportedPackage("a","2.0.0",false));
  PackageRequirementMerger merger=new PackageRequirementMerger(reqs);
  Assert.assertTrue(merger.isMergeSuccessful());
  Assert.assertTrue(merger.getInvalidRequirements().isEmpty());
  Collection<ImportedPackage> result=merger.getMergedRequirements();
  Collection<ImportedPackage> expected=new ArrayList<ImportedPackage>();
  expected.add(newImportedPackage("a","2.0.0"));
  Assert.assertTrue(result.toString(),isEqual(result,expected));
}

</code></pre>

<br>
<pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testMergeOptionalResolution() throws Exception {
  Collection<ImportedPackage> reqs=new ArrayList<ImportedPackage>();
  reqs.add(newImportedPackage("a","1.0.0",true));
  reqs.add(newImportedPackage("a","2.0.0",true));
  PackageRequirementMerger merger=new PackageRequirementMerger(reqs);
  Assert.assertTrue(merger.isMergeSuccessful());
  Assert.assertTrue(merger.getInvalidRequirements().isEmpty());
  Collection<ImportedPackage> result=merger.getMergedRequirements();
  Collection<ImportedPackage> expected=new ArrayList<ImportedPackage>();
  expected.add(newImportedPackage("a","2.0.0",true));
  Assert.assertTrue(result.toString(),isEqual(result,expected));
}

</code></pre>

<br>
<pre class="type-5 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMergeInvalidAdditionalAttributes() throws Exception {
  Collection<ImportedPackage> reqs=new ArrayList<ImportedPackage>();
  reqs.add(newImportedPackage("a","1.0.0","foo=bar"));
  reqs.add(newImportedPackage("a","2.0.0","foo=blah"));
  reqs.add(newImportedPackage("b","1.0.0"));
  PackageRequirementMerger merger=new PackageRequirementMerger(reqs);
  Assert.assertFalse(merger.isMergeSuccessful());
  try {
    merger.getMergedRequirements();
    Assert.fail("getMergedRequirements should throw IllegalStateException.");
  }
 catch (  IllegalStateException e) {
  }
  Set<String> result=merger.getInvalidRequirements();
  Set<String> expected=new HashSet<String>();
  expected.add("a");
  Assert.assertEquals(expected,result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.application.runtime.itests.IsolatedRuntimeTest </h4><pre class="type-3 type-7 type-8 type-2 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void testFrameworkResolvedBeforeInnerBundlesStart() throws Exception {
  final AtomicBoolean loadedClass=new AtomicBoolean(false);
  context().addBundleListener(new SynchronousBundleListener(){
    public void bundleChanged(    BundleEvent event){
      Bundle b=event.getBundle();
      if (event.getType() == BundleEvent.STARTING || event.getType() == BundleEvent.LAZY_ACTIVATION) {
        if (b.getEntry("org/apache/aries/isolated/sample/SharedImpl.class") != null) {
          try {
            Class<?> cl=b.loadClass("org.apache.aries.isolated.sample.SharedImpl");
            cl.newInstance();
            loadedClass.set(true);
          }
 catch (          Exception e) {
            e.printStackTrace();
            throw new RuntimeException(e);
          }
        }
      }
 else       if (event.getType() == BundleEvent.INSTALLED && b instanceof CompositeBundle) {
        ((CompositeBundle)b).getCompositeFramework().getBundleContext().addBundleListener(this);
      }
    }
  }
);
  AriesApplicationManager manager=context().getService(AriesApplicationManager.class);
  AriesApplication app=manager.createApplication(FileSystem.getFSRoot(new File("test2.eba")));
  AriesApplicationContext ctx=manager.install(app);
  try {
    ctx.start();
    app=ctx.getApplication();
    assertEquals(1,app.getDeploymentMetadata().getApplicationDeploymentContents().size());
    assertEquals(1,app.getDeploymentMetadata().getApplicationProvisionBundles().size());
    assertTrue(loadedClass.get());
  }
  finally {
    manager.uninstall(ctx);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.application.runtime.itests.MinimumImportsTest </h4><pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAppUsingAriesApplicationManager() throws Exception {
  AppMgrClientBlueprintListener acbl=new AppMgrClientBlueprintListener();
  ServiceRegistration sr=bundleContext.registerService("org.osgi.service.blueprint.container.BlueprintListener",acbl,null);
  AriesApplicationManager manager=context().getService(AriesApplicationManager.class);
  AriesApplication app=manager.createApplication(FileSystem.getFSRoot(new File("appmgrclienttest.eba")));
  RepositoryAdmin repositoryAdmin=context().getService(RepositoryAdmin.class);
  Repository[] repos=repositoryAdmin.listRepositories();
  for (  Repository repo : repos) {
    repositoryAdmin.removeRepository(repo.getURI());
  }
  repositoryAdmin.addRepository(new File("repository.xml").toURI().toURL());
  AriesApplicationContext ctx=manager.install(app);
  ctx.start();
  int sleepfor=3000;
  while ((acbl.success == null || acbl.success == false) && sleepfor > 0) {
    Thread.sleep(100);
    sleepfor-=100;
  }
  assertNotNull("Timed out - didn't receive Blueprint CREATED or FAILURE event",acbl.success);
  assertTrue("Received Blueprint FAILURE event",acbl.success);
  ctx.stop();
  manager.uninstall(ctx);
  sr.unregister();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.application.runtime.itests.OBRResolverAdvancedTest </h4><pre class="type-15 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRepoAgain() throws Exception {
  System.setProperty(AppConstants.PROVISON_EXCLUDE_LOCAL_REPO_SYSPROP,"true");
  RepositoryGenerator repositoryGenerator=context().getService(RepositoryGenerator.class);
  String fileURI=new File(REPO_BUNDLE + ".jar").toURI().toString();
  File repoXml=new File("repository.xml");
  if (repoXml.exists()) {
    repoXml.delete();
  }
  repositoryGenerator.generateRepository(new String[]{fileURI},new FileOutputStream(repoXml));
  BufferedReader reader=new BufferedReader(new FileReader(new File("repository.xml")));
  String line;
  while ((line=reader.readLine()) != null) {
    System.out.println(line);
  }
  Document real_doc=DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(new File("repository.xml"));
  Document expected_doc=DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(OBRResolverAdvancedTest.class.getClassLoader().getResourceAsStream("/obr/aries.bundle1/expectedRepository.xml"));
  Element element_real=real_doc.getDocumentElement();
  Element element_expected=expected_doc.getDocumentElement();
  NodeList nodes_real=element_real.getElementsByTagName("capability");
  NodeList nodes_expected=element_expected.getElementsByTagName("capability");
  assertEquals("The number of capability is not expected. ",nodes_expected.getLength(),nodes_real.getLength());
  nodes_real=element_real.getElementsByTagName("require");
  nodes_expected=element_expected.getElementsByTagName("require");
  assertEquals("The number of require elements is not expected. ",nodes_expected.getLength(),nodes_real.getLength());
  nodes_real=element_real.getElementsByTagName("p");
  nodes_expected=element_expected.getElementsByTagName("p");
  assertEquals("The number of properties is not expected. ",nodes_expected.getLength(),nodes_real.getLength());
  for (int index=0; index < nodes_expected.getLength(); index++) {
    Node node=nodes_expected.item(index);
    boolean contains=false;
    for (int i=0; i < nodes_real.getLength(); i++) {
      Node real_node=nodes_real.item(i);
      if (node.isEqualNode(real_node)) {
        contains=true;
        break;
      }
    }
    assertTrue("The node " + node.toString() + "should exist.",contains);
  }
}

</code></pre>

<br>
<pre class="type-15 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * This test just verifies whether every entry in the MANIFEST.MF was fed into the repository generator.
 * Since the IBM JRE generates a slightly different repository file from the Sun JRE as far as the order of xml elements is concerned. It is not feasible
 * to perform a file comparison.
 * @throws Exception
 */
@Test public void testRepo() throws Exception {
  System.setProperty(AppConstants.PROVISON_EXCLUDE_LOCAL_REPO_SYSPROP,"true");
  generateOBRRepoXML(true,REPO_BUNDLE + ".jar");
  BufferedReader reader=new BufferedReader(new FileReader(new File("repository.xml")));
  String line;
  while ((line=reader.readLine()) != null) {
    System.out.println(line);
  }
  Document real_doc=DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(new File("repository.xml"));
  Document expected_doc=DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(OBRResolverAdvancedTest.class.getClassLoader().getResourceAsStream("/obr/aries.bundle1/expectedRepository.xml"));
  Element element_real=real_doc.getDocumentElement();
  Element element_expected=expected_doc.getDocumentElement();
  NodeList nodes_real=element_real.getElementsByTagName("capability");
  NodeList nodes_expected=element_expected.getElementsByTagName("capability");
  assertEquals("The number of capability is not expected. ",nodes_expected.getLength(),nodes_real.getLength());
  nodes_real=element_real.getElementsByTagName("require");
  nodes_expected=element_expected.getElementsByTagName("require");
  assertEquals("The number of require elements is not expected. ",nodes_expected.getLength(),nodes_real.getLength());
  nodes_real=element_real.getElementsByTagName("p");
  nodes_expected=element_expected.getElementsByTagName("p");
  assertEquals("The number of properties is not expected. ",nodes_expected.getLength(),nodes_real.getLength());
  for (int index=0; index < nodes_expected.getLength(); index++) {
    Node node=nodes_expected.item(index);
    boolean contains=false;
    for (int i=0; i < nodes_real.getLength(); i++) {
      Node real_node=nodes_real.item(i);
      if (node.isEqualNode(real_node)) {
        contains=true;
        break;
      }
    }
    assertTrue("The node " + node.toString() + "should exist.",contains);
  }
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDemoApp() throws Exception {
  System.setProperty(AppConstants.PROVISON_EXCLUDE_LOCAL_REPO_SYSPROP,"true");
  generateOBRRepoXML(false,TRANSITIVE_BUNDLE_BY_REFERENCE + ".jar",CORE_BUNDLE_BY_REFERENCE + ".jar",USE_BUNDLE_BY_REFERENCE + ".jar");
  RepositoryAdmin repositoryAdmin=context().getService(RepositoryAdmin.class);
  Repository[] repos=repositoryAdmin.listRepositories();
  for (  Repository repo : repos) {
    repositoryAdmin.removeRepository(repo.getURI());
  }
  repositoryAdmin.addRepository(new File("repository.xml").toURI().toURL());
  AriesApplicationManager manager=context().getService(AriesApplicationManager.class);
  AriesApplication app=manager.createApplication(FileSystem.getFSRoot(new File("demo.eba")));
  app=manager.resolve(app);
  DeploymentMetadata depMeta=app.getDeploymentMetadata();
  List<DeploymentContent> provision=depMeta.getApplicationProvisionBundles();
  Collection<DeploymentContent> useBundles=depMeta.getDeployedUseBundle();
  Collection<Content> importPackages=depMeta.getImportPackage();
  assertEquals(provision.toString(),2,provision.size());
  assertEquals(useBundles.toString(),1,useBundles.size());
  assertEquals(importPackages.toString(),4,importPackages.size());
  List<String> bundleSymbolicNames=new ArrayList<String>();
  for (  DeploymentContent dep : provision) {
    bundleSymbolicNames.add(dep.getContentName());
  }
  assertTrue("Bundle " + TRANSITIVE_BUNDLE_BY_REFERENCE + " not found.",bundleSymbolicNames.contains(TRANSITIVE_BUNDLE_BY_REFERENCE));
  assertTrue("Bundle " + TRANSITIVE_BUNDLE_BY_VALUE + " not found.",bundleSymbolicNames.contains(TRANSITIVE_BUNDLE_BY_VALUE));
  bundleSymbolicNames.clear();
  for (  DeploymentContent dep : useBundles) {
    bundleSymbolicNames.add(dep.getContentName());
  }
  assertTrue("Bundle " + USE_BUNDLE_BY_REFERENCE + " not found.",bundleSymbolicNames.contains(USE_BUNDLE_BY_REFERENCE));
  Collection<String> packages=new ArrayList<String>();
  Map<String,String> maps=new HashMap<String,String>();
  maps.put("version","0.0.0");
  maps.put("bundle-symbolic-name","use.bundle.by.reference");
  maps.put("bundle-version","[1.0.0,1.0.0]");
  Content useContent=ContentFactory.parseContent("a.b.c",maps);
  assertTrue("Use Bundle not found in import packags",importPackages.contains(useContent));
  for (  Content c : importPackages) {
    packages.add(c.getContentName());
  }
  assertTrue("package javax.naming not found",packages.contains("javax.naming"));
  assertTrue("package p.q.r not found",packages.contains("p.q.r"));
  assertTrue("package x.y.z not found",packages.contains("x.y.z"));
  assertTrue("package a.b.c not found",packages.contains("a.b.c"));
  AriesApplicationContext ctx=manager.install(app);
  ctx.start();
  Set<Bundle> bundles=ctx.getApplicationContent();
  assertEquals("Number of bundles provisioned in the app",5,bundles.size());
  ctx.stop();
  manager.uninstall(ctx);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.application.runtime.itests.OBRResolverTest </h4><pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBlogApp() throws Exception {
  System.setProperty(AppConstants.PROVISON_EXCLUDE_LOCAL_REPO_SYSPROP,"false");
  generateOBRRepoXML(TRANSITIVE_BUNDLE_BY_REFERENCE + ".jar",CORE_BUNDLE_BY_REFERENCE + ".jar");
  RepositoryAdmin repositoryAdmin=context().getService(RepositoryAdmin.class);
  Repository[] repos=repositoryAdmin.listRepositories();
  for (  Repository repo : repos) {
    repositoryAdmin.removeRepository(repo.getURI());
  }
  repositoryAdmin.addRepository(new File("repository.xml").toURI().toURL());
  AriesApplicationManager manager=context().getService(AriesApplicationManager.class);
  AriesApplication app=manager.createApplication(FileSystem.getFSRoot(new File("blog.eba")));
  app=manager.resolve(app);
  DeploymentMetadata depMeta=app.getDeploymentMetadata();
  List<DeploymentContent> provision=depMeta.getApplicationProvisionBundles();
  assertEquals(provision.toString(),3,provision.size());
  List<String> bundleSymbolicNames=new ArrayList<String>();
  for (  DeploymentContent dep : provision) {
    bundleSymbolicNames.add(dep.getContentName());
  }
  assertTrue("Bundle " + TRANSITIVE_BUNDLE_BY_REFERENCE + " not found.",bundleSymbolicNames.contains(TRANSITIVE_BUNDLE_BY_REFERENCE));
  assertTrue("Bundle " + TRANSITIVE_BUNDLE_BY_VALUE + " not found.",bundleSymbolicNames.contains(TRANSITIVE_BUNDLE_BY_VALUE));
  assertTrue("Bundle " + BUNDLE_IN_FRAMEWORK + " not found.",bundleSymbolicNames.contains(BUNDLE_IN_FRAMEWORK));
  AriesApplicationContext ctx=manager.install(app);
  ctx.start();
  Set<Bundle> bundles=ctx.getApplicationContent();
  assertEquals("Number of bundles provisioned in the app",4,bundles.size());
  ctx.stop();
  manager.uninstall(ctx);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.application.runtime.itests.UpdateAppTest </h4><pre class="type-4 type-3 type-2 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void testFineUpdate() throws Exception {
  AriesApplicationManager manager=context().getService(AriesApplicationManager.class);
  AriesApplication app=setupApp();
  BundleContext oldCtx=IsolationTestUtils.findIsolatedAppBundleContext(bundleContext,SAMPLE_APP_NAME);
  installMockUpdateStrategy();
  updateApp(manager,app);
  BundleContext newCtx=IsolationTestUtils.findIsolatedAppBundleContext(bundleContext,SAMPLE_APP_NAME);
  assertAppMessage("hello brave new world");
  assertTrue("We bounced the app where the update was supposed to do an update in place",oldCtx == newCtx);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void testUpdateThenStart() throws Exception {
  AriesApplicationManager manager=context().getService(AriesApplicationManager.class);
  AriesApplication app=manager.createApplication(FileSystem.getFSRoot(new File("test.eba")));
  AriesApplicationContext ctx=manager.install(app);
  app=ctx.getApplication();
  BundleContext oldCtx=IsolationTestUtils.findIsolatedAppBundleContext(bundleContext,SAMPLE_APP_NAME);
  installMockUpdateStrategy();
  ctx=updateApp(manager,app);
  BundleContext newCtx=IsolationTestUtils.findIsolatedAppBundleContext(bundleContext,SAMPLE_APP_NAME);
  assertNull("App is not started yet but HelloWorld service is already there",IsolationTestUtils.findHelloWorldService(bundleContext,SAMPLE_APP_NAME));
  ctx.start();
  assertAppMessage("hello brave new world");
  assertTrue("We bounced the app where the update was supposed to do an update in place",oldCtx == newCtx);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.application.utils.manifest.ManifestProcessorTest </h4><pre class="type-4 type-3 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Check a simple manifest can be read.
 * @throws Exception
 */
@Test public void testSimpleManifest() throws Exception {
  Map<String,String> pairs=new HashMap<String,String>();
  pairs.put("Manifest-Version","1.0");
  pairs.put("Application-ManifestVersion","1.0");
  pairs.put("Application-Name",appName);
  pairs.put("Application-SymbolicName","com.travel.reservation");
  pairs.put("Application-Version","1.2");
  pairs.put("Application-Content","com.travel.reservation.web;version=\"[1.1.0,1.2.0)\",com.travel.reservation.business");
  pairs.put("Export-Package","com.travel.reservation.api;version=1.2");
  pairs.put("Import-Package","com.travel.flight.api;version=\"[2.1.1,3.0.0)\",com.travel.rail.api;version=\"[1.0.0,2.0.0)\"");
  pairs.put("Application-Services","services.xml");
  InputStream in=getClass().getClassLoader().getResourceAsStream("META-INF/APPLICATION.MF");
  Manifest mf=new Manifest(in);
  Map<String,String> map=ManifestProcessor.readManifestIntoMap(mf);
  assertNotNull(map);
  for (  String key : pairs.keySet()) {
    assertTrue("Key: " + key + " was not found",map.containsKey(key));
    String value=map.get(key);
    assertNotNull("Value was not present for key: " + key,value);
    assertEquals("Value was not correct for key: " + key,pairs.get(key),value);
  }
  assertEquals("The maps did not match",pairs,map);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.async.impl.AsyncServiceTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void test() throws InterruptedException {
  DelayedEcho raw=new DelayedEcho();
  AsyncService service=new AsyncService(null,es,serviceTracker);
  DelayedEcho mediated=service.mediate(raw,DelayedEcho.class);
  Promise<String> promise=service.call(mediated.echo("Hello World",1000));
  final CountDownLatch latch=new CountDownLatch(1);
  promise.filter(new Predicate<String>(){
    @Override public boolean test(    String t){
      return "Hello World".equals(t);
    }
  }
).then(new Success<String,Void>(){
    @Override public Promise<Void> call(    Promise<String> resolved) throws Exception {
      latch.countDown();
      return null;
    }
  }
);
  assertTrue(latch.await(5,TimeUnit.SECONDS));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.async.promise.test.CallbackTest </h4><pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCallbacks() throws Exception {
  Deferred<String> def=new Deferred<String>();
  final Promise<String> promise=def.getPromise();
  Callback cb1=new Callback(promise,"Hello");
  assertEquals("onResolve returns promise",promise,promise.onResolve(cb1));
  Callback cb2=new Callback(promise,"Hello");
  promise.onResolve(cb2);
  def.resolve("Hello");
  assertTrue("callback1 executed",cb1.latch.await(1,TimeUnit.SECONDS));
  assertEquals("callback1 succeeded",null,cb1.error);
  assertTrue("callback2 executed",cb2.latch.await(1,TimeUnit.SECONDS));
  assertEquals("callback2 succeeded",null,cb2.error);
  Callback cb3=new Callback(promise,"Hello");
  promise.onResolve(cb3);
  assertTrue("callback3 executed",cb3.latch.await(1,TimeUnit.SECONDS));
  assertEquals("callback3 succeeded",null,cb3.error);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.async.promise.test.ChainTest </h4><pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testThenSuccessException() throws Exception {
  Deferred<String> def=new Deferred<String>();
  final Promise<String> promise=def.getPromise();
  final Exception thenException=new Exception("then exception!");
  Promise<String> chain=promise.then(new Success<String,String>(){
    @Override public Promise<String> call(    Promise<String> resolved) throws Exception {
      throw thenException;
    }
  }
);
  assertFalse("chain not resolved",chain.isDone());
  def.resolve("ok");
  assertTrue("chain resolved",chain.isDone());
  assertEquals("chain failure matches",thenException,chain.getFailure());
}

</code></pre>

<br>
<pre class="type-5 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testThenFail() throws Exception {
  Deferred<String> def=new Deferred<String>();
  final Promise<String> promise=def.getPromise();
  Promise<String> chain=promise.then(null,new Failure(){
    @Override public void fail(    Promise<?> resolved) throws Exception {
    }
  }
);
  assertFalse("chain not resolved",chain.isDone());
  Throwable failure=new Throwable("fail!");
  def.fail(failure);
  assertTrue("chain resolved",chain.isDone());
  assertEquals("chain failure matches",failure,chain.getFailure());
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testThenResolved2() throws Exception {
  Deferred<String> def=new Deferred<String>();
  def.resolve("already resolved");
  Promise<String> chain=def.getPromise().then(new Success<String,String>(){
    @Override public Promise<String> call(    Promise<String> resolved) throws Exception {
      return Promises.resolved("success1");
    }
  }
).then(new Success<String,String>(){
    @Override public Promise<String> call(    Promise<String> resolved) throws Exception {
      return Promises.resolved("success2");
    }
  }
);
  assertTrue("chain resolved",chain.isDone());
  assertEquals("chain value matches","success2",chain.getValue());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testThenSuccessFailed() throws Exception {
  Deferred<String> def=new Deferred<String>();
  final Promise<String> promise=def.getPromise();
  final Throwable thenFail=new Throwable("failed!");
  Promise<String> chain=promise.then(new Success<String,String>(){
    @Override public Promise<String> call(    Promise<String> resolved) throws Exception {
      return Promises.failed(thenFail);
    }
  }
);
  assertFalse("chain not resolved",chain.isDone());
  def.resolve("ok");
  assertTrue("chain resolved",chain.isDone());
  assertEquals("chain failure matches",thenFail,chain.getFailure());
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testThenSuccessDeferred() throws Exception {
  Deferred<String> def=new Deferred<String>();
  final Deferred<String> def2=new Deferred<String>();
  Promise<String> chain=def.getPromise().then(new Success<String,String>(){
    @Override public Promise<String> call(    Promise<String> resolved) throws Exception {
      return def2.getPromise();
    }
  }
);
  assertFalse("chain not resolved",chain.isDone());
  def.resolve("ok");
  assertFalse("chain still not resolved",chain.isDone());
  def2.resolve("success!");
  assertTrue("chain resolved",chain.isDone());
  assertEquals("chain value matches","success!",chain.getValue());
}

</code></pre>

<br>
<pre class="type-5 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testThenFailNoCallback() throws Exception {
  Deferred<String> def=new Deferred<String>();
  final Promise<String> promise=def.getPromise();
  Promise<String> chain=promise.then(null);
  assertFalse("chain not resolved",chain.isDone());
  Throwable failure=new Throwable("fail!");
  def.fail(failure);
  assertTrue("chain resolved",chain.isDone());
  assertEquals("chain failure matches",failure,chain.getFailure());
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testThen2() throws Exception {
  Deferred<String> def=new Deferred<String>();
  Promise<String> chain1=def.getPromise().then(new Success<String,String>(){
    @Override public Promise<String> call(    Promise<String> resolved) throws Exception {
      return Promises.resolved("success1");
    }
  }
);
  assertFalse("chain not resolved",chain1.isDone());
  Promise<String> chain2=def.getPromise().then(new Success<String,String>(){
    @Override public Promise<String> call(    Promise<String> resolved) throws Exception {
      return Promises.resolved("success2");
    }
  }
);
  assertFalse("chain not resolved",chain2.isDone());
  def.resolve("ok");
  assertTrue("chain1 resolved",chain1.isDone());
  assertEquals("chain1 value matches","success1",chain1.getValue());
  assertTrue("chain2 resolved",chain2.isDone());
  assertEquals("chain2 value matches","success2",chain2.getValue());
}

</code></pre>

<br>
<pre class="type-3 type-7 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testThenNullResolved() throws Exception {
  Deferred<String> def=new Deferred<String>();
  def.resolve("ok");
  Promise<String> chain=def.getPromise().then(null);
  assertTrue("chain resolved",chain.isDone());
  assertNull("chain value null",chain.getValue());
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testThenSuccess() throws Exception {
  Deferred<String> def=new Deferred<String>();
  Promise<String> chain=def.getPromise().then(new Success<String,String>(){
    @Override public Promise<String> call(    Promise<String> resolved) throws Exception {
      return Promises.resolved("success!");
    }
  }
);
  assertFalse("chain not resolved",chain.isDone());
  def.resolve("ok");
  assertTrue("chain resolved",chain.isDone());
  assertEquals("chain value matches","success!",chain.getValue());
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testThenResolved() throws Exception {
  Deferred<String> def=new Deferred<String>();
  def.resolve("already resolved");
  Promise<String> chain=def.getPromise().then(new Success<String,String>(){
    @Override public Promise<String> call(    Promise<String> resolved) throws Exception {
      return Promises.resolved("success!");
    }
  }
);
  assertTrue("chain resolved",chain.isDone());
  assertEquals("chain value matches","success!",chain.getValue());
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testThenAlreadyResolved() throws Exception {
  Deferred<String> def=new Deferred<String>();
  final Promise<String> promise=def.getPromise();
  def.resolve("ok");
  Promise<String> chain=promise.then(new Success<String,String>(){
    @Override public Promise<String> call(    Promise<String> resolved) throws Exception {
      return Promises.resolved("success!");
    }
  }
);
  assertTrue("chain resolved",chain.isDone());
  assertEquals("chain value matches","success!",chain.getValue());
}

</code></pre>

<br>
<pre class="type-5 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testThenFailException() throws Exception {
  Deferred<String> def=new Deferred<String>();
  final Promise<String> promise=def.getPromise();
  final Exception thenException=new Exception("eek!");
  Promise<String> chain=promise.then(null,new Failure(){
    @Override public void fail(    Promise<?> resolved) throws Exception {
      throw thenException;
    }
  }
);
  assertFalse("chain not resolved",chain.isDone());
  def.fail(new Throwable("failed"));
  assertTrue("chain resolved",chain.isDone());
  assertEquals("chain failure matches",thenException,chain.getFailure());
}

</code></pre>

<br>
<pre class="type-3 type-7 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testThenNull() throws Exception {
  Deferred<String> def=new Deferred<String>();
  final Promise<String> promise=def.getPromise();
  Promise<String> chain=promise.then(null);
  assertFalse("chain not resolved",chain.isDone());
  def.resolve("ok");
  assertTrue("chain resolved",chain.isDone());
  assertNull("chain value null",chain.getValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.async.promise.test.DeferredTest </h4><pre class="type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveWithSuccess() throws Exception {
  Deferred<String> def=new Deferred<String>();
  Promise<String> promise=def.getPromise();
  Deferred<String> with=new Deferred<String>();
  Promise<Void> resolvedWith=def.resolveWith(with.getPromise());
  with.resolve("resolveWith");
  assertTrue("Promise resolved",promise.isDone());
  assertEquals("Value matches","resolveWith",promise.getValue());
  assertNull("resolveWith null",resolvedWith.getValue());
}

</code></pre>

<br>
<pre class="type-5 type-3 type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveWithAlreadyFailed() throws Exception {
  Deferred<String> def=new Deferred<String>();
  Deferred<String> with=new Deferred<String>();
  Promise<Void> resolvedWith=def.resolveWith(with.getPromise());
  def.resolve("Already resolved");
  with.fail(new Throwable("failed"));
  @SuppressWarnings({"not thrown","all"}) Throwable failure=resolvedWith.getFailure();
  assertTrue("resolveWith IllegalStateException",failure instanceof IllegalStateException);
}

</code></pre>

<br>
<pre class="type-5 type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolve() throws Exception {
  Deferred<String> def=new Deferred<String>();
  Promise<String> promise=def.getPromise();
  assertFalse("Initial Promise not resolved",promise.isDone());
  def.resolve("Hello");
  assertTrue("Promise resolved",promise.isDone());
  assertEquals("Value matches","Hello",promise.getValue());
  assertNull("Failure is null",promise.getFailure());
  try {
    def.resolve("Again");
    fail("Already resolved didn't throw IllegalStateException");
  }
 catch (  IllegalStateException e) {
  }
}

</code></pre>

<br>
<pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testResolveWithAlreadyResolved() throws Exception {
  Deferred<String> def=new Deferred<String>();
  Deferred<String> with=new Deferred<String>();
  Promise<Void> resolvedWith=def.resolveWith(with.getPromise());
  def.resolve("Already resolved");
  with.resolve("resolveWith");
  @SuppressWarnings({"not thrown","all"}) Throwable failure=resolvedWith.getFailure();
  assertTrue("resolveWith IllegalStateException",failure instanceof IllegalStateException);
}

</code></pre>

<br>
<pre class="type-5 type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveWithFailure() throws Exception {
  Deferred<String> def=new Deferred<String>();
  Promise<String> promise=def.getPromise();
  Deferred<String> def2=new Deferred<String>();
  Promise<String> promise2=def2.getPromise();
  Promise<Void> with=def.resolveWith(promise2);
  Exception failure=new Exception("resolveWithFailure");
  def2.fail(failure);
  assertTrue("Promise resolved",promise.isDone());
  assertEquals("Failure matches",failure,promise.getFailure());
  assertNull("resolveWith null",with.getValue());
}

</code></pre>

<br>
<pre class="type-5 type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFail() throws Exception {
  Deferred<String> def=new Deferred<String>();
  Promise<String> promise=def.getPromise();
  Exception failure=new Exception("Oops");
  def.fail(failure);
  assertTrue("Promise resolved",promise.isDone());
  assertEquals("Failure matches",failure,promise.getFailure());
  try {
    promise.getValue();
    fail("getValue didn't throw InvocationTargetException");
  }
 catch (  InvocationTargetException e) {
    assertEquals("Failure matches",failure,e.getCause());
  }
  try {
    def.fail(failure);
    fail("Already failed didn't throw IllegalStateException");
  }
 catch (  IllegalStateException e) {
    assertNotNull(e);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.async.promise.test.FunctionTest </h4><pre class="type-4 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFilter2() throws Exception {
  String bigValue=new String("value");
  Promise<String> p1=Promises.resolved(bigValue);
  Promise<String> p2=p1.filter(new Predicate<String>(){
    public boolean test(    String t){
      return t.length() > 0;
    }
  }
);
  assertTrue("Filter2 resolved",p2.isDone());
  assertEquals("Value2 matches",bigValue,p2.getValue());
  Promise<String> p3=p1.filter(new Predicate<String>(){
    public boolean test(    String t){
      return t.length() == 0;
    }
  }
);
  assertTrue("Filter3 resolved",p3.isDone());
  assertTrue("Value3 fail matches",p3.getFailure() instanceof NoSuchElementException);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.async.promise.test.PromisesTest </h4><pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolved() throws Exception {
  final Promise<String> promise=Promises.resolved("Resolved");
  assertTrue("Promise resolved",promise.isDone());
  assertEquals("Value matches","Resolved",promise.getValue());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFailed() throws Exception {
  Exception failed=new Exception("Failed");
  final Promise<String> promise=Promises.failed(failed);
  assertTrue("Promise resolved",promise.isDone());
  assertEquals("Value matches",failed,promise.getFailure());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.blueprint.authorization.impl.SecurityAnnoationParserTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testAnnotationType() throws NoSuchMethodException, SecurityException {
  Assert.assertTrue(getEffective("admin") instanceof RolesAllowed);
  Assert.assertTrue(getEffective("user") instanceof RolesAllowed);
  Assert.assertTrue(getEffective("anon") instanceof PermitAll);
  Assert.assertTrue(getEffective("closed") instanceof DenyAll);
}

</code></pre>

<br>
<pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsSecured(){
  Assert.assertTrue(annParser.isSecured(SecuredClass.class));
  Assert.assertFalse(annParser.isSecured(Object.class));
  Assert.assertFalse(annParser.isSecured(Activator.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.blueprint.container.BPQuiesceTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void canQuiesceNoBPBundle() throws Exception {
  IMocksControl c=EasyMock.createControl();
  BundleContext ctx=c.createMock(BundleContext.class);
  Bundle bpBundle=c.createMock(Bundle.class);
  Bundle testBundle=c.createMock(Bundle.class);
  EasyMock.expect(ctx.getBundle()).andReturn(bpBundle);
  BlueprintQuiesceParticipant bqp=new BlueprintQuiesceParticipant(ctx,new BlueprintExtender(){
    @Override protected BlueprintContainerImpl getBlueprintContainerImpl(    Bundle bundle){
      return null;
    }
  }
);
  final Semaphore result=new Semaphore(0);
  QuiesceCallback qc=new QuiesceCallback(){
    public void bundleQuiesced(    Bundle... bundlesQuiesced){
      result.release();
    }
  }
;
  c.replay();
  bqp.quiesce(qc,Arrays.asList(testBundle));
  c.verify();
  assertTrue(result.tryAcquire(2,TimeUnit.SECONDS));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.blueprint.container.BeanRecipeTest </h4><pre class="type-4 type-3 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void parameterLessHiding() throws Exception {
  Set<Method> methods=new HashSet<Method>(Arrays.asList(Base.class.getMethod("getObject"),Middle.class.getMethod("getObject"),Top.class.getMethod("getObject"),Unrelated.class.getMethod("getObject")));
  methods=applyStaticHidingRules(methods);
  assertEquals(2,methods.size());
  assertTrue(methods.contains(Top.class.getMethod("getObject")));
  assertTrue(methods.contains(Unrelated.class.getMethod("getObject")));
  assertFalse(methods.contains(Middle.class.getMethod("getObject")));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void parameterDistinction() throws Exception {
  Set<Method> methods=new HashSet<Method>(Arrays.asList(Base.class.getMethod("getOne",Object.class),Middle.class.getMethod("getOne",Number.class),Middle.class.getMethod("getOne",Object.class),Top.class.getMethod("getOne",Integer.class)));
  methods=applyStaticHidingRules(methods);
  assertEquals(3,methods.size());
  assertFalse(methods.contains(Base.class.getMethod("getOne",Object.class)));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void baseTypeHiding() throws Exception {
  Set<Method> methods=new HashSet<Method>(Arrays.asList(Middle.class.getMethod("getBasic",int.class),Top.class.getMethod("getBasic",int.class),Unrelated.class.getMethod("getBasic",int.class)));
  methods=applyStaticHidingRules(methods);
  assertEquals(2,methods.size());
  assertFalse(methods.contains(Middle.class.getMethod("getBasic",int.class)));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void multiParameterTest() throws Exception {
  Set<Method> methods=new HashSet<Method>(Arrays.asList(Base.class.getMethod("getMany",Object.class,String.class,String.class),Middle.class.getMethod("getMany",Object.class,String.class,Number.class),Top.class.getMethod("getMany",Object.class,String.class,Number.class)));
  methods=applyStaticHidingRules(methods);
  assertEquals(2,methods.size());
  assertFalse(methods.contains(Middle.class.getMethod("getMany",Object.class,String.class,Number.class)));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.blueprint.itests.ASMMultiBundleTest </h4><pre class="type-3 type-7 type-1 type-8 type-2 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void multiBundleTest() throws Exception {
  Bundle bundlea=context().getBundleByName("org.apache.aries.blueprint.testbundlea");
  assertNotNull(bundlea);
  bundlea.start();
  Bundle bundleb=context().getBundleByName("org.apache.aries.blueprint.testbundleb");
  assertNotNull(bundleb);
  bundleb.start();
  BlueprintContainer beanContainer=Helper.getBlueprintContainerForBundle(context(),"org.apache.aries.blueprint.testbundleb");
  assertNotNull(beanContainer);
  Object obj1=beanContainer.getComponentInstance("TestBeanA");
  assertTrue(obj1 instanceof TestBean);
  TestBean testBeanA=(TestBean)obj1;
  org.junit.Assert.assertEquals("RED",testBeanA.getRed());
  org.junit.Assert.assertEquals("GREEN",testBeanA.getGreen());
  org.junit.Assert.assertEquals("BLUE",testBeanA.getBlue());
  Object obj2=beanContainer.getComponentInstance("TestBeanB");
  assertTrue(obj2 instanceof TestBean);
  TestBean testBeanB=(TestBean)obj2;
  org.junit.Assert.assertEquals("ONE_VALUE",testBeanB.getRed());
  org.junit.Assert.assertEquals("GREEN",testBeanB.getGreen());
  org.junit.Assert.assertEquals("BLUE",testBeanB.getBlue());
  Object obj3=beanContainer.getComponentInstance("TestBeanC");
  assertTrue(obj3 instanceof TestBean);
  TestBean testBeanC=(TestBean)obj3;
  BlueprintContainer handlerContainer=Helper.getBlueprintContainerForBundle(context(),"org.apache.aries.blueprint.testbundlea");
  assertNotNull(handlerContainer);
  Object ns1=handlerContainer.getComponentInstance("NSHandlerOne");
  assertTrue(ns1 instanceof NSHandlerOne);
  Object ns2=handlerContainer.getComponentInstance("NSHandlerTwo");
  assertTrue(ns2 instanceof NSHandlerTwo);
  NSHandlerTwo nstwo=(NSHandlerTwo)ns2;
  List<String> log=nstwo.getLog();
  checkInterceptorLog(new String[]{"PRECALL:TestBeanC:methodToInvoke:[RED]:","POSTCALL[true]:TestBeanC:methodToInvoke:[RED]:","PRECALL:TestBeanC:methodToInvoke:[BLUE]:","POSTCALL[false]:TestBeanC:methodToInvoke:[BLUE]:"},log);
  RuntimeException re=null;
  try {
    testBeanC.methodToInvoke("GREEN");
  }
 catch (  RuntimeException e) {
    re=e;
  }
  assertNotNull("invocation of Green did not cause an exception as expected",re);
  log=nstwo.getLog();
  checkInterceptorLog(new String[]{"PRECALL:TestBeanC:methodToInvoke:[RED]:","POSTCALL[true]:TestBeanC:methodToInvoke:[RED]:","PRECALL:TestBeanC:methodToInvoke:[BLUE]:","POSTCALL[false]:TestBeanC:methodToInvoke:[BLUE]:","PRECALL:TestBeanC:methodToInvoke:[GREEN]:","POSTCALLEXCEPTION[java.lang.RuntimeException: MATCHED ON GREEN (GREEN)]:TestBeanC:methodToInvoke:[GREEN]:"},log);
  Object obj4=beanContainer.getComponentInstance("ProcessedBean");
  assertTrue(obj4 instanceof ProcessableBean);
  ProcessableBean pb=(ProcessableBean)obj4;
  Object bp=beanContainer.getComponentInstance("http://ns.handler.three/BeanProcessor");
  assertNotNull(bp);
  assertTrue(bp instanceof BeanProcessor);
  assertEquals(1,pb.getProcessedBy().size());
  assertEquals(pb.getProcessedBy().get(0),bp);
  assertEquals(pb.getProcessedBy(Phase.BEFORE_INIT).get(0),bp);
  assertEquals(pb.getProcessedBy(Phase.AFTER_INIT).get(0),bp);
  Object objOther=beanContainer.getComponentInstance("PlaceHolderTestBean");
  assertTrue(objOther instanceof OtherBean);
  assertEquals("test1value",((OtherBean)objOther).getTestValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.blueprint.itests.BlueprintAnnotationTest </h4><pre class="type-3 type-7 type-13 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test() throws Exception {
  Object obj=blueprintContainer.getComponentInstance("bar");
  assertNotNull(obj);
  assertEquals(Bar.class,obj.getClass());
  Bar bar=(Bar)obj;
  assertEquals("Hello FooBar",bar.getValue());
  obj=blueprintContainer.getComponentInstance("foo");
  assertNotNull(obj);
  assertEquals(Foo.class,obj.getClass());
  Foo foo=(Foo)obj;
  assertEquals(5,foo.getA());
  assertSame(bar,foo.getBar());
  assertEquals(Currency.getInstance("PLN"),foo.getCurrency());
  assertEquals(new SimpleDateFormat("yyyy.MM.dd").parse("2009.04.17"),foo.getDate());
  assertTrue(foo.isInitialized());
  assertFalse(foo.isDestroyed());
  assertNotNull(blueprintContainer.getComponentInstance("fragment"));
  obj=context().getService(Foo.class,"(blueprint.annotation.sample=true)",5000);
  assertNotNull(obj);
  assertEquals(foo.toString(),obj.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.blueprint.itests.MemoryLeakTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testScheduledExecMemoryLeak() throws Exception {
  Bundle b=context().getBundleByName("test.bundle");
  long startFreeMemory=getFreeMemory();
  for (int i=0; i < 1500; i++) {
    b.start();
    Thread.sleep(10);
    b.stop();
  }
  long endFreeMemory=getFreeMemory();
  long lossage=startFreeMemory - endFreeMemory;
  System.out.println("We lost: " + lossage);
  assertTrue("We lost: " + lossage,lossage < 77000000);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.blueprint.itests.MultiInterfacesTest </h4><pre class="type-5 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultiInterfaceReferences() throws Exception {
  startBundleBlueprint("org.apache.aries.blueprint.testbundlea");
  BlueprintContainer beanContainer=startBundleBlueprint("org.apache.aries.blueprint.testbundleb");
  Object obj1=beanContainer.getComponentInstance("OnlyA");
  Object obj2=beanContainer.getComponentInstance("AandB");
  Object obj3=beanContainer.getComponentInstance("AandBandC");
  Object obj4=beanContainer.getComponentInstance("AandBandCandD");
  assertEquals("A",((InterfaceA)obj1).methodA());
  assertEquals("A",((InterfaceA)obj2).methodA());
  assertEquals("A",((InterfaceA)obj3).methodA());
  assertEquals("B",((InterfaceB)obj2).methodB());
  assertEquals("C",((InterfaceC)obj3).methodC());
  assertFalse(obj1 instanceof InterfaceC);
  assertFalse(obj2 instanceof InterfaceC);
  assertFalse(obj1 instanceof InterfaceB);
  assertTrue(obj4 instanceof InterfaceD);
  try {
    ((InterfaceD)obj4).methodD();
    fail("This should not work");
  }
 catch (  org.osgi.service.blueprint.container.ServiceUnavailableException t) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.blueprint.itests.QuiesceBlueprintTest </h4><pre class="type-12 type-3 type-7 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultiBundleQuiesce() throws Exception {
  System.out.println("In testMultiBundleQuiesce");
  Object obj=context().getService(TestBean.class);
  if (obj != null) {
    QuiesceParticipant participant=getParticipant("org.apache.aries.blueprint.core");
    if (participant != null) {
      TestQuiesceCallback callback=new TestQuiesceCallback();
      Bundle bundlea=getBundle("org.apache.aries.blueprint.testbundlea");
      assertNotNull(bundlea);
      bundlea.start();
      Bundle bundleq=getBundle("org.apache.aries.blueprint.testquiescebundle");
      System.out.println("Got the bundle");
      List<Bundle> bundles=new ArrayList<Bundle>();
      bundles.add(bundlea);
      bundles.add(bundleq);
      Thread t=new Thread(new TestBeanClient((TestBean)obj,1500));
      t.start();
      Thread.sleep(200);
      participant.quiesce(callback,bundles);
      System.out.println("Called Quiesce");
      Thread.sleep(500);
      Assert.assertTrue("Quiesce callback should have occurred once for bundle a but not for bundle q; calls should be 1, but it is " + callback.getCalls(),callback.getCalls() == 1);
      Thread.sleep(1500);
      System.out.println("After second sleep");
      Assert.assertTrue("Quiesce callback should have occurred twice, once for bundle a and q respectively; calls should be 2, but it is " + callback.getCalls(),callback.getCalls() == 2);
    }
 else {
      throw new Exception("No Quiesce Participant found for the blueprint service");
    }
  }
 else {
    throw new Exception("No Service returned for " + TestBean.class);
  }
}

</code></pre>

<br>
<pre class="type-12 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
"></span><br>
@Test public void testMultiRequestQuiesce() throws Exception {
  System.out.println("In testMultiRequestQuiesce");
  Object obj=context().getService(TestBean.class);
  if (obj != null) {
    QuiesceParticipant participant=getParticipant("org.apache.aries.blueprint.core");
    if (participant != null) {
      TestQuiesceCallback callback=new TestQuiesceCallback();
      TestBeanClient client=new TestBeanClient((TestBean)obj,1500);
      Bundle bundle=getBundle("org.apache.aries.blueprint.testquiescebundle");
      System.out.println("Got the bundle");
      List<Bundle> bundles=new ArrayList<Bundle>();
      bundles.add(bundle);
      Thread t=new Thread(client);
      t.start();
      participant.quiesce(callback,bundles);
      System.out.println("Called Quiesce, putting in a new request");
      Thread t2=new Thread(client);
      t2.start();
      Thread.sleep(5000);
      Assert.assertTrue("Quiesce callback should have occurred once; calls should be 1, but it is " + callback.getCalls(),callback.getCalls() == 1);
    }
 else {
      throw new Exception("No Quiesce Participant found for the blueprint service");
    }
  }
 else {
    throw new Exception("No Service returned for " + TestBean.class);
  }
}

</code></pre>

<br>
<pre class="type-12 type-3 type-7 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNoServicesQuiesce() throws Exception {
  System.out.println("In testNoServicesQuiesce");
  Object obj=context().getService(TestBean.class);
  if (obj != null) {
    QuiesceParticipant participant=getParticipant("org.apache.aries.blueprint.core");
    if (participant != null) {
      TestQuiesceCallback callbackA=new TestQuiesceCallback();
      TestQuiesceCallback callbackB=new TestQuiesceCallback();
      Bundle bundlea=getBundle("org.apache.aries.blueprint.testbundlea");
      assertNotNull(bundlea);
      bundlea.start();
      Bundle bundleb=getBundle("org.apache.aries.blueprint.testbundleb");
      assertNotNull(bundleb);
      bundleb.start();
      Helper.getBlueprintContainerForBundle(context(),"org.apache.aries.blueprint.testbundleb");
      participant.quiesce(callbackB,Collections.singletonList(getBundle("org.apache.aries.blueprint.testbundleb")));
      System.out.println("Called Quiesce");
      Thread.sleep(200);
      Assert.assertTrue("Quiesce callback B should have occurred; calls should be 1, but it is " + callbackB.getCalls(),callbackB.getCalls() == 1);
      Assert.assertTrue("Quiesce callback A should not have occurred yet; calls should be 0, but it is " + callbackA.getCalls(),callbackA.getCalls() == 0);
      bundleb.stop();
      participant.quiesce(callbackA,Collections.singletonList(getBundle("org.apache.aries.blueprint.testbundlea")));
      Thread.sleep(1000);
      System.out.println("After second sleep");
      Assert.assertTrue("Quiesce callback A should have occurred once; calls should be 1, but it is " + callbackA.getCalls(),callbackA.getCalls() == 1);
      Assert.assertTrue("Quiesce callback B should have occurred once; calls should be 1, but it is " + callbackB.getCalls(),callbackB.getCalls() == 1);
    }
 else {
      throw new Exception("No Quiesce Participant found for the blueprint service");
    }
  }
 else {
    throw new Exception("No Service returned for " + TestBean.class);
  }
}

</code></pre>

<br>
<pre class="type-12 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testBasicQuieseEmptyCounter() throws Exception {
  System.out.println("In testBasicQuieseEmptyCounter");
  Object obj=context().getService(TestBean.class);
  if (obj != null) {
    QuiesceParticipant participant=getParticipant("org.apache.aries.blueprint.core");
    if (participant != null) {
      System.out.println(obj.getClass().getName());
      TestQuiesceCallback callback=new TestQuiesceCallback();
      Bundle bundle=getBundle("org.apache.aries.blueprint.testquiescebundle");
      System.out.println("Got the bundle");
      List<Bundle> bundles=new ArrayList<Bundle>();
      bundles.add(bundle);
      Thread t=new Thread(new TestBeanClient((TestBean)obj,2000));
      t.start();
      System.out.println("Thread Started");
      participant.quiesce(callback,bundles);
      System.out.println("Called Quiesce");
      Thread.sleep(1000);
      Assert.assertTrue("Quiesce callback should not have occurred yet; calls should be 0, but it is " + callback.getCalls(),callback.getCalls() == 0);
      t.join();
      System.out.println("After join");
      Assert.assertTrue("Quiesce callback should have occurred once; calls should be 1, but it is " + callback.getCalls(),callback.getCalls() == 1);
    }
 else {
      throw new Exception("No Quiesce Participant found for the blueprint service");
    }
    System.out.println("done");
  }
 else {
    throw new Exception("No Service returned for " + TestBean.class);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.blueprint.itests.TestReferences </h4><pre class="type-3 type-7 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReferencesCallableInDestroy() throws Exception {
  bundleContext.registerService(Runnable.class.getName(),new Thread(),null);
  BlueprintContainer blueprintContainer=Helper.getBlueprintContainerForBundle(context(),"org.apache.aries.blueprint.sample");
  assertNotNull(blueprintContainer);
  DestroyTest dt=(DestroyTest)blueprintContainer.getComponentInstance("destroyCallingReference");
  Bundle b=findBundle("org.apache.aries.blueprint.sample");
  assertNotNull(b);
  b.stop();
  assertTrue("The destroy method was called",dt.waitForDestruction(1000));
  Exception e=dt.getDestroyFailure();
  if (e != null)   throw e;
}

</code></pre>

<br>
<pre class="type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("rawtypes") @Test public void testDefaultReference() throws Exception {
  BlueprintContainer blueprintContainer=Helper.getBlueprintContainerForBundle(context(),"org.apache.aries.blueprint.sample");
  assertNotNull(blueprintContainer);
  Runnable refRunnable=(Runnable)blueprintContainer.getComponentInstance("refWithDefault");
  DefaultRunnable defaultRunnable=(DefaultRunnable)blueprintContainer.getComponentInstance("defaultRunnable");
  refRunnable.run();
  waitForAsynchronousHandling();
  Thread.sleep(2000);
  assertEquals("The default runnable was not called",1,defaultRunnable.getCount());
  final AtomicBoolean called=new AtomicBoolean(false);
  Runnable mockService=new Runnable(){
    public void run(){
      called.set(true);
    }
  }
;
  ServiceRegistration reg=bundleContext.registerService(Runnable.class.getName(),mockService,null);
  waitForAsynchronousHandling();
  Thread.sleep(2000);
  refRunnable.run();
  assertEquals("The default runnable was called when a service was bound",1,defaultRunnable.getCount());
  Assert.assertTrue("Service should have been called",called.get());
  reg.unregister();
  waitForAsynchronousHandling();
  Thread.sleep(2000);
  refRunnable.run();
  assertEquals("The default runnable was not called",2,defaultRunnable.getCount());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testListReferences() throws Exception {
  BlueprintContainer blueprintContainer=Helper.getBlueprintContainerForBundle(context(),"org.apache.aries.blueprint.sample");
  assertNotNull(blueprintContainer);
  BindingListener listener=(BindingListener)blueprintContainer.getComponentInstance("listBindingListener");
  assertNull(listener.getA());
  assertNull(listener.getReference());
  List<?> refs=(List<?>)blueprintContainer.getComponentInstance("ref-list");
  assertNotNull(refs);
  assertTrue(refs.isEmpty());
  InterfaceA testService=new InterfaceA(){
    public String hello(    String msg){
      return "Hello " + msg + "!";
    }
  }
;
  bundleContext.registerService(InterfaceA.class.getName(),testService,null);
  waitForAsynchronousHandling();
  assertNotNull(listener.getA());
  assertNotNull(listener.getReference());
  assertEquals(1,refs.size());
  InterfaceA a=(InterfaceA)refs.get(0);
  assertNotNull(a);
  assertEquals("Hello world!",a.hello("world"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.blueprint.itests.TestRegistrationListener </h4><pre class="type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWithAutoExportEnabled() throws Exception {
  BlueprintContainer blueprintContainer=Helper.getBlueprintContainerForBundle(context(),"org.apache.aries.blueprint.sample");
  assertNotNull(blueprintContainer);
  Foo foo=context().getService(Foo.class,"(" + BlueprintConstants.COMPONENT_NAME_PROPERTY + "=foo)");
  assertEquals(5,foo.getA());
  FooRegistrationListener listener=(FooRegistrationListener)blueprintContainer.getComponentInstance("fooRegistrationListener");
  Map<?,?> props=listener.getProperties();
  assertNotNull(props);
  assertTrue(props.containsKey(BlueprintConstants.COMPONENT_NAME_PROPERTY));
  assertEquals("foo",props.get(BlueprintConstants.COMPONENT_NAME_PROPERTY));
  assertTrue(props.containsKey("key"));
  assertEquals("value",props.get("key"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.blueprint.plugin.model.BeanTest </h4><pre class="type-3 type-7 type-8 type-16 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBlueprintBundleContext(){
  Bean bean=new Bean(MyBean4.class);
  bean.resolve(new Context());
  Property bcProp=bean.properties.iterator().next();
  assertEquals("bundleContext",bcProp.name);
  assertEquals("blueprintBundleContext",bcProp.ref);
  assertFalse(bean.isPrototype);
  Set<TransactionalDef> expectedTxs=Sets.newHashSet(new TransactionalDef("txWithoutClassAnnotation","Supports"));
  assertEquals(expectedTxs,bean.transactionDefs);
}

</code></pre>

<br>
<pre class="type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseNamedBean(){
  Bean bean=new Bean(ServiceAImpl1.class);
  bean.resolve(new Context());
  String definedName=ServiceAImpl1.class.getAnnotation(Named.class).value();
  assertEquals("my1",definedName);
  assertEquals("Name should be defined using @Named",definedName,bean.id);
  assertNull("There should be no initMethod",bean.initMethod);
  assertNull("There should be no destroyMethod",bean.destroyMethod);
  assertEquals("There should be no persistence fields",0,bean.persistenceFields.size());
  assertTrue("There should be no transaction definition",bean.transactionDefs.isEmpty());
  assertEquals("There should be no properties",0,bean.properties.size());
  assertTrue(bean.isPrototype);
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-16 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseMyBean1(){
  Bean bean=new Bean(MyBean1.class);
  bean.resolve(new Context());
  assertEquals(MyBean1.class,bean.clazz);
  assertEquals("myBean1",bean.id);
  assertEquals("init",bean.initMethod);
  assertEquals("destroy",bean.destroyMethod);
  Assert.assertEquals(2,bean.persistenceFields.size());
  assertEquals("em",bean.persistenceFields.get(0).getName());
  assertEquals("emf",bean.persistenceFields.get(1).getName());
  assertEquals(1,bean.properties.size());
  assertFalse(bean.isPrototype);
  Property prop=bean.properties.iterator().next();
  assertEquals("bean2",prop.name);
  assertEquals("serviceA",prop.ref);
  Set<TransactionalDef> expectedTxs=Sets.newHashSet(new TransactionalDef("*","RequiresNew"),new TransactionalDef("txNotSupported","NotSupported"),new TransactionalDef("txMandatory","Mandatory"),new TransactionalDef("txNever","Never"),new TransactionalDef("txRequired","Required"),new TransactionalDef("txOverridenWithRequiresNew","RequiresNew"),new TransactionalDef("txSupports","Supports"));
  assertEquals(expectedTxs,bean.transactionDefs);
}

</code></pre>

<br>
<pre class="type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseMyBean3(){
  Bean bean=new Bean(MyBean3.class);
  bean.resolve(new Context());
  assertEquals(MyBean3.class,bean.clazz);
  assertEquals("myBean3",bean.id);
  assertNull("There should be no initMethod",bean.initMethod);
  assertNull("There should be no destroyMethod",bean.destroyMethod);
  assertEquals("There should be no persistence fields",0,bean.persistenceFields.size());
  assertEquals(5,bean.properties.size());
  assertTrue(bean.isPrototype);
  Set<TransactionalDef> expectedTxs=Sets.newHashSet(new TransactionalDef("*","RequiresNew"),new TransactionalDef("txNotSupported","NotSupported"),new TransactionalDef("txMandatory","Mandatory"),new TransactionalDef("txNever","Never"),new TransactionalDef("txRequired","Required"),new TransactionalDef("txRequiresNew","RequiresNew"),new TransactionalDef("txSupports","Supports"));
  assertEquals(expectedTxs,bean.transactionDefs);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.blueprint.proxy.AbstractProxyTest </h4><pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testEquals() throws Exception {
  Object p1=getProxyInstance(getProxyClass(getTestClass()));
  Object p2=getProxyInstance(getProxyClass(getTestClass()));
  assertFalse("Should not be equal",p1.equals(p2));
  Object p3=getP3();
  p1=setDelegate(p1,new SingleInstanceDispatcher(p3));
  p2=setDelegate(p2,new SingleInstanceDispatcher(p3));
  assertTrue("Should be equal",p1.equals(p2));
  Object p4=getProxyInstance(getProxyClass(getTestClass()));
  Object p5=getProxyInstance(getProxyClass(getTestClass()));
  p4=setDelegate(p4,new SingleInstanceDispatcher(p1));
  p5=setDelegate(p5,new SingleInstanceDispatcher(p2));
  assertTrue("Should be equal",p4.equals(p5));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test a method with generics
 */
@Test public void testGenerics() throws Exception {
  Class<?> proxy=getProxyClass(ProxyTestClassGeneric.class);
  Object o=getProxyInstance(proxy);
  Method m=getDeclaredMethod(ProxyTestClassGeneric.class,"setSomething",String.class);
  m.invoke(o,"aString");
  if (getClass() == WovenProxyGeneratorTest.class)   m=getDeclaredMethod(ProxyTestClassGeneric.class.getSuperclass(),"getSomething");
 else   m=getDeclaredMethod(ProxyTestClassGeneric.class,"getSomething");
  Object returned=m.invoke(o);
  assertTrue("Object was of wrong type",String.class.isInstance(returned));
  assertEquals("String had wrong value","aString",returned);
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test a covariant override method
 */
@Test public void testCovariant() throws Exception {
  Class<?> proxy=getProxyClass(ProxyTestClassCovariantOverride.class);
  Method m=getDeclaredMethod(ProxyTestClassCovariantOverride.class,"getCovariant");
  Object returned=m.invoke(getProxyInstance(proxy));
  assertTrue("Object was of wrong type: " + returned.getClass().getSimpleName(),proxy.isInstance(returned));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.blueprint.proxy.InterfaceProxyingTest </h4><pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testNoStaleProxiesForRefreshedBundle() throws Exception {
  Bundle bundle=(Bundle)Skeleton.newMock(new Class<?>[]{Bundle.class,ClassLoaderProxy.class});
  Skeleton skel=Skeleton.getSkeleton(bundle);
  TestClassLoader loader=new TestClassLoader();
  skel.setReturnValue(new MethodCall(ClassLoaderProxy.class,"getClassLoader"),loader);
  skel.setReturnValue(new MethodCall(Bundle.class,"getLastModified"),10l);
  skel.setReturnValue(new MethodCall(Bundle.class,"adapt",BundleWiring.class),Skeleton.newMock(BundleWiring.class));
  Class<?> clazz=loader.loadClass("org.apache.aries.blueprint.proxy.TestInterface");
  Object proxy=InterfaceProxyGenerator.getProxyInstance(bundle,null,Arrays.<Class<?>>asList(clazz),constantly(null),null);
  assertTrue(clazz.isInstance(proxy));
  ClassLoader parent1=proxy.getClass().getClassLoader().getParent();
  TestClassLoader loaderToo=new TestClassLoader();
  skel.setReturnValue(new MethodCall(ClassLoaderProxy.class,"getClassLoader"),loaderToo);
  skel.setReturnValue(new MethodCall(Bundle.class,"getLastModified"),20l);
  skel.setReturnValue(new MethodCall(Bundle.class,"adapt",BundleWiring.class),Skeleton.newMock(BundleWiring.class));
  Class<?> clazzToo=loaderToo.loadClass("org.apache.aries.blueprint.proxy.TestInterface");
  Object proxyToo=InterfaceProxyGenerator.getProxyInstance(bundle,null,Arrays.<Class<?>>asList(clazzToo),constantly(null),null);
  assertTrue(clazzToo.isInstance(proxyToo));
  ClassLoader parent2=proxyToo.getClass().getClassLoader().getParent();
  assertTrue(parent1 != parent2);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testComplexInterface() throws Exception {
  Collection<Class<?>> classes=new ArrayList<Class<?>>(Arrays.asList(ProxyTestInterface.class));
  final TestCallable tc=new TestCallable();
  tc.setReturn(5);
  Object o=InterfaceProxyGenerator.getProxyInstance(testBundle,null,classes,constantly(tc),null);
  assertTrue(o instanceof ProxyTestInterface);
  assertTrue(o instanceof Callable);
  assertEquals(5,((Callable)o).call());
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testGetProxyInstance2() throws Exception {
  Collection<Class<?>> classes=new ArrayList<Class<?>>(Arrays.asList(Closeable.class,Iterable.class,Map.class));
  Object o=InterfaceProxyGenerator.getProxyInstance(testBundle,null,classes,constantly(null),null);
  assertTrue(o instanceof Closeable);
  assertTrue(o instanceof Iterable);
  assertTrue(o instanceof Map);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHandlesObjectMethods() throws Exception {
  TestListener listener=new TestListener();
  List<String> list=Arrays.asList("one","two","three");
  Object proxied=InterfaceProxyGenerator.getProxyInstance(testBundle,null,Arrays.<Class<?>>asList(List.class),constantly(list),listener);
  assertTrue(proxied.equals(Arrays.asList("one","two","three")));
  assertEquals(Collection.class.getMethod("equals",Object.class),listener.getLastMethod());
  listener.clear();
  assertEquals(Arrays.asList("one","two","three").hashCode(),proxied.hashCode());
  assertEquals(Collection.class.getMethod("hashCode"),listener.getLastMethod());
  listener.clear();
  assertEquals(list.toString(),proxied.toString());
  assertEquals(Object.class.getMethod("toString"),listener.getLastMethod());
  listener.clear();
  Runnable runnable=new Runnable(){
    public void run(){
    }
  }
;
  proxied=InterfaceProxyGenerator.getProxyInstance(testBundle,null,Arrays.<Class<?>>asList(Runnable.class),constantly(runnable),listener);
  assertTrue(proxied.equals(runnable));
  assertEquals(Object.class.getMethod("equals",Object.class),listener.getLastMethod());
  listener.clear();
  assertEquals(runnable.hashCode(),proxied.hashCode());
  assertEquals(Object.class.getMethod("hashCode"),listener.getLastMethod());
  listener.clear();
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testGetProxyInstance1() throws Exception {
  Collection<Class<?>> classes=new ArrayList<Class<?>>(Arrays.asList(Closeable.class));
  Object o=InterfaceProxyGenerator.getProxyInstance(testBundle,null,classes,constantly(null),null);
  assertTrue(o instanceof Closeable);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.blueprint.proxy.ProxySubclassGeneratorTest </h4><pre class="type-4 type-3 type-7 type-8 type-16 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test that the methods found declared on the generated proxy subclass are
 * the ones that we expect.
 */
@Test public void testExpectedMethods() throws Exception {
  Class<?> superclass=getTestClass();
  do {
    Method[] declaredMethods=superclass.getDeclaredMethods();
    List<Method> listOfDeclaredMethods=new ArrayList<Method>();
    for (    Method m : declaredMethods) {
      int i=m.getModifiers();
      if (Modifier.isPrivate(i) || Modifier.isFinal(i)) {
      }
 else       if (!(Modifier.isPublic(i) || Modifier.isPrivate(i) || Modifier.isProtected(i))) {
        if (m.getDeclaringClass().getPackage().equals(getTestClass().getPackage())) {
          listOfDeclaredMethods.add(m);
        }
      }
 else {
        listOfDeclaredMethods.add(m);
      }
    }
    declaredMethods=listOfDeclaredMethods.toArray(new Method[]{});
    ProxySubclassMethodHashSet<String> foundMethods=new ProxySubclassMethodHashSet<String>(declaredMethods.length);
    foundMethods.addMethodArray(declaredMethods);
    expectedMethods.addAll(foundMethods);
    superclass=superclass.getSuperclass();
  }
 while (superclass != null);
  Method[] ihMethods=new Method[]{generatedProxySubclass.getMethod("setInvocationHandler",new Class[]{InvocationHandler.class}),generatedProxySubclass.getMethod("getInvocationHandler",new Class[]{})};
  expectedMethods.addMethodArray(ihMethods);
  Method[] generatedProxySubclassMethods=generatedProxySubclass.getDeclaredMethods();
  ProxySubclassMethodHashSet<String> generatedMethods=new ProxySubclassMethodHashSet<String>(generatedProxySubclassMethods.length);
  generatedMethods.addMethodArray(generatedProxySubclassMethods);
  for (  String gen : generatedMethods) {
    assertTrue("Unexpected method: " + gen,expectedMethods.contains(gen));
  }
  for (  String exp : expectedMethods) {
    assertTrue("Method was not generated: " + exp,generatedMethods.contains(exp));
  }
  assertEquals("Sets were not the same",expectedMethods,generatedMethods);
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test a covariant override method
 */
@Test public void testCovariant() throws Exception {
  ((FakeInvocationHandler)ih).setDelegate(COVARIANT_CLASS.newInstance());
  o=ProxySubclassGenerator.newProxySubclassInstance(COVARIANT_CLASS,ih);
  generatedProxySubclass=o.getClass();
  Method m=generatedProxySubclass.getDeclaredMethod("getCovariant",new Class[]{});
  Object returned=m.invoke(o);
  assertTrue("Object was of wrong type: " + returned.getClass().getSimpleName(),COVARIANT_CLASS.isInstance(returned));
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Test a class marked final
 */
@Test public void testFinalClass() throws Exception {
  try {
    ProxySubclassGenerator.getProxySubclass(FINAL_CLASS);
  }
 catch (  FinalModifierException e) {
    assertTrue("Should have found final class",e.isFinalClass());
  }
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Test a method marked final
 */
@Test public void testFinalMethod() throws Exception {
  try {
    ProxySubclassGenerator.getProxySubclass(FINAL_METHOD_CLASS);
  }
 catch (  FinalModifierException e) {
    assertFalse("Should have found final method not final class",e.isFinalClass());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.blueprint.proxy.WovenProxyGeneratorTest </h4><pre class="type-5 type-3 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test a class whose super couldn't be woven
 */
@Test public void testUnweavableSuperWithFinalMethod() throws Exception {
  try {
    getProxyClass(ProxyTestClassUnweavableChildWithFinalMethodParent.class);
    fail();
  }
 catch (  RuntimeException re) {
    assertTrue(re.getCause() instanceof FinalModifierException);
    assertEquals(ProxyTestClassUnweavableSuperWithFinalMethod.class.getName(),((FinalModifierException)re.getCause()).getClassName());
    assertEquals("doStuff2",((FinalModifierException)re.getCause()).getFinalMethods());
  }
}

</code></pre>

<br>
<pre class="type-5 type-3 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test a class whose super couldn't be woven
 */
@Test public void testUnweavableSuperWithDefaultMethodInWrongPackage() throws Exception {
  try {
    getProxyClass(ProxyTestClassUnweavableChildWithDefaultMethodWrongPackageParent.class);
    fail();
  }
 catch (  RuntimeException re) {
    assertTrue(re.getCause() instanceof UnableToProxyException);
    assertEquals(ProxyTestClassUnweavableSuperWithDefaultMethodWrongPackageParent.class.getName(),((UnableToProxyException)re.getCause()).getClassName());
  }
}

</code></pre>

<br>
<pre class="type-5 type-3 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnweavableSuperWithNoNoargsAllTheWay() throws Exception {
  try {
    getProxyClass(ProxyTestClassUnweavableSibling.class);
    fail();
  }
 catch (  RuntimeException re) {
    assertTrue(re.getCause() instanceof UnableToProxyException);
    assertEquals(ProxyTestClassUnweavableSibling.class.getName(),((UnableToProxyException)re.getCause()).getClassName());
  }
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGeneratedSVUIDisSynthetic() throws Exception {
  Class<?> woven=getProxyClass(ProxyTestClassSerializable.class);
  assertTrue(woven.getDeclaredField("serialVersionUID").isSynthetic());
  woven=getProxyClass(ProxyTestClassSerializableWithSVUID.class);
  assertFalse(woven.getDeclaredField("serialVersionUID").isSynthetic());
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * This test uses the WovenProxyGenerator to generate and load the specified getTestClass().
 * Once the subclass is generated we check that it wasn't null. 
 * Test method for{@link WovenProxyGenerator#getProxySubclass(byte[],String)}.
 */
@Test public void testGenerateAndLoadProxy() throws Exception {
  super.testGenerateAndLoadProxy();
  assertTrue("Should be a WovenProxy",WovenProxy.class.isAssignableFrom(getProxyClass(getTestClass())));
}

</code></pre>

<br>
<pre class="type-5 type-3 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInnerWithNoParentNoArgs() throws Exception {
  try {
    getProxyClass(ProxyTestClassUnweavableInnerChild.class);
    fail();
  }
 catch (  RuntimeException re) {
    assertTrue(re.getCause() instanceof UnableToProxyException);
    assertEquals(ProxyTestClassUnweavableInnerChild.class.getName(),((UnableToProxyException)re.getCause()).getClassName());
  }
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * This tests that the Synthesizer ran correctly and the packaged
 * WovenProxy class has been modified with the synthetic modifier
 */
@Test public void testWovenProxyIsSynthetic(){
  assertTrue(WovenProxy.class.isSynthetic());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test that the methods found declared on the generated proxy are
 * the ones that we expect.
 */
@Test public void testExpectedMethods() throws Exception {
  ProxySubclassMethodHashSet<String> originalMethods=getMethods(getTestClass());
  ProxySubclassMethodHashSet<String> generatedMethods=getMethods(weavingLoader.loadClass(getTestClass().getName()));
  for (  String gen : generatedMethods) {
    assertTrue("Unexpected method: " + gen,originalMethods.contains(gen));
  }
  for (  String exp : originalMethods) {
    assertTrue("Method was not generated: " + exp,generatedMethods.contains(exp));
  }
  assertEquals("Sets were not the same",originalMethods,generatedMethods);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.blueprint.proxy.WovenProxyPlusSubclassGeneratorTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Test a class marked final
 */
@Test public void testFinalClass() throws Exception {
  try {
    InterfaceProxyGenerator.getProxyInstance(null,FINAL_CLASS,Collections.EMPTY_SET,new Callable(){
      public Object call() throws Exception {
        return null;
      }
    }
,null).getClass();
  }
 catch (  FinalModifierException e) {
    assertTrue("Should have found final class",e.isFinalClass());
  }
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test a method marked final
 */
@Test public void testFinalMethod() throws Exception {
  try {
    InterfaceProxyGenerator.getProxyInstance(null,FINAL_METHOD_CLASS,Collections.EMPTY_SET,new Callable(){
      public Object call() throws Exception {
        return null;
      }
    }
,null).getClass();
  }
 catch (  RuntimeException re) {
    FinalModifierException e=(FinalModifierException)re.getCause();
    assertFalse("Should have found final method not final class",e.isFinalClass());
  }
}

</code></pre>

<br>
<pre class="type-4 type-3 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddingInterfacesToClass() throws Exception {
  Object proxy=InterfaceProxyGenerator.getProxyInstance(testBundle,super.getProxyClass(getTestClass()),Arrays.asList(Map.class,Iterable.class),new Callable(){
    int calls=0;
    private Map<String,String> map=new HashMap<String,String>();
{
      map.put("key","value");
    }
    public Object call() throws Exception {
switch (++calls) {
case 1:
        return WovenProxyPlusSubclassGeneratorTest.super.getProxyInstance(weavingLoader.loadClass(getTestClass().getName()));
case 2:
      return map;
default :
    return map.values();
}
}
}
,null);
Method m=weavingLoader.loadClass(ProxyTestClassGeneral.class.getName()).getDeclaredMethod("testReturnInt");
m.setAccessible(true);
assertEquals(17,m.invoke(proxy));
assertEquals("value",((Map<String,String>)proxy).put("key","value2"));
Iterator<?> it=((Iterable<?>)proxy).iterator();
assertEquals("value2",it.next());
assertFalse(it.hasNext());
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test a covariant override method
 */
@Test public void testCovariant() throws Exception {
  Class<?> proxy=getProxyClass(ProxyTestClassCovariantOverride.class);
  Method m=getDeclaredMethod(ProxyTestClassCovariantOverride.class,"getCovariant",new Class[]{});
  Object returned=m.invoke(getProxyInstance(proxy));
  assertTrue("Object was of wrong type: " + returned.getClass().getSimpleName(),proxy.getSuperclass().isInstance(returned));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.blueprint.proxy.WovenSubclassGeneratorTest </h4><pre class="type-4 type-3 type-7 type-8 type-16 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test that the methods found declared on the generated proxy subclass are
 * the ones that we expect.
 */
@Test public void testExpectedMethods() throws Exception {
  Class<?> superclass=getTestClass();
  do {
    Method[] declaredMethods=superclass.getDeclaredMethods();
    List<Method> listOfDeclaredMethods=new ArrayList<Method>();
    for (    Method m : declaredMethods) {
      if (m.getName().equals("clone") || m.getName().equals("finalize"))       continue;
      int i=m.getModifiers();
      if (Modifier.isPrivate(i) || Modifier.isFinal(i)) {
      }
 else       if (!(Modifier.isPublic(i) || Modifier.isPrivate(i) || Modifier.isProtected(i))) {
        if (m.getDeclaringClass().getPackage().equals(getTestClass().getPackage())) {
          listOfDeclaredMethods.add(m);
        }
      }
 else {
        listOfDeclaredMethods.add(m);
      }
    }
    declaredMethods=listOfDeclaredMethods.toArray(new Method[]{});
    ProxySubclassMethodHashSet<String> foundMethods=new ProxySubclassMethodHashSet<String>(declaredMethods.length);
    foundMethods.addMethodArray(declaredMethods);
    expectedMethods.addAll(foundMethods);
    superclass=superclass.getSuperclass();
  }
 while (superclass != null);
  Method[] subclassMethods=getProxyClass(getTestClass()).getDeclaredMethods();
  List<Method> listOfDeclaredMethods=new ArrayList<Method>();
  for (  Method m : subclassMethods) {
    if (m.getName().startsWith(WovenProxy.class.getName().replace('.','_')))     continue;
    listOfDeclaredMethods.add(m);
  }
  subclassMethods=listOfDeclaredMethods.toArray(new Method[]{});
  ProxySubclassMethodHashSet<String> generatedMethods=new ProxySubclassMethodHashSet<String>(subclassMethods.length);
  generatedMethods.addMethodArray(subclassMethods);
  for (  String gen : generatedMethods) {
    assertTrue("Unexpected method: " + gen,expectedMethods.contains(gen));
  }
  for (  String exp : expectedMethods) {
    assertTrue("Method was not generated: " + exp,generatedMethods.contains(exp));
  }
  assertEquals("Sets were not the same",expectedMethods,generatedMethods);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddingInterfacesToClass() throws Exception {
  Object proxy=InterfaceProxyGenerator.getProxyInstance(null,getTestClass(),Arrays.asList(Map.class,Iterable.class),new Callable(){
    int calls=0;
    private Map<String,String> map=new HashMap<String,String>();
{
      map.put("key","value");
    }
    public Object call() throws Exception {
switch (++calls) {
case 1:
        return getTestClass().newInstance();
case 2:
      return map;
default :
    return map.values();
}
}
}
,null);
assertEquals(17,((ProxyTestClassGeneralWithNoDefaultOrProtectedAccess)proxy).testReturnInt());
assertEquals("value",((Map<String,String>)proxy).put("key","value2"));
Iterator<?> it=((Iterable<?>)proxy).iterator();
assertEquals("value2",it.next());
assertFalse(it.hasNext());
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test a covariant override method
 */
@Test public void testCovariant() throws Exception {
  testCallable=new SingleInstanceDispatcher(COVARIANT_CLASS.newInstance());
  Object o=setDelegate(getProxyInstance(getProxyClass(COVARIANT_CLASS)),testCallable);
  Class<?> generatedProxySubclass=o.getClass();
  Method m=generatedProxySubclass.getDeclaredMethod("getCovariant",new Class[]{});
  Object returned=m.invoke(o);
  assertTrue("Object was of wrong type: " + returned.getClass().getSimpleName(),COVARIANT_CLASS.isInstance(returned));
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Test a class marked final
 */
@Test public void testFinalClass() throws Exception {
  try {
    InterfaceProxyGenerator.getProxyInstance(null,FINAL_CLASS,Collections.EMPTY_SET,new Callable(){
      public Object call() throws Exception {
        return null;
      }
    }
,null).getClass();
  }
 catch (  FinalModifierException e) {
    assertTrue("Should have found final class",e.isFinalClass());
  }
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test a method marked final
 */
@Test public void testFinalMethod() throws Exception {
  try {
    InterfaceProxyGenerator.getProxyInstance(null,FINAL_METHOD_CLASS,Collections.EMPTY_SET,new Callable(){
      public Object call() throws Exception {
        return null;
      }
    }
,null).getClass();
  }
 catch (  RuntimeException re) {
    FinalModifierException e=(FinalModifierException)re.getCause();
    assertFalse("Should have found final method not final class",e.isFinalClass());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.blueprint.utils.ReflectionUtilsTest </h4><pre class="type-3 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFieldsAndProps() throws Exception {
  loadProps(FieldsAndProps.class,true);
  assertEquals(3,sut.length);
  FieldsAndProps fap=new FieldsAndProps();
  assertEquals("hidden",sut[1].getName());
  assertTrue(sut[1].allowsGet());
  assertTrue(sut[1].allowsSet());
  assertEquals("ordeal",sut[1].get(fap,mockBlueprint));
  sut[1].set(fap,"calvary",mockBlueprint);
  assertEquals("calvary",sut[1].get(fap,mockBlueprint));
  assertEquals("nonHidden",sut[2].getName());
  assertTrue(sut[2].allowsGet());
  assertTrue(sut[2].allowsSet());
  sut[2].set(fap,"predicament",mockBlueprint);
  assertEquals("predicament",sut[2].get(fap,mockBlueprint));
}

</code></pre>

<br>
<pre class="type-3 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetterAndGetter() throws Exception {
  loadProps(SetterAndGetter.class,false);
  assertEquals(2,sut.length);
  assertEquals("field",sut[1].getName());
  assertTrue(sut[1].allowsGet());
  assertTrue(sut[1].allowsSet());
  SetterAndGetter sag=new SetterAndGetter();
  sut[1].set(sag,"tribulation",mockBlueprint);
  assertEquals("tribulation",sut[1].get(sag,mockBlueprint));
}

</code></pre>

<br>
<pre class="type-3 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetterOnly() throws Exception {
  loadProps(GetterOnly.class,true);
  assertEquals(2,sut.length);
  assertEquals("class",sut[0].getName());
  assertEquals("value",sut[1].getName());
  assertTrue(sut[1].allowsGet());
  assertFalse(sut[1].allowsSet());
  assertEquals("test",sut[1].get(new GetterOnly(),mockBlueprint));
}

</code></pre>

<br>
<pre class="type-3 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetterOnly() throws Exception {
  loadProps(SetterOnly.class,false);
  assertEquals(2,sut.length);
  assertEquals("field",sut[1].getName());
  assertFalse(sut[1].allowsGet());
  assertTrue(sut[1].allowsSet());
  SetterOnly so=new SetterOnly();
  sut[1].set(so,"trial",mockBlueprint);
  assertEquals("trial",so.retrieve());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.ejb.container.itest.AbstractEJBModellerTest </h4><pre class="type-4 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEJBJARAndAnnotatedOnClasspathInWebZip() throws Exception {
  ModelledResource mr=null;
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  ZipOutputStream zos=new ZipOutputStream(baos);
  addToZip(zos,"MANIFEST_4.MF","META-INF/MANIFEST.MF");
  addToZip(zos,"ejb-jar.xml","WEB-INF/ejb-jar.xml");
  addToZip(zos,"beans/StatelessSessionBean.class","yes/beans/StatelessSessionBean.class");
  addToZip(zos,"beans/StatefulSessionBean.class","yes/beans/StatefulSessionBean.class");
  zos.close();
  mr=model(baos.toByteArray());
  Collection<? extends ExportedService> services=mr.getExportedServices();
  assertEquals("Wrong number of services",3,services.size());
  assertTrue(services.containsAll(getXMLservices()));
  assertTrue(services.containsAll(getAnnotatedservices()));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAnnotatedOnlyInZip() throws Exception {
  ModelledResource mr=null;
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  ZipOutputStream zos=new ZipOutputStream(baos);
  addToZip(zos,"MANIFEST_1.MF","META-INF/MANIFEST.MF");
  addToZip(zos,"beans/StatelessSessionBean.class");
  addToZip(zos,"beans/StatefulSessionBean.class");
  zos.close();
  mr=model(baos.toByteArray());
  Collection<? extends ExportedService> services=mr.getExportedServices();
  assertEquals("Wrong number of services",1,services.size());
  assertTrue(Collections.disjoint(services,getXMLservices()));
  assertTrue(services.containsAll(getAnnotatedservices()));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEJBJARAndAnnotatedOnClasspathInZip() throws Exception {
  ModelledResource mr=null;
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  ZipOutputStream zos=new ZipOutputStream(baos);
  addToZip(zos,"MANIFEST_2.MF","META-INF/MANIFEST.MF");
  addToZip(zos,"ejb-jar.xml","META-INF/ejb-jar.xml");
  addToZip(zos,"beans/StatelessSessionBean.class","yes/beans/StatelessSessionBean.class");
  addToZip(zos,"beans/StatefulSessionBean.class","yes/beans/StatefulSessionBean.class");
  zos.close();
  mr=model(baos.toByteArray());
  Collection<? extends ExportedService> services=mr.getExportedServices();
  assertEquals("Wrong number of services",3,services.size());
  assertTrue(services.containsAll(getXMLservices()));
  assertTrue(services.containsAll(getAnnotatedservices()));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void modelBasicEJBBundleWithXML() throws Exception {
  ModelledResource mr=null;
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  ZipOutputStream zos=new ZipOutputStream(baos);
  addToZip(zos,"MANIFEST_1.MF","META-INF/MANIFEST.MF");
  addToZip(zos,"ejb-jar.xml","META-INF/ejb-jar.xml");
  zos.close();
  mr=model(baos.toByteArray());
  Collection<? extends ExportedService> services=mr.getExportedServices();
  assertEquals("Wrong number of services",2,services.size());
  assertTrue(services.containsAll(getXMLservices()));
  assertTrue(Collections.disjoint(services,getAnnotatedservices()));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEJBJARAndAnnotatedInZip() throws Exception {
  ModelledResource mr=null;
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  ZipOutputStream zos=new ZipOutputStream(baos);
  addToZip(zos,"MANIFEST_1.MF","META-INF/MANIFEST.MF");
  addToZip(zos,"ejb-jar.xml","META-INF/ejb-jar.xml");
  addToZip(zos,"beans/StatelessSessionBean.class");
  addToZip(zos,"beans/StatefulSessionBean.class");
  zos.close();
  mr=model(baos.toByteArray());
  Collection<? extends ExportedService> services=mr.getExportedServices();
  assertEquals("Wrong number of services",3,services.size());
  assertTrue(services.containsAll(getXMLservices()));
  assertTrue(services.containsAll(getAnnotatedservices()));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEJBJARAndAnnotatedNotOnClasspathInWebZip() throws Exception {
  ModelledResource mr=null;
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  ZipOutputStream zos=new ZipOutputStream(baos);
  addToZip(zos,"MANIFEST_4.MF","META-INF/MANIFEST.MF");
  addToZip(zos,"ejb-jar.xml","WEB-INF/ejb-jar.xml");
  addToZip(zos,"beans/StatelessSessionBean.class","no/beans/StatelessSessionBean.class");
  addToZip(zos,"beans/StatefulSessionBean.class","no/beans/StatefulSessionBean.class");
  zos.close();
  mr=model(baos.toByteArray());
  Collection<? extends ExportedService> services=mr.getExportedServices();
  assertEquals("Wrong number of services",2,services.size());
  assertTrue(services.containsAll(getXMLservices()));
  assertTrue(Collections.disjoint(services,getAnnotatedservices()));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEJBJARAndAnnotatedNotOnClasspathInZip() throws Exception {
  ModelledResource mr=null;
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  ZipOutputStream zos=new ZipOutputStream(baos);
  addToZip(zos,"MANIFEST_2.MF","META-INF/MANIFEST.MF");
  addToZip(zos,"ejb-jar.xml","META-INF/ejb-jar.xml");
  addToZip(zos,"beans/StatelessSessionBean.class","no/beans/StatelessSessionBean.class");
  addToZip(zos,"beans/StatefulSessionBean.class","no/beans/StatefulSessionBean.class");
  zos.close();
  mr=model(baos.toByteArray());
  Collection<? extends ExportedService> services=mr.getExportedServices();
  assertEquals("Wrong number of services",2,services.size());
  assertTrue(services.containsAll(getXMLservices()));
  assertTrue(Collections.disjoint(services,getAnnotatedservices()));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEJBJARInWebZip() throws Exception {
  ModelledResource mr=null;
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  ZipOutputStream zos=new ZipOutputStream(baos);
  addToZip(zos,"MANIFEST_3.MF","META-INF/MANIFEST.MF");
  addToZip(zos,"ejb-jar.xml","WEB-INF/ejb-jar.xml");
  zos.close();
  mr=model(baos.toByteArray());
  Collection<? extends ExportedService> services=mr.getExportedServices();
  assertEquals("Wrong number of services",2,services.size());
  assertTrue(services.containsAll(getXMLservices()));
  assertTrue(Collections.disjoint(services,getAnnotatedservices()));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEJBJARAndAnnotatedInWebZip() throws Exception {
  ModelledResource mr=null;
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  ZipOutputStream zos=new ZipOutputStream(baos);
  addToZip(zos,"MANIFEST_3.MF","META-INF/MANIFEST.MF");
  addToZip(zos,"ejb-jar.xml","WEB-INF/ejb-jar.xml");
  addToZip(zos,"beans/StatelessSessionBean.class");
  addToZip(zos,"beans/StatefulSessionBean.class");
  zos.close();
  mr=model(baos.toByteArray());
  Collection<? extends ExportedService> services=mr.getExportedServices();
  assertEquals("Wrong number of services",3,services.size());
  assertTrue(services.containsAll(getXMLservices()));
  assertTrue(services.containsAll(getAnnotatedservices()));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAnnotatedOnlyInWebZip() throws Exception {
  ModelledResource mr=null;
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  ZipOutputStream zos=new ZipOutputStream(baos);
  addToZip(zos,"MANIFEST_3.MF","META-INF/MANIFEST.MF");
  addToZip(zos,"beans/StatelessSessionBean.class");
  addToZip(zos,"beans/StatefulSessionBean.class");
  zos.close();
  mr=model(baos.toByteArray());
  Collection<? extends ExportedService> services=mr.getExportedServices();
  assertEquals("Wrong number of services",1,services.size());
  assertTrue(Collections.disjoint(services,getXMLservices()));
  assertTrue(services.containsAll(getAnnotatedservices()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.ejb.modelling.impl.EJBLocatorFactoryTest </h4><pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetEJBLocator(){
  EJBLocator locator=EJBLocatorFactory.getEJBLocator();
  assertNotNull(locator);
  assertTrue(locator.getClass().getName(),locator instanceof OpenEJBLocator);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetEJBLocatorNoOpenEJB() throws Exception {
  Class<?> elf=new ClassLoader(getClass().getClassLoader()){
    @Override public Class<?> loadClass(    String className) throws ClassNotFoundException {
      if (className.startsWith("org.apache.openejb"))       throw new ClassNotFoundException(className);
      if (className.equals(EJBLocatorFactory.class.getName())) {
        ByteArrayOutputStream baos=new ByteArrayOutputStream();
        try {
          IOUtils.copy(getResourceAsStream(className.replace('.','/') + ".class"),baos);
        }
 catch (        IOException e) {
          throw new ClassNotFoundException(className,e);
        }
        return defineClass(className,baos.toByteArray(),0,baos.size());
      }
      return super.loadClass(className);
    }
  }
.loadClass(EJBLocatorFactory.class.getName());
  EJBLocator locator=(EJBLocator)elf.getMethod("getEJBLocator").invoke(null);
  assertNotNull(locator);
  assertTrue(locator.getClass().getName(),locator instanceof EJBLocationUnavailable);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.ejb.modelling.impl.ParsedEJBServicesTest </h4><pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNONE() throws ModellerException {
  ParsedEJBServices pes=new ParsedEJBServices();
  pes.setAllowedNames(Arrays.asList("NONE","Foo"));
  pes.addEJBView("Foo","Stateless","com.acme.Bar",false);
  assertTrue(pes.getServices().isEmpty());
}

</code></pre>

<br>
<pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNoAllowedNames() throws ModellerException {
  ParsedEJBServices pes=new ParsedEJBServices();
  pes.addEJBView("Foo","Stateless","com.acme.Bar",false);
  assertTrue(pes.getServices().isEmpty());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.jmx.blueprint.impl.BlueprintMetadataTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void fail2GetBlueprintContainer() throws Exception {
  final long serviceId=7117;
  mockery.checking(new Expectations(){
{
      exactly(3).of(mockContext).getServiceReferences(with(any(String.class)),with(any(String.class)));
      will(returnValue(null));
    }
  }
);
  try {
    metadata.getComponentIds(serviceId);
  }
 catch (  Exception ex) {
    assertTrue(ex instanceof IllegalArgumentException);
  }
  try {
    metadata.getComponentIdsByType(serviceId,BlueprintMetadataMBean.SERVICE_METADATA);
  }
 catch (  Exception ex) {
    assertTrue(ex instanceof IllegalArgumentException);
  }
  try {
    metadata.getComponentMetadata(serviceId,"xxxx");
  }
 catch (  Exception ex) {
    assertTrue(ex instanceof IllegalArgumentException);
  }
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void invalidParaInGetBlueprintContainerServiceId() throws Exception {
  mockery.checking(new Expectations(){
{
      allowing(mockContext).getBundle(with(any(Long.class)));
      will(returnValue(null));
    }
  }
);
  try {
    metadata.getBlueprintContainerServiceId(-10);
  }
 catch (  Exception ex) {
    assertTrue(ex instanceof IllegalArgumentException);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.jmx.cm.ConfigurationAdminMBeanTest </h4><pre class="type-3 type-7 type-1 type-8 type-2 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Ignore("ManagedServiceFactory tests failing.. " + "Some issues surrounding creating a factory configuration and then retrieving by pid to update.. Needs investigation") @Test @SuppressWarnings("unchecked") public void testMBeanInterface() throws Exception {
  Bundle a=getBundleByName("org.apache.aries.jmx.test.bundlea");
  assertNull(managedServiceA.getConfig());
  TabularData data=mbean.getProperties("org.apache.aries.jmx.test.ServiceA");
  assertEquals(0,data.size());
  PropertyData<String> p1=PropertyData.newInstance("A1","first");
  data.put(p1.toCompositeData());
  PropertyData<Integer> p2=PropertyData.newInstance("A2",2);
  data.put(p2.toCompositeData());
  mbean.update("org.apache.aries.jmx.test.ServiceA",data);
  Thread.sleep(1000);
  Dictionary<String,Object> config=managedServiceA.getConfig();
  assertNotNull(config);
  assertEquals(3,config.size());
  assertEquals("org.apache.aries.jmx.test.ServiceA",config.get(Constants.SERVICE_PID));
  assertEquals("first",config.get("A1"));
  assertEquals(2,config.get("A2"));
  mbean.deleteForLocation("org.apache.aries.jmx.test.ServiceA",a.getLocation());
  Thread.sleep(1000);
  assertNull(managedServiceA.getConfig());
  String cpid=mbean.createFactoryConfiguration("jmx.test.B.factory");
  assertNotNull(cpid);
  assertTrue(cpid.contains("jmx.test.B.factory"));
  TabularData fConfig=mbean.getProperties(cpid);
  assertNotNull(fConfig);
  assertEquals(0,fConfig.values().size());
  PropertyData<String> prop1=PropertyData.newInstance("B1","value1");
  fConfig.put(prop1.toCompositeData());
  PropertyData<Boolean> prop2=PropertyData.newInstance("B2",true);
  fConfig.put(prop2.toCompositeData());
  mbean.update(cpid,fConfig);
  Thread.sleep(1000);
  InterfaceB configured=managedFactory.getConfigured(cpid);
  assertNotNull(configured);
  config=configured.getConfig();
  assertNotNull(config);
  assertTrue(config.size() >= 4);
  assertEquals("jmx.test.B.factory",config.get(ConfigurationAdmin.SERVICE_FACTORYPID));
  assertEquals(cpid,config.get(Constants.SERVICE_PID));
  assertEquals("value1",config.get("B1"));
  assertEquals("true",config.get("B2"));
  assertEquals("jmx.test.B.factory",mbean.getFactoryPid(cpid));
  mbean.delete(cpid);
  Thread.sleep(1000);
  assertNull(managedFactory.getConfigured(cpid));
  data=mbean.getProperties("org.apache.aries.jmx.test.ServiceA");
  assertEquals(0,data.size());
  p1=PropertyData.newInstance("A1","a1Value");
  data.put(p1.toCompositeData());
  mbean.update("org.apache.aries.jmx.test.ServiceA",data);
  Thread.sleep(1000);
  config=managedServiceA.getConfig();
  assertNotNull(config);
  assertEquals(2,config.size());
  assertEquals("org.apache.aries.jmx.test.ServiceA",config.get(Constants.SERVICE_PID));
  assertEquals("a1Value",config.get("A1"));
  String[][] configurations=mbean.getConfigurations("(A1=a1Value)");
  assertNotNull(configurations);
  assertEquals(1,configurations.length);
  assertEquals("org.apache.aries.jmx.test.ServiceA",configurations[0][0]);
  assertEquals(a.getLocation(),configurations[0][1]);
  mbean.deleteConfigurations("(A1=a1Value)");
  Thread.sleep(1000);
  assertNull(managedServiceA.getConfig());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.jmx.codec.PropertyDataTest </h4><pre class="type-4 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFromCompositeDataForPrimitiveTypes() throws Exception {
  Map<String,Object> items=new HashMap<String,Object>();
  items.put(KEY,"key");
  items.put(VALUE,"1");
  items.put(TYPE,P_INT);
  CompositeData compositeData=new CompositeDataSupport(PROPERTY_TYPE,items);
  PropertyData<Integer> intData=PropertyData.from(compositeData);
  assertEquals("key",intData.getKey());
  assertEquals(new Integer(1),intData.getValue());
  assertEquals(P_INT,intData.getEncodedType());
  assertTrue(intData.isEncodingPrimitive());
  items.clear();
  items.put(KEY,"key");
  items.put(VALUE,"1.0");
  items.put(TYPE,P_DOUBLE);
  compositeData=new CompositeDataSupport(PROPERTY_TYPE,items);
  PropertyData<Double> doubleData=PropertyData.from(compositeData);
  assertEquals("key",doubleData.getKey());
  assertEquals(Double.valueOf(1.0),doubleData.getValue());
  assertEquals(P_DOUBLE,doubleData.getEncodedType());
  assertTrue(doubleData.isEncodingPrimitive());
  items.clear();
  items.put(KEY,"key");
  items.put(VALUE,"a");
  items.put(TYPE,P_CHAR);
  compositeData=new CompositeDataSupport(PROPERTY_TYPE,items);
  PropertyData<Character> charData=PropertyData.from(compositeData);
  assertEquals("key",charData.getKey());
  assertEquals(Character.valueOf('a'),charData.getValue());
  assertEquals(P_CHAR,charData.getEncodedType());
  assertTrue(charData.isEncodingPrimitive());
  items.clear();
  items.put(KEY,"key");
  items.put(VALUE,"true");
  items.put(TYPE,P_BOOLEAN);
  compositeData=new CompositeDataSupport(PROPERTY_TYPE,items);
  PropertyData<Boolean> booleanData=PropertyData.from(compositeData);
  assertEquals("key",booleanData.getKey());
  assertTrue(booleanData.getValue());
  assertEquals(P_BOOLEAN,booleanData.getEncodedType());
  assertTrue(booleanData.isEncodingPrimitive());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFromCompositeDataForWrapperTypes() throws Exception {
  Map<String,Object> items=new HashMap<String,Object>();
  items.put(KEY,"key");
  items.put(VALUE,"1");
  items.put(TYPE,INTEGER);
  CompositeData compositeData=new CompositeDataSupport(PROPERTY_TYPE,items);
  PropertyData<Integer> intData=PropertyData.from(compositeData);
  assertEquals("key",intData.getKey());
  assertEquals(new Integer(1),intData.getValue());
  assertEquals(INTEGER,intData.getEncodedType());
  assertFalse(intData.isEncodingPrimitive());
  items.clear();
  items.put(KEY,"key");
  items.put(VALUE,"1.0");
  items.put(TYPE,DOUBLE);
  compositeData=new CompositeDataSupport(PROPERTY_TYPE,items);
  PropertyData<Double> doubleData=PropertyData.from(compositeData);
  assertEquals("key",doubleData.getKey());
  assertEquals(Double.valueOf(1.0),doubleData.getValue());
  assertEquals(DOUBLE,doubleData.getEncodedType());
  assertFalse(doubleData.isEncodingPrimitive());
  items.clear();
  items.put(KEY,"key");
  items.put(VALUE,"a");
  items.put(TYPE,CHARACTER);
  compositeData=new CompositeDataSupport(PROPERTY_TYPE,items);
  PropertyData<Character> charData=PropertyData.from(compositeData);
  assertEquals("key",charData.getKey());
  assertEquals(Character.valueOf('a'),charData.getValue());
  assertEquals(CHARACTER,charData.getEncodedType());
  assertFalse(charData.isEncodingPrimitive());
  items.clear();
  items.put(KEY,"key");
  items.put(VALUE,"true");
  items.put(TYPE,BOOLEAN);
  compositeData=new CompositeDataSupport(PROPERTY_TYPE,items);
  PropertyData<Boolean> booleanData=PropertyData.from(compositeData);
  assertEquals("key",booleanData.getKey());
  assertTrue(booleanData.getValue());
  assertEquals(BOOLEAN,booleanData.getEncodedType());
  assertFalse(booleanData.isEncodingPrimitive());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.jmx.codec.ServiceDataTest </h4><pre class="type-4 type-12 type-5 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFromCompositeData() throws Exception {
  Map<String,Object> items=new HashMap<String,Object>();
  items.put(IDENTIFIER,new Long(99));
  items.put(BUNDLE_IDENTIFIER,new Long(5));
  items.put(USING_BUNDLES,new Long[]{new Long(10),new Long(11)});
  items.put(OBJECT_CLASS,new String[]{"org.apache.aries.jmx.Test","org.apache.aries.jmx.Mock"});
  TabularData propertyTable=new TabularDataSupport(JmxConstants.PROPERTIES_TYPE);
  propertyTable.put(PropertyData.newInstance("a",true).toCompositeData());
  propertyTable.put(PropertyData.newInstance("b","value").toCompositeData());
  propertyTable.put(PropertyData.newInstance("c",new int[]{1,2}).toCompositeData());
  propertyTable.put(PropertyData.newInstance("d",new Long[]{new Long(3),new Long(4)}).toCompositeData());
  items.put(ServiceStateMBean.PROPERTIES,propertyTable);
  CompositeData compositeData=new CompositeDataSupport(SERVICE_TYPE,items);
  ServiceData data=ServiceData.from(compositeData);
  assertEquals(99,data.getServiceId());
  assertEquals(5,data.getBundleId());
  assertArrayEquals(new long[]{10,11},data.getUsingBundles());
  assertArrayEquals(new String[]{"org.apache.aries.jmx.Test","org.apache.aries.jmx.Mock"},data.getServiceInterfaces());
  List<PropertyData<? extends Object>> properties=data.getProperties();
  assertEquals(4,properties.size());
  for (  PropertyData<? extends Object> property : properties) {
    if (property.getKey().equals("a")) {
      assertTrue((Boolean)property.getValue());
      assertEquals(P_BOOLEAN,property.getEncodedType());
    }
 else     if (property.getKey().equals("b")) {
      assertEquals("value",property.getValue());
      assertEquals(STRING,property.getEncodedType());
    }
 else     if (property.getKey().equals("c")) {
      assertArrayEquals(new int[]{1,2},(int[])property.getValue());
      assertEquals("Array of int",property.getEncodedType());
      assertEquals("1,2",property.getEncodedValue());
    }
 else     if (property.getKey().equals("d")) {
      assertArrayEquals(new Long[]{new Long(3),new Long(4)},(Long[])property.getValue());
      assertEquals("Array of Long",property.getEncodedType());
      assertEquals("3,4",property.getEncodedValue());
    }
 else {
      fail("unknown key parsed from properties");
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.jmx.framework.BundleStateMBeanTest </h4><pre class="type-4 type-12 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings({"unchecked"}) public void testHeaderLocalization() throws Exception {
  Bundle bundleE=context().getBundleByName("org.apache.aries.jmx.test.bundlee");
  CompositeData cd=mbean.getBundle(bundleE.getBundleId());
  long id=(Long)cd.get(BundleStateMBean.IDENTIFIER);
  assertEquals("Description",mbean.getHeader(id,Constants.BUNDLE_DESCRIPTION));
  assertEquals("Description",mbean.getHeader(id,Constants.BUNDLE_DESCRIPTION,"en"));
  assertEquals("Omschrijving",mbean.getHeader(id,Constants.BUNDLE_DESCRIPTION,"nl"));
  TabularData td=mbean.getHeaders(id);
  boolean found=false;
  for (  CompositeData d : (Collection<CompositeData>)td.values()) {
    if (Constants.BUNDLE_DESCRIPTION.equals(d.get(BundleStateMBean.KEY))) {
      assertEquals("Description",d.get(BundleStateMBean.VALUE));
      found=true;
      break;
    }
  }
  assertTrue(found);
  TabularData tdNL=mbean.getHeaders(id,"nl");
  boolean foundNL=false;
  for (  CompositeData d : (Collection<CompositeData>)tdNL.values()) {
    if (Constants.BUNDLE_DESCRIPTION.equals(d.get(BundleStateMBean.KEY))) {
      assertEquals("Omschrijving",d.get(BundleStateMBean.VALUE));
      foundNL=true;
      break;
    }
  }
  assertTrue(foundNL);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMBeanInterface() throws Exception {
  String[] exports=mbean.getExportedPackages(a.getBundleId());
  assertEquals(2,exports.length);
  List<String> packages=Arrays.asList(exports);
  assertTrue(packages.contains("org.apache.aries.jmx.test.bundlea.api;2.0.0"));
  assertTrue(packages.contains("org.apache.aries.jmx.test.fragmentc;0.0.0"));
  long[] fragments=mbean.getFragments(a.getBundleId());
  assertEquals(1,fragments.length);
  assertEquals(fragc.getBundleId(),fragments[0]);
  TabularData headers=mbean.getHeaders(b.getBundleId());
  assertNotNull(headers);
  assertEquals(BundleStateMBean.HEADERS_TYPE,headers.getTabularType());
  assertTrue(headers.values().size() >= 4);
  assertEquals("org.apache.aries.jmx.test.bundleb",Header.from(headers.get(new Object[]{Constants.BUNDLE_SYMBOLICNAME})).getValue());
  long[] hosts=mbean.getHosts(fragc.getBundleId());
  assertEquals(1,hosts.length);
  assertEquals(a.getBundleId(),hosts[0]);
  String[] imports=mbean.getImportedPackages(a.getBundleId());
  assertTrue(imports.length >= 3);
  List<String> importedPackages=Arrays.asList(imports);
  Version version=getPackageVersion("org.osgi.framework");
  assertTrue(importedPackages.contains("org.osgi.framework;" + version.toString()));
  assertTrue(importedPackages.contains("org.apache.aries.jmx.test.bundleb.api;1.1.0"));
  assertTrue(mbean.getLastModified(b.getBundleId()) > 0);
  assertEquals(b.getLocation(),mbean.getLocation(b.getBundleId()));
  long[] serviceIds=mbean.getRegisteredServices(a.getBundleId());
  assertEquals(1,serviceIds.length);
  long[] required=mbean.getRequiredBundles(d.getBundleId());
  assertEquals(1,required.length);
  assertEquals(a.getBundleId(),required[0]);
  long[] requiring=mbean.getRequiringBundles(a.getBundleId());
  assertEquals(2,requiring.length);
  assertTrue(fragc.getSymbolicName(),arrayContains(fragc.getBundleId(),requiring));
  assertTrue(d.getSymbolicName(),arrayContains(d.getBundleId(),requiring));
  long[] servicesInUse=mbean.getServicesInUse(a.getBundleId());
  assertEquals(1,servicesInUse.length);
  long startLevel=mbean.getStartLevel(b.getBundleId());
  assertTrue(startLevel >= 0);
  assertEquals("ACTIVE",mbean.getState(b.getBundleId()));
  assertFalse(mbean.isFragment(b.getBundleId()));
  assertTrue(mbean.isFragment(fragc.getBundleId()));
  assertFalse(mbean.isRemovalPending(b.getBundleId()));
  assertTrue(mbean.isRequired(a.getBundleId()));
  assertTrue(mbean.isRequired(b.getBundleId()));
  TabularData bundlesTable=mbean.listBundles();
  assertNotNull(bundlesTable);
  assertEquals(BundleStateMBean.BUNDLES_TYPE,bundlesTable.getTabularType());
  assertEquals(bundleContext.getBundles().length,bundlesTable.values().size());
  final List<Notification> received=new ArrayList<Notification>();
  mbeanServer.addNotificationListener(objectName,new NotificationListener(){
    public void handleNotification(    Notification notification,    Object handback){
      received.add(notification);
    }
  }
,null,null);
  assertEquals(Bundle.ACTIVE,b.getState());
  b.stop();
  assertEquals(Bundle.RESOLVED,b.getState());
  b.start();
  assertEquals(Bundle.ACTIVE,b.getState());
  int i=0;
  while (received.size() < 2 && i < 3) {
    Thread.sleep(1000);
    i++;
  }
  assertEquals(2,received.size());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-8 type-16 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAttributeChangeNotifications() throws Exception {
  final List<AttributeChangeNotification> attributeChanges=new ArrayList<AttributeChangeNotification>();
  AttributeChangeNotificationFilter filter=new AttributeChangeNotificationFilter();
  filter.disableAllAttributes();
  filter.enableAttribute("BundleIds");
  mbeanServer.addNotificationListener(objectName,new NotificationListener(){
    public void handleNotification(    Notification notification,    Object handback){
      attributeChanges.add((AttributeChangeNotification)notification);
    }
  }
,filter,null);
  long[] idsWithout=mbean.getBundleIds();
  assertEquals("Precondition",0,attributeChanges.size());
  Manifest mf=new Manifest();
  mf.getMainAttributes().putValue("Bundle-ManifestVersion","2");
  mf.getMainAttributes().putValue("Bundle-SymbolicName","empty-test-bundle");
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  JarOutputStream jos=new JarOutputStream(baos,mf);
  jos.closeEntry();
  jos.close();
  InputStream bais=new ByteArrayInputStream(baos.toByteArray());
  Bundle bundle=bundleContext.installBundle("http://somelocation",bais);
  long[] idsWith=new long[idsWithout.length + 1];
  System.arraycopy(idsWithout,0,idsWith,0,idsWithout.length);
  idsWith[idsWith.length - 1]=bundle.getBundleId();
  Arrays.sort(idsWith);
  waitForListToReachSize(attributeChanges,1);
  assertEquals(1,attributeChanges.size());
  AttributeChangeNotification ac=attributeChanges.get(0);
  assertEquals("BundleIds",ac.getAttributeName());
  long oldSequence=ac.getSequenceNumber();
  assertTrue(Arrays.equals(idsWithout,(long[])ac.getOldValue()));
  assertTrue(Arrays.equals(idsWith,(long[])ac.getNewValue()));
  bundle.uninstall();
  waitForListToReachSize(attributeChanges,2);
  AttributeChangeNotification ac2=attributeChanges.get(1);
  assertEquals("BundleIds",ac2.getAttributeName());
  assertEquals(oldSequence + 1,ac2.getSequenceNumber());
  assertTrue(Arrays.equals(idsWith,(long[])ac2.getOldValue()));
  assertTrue(Arrays.equals(idsWithout,(long[])ac2.getNewValue()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.jmx.framework.BundleStateTest </h4><pre class="type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLifeCycleOfNotificationSupport() throws Exception {
  BundleContext context=mock(BundleContext.class);
  PackageAdmin admin=mock(PackageAdmin.class);
  StartLevel startLevel=mock(StartLevel.class);
  Logger logger=mock(Logger.class);
  BundleState bundleState=new BundleState(context,admin,startLevel,new StateConfig(),logger);
  MBeanServer server1=mock(MBeanServer.class);
  MBeanServer server2=mock(MBeanServer.class);
  ObjectName objectName=new ObjectName(OBJECTNAME);
  bundleState.preRegister(server1,objectName);
  bundleState.postRegister(true);
  ArgumentCaptor<BundleListener> argument=ArgumentCaptor.forClass(BundleListener.class);
  verify(context).addBundleListener(argument.capture());
  assertEquals(1,argument.getAllValues().size());
  BundleListener listener=argument.getValue();
  assertNotNull(listener);
  ExecutorService dispatcher=bundleState.getEventDispatcher();
  bundleState.preRegister(server2,objectName);
  bundleState.postRegister(true);
  argument=ArgumentCaptor.forClass(BundleListener.class);
  verify(context,atMost(1)).addBundleListener(argument.capture());
  assertEquals(1,argument.getAllValues().size());
  bundleState.postDeregister();
  verify(context,never()).removeBundleListener(listener);
  assertFalse(dispatcher.isShutdown());
  bundleState.postDeregister();
  verify(context).removeBundleListener(listener);
  assertTrue(dispatcher.isShutdown());
  dispatcher.awaitTermination(2,TimeUnit.SECONDS);
  assertTrue(dispatcher.isTerminated());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.jmx.framework.FrameworkMBeanTest </h4><pre class="type-4 type-12 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRefreshBundleAndWait() throws Exception {
  FrameworkWiring frameworkWiring=(FrameworkWiring)context().getBundle(0).adapt(FrameworkWiring.class);
  Bundle bundleA=getBundleByName("org.apache.aries.jmx.test.bundlea");
  Bundle bundleB=getBundleByName("org.apache.aries.jmx.test.bundleb");
  BundleWiring bw=(BundleWiring)bundleB.adapt(BundleWiring.class);
  List<BundleWire> initialRequiredWires=bw.getRequiredWires(BundleRevision.PACKAGE_NAMESPACE);
  assertEquals(1,initialRequiredWires.size());
  BundleWire wire=initialRequiredWires.get(0);
  Map<String,Object> capabilityAttributes=wire.getCapability().getAttributes();
  assertEquals("Precondition",bundleA.getSymbolicName(),capabilityAttributes.get(Constants.BUNDLE_SYMBOLICNAME_ATTRIBUTE));
  assertEquals("Precondition",new Version("1.0"),capabilityAttributes.get(Constants.BUNDLE_VERSION_ATTRIBUTE));
  assertEquals("Precondition","org.apache.aries.jmx.test.bundlea.api",capabilityAttributes.get(BundleRevision.PACKAGE_NAMESPACE));
  Manifest manifest=new Manifest();
  manifest.getMainAttributes().putValue("Manifest-Version","1.0");
  manifest.getMainAttributes().putValue(Constants.BUNDLE_SYMBOLICNAME,"org.apache.aries.jmx.test.bundlea");
  manifest.getMainAttributes().putValue(Constants.BUNDLE_VERSION,"1.1");
  manifest.getMainAttributes().putValue(Constants.EXPORT_PACKAGE,"org.apache.aries.jmx.test.bundlea.api,org.apache.aries.jmx.test.bundlea.impl");
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  JarOutputStream jos=new JarOutputStream(baos,manifest);
  addResourceToJar("org/apache/aries/jmx/test/bundlea/api/InterfaceA.class",jos,bundleA);
  addResourceToJar("org/apache/aries/jmx/test/bundlea/impl/A2.class",jos,bundleA);
  jos.close();
  assertEquals("Precondition",0,frameworkWiring.getRemovalPendingBundles().size());
  assertEquals(0,framework.getRemovalPendingBundles().length);
  assertEquals("Precondition",1,((BundleRevisions)bundleA.adapt(BundleRevisions.class)).getRevisions().size());
  bundleA.update(new ByteArrayInputStream(baos.toByteArray()));
  assertEquals("There should be 2 revisions now",2,((BundleRevisions)bundleA.adapt(BundleRevisions.class)).getRevisions().size());
  assertEquals("No refresh called, the bundle wiring for B should still be the old one",bw,bundleB.adapt(BundleWiring.class));
  assertEquals("Precondition",1,frameworkWiring.getRemovalPendingBundles().size());
  assertEquals(1,framework.getRemovalPendingBundles().length);
  assertEquals(((Bundle)frameworkWiring.getRemovalPendingBundles().iterator().next()).getBundleId(),framework.getRemovalPendingBundles()[0]);
  assertTrue(framework.refreshBundleAndWait(bundleB.getBundleId()));
  List<BundleWire> requiredWires=((BundleWiring)bundleB.adapt(BundleWiring.class)).getRequiredWires(BundleRevision.PACKAGE_NAMESPACE);
  assertEquals(2,requiredWires.size());
  List<String> imported=new ArrayList<String>();
  for (  BundleWire w : requiredWires) {
    Map<String,Object> ca=w.getCapability().getAttributes();
    assertEquals(bundleA.getSymbolicName(),ca.get(Constants.BUNDLE_SYMBOLICNAME_ATTRIBUTE));
    imported.add(ca.get(BundleRevision.PACKAGE_NAMESPACE).toString());
    if ("org.apache.aries.jmx.test.bundlea.impl".equals(ca.get(BundleRevision.PACKAGE_NAMESPACE))) {
      assertEquals(new Version("1.1"),ca.get(Constants.BUNDLE_VERSION_ATTRIBUTE));
    }
  }
  assertEquals(Arrays.asList("org.apache.aries.jmx.test.bundlea.api","org.apache.aries.jmx.test.bundlea.impl"),imported);
}

</code></pre>

<br>
<pre class="type-4 type-5 type-3 type-7 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMBeanInterface() throws IOException {
  long[] bundleIds=new long[]{1,2};
  int[] newlevels=new int[]{1,1};
  CompositeData compData=framework.setBundleStartLevels(bundleIds,newlevels);
  assertNotNull(compData);
  BatchActionResult batch2=BatchActionResult.from(compData);
  assertNotNull(batch2.getCompleted());
  assertTrue(batch2.isSuccess());
  assertNull(batch2.getError());
  assertNull(batch2.getRemainingItems());
  File file=File.createTempFile("bundletest",".jar");
  file.deleteOnExit();
  Manifest man=new Manifest();
  man.getMainAttributes().putValue("Manifest-Version","1.0");
  JarOutputStream jaros=new JarOutputStream(new FileOutputStream(file),man);
  jaros.flush();
  jaros.close();
  long bundleId=0;
  try {
    bundleId=framework.installBundleFromURL(file.getAbsolutePath(),file.toURI().toString());
  }
 catch (  Exception e) {
    fail("Installation of test bundle shouldn't fail");
  }
  try {
    framework.uninstallBundle(bundleId);
  }
 catch (  Exception e) {
    fail("Uninstallation of test bundle shouldn't fail");
  }
}

</code></pre>

<br>
<pre class="type-4 type-12 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRefreshBundlesAndWait() throws Exception {
  Bundle bundleA=getBundleByName("org.apache.aries.jmx.test.bundlea");
  Bundle bundleB=getBundleByName("org.apache.aries.jmx.test.bundleb");
  BundleWiring bw=(BundleWiring)bundleB.adapt(BundleWiring.class);
  List<BundleWire> initialRequiredWires=bw.getRequiredWires(BundleRevision.PACKAGE_NAMESPACE);
  assertEquals(1,initialRequiredWires.size());
  BundleWire wire=initialRequiredWires.get(0);
  Map<String,Object> capabilityAttributes=wire.getCapability().getAttributes();
  assertEquals("Precondition",bundleA.getSymbolicName(),capabilityAttributes.get(Constants.BUNDLE_SYMBOLICNAME_ATTRIBUTE));
  assertEquals("Precondition",new Version("1.0"),capabilityAttributes.get(Constants.BUNDLE_VERSION_ATTRIBUTE));
  assertEquals("Precondition","org.apache.aries.jmx.test.bundlea.api",capabilityAttributes.get(BundleRevision.PACKAGE_NAMESPACE));
  Manifest manifest=new Manifest();
  manifest.getMainAttributes().putValue("Manifest-Version","1.0");
  manifest.getMainAttributes().putValue(Constants.BUNDLE_SYMBOLICNAME,"org.apache.aries.jmx.test.bundlea");
  manifest.getMainAttributes().putValue(Constants.BUNDLE_VERSION,"1.1");
  manifest.getMainAttributes().putValue(Constants.EXPORT_PACKAGE,"org.apache.aries.jmx.test.bundlea.api,org.apache.aries.jmx.test.bundlea.impl");
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  JarOutputStream jos=new JarOutputStream(baos,manifest);
  addResourceToJar("org/apache/aries/jmx/test/bundlea/api/InterfaceA.class",jos,bundleA);
  addResourceToJar("org/apache/aries/jmx/test/bundlea/impl/A2.class",jos,bundleA);
  jos.close();
  assertEquals("Precondition",1,((BundleRevisions)bundleA.adapt(BundleRevisions.class)).getRevisions().size());
  bundleA.update(new ByteArrayInputStream(baos.toByteArray()));
  assertEquals("There should be 2 revisions now",2,((BundleRevisions)bundleA.adapt(BundleRevisions.class)).getRevisions().size());
  assertEquals("No refresh called, the bundle wiring for B should still be the old one",bw,bundleB.adapt(BundleWiring.class));
  FrameworkMBean framework=getMBean(FrameworkMBean.OBJECTNAME,FrameworkMBean.class);
  CompositeData result=framework.refreshBundlesAndWait(new long[]{bundleB.getBundleId()});
  assertTrue((Boolean)result.get(FrameworkMBean.SUCCESS));
  assertTrue(Arrays.equals(new Long[]{bundleB.getBundleId()},(Long[])result.get(FrameworkMBean.COMPLETED)));
  List<BundleWire> requiredWires=((BundleWiring)bundleB.adapt(BundleWiring.class)).getRequiredWires(BundleRevision.PACKAGE_NAMESPACE);
  assertEquals(2,requiredWires.size());
  List<String> imported=new ArrayList<String>();
  for (  BundleWire w : requiredWires) {
    Map<String,Object> ca=w.getCapability().getAttributes();
    assertEquals(bundleA.getSymbolicName(),ca.get(Constants.BUNDLE_SYMBOLICNAME_ATTRIBUTE));
    imported.add(ca.get(BundleRevision.PACKAGE_NAMESPACE).toString());
    if ("org.apache.aries.jmx.test.bundlea.impl".equals(ca.get(BundleRevision.PACKAGE_NAMESPACE))) {
      assertEquals(new Version("1.1"),ca.get(Constants.BUNDLE_VERSION_ATTRIBUTE));
    }
  }
  assertEquals(Arrays.asList("org.apache.aries.jmx.test.bundlea.api","org.apache.aries.jmx.test.bundlea.impl"),imported);
}

</code></pre>

<br>
<pre class="type-4 type-12 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRefreshBundlesAndWait2() throws Exception {
  Bundle bundleA=getBundleByName("org.apache.aries.jmx.test.bundlea");
  Bundle bundleB=getBundleByName("org.apache.aries.jmx.test.bundleb");
  BundleWiring bw=(BundleWiring)bundleB.adapt(BundleWiring.class);
  List<BundleWire> initialRequiredWires=bw.getRequiredWires(BundleRevision.PACKAGE_NAMESPACE);
  assertEquals(1,initialRequiredWires.size());
  BundleWire wire=initialRequiredWires.get(0);
  Map<String,Object> capabilityAttributes=wire.getCapability().getAttributes();
  assertEquals("Precondition",bundleA.getSymbolicName(),capabilityAttributes.get(Constants.BUNDLE_SYMBOLICNAME_ATTRIBUTE));
  assertEquals("Precondition",new Version("1.0"),capabilityAttributes.get(Constants.BUNDLE_VERSION_ATTRIBUTE));
  assertEquals("Precondition","org.apache.aries.jmx.test.bundlea.api",capabilityAttributes.get(BundleRevision.PACKAGE_NAMESPACE));
  Manifest manifest=new Manifest();
  manifest.getMainAttributes().putValue("Manifest-Version","1.0");
  manifest.getMainAttributes().putValue(Constants.BUNDLE_SYMBOLICNAME,"org.apache.aries.jmx.test.bundlea");
  manifest.getMainAttributes().putValue(Constants.BUNDLE_VERSION,"1.1");
  manifest.getMainAttributes().putValue(Constants.EXPORT_PACKAGE,"org.apache.aries.jmx.test.bundlea.api,org.apache.aries.jmx.test.bundlea.impl");
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  JarOutputStream jos=new JarOutputStream(baos,manifest);
  addResourceToJar("org/apache/aries/jmx/test/bundlea/api/InterfaceA.class",jos,bundleA);
  addResourceToJar("org/apache/aries/jmx/test/bundlea/impl/A2.class",jos,bundleA);
  jos.close();
  assertEquals("Precondition",1,((BundleRevisions)bundleA.adapt(BundleRevisions.class)).getRevisions().size());
  bundleA.update(new ByteArrayInputStream(baos.toByteArray()));
  assertEquals("There should be 2 revisions now",2,((BundleRevisions)bundleA.adapt(BundleRevisions.class)).getRevisions().size());
  assertEquals("No refresh called, the bundle wiring for B should still be the old one",bw,((BundleWiring)bundleB.adapt(BundleWiring.class)));
  FrameworkMBean framework=getMBean(FrameworkMBean.OBJECTNAME,FrameworkMBean.class);
  CompositeData result=framework.refreshBundlesAndWait(null);
  Set<Long> completed=new HashSet<Long>(Arrays.asList((Long[])result.get(FrameworkMBean.COMPLETED)));
  assertTrue(completed.contains(bundleA.getBundleId()));
  assertTrue(completed.contains(bundleB.getBundleId()));
  List<BundleWire> requiredWires=((BundleWiring)bundleB.adapt(BundleWiring.class)).getRequiredWires(BundleRevision.PACKAGE_NAMESPACE);
  assertEquals(2,requiredWires.size());
  List<String> imported=new ArrayList<String>();
  for (  BundleWire w : requiredWires) {
    Map<String,Object> ca=w.getCapability().getAttributes();
    assertEquals(bundleA.getSymbolicName(),ca.get(Constants.BUNDLE_SYMBOLICNAME_ATTRIBUTE));
    imported.add(ca.get(BundleRevision.PACKAGE_NAMESPACE).toString());
    if ("org.apache.aries.jmx.test.bundlea.impl".equals(ca.get(BundleRevision.PACKAGE_NAMESPACE))) {
      assertEquals(new Version("1.1"),ca.get(Constants.BUNDLE_VERSION_ATTRIBUTE));
    }
  }
  assertEquals(Arrays.asList("org.apache.aries.jmx.test.bundlea.api","org.apache.aries.jmx.test.bundlea.impl"),imported);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.jmx.framework.FrameworkTest </h4><pre class="type-4 type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInstallBundlesFromURL() throws Exception {
  Bundle bundle=Mockito.mock(Bundle.class);
  Mockito.when(context.installBundle(Mockito.anyString(),Mockito.any(InputStream.class))).thenReturn(bundle);
  Mockito.when(bundle.getBundleId()).thenReturn(Long.valueOf(2));
  Framework spiedMBean=Mockito.spy(mbean);
  InputStream stream=Mockito.mock(InputStream.class);
  Mockito.doReturn(stream).when(spiedMBean).createStream(Mockito.anyString());
  CompositeData data=spiedMBean.installBundlesFromURL(new String[]{"file:test.jar"},new String[]{"test.jar"});
  Assert.assertNotNull(data);
  BatchInstallResult batch=BatchInstallResult.from(data);
  Assert.assertEquals(2,batch.getCompleted()[0]);
  Assert.assertTrue(batch.isSuccess());
  Assert.assertNull(batch.getError());
  Assert.assertNull(batch.getRemainingLocationItems());
  Mockito.reset(context);
  Mockito.when(spiedMBean.createStream(Mockito.anyString())).thenReturn(stream);
  Mockito.when(context.installBundle(Mockito.anyString(),Mockito.any(InputStream.class))).thenThrow(new BundleException("location doesn't exist"));
  CompositeData data2=spiedMBean.installBundlesFromURL(new String[]{"file:test.jar"},new String[]{"test.jar"});
  BatchInstallResult batch2=BatchInstallResult.from(data2);
  Assert.assertNotNull(batch2);
  Assert.assertNotNull(batch2.getCompleted());
  Assert.assertEquals(0,batch2.getCompleted().length);
  Assert.assertFalse(batch2.isSuccess());
  Assert.assertNotNull(batch2.getError());
  Assert.assertEquals("file:test.jar",batch2.getBundleInError());
  Assert.assertNotNull(batch2.getRemainingLocationItems());
  Assert.assertEquals(0,batch2.getRemainingLocationItems().length);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStartBundles() throws Exception {
  Bundle bundle=Mockito.mock(Bundle.class);
  Mockito.when(context.getBundle(5)).thenReturn(bundle);
  CompositeData data=mbean.startBundles(new long[]{5});
  Mockito.verify(bundle).start();
  BatchActionResult batch=BatchActionResult.from(data);
  Assert.assertEquals(5,batch.getCompleted()[0]);
  Assert.assertTrue(batch.isSuccess());
  Assert.assertNull(batch.getError());
  Assert.assertNull(batch.getRemainingItems());
  CompositeData data2=mbean.startBundles(null);
  BatchActionResult batch2=BatchActionResult.from(data2);
  Assert.assertNull(batch2.getCompleted());
  Assert.assertFalse(batch2.isSuccess());
  Assert.assertNotNull(batch2.getError());
  Assert.assertNull(batch2.getRemainingItems());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateBundlesFromURL() throws Exception {
  Framework spiedMBean=Mockito.spy(mbean);
  InputStream stream=Mockito.mock(InputStream.class);
  Mockito.doReturn(stream).when(spiedMBean).createStream(Mockito.anyString());
  Bundle bundle=Mockito.mock(Bundle.class);
  Mockito.when(context.getBundle(5)).thenReturn(bundle);
  CompositeData data=spiedMBean.updateBundlesFromURL(new long[]{5},new String[]{"file:test.jar"});
  Mockito.verify(bundle).update(stream);
  BatchActionResult batch=BatchActionResult.from(data);
  Assert.assertEquals(5,batch.getCompleted()[0]);
  Assert.assertTrue(batch.isSuccess());
  Assert.assertNull(batch.getError());
  Assert.assertNull(batch.getRemainingItems());
  CompositeData data2=spiedMBean.updateBundlesFromURL(new long[]{2,4},new String[]{"file:test.jar"});
  BatchActionResult batch2=BatchActionResult.from(data2);
  Assert.assertFalse(batch2.isSuccess());
  Assert.assertNotNull(batch2.getError());
  Assert.assertNotNull(batch2.getError());
  Assert.assertNull(batch2.getRemainingItems());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInstallBundles() throws Exception {
  String[] locations=new String[]{"file:test.jar"};
  Bundle bundle=Mockito.mock(Bundle.class);
  Mockito.when(context.installBundle("file:test.jar")).thenReturn(bundle);
  Mockito.when(bundle.getBundleId()).thenReturn(Long.valueOf(2));
  CompositeData data=mbean.installBundles(locations);
  BatchInstallResult batch=BatchInstallResult.from(data);
  Assert.assertNotNull(batch);
  Assert.assertEquals(2,batch.getCompleted()[0]);
  Assert.assertTrue(batch.isSuccess());
  Assert.assertNull(batch.getError());
  Assert.assertNull(batch.getRemainingLocationItems());
  Mockito.reset(context);
  Mockito.when(context.installBundle("file:test.jar")).thenThrow(new BundleException("location doesn't exist"));
  CompositeData data2=mbean.installBundles(locations);
  BatchInstallResult batch2=BatchInstallResult.from(data2);
  Assert.assertNotNull(batch2);
  Assert.assertNotNull(batch2.getCompleted());
  Assert.assertEquals(0,batch2.getCompleted().length);
  Assert.assertFalse(batch2.isSuccess());
  Assert.assertNotNull(batch2.getError());
  Assert.assertEquals("file:test.jar",batch2.getBundleInError());
  Assert.assertNotNull(batch2.getRemainingLocationItems());
  Assert.assertEquals(0,batch2.getRemainingLocationItems().length);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetBundleStartLevels() throws IOException {
  Bundle bundle=Mockito.mock(Bundle.class);
  Mockito.when(context.getBundle(2)).thenReturn(bundle);
  CompositeData data=mbean.setBundleStartLevels(new long[]{2},new int[]{2});
  Mockito.verify(startLevel).setBundleStartLevel(bundle,2);
  BatchActionResult batch=BatchActionResult.from(data);
  Assert.assertEquals(2,batch.getCompleted()[0]);
  Assert.assertTrue(batch.isSuccess());
  Assert.assertNull(batch.getError());
  Assert.assertNull(batch.getRemainingItems());
  CompositeData data2=mbean.setBundleStartLevels(new long[]{2},new int[]{2,4});
  BatchActionResult batch2=BatchActionResult.from(data2);
  Assert.assertNull(batch2.getCompleted());
  Assert.assertFalse(batch2.isSuccess());
  Assert.assertNotNull(batch2.getError());
  Assert.assertNull(batch2.getRemainingItems());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateBundles() throws Exception {
  Bundle bundle=Mockito.mock(Bundle.class);
  Mockito.when(context.getBundle(5)).thenReturn(bundle);
  CompositeData data=mbean.updateBundles(new long[]{5});
  Mockito.verify(bundle).update();
  BatchActionResult batch=BatchActionResult.from(data);
  Assert.assertEquals(5,batch.getCompleted()[0]);
  Assert.assertTrue(batch.isSuccess());
  Assert.assertNull(batch.getError());
  Assert.assertNull(batch.getRemainingItems());
  CompositeData data2=mbean.updateBundles(null);
  BatchActionResult batch2=BatchActionResult.from(data2);
  Assert.assertNull(batch2.getCompleted());
  Assert.assertFalse(batch2.isSuccess());
  Assert.assertNotNull(batch2.getError());
  Assert.assertNull(batch2.getRemainingItems());
  Mockito.reset(bundle);
  CompositeData data3=mbean.updateBundles(new long[]{6});
  Mockito.when(context.getBundle(6)).thenReturn(bundle);
  Mockito.doThrow(new BundleException("")).when(bundle).update();
  BatchActionResult batch3=BatchActionResult.from(data3);
  Assert.assertEquals(0,batch3.getCompleted().length);
  Assert.assertFalse(batch3.isSuccess());
  Assert.assertNotNull(batch3.getError());
  Assert.assertEquals(6,batch3.getBundleInError());
  Bundle bundle6=Mockito.mock(Bundle.class);
  Bundle bundle8=Mockito.mock(Bundle.class);
  Bundle bundle7=Mockito.mock(Bundle.class);
  Mockito.when(context.getBundle(6)).thenReturn(bundle6);
  Mockito.when(context.getBundle(8)).thenReturn(bundle8);
  Mockito.when(context.getBundle(7)).thenReturn(bundle7);
  Mockito.doThrow(new BundleException("")).when(bundle8).update();
  CompositeData data4=mbean.updateBundles(new long[]{6,8,7});
  BatchActionResult batch4=BatchActionResult.from(data4);
  Mockito.verify(bundle6).update();
  Assert.assertEquals(1,batch4.getCompleted().length);
  Assert.assertEquals(6,batch4.getCompleted()[0]);
  Assert.assertFalse(batch4.isSuccess());
  Assert.assertNotNull(batch4.getError());
  Assert.assertEquals(8,batch4.getBundleInError());
  Assert.assertEquals(1,batch4.getRemainingItems().length);
  Assert.assertEquals(7,batch4.getRemainingItems()[0]);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUninstallBundles() throws Exception {
  Bundle bundle=Mockito.mock(Bundle.class);
  Mockito.when(context.getBundle(5)).thenReturn(bundle);
  CompositeData data=mbean.uninstallBundles(new long[]{5});
  Mockito.verify(bundle).uninstall();
  BatchActionResult batch=BatchActionResult.from(data);
  Assert.assertEquals(5,batch.getCompleted()[0]);
  Assert.assertTrue(batch.isSuccess());
  Assert.assertNull(batch.getError());
  Assert.assertNull(batch.getRemainingItems());
  CompositeData data2=mbean.uninstallBundles(null);
  BatchActionResult batch2=BatchActionResult.from(data2);
  Assert.assertNull(batch2.getCompleted());
  Assert.assertFalse(batch2.isSuccess());
  Assert.assertNotNull(batch2.getError());
  Assert.assertNull(batch2.getRemainingItems());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStopBundles() throws Exception {
  Bundle bundle=Mockito.mock(Bundle.class);
  Mockito.when(context.getBundle(5)).thenReturn(bundle);
  CompositeData data=mbean.stopBundles(new long[]{5});
  Mockito.verify(bundle).stop();
  BatchActionResult batch=BatchActionResult.from(data);
  Assert.assertEquals(5,batch.getCompleted()[0]);
  Assert.assertTrue(batch.isSuccess());
  Assert.assertNull(batch.getError());
  Assert.assertNull(batch.getRemainingItems());
  CompositeData data2=mbean.stopBundles(null);
  BatchActionResult batch2=BatchActionResult.from(data2);
  Assert.assertNull(batch2.getCompleted());
  Assert.assertFalse(batch2.isSuccess());
  Assert.assertNotNull(batch2.getError());
  Assert.assertNull(batch2.getRemainingItems());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.jmx.framework.PackageStateMBeanTest </h4><pre class="type-4 type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMBeanInterface() throws IOException {
  PackageStateMBean packagaState=getMBean(PackageStateMBean.OBJECTNAME,PackageStateMBean.class);
  assertNotNull(packagaState);
  long[] exportingBundles=packagaState.getExportingBundles("org.osgi.jmx.framework","1.7.0");
  assertNotNull(exportingBundles);
  assertTrue("Should find a bundle exporting org.osgi.jmx.framework",exportingBundles.length > 0);
  long[] exportingBundles2=packagaState.getExportingBundles("test","1.0.0");
  assertNull("Shouldn't find a bundle exporting test package",exportingBundles2);
  long[] importingBundlesId=packagaState.getImportingBundles("org.osgi.jmx.framework","1.7.0",exportingBundles[0]);
  assertTrue("Should find bundles importing org.osgi.jmx.framework",importingBundlesId.length > 0);
  TabularData table=packagaState.listPackages();
  assertNotNull("TabularData containing CompositeData with packages info shouldn't be null",table);
  assertEquals("TabularData should be a type PACKAGES",PackageStateMBean.PACKAGES_TYPE,table.getTabularType());
  Collection<?> colData=table.values();
  assertNotNull("Collection of CompositeData shouldn't be null",colData);
  assertFalse("Collection of CompositeData should contain elements",colData.isEmpty());
  boolean isRemovalPending=packagaState.isRemovalPending("org.osgi.jmx.framework","1.7.0",exportingBundles[0]);
  assertFalse("Should removal pending on org.osgi.jmx.framework be false",isRemovalPending);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.jmx.framework.PackageStateTest </h4><pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsRemovalPending() throws IOException {
  ExportedPackage exported=Mockito.mock(ExportedPackage.class);
  Bundle expBundle=Mockito.mock(Bundle.class);
  Mockito.when(exported.getVersion()).thenReturn(Version.parseVersion("1.0.0"));
  Mockito.when(exported.isRemovalPending()).thenReturn(true);
  Mockito.when(exported.getExportingBundle()).thenReturn(expBundle);
  Mockito.when(expBundle.getBundleId()).thenReturn(Long.valueOf(2));
  Mockito.when(admin.getExportedPackages(Mockito.anyString())).thenReturn(new ExportedPackage[]{exported});
  boolean isRemoval=mbean.isRemovalPending("test","1.0.0",Long.valueOf(2));
  Assert.assertTrue(isRemoval);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.jmx.framework.ServiceStateMBeanTest </h4><pre class="type-4 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetServiceAndGetProperty() throws Exception {
  ServiceReference sref=bundleContext.getServiceReference(InterfaceA.class);
  context().getService(sref);
  Long serviceID=(Long)sref.getProperty(Constants.SERVICE_ID);
  CompositeData svcData=mbean.getService(serviceID);
  assertEquals(serviceID,svcData.get(ServiceStateMBean.IDENTIFIER));
  assertEquals(sref.getBundle().getBundleId(),svcData.get(ServiceStateMBean.BUNDLE_IDENTIFIER));
  Set<String> expectedClasses=new HashSet<String>(Arrays.asList(InterfaceA.class.getName(),ManagedService.class.getName()));
  Set<String> actualClasses=new HashSet<String>(Arrays.asList((String[])svcData.get(ServiceStateMBean.OBJECT_CLASS)));
  assertEquals(expectedClasses,actualClasses);
  Bundle[] ub=sref.getUsingBundles();
  assertEquals("Precondition",1,ub.length);
  assertTrue(Arrays.equals(new Long[]{ub[0].getBundleId()},(Long[])svcData.get("UsingBundles")));
  String pid=(String)sref.getProperty(Constants.SERVICE_PID);
  CompositeData pidData=mbean.getProperty(serviceID,Constants.SERVICE_PID);
  assertEquals(pid,pidData.get("Value"));
  assertEquals("String",pidData.get("Type"));
  CompositeData idData=mbean.getProperty(serviceID,Constants.SERVICE_ID);
  assertEquals("" + serviceID,idData.get("Value"));
  assertEquals("Long",idData.get("Type"));
  CompositeData ocData=mbean.getProperty(serviceID,Constants.OBJECTCLASS);
  String form1=InterfaceA.class.getName() + "," + ManagedService.class.getName();
  String form2=ManagedService.class.getName() + "," + InterfaceA.class.getName();
  assertTrue(ocData.get("Value").equals(form1) || ocData.get("Value").equals(form2));
  assertEquals("Array of String",ocData.get("Type"));
  context().ungetService(sref);
}

</code></pre>

<br>
<pre class="type-3 type-7 type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies values related to public fields.
"></span><br>
@Test public void testGetServiceIds() throws Exception {
  ServiceReference[] allSvsRefs=bundleContext.getAllServiceReferences(null,null);
  long[] expectedServiceIds=new long[allSvsRefs.length];
  for (int i=0; i < allSvsRefs.length; i++) {
    expectedServiceIds[i]=(Long)allSvsRefs[i].getProperty(Constants.SERVICE_ID);
  }
  long[] actualServiceIds=mbean.getServiceIds();
  Arrays.sort(expectedServiceIds);
  Arrays.sort(actualServiceIds);
  assertTrue(Arrays.equals(expectedServiceIds,actualServiceIds));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMBeanInterface() throws Exception {
  Bundle a=getBundleByName("org.apache.aries.jmx.test.bundlea");
  assertBundleStarted(a);
  Bundle b=getBundleByName("org.apache.aries.jmx.test.bundleb");
  assertBundleStarted(b);
  ServiceReference refA=bundleContext.getServiceReference(InterfaceA.class.getName());
  assertNotNull(refA);
  long serviceAId=(Long)refA.getProperty(Constants.SERVICE_ID);
  assertTrue(serviceAId > -1);
  ServiceReference refB=bundleContext.getServiceReference(InterfaceB.class.getName());
  assertNotNull(refB);
  long serviceBId=(Long)refB.getProperty(Constants.SERVICE_ID);
  assertTrue(serviceBId > -1);
  ServiceReference[] refs=bundleContext.getServiceReferences(ManagedServiceFactory.class.getName(),"(" + Constants.SERVICE_PID + "=jmx.test.B.factory)");
  assertNotNull(refs);
  assertEquals(1,refs.length);
  ServiceReference msf=refs[0];
  assertEquals(a.getBundleId(),mbean.getBundleIdentifier(serviceAId));
  String[] objectClass=mbean.getObjectClass(serviceAId);
  assertEquals(2,objectClass.length);
  List<String> classNames=Arrays.asList(objectClass);
  assertTrue(classNames.contains(InterfaceA.class.getName()));
  assertTrue(classNames.contains(ManagedService.class.getName()));
  TabularData serviceProperties=mbean.getProperties(serviceBId);
  assertNotNull(serviceProperties);
  assertEquals(JmxConstants.PROPERTIES_TYPE,serviceProperties.getTabularType());
  assertTrue(serviceProperties.values().size() > 1);
  assertEquals("org.apache.aries.jmx.test.ServiceB",PropertyData.from(serviceProperties.get(new Object[]{Constants.SERVICE_PID})).getValue());
  long[] usingBundles=mbean.getUsingBundles(serviceBId);
  assertEquals(1,usingBundles.length);
  assertEquals(a.getBundleId(),usingBundles[0]);
  ServiceReference[] allSvsRefs=bundleContext.getAllServiceReferences(null,null);
  TabularData allServices=mbean.listServices();
  assertNotNull(allServices);
  assertEquals(allSvsRefs.length,allServices.values().size());
  final List<Notification> received=new ArrayList<Notification>();
  final List<AttributeChangeNotification> attributeChanges=new ArrayList<AttributeChangeNotification>();
  mbeanServer.addNotificationListener(objectName,new NotificationListener(){
    public void handleNotification(    Notification notification,    Object handback){
      if (notification instanceof AttributeChangeNotification) {
        attributeChanges.add((AttributeChangeNotification)notification);
      }
 else {
        received.add(notification);
      }
    }
  }
,null,null);
  assertNotNull(refB);
  assertNotNull(msf);
  b.stop();
  refB=bundleContext.getServiceReference(InterfaceB.class.getName());
  refs=bundleContext.getServiceReferences(ManagedServiceFactory.class.getName(),"(" + Constants.SERVICE_PID + "=jmx.test.B.factory)");
  assertNull(refs);
  assertNull(refB);
  b.start();
  refB=bundleContext.getServiceReference(InterfaceB.class.getName());
  refs=bundleContext.getServiceReferences(ManagedServiceFactory.class.getName(),"(" + Constants.SERVICE_PID + "=jmx.test.B.factory)");
  assertNotNull(refB);
  assertNotNull(refs);
  assertEquals(1,refs.length);
  waitForListToReachSize(received,4);
  assertEquals(4,received.size());
  assertEquals(4,attributeChanges.size());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-8 type-16 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAttributeChangeNotifications() throws Exception {
  final List<AttributeChangeNotification> attributeChanges=new ArrayList<AttributeChangeNotification>();
  mbeanServer.addNotificationListener(objectName,new NotificationListener(){
    public void handleNotification(    Notification notification,    Object handback){
      if (notification instanceof AttributeChangeNotification) {
        attributeChanges.add((AttributeChangeNotification)notification);
      }
    }
  }
,null,null);
  assertEquals("Precondition",0,attributeChanges.size());
  long[] idsWithout=mbean.getServiceIds();
  String svc="A String Service";
  ServiceRegistration reg=bundleContext.registerService(String.class.getName(),svc,null);
  long id=(Long)reg.getReference().getProperty(Constants.SERVICE_ID);
  long[] idsWith=new long[idsWithout.length + 1];
  System.arraycopy(idsWithout,0,idsWith,0,idsWithout.length);
  idsWith[idsWith.length - 1]=id;
  Arrays.sort(idsWith);
  waitForListToReachSize(attributeChanges,1);
  AttributeChangeNotification ac=attributeChanges.get(0);
  assertEquals("ServiceIds",ac.getAttributeName());
  long seq1=ac.getSequenceNumber();
  assertTrue(Arrays.equals(idsWithout,(long[])ac.getOldValue()));
  assertTrue(Arrays.equals(idsWith,(long[])ac.getNewValue()));
  Dictionary<String,Object> props=new Hashtable<String,Object>();
  props.put("somekey","someval");
  reg.setProperties(props);
  Thread.sleep(500);
  assertEquals("Changing the service registration should not cause an attribute notification",1,attributeChanges.size());
  reg.unregister();
  waitForListToReachSize(attributeChanges,2);
  AttributeChangeNotification ac2=attributeChanges.get(1);
  assertEquals("ServiceIds",ac2.getAttributeName());
  assertEquals(seq1 + 1,ac2.getSequenceNumber());
  assertTrue(Arrays.equals(idsWith,(long[])ac2.getOldValue()));
  assertTrue(Arrays.equals(idsWithout,(long[])ac2.getNewValue()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.jmx.framework.ServiceStateTest </h4><pre class="type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLifeCycleOfNotificationSupport() throws Exception {
  BundleContext context=mock(BundleContext.class);
  Logger logger=mock(Logger.class);
  ServiceState serviceState=new ServiceState(context,new StateConfig(),logger);
  MBeanServer server1=mock(MBeanServer.class);
  MBeanServer server2=mock(MBeanServer.class);
  ObjectName objectName=new ObjectName(OBJECTNAME);
  serviceState.preRegister(server1,objectName);
  serviceState.postRegister(true);
  ArgumentCaptor<AllServiceListener> argument=ArgumentCaptor.forClass(AllServiceListener.class);
  verify(context).addServiceListener(argument.capture());
  AllServiceListener serviceListener=argument.getValue();
  assertNotNull(serviceListener);
  ExecutorService dispatcher=serviceState.getEventDispatcher();
  serviceState.preRegister(server2,objectName);
  serviceState.postRegister(true);
  argument=ArgumentCaptor.forClass(AllServiceListener.class);
  verify(context,atMost(1)).addServiceListener(argument.capture());
  assertEquals(1,argument.getAllValues().size());
  serviceState.postDeregister();
  verify(context,never()).removeServiceListener(serviceListener);
  assertFalse(dispatcher.isShutdown());
  serviceState.postDeregister();
  verify(context).removeServiceListener(serviceListener);
  assertTrue(dispatcher.isShutdown());
  dispatcher.awaitTermination(2,TimeUnit.SECONDS);
  assertTrue(dispatcher.isTerminated());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.jmx.provisioning.ProvisioningServiceMBeanTest </h4><pre class="type-4 type-3 type-7 type-1 type-8 type-2 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Ignore("For now.. Cannot find public repo for org.eclipse.equinox.ip") @Test @SuppressWarnings({"unchecked"}) public void testMBeanInterface() throws Exception {
  ProvisioningServiceMBean mbean=getMBean(ProvisioningServiceMBean.OBJECTNAME,ProvisioningServiceMBean.class);
  Dictionary<String,Object> info;
  File provZip=createProvAgentConfigZip();
  mbean.addInformationFromZip(provZip.toURI().toURL().toExternalForm());
  info=ps.getInformation();
  assertNotNull(info);
  assertTrue(info.size() >= 1);
  assertProvAgentConfigCorrect(info);
  TabularData data=mbean.listInformation();
  assertNotNull(data);
  assertEquals(JmxConstants.PROPERTIES_TYPE,data.getTabularType());
  assertTrue(data.values().size() >= 1);
  PropertyData<byte[]> configEntry=PropertyData.from(data.get(new Object[]{PROVISIONING_AGENT_CONFIG}));
  assertNotNull(configEntry);
  assertArrayEquals(new byte[]{10,20,30},configEntry.getValue());
  PropertyData<String> reference=PropertyData.newInstance(PROVISIONING_REFERENCE,"rsh://0.0.0.0/provX");
  data.put(reference.toCompositeData());
  mbean.addInformation(data);
  info=ps.getInformation();
  assertNotNull(info);
  assertTrue(info.size() >= 2);
  assertProvAgentConfigCorrect(info);
  String ref=(String)info.get(PROVISIONING_REFERENCE);
  assertNotNull(ref);
  assertEquals("rsh://0.0.0.0/provX",ref);
  data.clear();
  PropertyData<String> newRef=PropertyData.newInstance(PROVISIONING_REFERENCE,"rsh://0.0.0.0/newProvRef");
  data.put(newRef.toCompositeData());
  mbean.setInformation(data);
  info=ps.getInformation();
  assertNotNull(info);
  assertTrue(info.size() >= 1);
  assertNull(info.get(PROVISIONING_AGENT_CONFIG));
  ref=(String)info.get(PROVISIONING_REFERENCE);
  assertNotNull(ref);
  assertEquals("rsh://0.0.0.0/newProvRef",ref);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.jmx.useradmin.UserAdminTest </h4><pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test method for {@link org.apache.aries.jmx.useradmin.UserAdmin#removeMember(java.lang.String,java.lang.String)}.
 * @throws IOException
 */
@Test public void testRemoveMember() throws IOException {
  Group group1=Mockito.mock(Group.class);
  User user1=Mockito.mock(User.class);
  Mockito.when(userAdmin.getRole("group1")).thenReturn(group1);
  Mockito.when(userAdmin.getRole("user1")).thenReturn(user1);
  Mockito.when(group1.getType()).thenReturn(Role.GROUP);
  Mockito.when(group1.removeMember(user1)).thenReturn(true);
  boolean isAdded=mbean.removeMember("group1","user1");
  Assert.assertTrue(isAdded);
  Mockito.verify(group1).removeMember(user1);
}

</code></pre>

<br>
<pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test method for {@link org.apache.aries.jmx.useradmin.UserAdmin#removeGroup(java.lang.String)}.
 * @throws IOException
 */
@Test public void testRemoveGroup() throws IOException {
  Mockito.when(userAdmin.removeRole("group1")).thenReturn(true);
  boolean isRemoved=mbean.removeGroup("group1");
  Assert.assertTrue(isRemoved);
}

</code></pre>

<br>
<pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test method for {@link org.apache.aries.jmx.useradmin.UserAdmin#addMember(java.lang.String,java.lang.String)}.
 * @throws IOException
 */
@Test public void testAddMember() throws IOException {
  Group group1=Mockito.mock(Group.class);
  User user1=Mockito.mock(User.class);
  Mockito.when(userAdmin.getRole("group1")).thenReturn(group1);
  Mockito.when(userAdmin.getRole("user1")).thenReturn(user1);
  Mockito.when(group1.getType()).thenReturn(Role.GROUP);
  Mockito.when(group1.addMember(user1)).thenReturn(true);
  boolean isAdded=mbean.addMember("group1","user1");
  Assert.assertTrue(isAdded);
  Mockito.verify(group1).addMember(user1);
}

</code></pre>

<br>
<pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test method for {@link org.apache.aries.jmx.useradmin.UserAdmin#removeUser(java.lang.String)}.
 * @throws IOException
 */
@Test public void testRemoveUser() throws IOException {
  Mockito.when(userAdmin.removeRole("user1")).thenReturn(true);
  boolean isRemoved=mbean.removeUser("user1");
  Assert.assertTrue(isRemoved);
}

</code></pre>

<br>
<pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test method for {@link org.apache.aries.jmx.useradmin.UserAdmin#removeRole(java.lang.String)}.
 * @throws IOException
 */
@Test public void testRemoveRole() throws IOException {
  Mockito.when(userAdmin.removeRole("role1")).thenReturn(true);
  boolean isRemoved=mbean.removeRole("role1");
  Assert.assertTrue(isRemoved);
}

</code></pre>

<br>
<pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test method for{@link org.apache.aries.jmx.useradmin.UserAdmin#addRequiredMember(java.lang.String,java.lang.String)}.
 * @throws IOException
 */
@Test public void testAddRequiredMember() throws IOException {
  Group group1=Mockito.mock(Group.class);
  User user1=Mockito.mock(User.class);
  Mockito.when(userAdmin.getRole("group1")).thenReturn(group1);
  Mockito.when(userAdmin.getRole("user1")).thenReturn(user1);
  Mockito.when(group1.getType()).thenReturn(Role.GROUP);
  Mockito.when(group1.addRequiredMember(user1)).thenReturn(true);
  boolean isAdded=mbean.addRequiredMember("group1","user1");
  Assert.assertTrue(isAdded);
  Mockito.verify(group1).addRequiredMember(user1);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.jmx.util.FrameworkUtilsTest </h4><pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsBundlePendingRemoval() throws Exception {
  Bundle bundle=mock(Bundle.class);
  when(bundle.getSymbolicName()).thenReturn("org.apache.testb");
  RequiredBundle reqBundle=mock(RequiredBundle.class);
  when(reqBundle.getBundle()).thenReturn(bundle);
  when(reqBundle.isRemovalPending()).thenReturn(true);
  PackageAdmin admin=mock(PackageAdmin.class);
  when(admin.getRequiredBundles("org.apache.testb")).thenReturn(new RequiredBundle[]{reqBundle});
  assertTrue(isBundlePendingRemoval(bundle,admin));
}

</code></pre>

<br>
<pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsBundleRequiredByOthers() throws Exception {
  Bundle bundle=mock(Bundle.class);
  when(bundle.getSymbolicName()).thenReturn("org.apache.testb");
  RequiredBundle reqBundle=mock(RequiredBundle.class);
  when(reqBundle.getBundle()).thenReturn(bundle);
  when(reqBundle.getRequiringBundles()).thenReturn(new Bundle[0]);
  PackageAdmin admin=mock(PackageAdmin.class);
  when(admin.getRequiredBundles("org.apache.testb")).thenReturn(new RequiredBundle[]{reqBundle});
  assertFalse(isBundleRequiredByOthers(bundle,admin));
  Bundle user=mock(Bundle.class);
  when(reqBundle.getRequiringBundles()).thenReturn(new Bundle[]{user});
  assertTrue(isBundleRequiredByOthers(bundle,admin));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.jmx.util.TypeUtilsTest </h4><pre class="type-4 type-3 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFromString() throws Exception {
  String value;
  value="1";
  Integer integerValue=fromString(Integer.class,value);
  assertEquals(new Integer(1),integerValue);
  int intValue=fromString(Integer.TYPE,value);
  assertEquals(1,intValue);
  Long wrappedLongValue=fromString(Long.class,value);
  assertEquals(Long.valueOf(1),wrappedLongValue);
  long longValue=fromString(Long.TYPE,value);
  assertEquals(1,longValue);
  Double wrappedDoubleValue=fromString(Double.class,value);
  assertEquals(Double.valueOf(1),wrappedDoubleValue);
  double doubleValue=fromString(Double.TYPE,value);
  assertEquals(1,doubleValue,0);
  Float wrappedFloatValue=fromString(Float.class,value);
  assertEquals(Float.valueOf(1),wrappedFloatValue);
  float floatValue=fromString(Float.TYPE,value);
  assertEquals(1,floatValue,0);
  Short shortValue=fromString(Short.class,value);
  assertEquals(Short.valueOf(value),shortValue);
  Byte byteValue=fromString(Byte.class,value);
  assertEquals(Byte.valueOf(value),byteValue);
  value="true";
  assertTrue(fromString(Boolean.class,value));
  assertTrue(fromString(Boolean.TYPE,value));
  char charValue=fromString(Character.TYPE,"a");
  assertEquals('a',charValue);
  Character characterValue=fromString(Character.class,"a");
  assertEquals(Character.valueOf('a'),characterValue);
  BigDecimal bigDecimal=fromString(BigDecimal.class,"2");
  assertEquals(new BigDecimal("2"),bigDecimal);
  BigInteger bigInteger=fromString(BigInteger.class,"2");
  assertEquals(new BigInteger("2"),bigInteger);
  String stringValue=fromString(String.class,value);
  assertEquals(stringValue,value);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.jndi.InitialContextTest </h4><pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testLookupWithICF() throws NamingException {
  InitialContextFactory icf=Skeleton.newMock(InitialContextFactory.class);
  bc.registerService(new String[]{InitialContextFactory.class.getName(),icf.getClass().getName()},icf,(Dictionary)new Properties());
  Skeleton.getSkeleton(icf).setReturnValue(new MethodCall(Context.class,"lookup","/"),Skeleton.newMock(Context.class));
  Properties props=new Properties();
  props.put(Context.INITIAL_CONTEXT_FACTORY,icf.getClass().getName());
  props.put(JNDIConstants.BUNDLE_CONTEXT,bc);
  InitialContext ctx=new InitialContext(props);
  Context namingCtx=(Context)ctx.lookup("/");
  assertTrue("Context returned isn't the raw naming context: " + namingCtx,Skeleton.isSkeleton(namingCtx));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.jndi.ObjectFactoryTest </h4><pre class="type-4 type-3 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testContextDotObjectFactories() throws Exception {
  env.put(Context.OBJECT_FACTORIES,"org.apache.aries.jndi.ObjectFactoryTest$DummyObjectFactory");
  Reference ref=new Reference("anything");
  Object obj=NamingManager.getObjectInstance(ref,null,null,env);
  assertTrue(obj instanceof String);
  assertEquals((String)obj,"pass");
  env.remove(Context.OBJECT_FACTORIES);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.jndi.services.ServiceHelperTest </h4><pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testGetAllInterfaces() throws Exception {
  Class<?>[] classes={B.class,D.class};
  Collection<Class<?>> cx=ServiceHelper.getAllInterfaces(classes);
  assertTrue(cx.contains(A.class));
  assertTrue(cx.contains(B.class));
  assertTrue(cx.contains(C.class));
  assertTrue(cx.contains(D.class));
  assertTrue(cx.size() == 4);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.jndi.url.ServiceRegistryContextTest </h4><pre class="type-4 type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void checkServiceListListBindings() throws NamingException {
  BundleMock mock=new BundleMock("scooby.doo",new Properties());
  Thread.currentThread().setContextClassLoader(mock.getClassLoader());
  InitialContext ctx=new InitialContext();
  String className=Runnable.class.getName();
  MethodCall run=new MethodCall(Runnable.class,"run");
  Runnable t=Skeleton.newMock(Runnable.class);
  Runnable t2=Skeleton.newMock(Runnable.class);
  reg.unregister();
  ServiceRegistration reg=bc.registerService(className,t,null);
  ServiceRegistration reg2=bc.registerService(className,t2,null);
  NamingEnumeration<Binding> ne=ctx.listBindings("osgi:servicelist/" + className);
  assertTrue(ne.hasMoreElements());
  Binding bnd=ne.nextElement();
  assertEquals(String.valueOf(reg.getReference().getProperty(Constants.SERVICE_ID)),bnd.getName());
  assertTrue("Class name not correct. Was: " + bnd.getClassName(),bnd.getClassName().contains("Proxy") || bnd.getClassName().contains("EnhancerByCGLIB"));
  Runnable r=(Runnable)bnd.getObject();
  assertNotNull(r);
  r.run();
  Skeleton.getSkeleton(t).assertCalledExactNumberOfTimes(run,1);
  Skeleton.getSkeleton(t2).assertNotCalled(run);
  assertTrue(ne.hasMoreElements());
  bnd=ne.nextElement();
  assertEquals(String.valueOf(reg2.getReference().getProperty(Constants.SERVICE_ID)),bnd.getName());
  assertTrue("Class name not correct. Was: " + bnd.getClassName(),bnd.getClassName().contains("Proxy") || bnd.getClassName().contains("EnhancerByCGLIB"));
  r=(Runnable)bnd.getObject();
  assertNotNull(r);
  r.run();
  Skeleton.getSkeleton(t).assertCalledExactNumberOfTimes(run,1);
  Skeleton.getSkeleton(t2).assertCalledExactNumberOfTimes(run,1);
  assertFalse(ne.hasMoreElements());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBaseLookup() throws NamingException {
  BundleMock mock=new BundleMock("scooby.doo",new Properties());
  Thread.currentThread().setContextClassLoader(mock.getClassLoader());
  InitialContext ctx=new InitialContext();
  Context ctx2=(Context)ctx.lookup("osgi:service");
  Runnable r1=(Runnable)ctx2.lookup("java.lang.Runnable");
  assertNotNull(r1);
  assertTrue("expected proxied service class",r1 != service);
  Runnable r2=(Runnable)ctx.lookup("aries:services/java.lang.Runnable");
  assertNotNull(r2);
  assertTrue("expected non-proxied service class",r2 == service);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * This test does a simple JNDI lookup to prove that works.
 * @throws NamingException
 */
@Test public void simpleJNDILookup() throws NamingException {
  System.setProperty(Context.URL_PKG_PREFIXES,"helloMatey");
  InitialContext ctx=new InitialContext(new Hashtable<Object,Object>());
  BundleMock mock=new BundleMock("scooby.doo.1",new Properties());
  Thread.currentThread().setContextClassLoader(mock.getClassLoader());
  Runnable s=(Runnable)ctx.lookup("osgi:service/java.lang.Runnable");
  assertNotNull("We didn't get a service back from our lookup :(",s);
  s.run();
  Skeleton.getSkeleton(service).assertCalledExactNumberOfTimes(new MethodCall(Runnable.class,"run"),1);
  Skeleton skel=Skeleton.getSkeleton(mock.getBundleContext());
  skel.assertCalled(new MethodCall(BundleContext.class,"getServiceReferences","java.lang.Runnable",null));
  ctx=new InitialContext(new Hashtable<Object,Object>());
  mock=new BundleMock("scooby.doo.2",new Properties());
  Thread.currentThread().setContextClassLoader(mock.getClassLoader());
  s=(Runnable)ctx.lookup("osgi:service/java.lang.Runnable");
  String packages=System.getProperty(Context.URL_PKG_PREFIXES,null);
  assertTrue(ctx.getEnvironment().containsValue(packages));
  assertNotNull("We didn't get a service back from our lookup :(",s);
  s.run();
  Skeleton.getSkeleton(service).assertCalledExactNumberOfTimes(new MethodCall(Runnable.class,"run"),2);
  skel=Skeleton.getSkeleton(mock.getBundleContext());
  skel.assertCalled(new MethodCall(BundleContext.class,"getServiceReferences","java.lang.Runnable",null));
}

</code></pre>

<br>
<pre class="type-5 type-3 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLookupWithPause() throws NamingException {
  BundleMock mock=new BundleMock("scooby.doo",new Properties());
  Thread.currentThread().setContextClassLoader(mock.getClassLoader());
  Hashtable<Object,Object> env=new Hashtable<Object,Object>();
  env.put(JNDIConstants.REBIND_TIMEOUT,1000);
  InitialContext ctx=new InitialContext(env);
  Context ctx2=(Context)ctx.lookup("osgi:service");
  Runnable r1=(Runnable)ctx2.lookup("java.lang.Runnable");
  reg.unregister();
  long startTime=System.currentTimeMillis();
  try {
    r1.run();
    fail("Should have received an exception");
  }
 catch (  ServiceException e) {
    long endTime=System.currentTimeMillis();
    long diff=endTime - startTime;
    assertTrue("The run method did not fail in the expected time (1s): " + diff,diff >= 1000);
  }
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void checkServiceListList() throws NamingException {
  BundleMock mock=new BundleMock("scooby.doo",new Properties());
  Thread.currentThread().setContextClassLoader(mock.getClassLoader());
  InitialContext ctx=new InitialContext();
  String className=Runnable.class.getName();
  Runnable t=Skeleton.newMock(Runnable.class);
  reg.unregister();
  ServiceRegistration reg=bc.registerService(className,t,null);
  ServiceRegistration reg2=bc.registerService(className,new Thread(),null);
  NamingEnumeration<NameClassPair> ne=ctx.list("osgi:servicelist/" + className);
  assertTrue(ne.hasMoreElements());
  NameClassPair ncp=ne.nextElement();
  assertEquals(String.valueOf(reg.getReference().getProperty(Constants.SERVICE_ID)),ncp.getName());
  assertTrue("Class name not correct. Was: " + ncp.getClassName(),ncp.getClassName().contains("Proxy"));
  assertTrue(ne.hasMoreElements());
  ncp=ne.nextElement();
  assertEquals(String.valueOf(reg2.getReference().getProperty(Constants.SERVICE_ID)),ncp.getName());
  assertEquals("Class name not correct.",Thread.class.getName(),ncp.getClassName());
  assertFalse(ne.hasMoreElements());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.jpa.container.itest.JPAContainerEclipseLinkTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testClassIsWoven() throws Exception {
  assertTrue("Not PersistenceCapable",Arrays.asList(Car.class.getInterfaces()).contains(PersistenceWeaved.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.jpa.container.itest.JPAContainerOpenJPATest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testClassIsWoven() throws Exception {
  assertTrue("Not PersistenceCapable",Arrays.asList(Car.class.getInterfaces()).contains(PersistenceCapable.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.jpa.impl.EmSupplierTest </h4><pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void asyncCleanLifeCycleTest() throws InterruptedException {
  EntityManagerFactory emf=mockEmf();
  final Coordinator coordinator=new DummyCoordinator();
  final EMSupplierImpl emSupplier=new EMSupplierImpl("myunit",emf,coordinator);
  final Semaphore preCallSem=new Semaphore(0);
  Runnable command=new Runnable(){
    @Override public void run(){
      coordinator.begin("test",0);
      preCallSem.release();
      coordinator.pop().end();
    }
  }
;
  Executors.newSingleThreadExecutor().execute(command);
  preCallSem.acquire();
  boolean clean=emSupplier.close();
  Assert.assertTrue("Shutdown should be clean",clean);
}

</code></pre>

<br>
<pre class="type-3 type-7 type-13 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void lifeCycleTest(){
  EntityManagerFactory emf=mockEmf();
  Coordinator coordinator=new DummyCoordinator();
  EMSupplierImpl emSupplier=new EMSupplierImpl("myunit",emf,coordinator);
  assertIllegalState(emSupplier);
  coordinator.begin("test",0);
  EntityManager em=emSupplier.get();
  Assert.assertNotNull("EM should be present after preCall",em);
  coordinator.begin("testinner",0);
  Assert.assertSame("Same EM for inner preCall",em,emSupplier.get());
  coordinator.pop().end();
  Assert.assertSame("EM must still be the same after inner postCall",em,emSupplier.get());
  coordinator.pop().end();
  assertIllegalState(emSupplier);
  boolean clean=emSupplier.close();
  Assert.assertTrue("Shutdown should be clean",clean);
}

</code></pre>

<br>
<pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void uncleanLifeCycleTest(){
  EntityManagerFactory emf=mockEmf();
  Coordinator coordinator=new DummyCoordinator();
  EMSupplierImpl emSupplier=new EMSupplierImpl("myunit",emf,coordinator);
  emSupplier.setShutdownWait(100,MILLISECONDS);
  coordinator.begin("test",0);
  emSupplier.get();
  boolean clean=emSupplier.close();
  Assert.assertFalse("Shutdown should be unclean",clean);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.proxy.impl.weaving.ProxyWeavingHookTest </h4><pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void tesDefault(){
  BundleContext ctx=(BundleContext)Proxy.newProxyInstance(getClass().getClassLoader(),new Class[]{BundleContext.class},new InvocationHandler(){
    public Object invoke(    Object proxy,    Method method,    Object[] args) throws Throwable {
      return null;
    }
  }
);
  ProxyWeavingHook hook=new ProxyWeavingHook(ctx);
  assertTrue(hook.isEnabled("org.apache.foo.Bar"));
  assertTrue(hook.isDisabled("javax.foo.Bar"));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testFilters(){
  BundleContext ctx=(BundleContext)Proxy.newProxyInstance(getClass().getClassLoader(),new Class[]{BundleContext.class},new InvocationHandler(){
    public Object invoke(    Object proxy,    Method method,    Object[] args) throws Throwable {
      if (method.getName().equals("getProperty")) {
        if (ProxyWeavingHook.WEAVING_ENABLED_CLASSES.equals(args[0])) {
          return "";
        }
        if (ProxyWeavingHook.WEAVING_DISABLED_CLASSES.equals(args[0])) {
          return "org.apache.foo.*";
        }
      }
      return null;
    }
  }
);
  ProxyWeavingHook hook=new ProxyWeavingHook(ctx);
  assertFalse(hook.isEnabled("org.apache.foo.Bar"));
  assertTrue(hook.isDisabled("org.apache.foo.Bar"));
  assertTrue(hook.isDisabled("org.apache.foo.bar.Bar"));
  assertFalse(hook.isDisabled("org.apache.fooBar"));
  assertFalse(hook.isDisabled("orgXapache.foo.Bar"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.proxy.itests.AbstractBasicProxyTest </h4><pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * This test does two things. First of all it checks that we throw a FinalModifierException if we
 * try to proxy a final class. It also validates that the message and toString in the exception
 * works as expected.
 */
@Test public void checkProxyFinalClass() throws UnableToProxyException {
  Bundle b=bundleContext.getBundle();
  Callable c=new TestCallable();
  Collection<Class<?>> classes=new ArrayList<Class<?>>();
  classes.add(TestCallable.class);
  try {
    mgr.createDelegatingProxy(b,classes,c,null);
  }
 catch (  FinalModifierException e) {
    String msg=e.getMessage();
    assertEquals("The message didn't look right","The class " + TestCallable.class.getName() + " is final.",msg);
    assertTrue("The message didn't appear in the toString",e.toString().endsWith(msg));
  }
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * This method checks that we correctly proxy an interface with default methods on java 8
 */
@Test public void checkProxydefaultMethodInterface() throws UnableToProxyException {
  Bundle b=bundleContext.getBundle();
  Callable c=new TestCallable();
  Collection<Class<?>> classes=new ArrayList<Class<?>>();
  classes.add(java.lang.CharSequence.class);
  try {
    mgr.createDelegatingProxy(b,classes,c,null);
  }
 catch (  FinalModifierException e) {
    String msg=e.getMessage();
    assertEquals("The message didn't look right","The class " + TestCallable.class.getName() + " is final.",msg);
    assertTrue("The message didn't appear in the toString",e.toString().endsWith(msg));
  }
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * This method checks that we correctly fail to proxy a class with final methods.
 * It also does a quick validation on the exception message.
 */
@Test public void checkProxyFinalMethods() throws UnableToProxyException {
  Bundle b=bundleContext.getBundle();
  Callable c=new TestCallable();
  Collection<Class<?>> classes=new ArrayList<Class<?>>();
  Runnable r=new Runnable(){
    public final void run(){
    }
  }
;
  classes.add(r.getClass());
  try {
    mgr.createDelegatingProxy(b,classes,c,null);
  }
 catch (  FinalModifierException e) {
    assertTrue("The methods didn't appear in the message",e.getMessage().contains("run"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.proxy.itests.AbstractProxyTest </h4><pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testEquals() throws Exception {
  Bundle b=bundleContext.getBundle();
  TestCallable c=new TestCallable();
  c.setReturn(new TestDelegate("One"));
  TestCallable c2=new TestCallable();
  c.setReturn(new TestDelegate("Two"));
  Collection<Class<?>> classes=new ArrayList<Class<?>>();
  classes.add(List.class);
  Object proxy=mgr.createDelegatingProxy(b,classes,c,new TestDelegate("Three"));
  Object otherProxy=mgr.createDelegatingProxy(b,classes,c,new TestDelegate("Four"));
  Object totallyOtherProxy=mgr.createDelegatingProxy(b,classes,c2,new TestDelegate("Five"));
  assertTrue("The object is not equal to itself",proxy.equals(proxy));
  assertTrue("The object is not equal to another proxy of itself",proxy.equals(otherProxy));
  assertFalse("The object is equal to proxy to another object",proxy.equals(totallyOtherProxy));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.quiesce.manager.itest.QuiesceManagerTest </h4><pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTwoBundles() throws Exception {
  bundleContext.registerService(QuiesceParticipant.class.getName(),participant1,null);
  bundleContext.registerService(QuiesceParticipant.class.getName(),participant2,null);
  bundleContext.registerService(QuiesceParticipant.class.getName(),participant3,null);
  bundleList=new ArrayList<Bundle>();
  bundleList.add(b1);
  bundleList.add(b2);
  assertEquals("Bundle " + b1.getSymbolicName() + " should be in active state",Bundle.ACTIVE,b1.getState());
  assertEquals("Bundle " + b2.getSymbolicName() + " should be in active state",Bundle.ACTIVE,b2.getState());
  manager.quiesceWithFuture(10000,bundleList).get(15000,TimeUnit.MILLISECONDS);
  assertEquals("Participant 1 should have started once",1,participant1.getStartedCount());
  assertEquals("Participant 1 should finished once",1,participant1.getFinishedCount());
  assertEquals("Participant 2 should have started once",1,participant2.getStartedCount());
  assertEquals("Participant 2 should not have finished",0,participant2.getFinishedCount());
  assertEquals("Participant 3 should have started once",1,participant3.getStartedCount());
  assertEquals("Participant 3 should finished once",1,participant3.getFinishedCount());
  assertTrue("Bundle " + b1.getSymbolicName() + " should not be in active state",b1.getState() != Bundle.ACTIVE);
  assertTrue("Bundle " + b2.getSymbolicName() + " should not be in active state",b2.getState() != Bundle.ACTIVE);
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWaitAShortTime() throws Exception {
  bundleContext.registerService(QuiesceParticipant.class.getName(),participant3,null);
  bundleList=new ArrayList<Bundle>();
  bundleList.add(b1);
  assertEquals("Bundle " + b1.getSymbolicName() + " should be in active state",Bundle.ACTIVE,b1.getState());
  manager.quiesceWithFuture(10000,bundleList).get(7000,TimeUnit.MILLISECONDS);
  assertEquals("Participant should have started once",1,participant3.getStartedCount());
  assertEquals("Participant should finished once",1,participant3.getFinishedCount());
  assertTrue("Bundle " + b1.getSymbolicName() + " should not be in active state",b1.getState() != Bundle.ACTIVE);
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testThreeParticipants() throws Exception {
  bundleContext.registerService(QuiesceParticipant.class.getName(),participant1,null);
  bundleContext.registerService(QuiesceParticipant.class.getName(),participant2,null);
  bundleContext.registerService(QuiesceParticipant.class.getName(),participant3,null);
  bundleList=new ArrayList<Bundle>();
  bundleList.add(b1);
  assertEquals("Bundle " + b1.getSymbolicName() + " should be in active state",Bundle.ACTIVE,b1.getState());
  manager.quiesceWithFuture(10000,bundleList).get(15000,TimeUnit.MILLISECONDS);
  assertEquals("Participant 1 should have started once",1,participant1.getStartedCount());
  assertEquals("Participant 1 should finished once",1,participant1.getFinishedCount());
  assertEquals("Participant 2 should have started once",1,participant2.getStartedCount());
  assertEquals("Participant 2 should not have finished",0,participant2.getFinishedCount());
  assertEquals("Participant 3 should have started once",1,participant3.getStartedCount());
  assertEquals("Participant 3 should finished once",1,participant3.getFinishedCount());
  assertTrue("Bundle " + b1.getSymbolicName() + " should not be in active state",b1.getState() != Bundle.ACTIVE);
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNoReturn() throws Exception {
  bundleContext.registerService(QuiesceParticipant.class.getName(),participant2,null);
  bundleList=new ArrayList<Bundle>();
  bundleList.add(b1);
  assertEquals("Bundle " + b1.getSymbolicName() + " should be in active state",Bundle.ACTIVE,b1.getState());
  manager.quiesce(1000,bundleList);
  timeoutTime=System.currentTimeMillis() + 5000;
  while (System.currentTimeMillis() < timeoutTime && b1.getState() == Bundle.ACTIVE) {
    Thread.sleep(500);
  }
  assertEquals("Participant should have started once",1,participant2.getStartedCount());
  assertEquals("Participant should not have finished",0,participant2.getFinishedCount());
  assertTrue("Bundle " + b1.getSymbolicName() + " should not be in active state",b1.getState() != Bundle.ACTIVE);
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNoParticipants() throws Exception {
  bundleList=new ArrayList<Bundle>();
  bundleList.add(b1);
  assertEquals("Bundle " + b1.getSymbolicName() + " should be in active state",Bundle.ACTIVE,b1.getState());
  manager.quiesceWithFuture(2000,bundleList).get(5000,TimeUnit.MILLISECONDS);
  assertTrue("Bundle " + b1.getSymbolicName() + " should not be in active state",b1.getState() != Bundle.ACTIVE);
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOverlappedQuiesces() throws Exception {
  bundleContext.registerService(QuiesceParticipant.class.getName(),participant1,null);
  bundleContext.registerService(QuiesceParticipant.class.getName(),participant2,null);
  bundleContext.registerService(QuiesceParticipant.class.getName(),participant3,null);
  bundleList=new ArrayList<Bundle>();
  bundleList.add(b1);
  bundleList.add(b2);
  assertEquals("Bundle " + b1.getSymbolicName() + " should be in active state",Bundle.ACTIVE,b1.getState());
  assertEquals("Bundle " + b2.getSymbolicName() + " should be in active state",Bundle.ACTIVE,b2.getState());
  assertEquals("Bundle " + b3.getSymbolicName() + " should be in active state",Bundle.ACTIVE,b3.getState());
  manager.quiesce(2000,bundleList);
  bundleList=new ArrayList<Bundle>();
  bundleList.add(b2);
  bundleList.add(b3);
  manager.quiesce(2000,bundleList);
  timeoutTime=System.currentTimeMillis() + 10000;
  while (System.currentTimeMillis() < timeoutTime && (b1.getState() == Bundle.ACTIVE || b2.getState() == Bundle.ACTIVE || b3.getState() == Bundle.ACTIVE)) {
    Thread.sleep(500);
  }
  assertEquals("Participant 1 should have started twice as it has been asked to quiesce twice",2,participant1.getStartedCount());
  assertEquals("Participant 1 should finished twice as it should have returned from two quiesce requests immediately",2,participant1.getFinishedCount());
  assertEquals("Participant 2 should have started twice as it has been asked to quiesce twice",2,participant2.getStartedCount());
  assertEquals("Participant 2 should not have finished as it should never return from it's two quiesce requests",0,participant2.getFinishedCount());
  assertEquals("Participant 3 should have started twice as it has been asked to quiesce twice",2,participant3.getStartedCount());
  assertEquals("Participant 3 should finished twice as it should have waited a short time before returning from it's two quiesce requests",2,participant3.getFinishedCount());
  assertTrue("Bundle " + b1.getSymbolicName() + " should not be in active state",b1.getState() != Bundle.ACTIVE);
  assertTrue("Bundle " + b2.getSymbolicName() + " should not be in active state",b2.getState() != Bundle.ACTIVE);
  assertTrue("Bundle " + b3.getSymbolicName() + " should not be in active state",b3.getState() != Bundle.ACTIVE);
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testImmediateReturn() throws Exception {
  bundleList=new ArrayList<Bundle>();
  bundleList.add(b1);
  bundleContext.registerService(QuiesceParticipant.class.getName(),participant1,null);
  assertEquals("Bundle " + b1.getSymbolicName() + " should be in active state",Bundle.ACTIVE,b1.getState());
  manager.quiesceWithFuture(1000,bundleList).get(5000,TimeUnit.MILLISECONDS);
  assertEquals("Participant should have finished once",1,participant1.getFinishedCount());
  assertTrue("Bundle " + b1.getSymbolicName() + " should not be in active state",b1.getState() != Bundle.ACTIVE);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.sample.twitter.itest.TwitterTest </h4><pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for ARIES-461
 * Application that bring in dependency bundles from a bundle repository doesn't deploy
 * @throws Exception
 */
@Test public void testTwitter() throws Exception {
  System.setProperty(AppConstants.PROVISON_EXCLUDE_LOCAL_REPO_SYSPROP,"false");
  deleteRepos();
  MavenArtifactUrlReference twitterEbaUrl=maven("org.apache.aries.samples.twitter","org.apache.aries.samples.twitter.eba").versionAsInProject().type("eba");
  MavenArtifactUrlReference twitterCommonLangJar=maven("commons-lang","commons-lang").versionAsInProject();
  MavenArtifactUrlReference twitterJar=maven("org.apache.aries.samples.twitter","org.apache.aries.samples.twitter.twitter4j").versionAsInProject();
  String repositoryXML=getRepoContent("/obr/twitter/TwitterRepository.xml");
  String repo=repositoryXML.replaceAll("commons.lang.location",twitterCommonLangJar.getURL()).replaceAll("twitter4j.location",twitterJar.getURL());
  URL url=getRepoUrl(repo);
  repositoryAdmin.addRepository(url);
  AriesApplication app=manager.createApplication(new URL(twitterEbaUrl.getURL()));
  app=manager.resolve(app);
  DeploymentMetadata depMeta=app.getDeploymentMetadata();
  List<DeploymentContent> provision=depMeta.getApplicationProvisionBundles();
  Collection<DeploymentContent> useBundles=depMeta.getDeployedUseBundle();
  Collection<DeploymentContent> appContent=depMeta.getApplicationDeploymentContents();
  List<String> provisionBundleSymbolicNames=new ArrayList<String>();
  for (  DeploymentContent dep : provision) {
    provisionBundleSymbolicNames.add(dep.getContentName());
  }
  String provision_bundle1="org.apache.commons.lang";
  String provision_bundle2="twitter4j";
  assertTrue("Bundle " + provision_bundle1 + " not found.",provisionBundleSymbolicNames.contains(provision_bundle1));
  assertTrue("Bundle " + provision_bundle2 + " not found.",provisionBundleSymbolicNames.contains(provision_bundle2));
  assertEquals(useBundles.toString(),0,useBundles.size());
  assertEquals(appContent.toString(),1,appContent.size());
  AriesApplicationContext ctx=manager.install(app);
  ctx.start();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.spifly.ProviderBundleTrackerCustomizerGenericCapabilityTest </h4><pre class="type-4 type-12 type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testProvidedSPIDirective() throws Exception {
  Bundle mediatorBundle=EasyMock.createMock(Bundle.class);
  EasyMock.expect(mediatorBundle.getBundleId()).andReturn(42l).anyTimes();
  EasyMock.replay(mediatorBundle);
  BaseActivator activator=new BaseActivator(){
    @Override public void start(    BundleContext context) throws Exception {
    }
  }
;
  ProviderBundleTrackerCustomizer customizer=new ProviderBundleTrackerCustomizer(activator,mediatorBundle);
  BundleContext implBC=mockSPIBundleContext4();
  Dictionary<String,String> headers=new Hashtable<String,String>();
  headers.put(SpiFlyConstants.REQUIRE_CAPABILITY,SpiFlyConstants.PROVIDER_REQUIREMENT);
  headers.put(SpiFlyConstants.PROVIDE_CAPABILITY,SpiFlyConstants.SERVICELOADER_CAPABILITY_NAMESPACE + "; " + SpiFlyConstants.SERVICELOADER_CAPABILITY_NAMESPACE+ "=org.apache.aries.mytest.MySPI; approval=yeah, "+ SpiFlyConstants.SERVICELOADER_CAPABILITY_NAMESPACE+ "; "+ SpiFlyConstants.SERVICELOADER_CAPABILITY_NAMESPACE+ "=org.apache.aries.mytest.MySPI2");
  Bundle implBundle=mockSPIBundle4(implBC,headers);
  List<ServiceRegistration> registrations=customizer.addingBundle(implBundle,null);
  assertEquals("Expected 3 registrations, one for MySPI and 2 for MySPI2",3,registrations.size());
  Set<String> expectedObjectClasses=new HashSet<String>(Arrays.asList("org.apache.aries.mytest.MySPI","org.apache.aries.mytest.MySPI2"));
  Set<String> actualObjectClasses=new HashSet<String>();
  boolean foundMySPI=false;
  boolean foundMySPI2=false;
  for (  ServiceRegistration sr : registrations) {
    List<String> objectClasses=Arrays.asList((String[])sr.getReference().getProperty(Constants.OBJECTCLASS));
    actualObjectClasses.addAll(objectClasses);
    assertNotNull(sr.getReference().getProperty(SpiFlyConstants.SERVICELOADER_MEDIATOR_PROPERTY));
    if (objectClasses.contains("org.apache.aries.mytest.MySPI")) {
      assertEquals("yeah",sr.getReference().getProperty("approval"));
      foundMySPI=true;
    }
 else     if (objectClasses.contains("org.apache.aries.mytest.MySPI2")) {
      assertNull(sr.getReference().getProperty("approval"));
      foundMySPI2=true;
    }
  }
  assertTrue(foundMySPI);
  assertTrue(foundMySPI2);
  assertEquals(expectedObjectClasses,actualObjectClasses);
}

</code></pre>

<br>
<pre class="type-4 type-12 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultipleServiceInstancesAndTypes() throws Exception {
  Bundle mediatorBundle=EasyMock.createMock(Bundle.class);
  EasyMock.expect(mediatorBundle.getBundleId()).andReturn(42l).anyTimes();
  EasyMock.replay(mediatorBundle);
  BaseActivator activator=new BaseActivator(){
    @Override public void start(    BundleContext context) throws Exception {
    }
  }
;
  ProviderBundleTrackerCustomizer customizer=new ProviderBundleTrackerCustomizer(activator,mediatorBundle);
  BundleContext implBC=mockSPIBundleContext4();
  Dictionary<String,String> headers=new Hashtable<String,String>();
  headers.put(SpiFlyConstants.REQUIRE_CAPABILITY,SpiFlyConstants.PROVIDER_REQUIREMENT);
  headers.put(SpiFlyConstants.PROVIDE_CAPABILITY,SpiFlyConstants.SERVICELOADER_CAPABILITY_NAMESPACE + "; " + SpiFlyConstants.SERVICELOADER_CAPABILITY_NAMESPACE+ "=org.apache.aries.mytest.MySPI,"+ SpiFlyConstants.SERVICELOADER_CAPABILITY_NAMESPACE+ "; "+ SpiFlyConstants.SERVICELOADER_CAPABILITY_NAMESPACE+ "=org.apache.aries.mytest.MySPI2");
  Bundle implBundle=mockSPIBundle4(implBC,headers);
  List<ServiceRegistration> registrations=customizer.addingBundle(implBundle,null);
  assertEquals(3,registrations.size());
  boolean foundA=false, foundB=false, foundC=false;
  for (  ServiceRegistration sreg : registrations) {
    ServiceReference sref=sreg.getReference();
    String objectClassName=((String[])sref.getProperty(Constants.OBJECTCLASS))[0];
    String serviceImplClassName=(String)sref.getProperty(SpiFlyConstants.PROVIDER_IMPLCLASS_PROPERTY);
    if (MySPIImpl4a.class.getName().equals(serviceImplClassName)) {
      assertEquals("org.apache.aries.mytest.MySPI",objectClassName);
      MySPI svc=(MySPI)implBC.getService(sreg.getReference());
      assertEquals("impl4a",svc.someMethod(""));
      foundA=true;
    }
 else     if (MySPIImpl4b.class.getName().equals(serviceImplClassName)) {
      assertEquals("org.apache.aries.mytest.MySPI2",objectClassName);
      MySPI2 svc=(MySPI2)implBC.getService(sreg.getReference());
      assertEquals("impl4b",svc.someMethod(""));
      foundB=true;
    }
 else     if (MySPIImpl4c.class.getName().equals(serviceImplClassName)) {
      assertEquals("org.apache.aries.mytest.MySPI2",objectClassName);
      MySPI2 svc=(MySPI2)implBC.getService(sreg.getReference());
      assertEquals("impl4c",svc.someMethod(""));
      foundC=true;
    }
  }
  assertTrue(foundA);
  assertTrue(foundB);
  assertTrue(foundC);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.spifly.dynamic.ClientWeavingHookGenericCapabilityTest </h4><pre class="type-4 type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHeadersFromFragment() throws Exception {
  Bundle providerBundle=mockProviderBundle("impl1",1);
  activator.registerProviderBundle("org.apache.aries.mytest.MySPI",providerBundle,new HashMap<String,Object>());
  Dictionary<String,String> fragmentConsumerHeaders=new Hashtable<String,String>();
  fragmentConsumerHeaders.put(SpiFlyConstants.REQUIRE_CAPABILITY,SpiFlyConstants.CLIENT_REQUIREMENT);
  Bundle fragment=EasyMock.createMock(Bundle.class);
  EasyMock.expect(fragment.getHeaders()).andReturn(fragmentConsumerHeaders).anyTimes();
  EasyMock.replay(fragment);
  BundleRevision frev=EasyMock.createMock(BundleRevision.class);
  EasyMock.expect(frev.getBundle()).andReturn(fragment).anyTimes();
  EasyMock.replay(frev);
  BundleRequirement req=EasyMock.createMock(BundleRequirement.class);
  EasyMock.expect(req.getRevision()).andReturn(frev).anyTimes();
  EasyMock.replay(req);
  BundleWire wire=EasyMock.createMock(BundleWire.class);
  EasyMock.expect(wire.getRequirement()).andReturn(req).anyTimes();
  EasyMock.replay(wire);
  List<BundleWire> wires=Collections.singletonList(wire);
  BundleWiring wiring=EasyMock.createMock(BundleWiring.class);
  EasyMock.expect(wiring.getProvidedWires("osgi.wiring.host")).andReturn(wires).anyTimes();
  EasyMock.replay(wiring);
  BundleRevision rev=EasyMock.createMock(BundleRevision.class);
  EasyMock.expect(rev.getWiring()).andReturn(wiring).anyTimes();
  EasyMock.replay(rev);
  Bundle consumerBundle=mockConsumerBundle(new Hashtable<String,String>(),rev,providerBundle);
  activator.addConsumerWeavingData(consumerBundle,SpiFlyConstants.REQUIRE_CAPABILITY);
  Bundle spiFlyBundle=mockSpiFlyBundle("spifly",Version.parseVersion("1.9.4"),consumerBundle,providerBundle);
  WeavingHook wh=new ClientWeavingHook(spiFlyBundle.getBundleContext(),activator);
  URL clsUrl=getClass().getResource("TestClient.class");
  Assert.assertNotNull("Precondition",clsUrl);
  String clientClassName="org.apache.aries.spifly.dynamic.TestClient";
  WovenClass wc=new MyWovenClass(clsUrl,clientClassName,consumerBundle);
  Assert.assertEquals("Precondition",0,wc.getDynamicImports().size());
  wh.weave(wc);
  Assert.assertEquals(1,wc.getDynamicImports().size());
  String di1="org.apache.aries.spifly;bundle-symbolic-name=spifly;bundle-version=1.9.4";
  String di2="org.apache.aries.spifly;bundle-version=1.9.4;bundle-symbolic-name=spifly";
  String di=wc.getDynamicImports().get(0);
  Assert.assertTrue("Weaving should have added a dynamic import",di1.equals(di) || di2.equals(di));
  Class<?> cls=wc.getDefinedClass();
  Method method=cls.getMethod("test",new Class[]{String.class});
  Object result=method.invoke(cls.newInstance(),"hello");
  Assert.assertEquals(Collections.singleton("olleh"),result);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-13 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTCCLResetting() throws Exception {
  ClassLoader cl=new URLClassLoader(new URL[]{});
  Thread.currentThread().setContextClassLoader(cl);
  Assert.assertSame("Precondition",cl,Thread.currentThread().getContextClassLoader());
  Dictionary<String,String> consumerHeaders=new Hashtable<String,String>();
  consumerHeaders.put(SpiFlyConstants.REQUIRE_CAPABILITY,SpiFlyConstants.CLIENT_REQUIREMENT);
  Bundle providerBundle=mockProviderBundle("impl1",1);
  activator.registerProviderBundle("org.apache.aries.mytest.MySPI",providerBundle,new HashMap<String,Object>());
  Bundle consumerBundle=mockConsumerBundle(consumerHeaders,providerBundle);
  activator.addConsumerWeavingData(consumerBundle,SpiFlyConstants.REQUIRE_CAPABILITY);
  Bundle spiFlyBundle=mockSpiFlyBundle("spifly",Version.parseVersion("1.9.4"),consumerBundle,providerBundle);
  WeavingHook wh=new ClientWeavingHook(spiFlyBundle.getBundleContext(),activator);
  URL clsUrl=getClass().getResource("TestClient.class");
  Assert.assertNotNull("Precondition",clsUrl);
  String clientClassName="org.apache.aries.spifly.dynamic.TestClient";
  WovenClass wc=new MyWovenClass(clsUrl,clientClassName,consumerBundle);
  Assert.assertEquals("Precondition",0,wc.getDynamicImports().size());
  wh.weave(wc);
  Assert.assertEquals(1,wc.getDynamicImports().size());
  String di1="org.apache.aries.spifly;bundle-symbolic-name=spifly;bundle-version=1.9.4";
  String di2="org.apache.aries.spifly;bundle-version=1.9.4;bundle-symbolic-name=spifly";
  String di=wc.getDynamicImports().get(0);
  Assert.assertTrue("Weaving should have added a dynamic import",di1.equals(di) || di2.equals(di));
  Class<?> cls=wc.getDefinedClass();
  Method method=cls.getMethod("test",new Class[]{String.class});
  method.invoke(cls.newInstance(),"hi there");
  Assert.assertSame(cl,Thread.currentThread().getContextClassLoader());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicServiceLoaderUsage() throws Exception {
  Dictionary<String,String> consumerHeaders=new Hashtable<String,String>();
  consumerHeaders.put(SpiFlyConstants.REQUIRE_CAPABILITY,SpiFlyConstants.CLIENT_REQUIREMENT);
  Bundle providerBundle=mockProviderBundle("impl1",1);
  activator.registerProviderBundle("org.apache.aries.mytest.MySPI",providerBundle,new HashMap<String,Object>());
  Bundle consumerBundle=mockConsumerBundle(consumerHeaders,providerBundle);
  activator.addConsumerWeavingData(consumerBundle,SpiFlyConstants.REQUIRE_CAPABILITY);
  Bundle spiFlyBundle=mockSpiFlyBundle("spifly",Version.parseVersion("1.9.4"),consumerBundle,providerBundle);
  WeavingHook wh=new ClientWeavingHook(spiFlyBundle.getBundleContext(),activator);
  URL clsUrl=getClass().getResource("TestClient.class");
  Assert.assertNotNull("Precondition",clsUrl);
  String clientClassName="org.apache.aries.spifly.dynamic.TestClient";
  WovenClass wc=new MyWovenClass(clsUrl,clientClassName,consumerBundle);
  Assert.assertEquals("Precondition",0,wc.getDynamicImports().size());
  wh.weave(wc);
  Assert.assertEquals(1,wc.getDynamicImports().size());
  String di1="org.apache.aries.spifly;bundle-symbolic-name=spifly;bundle-version=1.9.4";
  String di2="org.apache.aries.spifly;bundle-version=1.9.4;bundle-symbolic-name=spifly";
  String di=wc.getDynamicImports().get(0);
  Assert.assertTrue("Weaving should have added a dynamic import",di1.equals(di) || di2.equals(di));
  Class<?> cls=wc.getDefinedClass();
  Method method=cls.getMethod("test",new Class[]{String.class});
  Object result=method.invoke(cls.newInstance(),"hello");
  Assert.assertEquals(Collections.singleton("olleh"),result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.spifly.dynamic.ClientWeavingHookOSGi43Test </h4><pre class="type-4 type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicServiceLoaderUsageWithClassLoaderFromBundleRevision() throws Exception {
  Dictionary<String,String> consumerHeaders=new Hashtable<String,String>();
  consumerHeaders.put(SpiFlyConstants.SPI_CONSUMER_HEADER,"*");
  Bundle providerBundle=mockProviderBundle("impl1",1);
  activator.registerProviderBundle("org.apache.aries.mytest.MySPI",providerBundle,new HashMap<String,Object>());
  Bundle consumerBundle=mockConsumerBundle(consumerHeaders,providerBundle);
  activator.addConsumerWeavingData(consumerBundle,SpiFlyConstants.SPI_CONSUMER_HEADER);
  Bundle spiFlyBundle=mockSpiFlyBundle("spifly",Version.parseVersion("1.9.4"),consumerBundle,providerBundle);
  WeavingHook wh=new ClientWeavingHook(spiFlyBundle.getBundleContext(),activator);
  URL clsUrl=getClass().getResource("TestClient.class");
  Assert.assertNotNull("Precondition",clsUrl);
  String clientClassName="org.apache.aries.spifly.dynamic.TestClient";
  WovenClass wc=new MyWovenClass(clsUrl,clientClassName,consumerBundle);
  Assert.assertEquals("Precondition",0,wc.getDynamicImports().size());
  wh.weave(wc);
  Assert.assertEquals(1,wc.getDynamicImports().size());
  String di1="org.apache.aries.spifly;bundle-symbolic-name=spifly;bundle-version=1.9.4";
  String di2="org.apache.aries.spifly;bundle-version=1.9.4;bundle-symbolic-name=spifly";
  String di=wc.getDynamicImports().get(0);
  Assert.assertTrue("Weaving should have added a dynamic import",di1.equals(di) || di2.equals(di));
  Class<?> cls=wc.getDefinedClass();
  Method method=cls.getMethod("test",new Class[]{String.class});
  Object result=method.invoke(cls.newInstance(),"hello");
  Assert.assertEquals(Collections.singleton("olleh"),result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.spifly.dynamic.ClientWeavingHookTest </h4><pre class="type-4 type-3 type-7 type-13 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTCCLResetting() throws Exception {
  ClassLoader cl=new URLClassLoader(new URL[]{});
  Thread.currentThread().setContextClassLoader(cl);
  Assert.assertSame("Precondition",cl,Thread.currentThread().getContextClassLoader());
  Dictionary<String,String> consumerHeaders=new Hashtable<String,String>();
  consumerHeaders.put(SpiFlyConstants.SPI_CONSUMER_HEADER,"*");
  Bundle providerBundle=mockProviderBundle("impl1",1);
  activator.registerProviderBundle("org.apache.aries.mytest.MySPI",providerBundle,new HashMap<String,Object>());
  Bundle consumerBundle=mockConsumerBundle(consumerHeaders,providerBundle);
  activator.addConsumerWeavingData(consumerBundle,SpiFlyConstants.SPI_CONSUMER_HEADER);
  Bundle spiFlyBundle=mockSpiFlyBundle("spifly",Version.parseVersion("1.9.4"),consumerBundle,providerBundle);
  WeavingHook wh=new ClientWeavingHook(spiFlyBundle.getBundleContext(),activator);
  URL clsUrl=getClass().getResource("TestClient.class");
  Assert.assertNotNull("Precondition",clsUrl);
  String clientClassName="org.apache.aries.spifly.dynamic.TestClient";
  WovenClass wc=new MyWovenClass(clsUrl,clientClassName,consumerBundle);
  Assert.assertEquals("Precondition",0,wc.getDynamicImports().size());
  wh.weave(wc);
  Assert.assertEquals(1,wc.getDynamicImports().size());
  String di1="org.apache.aries.spifly;bundle-symbolic-name=spifly;bundle-version=1.9.4";
  String di2="org.apache.aries.spifly;bundle-version=1.9.4;bundle-symbolic-name=spifly";
  String di=wc.getDynamicImports().get(0);
  Assert.assertTrue("Weaving should have added a dynamic import",di1.equals(di) || di2.equals(di));
  Class<?> cls=wc.getDefinedClass();
  Method method=cls.getMethod("test",new Class[]{String.class});
  method.invoke(cls.newInstance(),"hi there");
  Assert.assertSame(cl,Thread.currentThread().getContextClassLoader());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicServiceLoaderUsage() throws Exception {
  Dictionary<String,String> consumerHeaders=new Hashtable<String,String>();
  consumerHeaders.put(SpiFlyConstants.SPI_CONSUMER_HEADER,"*");
  Bundle providerBundle=mockProviderBundle("impl1",1);
  activator.registerProviderBundle("org.apache.aries.mytest.MySPI",providerBundle,new HashMap<String,Object>());
  Bundle consumerBundle=mockConsumerBundle(consumerHeaders,providerBundle);
  activator.addConsumerWeavingData(consumerBundle,SpiFlyConstants.SPI_CONSUMER_HEADER);
  Bundle spiFlyBundle=mockSpiFlyBundle("spifly",Version.parseVersion("1.9.4"),consumerBundle,providerBundle);
  WeavingHook wh=new ClientWeavingHook(spiFlyBundle.getBundleContext(),activator);
  URL clsUrl=getClass().getResource("TestClient.class");
  Assert.assertNotNull("Precondition",clsUrl);
  String clientClassName="org.apache.aries.spifly.dynamic.TestClient";
  WovenClass wc=new MyWovenClass(clsUrl,clientClassName,consumerBundle);
  Assert.assertEquals("Precondition",0,wc.getDynamicImports().size());
  wh.weave(wc);
  Assert.assertEquals(1,wc.getDynamicImports().size());
  String di1="org.apache.aries.spifly;bundle-symbolic-name=spifly;bundle-version=1.9.4";
  String di2="org.apache.aries.spifly;bundle-version=1.9.4;bundle-symbolic-name=spifly";
  String di=wc.getDynamicImports().get(0);
  Assert.assertTrue("Weaving should have added a dynamic import",di1.equals(di) || di2.equals(di));
  Class<?> cls=wc.getDefinedClass();
  Method method=cls.getMethod("test",new Class[]{String.class});
  Object result=method.invoke(cls.newInstance(),"hello");
  Assert.assertEquals(Collections.singleton("olleh"),result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.spifly.statictool.ConsumerTest </h4><pre class="type-4 type-3 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConsumerBundle() throws Exception {
  String testClassFileName=TestClass.class.getName().replace('.','/') + ".class";
  URL testClassURL=getClass().getResource("/" + testClassFileName);
  String test2ClassFileName=Test2Class.class.getName().replace('.','/') + ".class";
  URL test2ClassURL=getClass().getResource("/" + test2ClassFileName);
  String test3ClassFileName=Test3Class.class.getName().replace('.','/') + ".class";
  URL test3ClassURL=getClass().getResource("/" + test3ClassFileName);
  File jarFile=new File(System.getProperty("java.io.tmpdir") + "/testjar_" + System.currentTimeMillis()+ ".jar");
  File expectedFile=null;
  try {
    Manifest mf=new Manifest();
    Attributes mainAttributes=mf.getMainAttributes();
    mainAttributes.putValue("Manifest-Version","1.0");
    mainAttributes.putValue("Bundle-ManifestVersion","2.0");
    mainAttributes.putValue("Bundle-SymbolicName","testbundle");
    mainAttributes.putValue("Foo","Bar Bar");
    mainAttributes.putValue(SpiFlyConstants.SPI_CONSUMER_HEADER,Test2Class.class.getName() + "#getTCCL()");
    JarOutputStream jos=new JarOutputStream(new FileOutputStream(jarFile),mf);
    jos.putNextEntry(new ZipEntry(testClassFileName));
    Streams.pump(testClassURL.openStream(),jos);
    jos.putNextEntry(new ZipEntry(test2ClassFileName));
    Streams.pump(test2ClassURL.openStream(),jos);
    jos.putNextEntry(new ZipEntry(test3ClassFileName));
    Streams.pump(test3ClassURL.openStream(),jos);
    jos.close();
    Main.main(jarFile.getCanonicalPath());
    expectedFile=new File(jarFile.getParent(),jarFile.getName().replaceAll("[.]jar","_spifly.jar"));
    Assert.assertTrue("A processed separate bundle should have been created",expectedFile.exists());
    JarFile transformedJarFile=new JarFile(expectedFile);
    Manifest expectedMF=transformedJarFile.getManifest();
    Assert.assertEquals("1.0",expectedMF.getMainAttributes().getValue("Manifest-Version"));
    Assert.assertEquals("2.0",expectedMF.getMainAttributes().getValue("Bundle-ManifestVersion"));
    Assert.assertEquals("testbundle",expectedMF.getMainAttributes().getValue("Bundle-SymbolicName"));
    Assert.assertEquals("Bar Bar",expectedMF.getMainAttributes().getValue("Foo"));
    Assert.assertEquals("org.apache.aries.spifly;version=\"[1.0.0,1.1.0)\"",expectedMF.getMainAttributes().getValue("Import-Package"));
    Assert.assertNull(expectedMF.getMainAttributes().get(SpiFlyConstants.SPI_CONSUMER_HEADER));
    JarFile initialJarFile=new JarFile(jarFile);
    byte[] orgBytes=Streams.suck(initialJarFile.getInputStream(new ZipEntry(testClassFileName)));
    byte[] transBytes=Streams.suck(transformedJarFile.getInputStream(new ZipEntry(testClassFileName)));
    Assert.assertFalse("The transformed class should be different",Arrays.equals(orgBytes,transBytes));
    byte[] orgBytes2=Streams.suck(initialJarFile.getInputStream(new ZipEntry(test2ClassFileName)));
    byte[] nonTransBytes2=Streams.suck(transformedJarFile.getInputStream(new ZipEntry(test2ClassFileName)));
    Assert.assertArrayEquals(orgBytes2,nonTransBytes2);
    byte[] orgBytes3=Streams.suck(initialJarFile.getInputStream(new ZipEntry(test3ClassFileName)));
    byte[] nonTransBytes3=Streams.suck(transformedJarFile.getInputStream(new ZipEntry(test3ClassFileName)));
    Assert.assertArrayEquals(orgBytes3,nonTransBytes3);
    initialJarFile.close();
    transformedJarFile.close();
  }
  finally {
    jarFile.delete();
    if (expectedFile != null)     expectedFile.delete();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.spifly.statictool.MainTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testDelTree() throws IOException {
  URL jarURL=getClass().getResource("/testjar.jar");
  File jarFile=new File(jarURL.getFile());
  File tempDir=new File(System.getProperty("java.io.tmpdir") + "/testjar_" + System.currentTimeMillis());
  assertFalse("Precondition",tempDir.exists());
  Main.unJar(jarFile,tempDir);
  assertTrue(tempDir.exists());
  Main.delTree(tempDir);
  assertFalse(tempDir.exists());
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testUnJarReJar() throws Exception {
  URL jarURL=getClass().getResource("/testjar.jar");
  File jarFile=new File(jarURL.getFile());
  File tempDir=new File(System.getProperty("java.io.tmpdir") + "/testjar_" + System.currentTimeMillis());
  try {
    Manifest manifest=Main.unJar(jarFile,tempDir);
    assertStreams(new File(tempDir,"META-INF/MANIFEST.MF"),"jar:" + jarURL + "!/META-INF/MANIFEST.MF");
    assertStreams(new File(tempDir,"A text File with no content"),"jar:" + jarURL + "!/A text File with no content");
    assertStreams(new File(tempDir,"dir/Main.class"),"jar:" + jarURL + "!/dir/Main.class");
    assertStreams(new File(tempDir,"dir/dir 2/a.txt"),"jar:" + jarURL + "!/dir/dir 2/a.txt");
    assertStreams(new File(tempDir,"dir/dir 2/b.txt"),"jar:" + jarURL + "!/dir/dir 2/b.txt");
    Assert.assertTrue(new File(tempDir,"dir/dir.3").exists());
    File copiedFile=new File(jarFile.getAbsolutePath() + ".copy");
    Main.jar(copiedFile,tempDir,manifest);
    URL copyURL=copiedFile.toURI().toURL();
    assertStreams("jar:" + copyURL + "!/META-INF/MANIFEST.MF","jar:" + jarURL + "!/META-INF/MANIFEST.MF");
    assertStreams("jar:" + copyURL + "!/A text File with no content","jar:" + jarURL + "!/A text File with no content");
    assertStreams("jar:" + copyURL + "!/dir/Main.class","jar:" + jarURL + "!/dir/Main.class");
    assertStreams("jar:" + copyURL + "!/dir/dir 2/a.txt","jar:" + jarURL + "!/dir/dir 2/a.txt");
    assertStreams("jar:" + copyURL + "!/dir/dir 2/b.txt","jar:" + jarURL + "!/dir/dir 2/b.txt");
  }
  finally {
    Main.delTree(tempDir);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.spifly.statictool.RequirementTest </h4><pre class="type-4 type-3 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConsumerBundle() throws Exception {
  String testClassFileName=TestClass.class.getName().replace('.','/') + ".class";
  URL testClassURL=getClass().getResource("/" + testClassFileName);
  String test2ClassFileName=Test2Class.class.getName().replace('.','/') + ".class";
  URL test2ClassURL=getClass().getResource("/" + test2ClassFileName);
  String test3ClassFileName=Test3Class.class.getName().replace('.','/') + ".class";
  URL test3ClassURL=getClass().getResource("/" + test3ClassFileName);
  File jarFile=new File(System.getProperty("java.io.tmpdir") + "/testjar_" + System.currentTimeMillis()+ ".jar");
  File expectedFile=null;
  try {
    Manifest mf=new Manifest();
    Attributes mainAttributes=mf.getMainAttributes();
    mainAttributes.putValue("Manifest-Version","1.0");
    mainAttributes.putValue("Bundle-ManifestVersion","2.0");
    mainAttributes.putValue("Bundle-SymbolicName","testbundle");
    mainAttributes.putValue("Foo","Bar Bar");
    mainAttributes.putValue("Import-Package","org.foo.bar");
    mainAttributes.putValue(SpiFlyConstants.REQUIRE_CAPABILITY,"osgi.serviceloader; filter:=\"(osgi.serviceloader=org.apache.aries.spifly.mysvc.SPIProvider)\";cardinality:=multiple, " + "osgi.extender; filter:=\"(osgi.extender=osgi.serviceloader.processor)\"");
    JarOutputStream jos=new JarOutputStream(new FileOutputStream(jarFile),mf);
    jos.putNextEntry(new ZipEntry(testClassFileName));
    Streams.pump(testClassURL.openStream(),jos);
    jos.putNextEntry(new ZipEntry(test2ClassFileName));
    Streams.pump(test2ClassURL.openStream(),jos);
    jos.putNextEntry(new ZipEntry(test3ClassFileName));
    Streams.pump(test3ClassURL.openStream(),jos);
    jos.close();
    Main.main(jarFile.getCanonicalPath());
    expectedFile=new File(jarFile.getParent(),jarFile.getName().replaceAll("[.]jar","_spifly.jar"));
    Assert.assertTrue("A processed separate bundle should have been created",expectedFile.exists());
    JarFile transformedJarFile=new JarFile(expectedFile);
    Manifest actualMF=transformedJarFile.getManifest();
    Assert.assertEquals("1.0",actualMF.getMainAttributes().getValue("Manifest-Version"));
    Assert.assertEquals("2.0",actualMF.getMainAttributes().getValue("Bundle-ManifestVersion"));
    Assert.assertEquals("testbundle",actualMF.getMainAttributes().getValue("Bundle-SymbolicName"));
    Assert.assertEquals("Bar Bar",actualMF.getMainAttributes().getValue("Foo"));
    Assert.assertEquals("osgi.serviceloader; filter:=\"(osgi.serviceloader=org.apache.aries.spifly.mysvc.SPIProvider)\";cardinality:=multiple",actualMF.getMainAttributes().getValue(SpiFlyConstants.REQUIRE_CAPABILITY));
    Assert.assertNull("Should not generate this header when processing Require-Capability",actualMF.getMainAttributes().getValue(SpiFlyConstants.PROCESSED_SPI_CONSUMER_HEADER));
    String importPackage=actualMF.getMainAttributes().getValue("Import-Package");
    Assert.assertTrue("org.foo.bar,org.apache.aries.spifly;version=\"[1.0.0,1.1.0)\"".equals(importPackage) || "org.apache.aries.spifly;version=\"[1.0.0,1.1.0)\",org.foo.bar".equals(importPackage));
    JarFile initialJarFile=new JarFile(jarFile);
    byte[] orgBytes=Streams.suck(initialJarFile.getInputStream(new ZipEntry(testClassFileName)));
    byte[] nonTransBytes=Streams.suck(transformedJarFile.getInputStream(new ZipEntry(testClassFileName)));
    Assert.assertArrayEquals(orgBytes,nonTransBytes);
    byte[] orgBytes2=Streams.suck(initialJarFile.getInputStream(new ZipEntry(test2ClassFileName)));
    byte[] nonTransBytes2=Streams.suck(transformedJarFile.getInputStream(new ZipEntry(test2ClassFileName)));
    Assert.assertArrayEquals(orgBytes2,nonTransBytes2);
    byte[] orgBytes3=Streams.suck(initialJarFile.getInputStream(new ZipEntry(test3ClassFileName)));
    byte[] transBytes3=Streams.suck(transformedJarFile.getInputStream(new ZipEntry(test3ClassFileName)));
    Assert.assertFalse("The transformed class should be different",Arrays.equals(orgBytes3,transBytes3));
    initialJarFile.close();
    transformedJarFile.close();
  }
  finally {
    jarFile.delete();
    if (expectedFile != null)     expectedFile.delete();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.subsystem.core.archive.Aries1425Test </h4><pre class="type-4 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testToRequirement(){
  SubsystemContentHeader header=new SubsystemContentHeader(HEADER_1);
  Collection<SubsystemContentHeader.Clause> clauses=header.getClauses();
  assertEquals("Wrong size",3,clauses.size());
  Map<String,SubsystemContentHeader.Clause> map=new HashMap<String,SubsystemContentHeader.Clause>(3);
  for (  SubsystemContentHeader.Clause clause : clauses) {
    map.put(clause.toString(),clause);
  }
  Resource resource=new Resource(){
    @Override public List<Capability> getCapabilities(    String namespace){
      return Collections.emptyList();
    }
    @Override public List<Requirement> getRequirements(    String namespace){
      return Collections.emptyList();
    }
  }
;
  SubsystemContentHeader.Clause clause=map.get(BUNDLE_A);
  Requirement requirement=clause.toRequirement(resource);
  assertTrue("Wrong requirement",ResourceHelper.matches(requirement,new OsgiIdentityCapability(resource,BUNDLE_A,Version.emptyVersion,IdentityNamespace.TYPE_FRAGMENT)));
  assertTrue("Wrong requirement",ResourceHelper.matches(requirement,new OsgiIdentityCapability(resource,BUNDLE_A,Version.emptyVersion,IdentityNamespace.TYPE_BUNDLE)));
  clause=map.get(BUNDLE_B);
  requirement=clause.toRequirement(resource);
  assertFalse("Wrong requirement",ResourceHelper.matches(requirement,new OsgiIdentityCapability(resource,"bundle.b",Version.emptyVersion,IdentityNamespace.TYPE_FRAGMENT)));
  assertTrue("Wrong requirement",ResourceHelper.matches(requirement,new OsgiIdentityCapability(resource,"bundle.b",Version.emptyVersion,IdentityNamespace.TYPE_BUNDLE)));
  clause=map.get(BUNDLE_C);
  requirement=clause.toRequirement(resource);
  assertTrue("Wrong requirement",ResourceHelper.matches(requirement,new OsgiIdentityCapability(resource,"bundle.c",Version.emptyVersion,IdentityNamespace.TYPE_FRAGMENT)));
  assertFalse("Wrong requirement",ResourceHelper.matches(requirement,new OsgiIdentityCapability(resource,"bundle.c",Version.emptyVersion,IdentityNamespace.TYPE_BUNDLE)));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClauseToString(){
  Set<String> clauseStrs=new HashSet<String>(Arrays.asList(HEADER_1.split(",")));
  SubsystemContentHeader header=new SubsystemContentHeader(HEADER_1);
  Collection<SubsystemContentHeader.Clause> clauses=header.getClauses();
  assertEquals("Wrong size",3,clauses.size());
  for (  SubsystemContentHeader.Clause clause : clauses) {
    String clauseStr=clause.toString();
    assertTrue("Wrong clause",clauseStrs.remove(clauseStr));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.subsystem.core.archive.Aries1453Test </h4><pre class="type-4 type-3 type-7 type-13 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void shouldResolveFragmentHostWithVersionRangeAndMatchWithBundlesInThatRange(){
  FragmentHostHeader header=new FragmentHostHeader("host-bundle;bundle-version=\"[9.6.0,10)\"");
  FragmentHostRequirement requirement=new FragmentHostRequirement(header.getClauses().iterator().next(),null);
  FragmentHostCapability capability=new FragmentHostCapability(new BundleSymbolicNameHeader("host-bundle"),new BundleVersionHeader("9.6.1"),new Resource(){
    @Override public List<Capability> getCapabilities(    String namespace){
      return null;
    }
    @Override public List<Requirement> getRequirements(    String namespace){
      return null;
    }
  }
);
  String filterDirective=requirement.getDirectives().get(Namespace.REQUIREMENT_FILTER_DIRECTIVE);
  SimpleFilter simpleFilter=SimpleFilter.parse(filterDirective);
  CapabilitySet capabilitySet=new CapabilitySet(Arrays.asList(HostNamespace.HOST_NAMESPACE),true);
  capabilitySet.addCapability(capability);
  Set<Capability> capabilities=capabilitySet.match(simpleFilter,true);
  Assert.assertTrue(capabilities.size() == 1);
  Assert.assertSame(capabilities.iterator().next(),capability);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.subsystem.core.archive.AriesProvisionDependenciesHeaderTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testClauseGetValue(){
  assertTrue("resolve".equals(AriesProvisionDependenciesDirective.RESOLVE.getValue()));
  assertTrue("install".equals(AriesProvisionDependenciesDirective.INSTALL.getValue()));
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testClauseGetInstance(){
  assertTrue(AriesProvisionDependenciesDirective.getInstance("resolve") == AriesProvisionDependenciesDirective.RESOLVE);
  assertTrue(AriesProvisionDependenciesDirective.getInstance("install") == AriesProvisionDependenciesDirective.INSTALL);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.subsystem.core.internal.ResourceHelperTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testMandatoryDirectiveCaseSensitive(){
  Capability cap=new BasicCapability.Builder().namespace(PackageNamespace.PACKAGE_NAMESPACE).attribute(PackageNamespace.PACKAGE_NAMESPACE,"com.foo").attribute("a","b").attribute("bAr","c").attribute("c","d").directive(PackageNamespace.CAPABILITY_MANDATORY_DIRECTIVE,"bAr").resource(EasyMock.createNiceMock(Resource.class)).build();
  Requirement req=new BasicRequirement.Builder().namespace(PackageNamespace.PACKAGE_NAMESPACE).directive(PackageNamespace.REQUIREMENT_FILTER_DIRECTIVE,"(&(osgi.wiring.package=com.foo)(a=b)(baR=c)(c=d))").resource(EasyMock.createNiceMock(Resource.class)).build();
  assertFalse("Capability should not match requirement",ResourceHelper.matches(req,cap));
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testMandatoryDirectiveWithWhitespace(){
  Capability cap=new BasicCapability.Builder().namespace(PackageNamespace.PACKAGE_NAMESPACE).attribute(PackageNamespace.PACKAGE_NAMESPACE,"com.foo").attribute("a","b").attribute("b","c").attribute("c","d").directive(PackageNamespace.CAPABILITY_MANDATORY_DIRECTIVE,"\ra\n, c	").resource(EasyMock.createNiceMock(Resource.class)).build();
  Requirement req=new BasicRequirement.Builder().namespace(PackageNamespace.PACKAGE_NAMESPACE).directive(PackageNamespace.REQUIREMENT_FILTER_DIRECTIVE,"(&(osgi.wiring.package=com.foo)(a=b)(c=d))").resource(EasyMock.createNiceMock(Resource.class)).build();
  assertTrue("Capability should match requirement",ResourceHelper.matches(req,cap));
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testMandatoryDirectiveExportPackagePass(){
  Capability cap=new BasicCapability.Builder().namespace(PackageNamespace.PACKAGE_NAMESPACE).attribute(PackageNamespace.PACKAGE_NAMESPACE,"com.foo").attribute("a","b").attribute("b","c").attribute("c","d").directive(PackageNamespace.CAPABILITY_MANDATORY_DIRECTIVE,"a,c").resource(EasyMock.createNiceMock(Resource.class)).build();
  Requirement req=new BasicRequirement.Builder().namespace(PackageNamespace.PACKAGE_NAMESPACE).directive(PackageNamespace.REQUIREMENT_FILTER_DIRECTIVE,"(&(osgi.wiring.package=com.foo)(a=b)(c=d))").resource(EasyMock.createNiceMock(Resource.class)).build();
  assertTrue("Capability should match requirement",ResourceHelper.matches(req,cap));
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testMandatoryDirectiveExportPackageFail(){
  Capability cap=new BasicCapability.Builder().namespace(PackageNamespace.PACKAGE_NAMESPACE).attribute(PackageNamespace.PACKAGE_NAMESPACE,"com.foo").attribute("a","b").attribute("b","c").attribute("c","d").directive(PackageNamespace.CAPABILITY_MANDATORY_DIRECTIVE,"a,c").resource(EasyMock.createNiceMock(Resource.class)).build();
  Requirement req=new BasicRequirement.Builder().namespace(PackageNamespace.PACKAGE_NAMESPACE).directive(PackageNamespace.REQUIREMENT_FILTER_DIRECTIVE,"(&(osgi.wiring.package=com.foo)(a=b)(b=c))").resource(EasyMock.createNiceMock(Resource.class)).build();
  assertFalse("Capability should not match requirement",ResourceHelper.matches(req,cap));
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testMandatoryDirectiveAndNullFilterDirective(){
  Capability cap=new BasicCapability.Builder().namespace(PackageNamespace.PACKAGE_NAMESPACE).attribute(PackageNamespace.PACKAGE_NAMESPACE,"com.foo").attribute("a","b").attribute("b","c").attribute("c","d").directive(PackageNamespace.CAPABILITY_MANDATORY_DIRECTIVE,"b").resource(EasyMock.createNiceMock(Resource.class)).build();
  Requirement req=new BasicRequirement.Builder().namespace(PackageNamespace.PACKAGE_NAMESPACE).resource(EasyMock.createNiceMock(Resource.class)).build();
  assertFalse("Capability should not match requirement",ResourceHelper.matches(req,cap));
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testMandatoryDirectiveAbsent(){
  Capability cap=new BasicCapability.Builder().namespace(PackageNamespace.PACKAGE_NAMESPACE).attribute(PackageNamespace.PACKAGE_NAMESPACE,"com.foo").attribute("a","b").attribute("b","c").attribute("c","d").resource(EasyMock.createNiceMock(Resource.class)).build();
  Requirement req=new BasicRequirement.Builder().namespace(PackageNamespace.PACKAGE_NAMESPACE).directive(PackageNamespace.REQUIREMENT_FILTER_DIRECTIVE,"(&(osgi.wiring.package=com.foo)(a=b)(b=c))").resource(EasyMock.createNiceMock(Resource.class)).build();
  assertTrue("Capability should match requirement",ResourceHelper.matches(req,cap));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.subsystem.ctt.itests.SubsystemDependency_4ATest </h4><pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void verifyNoUnexpectedBundlesProvisioned() throws Exception {
  Bundle[] rootBundlesBefore=bundleContext.getBundles();
  Subsystem s=installSubsystemFromFile(APPLICATION_A);
  startSubsystem(s);
  Bundle[] rootBundlesAfter=bundleContext.getBundles();
  for (  Bundle b : rootBundlesAfter) {
    assertTrue("Bundle F should not have been provisioned!",!b.getSymbolicName().equals(BUNDLE_F));
    assertTrue("Bundle G should not have been provisioned!",!b.getSymbolicName().equals(BUNDLE_G));
  }
  checkNoNewBundles("SubsystemDependency_4ATest",rootBundlesBefore,rootBundlesAfter);
  stopSubsystem(s);
  uninstallSubsystem(s);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.subsystem.ctt.itests.SubsystemDependency_4BTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void verifyBundlesAandBinstalledIntoRootRegion() throws Exception {
  System.out.println("Into verifyBundlesAandBinstalledIntoRootRegion");
  Subsystem s=installSubsystemFromFile(APPLICATION_B);
  startSubsystem(s);
  Bundle[] bundles=bundleContext.getBundles();
  Collection<String> bundleNames=new ArrayList<String>();
  for (  Bundle b : bundles) {
    bundleNames.add(b.getSymbolicName());
  }
  assertTrue("Bundle A should have been provisioned to the root region",bundleNames.contains(BUNDLE_A));
  assertTrue("Bundle B should have been provisioned to the root region",bundleNames.contains(BUNDLE_B));
  stopSubsystem(s);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.subsystem.ctt.itests.SubsystemDependency_4DTest </h4><pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void verifyBundlesAandBNotInstalledInRootSubsystem() throws Exception {
  startSubsystem();
  Bundle[] bundles=bundleContext.getBundles();
  for (  Bundle b : bundles) {
    assertTrue("Bundle A should not have been provisioned!",!b.getSymbolicName().equals(BUNDLE_A));
    assertTrue("Bundle B should not have been provisioned!",!b.getSymbolicName().equals(BUNDLE_B));
  }
  stopSubsystem();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.subsystem.itests.BundleEventHookTest </h4><pre class="type-5 type-3 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNoDeadlockWhenSubsystemsInitializing() throws Exception {
  final Bundle bundle=getSubsystemCoreBundle();
  bundle.stop();
  final AtomicBoolean completed=new AtomicBoolean(false);
  final ExecutorService executor=Executors.newFixedThreadPool(2);
  try {
    bundleContext.addServiceListener(new ServiceListener(){
      @Override public void serviceChanged(      ServiceEvent event){
        Future<?> future=executor.submit(new Runnable(){
          public void run(){
            try {
              Bundle a=bundle.getBundleContext().installBundle(BUNDLE_A,new FileInputStream(BUNDLE_A));
              completed.set(true);
              a.uninstall();
            }
 catch (            Exception e) {
              e.printStackTrace();
            }
          }
        }
);
        try {
          future.get();
          completed.set(true);
        }
 catch (        Exception e) {
          e.printStackTrace();
        }
      }
    }
,"(&(objectClass=org.osgi.service.subsystem.Subsystem)(subsystem.id=0))");
    Future<?> future=executor.submit(new Runnable(){
      public void run(){
        try {
          bundle.start();
        }
 catch (        Exception e) {
          e.printStackTrace();
        }
      }
    }
);
    try {
      future.get(3,TimeUnit.SECONDS);
      assertTrue("Deadlock detected",completed.get());
    }
 catch (    TimeoutException e) {
      fail("Deadlock detected");
    }
  }
  finally {
    executor.shutdownNow();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.subsystem.itests.CustomContentHandlerTest </h4><pre class="type-12 type-5 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCustomContentHandler() throws Exception {
  for (  Bundle b : bundleContext.getBundles()) {
    if ("org.apache.aries.subsystem.itests.customcontent.bundleA".equals(b.getSymbolicName())) {
      fail("Precondition");
    }
  }
  SausagesContentHandler handler=new SausagesContentHandler();
  Dictionary<String,Object> props=new Hashtable<String,Object>();
  props.put(ContentHandler.CONTENT_TYPE_PROPERTY,"foo.sausages");
  ServiceRegistration<ContentHandler> reg=bundleContext.registerService(ContentHandler.class,handler,props);
  try {
    assertEquals("Precondition",0,handler.calls.size());
    Subsystem subsystem=installSubsystemFromFile("customContent.esa");
    try {
      assertEquals(Arrays.asList("install:customContent1 sausages = 1"),handler.calls);
      Collection<Resource> constituents=subsystem.getConstituents();
      assertEquals("The custom content should not show up as a subsystem constituent",1,constituents.size());
      boolean foundBundle=false;
      for (      Bundle b : bundleContext.getBundles()) {
        if ("org.apache.aries.subsystem.itests.customcontent.bundleA".equals(b.getSymbolicName())) {
          foundBundle=true;
        }
      }
      assertTrue(foundBundle);
      boolean foundBundleInConstituents=false;
      for (      Resource c : constituents) {
        for (        Capability idCap : c.getCapabilities(IdentityNamespace.IDENTITY_NAMESPACE)) {
          Object name=idCap.getAttributes().get(IdentityNamespace.IDENTITY_NAMESPACE);
          if ("org.apache.aries.subsystem.itests.customcontent.bundleA".equals(name))           foundBundleInConstituents=true;
        }
      }
      assertTrue(foundBundleInConstituents);
      handler.calls.clear();
      assertEquals(Subsystem.State.INSTALLED,subsystem.getState());
      subsystem.start();
      assertEquals(Arrays.asList("start:customContent1"),handler.calls);
      handler.calls.clear();
      assertEquals(Subsystem.State.ACTIVE,subsystem.getState());
      subsystem.stop();
      assertEquals(Arrays.asList("stop:customContent1"),handler.calls);
      assertEquals(Subsystem.State.RESOLVED,subsystem.getState());
    }
  finally {
      handler.calls.clear();
      subsystem.uninstall();
      assertEquals(Arrays.asList("uninstall:customContent1"),handler.calls);
      assertEquals(Subsystem.State.UNINSTALLED,subsystem.getState());
    }
  }
  finally {
    reg.unregister();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.subsystem.itests.DynamicImportTest </h4><pre class="type-4 type-5 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("rawtypes") @Test public void testDynamicPackageImportsAddedToSharingPolicyWhenNoImportPackageHeader() throws Exception {
  final AtomicBoolean weavingHookCalled=new AtomicBoolean(false);
  ServiceRegistration reg=bundleContext.registerService(WeavingHook.class,new WeavingHook(){
    @Override public void weave(    WovenClass wovenClass){
      if (BUNDLE_A.equals(wovenClass.getBundleWiring().getBundle().getSymbolicName())) {
        wovenClass.getDynamicImports().add("org.osgi.framework");
        weavingHookCalled.set(true);
      }
    }
  }
,null);
  try {
    Subsystem s=installSubsystemFromFile(APPLICATION_A);
    try {
      assertNull("Import-Package header should not exist",s.getSubsystemHeaders(null).get(Constants.IMPORT_PACKAGE));
      Bundle a=getConstituentAsBundle(s,BUNDLE_A,null,null);
      a.loadClass("Empty");
      assertTrue("Weaving hook not called",weavingHookCalled.get());
      try {
        a.loadClass("org.osgi.framework.Bundle");
      }
 catch (      Exception e) {
        fail("Woven dynamic package import not added to the region's sharing policy");
      }
    }
  finally {
      try {
        s.uninstall();
      }
 catch (      Exception e) {
      }
    }
  }
  finally {
    try {
      reg.unregister();
    }
 catch (    Exception e) {
    }
  }
}

</code></pre>

<br>
<pre class="type-5 type-3 type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void verifyThatDynamicImportNeedsHandling() throws Exception {
  Subsystem subsystem=installSubsystemFromFile("dynamicImport.esa");
  try {
    startSubsystem(subsystem);
    Bundle[] bundles=subsystem.getBundleContext().getBundles();
    for (    Bundle b : bundles) {
      System.out.println(b.getSymbolicName() + " -> " + b.getState());
    }
    fail("dynamicImport.esa started when we didn't expect it to");
  }
 catch (  SubsystemException sx) {
    Throwable cause=sx.getCause();
    assertTrue("BundleException expected",cause instanceof BundleException);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.subsystem.itests.ProvisionPolicyTest </h4><pre class="type-5 type-3 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFailInstallFeatureAcceptDependencies() throws Exception {
  Subsystem subsystem=null;
  try {
    subsystem=installSubsystemFromFile(FEATURE_A);
    fail("Feature with provision-policy:=acceptDependencies did not fail installation");
  }
 catch (  SubsystemException e) {
    assertTrue(e.getMessage().contains("Feature subsystems may not declare a provision-policy of acceptDependencies"));
  }
 finally {
    uninstallSubsystemSilently(subsystem);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.subsystem.itests.ResolutionTest </h4><pre class="type-5 type-3 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMissingBundleRequiredExecutionEnvironment() throws Exception {
  Subsystem applicationB=null;
  try {
    applicationB=installSubsystemFromFile(APPLICATION_B);
    fail("Missing BREE should result in installation failure");
  }
 catch (  Exception e) {
    e.printStackTrace();
    assertTrue("Installation failure should be due to resolution error",e.getCause() instanceof ResolutionException);
  }
 finally {
    uninstallSubsystemSilently(applicationB);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.subsystem.itests.RootSubsystemTest </h4><pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testDoNotStartExtraneousRootRegionBundles() throws Exception {
  bundleContext.installBundle(new File(BUNDLE_A).toURI().toURL().toString());
  getSubsystemCoreBundle().stop();
  getSubsystemCoreBundle().start();
  Bundle bundleA=context().getBundleByName(BUNDLE_A);
  assertTrue("Extraneous root region bundle should not be started",(bundleA.getState() & (Bundle.INSTALLED | Bundle.RESOLVED)) != 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.subsystem.itests.defect.Aries1425Test </h4><pre class="type-12 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeployedContentHeader() throws Exception {
  Subsystem applicationA=installSubsystemFromFile(APPLICATION_A);
  try {
    Map<String,String> headers=applicationA.getDeploymentHeaders();
    String header=headers.get(SubsystemConstants.DEPLOYED_CONTENT);
    DeployedContentHeader dch=new DeployedContentHeader(header);
    boolean foundClause=false;
    for (    DeployedContentHeader.Clause clause : dch.getClauses()) {
      if (BUNDLE_A.equals(clause.getSymbolicName())) {
        assertEquals("Wrong type",IdentityNamespace.TYPE_FRAGMENT,clause.getType());
        foundClause=true;
        break;
      }
    }
    assertTrue("Missing clause",foundClause);
  }
  finally {
    uninstallSubsystemSilently(applicationA);
  }
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testProvisionResourceHeader() throws Exception {
  Subsystem applicationA=installSubsystemFromFile(APPLICATION_A);
  try {
    Map<String,String> headers=applicationA.getDeploymentHeaders();
    String header=headers.get(SubsystemConstants.PROVISION_RESOURCE);
    assertFalse("Fragment content treated as dependency",header != null && header.contains(BUNDLE_A));
  }
  finally {
    uninstallSubsystemSilently(applicationA);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.subsystem.itests.defect.Aries1426Test </h4><pre class="type-4 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIncludeUnsatisfiedOptionalServiceDependencyInSharingPolicy() throws Exception {
  Subsystem applicationB=installSubsystemFromFile(APPLICATION_B);
  try {
    BundleContext context=getRootSubsystem().getBundleContext();
    Dictionary<String,String> properties=new Hashtable<String,String>();
    properties.put("a","b");
    ServiceRegistration registration=context.registerService(Object.class,new Object(),properties);
    try {
      context=applicationB.getBundleContext();
      Collection<ServiceReference> references=context.getServiceReferences(Object.class,"(a=b)");
      assertFalse("Service not visible",references.isEmpty());
    }
  finally {
      registration.unregister();
    }
  }
  finally {
    uninstallSubsystemSilently(applicationB);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.subsystem.itests.defect.Aries1429Test </h4><pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMissingParentChildEdgeTolerated() throws Exception {
  final AtomicBoolean weavingHookCalled=new AtomicBoolean();
  final AtomicReference<FrameworkEvent> frameworkEvent=new AtomicReference<FrameworkEvent>();
  bundleContext.registerService(WeavingHook.class,new WeavingHook(){
    @Override public void weave(    WovenClass wovenClass){
      Bundle bundle=wovenClass.getBundleWiring().getBundle();
      if (BUNDLE_A.equals(bundle.getSymbolicName())) {
        wovenClass.getDynamicImports().add("com.acme.tnt");
        weavingHookCalled.set(true);
      }
    }
  }
,null);
  Subsystem applicationA=installSubsystemFromFile(APPLICATION_A);
  try {
    removeConnectionWithParent(applicationA);
    BundleContext context=applicationA.getBundleContext();
    Bundle bundleA=context.installBundle(BUNDLE_A,TinyBundles.bundle().add(getClass().getClassLoader().loadClass("a.A"),InnerClassStrategy.NONE).set(Constants.BUNDLE_SYMBOLICNAME,BUNDLE_A).build(TinyBundles.withBnd()));
    bundleContext.addFrameworkListener(new FrameworkListener(){
      @Override public void frameworkEvent(      FrameworkEvent event){
        if (FrameworkEvent.ERROR == event.getType() && getSubsystemCoreBundle().equals(event.getBundle())) {
          frameworkEvent.set(event);
          if (event.getThrowable() != null) {
            event.getThrowable().printStackTrace();
          }
        }
      }
    }
);
    bundleA.loadClass("a.A");
    assertTrue("Weaving hook not called",weavingHookCalled.get());
    Thread.sleep(1000);
    assertNull("An exception was thrown",frameworkEvent.get());
  }
  finally {
    uninstallSubsystemSilently(applicationA);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.subsystem.obr.internal.OsgiRequirementAdapterTest </h4><pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsMultipleFalse(){
  Requirement req=EasyMock.createNiceMock(Requirement.class);
  Map<String,String> directives=new HashMap<String,String>();
  directives.put(Namespace.REQUIREMENT_CARDINALITY_DIRECTIVE,Namespace.CARDINALITY_SINGLE);
  EasyMock.expect(req.getDirectives()).andReturn(directives);
  EasyMock.replay(req);
  OsgiRequirementAdapter adapter=new OsgiRequirementAdapter(req);
  assertFalse("Requirement was multiple",adapter.isMultiple());
}

</code></pre>

<br>
<pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsMultipleTrue(){
  Requirement req=EasyMock.createNiceMock(Requirement.class);
  Map<String,String> directives=new HashMap<String,String>();
  directives.put(Namespace.REQUIREMENT_CARDINALITY_DIRECTIVE,Namespace.CARDINALITY_MULTIPLE);
  EasyMock.expect(req.getDirectives()).andReturn(directives);
  EasyMock.replay(req);
  OsgiRequirementAdapter adapter=new OsgiRequirementAdapter(req);
  assertTrue("Requirement was not multiple",adapter.isMultiple());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.subsystem.scope.itests.BasicTest </h4><pre class="type-4 type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInstallBundleIntoRootScope() throws Exception {
  Scope scope=getScope();
  int previousSize=scope.getBundles().size();
  String location=getBundleLocation("tb-2.jar");
  URL url=new URL(location);
  InstallInfo tb2Info=new InstallInfo(location,url.openStream());
  ScopeUpdate scopeUpdate=scope.newScopeUpdate();
  scopeUpdate.getBundlesToInstall().add(tb2Info);
  assertTrue(scopeUpdate.commit());
  Bundle b=bundleContext.getBundle(location);
  assertNotNull(b);
  Collection<Bundle> bundles=scope.getBundles();
  assertEquals(previousSize + 1,bundles.size());
  assertTrue(bundles.contains(b));
}

</code></pre>

<br>
<pre class="type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateChildScope() throws Exception {
  Scope scope=getScope();
  String name="scope1";
  ScopeUpdate parent=scope.newScopeUpdate();
  ScopeUpdate child=parent.newChild(name);
  parent.getChildren().add(child);
  assertTrue(parent.commit());
  Collection<Scope> children=scope.getChildren();
  assertEquals(1,children.size());
  Scope feature1=null;
  for (  Scope s : children) {
    if (name.equals(s.getName())) {
      feature1=s;
      break;
    }
  }
  assertNotNull(feature1);
  assertEmpty(feature1.getBundles());
  assertEmpty(feature1.getChildren());
  assertEquals(1,feature1.getId());
  assertNull(feature1.getLocation());
  assertEquals(name,feature1.getName());
  assertEquals(scope,feature1.getParent());
  assertEmpty(feature1.getSharePolicies(SharePolicy.TYPE_EXPORT));
  assertEmpty(feature1.getSharePolicies(SharePolicy.TYPE_IMPORT));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.subsystem.scope.itests.BundleVisibilityTest </h4><pre class="type-4 type-3 type-7 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Install a bundle into the same scope as this one. Both bundles should be
 * able to see each other.
 * @throws Exception
 */
@Test public void test1() throws Exception {
  Scope scope=getScope();
  assertTrue(scope.getBundles().contains(bundleContext.getBundle()));
  ScopeUpdate scopeUpdate=scope.newScopeUpdate();
  String location=getBundleLocation("tb-4.jar");
  assertNull(bundleContext.getBundle(location));
  URL url=new URL(location);
  InstallInfo installInfo=new InstallInfo(location,url.openStream());
  scopeUpdate.getBundlesToInstall().add(installInfo);
  scopeUpdate.commit();
  Bundle bundle=bundleContext.getBundle(location);
  assertTrue(scope.getBundles().contains(bundle));
  bundle.start();
  ServiceReference<BundleProvider> bundleProviderRef=bundleContext.getServiceReference(BundleProvider.class);
  BundleProvider bundleProvider=bundleContext.getService(bundleProviderRef);
  assertTrue(bundleProvider.getBundles().contains(bundleContext.getBundle()));
  assertTrue(Arrays.asList(bundleContext.getBundles()).contains(bundle));
  assertNotNull(bundleContext.getBundle(bundle.getBundleId()));
  assertNotNull(bundleProvider.getBundle(bundle.getBundleId()));
  bundleContext.ungetService(bundleProviderRef);
  bundle.uninstall();
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Install a bundle into a different scope than this one. Neither bundle
 * should be able to see the other.
 * @throws Exception
 */
@Test public void test2() throws Exception {
  Scope scope=getScope();
  assertTrue(scope.getBundles().contains(bundleContext.getBundle()));
  ScopeUpdate scopeUpdate=scope.newScopeUpdate();
  ScopeUpdate child=scopeUpdate.newChild("tb4");
  scopeUpdate.getChildren().add(child);
  String location=getBundleLocation("tb-4.jar");
  assertNull(bundleContext.getBundle(location));
  URL url=new URL(location);
  InstallInfo installInfo=new InstallInfo(location,url.openStream());
  child.getBundlesToInstall().add(installInfo);
  addPackageImportPolicy("org.osgi.framework",child);
  addPackageImportPolicy("org.apache.aries.subsystem.scope",child);
  addPackageImportPolicy("org.apache.aries.subsystem.scope.itests",child);
  addServiceExportPolicy(BundleProvider.class,child);
  scopeUpdate.commit();
  Bundle bundle=bundleContext.getBundle(location);
  assertNotNull(bundle);
  Collection<Scope> childScopes=scope.getChildren();
  assertEquals(1,childScopes.size());
  assertTrue(childScopes.iterator().next().getBundles().contains(bundle));
  bundle.start();
  ServiceReference<BundleProvider> bundleProviderRef=bundleContext.getServiceReference(BundleProvider.class);
  BundleProvider bundleProvider=bundleContext.getService(bundleProviderRef);
  assertFalse(Arrays.asList(bundleContext.getBundles()).contains(bundle));
  assertNull(bundleContext.getBundle(bundle.getBundleId()));
  assertFalse(bundleProvider.getBundles().contains(bundleContext.getBundle()));
  assertNull(bundleProvider.getBundle(bundleContext.getBundle().getBundleId()));
  bundleContext.ungetService(bundleProviderRef);
  bundle.uninstall();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.subsystem.scope.itests.GetScopeServiceTest </h4><pre class="type-4 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * A new scope is created as a child of the root scope and the tb3 bundle
 * is added to it. The tb3 bundle should receive and be in the new scope.
 * The bundle is added directly as opposed to via an InstallInfo.
 * @throws Exception
 */
@Test public void test4() throws Exception {
  Scope scope=getScope();
  Bundle bundle=installBundle("tb-3.jar");
  ScopeUpdate scopeUpdate=scope.newScopeUpdate();
  scopeUpdate.getBundles().remove(bundle);
  ScopeUpdate child=scopeUpdate.newChild("tb3");
  scopeUpdate.getChildren().add(child);
  child.getBundles().add(bundle);
  addPackageImportPolicy("org.osgi.framework",child);
  addPackageImportPolicy("org.apache.aries.subsystem.scope",child);
  addPackageImportPolicy("org.apache.aries.subsystem.scope.itests",child);
  addServiceImportPolicy(Scope.class,child);
  addServiceExportPolicy(ScopeProvider.class,child);
  scopeUpdate.commit();
  bundle.start();
  ServiceReference<ScopeProvider> scopeProviderRef=bundleContext.getServiceReference(ScopeProvider.class);
  ScopeProvider scopeProvider=bundleContext.getService(scopeProviderRef);
  scope=scopeProvider.getScope();
  assertEquals("tb3",scope.getName());
  assertTrue(scope.getBundles().contains(bundle));
  bundleContext.ungetService(scopeProviderRef);
  bundle.uninstall();
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * The tb3 bundle should also be in and receive the root scope by default.
 * @throws Exception
 */
@Test public void test2() throws Exception {
  Bundle bundle=installBundle("tb-3.jar");
  bundle.start();
  ServiceReference<ScopeProvider> scopeProviderRef=bundleContext.getServiceReference(ScopeProvider.class);
  ScopeProvider scopeProvider=bundleContext.getService(scopeProviderRef);
  Scope scope=scopeProvider.getScope();
  assertEquals(getScope(),scope);
  assertTrue(scope.getBundles().contains(bundle));
  bundleContext.ungetService(scopeProviderRef);
  bundle.uninstall();
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * A new scope is created as a child of the root scope and the tb3 bundle
 * is added to it. The tb3 bundle should receive and be in the new scope.
 * @throws Exception
 */
@Test public void test3() throws Exception {
  Scope scope=getScope();
  ScopeUpdate scopeUpdate=scope.newScopeUpdate();
  ScopeUpdate child=scopeUpdate.newChild("tb3");
  scopeUpdate.getChildren().add(child);
  String location=getBundleLocation("tb-3.jar");
  URL url=new URL(location);
  InstallInfo installInfo=new InstallInfo(location,url.openStream());
  child.getBundlesToInstall().add(installInfo);
  addPackageImportPolicy("org.osgi.framework",child);
  addPackageImportPolicy("org.apache.aries.subsystem.scope",child);
  addPackageImportPolicy("org.apache.aries.subsystem.scope.itests",child);
  addServiceImportPolicy(Scope.class,child);
  addServiceExportPolicy(ScopeProvider.class,child);
  scopeUpdate.commit();
  Bundle bundle=bundleContext.getBundle(location);
  bundle.start();
  ServiceReference<ScopeProvider> scopeProviderRef=bundleContext.getServiceReference(ScopeProvider.class);
  ScopeProvider scopeProvider=bundleContext.getService(scopeProviderRef);
  scope=scopeProvider.getScope();
  assertEquals("tb3",scope.getName());
  assertTrue(scope.getBundles().contains(bundle));
  bundleContext.ungetService(scopeProviderRef);
  bundle.uninstall();
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * The test bundle should be in and receive the root scope by default. The
 * root scope will always have an ID of '0' and name of 'root'.
 * @throws Exception
 */
@Test public void test1() throws Exception {
  Scope scope=getScope();
  assertEquals(0,scope.getId());
  assertEquals("root",scope.getName());
  assertTrue(scope.getBundles().contains(bundleContext.getBundle()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.subsystem.scope.itests.MoveBundleTest </h4><pre class="type-3 type-7 type-2 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
/** 
 * Create two scopes off of the root scope with the following structure.
 * R
 * / \
 * S1   S2
 * Install a bundle using the test bundle's bundle context. This should add
 * the bundle to R since the test bundle is in R. Next, move the bundle 
 * into S1. Finally, move the bundle into S2.
 * @throws Exception
 */
@Test @Ignore public void test1() throws Exception {
  Bundle tb2=installBundle("tb-2.jar");
  Scope root=getScope();
  ScopeUpdate rootUpdate=root.newScopeUpdate();
  ScopeUpdate s1Update=rootUpdate.newChild("S1");
  ScopeUpdate s2Update=rootUpdate.newChild("S2");
  rootUpdate.getChildren().add(s1Update);
  rootUpdate.getChildren().add(s2Update);
  rootUpdate.commit();
  Scope s1=s1Update.getScope();
  Scope s2=s2Update.getScope();
  assertTrue(root.getBundles().contains(tb2));
  assertFalse(s1.getBundles().contains(tb2));
  assertFalse(s2.getBundles().contains(tb2));
  rootUpdate=root.newScopeUpdate();
  rootUpdate.getBundles().remove(tb2);
  s1Update=findChildUpdate("S1",rootUpdate);
  s1Update.getBundles().add(tb2);
  rootUpdate.commit();
  assertFalse(root.getBundles().contains(tb2));
  assertTrue(s1.getBundles().contains(tb2));
  assertFalse(s2.getBundles().contains(tb2));
  rootUpdate=root.newScopeUpdate();
  s1Update=findChildUpdate("S1",rootUpdate);
  s1Update.getBundles().remove(tb2);
  s2Update=findChildUpdate("S2",rootUpdate);
  s2Update.getBundles().add(tb2);
  rootUpdate.commit();
  assertFalse(root.getBundles().contains(tb2));
  assertFalse(s1.getBundles().contains(tb2));
  assertTrue(s2.getBundles().contains(tb2));
  tb2.uninstall();
}

</code></pre>

<br>
<pre class="type-5 type-3 type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Create one scope off of the root scope with the following structure. 
 * R
 * |
 * S
 * Install a bundle using the test bundle's bundle context. This should add 
 * the bundle to R since the test bundle is in R. Next, move the bundle into
 * S without removing it from R. This should result in an 
 * IllegalStateException. Finally, correct the error using the same 
 * ScopeUpdate objects and commit again. This should succeed, and the bundle
 * should now be in S.
 * @throws Exception
 */
@Test public void test2() throws Exception {
  Bundle tb2=installBundle("tb-2.jar");
  Scope root=getScope();
  ScopeUpdate rootUpdate=root.newScopeUpdate();
  ScopeUpdate sUpdate=rootUpdate.newChild("S");
  rootUpdate.getChildren().add(sUpdate);
  rootUpdate.commit();
  Scope s=sUpdate.getScope();
  assertTrue(root.getBundles().contains(tb2));
  assertFalse(s.getBundles().contains(tb2));
  rootUpdate=root.newScopeUpdate();
  sUpdate=findChildUpdate("S",rootUpdate);
  sUpdate.getBundles().add(tb2);
  try {
    rootUpdate.commit();
    fail();
  }
 catch (  IllegalStateException e) {
  }
  assertTrue(root.getBundles().contains(tb2));
  assertFalse(s.getBundles().contains(tb2));
  rootUpdate.getBundles().remove(tb2);
  rootUpdate.commit();
  assertFalse(root.getBundles().contains(tb2));
  assertTrue(s.getBundles().contains(tb2));
  tb2.uninstall();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.subsystem.scope.itests.PersistenceTest </h4><pre class="type-4 type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Create two scopes off of the root scope with the following structure.
 * R
 * / \
 * S1   S2
 * S1 contains bundle tb1, one import policy, and one export policy.
 * S2 contains bundle tb2 and two import policies.
 * This configuration should persist between restarts of the Scope Admin
 * bundle.
 * @throws Exception
 */
@Test public void test4() throws Exception {
  Scope root=getScope();
  ScopeUpdate rootUpdate=root.newScopeUpdate();
  ScopeUpdate s1Update=rootUpdate.newChild("S1");
  rootUpdate.getChildren().add(s1Update);
  ScopeUpdate s2Update=rootUpdate.newChild("S2");
  rootUpdate.getChildren().add(s2Update);
  s1Update.getBundlesToInstall().add(new InstallInfo(null,new URL(getBundleLocation("tb-1.jar"))));
  s2Update.getBundlesToInstall().add(new InstallInfo(null,new URL(getBundleLocation("tb-2.jar"))));
  addPackageImportPolicy("org.osgi.framework",s1Update);
  addPackageExportPolicy("org.apache.aries.subsystem.scope.itests.tb1",s1Update);
  addPackageImportPolicy("org.osgi.framework",s2Update);
  addPackageImportPolicy("org.apache.aries.subsystem.scope.itests.tb1",s2Update);
  assertTrue(rootUpdate.commit());
  root=getScope();
  assertEquals(2,root.getChildren().size());
  Scope s1=findChildScope("S1",root);
  Bundle tb1=findBundle("org.apache.aries.subsystem.scope.itests.tb1",s1);
  assertNotNull(tb1);
  assertTrue(s1.getBundles().contains(tb1));
  assertEquals(1,s1.getSharePolicies(SharePolicy.TYPE_IMPORT).get("osgi.wiring.package").size());
  assertEquals(1,s1.getSharePolicies(SharePolicy.TYPE_EXPORT).get("osgi.wiring.package").size());
  Scope s2=findChildScope("S2",root);
  Bundle tb2=findBundle("org.apache.aries.subsystem.scope.itests.tb2",s2);
  assertNotNull(tb2);
  assertTrue(s2.getBundles().contains(tb2));
  assertEquals(2,s2.getSharePolicies(SharePolicy.TYPE_IMPORT).get("osgi.wiring.package").size());
  Bundle scopeAdmin=findBundle("org.apache.aries.subsystem.scope.impl");
  assertNotNull(scopeAdmin);
  scopeAdmin.stop();
  scopeAdmin.start();
  root=getScope();
  assertEquals(2,root.getChildren().size());
  s1=findChildScope("S1",root);
  assertTrue(s1.getBundles().contains(tb1));
  assertEquals(1,s1.getSharePolicies(SharePolicy.TYPE_IMPORT).get("osgi.wiring.package").size());
  assertEquals(1,s1.getSharePolicies(SharePolicy.TYPE_EXPORT).get("osgi.wiring.package").size());
  s2=findChildScope("S2",root);
  assertTrue(s2.getBundles().contains(tb2));
  assertEquals(2,s2.getSharePolicies(SharePolicy.TYPE_IMPORT).get("osgi.wiring.package").size());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-1 type-2 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
/** 
 * A scope's persisted bundle data will become stale if bundles are 
 * installed or uninstalled while Scope Admin is not connected to the 
 * environment. This should be detected and dealt with.
 * @throws Exception
 */
@Test @Ignore public void test3() throws Exception {
  Scope scope=getScope();
  Bundle tb1=findBundle("org.apache.aries.subsystem.scope.itests.tb1",scope);
  assertNull(tb1);
  tb1=installBundle("tb-1.jar");
  assertTrue(scope.getBundles().contains(tb1));
  Bundle scopeAdmin=findBundle("org.apache.aries.subsystem.scope.impl");
  assertNotNull(scopeAdmin);
  scopeAdmin.stop();
  scopeAdmin.start();
  scope=getScope();
  assertTrue(scope.getBundles().contains(tb1));
  scopeAdmin.stop();
  tb1.uninstall();
  Bundle tb2=findBundle("org.apache.aries.subsystem.scope.itests.tb2",scope);
  assertNull(tb2);
  tb2=installBundle("tb-2.jar");
  scopeAdmin.start();
  scope=getScope();
  assertFalse(scope.getBundles().contains(tb1));
  assertTrue(scope.getBundles().contains(tb2));
  tb2.uninstall();
  assertFalse(scope.getBundles().contains(tb2));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.subsystem.scope.itests.ScopeAdminTest </h4><pre class="type-4 type-12 type-5 type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBundleServiceIsolation() throws Exception {
  assertNotNull("scope admin should not be null",scope);
  System.out.println("able to get scope admin service");
  bt=new BundleTracker(bundleContext,Bundle.INSTALLED | Bundle.UNINSTALLED | Bundle.ACTIVE,new BundleTrackerCustomizer(){
    public synchronized Object addingBundle(    Bundle bundle,    BundleEvent event){
      if (event == null) {
        System.out.println("ScopeAdminTest - adding Bundle: " + bundle.getSymbolicName() + " event: null");
      }
 else {
        System.out.println("ScopeAdminTest - adding Bundle: " + bundle.getSymbolicName() + " event: "+ event.getType());
        addEventCount++;
      }
      return bundle;
    }
    public synchronized void modifiedBundle(    Bundle bundle,    BundleEvent event,    Object object){
      if (event == null) {
        System.out.println("ScopeAdminTest - modifying Bundle: " + bundle.getSymbolicName() + " event: null");
      }
 else {
        System.out.println("ScopeAdminTest - modifying Bundle: " + bundle.getSymbolicName() + " event: "+ event.getType());
        modifyEventCount++;
      }
    }
    public synchronized void removedBundle(    Bundle bundle,    BundleEvent event,    Object object){
      if (event == null) {
        System.out.println("ScopeAdminTest - removing Bundle: " + bundle.getSymbolicName() + " event: null");
      }
 else {
        System.out.println("ScopeAdminTest - removing Bundle: " + bundle.getSymbolicName() + " event: "+ event.getType());
        removeEventCount++;
      }
    }
  }
);
  bt.open();
  ScopeUpdate su=scope.newScopeUpdate();
  ScopeUpdate childScopeUpdate=su.newChild("scope_test1");
  su.getChildren().add(childScopeUpdate);
  addPackageImportPolicy("org.osgi.framework",childScopeUpdate);
  addPackageImportPolicy("org.osgi.util.tracker",childScopeUpdate);
  InstallInfo info1=new InstallInfo("helloIsolation",new URL("mvn:org.apache.aries.subsystem/org.apache.aries.subsystem.example.helloIsolation/0.1-SNAPSHOT"));
  InstallInfo info2=new InstallInfo("helloIsolationRef",new URL("mvn:org.apache.aries.subsystem/org.apache.aries.subsystem.example.helloIsolationRef/0.1-SNAPSHOT"));
  List<InstallInfo> bundlesToInstall=childScopeUpdate.getBundlesToInstall();
  bundlesToInstall.add(info1);
  bundlesToInstall.add(info2);
  su.commit();
  assertEquals("add event count should be 0 since 0 bundles are installed in root scope",0,addEventCount);
  assertEquals("modify event count should be 0",0,modifyEventCount);
  assertEquals("remove event count should be 0",0,removeEventCount);
  Collection<Bundle> bundlesToStart=childScopeUpdate.getScope().getBundles();
  for (  Bundle b : bundlesToStart) {
    b.start();
  }
  assertEquals("add event count should be 0 since 0 bundles are installed in root scope",0,addEventCount);
  assertEquals("modify event count should be 0",0,modifyEventCount);
  assertEquals("remove event count should be 0",0,removeEventCount);
  try {
    ServiceReference sr=bundleContext.getServiceReference(HelloIsolation.class.getName());
    fail("should not be able to get the sr for HelloIsolation service");
  }
 catch (  Exception ex) {
  }
catch (  Error er) {
  }
  Bundle[] bundles=bundleContext.getBundles();
  for (  Bundle b : bundles) {
    System.out.println("Bundle is " + b.getBundleId() + ": "+ b.getSymbolicName());
    if (b.getSymbolicName().indexOf("org.apache.aries.subsystem.example.helloIsolation") > -1) {
      fail("bundles with name starts with org.apache.aries.subsystem.example.helloIsolation should be in a different scope");
    }
  }
  Collection<Scope> children=scope.getChildren();
  assertEquals(1,children.size());
  for (  Scope child : children) {
    if (child.getName().equals("scope_test1")) {
      Collection<Bundle> buns=child.getBundles();
      assertEquals(2,buns.size());
      assertEquals(0,child.getChildren().size());
      for (      Bundle b : buns) {
        assertTrue(b.getSymbolicName().indexOf("org.apache.aries.subsystem.example.helloIsolation") > -1);
      }
    }
  }
  URL url=new URL("mvn:org.apache.felix/org.apache.felix.fileinstall/2.0.8");
  bundleContext.installBundle("org.apache.felix.fileinstall-rootScope",url.openStream());
  assertEquals("add event count should be 1 since 1 bundles are installed",1,addEventCount);
  assertEquals("modify event count should be 0",0,modifyEventCount);
  assertEquals("remove event count should be 0",0,removeEventCount);
  su=scope.newScopeUpdate();
  Collection<ScopeUpdate> scopes=su.getChildren();
  childScopeUpdate=scopes.iterator().next();
  Scope childScopeAdmin=childScopeUpdate.getScope();
  assertEquals(scope,childScopeAdmin.getParent());
  scopes.remove(childScopeUpdate);
  su.commit();
  assertFalse(scope.getChildren().contains(childScopeAdmin));
  su=scope.newScopeUpdate();
  assertFalse(su.getChildren().contains(childScopeUpdate));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-3 type-7 type-1 type-8 type-2 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void testPackageSharingFromTestScope() throws Exception {
  assertNotNull("scope admin should not be null",scope);
  System.out.println("able to get scope admin service");
  ScopeUpdate su=scope.newScopeUpdate();
  ScopeUpdate childScopeUpdate=su.newChild("scope_test1");
  su.getChildren().add(childScopeUpdate);
  addPackageImportPolicy("org.osgi.framework",childScopeUpdate);
  addPackageImportPolicy("org.osgi.util.tracker",childScopeUpdate);
  Map<String,List<SharePolicy>> sharePolicies=childScopeUpdate.getSharePolicies(SharePolicy.TYPE_EXPORT);
  final Filter filter1=FrameworkUtil.createFilter("(&" + "(osgi.wiring.package=org.apache.aries.subsystem.example.helloIsolation)" + ")");
  final Filter filter2=FrameworkUtil.createFilter("(&" + "(scope.share.service=org.apache.aries.subsystem.example.helloIsolation.HelloIsolation)" + ")");
  List<SharePolicy> packagePolicies=sharePolicies.get(BundleRevision.PACKAGE_NAMESPACE);
  if (packagePolicies == null) {
    packagePolicies=new ArrayList<SharePolicy>();
    sharePolicies.put(BundleRevision.PACKAGE_NAMESPACE,packagePolicies);
  }
  packagePolicies.add(new SharePolicy(SharePolicy.TYPE_EXPORT,BundleRevision.PACKAGE_NAMESPACE,filter1));
  List<SharePolicy> servicePolicies=sharePolicies.get("scope.share.service");
  if (servicePolicies == null) {
    servicePolicies=new ArrayList<SharePolicy>();
    sharePolicies.put("scope.share.service",servicePolicies);
  }
  servicePolicies.add(new SharePolicy(SharePolicy.TYPE_EXPORT,"scope.share.service",filter2));
  InstallInfo info1=new InstallInfo("helloIsolation",new URL("mvn:org.apache.aries.subsystem/org.apache.aries.subsystem.example.helloIsolation/0.1-SNAPSHOT"));
  InstallInfo info2=new InstallInfo("helloIsolationRef",new URL("mvn:org.apache.aries.subsystem/org.apache.aries.subsystem.example.helloIsolationRef/0.1-SNAPSHOT"));
  List<InstallInfo> bundlesToInstall=childScopeUpdate.getBundlesToInstall();
  bundlesToInstall.add(info1);
  bundlesToInstall.add(info2);
  su.commit();
  Collection<Bundle> bundlesToStart=childScopeUpdate.getScope().getBundles();
  for (  Bundle b : bundlesToStart) {
    b.start();
  }
  URL url1=new URL("mvn:org.apache.aries.subsystem/org.apache.aries.subsystem.example.helloIsolationRef/0.1-SNAPSHOT");
  Bundle helloIsolationRef=bundleContext.installBundle("helloIsolationRef1-rootScope",url1.openStream());
  try {
    helloIsolationRef.start();
  }
 catch (  Exception ex) {
    fail("should be able to start helloIsolationRef by import packages from scope_test1");
  }
  helloIsolationRef.uninstall();
  su=scope.newScopeUpdate();
  Collection<ScopeUpdate> scopes=su.getChildren();
  childScopeUpdate=scopes.iterator().next();
  Scope childScopeAdmin=childScopeUpdate.getScope();
  assertEquals(scope,childScopeAdmin.getParent());
  scopes.remove(childScopeUpdate);
  su.commit();
  assertFalse(scope.getChildren().contains(childScopeAdmin));
  su=scope.newScopeUpdate();
  assertFalse(su.getChildren().contains(childScopeUpdate));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPackageSharingFromRootScope() throws Exception {
  URL url1=new URL("mvn:org.apache.aries.subsystem/org.apache.aries.subsystem.example.helloIsolation/0.1-SNAPSHOT");
  Bundle helloIsolation=bundleContext.installBundle("helloIsolation1-rootScope",url1.openStream());
  try {
    helloIsolation.start();
  }
 catch (  Exception ex) {
    fail("should be able to start helloIsolation");
  }
  ScopeUpdate su=scope.newScopeUpdate();
  ScopeUpdate childScopeUpdate=su.newChild("scope_test1");
  su.getChildren().add(childScopeUpdate);
  addPackageImportPolicy("org.osgi.framework",childScopeUpdate);
  Map<String,List<SharePolicy>> sharePolicies=childScopeUpdate.getSharePolicies(SharePolicy.TYPE_IMPORT);
  final Filter filter1=FrameworkUtil.createFilter("(&" + "(osgi.wiring.package=org.apache.aries.subsystem.example.helloIsolation)" + ")");
  final Filter filter2=FrameworkUtil.createFilter("(&" + "(scope.share.service=org.apache.aries.subsystem.example.helloIsolation.HelloIsolation)" + ")");
  List<SharePolicy> packagePolicies=sharePolicies.get(BundleRevision.PACKAGE_NAMESPACE);
  if (packagePolicies == null) {
    packagePolicies=new ArrayList<SharePolicy>();
    sharePolicies.put(BundleRevision.PACKAGE_NAMESPACE,packagePolicies);
  }
  packagePolicies.add(new SharePolicy(SharePolicy.TYPE_IMPORT,BundleRevision.PACKAGE_NAMESPACE,filter1));
  List<SharePolicy> servicePolicies=sharePolicies.get("scope.share.service");
  if (servicePolicies == null) {
    servicePolicies=new ArrayList<SharePolicy>();
    sharePolicies.put("scope.share.service",servicePolicies);
  }
  servicePolicies.add(new SharePolicy(SharePolicy.TYPE_IMPORT,"scope.share.service",filter2));
  InstallInfo info2=new InstallInfo("helloIsolationRef",new URL("mvn:org.apache.aries.subsystem/org.apache.aries.subsystem.example.helloIsolationRef/0.1-SNAPSHOT"));
  List<InstallInfo> bundlesToInstall=childScopeUpdate.getBundlesToInstall();
  bundlesToInstall.add(info2);
  su.commit();
  Collection<Bundle> bundlesToStart=childScopeUpdate.getScope().getBundles();
  for (  Bundle b : bundlesToStart) {
    try {
      b.start();
    }
 catch (    Exception ex) {
      ex.printStackTrace();
      fail("should be able to start helloIsolationRef in scope_test1");
    }
  }
  helloIsolation.uninstall();
  su=scope.newScopeUpdate();
  Collection<ScopeUpdate> scopes=su.getChildren();
  childScopeUpdate=scopes.iterator().next();
  Scope childScopeAdmin=childScopeUpdate.getScope();
  assertEquals(scope,childScopeAdmin.getParent());
  scopes.remove(childScopeUpdate);
  su.commit();
  assertFalse(scope.getChildren().contains(childScopeAdmin));
  su=scope.newScopeUpdate();
  assertFalse(su.getChildren().contains(childScopeUpdate));
}

</code></pre>

<br>
<pre class="type-5 type-3 type-2 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void testScopeAffinity() throws Exception {
  Scope scope1=createScope(scope,"scope_test1","mvn:org.apache.aries.subsystem/org.apache.aries.subsystem.example.helloIsolation/0.1-SNAPSHOT","0.3");
  Scope scope2=createScope(scope,"scope_test2","mvn:org.apache.aries.subsystem/org.apache.aries.subsystem.example.helloIsolation/0.1-SNAPSHOT","2.0");
  ScopeUpdate su=scope.newScopeUpdate();
  ScopeUpdate childScopeUpdate=su.newChild("scope_test3");
  su.getChildren().add(childScopeUpdate);
  addPackageImportPolicy("org.osgi.framework",childScopeUpdate);
  Scope scope3=childScopeUpdate.getScope();
  Map<String,List<SharePolicy>> sharePolicies=childScopeUpdate.getSharePolicies(SharePolicy.TYPE_IMPORT);
  final Filter filter1=FrameworkUtil.createFilter("(&" + "(osgi.wiring.package=org.apache.aries.subsystem.example.helloIsolation)" + ")");
  final Filter filter2=FrameworkUtil.createFilter("(&" + "(scope.share.service=org.apache.aries.subsystem.example.helloIsolation.HelloIsolation)" + ")");
  List<SharePolicy> packagePolicies=sharePolicies.get(BundleRevision.PACKAGE_NAMESPACE);
  if (packagePolicies == null) {
    packagePolicies=new ArrayList<SharePolicy>();
    sharePolicies.put(BundleRevision.PACKAGE_NAMESPACE,packagePolicies);
  }
  packagePolicies.add(new SharePolicy(SharePolicy.TYPE_IMPORT,BundleRevision.PACKAGE_NAMESPACE,filter1));
  List<SharePolicy> servicePolicies=sharePolicies.get("scope.share.service");
  if (servicePolicies == null) {
    servicePolicies=new ArrayList<SharePolicy>();
    sharePolicies.put("scope.share.service",servicePolicies);
  }
  servicePolicies.add(new SharePolicy(SharePolicy.TYPE_IMPORT,"scope.share.service",filter2));
  InstallInfo info2=new InstallInfo("helloIsolationRef",new URL("mvn:org.apache.aries.subsystem/org.apache.aries.subsystem.example.helloIsolationRef/0.1-SNAPSHOT"));
  List<InstallInfo> bundlesToInstall=childScopeUpdate.getBundlesToInstall();
  bundlesToInstall.add(info2);
  su.commit();
  Collection<Bundle> bundlesToStart=childScopeUpdate.getScope().getBundles();
  for (  Bundle b : bundlesToStart) {
    try {
      b.start();
    }
 catch (    Exception ex) {
      ex.printStackTrace();
      fail("should be able to start helloIsolationRef in scope_test1");
    }
  }
  su=scope.newScopeUpdate();
  Collection<ScopeUpdate> scopes=su.getChildren();
  scopes.clear();
  su.commit();
  assertTrue(scope.getChildren().isEmpty());
  assertTrue(scope.newScopeUpdate().getChildren().isEmpty());
}

</code></pre>

<br>
<pre class="type-4 type-5 type-3 type-7 type-1 type-8 type-2 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore public void testPackageIsolation() throws Exception {
  assertNotNull("scope admin should not be null",scope);
  System.out.println("able to get scope admin service");
  ScopeUpdate su=scope.newScopeUpdate();
  ScopeUpdate childScopeUpdate=su.newChild("scope_test1");
  su.getChildren().add(childScopeUpdate);
  addPackageImportPolicy("org.osgi.framework",childScopeUpdate);
  addPackageImportPolicy("org.osgi.util.tracker",childScopeUpdate);
  InstallInfo info1=new InstallInfo("helloIsolation",new URL("mvn:org.apache.aries.subsystem/org.apache.aries.subsystem.example.helloIsolation/0.1-SNAPSHOT"));
  InstallInfo info2=new InstallInfo("helloIsolationRef",new URL("mvn:org.apache.aries.subsystem/org.apache.aries.subsystem.example.helloIsolationRef/0.1-SNAPSHOT"));
  List<InstallInfo> bundlesToInstall=childScopeUpdate.getBundlesToInstall();
  bundlesToInstall.add(info1);
  bundlesToInstall.add(info2);
  su.commit();
  Collection<Bundle> bundlesToStart=childScopeUpdate.getScope().getBundles();
  for (  Bundle b : bundlesToStart) {
    b.start();
  }
  URL url1=new URL("mvn:org.apache.aries.subsystem/org.apache.aries.subsystem.example.helloIsolationRef/0.1-SNAPSHOT");
  Bundle helloIsolationRef=bundleContext.installBundle("helloIsolationRef1-rootScope",url1.openStream());
  try {
    helloIsolationRef.start();
    fail("should not be able to start helloIsolationRef since missing import packages");
  }
 catch (  Exception ex) {
  }
  URL url2=new URL("mvn:org.apache.aries.subsystem/org.apache.aries.subsystem.example.helloIsolation/0.1-SNAPSHOT");
  Bundle helloIsolation=bundleContext.installBundle("helloIsolation1-rootScope",url2.openStream());
  helloIsolation.start();
  helloIsolationRef.start();
  helloIsolationRef.uninstall();
  helloIsolation.uninstall();
  su=scope.newScopeUpdate();
  Collection<ScopeUpdate> scopes=su.getChildren();
  childScopeUpdate=scopes.iterator().next();
  Scope childScopeAdmin=childScopeUpdate.getScope();
  assertEquals(scope,childScopeAdmin.getParent());
  scopes.remove(childScopeUpdate);
  su.commit();
  assertFalse(scope.getChildren().contains(childScopeAdmin));
  su=scope.newScopeUpdate();
  assertFalse(su.getChildren().contains(childScopeUpdate));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.subsystem.scope.itests.ServiceVisibilityTest </h4><pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Install a bundle registering a service into the same scope as this one. 
 * This bundle should be able to see the service.
 * @throws Exception
 */
@Test public void test1() throws Exception {
  assertTrue(getScope().getBundles().contains(bundleContext.getBundle()));
  ScopeUpdate scopeUpdate=getScope().newScopeUpdate();
  String location=getBundleLocation("tb-7.jar");
  assertNull(bundleContext.getBundle(location));
  URL url=new URL(location);
  InstallInfo installInfo=new InstallInfo(location,url.openStream());
  scopeUpdate.getBundlesToInstall().add(installInfo);
  scopeUpdate.commit();
  Bundle bundle=bundleContext.getBundle(location);
  assertNotNull(bundle);
  assertTrue(getScope().getBundles().contains(bundle));
  bundle.start();
  ServiceReference<Service> serviceRef=bundleContext.getServiceReference(Service.class);
  assertNotNull(serviceRef);
  Service service=bundleContext.getService(serviceRef);
  assertNotNull(service);
  bundleContext.ungetService(serviceRef);
  bundle.uninstall();
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Install a bundle registering a service into a different scope than this 
 * one. This bundle should not be able to see the service.
 * @throws Exception
 */
@Test public void test2() throws Exception {
  assertTrue(getScope().getBundles().contains(bundleContext.getBundle()));
  String location=getBundleLocation("tb-7.jar");
  assertNull(bundleContext.getBundle(location));
  URL url=new URL(location);
  InstallInfo installInfo=new InstallInfo(location,url.openStream());
  ScopeUpdate scopeUpdate=getScope().newScopeUpdate();
  ScopeUpdate child=scopeUpdate.newChild("tb7");
  scopeUpdate.getChildren().add(child);
  child.getBundlesToInstall().add(installInfo);
  addPackageImportPolicy("org.osgi.framework",child);
  addPackageImportPolicy("org.apache.aries.subsystem.scope.itests",child);
  scopeUpdate.commit();
  Bundle bundle=bundleContext.getBundle(location);
  assertNotNull(bundle);
  assertTrue(child.getScope().getBundles().contains(bundle));
  bundle.start();
  ServiceReference<Service> serviceRef=bundleContext.getServiceReference(Service.class);
  assertNull(serviceRef);
  bundle.uninstall();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.subsystem.scope.itests.SharePolicyTest </h4><pre class="type-3 type-7 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Bundle tb5
 * Bundle tb6
 * tb5 imports package exported by tb6
 * tb5 and tb6 in same scope
 * tb5 should resolve
 * Share policies have no effect within the same scope.
 * @throws Exception
 */
@Test public void test1() throws Exception {
  Bundle tb5=null;
  Bundle tb6=null;
  try {
    String tb5Location=getBundleLocation("tb-5.jar");
    String tb6Location=getBundleLocation("tb-6.jar");
    InstallInfo tb5Info=new InstallInfo(tb5Location,new URL(tb5Location));
    InstallInfo tb6Info=new InstallInfo(tb6Location,new URL(tb6Location));
    ScopeUpdate scopeUpdate=getScope().newScopeUpdate();
    scopeUpdate.getBundlesToInstall().add(tb5Info);
    scopeUpdate.commit();
    tb5=findBundleInRootScope("org.apache.aries.subsystem.scope.itests.tb5");
    assertNotNull(tb5);
    FrameworkWiring frameworkWiring=bundleContext.getBundle(0).adapt(FrameworkWiring.class);
    assertFalse(frameworkWiring.resolveBundles(Arrays.asList(new Bundle[]{tb5})));
    scopeUpdate=getScope().newScopeUpdate();
    scopeUpdate.getBundlesToInstall().add(tb6Info);
    scopeUpdate.commit();
    tb6=findBundleInRootScope("org.apache.aries.subsystem.scope.itests.tb6");
    assertNotNull(tb6);
    assertTrue(frameworkWiring.resolveBundles(Arrays.asList(new Bundle[]{tb5,tb6})));
  }
  finally {
    uninstallQuietly(tb6);
    uninstallQuietly(tb5);
  }
}

</code></pre>

<br>
<pre class="type-3 type-7 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Bundle tb5
 * Bundle tb6
 * tb5 imports package exported by tb6
 * tb5 in root scope
 * tb6 in child scope of root
 * tb6 scope exports tb6 package
 * tb5 should resolve
 * There is an implicit import between parent and child. In other words,
 * anything exported by a child is automatically available without the
 * parent explicitly importing it.
 * @throws Exception
 */
@Test public void test3() throws Exception {
  Bundle tb5=null;
  Bundle tb6=null;
  try {
    String tb5Location=getBundleLocation("tb-5.jar");
    String tb6Location=getBundleLocation("tb-6.jar");
    InstallInfo tb5Info=new InstallInfo(tb5Location,new URL(tb5Location));
    InstallInfo tb6Info=new InstallInfo(tb6Location,new URL(tb6Location));
    ScopeUpdate scopeUpdate=getScope().newScopeUpdate();
    scopeUpdate.getBundlesToInstall().add(tb5Info);
    scopeUpdate.commit();
    tb5=findBundleInRootScope("org.apache.aries.subsystem.scope.itests.tb5");
    assertNotNull(tb5);
    FrameworkWiring frameworkWiring=bundleContext.getBundle(0).adapt(FrameworkWiring.class);
    assertFalse(frameworkWiring.resolveBundles(Arrays.asList(new Bundle[]{tb5})));
    scopeUpdate=getScope().newScopeUpdate();
    ScopeUpdate tb6ScopeUpdate=scopeUpdate.newChild("tb6");
    scopeUpdate.getChildren().add(tb6ScopeUpdate);
    tb6ScopeUpdate.getBundlesToInstall().add(tb6Info);
    addPackageExportPolicy("org.apache.aries.subsystem.scope.itests.tb6",tb6ScopeUpdate);
    scopeUpdate.commit();
    tb6=findBundle("org.apache.aries.subsystem.scope.itests.tb6",tb6ScopeUpdate.getScope());
    assertNotNull(tb6);
    tb5.start();
    assertTrue(frameworkWiring.resolveBundles(Arrays.asList(new Bundle[]{tb5,tb6})));
  }
  finally {
    uninstallQuietly(tb6);
    uninstallQuietly(tb5);
  }
}

</code></pre>

<br>
<pre class="type-3 type-7 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Bundle tb5
 * Bundle tb6
 * tb5 imports package exported by tb6
 * tb5 in child scope of root
 * tb6 in different child scope of root
 * tb6 scope exports tb6 package
 * root scope exports tb6 package
 * tb5 scope imports tb6 package
 * tb5 should resolve
 * @throws Exception
 */
@Test public void test4() throws Exception {
  Bundle tb5=null;
  Bundle tb6=null;
  try {
    String tb5Location=getBundleLocation("tb-5.jar");
    String tb6Location=getBundleLocation("tb-6.jar");
    InstallInfo tb5Info=new InstallInfo(tb5Location,new URL(tb5Location));
    InstallInfo tb6Info=new InstallInfo(tb6Location,new URL(tb6Location));
    ScopeUpdate rootUpdate=getScope().newScopeUpdate();
    addPackageExportPolicy("org.apache.aries.subsystem.scope.itests.tb6",rootUpdate);
    ScopeUpdate tb5Update=rootUpdate.newChild("tb5");
    rootUpdate.getChildren().add(tb5Update);
    tb5Update.getBundlesToInstall().add(tb5Info);
    addPackageImportPolicy("org.apache.aries.subsystem.scope.itests.tb6",tb5Update);
    rootUpdate.commit();
    tb5=findBundle("org.apache.aries.subsystem.scope.itests.tb5",tb5Update.getScope());
    assertNotNull(tb5);
    FrameworkWiring frameworkWiring=bundleContext.getBundle(0).adapt(FrameworkWiring.class);
    assertFalse(frameworkWiring.resolveBundles(Arrays.asList(new Bundle[]{tb5})));
    rootUpdate=getScope().newScopeUpdate();
    ScopeUpdate tb6Update=rootUpdate.newChild("tb6");
    rootUpdate.getChildren().add(tb6Update);
    tb6Update.getBundlesToInstall().add(tb6Info);
    addPackageExportPolicy("org.apache.aries.subsystem.scope.itests.tb6",tb6Update);
    rootUpdate.commit();
    tb6=findBundle("org.apache.aries.subsystem.scope.itests.tb6",tb6Update.getScope());
    assertNotNull(tb6);
    assertTrue(frameworkWiring.resolveBundles(Arrays.asList(new Bundle[]{tb5,tb6})));
  }
  finally {
    uninstallQuietly(tb6);
    uninstallQuietly(tb5);
  }
}

</code></pre>

<br>
<pre class="type-3 type-7 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Bundle tb5
 * Bundle tb6
 * tb5 imports package exported by tb6
 * tb5 in root scope
 * tb6 in child scope of root
 * tb6 scope does not export tb6 package
 * tb5 should not resolve
 * @throws Exception
 */
@Test public void test2() throws Exception {
  Bundle tb5=null;
  Bundle tb6=null;
  try {
    String tb5Location=getBundleLocation("tb-5.jar");
    String tb6Location=getBundleLocation("tb-6.jar");
    InstallInfo tb5Info=new InstallInfo(tb5Location,new URL(tb5Location));
    InstallInfo tb6Info=new InstallInfo(tb6Location,new URL(tb6Location));
    ScopeUpdate scopeUpdate=getScope().newScopeUpdate();
    scopeUpdate.getBundlesToInstall().add(tb5Info);
    scopeUpdate.commit();
    tb5=findBundleInRootScope("org.apache.aries.subsystem.scope.itests.tb5");
    assertNotNull(tb5);
    FrameworkWiring frameworkWiring=bundleContext.getBundle(0).adapt(FrameworkWiring.class);
    assertFalse(frameworkWiring.resolveBundles(Arrays.asList(new Bundle[]{tb5})));
    scopeUpdate=getScope().newScopeUpdate();
    ScopeUpdate tb6ScopeUpdate=scopeUpdate.newChild("tb6");
    scopeUpdate.getChildren().add(tb6ScopeUpdate);
    tb6ScopeUpdate.getBundlesToInstall().add(tb6Info);
    scopeUpdate.commit();
    tb6=findBundle("org.apache.aries.subsystem.scope.itests.tb6",tb6ScopeUpdate.getScope());
    assertNotNull(tb6);
    assertFalse(frameworkWiring.resolveBundles(Arrays.asList(new Bundle[]{tb5,tb6})));
  }
  finally {
    uninstallQuietly(tb6);
    uninstallQuietly(tb5);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.subsystem.scope.itests.UninstallBundleTest </h4><pre class="type-3 type-7 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test() throws Exception {
  ScopeUpdate scopeUpdate=getScope().newScopeUpdate();
  assertTrue("The bundle should have been removed",scopeUpdate.getBundles().remove(bundle));
  assertTrue("The commit should have been successful",scopeUpdate.commit());
  assertFalse(scopeUpdate.getScope().getBundles().contains(bundle));
  assertFalse("The bundle should have been removed from the scope",getScope().getBundles().contains(bundle));
  assertFalse(Arrays.asList(bundleContext.getBundles()).contains(bundle));
  assertNull("The bundle should have been uninstalled",bundleContext.getBundle(location));
}

</code></pre>

<br>
<pre class="type-4 type-9 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void before0() throws Exception {
  location=getBundleLocation("tb-2.jar");
  bundle=bundleContext.getBundle(location);
  assertNull("The bundle should not exist",bundle);
  installBundles(getScope(),new String[]{"tb-2.jar"});
  bundle=bundleContext.getBundle(location);
  assertNotNull("The bundle should exist",bundle);
  assertTrue("The bundle should part of the scope",getScope().getBundles().contains(bundle));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.transaction.ComponentTxDataTest </h4><pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFindAnnotation() throws NoSuchMethodException, SecurityException {
  ComponentTxData txData=new ComponentTxData(AnnotatedPojo.class);
  Assert.assertTrue(txData.isTransactional());
  assertEquals(TxType.REQUIRED,getType(txData,"increment"));
  assertEquals(TxType.SUPPORTS,getType(txData,"checkValue"));
  assertEquals(TxType.MANDATORY,getType(txData,"getRealObject"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.transaction.internal.XidFactoryImplTest </h4><pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testAriesFactory() throws Exception {
  XidFactory factory=new XidFactoryImpl("hi".getBytes());
  Xid id1=factory.createXid();
  Xid id2=factory.createXid();
  assertFalse("Should not match new: " + id1,factory.matchesGlobalId(id1.getGlobalTransactionId()));
  assertFalse("Should not match new: " + id2,factory.matchesGlobalId(id2.getGlobalTransactionId()));
  Xid b_id1=factory.createBranch(id1,1);
  Xid b_id2=factory.createBranch(id2,1);
  assertFalse("Should not match new branch: " + b_id1,factory.matchesBranchId(b_id1.getBranchQualifier()));
  assertFalse("Should not match new branch: " + b_id2,factory.matchesBranchId(b_id2.getBranchQualifier()));
  Thread.sleep(5);
  XidFactory factory2=new XidFactoryImpl("hi".getBytes());
  assertTrue("Should match old: " + id1,factory2.matchesGlobalId(id1.getGlobalTransactionId()));
  assertTrue("Should match old: " + id2,factory2.matchesGlobalId(id2.getGlobalTransactionId()));
  assertTrue("Should match old branch: " + b_id1,factory2.matchesBranchId(b_id1.getBranchQualifier()));
  assertTrue("Should match old branch: " + b_id2,factory2.matchesBranchId(b_id2.getBranchQualifier()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.util.VersionRangeTest </h4><pre class="type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test the version range created correctly
 * @throws Exception
 */
@Test public void testVersionRange() throws Exception {
  String version1="[1.2.3, 4.5.6]";
  String version2="(1, 2]";
  String version3="[2,4)";
  String version4="(1,2)";
  String version5="2";
  String version6="2.3";
  String version7="[1.2.3.q, 2.3.4.p)";
  String version8="1.2.2.5";
  String version9="a.b.c";
  String version10=null;
  String version11="";
  String version12="\"[1.2.3, 4.5.6]\"";
  VersionRange vr=new VersionRange(version1);
  assertEquals("The value is wrong","1.2.3",vr.getMinimumVersion().toString());
  assertFalse("The value is wrong",vr.isMinimumExclusive());
  assertEquals("The value is wrong","4.5.6",vr.getMaximumVersion().toString());
  assertFalse("The value is wrong",vr.isMaximumExclusive());
  vr=new VersionRange(version2);
  assertEquals("The value is wrong","1.0.0",vr.getMinimumVersion().toString());
  assertTrue("The value is wrong",vr.isMinimumExclusive());
  assertEquals("The value is wrong","2.0.0",vr.getMaximumVersion().toString());
  assertFalse("The value is wrong",vr.isMaximumExclusive());
  vr=new VersionRange(version3);
  assertEquals("The value is wrong","2.0.0",vr.getMinimumVersion().toString());
  assertFalse("The value is wrong",vr.isMinimumExclusive());
  assertEquals("The value is wrong","4.0.0",vr.getMaximumVersion().toString());
  assertTrue("The value is wrong",vr.isMaximumExclusive());
  vr=new VersionRange(version4);
  assertEquals("The value is wrong","1.0.0",vr.getMinimumVersion().toString());
  assertTrue("The value is wrong",vr.isMinimumExclusive());
  assertEquals("The value is wrong","2.0.0",vr.getMaximumVersion().toString());
  assertTrue("The value is wrong",vr.isMaximumExclusive());
  vr=new VersionRange(version5);
  assertEquals("The value is wrong","2.0.0",vr.getMinimumVersion().toString());
  assertFalse("The value is wrong",vr.isMinimumExclusive());
  assertNull("The value is wrong",vr.getMaximumVersion());
  assertFalse("The value is wrong",vr.isMaximumExclusive());
  vr=new VersionRange(version6);
  assertEquals("The value is wrong","2.3.0",vr.getMinimumVersion().toString());
  assertFalse("The value is wrong",vr.isMinimumExclusive());
  assertNull("The value is wrong",vr.getMaximumVersion());
  assertFalse("The value is wrong",vr.isMaximumExclusive());
  vr=new VersionRange(version7);
  assertEquals("The value is wrong","1.2.3.q",vr.getMinimumVersion().toString());
  assertFalse("The value is wrong",vr.isMinimumExclusive());
  assertEquals("The value is wrong","2.3.4.p",vr.getMaximumVersion().toString());
  assertTrue("The value is wrong",vr.isMaximumExclusive());
  vr=new VersionRange(version8);
  assertEquals("The value is wrong","1.2.2.5",vr.getMinimumVersion().toString());
  assertFalse("The value is wrong",vr.isMinimumExclusive());
  assertNull("The value is wrong",vr.getMaximumVersion());
  assertFalse("The value is wrong",vr.isMaximumExclusive());
  boolean exception=false;
  try {
    vr=new VersionRange(version9);
  }
 catch (  Exception e) {
    exception=true;
  }
  assertTrue("The value is wrong",exception);
  boolean exceptionNull=false;
  try {
    vr=new VersionRange(version10);
  }
 catch (  Exception e) {
    exceptionNull=true;
  }
  assertTrue("The value is wrong",exceptionNull);
  vr=new VersionRange(version11);
  assertEquals("The value is wrong","0.0.0",vr.getMinimumVersion().toString());
  assertFalse("The value is wrong",vr.isMinimumExclusive());
  assertNull("The value is wrong",vr.getMaximumVersion());
  assertFalse("The value is wrong",vr.isMaximumExclusive());
  vr=new VersionRange(version12);
  assertEquals("The value is wrong","1.2.3",vr.getMinimumVersion().toString());
  assertFalse("The value is wrong",vr.isMinimumExclusive());
  assertEquals("The value is wrong","4.5.6",vr.getMaximumVersion().toString());
  assertFalse("The value is wrong",vr.isMaximumExclusive());
}

</code></pre>

<br>
<pre class="type-5 type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExactVersion() throws Exception {
  VersionRange vr;
  try {
    vr=new VersionRange("[1.0.0, 2.0.0]",true);
    fail("from 1 to 2 not excludsive is not an exact range");
  }
 catch (  IllegalArgumentException e) {
  }
  vr=new VersionRange("[1.0.0, 1.0.0]",true);
  assertTrue(vr.isExactVersion());
  try {
    vr=new VersionRange("(1.0.0, 1.0.0]",true);
    fail("from 1 (not including 1) to 1, is not valid");
  }
 catch (  IllegalArgumentException e) {
  }
  try {
    vr=new VersionRange("[1.0.0, 1.0.0)",true);
    fail("sfrom 1 to 1 (not including 1), is not valid");
  }
 catch (  IllegalArgumentException e) {
  }
  vr=new VersionRange("1.0.0",true);
  assertTrue(vr.isExactVersion());
  vr=new VersionRange("1.0.0",false);
  assertFalse(vr.isExactVersion());
  vr=new VersionRange("[1.0.0, 2.0.0]");
  assertFalse(vr.isExactVersion());
  vr=new VersionRange("[1.0.0, 1.0.0]");
  assertTrue(vr.isExactVersion());
  vr=new VersionRange("1.0.0",true);
  assertEquals(new Version("1.0.0"),vr.getMinimumVersion());
  assertTrue(vr.isExactVersion());
  vr=new VersionRange("1.0.0",false);
  assertEquals(new Version("1.0.0"),vr.getMinimumVersion());
  assertNull(vr.getMaximumVersion());
  assertFalse(vr.isExactVersion());
  vr=new VersionRange("[1.0.0,2.0.0)",false);
  assertFalse(vr.isExactVersion());
  vr=new VersionRange("[1.0.0, 2.0.0]");
  assertFalse(vr.isExactVersion());
  vr=new VersionRange("[1.0.0, 1.0.0]");
  assertTrue(vr.isExactVersion());
}

</code></pre>

<br>
<pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testMatches(){
  VersionRange vr=new VersionRange("[1.0.0, 2.0.0]");
  assertFalse(vr.matches(new Version(0,9,0)));
  assertFalse(vr.matches(new Version(2,1,0)));
  assertTrue(vr.matches(new Version(2,0,0)));
  assertTrue(vr.matches(new Version(1,0,0)));
  assertTrue(vr.matches(new Version(1,5,0)));
  vr=new VersionRange("[1.0.0, 2.0.0)");
  assertFalse(vr.matches(new Version(0,9,0)));
  assertFalse(vr.matches(new Version(2,1,0)));
  assertFalse(vr.matches(new Version(2,0,0)));
  assertTrue(vr.matches(new Version(1,0,0)));
  assertTrue(vr.matches(new Version(1,5,0)));
  vr=new VersionRange("(1.0.0, 2.0.0)");
  assertFalse(vr.matches(new Version(0,9,0)));
  assertFalse(vr.matches(new Version(2,1,0)));
  assertFalse(vr.matches(new Version(2,0,0)));
  assertFalse(vr.matches(new Version(1,0,0)));
  assertTrue(vr.matches(new Version(1,5,0)));
  vr=new VersionRange("[1.0.0, 1.0.0]");
  assertFalse(vr.matches(new Version(0,9,0)));
  assertFalse(vr.matches(new Version(2,0,0)));
  assertTrue(vr.matches(new Version(1,0,0)));
  assertFalse(vr.matches(new Version(1,5,0)));
  assertFalse(vr.matches(new Version(1,9,9)));
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testInvalidVersions() throws Exception {
  try {
    new VersionRange("a");
    assertTrue("Should have thrown an exception",false);
  }
 catch (  IllegalArgumentException e) {
  }
  try {
    new VersionRange("[1.0.0,1.0.1]",true);
    assertTrue("Should have thrown an exception",false);
  }
 catch (  IllegalArgumentException e) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.util.filesystem.FileSystemTest </h4><pre class="type-3 type-7 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Make sure that the operations work with zip files inside other zip files. Performance is not going to be great though :)
 */
@Test public void nestedZipInZipInputStream() throws Exception {
  ICloseableDirectory outer=FileSystem.getFSRoot(new FileInputStream("fileSystemTest/outer.zip"));
  try {
    IFile innerFile=outer.getFile("app2.zip");
    assertNotNull(innerFile);
    IDirectory inner=innerFile.convertNested();
    assertNotNull(inner);
    File desiredFile=new File(new File(getTestResourceDir(),"/app1"),"META-INF/APPLICATION.MF");
    runBasicDirTest(inner,"app2.zip/",-1,desiredFile.lastModified());
    runBasicDirTest(inner.toCloseable(),"app2.zip/",desiredFile.length(),desiredFile.lastModified());
  }
  finally {
    outer.close();
    Field f=outer.getClass().getDeclaredField("tempFile");
    f.setAccessible(true);
    assertFalse(((File)f.get(outer)).exists());
  }
}

</code></pre>

<br>
<pre class="type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Make sure that operations work on zip files nested in file IDirectories
 * @throws IOException
 */
@Test public void nestedZipInDirectory() throws IOException {
  IDirectory dir=FileSystem.getFSRoot(new File("").getAbsoluteFile());
  IDirectory zip=dir.getFile("fileSystemTest/app2.zip").convert();
  assertNull(zip);
  zip=dir.getFile("fileSystemTest/app2.zip").convertNested();
  assertNotNull(zip);
  assertNotNull(zip.getParent());
  assertEquals("fileSystemTest",zip.getParent().getName());
  assertEquals("fileSystemTest/app2.zip",zip.getName());
  IFile appMf=zip.getFile("META-INF/APPLICATION.MF");
  assertNotNull(appMf);
  assertEquals("fileSystemTest/app2.zip/META-INF/APPLICATION.MF",appMf.getName());
  checkManifest(appMf.open());
  assertFalse(zip.isRoot());
  assertEquals(dir,zip.getRoot());
  assertEquals(dir,appMf.getRoot());
  checkManifest(appMf.toURL().openStream());
  runBasicDirTest(zip,"fileSystemTest/app2.zip/",appMf.getSize(),appMf.getLastModified());
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void zipCloseableZipSimplePerformanceTest() throws IOException {
  int N=100000;
  File baseDir=new File("fileSystemTest/app2.zip");
  ZipFile zip=new ZipFile(baseDir);
  long start=System.currentTimeMillis();
  for (int i=0; i < N; i++) {
    ZipEntry ze=zip.getEntry("META-INF/APPLICATION.MF");
    InputStream is=zip.getInputStream(ze);
    is.close();
  }
  long duration=System.currentTimeMillis() - start;
  ICloseableDirectory dir=FileSystem.getFSRoot(baseDir).toCloseable();
  start=System.currentTimeMillis();
  for (int i=0; i < N; i++) {
    IFile appMf=dir.getFile("META-INF/APPLICATION.MF");
    InputStream is=appMf.open();
    is.close();
  }
  long duration2=System.currentTimeMillis() - start;
  dir.close();
  assertTrue("ZipFile: " + duration + ", IDirectory: "+ duration2,duration2 < 10 * duration);
  IDirectory outer=FileSystem.getFSRoot(new File("fileSystemTest/outer.zip"));
  IFile innerFile=outer.getFile("app2.zip");
  dir=innerFile.convertNested().toCloseable();
  start=System.currentTimeMillis();
  for (int i=0; i < N; i++) {
    IFile appMf=dir.getFile("META-INF/APPLICATION.MF");
    InputStream is=appMf.open();
    is.close();
  }
  long duration3=System.currentTimeMillis() - start;
  dir.close();
  assertTrue("ZipFile: " + duration + ", IDirectory: "+ duration3,duration3 < 10 * duration);
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Make sure we correctly understand the directory structure for zips.
 * @throws IOException
 */
@Test public void basicDirTestsWithZip() throws IOException {
  File baseDir=new File("fileSystemTest/app2.zip");
  IDirectory dir=FileSystem.getFSRoot(baseDir);
  assertTrue(dir.toString(),dir.toString().endsWith("app2.zip"));
  File desiredFile=new File(new File(getTestResourceDir(),"/app1"),"META-INF/APPLICATION.MF");
  runBasicDirTest(dir,desiredFile.length(),desiredFile.lastModified());
  runBasicDirTest(dir.toCloseable(),desiredFile.length(),desiredFile.lastModified());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.util.filesystem.FileUtilsTest </h4><pre class="type-4 type-3 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Make sure we get the bundles files recursively regardless of the file extension.
 * @throws IOException
 */
@SuppressWarnings("deprecation") @Test public void testGetBundlesRecursive() throws IOException {
  File tmpDir=new File("../src/test/resources/tmpJars");
  tmpDir.mkdirs();
  for (int n=0; n < 2; n++) {
    ZipFixture bundle=ArchiveFixture.newJar().manifest().attribute(Constants.BUNDLE_SYMBOLICNAME,"aa" + n).attribute(Constants.BUNDLE_MANIFESTVERSION,"2").attribute(Constants.IMPORT_PACKAGE,"a.b.c, p.q.r, x.y.z, javax.naming").attribute(Constants.BUNDLE_VERSION,"1.0.0").end();
    FileOutputStream fout=new FileOutputStream(new File(tmpDir.getAbsoluteFile(),"aa" + n + ((n == 0) ? ".jar" : ".war")));
    bundle.writeOut(fout);
    fout.close();
  }
  File subDir=new File(tmpDir,"subDir");
  subDir.mkdirs();
  for (int n=0; n < 2; n++) {
    ZipFixture bundle=ArchiveFixture.newJar().manifest().attribute(Constants.BUNDLE_SYMBOLICNAME,"aa" + n).attribute(Constants.BUNDLE_MANIFESTVERSION,"2").attribute(Constants.IMPORT_PACKAGE,"a.b.c, p.q.r, x.y.z, javax.naming").attribute(Constants.BUNDLE_VERSION,"1.0.0").end();
    FileOutputStream fout=new FileOutputStream(new File(subDir.getAbsoluteFile(),"aa" + n + ((n == 0) ? ".jar" : ".war")));
    bundle.writeOut(fout);
    fout.close();
  }
  for (int n=0; n < 2; n++) {
    ZipFixture bundle=ArchiveFixture.newJar().manifest().attribute(Constants.BUNDLE_MANIFESTVERSION,"2").attribute(Constants.IMPORT_PACKAGE,"a.b.c, p.q.r, x.y.z, javax.naming").attribute(Constants.BUNDLE_VERSION,"1.0.0").end();
    FileOutputStream fout=new FileOutputStream(new File(tmpDir,"bb" + n + ".jar"));
    bundle.writeOut(fout);
    fout.close();
  }
  IOUtils.writeOut(tmpDir,"simple.jar",new ByteArrayInputStream("abc".getBytes()));
  IOUtils.writeOut(tmpDir,"simple.war",new ByteArrayInputStream("sss".getBytes()));
  IOUtils.writeOut(tmpDir,"simple.txt",new ByteArrayInputStream("abc".getBytes()));
  IOUtils.writeOut(tmpDir,"some/relative/directory/complex.jar",new ByteArrayInputStream("def".getBytes()));
  IOUtils.writeOut(tmpDir,"some/relative/directory/aa/complex2.war",new ByteArrayInputStream("ghi".getBytes()));
  IOUtils.writeOut(tmpDir,"simple",new ByteArrayInputStream("abc".getBytes()));
  List<URI> jarFiles=FileUtils.getBundlesRecursive(tmpDir.toURI());
  assertEquals("There should be 4 entries.",4,jarFiles.size());
  assertTrue("The entry should contain this aa0.jar",jarFiles.contains(new File(tmpDir,"aa0.jar").toURI()));
  assertTrue("The entry should contain this aa1.war",jarFiles.contains(new File(tmpDir,"aa1.war").toURI()));
  assertTrue("The entry should contain this aa0.jar",jarFiles.contains(new File(subDir,"aa0.jar").toURI()));
  assertTrue("The entry should contain this aa1.war",jarFiles.contains(new File(subDir,"aa1.war").toURI()));
  IOUtils.deleteRecursive(tmpDir);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.util.filesystem.IOUtilsTest </h4><pre class="type-5 type-3 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWriteOutAndDoNotCloseInputStream() throws IOException {
  InputStream is=new InputStream(){
    int idx=0;
    int data[]=new int[]{1,2,3,4,5,-1};
    @Override public int read() throws IOException {
      if (idx < data.length)       return data[idx++];
 else       return -1;
    }
    @Override public void close() throws IOException {
      fail("Close was invoked");
    }
  }
;
  File f=new File("ioUtilsTest/outtest1");
  f.mkdirs();
  IOUtils.writeOutAndDontCloseInputStream(f,"/fred",is);
  File fred=new File(f,"/fred");
  assertTrue(fred.exists());
  File outtest=fred.getParentFile();
  fred.delete();
  outtest.delete();
}

</code></pre>

<br>
<pre class="type-3 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWriteOut() throws IOException {
  File tmpDir=new File("target/ioUtilsTest/tmp");
  tmpDir.mkdirs();
  IOUtils.writeOut(tmpDir,"simple.txt",new ByteArrayInputStream("abc".getBytes()));
  IOUtils.writeOut(tmpDir,"some/relative/directory/complex.txt",new ByteArrayInputStream("def".getBytes()));
  IOUtils.writeOut(tmpDir,"some/relative/directory/complex2.txt",new ByteArrayInputStream("ghi".getBytes()));
  File simple=new File(tmpDir,"simple.txt");
  assertTrue(simple.exists());
  File complex=new File(tmpDir,"some/relative/directory/complex.txt");
  assertTrue(complex.exists());
  File complex2=new File(tmpDir,"some/relative/directory/complex2.txt");
  assertTrue(complex2.exists());
  BufferedReader r=new BufferedReader(new FileReader(simple));
  assertEquals("abc",r.readLine());
  assertNull(r.readLine());
  r.close();
  r=new BufferedReader(new FileReader(complex));
  assertEquals("def",r.readLine());
  assertNull(r.readLine());
  r.close();
  r=new BufferedReader(new FileReader(complex2));
  assertEquals("ghi",r.readLine());
  assertNull(r.readLine());
  r.close();
}

</code></pre>

<br>
<pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testZipUpAndUnzipAndDeleteRecursive() throws IOException {
  new File("ioUtilsTest").mkdir();
  IOUtils.zipUp(new File("../src/test/resources/zip"),new File("ioUtilsTest/test.zip"));
  ZipFile zip=new ZipFile("ioUtilsTest/test.zip");
  assertNotNull(zip.getEntry("file.txt"));
  assertNotNull(zip.getEntry("subdir/someFile.txt"));
  zip.close();
  IDirectory dir=FileSystem.getFSRoot(new File("ioUtilsTest"));
  IFile izip=dir.getFile("test.zip");
  File output=new File("ioUtilsTest/zipout");
  output.mkdirs();
  IOUtils.unpackZip(izip,output);
  File a=new File(output,"file.txt");
  File b=new File(output,"subdir");
  File c=new File(b,"someFile.txt");
  assertTrue(output.exists());
  assertTrue(a.exists() && a.isFile());
  assertTrue(b.exists() && b.isDirectory());
  assertTrue(c.exists() && c.isFile());
  IOUtils.deleteRecursive(output);
  assertFalse(output.exists());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.util.manifest.ManifestHeaderProcessorTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testInvalidVersions() throws Exception {
  try {
    ManifestHeaderProcessor.parseVersionRange("a");
    assertTrue("Should have thrown an exception",false);
  }
 catch (  IllegalArgumentException e) {
  }
  try {
    ManifestHeaderProcessor.parseVersionRange("[1.0.0,1.0.1]",true);
    assertTrue("Should have thrown an exception",false);
  }
 catch (  IllegalArgumentException e) {
  }
}

</code></pre>

<br>
<pre class="type-4 type-3 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test the import package and import service
 * Import-Package: com.acme.foo;come.acm,e.bar;version="[1.23,1.24.5]";resolution:=mandatory
 */
@Test public void testParseImportString(){
  String importPackage="com.acme.foo,come.acm.e.bar;version=\"[1.23,1.24.5]\";resolution:=mandatory;company=\"ACME\",a.b.c;version=1.2.3;company=com";
  Map<String,Map<String,String>> importPackageReturn=ManifestHeaderProcessor.parseImportString(importPackage);
  assertTrue("The package is not set.",importPackageReturn.containsKey("com.acme.foo"));
  assertTrue("The package is not set.",importPackageReturn.containsKey("come.acm.e.bar"));
  assertTrue("The package is not set.",importPackageReturn.containsKey("come.acm.e.bar"));
  assertTrue("The package is not set.",importPackageReturn.containsKey("a.b.c"));
  assertTrue("The package should not contain any attributes.",importPackageReturn.get("com.acme.foo").isEmpty());
  assertEquals("The directive is not set correctly.","[1.23,1.24.5]",importPackageReturn.get("come.acm.e.bar").get("version"));
  assertEquals("The directive is not set correctly.","mandatory",importPackageReturn.get("come.acm.e.bar").get("resolution:"));
  assertEquals("The directive is not set correctly.","ACME",importPackageReturn.get("come.acm.e.bar").get("company"));
  assertEquals("The directive is not set correctly.","1.2.3",importPackageReturn.get("a.b.c").get("version"));
  assertEquals("The directive is not set correctly.","com",importPackageReturn.get("a.b.c").get("company"));
  importPackage="com.acme.foo";
  assertTrue("The package is not set.",importPackageReturn.containsKey("com.acme.foo"));
  assertTrue("The package should not contain any attributes.",importPackageReturn.get("com.acme.foo").isEmpty());
  importPackage="com.acme.foo;com.acme.bar;version=2";
  Map<String,Map<String,String>> importPackageReturn2=ManifestHeaderProcessor.parseImportString(importPackage);
  assertTrue("The package is not set.",importPackageReturn2.containsKey("com.acme.foo"));
  assertTrue("The package is not set.",importPackageReturn2.containsKey("com.acme.bar"));
  assertEquals("The directive is not set correctly.","2",importPackageReturn2.get("com.acme.foo").get("version"));
  assertEquals("The directive is not set correctly.","2",importPackageReturn2.get("com.acme.bar").get("version"));
}

</code></pre>

<br>
<pre class="type-5 type-3 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExactVersion() throws Exception {
  VersionRange vr;
  try {
    vr=ManifestHeaderProcessor.parseVersionRange("[1.0.0, 2.0.0]",true);
    fail("should not get here 1");
  }
 catch (  IllegalArgumentException e) {
  }
  vr=ManifestHeaderProcessor.parseVersionRange("[1.0.0, 1.0.0]",true);
  assertTrue(vr.isExactVersion());
  try {
    vr=ManifestHeaderProcessor.parseVersionRange("(1.0.0, 1.0.0]",true);
    fail("should not get here 2");
  }
 catch (  IllegalArgumentException e) {
  }
  try {
    vr=ManifestHeaderProcessor.parseVersionRange("[1.0.0, 1.0.0)",true);
    fail("should not get here 3");
  }
 catch (  IllegalArgumentException e) {
  }
  vr=ManifestHeaderProcessor.parseVersionRange("[1.0.0, 2.0.0]");
  assertFalse(vr.isExactVersion());
  vr=ManifestHeaderProcessor.parseVersionRange("[1.0.0, 1.0.0]");
  assertTrue(vr.isExactVersion());
}

</code></pre>

<br>
<pre class="type-4 type-12 type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseExportString(){
  String exportPackage="com.acme.foo,com.acme.bar;version=1,com.acme.bar;version=2;uses:=\"a.b.c,d.e.f\";security=false;mandatory:=security";
  List<NameValuePair> exportPackageReturn=ManifestHeaderProcessor.parseExportString(exportPackage);
  int i=0;
  assertEquals("The number of the packages is wrong.",3,exportPackageReturn.size());
  for (  NameValuePair nvp : exportPackageReturn) {
    if (nvp.getName().equals("com.acme.foo")) {
      i++;
      assertTrue("The directive or attribute should not be set.",nvp.getAttributes().isEmpty());
    }
 else     if ((nvp.getName().equals("com.acme.bar")) && ("2".equals(nvp.getAttributes().get("version")))) {
      i++;
      assertEquals("The directive is wrong.","a.b.c,d.e.f",nvp.getAttributes().get("uses:"));
      assertEquals("The directive is wrong.","false",nvp.getAttributes().get("security"));
      assertEquals("The directive is wrong.","security",nvp.getAttributes().get("mandatory:"));
    }
 else     if ((nvp.getName().equals("com.acme.bar")) && ("1".equals(nvp.getAttributes().get("version")))) {
      i++;
      assertNull("The directive is wrong.",nvp.getAttributes().get("uses:"));
      assertNull("The directive is wrong.",nvp.getAttributes().get("security"));
      assertNull("The directive is wrong.",nvp.getAttributes().get("mandatory:"));
    }
  }
  assertEquals("The names of the packages are wrong.",3,i);
  exportPackage="com.acme.foo";
  exportPackageReturn=ManifestHeaderProcessor.parseExportString(exportPackage);
  int k=0;
  assertEquals("The number of the packages is wrong.",1,exportPackageReturn.size());
  for (  NameValuePair nvp : exportPackageReturn) {
    if (nvp.getName().equals("com.acme.foo")) {
      k++;
      assertTrue("The directive or attribute should not be set.",nvp.getAttributes().isEmpty());
    }
  }
  assertEquals("The names of the packages are wrong.",1,k);
  exportPackage="com.acme.foo;com.acme.bar;version=\"2\";resolution:=optional";
  exportPackageReturn=ManifestHeaderProcessor.parseExportString(exportPackage);
  k=0;
  assertEquals("The number of the packages is wrong.",2,exportPackageReturn.size());
  for (  NameValuePair nvp : exportPackageReturn) {
    if (nvp.getName().equals("com.acme.foo")) {
      k++;
      assertEquals("The attribute is wrong.","2",nvp.getAttributes().get("version"));
      assertEquals("The attribute is wrong.","optional",nvp.getAttributes().get("resolution:"));
    }
 else     if (nvp.getName().equals("com.acme.bar")) {
      k++;
      assertEquals("The attribute is wrong.","2",nvp.getAttributes().get("version"));
      assertEquals("The attribute is wrong.","optional",nvp.getAttributes().get("resolution:"));
    }
  }
  assertEquals("The names of the packages are wrong.",2,k);
  exportPackageReturn=ManifestHeaderProcessor.parseExportString("some.export.with.space.in;directive := spacey");
  assertEquals(exportPackageReturn.toString(),"spacey",exportPackageReturn.get(0).getAttributes().get("directive:"));
}

</code></pre>

<br>
<pre class="type-4 type-12 type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExportMandatoryAttributes(){
  String exportPackage="com.acme.foo,com.acme.bar;version=2;company=dodo;security=false;mandatory:=\"security,company\"";
  List<NameValuePair> exportPackageReturn=ManifestHeaderProcessor.parseExportString(exportPackage);
  int i=0;
  assertEquals("The number of the packages is wrong.",2,exportPackageReturn.size());
  for (  NameValuePair nvp : exportPackageReturn) {
    if (nvp.getName().equals("com.acme.foo")) {
      i++;
      assertTrue("The directive or attribute should not be set.",nvp.getAttributes().isEmpty());
    }
 else     if ((nvp.getName().equals("com.acme.bar")) && ("2".equals(nvp.getAttributes().get("version")))) {
      i++;
      assertEquals("The directive is wrong.","dodo",nvp.getAttributes().get("company"));
      assertEquals("The directive is wrong.","false",nvp.getAttributes().get("security"));
      assertEquals("The directive is wrong.","security,company",nvp.getAttributes().get("mandatory:"));
    }
  }
  assertEquals("The names of the packages are wrong.",2,i);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test the version range created correctly
 * @throws Exception
 */
@Test public void testVersionRange() throws Exception {
  String version1="[1.2.3, 4.5.6]";
  String version2="(1, 2]";
  String version3="[2,4)";
  String version4="(1,2)";
  String version5="2";
  String version6="2.3";
  String version7="[1.2.3.q, 2.3.4.p)";
  String version8="1.2.2.5";
  String version9="a.b.c";
  String version10=null;
  String version11="";
  String version12="\"[1.2.3, 4.5.6]\"";
  VersionRange vr=ManifestHeaderProcessor.parseVersionRange(version1);
  assertEquals("The value is wrong","1.2.3",vr.getMinimumVersion().toString());
  assertFalse("The value is wrong",vr.isMinimumExclusive());
  assertEquals("The value is wrong","4.5.6",vr.getMaximumVersion().toString());
  assertFalse("The value is wrong",vr.isMaximumExclusive());
  vr=ManifestHeaderProcessor.parseVersionRange(version2);
  assertEquals("The value is wrong","1.0.0",vr.getMinimumVersion().toString());
  assertTrue("The value is wrong",vr.isMinimumExclusive());
  assertEquals("The value is wrong","2.0.0",vr.getMaximumVersion().toString());
  assertFalse("The value is wrong",vr.isMaximumExclusive());
  vr=ManifestHeaderProcessor.parseVersionRange(version3);
  assertEquals("The value is wrong","2.0.0",vr.getMinimumVersion().toString());
  assertFalse("The value is wrong",vr.isMinimumExclusive());
  assertEquals("The value is wrong","4.0.0",vr.getMaximumVersion().toString());
  assertTrue("The value is wrong",vr.isMaximumExclusive());
  vr=ManifestHeaderProcessor.parseVersionRange(version4);
  assertEquals("The value is wrong","1.0.0",vr.getMinimumVersion().toString());
  assertTrue("The value is wrong",vr.isMinimumExclusive());
  assertEquals("The value is wrong","2.0.0",vr.getMaximumVersion().toString());
  assertTrue("The value is wrong",vr.isMaximumExclusive());
  vr=ManifestHeaderProcessor.parseVersionRange(version5);
  assertEquals("The value is wrong","2.0.0",vr.getMinimumVersion().toString());
  assertFalse("The value is wrong",vr.isMinimumExclusive());
  assertNull("The value is wrong",vr.getMaximumVersion());
  assertFalse("The value is wrong",vr.isMaximumExclusive());
  vr=ManifestHeaderProcessor.parseVersionRange(version6);
  assertEquals("The value is wrong","2.3.0",vr.getMinimumVersion().toString());
  assertFalse("The value is wrong",vr.isMinimumExclusive());
  assertNull("The value is wrong",vr.getMaximumVersion());
  assertFalse("The value is wrong",vr.isMaximumExclusive());
  vr=ManifestHeaderProcessor.parseVersionRange(version7);
  assertEquals("The value is wrong","1.2.3.q",vr.getMinimumVersion().toString());
  assertFalse("The value is wrong",vr.isMinimumExclusive());
  assertEquals("The value is wrong","2.3.4.p",vr.getMaximumVersion().toString());
  assertTrue("The value is wrong",vr.isMaximumExclusive());
  vr=ManifestHeaderProcessor.parseVersionRange(version8);
  assertEquals("The value is wrong","1.2.2.5",vr.getMinimumVersion().toString());
  assertFalse("The value is wrong",vr.isMinimumExclusive());
  assertNull("The value is wrong",vr.getMaximumVersion());
  assertFalse("The value is wrong",vr.isMaximumExclusive());
  boolean exception=false;
  try {
    vr=ManifestHeaderProcessor.parseVersionRange(version9);
  }
 catch (  Exception e) {
    exception=true;
  }
  assertTrue("The value is wrong",exception);
  boolean exceptionNull=false;
  try {
    vr=ManifestHeaderProcessor.parseVersionRange(version10);
  }
 catch (  Exception e) {
    exceptionNull=true;
  }
  assertTrue("The value is wrong",exceptionNull);
  vr=ManifestHeaderProcessor.parseVersionRange(version11);
  assertEquals("The value is wrong","0.0.0",vr.getMinimumVersion().toString());
  assertFalse("The value is wrong",vr.isMinimumExclusive());
  assertNull("The value is wrong",vr.getMaximumVersion());
  assertFalse("The value is wrong",vr.isMaximumExclusive());
  vr=ManifestHeaderProcessor.parseVersionRange(version12);
  assertEquals("The value is wrong","1.2.3",vr.getMinimumVersion().toString());
  assertFalse("The value is wrong",vr.isMinimumExclusive());
  assertEquals("The value is wrong","4.5.6",vr.getMaximumVersion().toString());
  assertFalse("The value is wrong",vr.isMaximumExclusive());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.versioning.tests.BinaryCompatibilityTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Changing a static method that is not final to final is not a binary compatibility change.
 */
@Test public void test_jdk_chap13_4_15_3(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitMethod(ACC_PUBLIC + ACC_STATIC,"getCooLen","(Ljava/lang/String;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitField(ACC_PUBLIC + ACC_TRANSIENT,"aa","Ljava/lang/String;",null,new String("newBar")).visitEnd();
  cw.visitMethod(ACC_PUBLIC + ACC_STATIC + ACC_FINAL,"getCooLen","(Ljava/lang/String;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  assertTrue("Changing a static method from non-final to final will not break binary compatibility.",newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration())).isCompatible());
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test changing the declared access of a method to permit less access, this should break compatibility.
 */
@Test public void test_jdk_chap13_4_6_2(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"java/lang/Object",null);
  cw.visitMethod(ACC_PUBLIC + ACC_STATIC,"convert","(Ljava/lang/Object;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"java/lang/Object",null);
  cw.visitMethod(ACC_STATIC,"convert","(Ljava/lang/Object;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  BinaryCompatibilityStatus bcs=newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration()));
  assertEquals("The method int convert(java.lang.Object) is less accessible.",bcs.get(0));
  assertTrue("Changing the declared access of a member or contructor to permit less access  , this should break binary compatibility.",bcs.size() == 1);
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Test deleting a class member or constructor that is declared private should not break binary compatibility.
 */
@Test public void test_jdk_chap13_4_5_2(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"java/lang/Object",null);
  cw.visitMethod(ACC_PRIVATE,"convert","(Ljava/lang/Object;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"java/lang/Object",null);
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  assertTrue("Deleting a class member or constructor that is declared private should not break binary compatibility.",newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration())).isCompatible());
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test of binary incompatibility where a class was not abstract is changed to be declared abstract,
 */
@Test public void test_jdk_chap13_4_1_1(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"java/lang/Object",null);
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC + ACC_ABSTRACT,"pkg/Test",null,"java/lang/Object",null);
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  BinaryCompatibilityStatus bcs=newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration()));
  assertTrue("When a class is changed from non abstract to abstract, this should break binary compatibility.",bcs.size() == 1);
  assertEquals(" The class pkg/Test was not abstract but is changed to be abstract.",bcs.get(0));
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Changing a method parameter in an interface should  break compatibility.
 */
@Test public void test_jdk_chap13_5_5_2(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC + ACC_ABSTRACT + ACC_INTERFACE,"pkg/Test",null,"java/lang/Object",new String[]{"versioning/java/files/TestB"});
  cw.visitMethod(ACC_PUBLIC,"getFoo","(I)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC + ACC_ABSTRACT + ACC_INTERFACE,"pkg/Test",null,"java/lang/Object",new String[]{"versioning/java/files/TestB"});
  cw.visitMethod(ACC_PUBLIC,"getFoo","(IZ)I",null,null).visitEnd();
  cw.visitMethod(ACC_PUBLIC,"getMoo","I",null,null).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  BinaryCompatibilityStatus bcs=newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration()));
  assertEquals("The method int getFoo(int) has been deleted or its return type or parameter list has changed.",bcs.get(0));
  assertTrue("Changing a method parameter in an interface should  break compatibility.",bcs.size() == 1);
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * If a change to the direct superclass or the set of direct superinterfaces results in any class or interface no longer being a superclass or superinterface, respectively, it will break binary compatibility.
 */
@Test public void test_jdk_chap13_4_4_2(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"java/lang/Object",new String[]{"versioning/java/files/TestB"});
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  BinaryCompatibilityStatus bcs=newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration()));
  assertFalse("If a change to the direct superclass or the set of direct superinterfaces results in any class or interface no longer being a superclass or superinterface, respectively, it will break binary compatibility.",bcs.isCompatible());
  assertEquals(new HashSet<String>(Arrays.asList(new String[]{"The method int getFooLen(java.lang.String) has been deleted or its return type or parameter list has changed.","The method java.lang.String getFoo() has changed from non abstract to abstract.","The method int getBarLen(java.lang.String) has been deleted or its return type or parameter list has changed.","The method int getBooLen(java.lang.String) has been deleted or its return type or parameter list has changed.","The superclasses or superinterfaces have stopped being super: [versioning/java/files/TestC, versioning/java/files/TestA].","The protected field c has been deleted.","The public field bar was not final but has been changed to be final.","The public field bar was static but is changed to be non static or vice versa.","The public field bar has changed its type."})),new HashSet<String>(bcs));
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test a binary incompatibility where a class was not final is changed to be final.
 */
@Test public void test_jdk_chap13_4_2_1(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"java/lang/Object",null);
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC + ACC_FINAL,"pkg/Test",null,"java/lang/Object",null);
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  BinaryCompatibilityStatus bcs=newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration()));
  assertTrue("When a class is changed from non final to final, this should break binary compatibility.",bcs.size() == 1);
  assertEquals(" The class pkg/Test was not final but is changed to be final.",bcs.get(0));
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Check containing more abstract methods
 */
@Test public void test_containing_more_abstract_methods(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC + ACC_ABSTRACT + ACC_INTERFACE,"pkg/Test",null,"java/lang/Object",new String[]{"versioning/java/files/TestB"});
  cw.visitMethod(ACC_PUBLIC + ACC_ABSTRACT,"getFoo","(I)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC + ACC_ABSTRACT + ACC_INTERFACE,"pkg/Test",null,"java/lang/Object",new String[]{"versioning/java/files/TestB"});
  cw.visitMethod(ACC_PUBLIC + ACC_ABSTRACT,"getFoo","(I)I",null,null).visitEnd();
  cw.visitMethod(ACC_PUBLIC + ACC_ABSTRACT,"getMoo","()I",null,null).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  assertTrue("Adding an abstract methods should not break compatibility.",newCV.getClassDeclaration().getBinaryCompatibleStatus(oldCV.getClassDeclaration()).isCompatible());
  Collection<MethodDeclaration> extraMethods=newCV.getClassDeclaration().getExtraMethods(oldCV.getClassDeclaration());
  assertEquals(1,extraMethods.size());
  for (  MethodDeclaration md : extraMethods) {
    assertEquals("getMoo",md.getName());
  }
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_ignore_clinit(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"java/lang/Object",new String[]{"versioning/java/files/TestB"});
  cw.visitField(ACC_PUBLIC,"foo","I",null,null).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"java/lang/Object",new String[]{"versioning/java/files/TestB"});
  cw.visitField(ACC_PUBLIC + ACC_STATIC,"bar","I",null,null).visitEnd();
  cw.visitField(ACC_PUBLIC,"foo","I",null,null).visitEnd();
  cw.visitMethod(ACC_PUBLIC,"<clinit>","()V",null,null).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  assertTrue("No change should not break compatibility.",newCV.getClassDeclaration().getBinaryCompatibleStatus(oldCV.getClassDeclaration()).isCompatible());
  assertEquals("Containing more abstract methods should return false.",0,newCV.getClassDeclaration().getExtraMethods(oldCV.getClassDeclaration()).size());
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Adding a method in an interface should not break compatibility.
 */
@Test public void test_jdk_chap13_5_3_2(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC + ACC_ABSTRACT + ACC_INTERFACE,"pkg/Test",null,"java/lang/Object",new String[]{"versioning/java/files/TestB"});
  cw.visitMethod(ACC_PUBLIC,"getFoo","()I",null,null).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC + ACC_ABSTRACT + ACC_INTERFACE,"pkg/Test",null,"java/lang/Object",new String[]{"versioning/java/files/TestB"});
  cw.visitMethod(ACC_PUBLIC,"getFoo","()I",null,null).visitEnd();
  cw.visitMethod(ACC_PUBLIC,"getMoo","()I",null,null).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  assertTrue("Adding a method in an interface should not break compatibility.",newCV.getClassDeclaration().getBinaryCompatibleStatus(oldCV.getClassDeclaration()).isCompatible());
}

</code></pre>

<br>
<pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * If a field was non-transient is changed to transient, then it will not break compatibility.
 */
@Test public void test_jdk_chap13_4_10_2(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitField(ACC_PUBLIC,"aa","Ljava/lang/String;",null,new String("newBar")).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitField(ACC_PUBLIC + ACC_TRANSIENT,"aa","Ljava/lang/String;",null,new String("newBar")).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  BinaryCompatibilityStatus bcs=newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration()));
  assertTrue("If a change to the direct superclass or the set of direct superinterfaces results in any class or interface no longer being a superclass or superinterface, respectively, it will break binary compatibility.",bcs.isCompatible());
}

</code></pre>

<br>
<pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Testing deleting a public/protected method when there is such a method in the superclass does not break binary compatibility.
 */
@Test public void test_jdk_chap13_4_11_2(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitMethod(ACC_PUBLIC,"getBarLen","(Ljava/lang/String;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitField(ACC_PUBLIC + ACC_TRANSIENT,"aa","Ljava/lang/String;",null,new String("newBar")).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  BinaryCompatibilityStatus bcs=newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration()));
  assertTrue("If a change to the direct superclass or the set of direct superinterfaces results in any class or interface no longer being a superclass or superinterface, respectively, it will break binary compatibility.",bcs.isCompatible());
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Test a binary incompatibility where a class was not public is changed to public.
 */
@Test public void test_jdk_chap13_4_3_2(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_FINAL,"pkg/Test",null,"java/lang/Object",null);
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC + ACC_FINAL,"pkg/Test",null,"java/lang/Object",null);
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  assertTrue("When a class is changed from non-public to public, this should break binary compatibility.",newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration())).isCompatible());
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Deleting a synchronized modifier of a method does not break compatibility.
 */
@Test public void test_jdk_chap13_4_18_2(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitMethod(ACC_PUBLIC + ACC_SYNCHRONIZED,"getCooLen","(Ljava/lang/String;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitField(ACC_PUBLIC,"aa","Ljava/lang/String;",null,new String("newBar")).visitEnd();
  cw.visitMethod(ACC_PUBLIC,"getCooLen","(Ljava/lang/String;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  assertTrue("Adding a synchronized modifier of a method does not break compatibility.",newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration())).isCompatible());
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * If a field was non-static is changed to be static, then it will break compatibility.
 */
@Test public void test_jdk_chap13_4_9_2(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitField(ACC_PUBLIC,"aa","Ljava/lang/String;",null,new String("newBar")).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitField(ACC_PUBLIC + ACC_STATIC,"aa","Ljava/lang/String;",null,new String("newBar")).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  BinaryCompatibilityStatus bcs=newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration()));
  assertEquals("The public field aa was static but is changed to be non static or vice versa.",bcs.get(0));
  assertTrue("If a field was non-static is changed to be static, then it will break compatibility.",bcs.size() == 1);
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Changing an interface that is not declared public to be declared public does not break compatibility.
 */
@Test public void test_jdk_chap13_5_1_1(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_ABSTRACT + ACC_INTERFACE,"pkg/Test",null,"java/lang/Object",new String[]{"versioning/java/files/TestB"});
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC + ACC_ABSTRACT + ACC_INTERFACE,"pkg/Test",null,"java/lang/Object",new String[]{"versioning/java/files/TestB"});
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  assertTrue("Changing an interface that is not declared public to be declared public should not break compatibility.",newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration())).isCompatible());
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Changing a method parameter type is a binary compatibility change.
 */
@Test public void test_jdk_chap13_4_12_2(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitMethod(ACC_PUBLIC,"getCooLen","(Ljava/lang/String;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitField(ACC_PUBLIC + ACC_TRANSIENT,"aa","Ljava/lang/String;",null,new String("newBar")).visitEnd();
  cw.visitMethod(ACC_PUBLIC,"getCooLen","(Ljava/lang/Object;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  BinaryCompatibilityStatus bcs=newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration()));
  assertEquals("The method int getCooLen(java.lang.String) has been deleted or its return type or parameter list has changed.",bcs.get(0));
  assertTrue("Changing a method paramether type will break binary compatibility.",bcs.size() == 1);
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * If a method is not private was declared static and is changed to not be declared static, this breaks compatibility.
 */
@Test public void test_jdk_chap13_4_17_2(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitMethod(ACC_PUBLIC + ACC_STATIC,"getCooLen","(Ljava/lang/String;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitField(ACC_PUBLIC + ACC_TRANSIENT,"aa","Ljava/lang/String;",null,new String("newBar")).visitEnd();
  cw.visitMethod(ACC_PUBLIC,"getCooLen","(Ljava/lang/String;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  BinaryCompatibilityStatus bcs=newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration()));
  assertEquals("The method int getCooLen(java.lang.String) has changed from static to non-static or vice versa.",bcs.get(0));
  assertTrue("If a method is not private was declared static and is changed to not be decalared static, this should break compatibility.",bcs.size() == 1);
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * If a field was final is changed to be non-final, then it does not break compatibility.
 */
@Test public void test_jdk_chap13_4_8_2(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitField(ACC_PUBLIC + ACC_FINAL,"aa","Ljava/lang/String;",null,new String("newBar")).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitField(ACC_PUBLIC,"aa","Ljava/lang/String;",null,new String("newBar")).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  assertTrue("If a change to the direct superclass or the set of direct superinterfaces results in any class or interface no longer being a superclass or superinterface, respectively, it will break binary compatibility.",newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration())).isCompatible());
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Check not containing more abstract methods
 */
@Test public void test_not_cotaining_more_abstract_methods(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC + ACC_ABSTRACT + ACC_INTERFACE,"pkg/Test",null,"java/lang/Object",new String[]{"versioning/java/files/TestB"});
  cw.visitMethod(ACC_PUBLIC + ACC_ABSTRACT,"getFoo","(I)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC + ACC_ABSTRACT + ACC_INTERFACE,"pkg/Test",null,"java/lang/Object",new String[]{"versioning/java/files/TestB"});
  cw.visitMethod(ACC_PUBLIC + ACC_ABSTRACT,"getFoo","(I)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  assertTrue("No change should not break compatibility.",newCV.getClassDeclaration().getBinaryCompatibleStatus(oldCV.getClassDeclaration()).isCompatible());
  assertEquals("Containing more abstract methods should return false.",0,newCV.getClassDeclaration().getExtraMethods(oldCV.getClassDeclaration()).size());
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Deleting a native modifier of a method does not break compatibility.
 */
@Test public void test_jdk_chap13_4_16_2(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitMethod(ACC_PUBLIC + ACC_NATIVE,"getCooLen","(Ljava/lang/String;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitField(ACC_PUBLIC + ACC_TRANSIENT,"aa","Ljava/lang/String;",null,new String("newBar")).visitEnd();
  cw.visitMethod(ACC_PUBLIC,"getCooLen","(Ljava/lang/String;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  assertTrue("Adding a native modifier of a method does not break compatibility.",newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration())).isCompatible());
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Changing field type breaks binary compatibility
 * with pre-existing binaries, provided that the total set of superclasses or superinterfaces, respectively, of the class type loses no members but the one of the fields has changed type.
 */
@Test public void test_jdk_chap13_4_7_4() throws IOException {
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"java/lang/Object",new String[]{"versioning/java/files/TestB"});
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  BinaryCompatibilityStatus bcs=newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration()));
  assertTrue("Changing the direct superclass or the set of direct superinterfaces of a class type results fields changes. This should breake binary compatibility if not losing any members.",bcs.size() == 2);
  assertEquals(new HashSet<String>(Arrays.asList(new String[]{"The public field bar was static but is changed to be non static or vice versa.","The public field bar has changed its type."})),new HashSet<String>(bcs));
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Changing a method to not to be abstract is not a binary compatibility change.
 */
@Test public void test_jdk_chap13_4_14_2(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitMethod(ACC_PUBLIC + ACC_ABASTRACT,"getCooLen","(Ljava/lang/String;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitField(ACC_PUBLIC + ACC_TRANSIENT,"aa","Ljava/lang/String;",null,new String("newBar")).visitEnd();
  cw.visitMethod(ACC_PUBLIC,"getCooLen","(Ljava/lang/String;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  assertTrue("Changing a method not to be abstract will not break binary compatibility.",newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration())).isCompatible());
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * If a field is added but is less accessible than the old one or change to static from non-static or from non-static to static.
 */
@Test public void test_jdk_chap13_4_7_2(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitField(ACC_PROTECTED,"bar","Ljava/lang/String;",null,new String("newBar")).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  BinaryCompatibilityStatus bcs=newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration()));
  assertEquals("The public field bar becomes less accessible.",bcs.get(0));
  assertTrue("The new field conflicts with a field in the super class. Check chapter 13.4.7 java spec for more info.",bcs.size() == 1);
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Test deleting a private/default field, this should not break compatibility.
 */
@Test public void test_jdk_chap13_4_7_1(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"java/lang/Object",null);
  cw.visitField(ACC_PRIVATE,"lESS","I",null,new Integer(-1)).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"java/lang/Object",null);
  cw.visitMethod(ACC_PROTECTED,"convert","(Ljava/lang/Object;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  assertTrue("Deleting a private field should not break binary compatibility.",newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration())).isCompatible());
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Changing an instance method that is final to be non-final is a binary compatibility change.
 */
@Test public void test_jdk_chap13_4_15_2(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitMethod(ACC_PUBLIC + ACC_FINAL,"getCooLen","(Ljava/lang/String;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitField(ACC_PUBLIC + ACC_TRANSIENT,"aa","Ljava/lang/String;",null,new String("newBar")).visitEnd();
  cw.visitMethod(ACC_PUBLIC,"getCooLen","(Ljava/lang/String;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  assertTrue("Changing an instance method from final to non-final will not break binary compatibility.",newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration())).isCompatible());
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Test adding a class member or constructor should not break binary compatibility.
 */
@Test public void test_jdk_chap13_4_5_3(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"java/lang/Object",null);
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"java/lang/Object",null);
  cw.visitMethod(ACC_PROTECTED,"convert","(Ljava/lang/Object;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  assertTrue("Adding a class member or constructor should not break binary compatibility.",newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration())).isCompatible());
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Changing a method return type in an interface should  break compatibility.
 */
@Test public void test_jdk_chap13_5_5_1(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC + ACC_ABSTRACT + ACC_INTERFACE,"pkg/Test",null,"java/lang/Object",new String[]{"versioning/java/files/TestB"});
  cw.visitMethod(ACC_PUBLIC,"getFoo","()I",null,null).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC + ACC_ABSTRACT + ACC_INTERFACE,"pkg/Test",null,"java/lang/Object",new String[]{"versioning/java/files/TestB"});
  cw.visitMethod(ACC_PUBLIC,"getFoo","(I)I",null,null).visitEnd();
  cw.visitMethod(ACC_PUBLIC,"getMoo","()I",null,null).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  BinaryCompatibilityStatus bcs=newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration()));
  assertEquals("The method int getFoo() has been deleted or its return type or parameter list has changed.",bcs.get(0));
  assertTrue("Changing a method return type in an interface should  break compatibility.",bcs.size() == 1);
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_jdk_chap13_4_6_1(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"java/lang/Object",null);
  cw.visitField(ACC_PUBLIC,"lESS","I",null,new Integer(-1)).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"java/lang/Object",null);
  cw.visitField(ACC_PROTECTED,"lESS","I",null,new Integer(-1)).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  BinaryCompatibilityStatus bcs=newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration()));
  assertEquals("The public field lESS becomes less accessible.",bcs.get(0));
  assertTrue("Changing the declared access of a field to permit less access  , this should break binary compatibility.",bcs.size() == 1);
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test deleting a class member or constructor that is not declared private/default breaks binary compatibility.
 */
@Test public void test_jdk_chap13_4_5_1(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"java/lang/Object",null);
  cw.visitMethod(ACC_PROTECTED + ACC_ABSTRACT,"convert","(Ljava/lang/Object;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"java/lang/Object",null);
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  BinaryCompatibilityStatus bcs=newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration()));
  assertEquals("The method int convert(java.lang.Object) has been deleted or its return type or parameter list has changed.",bcs.get(0));
  assertTrue("deleting a class member or constructor that is not declared private breaks binary compatibility.",bcs.size() == 1);
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Changes to the interface hierarchy resulting an interface not being a super interface should break compatibility.
 */
@Test public void test_jdk_chap13_5_2_1(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC + ACC_ABSTRACT + ACC_INTERFACE,"pkg/Test",null,"java/lang/Object",new String[]{"versioning/java/files/TestB"});
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC + ACC_ABSTRACT + ACC_INTERFACE,"pkg/Test",null,"java/lang/Object",null);
  cw.visitMethod(ACC_PUBLIC,"getFoo","I",null,null).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  BinaryCompatibilityStatus bcs=newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration()));
  assertEquals(new HashSet<String>(Arrays.asList(new String[]{"The public field bar has been deleted.","The superclasses or superinterfaces have stopped being super: [versioning/java/files/TestB].","The method java.lang.String getFoo() has been deleted or its return type or parameter list has changed."})),new HashSet<String>(bcs));
  assertFalse("Changes to the interface hierarchy resulting an interface not being a super interface should break compatibility.",bcs.isCompatible());
}

</code></pre>

<br>
<pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test of binary compatibility where a class was abstract is changed to be declared non-abstract,
 */
@Test public void test_jdk_chap13_4_1_2(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC + ACC_ABSTRACT,"pkg/Test",null,"java/lang/Object",null);
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"java/lang/Object",null);
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  BinaryCompatibilityStatus bcs=newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration()));
  assertTrue("When a class is changed from static to non-static, this should not break binary compatibility.",bcs.isCompatible());
}

</code></pre>

<br>
<pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * If a field was transient is changed to non-transient, then it will not break compatibility.
 */
@Test public void test_jdk_chap13_4_10_1(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitField(ACC_PUBLIC + ACC_TRANSIENT,"aa","Ljava/lang/String;",null,new String("newBar")).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitField(ACC_PUBLIC,"aa","Ljava/lang/String;",null,new String("newBar")).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  BinaryCompatibilityStatus bcs=newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration()));
  assertTrue("If a change to the direct superclass or the set of direct superinterfaces results in any class or interface no longer being a superclass or superinterface, respectively, it will break binary compatibility.",bcs.isCompatible());
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Changing the direct superclass or the set of direct superinterfaces of a class type will not break compatibility
 * with pre-existing binaries, provided that the total set of superclasses or superinterfaces, respectively, of the class type loses no members.
 */
@Test public void test_jdk_chap13_4_4_1() throws IOException {
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"java/lang/Object",new String[]{"versioning/java/files/TestB"});
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestBChild",null);
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  assertTrue("Changing the direct superclass or the set of direct superinterfaces of a class type will not breake binary compatibility if not losing any members.",newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration())).isCompatible());
}

</code></pre>

<br>
<pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test a binary compatibility where a class was final is changed to not final.
 */
@Test public void test_jdk_chap13_4_2_2(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC + ACC_FINAL,"pkg/Test",null,"java/lang/Object",null);
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"java/lang/Object",null);
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  BinaryCompatibilityStatus bcs=newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration()));
  assertTrue("When a class is changed from final to not final, this should not break binary compatibility.",bcs.isCompatible());
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Deleting a method in an interface should break compatibility.
 */
@Test public void test_jdk_chap13_5_3_1(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC + ACC_ABSTRACT + ACC_INTERFACE,"pkg/Test",null,"java/lang/Object",new String[]{"versioning/java/files/TestB"});
  cw.visitMethod(ACC_PUBLIC,"getFoo","()I",null,null).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC + ACC_ABSTRACT + ACC_INTERFACE,"pkg/Test",null,"java/lang/Object",new String[]{"versioning/java/files/TestB"});
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  BinaryCompatibilityStatus bcs=newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration()));
  assertEquals("The method int getFoo() has been deleted or its return type or parameter list has changed.",bcs.get(0));
  assertTrue("Deleting a method in an interface should break compatibility.",bcs.size() == 1);
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Testing deleting a public/protected method when there is no such a method in the superclass breaks binary compatibility.
 */
@Test public void test_jdk_chap13_4_11_1(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitMethod(ACC_PUBLIC,"getFooLen","(Ljava/lang/STring;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitField(ACC_PUBLIC + ACC_TRANSIENT,"aa","Ljava/lang/String;",null,new String("newBar")).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  BinaryCompatibilityStatus bcs=newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration()));
  assertEquals("The method int getFooLen(java.lang.STring) has been deleted or its return type or parameter list has changed.",bcs.get(0));
  assertTrue("Deleting a public/protected method when there is no such a method in the superclass breaks binary compatibility.",bcs.size() == 1);
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Testing deleting a public/protected method when there is less accessible method in the superclass does break binary compatibility.
 */
@Test public void test_jdk_chap13_4_11_3(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitMethod(ACC_PUBLIC,"getFooLen","(Ljava/lang/String;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitField(ACC_PUBLIC + ACC_TRANSIENT,"aa","Ljava/lang/String;",null,new String("newBar")).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  BinaryCompatibilityStatus bcs=newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration()));
  assertEquals("The method int getFooLen(java.lang.String) is less accessible.",bcs.get(0));
  assertTrue("If a change to the direct superclass or the set of direct superinterfaces results in any class or interface no longer being a superclass or superinterface, respectively, it will break binary compatibility.",bcs.size() == 1);
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Adding a parameter is a binary compatibility change.
 */
@Test public void test_jdk_chap13_4_12_1(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitMethod(ACC_PUBLIC,"getCooLen","(Ljava/lang/String;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitField(ACC_PUBLIC + ACC_TRANSIENT,"aa","Ljava/lang/String;",null,new String("newBar")).visitEnd();
  cw.visitMethod(ACC_PUBLIC,"getCooLen","(Ljava/lang/String;I)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  BinaryCompatibilityStatus bcs=newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration()));
  assertEquals("The method int getCooLen(java.lang.String) has been deleted or its return type or parameter list has changed.",bcs.get(0));
  assertTrue("Changing a parameter list will break binary compatibility.",bcs.size() == 1);
}

</code></pre>

<br>
<pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * If a method is  private was declared static and is changed to not be declared static, this does not break compatibility.
 */
@Test public void test_jdk_chap13_4_17_3(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitMethod(ACC_PRIVATE + ACC_STATIC,"getCooLen","(Ljava/lang/String;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitField(ACC_PUBLIC + ACC_TRANSIENT,"aa","Ljava/lang/String;",null,new String("newBar")).visitEnd();
  cw.visitMethod(ACC_PRIVATE,"getCooLen","(Ljava/lang/String;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  BinaryCompatibilityStatus bcs=newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration()));
  assertTrue("If a method is private was declared static and is changed to not be decalared static, this should not break compatibility.",bcs.isCompatible());
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Adding a synchronized modifier of a method does not break compatibility.
 */
@Test public void test_jdk_chap13_4_18_1(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitMethod(ACC_PUBLIC,"getCooLen","(Ljava/lang/String;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitMethod(ACC_PUBLIC + ACC_SYNCHRONIZED,"getCooLen","(Ljava/lang/String;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  assertTrue("Adding a synchronized modifier of a method does not break compatibility.",newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration())).isCompatible());
}

</code></pre>

<br>
<pre class="type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Changing a method formal type parameter is not a binary compatibility change.
 */
@Test public void test_jdk_chap13_4_12_3(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitMethod(ACC_PUBLIC,"getCooLen","(Ljava/util/List;)I","Ljava/lang/String;",null).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitMethod(ACC_PUBLIC,"getCooLen","(Ljava/util/List;)I","Lcome/ibm/blah;",null).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  BinaryCompatibilityStatus bcs=newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration()));
  assertTrue("Changing a method formal type parameter should not break binary compatibility.",bcs.isCompatible());
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Changing a method return type is a binary compatibility change.
 */
@Test public void test_jdk_chap13_4_13_1(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitMethod(ACC_PUBLIC,"getCooLen","(Ljava/lang/String;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitField(ACC_PUBLIC + ACC_TRANSIENT,"aa","Ljava/lang/String;",null,new String("newBar")).visitEnd();
  cw.visitMethod(ACC_PUBLIC,"getCooLen","(Ljava/lang/String;)[I",null,null).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  BinaryCompatibilityStatus bcs=newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration()));
  assertEquals("The method int getCooLen(java.lang.String) has been deleted or its return type or parameter list has changed.",bcs.get(0));
  assertTrue("Changing a method return type will break binary compatibility.",bcs.size() == 1);
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * If a method is not private was not declared static and is changed to be declared static, this breaks compatibility.
 */
@Test public void test_jdk_chap13_4_17_1(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitMethod(ACC_PUBLIC,"getCooLen","(Ljava/lang/String;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitField(ACC_PUBLIC + ACC_TRANSIENT,"aa","Ljava/lang/String;",null,new String("newBar")).visitEnd();
  cw.visitMethod(ACC_PUBLIC + ACC_STATIC,"getCooLen","(Ljava/lang/String;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  BinaryCompatibilityStatus bcs=newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration()));
  assertEquals("The method int getCooLen(java.lang.String) has changed from static to non-static or vice versa.",bcs.get(0));
  assertTrue("If a method is not private was not declared static and is changed to be decalared static, this should break compatibility.",bcs.size() == 1);
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Change the signature of the field from Colllection<AA> to Collection<String>
 */
@Test public void test_jdk_chap13_4_7_5(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"java/lang/Object",null);
  cw.visitField(ACC_PUBLIC,"more","Ljava/util/Collection;","Lcom/bim/AA;",null).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"java/lang/Object",null);
  cw.visitField(ACC_PROTECTED,"more","Ljava/util/Collection;","Ljava/lang/String;",null).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  BinaryCompatibilityStatus bcs=newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration()));
  assertEquals(new HashSet<String>(Arrays.asList(new String[]{"The public field more becomes less accessible."})),new HashSet<String>(bcs));
  assertTrue("Changing the declared access of a field to permit less access  , this should break binary compatibility.",bcs.size() == 1);
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * If a field was static is changed to be non-static, then it will break compatibility.
 */
@Test public void test_jdk_chap13_4_9_1(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitField(ACC_PUBLIC + ACC_STATIC,"aa","Ljava/lang/String;",null,new String("newBar")).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitField(ACC_PUBLIC,"aa","Ljava/lang/String;",null,new String("newBar")).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  BinaryCompatibilityStatus bcs=newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration()));
  assertEquals("The public field aa was static but is changed to be non static or vice versa.",bcs.get(0));
  assertTrue("If a field was static is changed to be non-static, then it will break compatibility.",bcs.size() == 1);
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Changing a method to be abstract is a binary compatibility change.
 */
@Test public void test_jdk_chap13_4_14_1(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitMethod(ACC_PUBLIC,"getCooLen","(Ljava/lang/String;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitField(ACC_PUBLIC + ACC_TRANSIENT,"aa","Ljava/lang/String;",null,new String("newBar")).visitEnd();
  cw.visitMethod(ACC_PUBLIC + ACC_ABSTRACT,"getCooLen","(Ljava/lang/String;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  BinaryCompatibilityStatus bcs=newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration()));
  assertEquals("The method int getCooLen(java.lang.String) has changed from non abstract to abstract.",bcs.get(0));
  assertTrue("Changing a method to be abstract will break binary compatibility.",bcs.size() == 1);
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Adding a native modifier of a method does not break compatibility.
 */
@Test public void test_jdk_chap13_4_16_1(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitMethod(ACC_PUBLIC + ACC_STATIC,"getCooLen","(Ljava/lang/String;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitField(ACC_PUBLIC + ACC_TRANSIENT,"aa","Ljava/lang/String;",null,new String("newBar")).visitEnd();
  cw.visitMethod(ACC_PUBLIC + ACC_STATIC + ACC_NATIVE,"getCooLen","(Ljava/lang/String;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  assertTrue("Adding a native modifier of a method does not break compatibility.",newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration())).isCompatible());
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * If a field was not final is changed to be final, then it can break compatibility.
 */
@Test public void test_jdk_chap13_4_8_1(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitField(ACC_PUBLIC,"aa","Ljava/lang/String;",null,new String("newBar")).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitField(ACC_PUBLIC + ACC_FINAL,"aa","Ljava/lang/String;",null,new String("newBar")).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  BinaryCompatibilityStatus bcs=newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration()));
  assertEquals("The public field aa was not final but has been changed to be final.",bcs.get(0));
  assertTrue("Change that a public or protected field was final but is changed to be not final will break binary compatibility.",bcs.size() == 1);
}

</code></pre>

<br>
<pre class="type-3 type-7 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Changing an instance method that is not final to be final is a binary compatibility change.
 */
@Test public void test_jdk_chap13_4_15_1(){
  ClassWriter cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitMethod(ACC_PUBLIC,"getCooLen","(Ljava/lang/String;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] oldBytes=cw.toByteArray();
  cw=new ClassWriter(0);
  cw.visit(V1_5,ACC_PUBLIC,"pkg/Test",null,"versioning/java/files/TestA",null);
  cw.visitField(ACC_PUBLIC + ACC_TRANSIENT,"aa","Ljava/lang/String;",null,new String("newBar")).visitEnd();
  cw.visitMethod(ACC_PUBLIC + ACC_FINAL,"getCooLen","(Ljava/lang/String;)I",null,null).visitEnd();
  cw.visitEnd();
  byte[] newBytes=cw.toByteArray();
  SemanticVersioningClassVisitor oldCV=new SemanticVersioningClassVisitor(loader);
  SemanticVersioningClassVisitor newCV=new SemanticVersioningClassVisitor(loader);
  ClassReader newCR=new ClassReader(newBytes);
  ClassReader oldCR=new ClassReader(oldBytes);
  newCR.accept(newCV,0);
  oldCR.accept(oldCV,0);
  BinaryCompatibilityStatus bcs=newCV.getClassDeclaration().getBinaryCompatibleStatus((oldCV.getClassDeclaration()));
  assertEquals("The method int getCooLen(java.lang.String) was not final but has been changed to be final.",bcs.get(0));
  assertTrue("Changing an instance method from non-final to final will break binary compatibility.",bcs.size() == 1);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.versioning.tests.FilterResultsTest </h4><pre class="type-4 type-5 type-3 type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test an error is excluded when required. This test uses two bundles each containing the same
 * class, where the later versioned class has had a method removed.
 */
@Test public void testApiMethodErrorExcluded(){
  try {
    File oldBundleFile=new File("../src/test/resources/api_1.0.0.jar");
    BundleInfo oldBundle=new BundleInfo(BundleManifest.fromBundle(oldBundleFile),oldBundleFile);
    File newBundleFile=new File("../src/test/resources/api_1.0.1.jar");
    BundleInfo newBundle=new BundleInfo(BundleManifest.fromBundle(newBundleFile),newBundleFile);
    String bundleSymbolicName=newBundle.getBundleManifest().getSymbolicName();
    URLClassLoader oldClassLoader=new URLClassLoader(new URL[]{oldBundle.getBundle().toURI().toURL()});
    URLClassLoader newClassLoader=new URLClassLoader(new URL[]{newBundle.getBundle().toURI().toURL()});
    List<String> excludes=new ArrayList<String>();
    excludes.add("method void methodToBeExcludedFrom() has been deleted");
    BundleCompatibility bundleCompatibility=new BundleCompatibility(bundleSymbolicName,newBundle,oldBundle,oldClassLoader,newClassLoader,excludes);
    bundleCompatibility.invoke();
    String bundleElement=bundleCompatibility.getBundleElement();
    String pkgElement=bundleCompatibility.getPkgElements().toString();
    assertTrue("Unexpected bundle versioning issue",bundleElement == null);
    assertTrue("Unexpected package versioning issue",pkgElement.trim().length() == 0);
  }
 catch (  IOException e) {
    fail("Unexpected IOException " + e);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.web.converter.impl.JSPImportParserTest </h4><pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testJSPImportParser() throws Exception {
  InputStream helloImport=getClass().getClassLoader().getResourceAsStream("JSPs/helloImport.jsp");
  Collection<String> imports=JSPImportParser.getImports(helloImport);
  assertTrue("Four imports expected",imports.size() == 4);
  assertTrue(imports.contains("javax.jms"));
  assertTrue(imports.contains("javax.mystuff"));
  assertTrue(imports.contains("javax.transaction"));
  assertTrue(imports.contains("a.b"));
  assertFalse(imports.contains("java.util"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.web.converter.impl.WabConverterTest </h4><pre class="type-4 type-3 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBundleContextPathOverride() throws Exception {
  Manifest m=new Manifest();
  Attributes attrs=m.getMainAttributes();
  attrs.putValue(Constants.BUNDLE_SYMBOLICNAME,"org.apache.test");
  attrs.putValue(Constants.BUNDLE_VERSION,"1.0");
  attrs.putValue(Constants.IMPORT_PACKAGE,"org.apache.util,org.apache.test;version=1.0");
  attrs.putValue(Constants.BUNDLE_CLASSPATH,"jsp/classes");
  attrs=convertWithProperties(m,WarToWabConverter.WEB_CONTEXT_PATH,"WebFiles");
  assertEquals("org.apache.test",attrs.getValue(Constants.BUNDLE_SYMBOLICNAME));
  assertEquals("1.0",attrs.getValue(Constants.BUNDLE_VERSION));
  assertTrue(attrs.getValue(Constants.IMPORT_PACKAGE).contains("org.apache.util"));
  assertTrue(attrs.getValue(Constants.IMPORT_PACKAGE).contains("org.apache.test;version=1.0"));
  assertEquals("jsp/classes",attrs.getValue(Constants.BUNDLE_CLASSPATH));
  assertEquals("/WebFiles",attrs.getValue(WarToWabConverter.WEB_CONTEXT_PATH));
}

</code></pre>

<br>
<pre class="type-3 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDefaultProperties() throws Exception {
  Attributes attrs=convertWithProperties(WarToWabConverter.WEB_CONTEXT_PATH,"/test");
  assertTrue(attrs.getValue(Constants.BUNDLE_SYMBOLICNAME).startsWith(WAR_FILE_NAME_WO_SUFFIX));
  assertEquals("1.0",attrs.getValue(Constants.BUNDLE_VERSION));
  assertEquals(DEFAULT_IMPORTS,attrs.getValue(Constants.IMPORT_PACKAGE));
  assertEquals("WEB-INF/classes",attrs.getValue(Constants.BUNDLE_CLASSPATH));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBundleContextPathManifestOverride() throws Exception {
  Manifest m=new Manifest();
  Attributes attrs=m.getMainAttributes();
  attrs.putValue(Constants.BUNDLE_SYMBOLICNAME,"org.apache.test");
  attrs.putValue(WarToWabConverter.WEB_CONTEXT_PATH,"test");
  attrs.putValue(Constants.BUNDLE_VERSION,"1.0");
  attrs.putValue(Constants.IMPORT_PACKAGE,"org.apache.util,org.apache.test;version=1.0");
  attrs.putValue(Constants.BUNDLE_CLASSPATH,"jsp/classes");
  attrs=convertWithProperties(m,WarToWabConverter.WEB_CONTEXT_PATH,"WebFiles");
  assertEquals("org.apache.test",attrs.getValue(Constants.BUNDLE_SYMBOLICNAME));
  assertEquals("1.0",attrs.getValue(Constants.BUNDLE_VERSION));
  assertTrue(attrs.getValue(Constants.IMPORT_PACKAGE).contains("org.apache.util"));
  assertTrue(attrs.getValue(Constants.IMPORT_PACKAGE).contains("org.apache.test;version=1.0"));
  assertEquals("jsp/classes",attrs.getValue(Constants.BUNDLE_CLASSPATH));
  assertEquals("/WebFiles",attrs.getValue(WarToWabConverter.WEB_CONTEXT_PATH));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test that we can handle a null manifest (in case a jar archive was created without manifest)
 */
@Test public void testNullManifest() throws Exception {
  Properties properties=new Properties();
  properties.put(WarToWabConverter.WEB_CONTEXT_PATH,"/test");
  WarToWabConverterImpl sut=new WarToWabConverterImpl(makeTestFile(new byte[0]),WAR_FILE_NAME,properties);
  Manifest res=sut.updateManifest(null);
  Attributes attrs=res.getMainAttributes();
  assertTrue(attrs.getValue("Import-Package").contains("javax.servlet"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.aries.web.converter.itest.WabConverterITest </h4><pre class="type-4 type-3 type-7 type-1 type-8 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getStarted() throws Exception {
  File testWar=File.createTempFile("test",".war");
  createTestWar(testWar);
  String baseUrl="webbundle:" + testWar.toURI().toURL().toExternalForm();
  assertTrue("Time out waiting for webbundle URL handler",waitForURLHandler(baseUrl));
  Bundle converted=bundleContext.installBundle(baseUrl + "?Bundle-SymbolicName=test.war.bundle&Web-ContextPath=foo");
  assertNotNull(converted);
  Dictionary<String,String> man=converted.getHeaders();
  assertEquals("test.war.bundle",man.get(Constants.BUNDLE_SYMBOLICNAME));
  assertEquals("/foo",man.get("Web-ContextPath"));
  assertTrue(man.get(Constants.IMPORT_PACKAGE).contains("javax.naming"));
  new File("test.war").delete();
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
