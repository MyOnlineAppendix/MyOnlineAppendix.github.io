<h3 style="margin:0px">Class: org.apache.sis.referencing.factory.sql.EPSGFactoryTest (26 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(24)</kbd></button>&nbsp;<button id="10"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('10')" data-toggle="tooltip" title="Verifies whether two objects/variables are the same"><kbd id="tag-10"class="label-info"style="display: inline-block;font-size:7pt" >IdentityVerifier&nbsp;(21)</kbd></button>&nbsp;<button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(12)</kbd></button>&nbsp;<button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(10)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(6)</kbd></button>&nbsp;<button id="8"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('8')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-8"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="12"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('12')" data-toggle="tooltip" title="Verifies assertions inside branch conditions"><kbd id="tag-12"class="label-info"style="display: inline-block;font-size:7pt" >BranchVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="14"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('14')" data-toggle="tooltip" title="Releases resources used by the test cases"><kbd id="tag-14"class="label-info"style="display: inline-block;font-size:7pt" >TestCleaner&nbsp;(1)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Is not executed with the test suite"><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >IgnoredMethod&nbsp;(1)</kbd></button>&nbsp;<button id="11"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('11')" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure"><kbd id="tag-11"class="label-info"style="display: inline-block;font-size:7pt" >UtilityVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-3 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
/** 
 * Tests a projected CRS fetched by its name instead than its code.
 * Tests also {@link EPSGDataAccess#createObject(String)}.
 * @throws FactoryException if an error occurred while querying the factory.
 * @see #testCreateByName()
 */
@Test @DependsOnMethod("testCreateByName") public void testProjectedByName() throws FactoryException {
  assumeNotNull(factory);
  final ProjectedCRS crs=factory.createProjectedCRS("NTF (Paris) / Lambert zone I");
  assertEpsgNameAndIdentifierEqual("NTF (Paris) / Lambert zone I",27571,crs);
  assertEpsgNameAndIdentifierEqual("NTF (Paris)",4807,crs.getBaseCRS());
  assertEpsgNameAndIdentifierEqual("Lambert Conic Conformal (1SP)",9801,crs.getConversionFromBase().getMethod());
  assertEpsgNameAndIdentifierEqual("Lambert zone I",18081,crs.getConversionFromBase());
  assertAxisDirectionsEqual("EPSG::4499",crs.getCoordinateSystem(),AxisDirection.EAST,AxisDirection.NORTH);
  assertSame(crs,factory.createProjectedCRS("27571"));
  assertSame(crs,factory.createObject("27571"));
  assertSame(crs,factory.createObject("NTF (Paris) / Lambert zone I"));
  assertSame(crs,factory.createProjectedCRS("NTF Paris Lambert zone I"));
  assertSame(crs,factory.createObject("NTF Paris Lambert zone I"));
}

</code></pre>

<pre class="type-12 type-3 type-4 type-1 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests {@link EPSGDataAccess#getAuthorityCodes(Class)} method.
 * Some parts of this test are very slow. The slow parts are disabled by default.
 * @throws FactoryException if an error occurred while querying the factory.
 */
@Test public void testAuthorityCodes() throws FactoryException {
  assumeNotNull(factory);
  final Set<String> axes=factory.getAuthorityCodes(CoordinateSystemAxis.class);
  assertFalse("Axes not found.",axes.isEmpty());
  assertTrue("Shall contain Geocentric X.",axes.contains("115"));
  final Set<String> coordinateSystems=factory.getAuthorityCodes(CoordinateSystem.class);
  assertFalse("Coordinate systems not found.",coordinateSystems.isEmpty());
  assertTrue("Shall contain ellipsoidal CS.",coordinateSystems.contains("6422"));
  final Set<String> primeMeridians=factory.getAuthorityCodes(PrimeMeridian.class);
  assertFalse("Prime meridian not found.",primeMeridians.isEmpty());
  assertTrue("Check size() consistency.",primeMeridians.size() >= 14);
  assertTrue("Shall contain Greenwich.",primeMeridians.contains("8901"));
  assertTrue("Shall contain Paris.",primeMeridians.contains("8903"));
  final Set<String> ellipsoids=factory.getAuthorityCodes(Ellipsoid.class);
  assertFalse("Ellipsoid not found.",ellipsoids.isEmpty());
  assertTrue("Check size() consistency.",ellipsoids.size() >= 49);
  assertTrue("Shall contain WGS84.",ellipsoids.contains("7030"));
  assertTrue("Shall contain GRS 1980.",ellipsoids.contains("7019"));
  final Set<String> datum=factory.getAuthorityCodes(Datum.class);
  assertFalse("Datum not found.",datum.isEmpty());
  assertTrue("Shall contain WGS84.",datum.contains("6326"));
  assertTrue("Shall contain MSL.",datum.contains("5100"));
  final Set<String> geodeticDatum=factory.getAuthorityCodes(GeodeticDatum.class);
  assertFalse("Geodetic datum not found.",geodeticDatum.isEmpty());
  assertTrue("Shall contain WGS84.",geodeticDatum.contains("6326"));
  assertFalse("Shall not contain vertical datum.",geodeticDatum.contains("5100"));
  assertFalse("Geodetic datum should be a subset of datum.",geodeticDatum.containsAll(datum));
  final Set<String> verticalDatum=factory.getAuthorityCodes(VerticalDatum.class);
  assertFalse("Vertical datum not found.",verticalDatum.isEmpty());
  assertTrue("Check size() consistency.",verticalDatum.size() >= 124);
  assertFalse("Shall not contain WGS84.",verticalDatum.contains("6326"));
  assertTrue("Shall contain Mean Sea Level (MSL).",verticalDatum.contains("5100"));
  assertFalse("Vertical datum should be a subset of datum.",verticalDatum.containsAll(datum));
  assertTrue("Vertical datum should be a subset of datum.",datum.containsAll(verticalDatum));
  if (RUN_EXTENSIVE_TESTS) {
    assertTrue("Check size() consistency.",geodeticDatum.size() >= 445);
    assertTrue("Geodetic datum should be a subset of datum.",datum.size() > geodeticDatum.size());
    assertTrue("Vertical datum should be a subset of datum.",datum.size() > verticalDatum.size());
    assertTrue("Geodetic datum should be a subset of datum.",datum.containsAll(geodeticDatum));
  }
  final Set<String> crs=factory.getAuthorityCodes(CoordinateReferenceSystem.class);
  assertFalse("CRS not found.",crs.isEmpty());
  assertTrue("Shall contain WGS84.",crs.contains("4326"));
  assertTrue("Shall contain World Mercator.",crs.contains("3395"));
  if (RUN_EXTENSIVE_TESTS) {
    assertTrue("Check size() consistency.",crs.size() >= 4175);
    assertEquals("Check size() consistency.",crs.size(),crs.size());
  }
  final Set<String> geographicCRS=factory.getAuthorityCodes(GeographicCRS.class);
  assertFalse("GeographicCRS not found.",geographicCRS.isEmpty());
  assertTrue("Shall contain WGS84.",geographicCRS.contains("4326"));
  assertFalse("Shall not contain projected CRS.",geographicCRS.contains("3395"));
  if (RUN_EXTENSIVE_TESTS) {
    assertTrue("Check size() consistency.",geographicCRS.size() >= 468);
    assertTrue("Geographic CRS should be a subset of CRS.",geographicCRS.size() < crs.size());
    assertFalse("Geographic CRS should be a subset of CRS.",geographicCRS.containsAll(crs));
    assertTrue("Geographic CRS should be a subset of CRS.",crs.containsAll(geographicCRS));
  }
  final Set<String> projectedCRS=factory.getAuthorityCodes(ProjectedCRS.class);
  assertFalse("ProjectedCRS not found.",projectedCRS.isEmpty());
  assertFalse("Shall not contain geographic CRS.",projectedCRS.contains("4326"));
  assertTrue("Shall contain World Mercator.",projectedCRS.contains("3395"));
  if (RUN_EXTENSIVE_TESTS) {
    assertTrue("Check size() consistency.",projectedCRS.size() >= 3441);
    assertTrue("Projected CRS should be a subset of CRS.",projectedCRS.size() < crs.size());
    assertFalse("Projected CRS should be a subset of CRS.",projectedCRS.containsAll(crs));
    assertTrue("Projected CRS should be a subset of CRS.",crs.containsAll(projectedCRS));
    assertTrue("Projected CRS can not be Geographic CRS.",Collections.disjoint(geographicCRS,projectedCRS));
  }
  final Set<String> methods=factory.getAuthorityCodes(OperationMethod.class);
  final Set<String> parameters=factory.getAuthorityCodes(ParameterDescriptor.class);
  final Set<String> operations=factory.getAuthorityCodes(SingleOperation.class);
  final Set<String> conversions=factory.getAuthorityCodes(Conversion.class);
  final Set<String> projections=factory.getAuthorityCodes(Projection.class);
  final Set<String> transformations=factory.getAuthorityCodes(Transformation.class);
  assertFalse("Methods not found.",methods.isEmpty());
  assertFalse("Parameters not found.",parameters.isEmpty());
  assertFalse("Operations not found.",operations.isEmpty());
  assertFalse("Conversions not found.",conversions.isEmpty());
  assertFalse("Projections not found.",projections.isEmpty());
  assertFalse("Transformations not found.",transformations.isEmpty());
  assertTrue("Shall contain “Mercator 1SP”",methods.contains("9804"));
  assertTrue("Shall contain “Scale factor”",parameters.contains("8805"));
  assertTrue("Shall contain “ED50 to WGS 84 (1)”",operations.contains("1133"));
  assertFalse("Shall not contain “ED50 to WGS 84 (1)”",conversions.contains("1133"));
  assertFalse("Shall not contain “ED50 to WGS 84 (1)”",projections.contains("1133"));
  assertTrue("Shall contain “ED50 to WGS 84 (1)”",transformations.contains("1133"));
  assertTrue("Shall contain “UTM zone 1N”",operations.contains("16001"));
  assertTrue("Shall contain “UTM zone 1N”",conversions.contains("16001"));
  assertTrue("Shall contain “UTM zone 1N”",projections.contains("16001"));
  assertFalse("Shall not contain “UTM zone 1N”",transformations.contains("16001"));
  if (RUN_EXTENSIVE_TESTS) {
    assertTrue("Conversions shall be a subset of operations.",conversions.size() < operations.size());
    assertTrue("Projections shall be a subset of operations.",projections.size() < operations.size());
    assertTrue("Projections shall be a subset of conversions.",projections.size() < conversions.size());
    assertTrue("Transformations shall be a subset of operations.",transformations.size() < operations.size());
    assertFalse("Projections shall be a subset of conversions.",projections.containsAll(conversions));
    assertTrue("Projections shall be a subset of conversions.",conversions.containsAll(projections));
    assertTrue("Conversion shall be a subset of operations.",operations.containsAll(conversions));
    assertTrue("Transformations shall be a subset of operations.",operations.containsAll(transformations));
    assertTrue("Conversions can not be transformations.",Collections.disjoint(conversions,transformations));
  }
  @SuppressWarnings({"unchecked","rawtypes"}) final Set<?> units=factory.getAuthorityCodes((Class)Unit.class);
  assertFalse(units.isEmpty());
  assertTrue(units.size() > 0);
  if (RUN_EXTENSIVE_TESTS) {
    final Set<String> all=factory.getAuthorityCodes(IdentifiedObject.class);
    assertTrue(all.containsAll(crs));
    assertTrue(all.containsAll(datum));
    assertTrue(all.containsAll(operations));
    assertFalse(all.containsAll(units));
  }
  @SuppressWarnings({"unchecked","rawtypes"}) final Class<? extends IdentifiedObject> wrong=(Class)String.class;
  assertTrue("Dummy type",factory.getAuthorityCodes(wrong).isEmpty());
}

</code></pre>

<pre class="type-3 type-10 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests the "UTM zone 10N" conversion (EPSG::16010).
 * @throws FactoryException if an error occurred while querying the factory.
 */
@Test @DependsOnMethod("testProjectedWithSharedConversion") public void testConversion() throws FactoryException {
  assumeNotNull(factory);
  final CoordinateOperation operation=factory.createCoordinateOperation("16010");
  assertEpsgNameAndIdentifierEqual("UTM zone 10N",16010,operation);
  assertInstanceOf("EPSG::16010",Conversion.class,operation);
  assertNull("sourceCRS",operation.getSourceCRS());
  assertNull("targetCRS",operation.getTargetCRS());
  assertNull("transform",operation.getMathTransform());
  final ProjectedCRS crs=factory.createProjectedCRS("32210");
  final CoordinateOperation projection=crs.getConversionFromBase();
  assertEpsgNameAndIdentifierEqual("WGS 72 / UTM zone 10N",32210,crs);
  assertEpsgNameAndIdentifierEqual("UTM zone 10N",16010,projection);
  assertNotSame("The defining conversion and the actual conversion should differ since the " + "actual conversion should have semi-axis length values.",projection,operation);
  assertInstanceOf("EPSG::16010",CylindricalProjection.class,projection);
  assertNotNull("sourceCRS",projection.getSourceCRS());
  assertNotNull("targetCRS",projection.getTargetCRS());
  assertNotNull("transform",projection.getMathTransform());
  final OperationMethod copMethod=((SingleOperation)operation).getMethod();
  final OperationMethod crsMethod=((SingleOperation)projection).getMethod();
  assertEpsgNameAndIdentifierEqual("Transverse Mercator",9807,copMethod);
  assertEpsgNameAndIdentifierEqual("Transverse Mercator",9807,crsMethod);
  try {
    assertSame("Conversion method",copMethod,crsMethod);
    assertSame("Conversion method",copMethod,factory.createOperationMethod("9807"));
  }
 catch (  AssertionError error) {
    out.println("The following contains more information about a JUnit test failure.");
    out.println("See the JUnit report for the stack trace. Below is a cache dump.");
    out.println("See the operation method EPSG::9807 and compare with:");
    out.print("  - Method obtained directly:   ");
    out.println(System.identityHashCode(copMethod));
    out.print("  - Method obtained indirectly: ");
    out.println(System.identityHashCode(crsMethod));
    out.println("Content of EPSGFactory cache:");
    factory.printCacheContent(out);
    throw error;
  }
}

</code></pre>

<pre class="type-3 type-10 type-1 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests a deprecated projected CRS.
 * This test verifies that the expected warnings are logged.
 * @throws FactoryException if an error occurred while querying the factory.
 */
@Test @DependsOnMethod("testDeprecatedGeographic") public void testDeprecatedProjected() throws FactoryException {
  assumeNotNull(factory);
  listener.maximumLogCount=3;
  expectedLogWords=new String[][]{{"EPSG:9823","1029"},{"EPSG:19968","4086"},{"EPSG:3786","4088"}};
  final ProjectedCRS crs=factory.createProjectedCRS("3786");
  assertEpsgNameAndIdentifierEqual("World Equidistant Cylindrical (Sphere)",3786,crs);
  assertEpsgNameAndIdentifierEqual("Equidistant Cylindrical (Spherical)",9823,crs.getConversionFromBase().getMethod());
  assertAxisDirectionsEqual("EPSG::4499",crs.getCoordinateSystem(),AxisDirection.EAST,AxisDirection.NORTH);
  assertEquals("All warnings should have been logged at this point.",0,listener.maximumLogCount);
  final ProjectedCRS replacement=factory.createProjectedCRS("4088");
  assertEpsgNameAndIdentifierEqual("World Equidistant Cylindrical (Sphere)",4088,replacement);
  assertEpsgNameAndIdentifierEqual("Equidistant Cylindrical (Spherical)",1029,replacement.getConversionFromBase().getMethod());
  assertSame("Base CRS",crs.getBaseCRS(),replacement.getBaseCRS());
  assertSame("Coordinate system",crs.getCoordinateSystem(),replacement.getCoordinateSystem());
  assertSame("CRS shall be cached",crs,factory.createCoordinateReferenceSystem("3786"));
  assertSame("CRS shall be cached",replacement,factory.createCoordinateReferenceSystem("4088"));
}

</code></pre>

<pre class="type-11 type-3 type-10 type-1 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests the creation of CRS using name instead of primary key.
 * @throws FactoryException if an error occurred while querying the factory.
 * @see #testProjectedByName()
 */
@Test public void testCreateByName() throws FactoryException {
  assumeNotNull(factory);
  assertSame(factory.createUnit("9002"),factory.createUnit("foot"));
  assertNotSame(factory.createUnit("9001"),factory.createUnit("foot"));
  final CoordinateSystem cs=factory.createCoordinateSystem("Ellipsoidal 2D CS. Axes: latitude, longitude. Orientations: north, east. UoM: degree");
  assertEpsgNameAndIdentifierEqual("Ellipsoidal 2D CS. Axes: latitude, longitude. Orientations: north, east. UoM: degree",6422,cs);
  try {
    factory.createGeographicCRS("WGS83");
    fail("Should not find a geographic CRS named “WGS83” (the actual name is “WGS 84”).");
  }
 catch (  NoSuchAuthorityCodeException e) {
    assertEquals("WGS83",e.getAuthorityCode());
  }
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests the {@link EPSGDataAccess#getDescriptionText(String)} method.
 * @throws FactoryException if an error occurred while querying the factory.
 */
@Test public void testDescriptionText() throws FactoryException {
  assumeNotNull(factory);
  assertEquals("World Geodetic System 1984",factory.getDescriptionText("6326").toString(Locale.US));
  assertEquals("Mean Sea Level",factory.getDescriptionText("5100").toString(Locale.US));
  assertEquals("NTF (Paris) / Nord France",factory.getDescriptionText("27591").toString(Locale.US));
  assertEquals("NTF (Paris) / France II",factory.getDescriptionText("27582").toString(Locale.US));
  assertEquals("Ellipsoidal height",factory.getDescriptionText("84").toString(Locale.US));
}

</code></pre>

<pre class="type-3 type-4 type-10 type-1 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests {@link EPSGDataAccess#createFromCoordinateReferenceSystemCodes(String,String)}.
 * This method verifies the presence of 3 {@link Transformation} instances between the same source and target CRS.
 * @throws FactoryException if an error occurred while querying the factory.
 */
@Test @DependsOnMethod("testTransformation") public void testCreateFromCoordinateReferenceSystemCodes() throws FactoryException {
  assumeNotNull(factory);
  final CoordinateOperation operation1=factory.createCoordinateOperation("1087");
  final CoordinateReferenceSystem sourceCRS=operation1.getSourceCRS();
  final CoordinateReferenceSystem targetCRS=operation1.getTargetCRS();
  final MathTransform transform=operation1.getMathTransform();
  assertInstanceOf("EPSG::1087",Transformation.class,operation1);
  assertEpsgNameAndIdentifierEqual("ED50 to WGS 84 (37)",1087,operation1);
  assertEpsgNameAndIdentifierEqual("ED50",4230,sourceCRS);
  assertEpsgNameAndIdentifierEqual("WGS 84",4326,targetCRS);
  assertFalse("transform.isIdentity()",operation1.getMathTransform().isIdentity());
  assertEquals(2.5,AbstractCoordinateOperation.castOrCopy(operation1).getLinearAccuracy(),STRICT);
  final CoordinateOperation operation2=factory.createCoordinateOperation("1631");
  assertEpsgNameAndIdentifierEqual("ED50 to WGS 84 (27)",1631,operation2);
  assertInstanceOf("EPSG::1631",Transformation.class,operation2);
  assertSame("sourceCRS",sourceCRS,operation2.getSourceCRS());
  assertSame("targetCRS",targetCRS,operation2.getTargetCRS());
  assertFalse("transform.isIdentity()",operation2.getMathTransform().isIdentity());
  assertFalse("Should be a more accurate transformation.",transform.equals(operation2.getMathTransform()));
  assertEquals(1.5,AbstractCoordinateOperation.castOrCopy(operation2).getLinearAccuracy(),STRICT);
  final CoordinateOperation operation3=factory.createCoordinateOperation("1989");
  assertInstanceOf("EPSG::1989",Transformation.class,operation3);
  assertEpsgNameAndIdentifierEqual("ED50 to WGS 84 (34)",1989,operation3);
  assertSame("sourceCRS",sourceCRS,operation3.getSourceCRS());
  assertSame("targetCRS",targetCRS,operation3.getTargetCRS());
  assertFalse("transform.isIdentity()",operation3.getMathTransform().isIdentity());
  assertFalse("Should be a more accurate transformation.",transform.equals(operation3.getMathTransform()));
  assertEquals(1.0,AbstractCoordinateOperation.castOrCopy(operation3).getLinearAccuracy(),STRICT);
  final Set<CoordinateOperation> all=factory.createFromCoordinateReferenceSystemCodes("4230","4326");
  assertTrue("Number of coordinate operations.",all.size() >= 3);
  assertTrue("contains(“EPSG::1087”)",all.contains(operation1));
  assertTrue("contains(“EPSG::1631”)",all.contains(operation2));
  assertTrue("contains(“EPSG::1989”)",all.contains(operation3));
  int count=0;
  listener.maximumLogCount=all.size();
  for (  final CoordinateOperation tr : all) {
    assertSame("sourceCRS",sourceCRS,tr.getSourceCRS());
    assertSame("targetCRS",targetCRS,tr.getTargetCRS());
    if (count == 0) {
      assertEpsgNameAndIdentifierEqual("ED50 to WGS 84 (23)",1612,tr);
    }
    count++;
  }
  assertEquals(count,all.size());
}

</code></pre>

<pre class="type-3 type-10 type-1 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests the "Beijing 1954 / 3-degree Gauss-Kruger CM 135E" projected CRS (EPSG::2442).
 * This projected CRS has (North, East) axis orientations instead of (East, North).
 * @throws FactoryException if an error occurred while querying the factory.
 */
@Test @DependsOnMethod("testProjected") public void testProjectedNorthEast() throws FactoryException {
  assumeNotNull(factory);
  final ProjectedCRS crs=factory.createProjectedCRS(" EPSG : 2442 ");
  assertEpsgNameAndIdentifierEqual("Beijing 1954 / 3-degree Gauss-Kruger CM 135E",2442,crs);
  assertAliasTipEquals("Beijing 1954 / 3GK 135E",crs);
  assertEpsgNameAndIdentifierEqual("Beijing 1954",4214,crs.getBaseCRS());
  assertEpsgNameAndIdentifierEqual("Beijing 1954",6214,crs.getDatum());
  assertEpsgNameAndIdentifierEqual("Transverse Mercator",9807,crs.getConversionFromBase().getMethod());
  assertEpsgNameAndIdentifierEqual("Gauss-Kruger CM 135E",16323,crs.getConversionFromBase());
  assertAxisDirectionsEqual("EPSG::4530",crs.getCoordinateSystem(),AxisDirection.NORTH,AxisDirection.EAST);
  final ParameterValueGroup parameters=crs.getConversionFromBase().getParameterValues();
  assertEquals("Transverse Mercator",parameters.getDescriptor().getName().getCode());
  assertEquals("central_meridian",135,parameters.parameter("central_meridian").doubleValue(),STRICT);
  assertEquals("latitude_of_origin",0,parameters.parameter("latitude_of_origin").doubleValue(),STRICT);
  assertEquals("scale_factor",1,parameters.parameter("scale_factor").doubleValue(),STRICT);
  assertEquals("false_easting",500000,parameters.parameter("false_easting").doubleValue(),STRICT);
  assertEquals("false_northing",0,parameters.parameter("false_northing").doubleValue(),STRICT);
  assertSame("CRS shall be cached",crs,factory.createCoordinateReferenceSystem("2442"));
}

</code></pre>

<pre class="type-3 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
/** 
 * Tests the "Barcelona Grid B1" engineering CRS (EPSG::5801).
 * @throws FactoryException if an error occurred while querying the factory.
 */
@Test public void testEngineering() throws FactoryException {
  assumeNotNull(factory);
  final EngineeringCRS crs=factory.createEngineeringCRS("EPSG:5801");
  assertEpsgNameAndIdentifierEqual("Barcelona Grid B1",5801,crs);
  assertEpsgNameAndIdentifierEqual("Barcelona",9301,crs.getDatum());
  assertAxisDirectionsEqual("EPSG::4500",crs.getCoordinateSystem(),AxisDirection.NORTH,AxisDirection.EAST);
  assertSame("CRS shall be cached",crs,factory.createCoordinateReferenceSystem("5801"));
}

</code></pre>

<pre class="type-3 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
/** 
 * Tests longitude rotation (EPSG::1764). This is a very simple case for checking
 * that this part is okay before to try more complex transformations.
 * @throws FactoryException if an error occurred while querying the factory.
 */
@Test public void testSimpleTransformation() throws FactoryException {
  assumeNotNull(factory);
  final CoordinateOperation operation=factory.createCoordinateOperation("1764");
  assertEpsgNameAndIdentifierEqual("NTF (Paris) to NTF (2)",1764,operation);
  assertInstanceOf("EPSG::1764",Transformation.class,operation);
  assertSame("Operation shall be cached",operation,factory.createCoordinateOperation("1764"));
}

</code></pre>

<pre class="type-3 type-4 type-10 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests the "Datum 73" geographic CRS (EPSG::4274), which has a datum different than the WGS84 one.
 * @throws FactoryException if an error occurred while querying the factory.
 */
@Test @DependsOnMethod("testWGS84") public void testGeographic2D() throws FactoryException {
  assumeNotNull(factory);
  final GeographicCRS crs=factory.createGeographicCRS("4274");
  assertEpsgNameAndIdentifierEqual("Datum 73",4274,crs);
  assertEpsgNameAndIdentifierEqual("Datum 73",6274,crs.getDatum());
  assertAxisDirectionsEqual("EPSG::6422",crs.getCoordinateSystem(),AxisDirection.NORTH,AxisDirection.EAST);
  final BursaWolfParameters[] bwp=((DefaultGeodeticDatum)crs.getDatum()).getBursaWolfParameters();
  assertTrue("Expected a transformation to WGS84.",bwp.length >= 1);
  assertSame("CRS shall be cached",crs,factory.createCoordinateReferenceSystem("4274"));
}

</code></pre>

<pre class="type-3 type-10 type-1 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests the "WGS 84" geographic CRS (EPSG::4326).
 * @throws FactoryException if an error occurred while querying the factory.
 */
@Test public void testWGS84() throws FactoryException {
  assumeNotNull(factory);
  final GeographicCRS crs=factory.createGeographicCRS("EPSG:4326");
  assertEpsgNameAndIdentifierEqual("WGS 84",4326,crs);
  assertEpsgNameAndIdentifierEqual("World Geodetic System 1984",6326,crs.getDatum());
  assertAxisDirectionsEqual("EPSG::6422",crs.getCoordinateSystem(),AxisDirection.NORTH,AxisDirection.EAST);
  final BursaWolfParameters[] bwp=((DefaultGeodeticDatum)crs.getDatum()).getBursaWolfParameters();
  assertEquals("Expected no Bursa-Wolf parameters.",0,bwp.length);
  assertSame("CRS shall be cached",crs,factory.createCoordinateReferenceSystem("4326"));
}

</code></pre>

<pre class="type-3 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
/** 
 * Tests the "Black Sea height" vertical CRS (EPSG:5735).
 * @throws FactoryException if an error occurred while querying the factory.
 */
@Test public void testVertical() throws FactoryException {
  assumeNotNull(factory);
  final VerticalCRS crs=factory.createVerticalCRS("EPSG:5735");
  assertEpsgNameAndIdentifierEqual("Black Sea height",5735,crs);
  assertEpsgNameAndIdentifierEqual("Black Sea",5134,crs.getDatum());
  assertSame("CRS shall be cached",crs,factory.createCoordinateReferenceSystem("5735"));
  assertAxisDirectionsEqual("EPSG::6499",crs.getCoordinateSystem(),AxisDirection.UP);
}

</code></pre>

<pre class="type-3 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
/** 
 * Tests the "WGS 72 / UTM zone 10N" projection and ensures
 * that it is not confused with "WGS 72BE / UTM zone 10N".
 * In the EPSG database, those two projected CRS use the same conversion.
 * However in Apache SIS the conversions must differ because the datum are not the same.
 * @throws FactoryException if an error occurred while querying the factory.
 */
@Test @DependsOnMethod("testProjected") public void testProjectedWithSharedConversion() throws FactoryException {
  assumeNotNull(factory);
  final ProjectedCRS crs=factory.createProjectedCRS("32210");
  assertEpsgNameAndIdentifierEqual("WGS 72 / UTM zone 10N",32210,crs);
  assertEpsgNameAndIdentifierEqual("WGS 72",4322,crs.getBaseCRS());
  assertEpsgNameAndIdentifierEqual("World Geodetic System 1972",6322,crs.getDatum());
  assertEpsgNameAndIdentifierEqual("Transverse Mercator",9807,crs.getConversionFromBase().getMethod());
  assertEpsgNameAndIdentifierEqual("UTM zone 10N",16010,crs.getConversionFromBase());
  assertAxisDirectionsEqual("EPSG::4400",crs.getCoordinateSystem(),AxisDirection.EAST,AxisDirection.NORTH);
  verifyTransverseMercatorParmeters(crs.getConversionFromBase().getParameterValues(),-123);
  final ProjectedCRS variant=factory.createProjectedCRS("32410");
  assertEpsgNameAndIdentifierEqual("WGS 72BE / UTM zone 10N",32410,variant);
  assertEpsgNameAndIdentifierEqual("WGS 72BE",4324,variant.getBaseCRS());
  assertEpsgNameAndIdentifierEqual("WGS 72 Transit Broadcast Ephemeris",6324,variant.getDatum());
  assertEpsgNameAndIdentifierEqual("Transverse Mercator",9807,variant.getConversionFromBase().getMethod());
  assertEpsgNameAndIdentifierEqual("UTM zone 10N",16010,variant.getConversionFromBase());
  verifyTransverseMercatorParmeters(crs.getConversionFromBase().getParameterValues(),-123);
  assertSame("Operation method",crs.getConversionFromBase().getMethod(),variant.getConversionFromBase().getMethod());
  assertSame("Coordinate system",crs.getCoordinateSystem(),variant.getCoordinateSystem());
  assertNotDeepEquals(crs.getConversionFromBase(),variant.getConversionFromBase());
  assertNotDeepEquals(crs,variant);
}

</code></pre>

<pre class="type-9 type-3 type-10 type-1 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests the "NTF (Paris) + NGF IGN69 height" compound CRS (EPSG:7400).
 * This method tests also the domain of validity.
 * @throws FactoryException if an error occurred while querying the factory.
 */
@Test @DependsOnMethod({"testGeographic2D","testVertical"}) public void testCompound() throws FactoryException {
  assumeNotNull(factory);
  final CompoundCRS crs=factory.createCompoundCRS("EPSG:7400");
  assertEpsgNameAndIdentifierEqual("NTF (Paris) + NGF IGN69 height",7400,crs);
  final List<CoordinateReferenceSystem> components=crs.getComponents();
  assertEquals("components.size()",2,components.size());
  assertEpsgNameAndIdentifierEqual("NTF (Paris)",4807,components.get(0));
  assertEpsgNameAndIdentifierEqual("NGF IGN69 height",5720,components.get(1));
  assertAxisDirectionsEqual("(no EPSG code)",crs.getCoordinateSystem(),AxisDirection.NORTH,AxisDirection.EAST,AxisDirection.UP);
  final GeographicBoundingBox bbox=CRS.getGeographicBoundingBox(crs);
  assertNotNull("No bounding box. Maybe an older EPSG database is used?",bbox);
  assertEquals("southBoundLatitude",42.25,bbox.getSouthBoundLatitude(),STRICT);
  assertEquals("northBoundLatitude",51.10,bbox.getNorthBoundLatitude(),STRICT);
  assertEquals("westBoundLongitude",-5.20,bbox.getWestBoundLongitude(),STRICT);
  assertEquals("eastBoundLongitude",8.23,bbox.getEastBoundLongitude(),STRICT);
  assertSame("CRS shall be cached",crs,factory.createCoordinateReferenceSystem("7400"));
}

</code></pre>

<pre class="type-9 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Tests {@link EPSGFactory#newIdentifiedObjectFinder()} method with a projected CRS.
 * @throws FactoryException if an error occurred while querying the factory.
 */
@Test @DependsOnMethod("testFindGeographic") public void testFindProjected() throws FactoryException {
  assumeNotNull(factory);
  final IdentifiedObjectFinder finder=factory.newIdentifiedObjectFinder();
  final CoordinateReferenceSystem crs=CRS.fromWKT("PROJCS[“Beijing 1954 (modified)”,\n" + "   GEOGCS[“Beijing 1954 (modified)”,\n" + "     DATUM[“Beijing 1954”,\n"+ "       SPHEROID[“Krassowsky 1940”, 6378245.00000006, 298.299999999998]],\n"+ "     PRIMEM[“Greenwich”, 0.0],\n"+ "     UNIT[“degree”, 0.017453292519943295],\n"+ "     AXIS[“Geodetic longitude”, EAST],\n"+ "     AXIS[“Geodetic latitude”, NORTH]],\n"+ "   PROJECTION[“Transverse Mercator”],\n"+ "   PARAMETER[“central_meridian”, 135.0000000000013],\n"+ "   PARAMETER[“latitude_of_origin”, 0.0],\n"+ "   PARAMETER[“scale_factor”, 1.0],\n"+ "   PARAMETER[“false_easting”, 500000.000000004],\n"+ "   PARAMETER[“false_northing”, 0.0],\n"+ "   UNIT[“m”, 1.0],\n"+ "   AXIS[“Northing”, NORTH],\n"+ "   AXIS[“Easting”, EAST]]");
  finder.setSearchDomain(IdentifiedObjectFinder.Domain.DECLARATION);
  assertTrue("Should not find the CRS without a full scan.",finder.find(crs).isEmpty());
  finder.setSearchDomain(IdentifiedObjectFinder.Domain.VALID_DATASET);
  final Set<IdentifiedObject> find=finder.find(crs);
  assertFalse("With full scan allowed, the CRS should be found.",find.isEmpty());
  final Iterator<IdentifiedObject> it=find.iterator();
  assertEpsgNameAndIdentifierEqual("Beijing 1954 / 3-degree Gauss-Kruger CM 135E",2442,it.next());
  assertEpsgNameAndIdentifierEqual("Beijing 1954 / Gauss-Kruger CM 135E",21463,it.next());
  assertFalse("Expected no more element.",it.hasNext());
}

</code></pre>

<pre class="type-3 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
/** 
 * Tests the "NAD27(76) / UTM zone 15N" projected CRS (EPSG::2027).
 * @throws FactoryException if an error occurred while querying the factory.
 */
@Test @DependsOnMethod("testGeographic2D") public void testProjected() throws FactoryException {
  assumeNotNull(factory);
  final ProjectedCRS crs=factory.createProjectedCRS("2027");
  assertEpsgNameAndIdentifierEqual("NAD27(76) / UTM zone 15N",2027,crs);
  assertEpsgNameAndIdentifierEqual("NAD27(76)",4608,crs.getBaseCRS());
  assertEpsgNameAndIdentifierEqual("North American Datum 1927 (1976)",6608,crs.getDatum());
  assertEpsgNameAndIdentifierEqual("Transverse Mercator",9807,crs.getConversionFromBase().getMethod());
  assertEpsgNameAndIdentifierEqual("UTM zone 15N",16015,crs.getConversionFromBase());
  assertAxisDirectionsEqual("EPSG::4400",crs.getCoordinateSystem(),AxisDirection.EAST,AxisDirection.NORTH);
  verifyTransverseMercatorParmeters(crs.getConversionFromBase().getParameterValues(),-93);
  assertSame("CRS shall be cached",crs,factory.createCoordinateReferenceSystem("2027"));
}

</code></pre>

<pre class="type-3 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
/** 
 * Tests a legacy geographic CRS (no longer supported by EPSG).
 * This test verifies that the expected warnings are logged.
 * @throws FactoryException if an error occurred while querying the factory.
 */
@Test @DependsOnMethod("testGeographic2D") public void testDeprecatedGeographic() throws FactoryException {
  assumeNotNull(factory);
  listener.maximumLogCount=2;
  expectedLogWords=new String[][]{{"EPSG:6405"},{"EPSG:63266405","4326"}};
  final GeographicCRS crs=factory.createGeographicCRS("63266405");
  assertEpsgNameAndIdentifierEqual("WGS 84 (deg)",63266405,crs);
  assertAxisDirectionsEqual(null,crs.getCoordinateSystem(),AxisDirection.NORTH,AxisDirection.EAST);
  assertSame("CRS shall be cached",crs,factory.createCoordinateReferenceSystem("63266405"));
}

</code></pre>

<pre class="type-3 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
/** 
 * Tests the "Lao 1997" geographic CRS (EPSG::4993) with an ellipsoidal height.
 * @throws FactoryException if an error occurred while querying the factory.
 */
@Test @DependsOnMethod("testGeographic2D") public void testGeographic3D() throws FactoryException {
  assumeNotNull(factory);
  final GeographicCRS crs=factory.createGeographicCRS("EPSG::4993");
  assertEpsgNameAndIdentifierEqual("Lao 1997",4993,crs);
  assertEpsgNameAndIdentifierEqual("Lao National Datum 1997",6678,crs.getDatum());
  assertAxisDirectionsEqual("EPSG::6423",crs.getCoordinateSystem(),AxisDirection.NORTH,AxisDirection.EAST,AxisDirection.UP);
  assertSame("CRS shall be cached",crs,factory.createCoordinateReferenceSystem("4993"));
}

</code></pre>

<pre class="type-3 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
/** 
 * Tests the Google projected CRS.
 * @throws FactoryException if an error occurred while querying the factory.
 */
@Test public void testGoogleProjection() throws FactoryException {
  assumeNotNull(factory);
  final ProjectedCRS crs=factory.createProjectedCRS("3857");
  assertEpsgNameAndIdentifierEqual("WGS 84 / Pseudo-Mercator",3857,crs);
  assertEpsgNameAndIdentifierEqual("WGS 84",4326,crs.getBaseCRS());
  assertEpsgNameAndIdentifierEqual("Popular Visualisation Pseudo Mercator",1024,crs.getConversionFromBase().getMethod());
  assertEpsgNameAndIdentifierEqual("Popular Visualisation Pseudo-Mercator",3856,crs.getConversionFromBase());
  assertAxisDirectionsEqual("EPSG::4499",crs.getCoordinateSystem(),AxisDirection.EAST,AxisDirection.NORTH);
  assertSame("CRS shall be cached",crs,factory.createCoordinateReferenceSystem("3857"));
}

</code></pre>

<pre class="type-3 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
/** 
 * Tests the "ITRF93" geocentric CRS (EPSG::4915).
 * @throws FactoryException if an error occurred while querying the factory.
 */
@Test public void testGeocentric() throws FactoryException {
  assumeNotNull(factory);
  final GeocentricCRS crs=factory.createGeocentricCRS("epsg:4915");
  assertEpsgNameAndIdentifierEqual("ITRF93",4915,crs);
  assertEpsgNameAndIdentifierEqual("International Terrestrial Reference Frame 1993",6652,crs.getDatum());
  assertAxisDirectionsEqual("EPSG::6500",crs.getCoordinateSystem(),AxisDirection.GEOCENTRIC_X,AxisDirection.GEOCENTRIC_Y,AxisDirection.GEOCENTRIC_Z);
  assertSame("CRS shall be cached",crs,factory.createCoordinateReferenceSystem("4915"));
}

</code></pre>

<pre class="type-3 type-10 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
/** 
 * Tests a projected CRS located on the North pole.
 * Axis directions are "South along 90°E" and "South along 180°E".
 * @throws FactoryException if an error occurred while querying the factory.
 */
@Test @Ignore("“Lambert Azimuthal Equal Area (Spherical)” projection is not yet implemented.") public void testProjectedOnPole() throws FactoryException {
  assumeNotNull(factory);
  final ProjectedCRS crs=factory.createProjectedCRS("3408");
  assertEpsgNameAndIdentifierEqual("NSIDC EASE-Grid North",3408,crs);
  assertEpsgNameAndIdentifierEqual("Unspecified datum based upon the International 1924 Authalic Sphere",4053,crs.getBaseCRS());
  assertEpsgNameAndIdentifierEqual("Lambert Azimuthal Equal Area (Spherical)",1027,crs.getConversionFromBase().getMethod());
  assertEpsgNameAndIdentifierEqual("US NSIDC Equal Area north projection",3897,crs.getConversionFromBase());
  assertSame("CRS shall be cached",crs,factory.createCoordinateReferenceSystem("3408"));
}

</code></pre>

<pre class="type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
"></span><br>
/** 
 * Force releases of JDBC connections after the tests in this class.
 * @throws FactoryException if an error occurred while closing the connections.
 */
@AfterClass public static void close() throws FactoryException {
  if (factory != null) {
    factory.close();
    factory=null;
  }
}

</code></pre>

<pre class="type-3 type-4 type-10 type-1 type-8 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests {@link EPSGFactory#newIdentifiedObjectFinder()} method with a geographic CRS.
 * @throws FactoryException if an error occurred while querying the factory.
 */
@Test @DependsOnMethod("testWGS84") public void testFindGeographic() throws FactoryException {
  assumeNotNull(factory);
  final IdentifiedObjectFinder finder=factory.newIdentifiedObjectFinder();
  final DefaultGeographicCRS crs=(DefaultGeographicCRS)CRS.fromWKT("GEOGCS[“WGS 84”,\n" + "  DATUM[“WGS 84”,\n" + "    SPHEROID[“WGS 1984”, 6378137.0, 298.257223563]],\n"+ "  PRIMEM[“Greenwich”, 0.0],\n"+ "  UNIT[“degree”, 0.017453292519943295],\n"+ "  AXIS[“Geodetic latitude”, NORTH],\n"+ "  AXIS[“Geodetic longitude”, EAST]]");
  assertEquals("Full scan should be enabled by default.",IdentifiedObjectFinder.Domain.VALID_DATASET,finder.getSearchDomain());
  assertTrue("Should not find WGS84 because the axis order is not the same.",finder.find(crs.forConvention(AxesConvention.NORMALIZED)).isEmpty());
  finder.setSearchDomain(IdentifiedObjectFinder.Domain.DECLARATION);
  assertTrue("Should not find without a full scan, because the WKT contains no identifier " + "and the CRS name is ambiguous (more than one EPSG object have this name).",finder.find(crs).isEmpty());
  finder.setSearchDomain(IdentifiedObjectFinder.Domain.ALL_DATASET);
  final IdentifiedObject found=finder.findSingleton(crs);
  assertNotNull("With full scan allowed, the CRS should be found.",found);
  assertEpsgNameAndIdentifierEqual("WGS 84",4326,found);
  finder.setSearchDomain(IdentifiedObjectFinder.Domain.DECLARATION);
  assertSame("The CRS should still in the cache.",found,finder.findSingleton(crs));
}

</code></pre>

<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Tests {@link EPSGDataAccess#tableMatches(String,String)}.
 */
@Test public void testTableMatches(){
  assertTrue(EPSGDataAccess.tableMatches("Coordinate_Operation","epsg_coordoperation"));
  assertTrue(EPSGDataAccess.tableMatches("[Coordinate Reference System]","epsg_coordinatereferencesystem"));
}

</code></pre>

<pre class="type-3 type-10 type-1 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests "BD72 to WGS 84 (1)" (EPSG::1609) transformation. This one has an unusual unit for the
 * "Scale difference" parameter (EPSG::8611). The value is 0.999999 and the unit is "unity" (EPSG::9201)
 * instead of the usual "parts per million" (EPSG:9202).
 * @throws FactoryException if an error occurred while querying the factory.
 */
@Test @DependsOnMethod("testSimpleTransformation") public void testTransformation() throws FactoryException {
  assumeNotNull(factory);
  final CoordinateOperation operation=factory.createCoordinateOperation("1609");
  assertEpsgNameAndIdentifierEqual("BD72 to WGS 84 (1)",1609,operation);
  assertEquals(1.0,((AbstractCoordinateOperation)operation).getLinearAccuracy(),STRICT);
  assertSame("Operation shall be cached",operation,factory.createCoordinateOperation("1609"));
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
