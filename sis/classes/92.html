<h3 style="margin:0px">Class: org.apache.sis.internal.shapefile.jdbc.DBFResultSetTest (3 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="13"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('13')" data-toggle="tooltip" title="Verifies assertions in iterations"><kbd id="tag-13"class="label-info"style="display: inline-block;font-size:7pt" >IterativeVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="11"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('11')" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure"><kbd id="tag-11"class="label-info"style="display: inline-block;font-size:7pt" >UtilityVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Reads the first record.
 * @throws SQLException if an error occurred while querying the database.
 */
@Test public void readFirstRecord() throws SQLException {
  Connection connection=connect();
  Statement stmt=connection.createStatement();
  ResultSet rs=stmt.executeQuery("SELECT * FROM SignedBikeRoute");
  try {
    rs.next();
    assertEquals("getString(\"ST_NAME\")","36TH ST",rs.getString("ST_NAME"));
    assertEquals("getInt(\"FNODE_\")",1199,rs.getInt("FNODE_"));
    assertEquals("getDouble(\"SHAPE_LEN\")",43.0881492571,rs.getDouble("SHAPE_LEN"),0.1);
    assertEquals("getBigDecimal(\"SHAPE_LEN\")",43.0881492571,rs.getBigDecimal("SHAPE_LEN").doubleValue(),0.1);
    assertEquals("getDate(\"TR_DATE\")",null,rs.getDate("TR_DATE"));
  }
  finally {
    rs.close();
    stmt.close();
    connection.close();
  }
}

</code></pre>

<pre class="type-13 type-9 type-4 type-1 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Read all the DBF records.
 * @throws SQLException if an error occurred while querying the database.
 */
@Test @DependsOnMethod("readFirstRecord") public void readAllRecords() throws SQLException {
  Connection connection=connect();
  Statement stmt=connection.createStatement();
  ResultSet rs=stmt.executeQuery("SELECT * FROM SignedBikeRoute");
  try {
    int count=0;
    while (rs.next()) {
      ArrayList record=new ArrayList();
      record.add(rs.getLong("OBJECTID"));
      record.add(rs.getLong("FNODE_"));
      record.add(rs.getLong("TNODE_"));
      record.add(rs.getLong("LPOLY_"));
      record.add(rs.getLong("RPOLY_"));
      record.add(rs.getLong("SCL_"));
      record.add(rs.getLong("SCL_ID"));
      record.add(rs.getLong("SCL_CODE"));
      record.add(rs.getString("DXF_LAYER"));
      record.add(rs.getString("SIS_ID"));
      record.add(rs.getString("QUAD_CODE"));
      record.add(rs.getString("PRIME_ST"));
      record.add(rs.getString("INT_SEQ"));
      record.add(rs.getString("ST_NAME"));
      record.add(rs.getString("FDPRE"));
      record.add(rs.getString("FNAME"));
      record.add(rs.getString("FTYPE"));
      record.add(rs.getString("FDSUF"));
      record.add(rs.getLong("LEFTRANGE1"));
      record.add(rs.getLong("LEFTRANGE2"));
      record.add(rs.getLong("RGTRANGE1"));
      record.add(rs.getLong("RGTRANGE2"));
      record.add(rs.getString("STREET"));
      record.add(rs.getString("QUAD"));
      record.add(rs.getString("FROM_ST"));
      record.add(rs.getString("TO_ST"));
      record.add(rs.getString("ODD_WARD"));
      record.add(rs.getString("EVEN_WARD"));
      record.add(rs.getString("WARD"));
      record.add(rs.getString("FC"));
      record.add(rs.getInt("NHS"));
      record.add(rs.getString("SIGNEDRTE1"));
      record.add(rs.getString("RTETYPE1"));
      record.add(rs.getString("SIGNEDRTE2"));
      record.add(rs.getString("RTETYPE2"));
      record.add(rs.getBigDecimal("AADT"));
      record.add(rs.getBigDecimal("AADT_YEAR"));
      record.add(rs.getBigDecimal("COM_SING_P"));
      record.add(rs.getBigDecimal("COM_SING_A"));
      record.add(rs.getBigDecimal("COM_COMB_P"));
      record.add(rs.getBigDecimal("COM_COMB_A"));
      record.add(rs.getString("IS_ONEWAY"));
      record.add(rs.getString("TRAVEL_DIR"));
      record.add(rs.getBigDecimal("LEN_MI"));
      record.add(rs.getLong("STUDY_NET"));
      record.add(rs.getDate("TR_DATE"));
      record.add(rs.getBigDecimal("AADT_2"));
      record.add(rs.getBigDecimal("AADT_FINAL"));
      record.add(rs.getBigDecimal("ROUTENET"));
      record.add(rs.getString("NOTES"));
      record.add(rs.getBigDecimal("LENGTH_MI"));
      record.add(rs.getInt("NET_MARCH"));
      record.add(rs.getString("SIGNED_JOI"));
      record.add(rs.getString("SIGNED_FAC"));
      record.add(rs.getString("NEW_USE"));
      record.add(rs.getBigDecimal("SHAPE_LEN"));
      count++;
      assertEquals("The record number returned by the ResultSet is not the same of the manual counting we are doing.",count,((DBFRecordBasedResultSet)rs).getRowNum());
      this.log.info(MessageFormat.format("Record {0,number} : {1}\n",count,record));
    }
    assertTrue("Less than one record was readed.",count > 1);
  }
  finally {
    rs.close();
    stmt.close();
    connection.close();
  }
}

</code></pre>

<pre class="type-11 type-3 type-1 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * An attempt to use a closed resultSet must fail with the correct exception and message.
 * @throws SQLException if an error occurred while opening the database, the statement or the resultset.
 */
@Test public void resultSetClosed() throws SQLException {
  String sql="SELECT * FROM SignedBikeRoute";
  Connection connection=connect();
  Statement stmt=connection.createStatement();
  try {
    try {
      ResultSet rs=stmt.executeQuery(sql);
      rs.close();
    }
 catch (    SQLConnectionClosedException e) {
      assertEquals("The database name in this exception is not well set.",e.getDatabase().getName(),this.dbfFile.getName());
      assertEquals("The SQL Query is exception is not well set.",e.getSQL(),sql);
    }
catch (    SQLException e) {
      fail("Not the expected exception for using a closed ResultSet.");
    }
  }
  finally {
    stmt.close();
    connection.close();
  }
  connection=connect();
  stmt=connection.createStatement();
  ResultSet rs=stmt.executeQuery(sql);
  connection.close();
  try {
    rs.next();
  }
 catch (  SQLConnectionClosedException e) {
    assertEquals("The database name is exception message is not well set.",e.getDatabase().getName(),this.dbfFile.getName());
  }
catch (  SQLException e) {
    fail("Not the expected exception for using a closed ResultSet.");
  }
 finally {
    rs.close();
    stmt.close();
  }
  Connection cnt=connect();
  try {
    stmt=cnt.createStatement();
    rs=stmt.executeQuery(sql);
    stmt.close();
    try {
      rs.next();
    }
 catch (    SQLConnectionClosedException e) {
      assertEquals("The database name is exception message is not well set.",e.getDatabase().getName(),this.dbfFile.getName());
    }
catch (    SQLException e) {
      fail("Not the expected exception for using a closed ResultSet.");
    }
 finally {
      rs.close();
      stmt.close();
    }
  }
  finally {
    cnt.close();
  }
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
