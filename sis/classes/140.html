<h3 style="margin:0px">Class: org.apache.sis.math.MathFunctionsTest (15 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(12)</kbd></button>&nbsp;<button id="13"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('13')" data-toggle="tooltip" title="Verifies assertions in iterations"><kbd id="tag-13"class="label-info"style="display: inline-block;font-size:7pt" >IterativeVerifier&nbsp;(6)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(5)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="12"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('12')" data-toggle="tooltip" title="Verifies assertions inside branch conditions"><kbd id="tag-12"class="label-info"style="display: inline-block;font-size:7pt" >BranchVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(2)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-13 type-9 type-12 type-4 type-1 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests the {@link MathFunctions#divisors(int)} method.
 */
@Test @DependsOnMethod("testPrimeNumberAt") public void testDivisors(){
  for (int i=0; i < 10000; i++) {
    final int[] divisors=divisors(i);
    assertTrue(isSorted(divisors,true));
    for (int j=0; j < divisors.length; j++) {
      assertEquals(0,i % divisors[j]);
    }
    if (i == 0) {
      assertEquals(0,divisors.length);
    }
 else {
      assertEquals(1,divisors[0]);
      assertEquals(i,divisors[divisors.length - 1]);
    }
  }
  assertArrayEquals(new int[]{1,2,4,5,8,10,16,20,25,40,50,80,100,125,200,250,400,500,1000,2000},divisors(2000));
  assertArrayEquals(new int[]{1,61,71,4331},divisors(4331));
  assertArrayEquals(new int[]{1,2,3,4,5,6,8,10,12,13,15,20,24,25,26,30,39,40,50,52,60,65,75,78,100,104,120,130,150,156,195,200,260,300,312,325,390,520,600,650,780,975,1300,1560,1950,2600,3900,7800},divisors(7800));
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests the {@link MathFunctions#nextPrimeNumber(int)} method.
 */
@Test @DependsOnMethod("testPrimeNumberAt") public void testNextPrimeNumber(){
  assertEquals(151,nextPrimeNumber(151));
  assertEquals(157,nextPrimeNumber(152));
  assertEquals(997,nextPrimeNumber(996));
  assertEquals(HIGHEST_SHORT_PRIME,nextPrimeNumber(HIGHEST_SHORT_PRIME - 1));
  assertEquals(HIGHEST_SHORT_PRIME,nextPrimeNumber(HIGHEST_SHORT_PRIME));
  assertEquals(LOWEST_USHORT_PRIME,nextPrimeNumber(HIGHEST_SHORT_PRIME + 1));
  assertEquals(32779,nextPrimeNumber(LOWEST_USHORT_PRIME + 1));
  assertEquals(HIGHEST_SUPPORTED_PRIME_NUMBER,nextPrimeNumber(HIGHEST_SUPPORTED_PRIME_NUMBER - 1));
  assertEquals(HIGHEST_SUPPORTED_PRIME_NUMBER,nextPrimeNumber(HIGHEST_SUPPORTED_PRIME_NUMBER));
}

</code></pre>

<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Tests {@link MathFunctions#isPositiveZero(double)}.
 */
@Test public void testIsPositiveZero(){
  assertTrue(isPositiveZero(+0.0));
  assertFalse(isPositiveZero(-0.0));
  assertFalse(isPositiveZero(NaN));
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests the {@link MathFunctions#magnitude(double[])} method.
 */
@Test public void testMagnitude(){
  assertEquals(0,magnitude(),EPS);
  assertEquals(4,magnitude(0,-4,0),EPS);
  assertEquals(5,magnitude(0,-4,0,3,0),EPS);
  assertEquals(5,magnitude(3,1,-2,1,-3,-1),EPS);
}

</code></pre>

<pre class="type-13 type-9 type-12 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests the {@link MathFunctions#atanh(double)} method in the [-1 … +1] range.
 */
@Test public void testAtanh(){
  for (int i=-10; i <= 10; i++) {
    final double x=0.1 * i;
    final double y=atanh(x);
switch (i) {
case -10:
      assertEquals(NEGATIVE_INFINITY,y,EPS);
    break;
default :
  assertEquals(x,StrictMath.tanh(y),EPS);
break;
case +10:
assertEquals(POSITIVE_INFINITY,y,EPS);
break;
}
}
}

</code></pre>

<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Tests {@link MathFunctions#isNegativeZero(double)}.
 */
@Test public void testIsNegativeZero(){
  assertTrue(isNegativeZero(-0.0));
  assertFalse(isNegativeZero(+0.0));
  assertFalse(isNegativeZero(NaN));
}

</code></pre>

<pre class="type-13 type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests the {@link MathFunctions#asinh(double)} method in the [-10 … +10] range.
 */
@Test public void testAsinh(){
  for (int i=-100; i <= 100; i++) {
    final double x=0.1 * i;
    final double y=asinh(x);
    assertEquals(x,StrictMath.sinh(y),EPS);
  }
}

</code></pre>

<pre class="type-13 type-9 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests the {@link MathFunctions#acosh(double)} method in the [1 … +10] range.
 */
@Test public void testAcosh(){
  for (int i=10; i <= 100; i++) {
    final double x=0.1 * i;
    final double y=acosh(x);
    assertEquals(x,StrictMath.cosh(y),EPS);
  }
}

</code></pre>

<pre class="type-4 type-1 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests {@link MathFunctions#truncate(double)}.
 */
@Test @DependsOnMethod({"testIsPositiveZero","testIsNegativeZero"}) public void testTruncate(){
  assertEquals(+4.0,truncate(+4.9),STRICT);
  assertEquals(-4.0,truncate(-4.9),STRICT);
  assertEquals(+0.0,truncate(+0.1),STRICT);
  assertEquals(-0.0,truncate(-0.1),STRICT);
  assertTrue("Positive zero",isPositiveZero(truncate(+0.5)));
  assertTrue("Negative zero",isNegativeZero(truncate(-0.5)));
  assertTrue("Positive zero",isPositiveZero(truncate(+0.0)));
  assertTrue("Negative zero",isNegativeZero(truncate(-0.0)));
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Verifies the values of {@link MathFunctions#SQRT_2} and {@link MathFunctions#LOG10_2}.
 */
@Test public void testConstants(){
  assertEquals(StrictMath.sqrt(2),SQRT_2,STRICT);
  assertEquals(StrictMath.log10(2),LOG10_2,STRICT);
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests the {@link MathFunctions#commonDivisors(int[])} method.
 */
@Test @DependsOnMethod("testDivisors") public void testCommonDivisors(){
  assertArrayEquals(new int[]{1,5},commonDivisors(2000,15));
}

</code></pre>

<pre class="type-13 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests the {@link MathFunctions#primeNumberAt(int)} method.
 */
@Test public void testPrimeNumberAt(){
  final int[] primes={2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997};
  for (int i=0; i < primes.length; i++) {
    assertEquals(primes[i],primeNumberAt(i));
  }
  assertEquals(HIGHEST_SHORT_PRIME,primeNumberAt(PRIMES_LENGTH_15_BITS - 1));
  assertEquals(HIGHEST_SUPPORTED_PRIME_NUMBER,primeNumberAt(PRIMES_LENGTH_16_BITS - 1));
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests the {@link MathFunctions#xorSign(double,double)} method.
 */
@Test public void testXorSign(){
  assertEquals(10,xorSign(10,0.5),STRICT);
  assertEquals(-10,xorSign(-10,0.5),STRICT);
  assertEquals(10,xorSign(-10,-0.5),STRICT);
  assertEquals(-10,xorSign(10,-0.5),STRICT);
}

</code></pre>

<pre class="type-13 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests the {@link MathFunctions#getExponent(double)} method.
 * This method performs two tests:
 * <ul>
 * <li>First, tests with a few normal (non-subnormal) numbers.
 * The result shall be identical to {@link StrictMath#getExponent(double)}.</li>
 * <li>Then, test with a few sub-normal numbers.</li>
 * </ul>
 */
@Test public void testGetExponent(){
  final double[] normalValues={1E+300,1E+200,1E+100,1E+10,50,20,1,1E-10,1E-100,1E-200,1E-300,POSITIVE_INFINITY,NEGATIVE_INFINITY,NaN,MAX_VALUE,MIN_NORMAL};
  for (  final double value : normalValues) {
    assertEquals(StrictMath.getExponent(value),getExponent(value));
  }
  for (int i=0; i <= SIGNIFICAND_SIZE; i++) {
    assertEquals(MIN_EXPONENT - i,getExponent(MIN_NORMAL / (1L << i)));
  }
  assertEquals(MIN_EXPONENT - 1,getExponent(JDK8.nextDown(MIN_NORMAL)));
  assertEquals(MIN_EXPONENT - SIGNIFICAND_SIZE,getExponent(MIN_VALUE));
  assertEquals(MIN_EXPONENT - SIGNIFICAND_SIZE - 1,getExponent(0));
  for (int i=MIN_EXPONENT - SIGNIFICAND_SIZE - 1; i <= MAX_EXPONENT + 1; i++) {
    assertEquals(i,getExponent(StrictMath.scalb(1.0,i)));
  }
  for (int i=MIN_EXPONENT - SIGNIFICAND_SIZE; i <= MAX_EXPONENT; i++) {
    assertEquals(StrictMath.floor(StrictMath.log10(StrictMath.scalb(1.0,i))),StrictMath.floor(LOG10_2 * i),STRICT);
  }
}

</code></pre>

<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Tests the {@link MathFunctions#epsilonEqual(float,float,float)} and{@link MathFunctions#epsilonEqual(double,double,double)} methods.
 */
@Test public void testEpsilonEqual(){
  assertTrue(epsilonEqual(10.0,12.0,2.0));
  assertFalse(epsilonEqual(10.0,12.0,1.0));
  assertTrue(epsilonEqual(Double.NaN,Double.NaN,1.0));
  assertTrue(epsilonEqual(Double.POSITIVE_INFINITY,Double.POSITIVE_INFINITY,1.0));
  assertTrue(epsilonEqual(Double.NEGATIVE_INFINITY,Double.NEGATIVE_INFINITY,1.0));
  assertFalse(epsilonEqual(Double.POSITIVE_INFINITY,Double.NEGATIVE_INFINITY,1.0));
  assertTrue(epsilonEqual(10f,12f,2f));
  assertFalse(epsilonEqual(10f,12f,1f));
  assertTrue(epsilonEqual(Float.NaN,Float.NaN,1f));
  assertTrue(epsilonEqual(Float.POSITIVE_INFINITY,Float.POSITIVE_INFINITY,1f));
  assertTrue(epsilonEqual(Float.NEGATIVE_INFINITY,Float.NEGATIVE_INFINITY,1f));
  assertFalse(epsilonEqual(Float.POSITIVE_INFINITY,Float.NEGATIVE_INFINITY,1f));
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
