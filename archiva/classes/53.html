<h3 style="margin:0px">Class: org.apache.archiva.metadata.repository.storage.maven2.Maven2RepositoryMetadataResolverTest (19 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(17)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(11)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(11)</kbd></button>&nbsp;<button id="10"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('10')" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure"><kbd id="tag-10"class="label-info"style="display: inline-block;font-size:7pt" >UtilityVerifier&nbsp;(6)</kbd></button>&nbsp;<button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Allocates resources before the execution of the test cases"><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >TestInitializer&nbsp;(1)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Executes methods or other tests from the same test unit"><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >ExecutionTester&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-5 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetProjectVersionMetadata() throws Exception {
  ProjectVersionMetadata metadata=storage.readProjectVersionMetadata(new ReadMetadataRequest(TEST_REPO_ID,"org.apache.archiva","archiva-common","1.2.1"));
  MavenProjectFacet facet=(MavenProjectFacet)metadata.getFacet(MavenProjectFacet.FACET_ID);
  assertEquals("jar",facet.getPackaging());
  assertEquals("http://archiva.apache.org/ref/1.2.1/archiva-base/archiva-common",metadata.getUrl());
  assertEquals("org.apache.archiva",facet.getParent().getGroupId());
  assertEquals("archiva-base",facet.getParent().getArtifactId());
  assertEquals("1.2.1",facet.getParent().getVersion());
  assertEquals("archiva-common",facet.getArtifactId());
  assertEquals("org.apache.archiva",facet.getGroupId());
  assertEquals("continuum",metadata.getCiManagement().getSystem());
  assertEquals("http://vmbuild.apache.org/continuum",metadata.getCiManagement().getUrl());
  assertNotNull(metadata.getDescription());
  assertEquals("1.2.1",metadata.getId());
  assertEquals("jira",metadata.getIssueManagement().getSystem());
  assertEquals("http://jira.codehaus.org/browse/MRM",metadata.getIssueManagement().getUrl());
  checkApacheLicense(metadata);
  assertEquals("Archiva Base :: Common",metadata.getName());
  String path="archiva/tags/archiva-1.2.1/archiva-modules/archiva-base/archiva-common";
  assertEquals(ASF_SCM_CONN_BASE + path,metadata.getScm().getConnection());
  assertEquals(ASF_SCM_DEV_CONN_BASE + path,metadata.getScm().getDeveloperConnection());
  assertEquals(ASF_SCM_VIEWVC_BASE + path,metadata.getScm().getUrl());
  checkOrganizationApache(metadata);
  assertEquals(4,metadata.getMailingLists().size());
  assertMailingList("users",metadata.getMailingLists().get(0),"Archiva User List",true,"http://www.nabble.com/archiva-users-f16426.html");
  assertMailingList("dev",metadata.getMailingLists().get(1),"Archiva Developer List",true,"http://www.nabble.com/archiva-dev-f16427.html");
  assertMailingList("commits",metadata.getMailingLists().get(2),"Archiva Commits List",false,null);
  assertMailingList("issues",metadata.getMailingLists().get(3),"Archiva Issues List",false,"http://www.nabble.com/Archiva---Issues-f29617.html");
  List<Dependency> dependencies=metadata.getDependencies();
  assertEquals(10,dependencies.size());
  assertDependency(dependencies.get(0),"commons-lang","commons-lang","2.2");
  assertDependency(dependencies.get(1),"commons-io","commons-io","1.4");
  assertDependency(dependencies.get(2),"org.slf4j","slf4j-api","1.5.0");
  assertDependency(dependencies.get(3),"org.codehaus.plexus","plexus-component-api","1.0-alpha-22");
  assertDependency(dependencies.get(4),"org.codehaus.plexus","plexus-spring","1.2","test");
  assertDependency(dependencies.get(5),"xalan","xalan","2.7.0");
  assertDependency(dependencies.get(6),"dom4j","dom4j","1.6.1","test");
  assertDependency(dependencies.get(7),"junit","junit","3.8.1","test");
  assertDependency(dependencies.get(8),"easymock","easymock","1.2_Java1.3","test");
  assertDependency(dependencies.get(9),"easymock","easymockclassextension","1.2","test");
  assertEquals(8,metadata.getProperties().size());
  assertEquals("http://www.apache.org/images/asf_logo_wide.gif",metadata.getProperties().get("organization.logo"));
}

</code></pre>

<pre class="type-9 type-5 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetArtifactMetadata() throws Exception {
  Collection<ArtifactMetadata> springArtifacts=storage.readArtifactsMetadata(new ReadMetadataRequest(TEST_REPO_ID,"org.codehaus.plexus","plexus-spring","1.2",ALL));
  List<ArtifactMetadata> artifacts=new ArrayList<>(springArtifacts);
  Collections.sort(artifacts,new Comparator<ArtifactMetadata>(){
    @Override public int compare(    ArtifactMetadata o1,    ArtifactMetadata o2){
      return o1.getId().compareTo(o2.getId());
    }
  }
);
  assertEquals(3,artifacts.size());
  ArtifactMetadata artifactMetadata=artifacts.get(0);
  assertEquals("plexus-spring-1.2-sources.jar",artifactMetadata.getId());
  MavenArtifactFacet facet=(MavenArtifactFacet)artifactMetadata.getFacet(MavenArtifactFacet.FACET_ID);
  assertEquals(0,facet.getBuildNumber());
  assertNull(facet.getTimestamp());
  assertEquals("sources",facet.getClassifier());
  assertEquals("java-source",facet.getType());
  artifactMetadata=artifacts.get(1);
  assertEquals("plexus-spring-1.2.jar",artifactMetadata.getId());
  facet=(MavenArtifactFacet)artifactMetadata.getFacet(MavenArtifactFacet.FACET_ID);
  assertEquals(0,facet.getBuildNumber());
  assertNull(facet.getTimestamp());
  assertNull(facet.getClassifier());
  assertEquals("jar",facet.getType());
  artifactMetadata=artifacts.get(2);
  assertEquals("plexus-spring-1.2.pom",artifactMetadata.getId());
  facet=(MavenArtifactFacet)artifactMetadata.getFacet(MavenArtifactFacet.FACET_ID);
  assertEquals(0,facet.getBuildNumber());
  assertNull(facet.getTimestamp());
  assertNull(facet.getClassifier());
  assertEquals("pom",facet.getType());
}

</code></pre>

<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetNamespaces() throws Exception {
  assertEquals(Arrays.asList("example"),storage.listNamespaces(TEST_REPO_ID,"com",ALL));
  assertEquals(Arrays.asList("test"),storage.listNamespaces(TEST_REPO_ID,"com.example",ALL));
  assertEquals(Collections.<String>emptyList(),storage.listNamespaces(TEST_REPO_ID,"com.example.test",ALL));
  assertEquals(Arrays.asList("apache","codehaus"),storage.listNamespaces(TEST_REPO_ID,"org",ALL));
  assertEquals(Arrays.asList("archiva","maven"),storage.listNamespaces(TEST_REPO_ID,"org.apache",ALL));
  assertEquals(Collections.<String>emptyList(),storage.listNamespaces(TEST_REPO_ID,"org.apache.archiva",ALL));
  assertEquals(Arrays.asList("plugins","shared"),storage.listNamespaces(TEST_REPO_ID,"org.apache.maven",ALL));
  assertEquals(Collections.<String>emptyList(),storage.listNamespaces(TEST_REPO_ID,"org.apache.maven.plugins",ALL));
  assertEquals(Collections.<String>emptyList(),storage.listNamespaces(TEST_REPO_ID,"org.apache.maven.shared",ALL));
  assertEquals(Arrays.asList("plexus"),storage.listNamespaces(TEST_REPO_ID,"org.codehaus",ALL));
  assertEquals(Collections.<String>emptyList(),storage.listNamespaces(TEST_REPO_ID,"org.codehaus.plexus",ALL));
}

</code></pre>

<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetArtifacts() throws Exception {
  List<ArtifactMetadata> artifacts=new ArrayList<>(storage.readArtifactsMetadata(new ReadMetadataRequest(TEST_REPO_ID,"org.codehaus.plexus","plexus-spring","1.2",ALL)));
  assertEquals(3,artifacts.size());
  Collections.sort(artifacts,new Comparator<ArtifactMetadata>(){
    @Override public int compare(    ArtifactMetadata o1,    ArtifactMetadata o2){
      return o1.getId().compareTo(o2.getId());
    }
  }
);
  assertArtifact(artifacts.get(0),"plexus-spring-1.2-sources.jar",0,EMPTY_SHA1,EMPTY_MD5);
  assertArtifact(artifacts.get(1),"plexus-spring-1.2.jar",0,EMPTY_SHA1,EMPTY_MD5);
  assertArtifact(artifacts.get(2),"plexus-spring-1.2.pom",7407,"96b14cf880e384b2d15e8193c57b65c5420ca4c5","f83aa25f016212a551a4b2249985effc");
}

</code></pre>

<pre class="type-10 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetProjectVersionMetadataForTimestampedSnapshotMissingMetadata() throws Exception {
  try {
    storage.readProjectVersionMetadata(new ReadMetadataRequest(TEST_REPO_ID,"com.example.test","missing-metadata","1.0-SNAPSHOT"));
    fail("Should not be found");
  }
 catch (  RepositoryStorageMetadataNotFoundException e) {
    assertEquals("missing-pom",e.getId());
  }
}

</code></pre>

<pre class="type-10 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetProjectVersionMetadataForMissingPom() throws Exception {
  try {
    storage.readProjectVersionMetadata(new ReadMetadataRequest(TEST_REPO_ID,"com.example.test","missing-pom","1.0"));
    fail("Should not be found");
  }
 catch (  RepositoryStorageMetadataNotFoundException e) {
    assertEquals("missing-pom",e.getId());
  }
}

</code></pre>

<pre class="type-9 type-5 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetArtifactMetadataSnapshots() throws Exception {
  Collection<ArtifactMetadata> testArtifacts=storage.readArtifactsMetadata(new ReadMetadataRequest(TEST_REPO_ID,"com.example.test","test-artifact","1.0-SNAPSHOT",ALL));
  List<ArtifactMetadata> artifacts=new ArrayList<>(testArtifacts);
  Collections.sort(artifacts,new Comparator<ArtifactMetadata>(){
    @Override public int compare(    ArtifactMetadata o1,    ArtifactMetadata o2){
      return o1.getId().compareTo(o2.getId());
    }
  }
);
  assertEquals(6,artifacts.size());
  ArtifactMetadata artifactMetadata=artifacts.get(0);
  assertEquals("test-artifact-1.0-20100308.230825-1.jar",artifactMetadata.getId());
  MavenArtifactFacet facet=(MavenArtifactFacet)artifactMetadata.getFacet(MavenArtifactFacet.FACET_ID);
  assertEquals(1,facet.getBuildNumber());
  assertEquals("20100308.230825",facet.getTimestamp());
  assertNull(facet.getClassifier());
  assertEquals("jar",facet.getType());
  artifactMetadata=artifacts.get(1);
  assertEquals("test-artifact-1.0-20100308.230825-1.pom",artifactMetadata.getId());
  facet=(MavenArtifactFacet)artifactMetadata.getFacet(MavenArtifactFacet.FACET_ID);
  assertEquals(1,facet.getBuildNumber());
  assertEquals("20100308.230825",facet.getTimestamp());
  assertNull(facet.getClassifier());
  assertEquals("pom",facet.getType());
  artifactMetadata=artifacts.get(2);
  assertEquals("test-artifact-1.0-20100310.014828-2-javadoc.jar",artifactMetadata.getId());
  facet=(MavenArtifactFacet)artifactMetadata.getFacet(MavenArtifactFacet.FACET_ID);
  assertEquals(2,facet.getBuildNumber());
  assertEquals("20100310.014828",facet.getTimestamp());
  assertEquals("javadoc",facet.getClassifier());
  assertEquals("javadoc",facet.getType());
  artifactMetadata=artifacts.get(3);
  assertEquals("test-artifact-1.0-20100310.014828-2-sources.jar",artifactMetadata.getId());
  facet=(MavenArtifactFacet)artifactMetadata.getFacet(MavenArtifactFacet.FACET_ID);
  assertEquals(2,facet.getBuildNumber());
  assertEquals("20100310.014828",facet.getTimestamp());
  assertEquals("sources",facet.getClassifier());
  assertEquals("java-source",facet.getType());
  artifactMetadata=artifacts.get(4);
  assertEquals("test-artifact-1.0-20100310.014828-2.jar",artifactMetadata.getId());
  facet=(MavenArtifactFacet)artifactMetadata.getFacet(MavenArtifactFacet.FACET_ID);
  assertEquals(2,facet.getBuildNumber());
  assertEquals("20100310.014828",facet.getTimestamp());
  assertNull(facet.getClassifier());
  assertEquals("jar",facet.getType());
  artifactMetadata=artifacts.get(5);
  assertEquals("test-artifact-1.0-20100310.014828-2.pom",artifactMetadata.getId());
  facet=(MavenArtifactFacet)artifactMetadata.getFacet(MavenArtifactFacet.FACET_ID);
  assertEquals(2,facet.getBuildNumber());
  assertEquals("20100310.014828",facet.getTimestamp());
  assertNull(facet.getClassifier());
  assertEquals("pom",facet.getType());
}

</code></pre>

<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetArtifactsTimestampedSnapshots() throws Exception {
  List<ArtifactMetadata> artifacts=new ArrayList<ArtifactMetadata>(storage.readArtifactsMetadata(new ReadMetadataRequest(TEST_REPO_ID,"com.example.test","missing-metadata","1.0-SNAPSHOT",ALL)));
  assertEquals(1,artifacts.size());
  ArtifactMetadata artifact=artifacts.get(0);
  assertEquals("missing-metadata-1.0-20091101.112233-1.pom",artifact.getId());
  assertEquals("com.example.test",artifact.getNamespace());
  assertEquals("missing-metadata",artifact.getProject());
  assertEquals("1.0-20091101.112233-1",artifact.getVersion());
  assertEquals(TEST_REPO_ID,artifact.getRepositoryId());
}

</code></pre>

<pre class="type-10 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetProjectVersionMetadataForTimestampedSnapshotIncompleteMetadata() throws Exception {
  try {
    storage.readProjectVersionMetadata(new ReadMetadataRequest(TEST_REPO_ID,"com.example.test","incomplete-metadata","1.0-SNAPSHOT"));
    fail("Should not be found");
  }
 catch (  RepositoryStorageMetadataNotFoundException e) {
    assertEquals("missing-pom",e.getId());
  }
}

</code></pre>

<pre class="type-10 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetProjectVersionMetadataForInvalidPom() throws Exception {
  try {
    storage.readProjectVersionMetadata(new ReadMetadataRequest(TEST_REPO_ID,"com.example.test","invalid-pom","1.0"));
    fail("Should have received an exception due to invalid POM");
  }
 catch (  RepositoryStorageMetadataInvalidException e) {
    assertEquals("invalid-pom",e.getId());
  }
}

</code></pre>

<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetProjectVersions() throws Exception {
  assertEquals(Arrays.asList("1.0-SNAPSHOT"),storage.listProjectVersions(TEST_REPO_ID,"com.example.test","incomplete-metadata",ALL));
  assertEquals(Arrays.asList("1.0-SNAPSHOT"),storage.listProjectVersions(TEST_REPO_ID,"com.example.test","malformed-metadata",ALL));
  assertEquals(Arrays.asList("1.0-SNAPSHOT"),storage.listProjectVersions(TEST_REPO_ID,"com.example.test","missing-metadata",ALL));
  assertEquals(Arrays.asList("1.0"),storage.listProjectVersions(TEST_REPO_ID,"com.example.test","invalid-pom",ALL));
  assertEquals(Arrays.asList("4","5-SNAPSHOT","7"),storage.listProjectVersions(TEST_REPO_ID,"org.apache","apache",ALL));
  assertEquals(Arrays.asList("1.2.1","1.2.2"),storage.listProjectVersions(TEST_REPO_ID,"org.apache.archiva","archiva",ALL));
  assertEquals(Arrays.asList("1.2.1"),storage.listProjectVersions(TEST_REPO_ID,"org.apache.archiva","archiva-base",ALL));
  assertEquals(Arrays.asList("1.2.1"),storage.listProjectVersions(TEST_REPO_ID,"org.apache.archiva","archiva-common",ALL));
  assertEquals(Arrays.asList("1.2.1"),storage.listProjectVersions(TEST_REPO_ID,"org.apache.archiva","archiva-modules",ALL));
  assertEquals(Arrays.asList("3"),storage.listProjectVersions(TEST_REPO_ID,"org.apache.archiva","archiva-parent",ALL));
  assertEquals(Collections.<String>emptyList(),storage.listProjectVersions(TEST_REPO_ID,"org.apache.maven.shared","maven-downloader",ALL));
}

</code></pre>

<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetProjects() throws Exception {
  assertEquals(Collections.<String>emptyList(),storage.listProjects(TEST_REPO_ID,"com",ALL));
  assertEquals(Collections.<String>emptyList(),storage.listProjects(TEST_REPO_ID,"com.example",ALL));
  assertEquals(Arrays.asList("incomplete-metadata","invalid-pom","malformed-metadata","mislocated-pom","missing-metadata","missing-parent","test-artifact"),storage.listProjects(TEST_REPO_ID,"com.example.test",ALL));
  assertEquals(Collections.<String>emptyList(),storage.listProjects(TEST_REPO_ID,"org",ALL));
  assertEquals(Arrays.asList("apache"),storage.listProjects(TEST_REPO_ID,"org.apache",ALL));
  assertEquals(Arrays.asList("archiva","archiva-base","archiva-common","archiva-modules","archiva-parent"),storage.listProjects(TEST_REPO_ID,"org.apache.archiva",ALL));
  assertEquals(Arrays.asList("maven-archiver","maven-parent"),storage.listProjects(TEST_REPO_ID,"org.apache.maven",ALL));
  assertEquals(Collections.<String>emptyList(),storage.listProjects(TEST_REPO_ID,"org.apache.maven.plugins",ALL));
  assertEquals(Arrays.asList("maven-downloader","maven-shared-components"),storage.listProjects(TEST_REPO_ID,"org.apache.maven.shared",ALL));
}

</code></pre>

<pre class="type-10 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetProjectVersionMetadataForMislocatedPom() throws Exception {
  try {
    storage.readProjectVersionMetadata(new ReadMetadataRequest(TEST_REPO_ID,"com.example.test","mislocated-pom","1.0"));
    fail("Should have received an exception due to mislocated POM");
  }
 catch (  RepositoryStorageMetadataInvalidException e) {
    assertEquals("mislocated-pom",e.getId());
  }
}

</code></pre>

<pre class="type-10 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetProjectVersionMetadataForTimestampedSnapshotMalformedMetadata() throws Exception {
  try {
    storage.readProjectVersionMetadata(new ReadMetadataRequest(TEST_REPO_ID,"com.example.test","malformed-metadata","1.0-SNAPSHOT"));
    fail("Should not be found");
  }
 catch (  RepositoryStorageMetadataNotFoundException e) {
    assertEquals("missing-pom",e.getId());
  }
}

</code></pre>

<pre class="type-1 type-3 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  c=new Configuration();
  testRepo=new ManagedRepositoryConfiguration();
  testRepo.setId(TEST_REPO_ID);
  testRepo.setLocation(new File("target/test-repository").getAbsolutePath());
  testRepo.setReleases(true);
  testRepo.setSnapshots(true);
  c.addManagedRepository(testRepo);
  RemoteRepositoryConfiguration testRemoteRepo=new RemoteRepositoryConfiguration();
  testRemoteRepo.setId(TEST_REMOTE_REPO_ID);
  testRemoteRepo.setLayout("default");
  testRemoteRepo.setName("Central Repository");
  testRemoteRepo.setUrl("http://central.repo.com/maven2");
  testRemoteRepo.setTimeout(10);
  c.addRemoteRepository(testRemoteRepo);
  ProxyConnectorConfiguration proxyConnector=new ProxyConnectorConfiguration();
  proxyConnector.setSourceRepoId(TEST_REPO_ID);
  proxyConnector.setTargetRepoId(TEST_REMOTE_REPO_ID);
  proxyConnector.setDisabled(false);
  c.addProxyConnector(proxyConnector);
  configuration.save(c);
  assertTrue(c.getManagedRepositories().get(0).isSnapshots());
  assertTrue(c.getManagedRepositories().get(0).isReleases());
  wagonFactory=mock(WagonFactory.class);
  storage.setWagonFactory(wagonFactory);
  Wagon wagon=new MockWagon();
  when(wagonFactory.getWagon(new WagonFactoryRequest().protocol("wagon#http"))).thenReturn(wagon);
}

</code></pre>

<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetArtifactsFiltered() throws Exception {
  ExcludesFilter<String> filter=new ExcludesFilter<String>(Collections.singletonList("plexus-spring-1.2.pom"));
  List<ArtifactMetadata> artifacts=new ArrayList<>(storage.readArtifactsMetadata(new ReadMetadataRequest(TEST_REPO_ID,"org.codehaus.plexus","plexus-spring","1.2",filter)));
  assertEquals(2,artifacts.size());
  Collections.sort(artifacts,new Comparator<ArtifactMetadata>(){
    @Override public int compare(    ArtifactMetadata o1,    ArtifactMetadata o2){
      return o1.getId().compareTo(o2.getId());
    }
  }
);
  assertArtifact(artifacts.get(0),"plexus-spring-1.2-sources.jar",0,EMPTY_SHA1,EMPTY_MD5);
  assertArtifact(artifacts.get(1),"plexus-spring-1.2.jar",0,EMPTY_SHA1,EMPTY_MD5);
}

</code></pre>

<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testModelWithJdkProfileActivation() throws Exception {
  ReadMetadataRequest readMetadataRequest=new ReadMetadataRequest().repositoryId(TEST_REPO_ID).namespace("org.apache.maven").projectId("maven-archiver").projectVersion("2.4.1");
  ProjectVersionMetadata metadata=storage.readProjectVersionMetadata(readMetadataRequest);
  MavenProjectFacet facet=(MavenProjectFacet)metadata.getFacet(MavenProjectFacet.FACET_ID);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetRootNamespaces() throws Exception {
  assertEquals(Arrays.asList("com","org"),storage.listRootNamespaces(TEST_REPO_ID,ALL));
}

</code></pre>

<pre class="type-5 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetProjectVersionMetadataForTimestampedSnapshot() throws Exception {
  ProjectVersionMetadata metadata=storage.readProjectVersionMetadata(new ReadMetadataRequest(TEST_REPO_ID,"org.apache","apache","5-SNAPSHOT"));
  MavenProjectFacet facet=MavenProjectFacet.class.cast(metadata.getFacet(MavenProjectFacet.FACET_ID));
  assertEquals("pom",facet.getPackaging());
  assertEquals("http://www.apache.org/",metadata.getUrl());
  assertNull(facet.getParent());
  assertEquals("org.apache",facet.getGroupId());
  assertEquals("apache",facet.getArtifactId());
  assertNull(metadata.getCiManagement());
  assertNotNull(metadata.getDescription());
  assertEquals("5-SNAPSHOT",metadata.getId());
  assertNull(metadata.getIssueManagement());
  checkApacheLicense(metadata);
  assertEquals("The Apache Software Foundation",metadata.getName());
  String path="maven/pom/trunk/asf";
  assertEquals(ASF_SCM_CONN_BASE + path,metadata.getScm().getConnection());
  assertEquals(ASF_SCM_DEV_CONN_BASE + path,metadata.getScm().getDeveloperConnection());
  assertEquals(ASF_SCM_VIEWVC_BASE + path,metadata.getScm().getUrl());
  checkOrganizationApache(metadata);
  assertEquals(1,metadata.getMailingLists().size());
  assertMailingList(metadata.getMailingLists().get(0),"Apache Announce List","http://mail-archives.apache.org/mod_mbox/www-announce/","announce@apache.org","announce-subscribe@apache.org","announce-unsubscribe@apache.org",Collections.<String>emptyList(),true);
  assertEquals(Collections.<Dependency>emptyList(),metadata.getDependencies());
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
