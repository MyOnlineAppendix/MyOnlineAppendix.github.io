<h3 style="margin:0px">Class: org.apache.archiva.converter.artifact.LegacyToDefaultConverterTest (24 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(22)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(21)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(13)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Allocates resources before the execution of the test cases"><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >TestInitializer&nbsp;(1)</kbd></button>&nbsp;<button id="10"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('10')" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure"><kbd id="tag-10"class="label-info"style="display: inline-block;font-size:7pt" >UtilityVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-9 type-3 type-5 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testModifedArtifactFails() throws Exception {
  Artifact artifact=createArtifact("test","modified-artifact","1.0.0");
  Artifact pomArtifact=createPomArtifact(artifact);
  File sourceFile=new File(sourceRepository.getBasedir(),sourceRepository.pathOf(artifact));
  File sourcePomFile=new File(sourceRepository.getBasedir(),sourceRepository.pathOf(pomArtifact));
  File targetFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  File targetPomFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(pomArtifact));
  assertTrue("Check target file exists",targetFile.exists());
  assertTrue("Check target POM exists",targetPomFile.exists());
  sourceFile.setLastModified(System.currentTimeMillis());
  sourcePomFile.setLastModified(System.currentTimeMillis());
  long origTime=targetFile.lastModified();
  long origPomTime=targetPomFile.lastModified();
  Thread.sleep(SLEEP_MILLIS);
  artifactConverter.convert(artifact,targetRepository);
  checkWarnings(artifactConverter,2);
  assertHasWarningReason(artifactConverter,Messages.getString("failure.target.already.exists"));
  assertEquals("Check unmodified",origTime,targetFile.lastModified());
  assertEquals("Check unmodified",origPomTime,targetPomFile.lastModified());
  ArtifactRepositoryMetadata metadata=new ArtifactRepositoryMetadata(artifact);
  File metadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(metadata));
  assertFalse("Check metadata not created",metadataFile.exists());
}

</code></pre>

<pre class="type-9 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testV3SnapshotPomConvert() throws Exception {
  Artifact artifact=createArtifact("test","v3artifact","1.0.0-SNAPSHOT");
  ArtifactMetadata artifactMetadata=new ArtifactRepositoryMetadata(artifact);
  File artifactMetadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(artifactMetadata));
  artifactMetadataFile.delete();
  ArtifactMetadata snapshotMetadata=new SnapshotArtifactRepositoryMetadata(artifact);
  File snapshotMetadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(snapshotMetadata));
  snapshotMetadataFile.delete();
  artifactConverter.convert(artifact,targetRepository);
  checkSuccess(artifactConverter);
  File artifactFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  assertTrue("Check artifact created",artifactFile.exists());
  assertTrue("Check artifact matches",FileUtils.contentEquals(artifactFile,artifact.getFile()));
  artifact=createPomArtifact(artifact);
  File pomFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  File expectedPomFile=getTestFile("src/test/expected-files/converted-v3-snapshot.pom");
  assertTrue("Check POM created",pomFile.exists());
  compareFiles(expectedPomFile,pomFile);
  assertTrue("Check artifact metadata created",artifactMetadataFile.exists());
  File expectedMetadataFile=getTestFile("src/test/expected-files/v3-snapshot-artifact-metadata.xml");
  compareFiles(expectedMetadataFile,artifactMetadataFile);
  assertTrue("Check snapshot metadata created",snapshotMetadataFile.exists());
  expectedMetadataFile=getTestFile("src/test/expected-files/v3-snapshot-metadata.xml");
  compareFiles(expectedMetadataFile,snapshotMetadataFile);
}

</code></pre>

<pre class="type-9 type-3 type-5 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDryRunFailure() throws Exception {
  artifactConverter=applicationContext.getBean("artifactConverter#dryrun-repository-converter",ArtifactConverter.class);
  Artifact artifact=createArtifact("test","modified-artifact","1.0.0");
  Artifact pomArtifact=createPomArtifact(artifact);
  File sourceFile=new File(sourceRepository.getBasedir(),sourceRepository.pathOf(artifact));
  File sourcePomFile=new File(sourceRepository.getBasedir(),sourceRepository.pathOf(pomArtifact));
  File targetFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  File targetPomFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(pomArtifact));
  assertTrue("Check target file exists",targetFile.exists());
  assertTrue("Check target POM exists",targetPomFile.exists());
  sourceFile.setLastModified(System.currentTimeMillis());
  sourcePomFile.setLastModified(System.currentTimeMillis());
  long origTime=targetFile.lastModified();
  long origPomTime=targetPomFile.lastModified();
  Thread.sleep(SLEEP_MILLIS);
  artifactConverter.clearWarnings();
  artifactConverter.convert(artifact,targetRepository);
  checkWarnings(artifactConverter,2);
  assertHasWarningReason(artifactConverter,Messages.getString("failure.target.already.exists"));
  assertEquals("Check unmodified",origTime,targetFile.lastModified());
  assertEquals("Check unmodified",origPomTime,targetPomFile.lastModified());
  ArtifactRepositoryMetadata metadata=new ArtifactRepositoryMetadata(artifact);
  File metadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(metadata));
  assertFalse("Check metadata not created",metadataFile.exists());
}

</code></pre>

<pre class="type-9 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testDryRunSuccess() throws Exception {
  artifactConverter=applicationContext.getBean("artifactConverter#dryrun-repository-converter",ArtifactConverter.class);
  Artifact artifact=createArtifact("test","dryrun-artifact","1.0.0");
  Artifact pomArtifact=createPomArtifact(artifact);
  File sourceFile=new File(sourceRepository.getBasedir(),sourceRepository.pathOf(artifact));
  File sourcePomFile=new File(sourceRepository.getBasedir(),sourceRepository.pathOf(pomArtifact));
  File targetFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  File targetPomFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(pomArtifact));
  artifactConverter.clearWarnings();
  artifactConverter.convert(artifact,targetRepository);
  checkSuccess(artifactConverter);
  assertTrue("Check source file exists",sourceFile.exists());
  assertTrue("Check source POM exists",sourcePomFile.exists());
  assertFalse("Check target file doesn't exist",targetFile.exists());
  assertFalse("Check target POM doesn't exist",targetPomFile.exists());
  ArtifactRepositoryMetadata metadata=new ArtifactRepositoryMetadata(artifact);
  File metadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(metadata));
  assertFalse("Check metadata not created",metadataFile.exists());
}

</code></pre>

<pre class="type-9 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testMergeArtifactMetadata() throws Exception {
  Artifact artifact=createArtifact("test","newversion-artifact","1.0.1");
  artifactConverter.convert(artifact,targetRepository);
  checkSuccess(artifactConverter);
  File artifactFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  assertTrue("Check artifact created",artifactFile.exists());
  assertTrue("Check artifact matches",FileUtils.contentEquals(artifactFile,artifact.getFile()));
  artifact=createPomArtifact(artifact);
  File pomFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  File sourcePomFile=new File(sourceRepository.getBasedir(),sourceRepository.pathOf(artifact));
  assertTrue("Check POM created",pomFile.exists());
  compareFiles(sourcePomFile,pomFile);
  ArtifactMetadata artifactMetadata=new ArtifactRepositoryMetadata(artifact);
  File artifactMetadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(artifactMetadata));
  assertTrue("Check artifact metadata created",artifactMetadataFile.exists());
  File expectedMetadataFile=getTestFile("src/test/expected-files/newversion-artifact-metadata.xml");
  compareFiles(expectedMetadataFile,artifactMetadataFile);
}

</code></pre>

<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testV4SnapshotPomConvert() throws Exception {
  doTestV4SnapshotPomConvert("1.0.0-SNAPSHOT","src/test/expected-files/v4-snapshot-metadata.xml");
  assertTrue(true);
}

</code></pre>

<pre class="type-9 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testForcedUnmodifiedArtifact() throws Exception {
  artifactConverter=applicationContext.getBean("artifactConverter#force-repository-converter",ArtifactConverter.class);
  Artifact artifact=createArtifact("test","unmodified-artifact","1.0.0");
  Artifact pomArtifact=createPomArtifact(artifact);
  File sourceFile=new File(sourceRepository.getBasedir(),sourceRepository.pathOf(artifact));
  File sourcePomFile=new File(sourceRepository.getBasedir(),sourceRepository.pathOf(pomArtifact));
  File targetFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  File targetPomFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(pomArtifact));
  SimpleDateFormat dateFormat=new SimpleDateFormat("yyyy-MM-dd",Locale.getDefault());
  long origTime=dateFormat.parse("2006-03-03").getTime();
  targetFile.setLastModified(origTime);
  targetPomFile.setLastModified(origTime);
  sourceFile.setLastModified(dateFormat.parse("2006-01-01").getTime());
  sourcePomFile.setLastModified(dateFormat.parse("2006-02-02").getTime());
  artifactConverter.convert(artifact,targetRepository);
  checkSuccess(artifactConverter);
  compareFiles(sourceFile,targetFile);
  compareFiles(sourcePomFile,targetPomFile);
  assertFalse("Check modified",origTime == targetFile.lastModified());
  assertFalse("Check modified",origTime == targetPomFile.lastModified());
  ArtifactRepositoryMetadata metadata=new ArtifactRepositoryMetadata(artifact);
  File metadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(metadata));
  assertTrue("Check metadata created",metadataFile.exists());
}

</code></pre>

<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testV3PomConvertWithRelocation() throws Exception {
  Artifact artifact=createArtifact("test","relocated-v3artifact","1.0.0");
  ArtifactMetadata artifactMetadata=new ArtifactRepositoryMetadata(artifact);
  File artifactMetadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(artifactMetadata));
  artifactMetadataFile.delete();
  ArtifactMetadata versionMetadata=new SnapshotArtifactRepositoryMetadata(artifact);
  File versionMetadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(versionMetadata));
  versionMetadataFile.delete();
  artifactConverter.convert(artifact,targetRepository);
  File artifactFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  assertTrue("Check if relocated artifact created",artifactFile.exists());
  assertTrue("Check if relocated artifact matches",FileUtils.contentEquals(artifactFile,artifact.getFile()));
  Artifact pomArtifact=createArtifact("relocated-test","relocated-v3artifact","1.0.0","1.0.0","pom");
  File pomFile=getTestFile("src/test/expected-files/" + targetRepository.pathOf(pomArtifact));
  File testFile=getTestFile("target/test-target-repository/" + targetRepository.pathOf(pomArtifact));
  compareFiles(pomFile,testFile);
  Artifact orig=createArtifact("test","relocated-v3artifact","1.0.0","1.0.0","pom");
  artifactFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(orig));
  assertTrue("Check if relocation artifact pom is created",artifactFile.exists());
  testFile=getTestFile("src/test/expected-files/" + targetRepository.pathOf(orig));
  compareFiles(artifactFile,testFile);
}

</code></pre>

<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testRollbackArtifactCreated() throws Exception {
  Artifact artifact=createArtifact("test","rollback-created-artifact","1.0.0");
  ArtifactMetadata artifactMetadata=new ArtifactRepositoryMetadata(artifact);
  File artifactMetadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(artifactMetadata));
  FileUtils.deleteDirectory(artifactMetadataFile.getParentFile());
  ArtifactMetadata versionMetadata=new SnapshotArtifactRepositoryMetadata(artifact);
  File versionMetadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(versionMetadata));
  File artifactFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  artifactConverter.convert(artifact,targetRepository);
  checkWarnings(artifactConverter,2);
  boolean found=false;
  String pattern="^" + Messages.getString("invalid.source.pom").replaceFirst("\\{0\\}",".*") + "$";
  for (  List<String> messages : artifactConverter.getWarnings().values()) {
    for (    String message : messages) {
      if (message.matches(pattern)) {
        found=true;
        break;
      }
    }
    if (found) {
      break;
    }
  }
  assertTrue("Check failure message.",found);
  assertFalse("check artifact rolled back",artifactFile.exists());
  assertFalse("check metadata rolled back",artifactMetadataFile.exists());
  assertFalse("check metadata rolled back",versionMetadataFile.exists());
}

</code></pre>

<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testInvalidSourceSnapshotMetadata() throws Exception {
  createModernSourceRepository();
  Artifact artifact=createArtifact("test","incorrectSnapshotMetadata","1.0.0-20060102.030405-6");
  File file=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  file.delete();
  artifactConverter.convert(artifact,targetRepository);
  checkWarnings(artifactConverter,2);
  assertHasWarningReason(artifactConverter,Messages.getString("failure.incorrect.snapshotMetadata.snapshot"));
  assertFalse("Check artifact not created",file.exists());
  ArtifactRepositoryMetadata metadata=new ArtifactRepositoryMetadata(artifact);
  File metadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(metadata));
  assertFalse("Check metadata not created",metadataFile.exists());
}

</code></pre>

<pre class="type-10 type-5 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSourceAndTargetRepositoriesMatch() throws Exception {
  ArtifactRepositoryFactory factory=plexusSisuBridge.lookup(ArtifactRepositoryFactory.class);
  sourceRepository=factory.createArtifactRepository("source",targetRepository.getUrl(),targetRepository.getLayout(),null,null);
  Artifact artifact=createArtifact("test","repository-artifact","1.0");
  try {
    artifactConverter.convert(artifact,targetRepository);
    fail("Should have failed trying to convert within the same repository");
  }
 catch (  ArtifactConversionException e) {
    assertEquals("check message",Messages.getString("exception.repositories.match"),e.getMessage());
    assertNull("Check no additional cause",e.getCause());
  }
}

</code></pre>

<pre class="type-9 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testV4PomConvert() throws Exception {
  Artifact artifact=createArtifact("test","v4artifact","1.0.0");
  ArtifactMetadata artifactMetadata=new ArtifactRepositoryMetadata(artifact);
  File artifactMetadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(artifactMetadata));
  artifactMetadataFile.delete();
  ArtifactMetadata versionMetadata=new SnapshotArtifactRepositoryMetadata(artifact);
  File versionMetadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(versionMetadata));
  versionMetadataFile.delete();
  File artifactFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  artifactFile.delete();
  artifactConverter.convert(artifact,targetRepository);
  checkSuccess(artifactConverter);
  assertTrue("Check artifact created",artifactFile.exists());
  assertTrue("Check artifact matches",FileUtils.contentEquals(artifactFile,artifact.getFile()));
  artifact=createPomArtifact(artifact);
  File pomFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  File sourcePomFile=new File(sourceRepository.getBasedir(),sourceRepository.pathOf(artifact));
  assertTrue("Check POM created",pomFile.exists());
  compareFiles(sourcePomFile,pomFile);
  assertTrue("Check artifact metadata created",artifactMetadataFile.exists());
  File expectedMetadataFile=getTestFile("src/test/expected-files/v4-artifact-metadata.xml");
  compareFiles(expectedMetadataFile,artifactMetadataFile);
  assertTrue("Check snapshot metadata created",versionMetadataFile.exists());
  expectedMetadataFile=getTestFile("src/test/expected-files/v4-version-metadata.xml");
  compareFiles(expectedMetadataFile,versionMetadataFile);
}

</code></pre>

<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIncorrectSourceChecksumMd5() throws Exception {
  Artifact artifact=createArtifact("test","incorrectMd5Artifact","1.0.0");
  File file=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  file.delete();
  artifactConverter.convert(artifact,targetRepository);
  checkWarnings(artifactConverter,2);
  assertHasWarningReason(artifactConverter,Messages.getString("failure.incorrect.md5"));
  assertFalse("Check artifact not created",file.exists());
  ArtifactRepositoryMetadata metadata=new ArtifactRepositoryMetadata(artifact);
  File metadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(metadata));
  assertFalse("Check metadata not created",metadataFile.exists());
}

</code></pre>

<pre class="type-9 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testV3PomConvert() throws Exception {
  Artifact artifact=createArtifact("test","v3artifact","1.0.0");
  ArtifactMetadata artifactMetadata=new ArtifactRepositoryMetadata(artifact);
  File artifactMetadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(artifactMetadata));
  artifactMetadataFile.delete();
  ArtifactMetadata versionMetadata=new SnapshotArtifactRepositoryMetadata(artifact);
  File versionMetadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(versionMetadata));
  versionMetadataFile.delete();
  artifactConverter.convert(artifact,targetRepository);
  checkSuccess(artifactConverter);
  File artifactFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  assertTrue("Check artifact created",artifactFile.exists());
  assertTrue("Check artifact matches",FileUtils.contentEquals(artifactFile,artifact.getFile()));
  artifact=createPomArtifact(artifact);
  File pomFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  File expectedPomFile=getTestFile("src/test/expected-files/converted-v3.pom");
  assertTrue("Check POM created",pomFile.exists());
  compareFiles(expectedPomFile,pomFile);
  assertTrue("Check artifact metadata created",artifactMetadataFile.exists());
  File expectedMetadataFile=getTestFile("src/test/expected-files/v3-artifact-metadata.xml");
  compareFiles(expectedMetadataFile,artifactMetadataFile);
  assertTrue("Check snapshot metadata created",versionMetadataFile.exists());
  expectedMetadataFile=getTestFile("src/test/expected-files/v3-version-metadata.xml");
  compareFiles(expectedMetadataFile,versionMetadataFile);
}

</code></pre>

<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testInvalidSourceArtifactMetadata() throws Exception {
  createModernSourceRepository();
  Artifact artifact=createArtifact("test","incorrectArtifactMetadata","1.0.0");
  File file=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  file.delete();
  artifactConverter.convert(artifact,targetRepository);
  checkWarnings(artifactConverter,2);
  assertHasWarningReason(artifactConverter,Messages.getString("failure.incorrect.artifactMetadata.versions"));
  assertFalse("Check artifact not created",file.exists());
  ArtifactRepositoryMetadata metadata=new ArtifactRepositoryMetadata(artifact);
  File metadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(metadata));
  assertFalse("Check metadata not created",metadataFile.exists());
}

</code></pre>

<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testMavenOnePluginConversion() throws Exception {
  Artifact artifact=createArtifact("org.apache.maven.plugins","maven-foo-plugin","1.0","1.0","maven-plugin");
  artifact.setFile(new File(FileUtil.getBasedir(),"src/test/source-repository/test/plugins/maven-foo-plugin-1.0.jar"));
  artifactConverter.convert(artifact,targetRepository);
  File artifactFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  assertTrue("Check artifact created",artifactFile.exists());
  assertTrue("Check artifact matches",FileUtils.contentEquals(artifactFile,artifact.getFile()));
}

</code></pre>

<pre class="type-9 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testV3TimestampedSnapshotPomConvert() throws Exception {
  Artifact artifact=createArtifact("test","v3artifact","1.0.0-20060105.130101-3");
  ArtifactMetadata artifactMetadata=new ArtifactRepositoryMetadata(artifact);
  File artifactMetadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(artifactMetadata));
  artifactMetadataFile.delete();
  ArtifactMetadata snapshotMetadata=new SnapshotArtifactRepositoryMetadata(artifact);
  File snapshotMetadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(snapshotMetadata));
  snapshotMetadataFile.delete();
  artifactConverter.convert(artifact,targetRepository);
  checkSuccess(artifactConverter);
  File artifactFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  assertTrue("Check artifact created",artifactFile.exists());
  assertTrue("Check artifact matches",FileUtils.contentEquals(artifactFile,artifact.getFile()));
  artifact=createPomArtifact(artifact);
  File pomFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  File expectedPomFile=getTestFile("src/test/expected-files/converted-v3-timestamped-snapshot.pom");
  assertTrue("Check POM created",pomFile.exists());
  compareFiles(expectedPomFile,pomFile);
  assertTrue("Check artifact snapshotMetadata created",artifactMetadataFile.exists());
  File expectedMetadataFile=getTestFile("src/test/expected-files/v3-snapshot-artifact-metadata.xml");
  compareFiles(expectedMetadataFile,artifactMetadataFile);
  assertTrue("Check snapshot snapshotMetadata created",snapshotMetadataFile.exists());
  expectedMetadataFile=getTestFile("src/test/expected-files/v3-timestamped-snapshot-metadata.xml");
  compareFiles(expectedMetadataFile,snapshotMetadataFile);
}

</code></pre>

<pre class="type-9 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testMultipleArtifacts() throws Exception {
  List<Artifact> artifacts=new ArrayList<>();
  artifacts.add(createArtifact("test","artifact-one","1.0.0"));
  artifacts.add(createArtifact("test","artifact-two","1.0.0"));
  artifacts.add(createArtifact("test","artifact-three","1.0.0"));
  for (  Artifact artifact : artifacts) {
    artifactConverter.convert(artifact,targetRepository);
    checkSuccess(artifactConverter);
  }
  for (  Artifact artifact : artifacts) {
    File artifactFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
    assertTrue("Check artifact created",artifactFile.exists());
    assertTrue("Check artifact matches",FileUtils.contentEquals(artifactFile,artifact.getFile()));
    artifact=createPomArtifact(artifact);
    File pomFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
    File expectedPomFile=getTestFile("src/test/expected-files/converted-" + artifact.getArtifactId() + ".pom");
    assertTrue("Check POM created",pomFile.exists());
    compareFiles(expectedPomFile,pomFile);
  }
}

</code></pre>

<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testV4TimestampedSnapshotPomConvert() throws Exception {
  doTestV4SnapshotPomConvert("1.0.0-20060111.120115-1","src/test/expected-files/v4-timestamped-snapshot-metadata.xml");
  assertTrue(true);
}

</code></pre>

<pre class="type-9 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testV3PomWarningsOnConvert() throws Exception {
  Artifact artifact=createArtifact("test","v3-warnings-artifact","1.0.0");
  ArtifactMetadata artifactMetadata=new ArtifactRepositoryMetadata(artifact);
  File artifactMetadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(artifactMetadata));
  artifactMetadataFile.delete();
  ArtifactMetadata versionMetadata=new SnapshotArtifactRepositoryMetadata(artifact);
  File versionMetadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(versionMetadata));
  versionMetadataFile.delete();
  artifactConverter.convert(artifact,targetRepository);
  checkWarnings(artifactConverter,2);
  File artifactFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  assertTrue("Check artifact created",artifactFile.exists());
  assertTrue("Check artifact matches",FileUtils.contentEquals(artifactFile,artifact.getFile()));
  artifact=createPomArtifact(artifact);
  File pomFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  File expectedPomFile=getTestFile("src/test/expected-files/converted-v3-warnings.pom");
  assertTrue("Check POM created",pomFile.exists());
  compareFiles(expectedPomFile,pomFile);
}

</code></pre>

<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIncorrectSourceChecksumSha1() throws Exception {
  Artifact artifact=createArtifact("test","incorrectSha1Artifact","1.0.0");
  File file=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  file.delete();
  artifactConverter.convert(artifact,targetRepository);
  checkWarnings(artifactConverter,2);
  assertHasWarningReason(artifactConverter,Messages.getString("failure.incorrect.sha1"));
  assertFalse("Check artifact not created",file.exists());
  ArtifactRepositoryMetadata metadata=new ArtifactRepositoryMetadata(artifact);
  File metadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(metadata));
  assertFalse("Check metadata not created",metadataFile.exists());
}

</code></pre>

<pre class="type-9 type-3 type-5 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnmodifiedArtifact() throws Exception, InterruptedException {
  Artifact artifact=createArtifact("test","unmodified-artifact","1.0.0");
  Artifact pomArtifact=createPomArtifact(artifact);
  File sourceFile=new File(sourceRepository.getBasedir(),sourceRepository.pathOf(artifact));
  File sourcePomFile=new File(sourceRepository.getBasedir(),sourceRepository.pathOf(pomArtifact));
  File targetFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  File targetPomFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(pomArtifact));
  assertTrue("Check target file exists",targetFile.exists());
  assertTrue("Check target POM exists",targetPomFile.exists());
  sourceFile.setLastModified(System.currentTimeMillis());
  sourcePomFile.setLastModified(System.currentTimeMillis());
  long origTime=targetFile.lastModified();
  long origPomTime=targetPomFile.lastModified();
  Thread.sleep(SLEEP_MILLIS);
  artifactConverter.convert(artifact,targetRepository);
  checkSuccess(artifactConverter);
  compareFiles(sourceFile,targetFile);
  compareFiles(sourcePomFile,targetPomFile);
  assertEquals("Check artifact unmodified",origTime,targetFile.lastModified());
  assertEquals("Check POM unmodified",origPomTime,targetPomFile.lastModified());
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void init() throws Exception {
  super.setUp();
  ArtifactRepositoryFactory factory=plexusSisuBridge.lookup(ArtifactRepositoryFactory.class);
  Map<String,ArtifactRepositoryLayout> layoutsMap=plexusSisuBridge.lookupMap(ArtifactRepositoryLayout.class);
  System.out.println("hints " + layoutsMap.keySet().toString());
  ArtifactRepositoryLayout layout=plexusSisuBridge.lookup(ArtifactRepositoryLayout.class,"legacy");
  File sourceBase=getTestFile("src/test/source-repository");
  sourceRepository=factory.createArtifactRepository("source",sourceBase.toURL().toString(),layout,null,null);
  layout=plexusSisuBridge.lookup(ArtifactRepositoryLayout.class,"default");
  File targetBase=getTestFile("target/test-target-repository");
  copyDirectoryStructure(getTestFile("src/test/target-repository"),targetBase);
  targetRepository=factory.createArtifactRepository("target",targetBase.toURL().toString(),layout,null,null);
  artifactConverter=applicationContext.getBean("artifactConverter#legacy-to-default",ArtifactConverter.class);
  artifactConverter.clearWarnings();
  artifactFactory=(ArtifactFactory)plexusSisuBridge.lookup(ArtifactFactory.class);
}

</code></pre>

<pre class="type-9 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNoPomConvert() throws Exception {
  Artifact artifact=createArtifact("test","noPomArtifact","1.0.0");
  artifactConverter.convert(artifact,targetRepository);
  checkWarnings(artifactConverter,1);
  assertHasWarningReason(artifactConverter,Messages.getString("warning.missing.pom"));
  File artifactFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  assertTrue("Check artifact created",artifactFile.exists());
  assertTrue("Check artifact matches",FileUtils.contentEquals(artifactFile,artifact.getFile()));
  artifact=createPomArtifact(artifact);
  File pomFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  File sourcePomFile=new File(sourceRepository.getBasedir(),sourceRepository.pathOf(artifact));
  assertFalse("Check no POM created",pomFile.exists());
  assertFalse("No source POM",sourcePomFile.exists());
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
