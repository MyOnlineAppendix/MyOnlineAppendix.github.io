<h3 style="margin:0px">Class: org.apache.archiva.metadata.repository.AbstractMetadataRepositoryTest (73 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(68)</kbd></button>&nbsp;<button id="12"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('12')" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements"><kbd id="tag-12"class="label-info"style="display: inline-block;font-size:7pt" >ConditionMatcher&nbsp;(39)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(34)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(13)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(10)</kbd></button>&nbsp;<button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(7)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(7)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Executes methods or other tests from the same test unit"><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >ExecutionTester&nbsp;(2)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testSearchArtifactsByKeyExact() throws Exception {
  createArtifactWithData();
  Collection<ArtifactMetadata> artifactsByProperty=repository.searchArtifacts("url",TEST_URL,TEST_REPO_ID,true);
  assertThat(artifactsByProperty).isNotNull().isNotEmpty();
  artifactsByProperty=repository.searchArtifacts("org.name","pache",TEST_REPO_ID,true);
  assertThat(artifactsByProperty).isNotNull().isEmpty();
}

</code></pre>

<pre class="type-9 type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetArtifactsByPropertySingleResult() throws Exception {
  createArtifactWithData();
  Collection<ArtifactMetadata> artifactsByProperty=repository.getArtifactsByProperty("url",TEST_URL,TEST_REPO_ID);
  assertThat(artifactsByProperty).hasSize(1);
  ArtifactMetadata artifactMetadata=artifactsByProperty.iterator().next();
  assertThat(artifactMetadata.getId()).isEqualTo("projectId-1.0.jar");
  assertThat(artifactMetadata.getSha1()).isEqualTo(TEST_SHA1);
  assertThat(artifactMetadata.getRepositoryId()).isEqualTo(TEST_REPO_ID);
}

</code></pre>

<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testGetMetadataFacetsWhenEmpty() throws Exception {
  List<String> facets=repository.getMetadataFacets(TEST_REPO_ID,TEST_FACET_ID);
  assertTrue(facets.isEmpty());
}

</code></pre>

<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetArtifactsDoesntReturnProjectVersionMetadataFacets() throws Exception {
  ProjectVersionMetadata versionMetadata=new ProjectVersionMetadata();
  versionMetadata.setId(TEST_PROJECT_VERSION);
  MetadataFacet facet=new TestMetadataFacet(TEST_FACET_ID,"baz");
  versionMetadata.addFacet(facet);
  repository.updateProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,versionMetadata);
  ArtifactMetadata artifactMetadata=createArtifact();
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifactMetadata);
  repository.save();
  Collection<ArtifactMetadata> artifacts=repository.getArtifacts(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertEquals(Collections.singletonList(artifactMetadata),new ArrayList<>(artifacts));
  artifacts=repository.getArtifacts(TEST_REPO_ID);
  assertEquals(Collections.singletonList(artifactMetadata),new ArrayList<>(artifacts));
  artifacts=repository.getArtifactsByChecksum(TEST_REPO_ID,TEST_SHA1);
  assertEquals(Collections.singletonList(artifactMetadata),new ArrayList<>(artifacts));
  artifacts=repository.getArtifactsByChecksum(TEST_REPO_ID,TEST_MD5);
  assertEquals(Collections.singletonList(artifactMetadata),new ArrayList<>(artifacts));
  artifacts=repository.getArtifactsByDateRange(TEST_REPO_ID,null,null);
  assertEquals(Collections.singletonList(artifactMetadata),new ArrayList<>(artifacts));
}

</code></pre>

<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetArtifactsByChecksumDeepNamespace() throws Exception {
  ArtifactMetadata artifact=createArtifact();
  String namespace="multi.level.ns";
  artifact.setNamespace(namespace);
  repository.updateArtifact(TEST_REPO_ID,namespace,TEST_PROJECT,TEST_PROJECT_VERSION,artifact);
  repository.save();
  assertEquals(Collections.singletonList(artifact),new ArrayList<>(repository.getArtifactsByChecksum(TEST_REPO_ID,TEST_SHA1)));
  assertEquals(Collections.singletonList(artifact),new ArrayList<>(repository.getArtifactsByChecksum(TEST_REPO_ID,TEST_MD5)));
}

</code></pre>

<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testSearchArtifactsFullText() throws Exception {
  createArtifactWithGenericMetadataFacet();
  Collection<ArtifactMetadata> artifactsByProperty=repository.searchArtifacts(TEST_METADATA_VALUE,TEST_REPO_ID,false);
  assertThat(artifactsByProperty).isNotNull().isNotEmpty();
}

</code></pre>

<pre class="type-5 type-6 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void deleteProject() throws Exception {
  ArtifactMetadata artifact=createArtifact();
  artifact.addFacet(new TestMetadataFacet("value"));
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact);
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact);
  assertEquals(1,repository.getProjectVersions(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT).size());
  repository.removeProject(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT);
  Collection<String> versions=repository.getProjectVersions(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT);
  assertThat(versions).isNotNull().isEmpty();
}

</code></pre>

<pre class="type-3 type-5 type-6 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateProjectVersionMetadataWithAllElements() throws Exception {
  ProjectVersionMetadata metadata=new ProjectVersionMetadata();
  metadata.setId(TEST_PROJECT_VERSION);
  metadata.setName("project name");
  metadata.setDescription("project description");
  metadata.setUrl("the url");
  MailingList mailingList=new MailingList();
  mailingList.setName("Foo List");
  mailingList.setUnsubscribeAddress("UnsubscribeAddress");
  mailingList.setSubscribeAddress("SubscribeAddress");
  mailingList.setPostAddress("PostAddress");
  mailingList.setMainArchiveUrl("MainArchiveUrl");
  mailingList.setOtherArchives(Arrays.asList("other archive"));
  metadata.setMailingLists(Arrays.asList(mailingList));
  Scm scm=new Scm();
  scm.setConnection("connection");
  scm.setDeveloperConnection("dev conn");
  scm.setUrl("url");
  metadata.setScm(scm);
  CiManagement ci=new CiManagement();
  ci.setSystem("system");
  ci.setUrl("ci url");
  metadata.setCiManagement(ci);
  IssueManagement tracker=new IssueManagement();
  tracker.setSystem("system");
  tracker.setUrl("issue tracker url");
  metadata.setIssueManagement(tracker);
  metadata.setOrganization(TEST_ORGANIZATION);
  License l=new License();
  l.setName("license name");
  l.setUrl("license url");
  metadata.addLicense(l);
  Dependency d=new Dependency();
  d.setArtifactId("artifactId");
  d.setClassifier("classifier");
  d.setGroupId("groupId");
  d.setScope("scope");
  d.setSystemPath("system path");
  d.setType("type");
  d.setVersion("version");
  d.setOptional(true);
  metadata.addDependency(d);
  repository.updateProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,metadata);
  metadata=repository.getProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertEquals(TEST_PROJECT_VERSION,metadata.getId());
  assertEquals(TEST_PROJECT_VERSION,metadata.getVersion());
  assertEquals("project name",metadata.getName());
  assertEquals("project description",metadata.getDescription());
  assertEquals("the url",metadata.getUrl());
  assertEquals("connection",metadata.getScm().getConnection());
  assertEquals("dev conn",metadata.getScm().getDeveloperConnection());
  assertEquals("url",metadata.getScm().getUrl());
  assertEquals("system",metadata.getCiManagement().getSystem());
  assertEquals("ci url",metadata.getCiManagement().getUrl());
  assertEquals("system",metadata.getIssueManagement().getSystem());
  assertEquals("issue tracker url",metadata.getIssueManagement().getUrl());
  assertEquals(TEST_ORGANIZATION.getName(),metadata.getOrganization().getName());
  assertEquals(TEST_ORGANIZATION.getUrl(),metadata.getOrganization().getUrl());
  assertEquals(1,metadata.getMailingLists().size());
  MailingList retrievedMailingList=metadata.getMailingLists().get(0);
  assertEquals(mailingList.getName(),retrievedMailingList.getName());
  assertEquals(mailingList.getMainArchiveUrl(),retrievedMailingList.getMainArchiveUrl());
  assertEquals(mailingList.getPostAddress(),retrievedMailingList.getPostAddress());
  assertEquals(mailingList.getSubscribeAddress(),retrievedMailingList.getSubscribeAddress());
  assertEquals(mailingList.getUnsubscribeAddress(),retrievedMailingList.getUnsubscribeAddress());
  assertThat(retrievedMailingList.getOtherArchives()).isNotNull().isNotEmpty().hasSize(1).contains("other archive");
  assertEquals(1,metadata.getLicenses().size());
  l=metadata.getLicenses().get(0);
  assertEquals("license name",l.getName());
  assertEquals("license url",l.getUrl());
  assertEquals(1,metadata.getDependencies().size());
  d=metadata.getDependencies().get(0);
  assertEquals("artifactId",d.getArtifactId());
  assertEquals("classifier",d.getClassifier());
  assertEquals("groupId",d.getGroupId());
  assertEquals("scope",d.getScope());
  assertEquals("system path",d.getSystemPath());
  assertEquals("type",d.getType());
  assertEquals("version",d.getVersion());
  assertTrue(d.isOptional());
}

</code></pre>

<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testSearchArtifactsFullTextByFacet() throws Exception {
  createArtifactWithGenericMetadataFacet();
  Collection<ArtifactMetadata> artifactsByProperty=repository.searchArtifacts(TEST_METADATA_VALUE,TEST_REPO_ID,false);
  assertThat(artifactsByProperty).isNotNull().isNotEmpty();
}

</code></pre>

<pre class="type-3 type-5 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void hasMetadataFacet() throws Exception {
  assertFalse(repository.hasMetadataFacet(TEST_REPO_ID,KindOfRepositoryStatistics.class.getName()));
  Calendar cal=Calendar.getInstance();
  repository.addMetadataFacet(TEST_REPO_ID,new KindOfRepositoryStatistics("first",cal.getTime()));
  assertTrue(repository.hasMetadataFacet(TEST_REPO_ID,KindOfRepositoryStatistics.class.getName()));
  cal.add(Calendar.MINUTE,2);
  repository.addMetadataFacet(TEST_REPO_ID,new KindOfRepositoryStatistics("second",cal.getTime()));
  cal.add(Calendar.MINUTE,2);
  repository.addMetadataFacet(TEST_REPO_ID,new KindOfRepositoryStatistics("third",cal.getTime()));
  List<String> facets=repository.getMetadataFacets(TEST_REPO_ID,KindOfRepositoryStatistics.class.getName());
  assertThat(facets).isNotNull().isNotEmpty().hasSize(3);
  assertTrue(repository.hasMetadataFacet(TEST_REPO_ID,KindOfRepositoryStatistics.class.getName()));
  repository.removeMetadataFacets(TEST_REPO_ID,KindOfRepositoryStatistics.class.getName());
  assertFalse(repository.hasMetadataFacet(TEST_REPO_ID,KindOfRepositoryStatistics.class.getName()));
  facets=repository.getMetadataFacets(TEST_REPO_ID,KindOfRepositoryStatistics.class.getName());
  assertThat(facets).isNotNull().isEmpty();
}

</code></pre>

<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetProjectsWithOtherNamespacesPresent() throws Exception {
  ProjectMetadata projectMetadata=new ProjectMetadata();
  projectMetadata.setId(TEST_PROJECT);
  projectMetadata.setNamespace("org.apache.maven");
  repository.updateProject(TEST_REPO_ID,projectMetadata);
  repository.updateNamespace(TEST_REPO_ID,"org.apache.maven.shared");
  Collection<String> projects=repository.getProjects(TEST_REPO_ID,"org.apache.maven");
  assertThat(projects).isNotNull().isNotEmpty().hasSize(1).contains(TEST_PROJECT);
}

</code></pre>

<pre class="type-3 type-5 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateProjectVersionMetadataIncomplete() throws Exception {
  ProjectVersionMetadata metadata=new ProjectVersionMetadata();
  metadata.setId(TEST_PROJECT_VERSION);
  metadata.setIncomplete(true);
  repository.updateProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,metadata);
  metadata=repository.getProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertEquals(true,metadata.isIncomplete());
  assertNull(metadata.getCiManagement());
  assertNull(metadata.getScm());
  assertNull(metadata.getIssueManagement());
  assertNull(metadata.getOrganization());
  assertNull(metadata.getDescription());
  assertNull(metadata.getName());
  assertEquals(TEST_PROJECT_VERSION,metadata.getId());
  assertEquals(TEST_PROJECT_VERSION,metadata.getVersion());
  assertTrue(metadata.getMailingLists().isEmpty());
  assertTrue(metadata.getLicenses().isEmpty());
  assertTrue(metadata.getDependencies().isEmpty());
}

</code></pre>

<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetMetadataFacet() throws Exception {
  repository.addMetadataFacet(TEST_REPO_ID,new TestMetadataFacet(TEST_VALUE));
  TestMetadataFacet test=(TestMetadataFacet)repository.getMetadataFacet(TEST_REPO_ID,TEST_FACET_ID,TEST_NAME);
  assertEquals(new TestMetadataFacet(TEST_VALUE),test);
}

</code></pre>

<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetArtifactVersions() throws Exception {
  ArtifactMetadata artifact1=createArtifact();
  String version1="1.0-20091212.012345-1";
  artifact1.setId(artifact1.getProject() + "-" + version1+ ".jar");
  artifact1.setVersion(version1);
  ArtifactMetadata artifact2=createArtifact();
  String version2="1.0-20091212.123456-2";
  artifact2.setId(artifact2.getProject() + "-" + version2+ ".jar");
  artifact2.setVersion(version2);
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact1);
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact2);
  Collection<String> versions=repository.getArtifactVersions(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertThat(versions).isNotNull().isNotEmpty().contains(version1,version2);
}

</code></pre>

<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetArtifactsByChecksumMultipleResult() throws Exception {
  ArtifactMetadata artifact1=createArtifact();
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact1);
  String newProjectId="another-project";
  ArtifactMetadata artifact2=createArtifact();
  artifact2.setProject(newProjectId);
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,newProjectId,TEST_PROJECT_VERSION,artifact2);
  repository.save();
  List<ArtifactMetadata> artifacts=new ArrayList<>(repository.getArtifactsByChecksum(TEST_REPO_ID,TEST_SHA1));
  Collections.sort(artifacts,new ArtifactMetadataComparator());
  assertEquals(Arrays.asList(artifact2,artifact1),artifacts);
  artifacts=new ArrayList<>(repository.getArtifactsByChecksum(TEST_REPO_ID,TEST_MD5));
  Collections.sort(artifacts,new ArtifactMetadataComparator());
  assertEquals(Arrays.asList(artifact2,artifact1),artifacts);
}

</code></pre>

<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetArtifactsByProjectVersionMetadataNoRepository() throws Exception {
  createArtifactWithGenericMetadataFacet();
  Collection<ArtifactMetadata> artifactsByMetadata=repository.getArtifactsByProjectVersionMetadata(TEST_METADATA_KEY,TEST_METADATA_VALUE,null);
  assertThat(artifactsByMetadata).hasSize(1);
  assertThat(artifactsByMetadata.iterator().next().getRepositoryId()).isNotNull().isNotEmpty();
}

</code></pre>

<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetArtifactsByProjectVersionMetadataAllRepositories() throws Exception {
  createArtifactWithGenericMetadataFacet();
  Collection<ArtifactMetadata> artifactsByMetadata=repository.getArtifactsByProjectVersionMetadata(TEST_METADATA_KEY,TEST_METADATA_VALUE,null);
  assertThat(artifactsByMetadata).hasSize(1);
}

</code></pre>

<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testSearchArtifactsByFacetKey() throws Exception {
  createArtifactWithGenericMetadataFacet();
  Collection<ArtifactMetadata> artifactsByProperty=repository.searchArtifacts(TEST_METADATA_KEY,TEST_METADATA_VALUE,TEST_REPO_ID,false);
  assertThat(artifactsByProperty).isNotNull().isNotEmpty();
}

</code></pre>

<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testSearchArtifactsByKey() throws Exception {
  createArtifactWithData();
  Collection<ArtifactMetadata> artifactsByProperty=repository.searchArtifacts("url",TEST_URL,TEST_REPO_ID,false);
  assertThat(artifactsByProperty).isNotNull().isNotEmpty();
}

</code></pre>

<pre class="type-5 type-6 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetArtifactOnly() throws Exception {
  assertThat(new ArrayList<>(repository.getArtifacts(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION))).isNotNull().isEmpty();
  assertThat(repository.getProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION)).isNull();
  assertThat(repository.getProject(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT)).isNull();
  assertThat(repository.getRootNamespaces(TEST_REPO_ID)).isNotNull().isEmpty();
  ArtifactMetadata metadata=createArtifact();
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,metadata);
  Collection<ArtifactMetadata> artifacts=repository.getArtifacts(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertThat(artifacts).containsExactly(metadata);
  assertThat(repository.getRootNamespaces(TEST_REPO_ID)).isNotNull().isNotEmpty().contains(TEST_NAMESPACE).hasSize(1);
  ProjectMetadata projectMetadata=repository.getProject(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT);
  assertEquals(TEST_PROJECT,projectMetadata.getId());
  assertEquals(TEST_NAMESPACE,projectMetadata.getNamespace());
  ProjectVersionMetadata projectVersionMetadata=repository.getProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertEquals(TEST_PROJECT_VERSION,projectVersionMetadata.getId());
}

</code></pre>

<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetArtifacts() throws Exception {
  ArtifactMetadata artifact1=createArtifact();
  ArtifactMetadata artifact2=createArtifact("pom");
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact1);
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact2);
  Collection<ArtifactMetadata> artifacts=repository.getArtifacts(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  ArrayList<ArtifactMetadata> actual=new ArrayList<>(artifacts);
  Collections.sort(actual,new Comparator<ArtifactMetadata>(){
    @Override public int compare(    ArtifactMetadata o1,    ArtifactMetadata o2){
      return o1.getId().compareTo(o2.getId());
    }
  }
);
  assertEquals(Arrays.asList(artifact1,artifact2),actual);
}

</code></pre>

<pre class="type-9 type-5 type-6 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateArtifactMetadataWithExistingFacetsFacetPropertyWasRemoved() throws Exception {
  ArtifactMetadata metadata=createArtifact();
  Map<String,String> additionalProps=new HashMap<>();
  additionalProps.put("deleteKey","deleteValue");
  MetadataFacet facet=new TestMetadataFacet(TEST_FACET_ID,"baz",additionalProps);
  metadata.addFacet(facet);
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,metadata);
  Collection<ArtifactMetadata> artifacts=repository.getArtifacts(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertThat(artifacts).isNotNull().isNotEmpty().hasSize(1);
  metadata=artifacts.iterator().next();
  Collection<String> ids=metadata.getFacetIds();
  assertThat(ids).isNotNull().isNotEmpty().hasSize(1).contains(TEST_FACET_ID);
  TestMetadataFacet testFacet=(TestMetadataFacet)metadata.getFacet(TEST_FACET_ID);
  Map<String,String> facetProperties=testFacet.toProperties();
  assertEquals("deleteValue",facetProperties.get("deleteKey"));
  facetProperties.remove("deleteKey");
  TestMetadataFacet newTestFacet=new TestMetadataFacet(TEST_FACET_ID,testFacet.getValue(),facetProperties);
  metadata.addFacet(newTestFacet);
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,metadata);
  artifacts=repository.getArtifacts(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertThat(artifacts).isNotNull().isNotEmpty().hasSize(1);
  metadata=artifacts.iterator().next();
  ids=metadata.getFacetIds();
  assertThat(ids).isNotNull().isNotEmpty().hasSize(1).contains(TEST_FACET_ID);
  testFacet=(TestMetadataFacet)metadata.getFacet(TEST_FACET_ID);
  Map<String,String> props=testFacet.toProperties();
  assertThat(props).isNotNull().doesNotContainKey("deleteKey");
}

</code></pre>

<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUpdateArtifactMetadataWithNoExistingFacets() throws Exception {
  ArtifactMetadata metadata=createArtifact();
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,metadata);
  metadata=repository.getArtifacts(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION).iterator().next();
  assertEquals(Collections.<String>emptyList(),new ArrayList<String>(metadata.getFacetIds()));
  metadata=createArtifact();
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,metadata);
  metadata=repository.getArtifacts(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION).iterator().next();
  assertEquals(Collections.<String>emptyList(),new ArrayList<String>(metadata.getFacetIds()));
}

</code></pre>

<pre class="type-9 type-3 type-5 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeleteRepository() throws Exception {
  repository.updateNamespace(TEST_REPO_ID,TEST_NAMESPACE);
  ProjectMetadata project1=new ProjectMetadata();
  project1.setNamespace(TEST_NAMESPACE);
  project1.setId("project1");
  repository.updateProject(TEST_REPO_ID,project1);
  ProjectMetadata project2=new ProjectMetadata();
  project2.setNamespace(TEST_NAMESPACE);
  project2.setId("project2");
  repository.updateProject(TEST_REPO_ID,project2);
  ArtifactMetadata artifact1=createArtifact();
  artifact1.setProject("project1");
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,"project1",TEST_PROJECT_VERSION,artifact1);
  ArtifactMetadata artifact2=createArtifact();
  artifact2.setProject("project2");
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,"project2",TEST_PROJECT_VERSION,artifact2);
  repository.save();
  List<ArtifactMetadata> expected=Arrays.asList(artifact1,artifact2);
  Collections.sort(expected,new ArtifactMetadataComparator());
  List<ArtifactMetadata> actual=new ArrayList<>(repository.getArtifactsByDateRange(TEST_REPO_ID,null,null));
  Collections.sort(actual,new ArtifactMetadataComparator());
  assertEquals(expected,actual);
  repository.removeRepository(TEST_REPO_ID);
  assertTrue(repository.getArtifacts(TEST_REPO_ID).isEmpty());
  assertTrue(repository.getRootNamespaces(TEST_REPO_ID).isEmpty());
}

</code></pre>

<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetArtifactsByRepoIdMultipleCopies() throws Exception {
  ArtifactMetadata artifact=createArtifact();
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact);
  ArtifactMetadata secondArtifact=createArtifact();
  secondArtifact.setRepositoryId(OTHER_REPO_ID);
  repository.updateArtifact(OTHER_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,secondArtifact);
  repository.save();
  assertEquals(Collections.singletonList(artifact),repository.getArtifacts(TEST_REPO_ID));
  assertEquals(Collections.singletonList(secondArtifact),repository.getArtifacts(OTHER_REPO_ID));
}

</code></pre>

<pre class="type-9 type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetArtifactsByProjectVersionMetadata() throws Exception {
  createArtifactWithGenericMetadataFacet(10);
  Collection<ArtifactMetadata> artifactsByMetadata=repository.getArtifactsByProjectVersionMetadata(TEST_METADATA_KEY,TEST_METADATA_VALUE,TEST_REPO_ID);
  assertThat(artifactsByMetadata).hasSize(1);
  ArtifactMetadata artifactMetadata=artifactsByMetadata.iterator().next();
  assertThat(artifactMetadata.getId()).isEqualTo("projectId-1.0.jar");
  assertThat(artifactMetadata.getSha1()).isEqualTo(TEST_SHA1);
  assertThat(artifactMetadata.getRepositoryId()).isEqualTo(TEST_REPO_ID);
}

</code></pre>

<pre class="type-5 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testGetMetadataFacetWhenUnknownName() throws Exception {
  repository.addMetadataFacet(TEST_REPO_ID,new TestMetadataFacet(TEST_VALUE));
  assertNull(repository.getMetadataFacet(TEST_REPO_ID,TEST_FACET_ID,UNKNOWN));
}

</code></pre>

<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRemoveFacetsWhenUnknown() throws Exception {
  repository.removeMetadataFacets(TEST_REPO_ID,UNKNOWN);
}

</code></pre>

<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetNamespaceOnly() throws Exception {
  assertThat(repository.getRootNamespaces(TEST_REPO_ID)).isNotNull().isEmpty();
  repository.updateNamespace(TEST_REPO_ID,TEST_NAMESPACE);
  assertThat(repository.getRootNamespaces(TEST_REPO_ID)).isNotNull().isNotEmpty().contains(TEST_NAMESPACE).hasSize(1);
  repository.removeNamespace(TEST_REPO_ID,TEST_NAMESPACE);
  assertThat(repository.getRootNamespaces(TEST_REPO_ID)).isNotNull().isEmpty();
}

</code></pre>

<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetArtifactsByDateRangeMultipleCopies() throws Exception {
  ArtifactMetadata artifact=createArtifact();
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact);
  ArtifactMetadata secondArtifact=createArtifact();
  secondArtifact.setRepositoryId(OTHER_REPO_ID);
  repository.updateArtifact(OTHER_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,secondArtifact);
  repository.save();
  assertEquals(Collections.singletonList(artifact),repository.getArtifactsByDateRange(TEST_REPO_ID,null,null));
  assertEquals(Collections.singletonList(secondArtifact),repository.getArtifactsByDateRange(OTHER_REPO_ID,null,null));
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects are null
"></span><br>
@Test public void testGetMetadataFacetWhenUnknownFacetId() throws Exception {
  assertNull(repository.getMetadataFacet(TEST_REPO_ID,UNKNOWN,TEST_NAME));
}

</code></pre>

<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetRepositories() throws Exception {
  repository.updateNamespace(TEST_REPO_ID,"namespace");
  repository.updateNamespace(OTHER_REPO_ID,"namespace");
  Collection<String> repositories=repository.getRepositories();
  assertEquals("repository.getRepositories() -> " + repositories,Sets.newLinkedHashSet(TEST_REPO_ID,OTHER_REPO_ID),new LinkedHashSet<String>(repositories));
}

</code></pre>

<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUpdateArtifactMetadataWithExistingFacets() throws Exception {
  ArtifactMetadata metadata=createArtifact();
  MetadataFacet facet=new TestMetadataFacet("baz");
  metadata.addFacet(facet);
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,metadata);
  metadata=repository.getArtifacts(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION).iterator().next();
  assertEquals(Collections.singleton(TEST_FACET_ID),metadata.getFacetIds());
  metadata=createArtifact();
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,metadata);
  metadata=repository.getArtifacts(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION).iterator().next();
  assertEquals(Collections.singleton(TEST_FACET_ID),metadata.getFacetIds());
  TestMetadataFacet testFacet=(TestMetadataFacet)metadata.getFacet(TEST_FACET_ID);
  assertEquals("baz",testFacet.getValue());
}

</code></pre>

<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetNamespacesWithProjectsPresent() throws Exception {
  String namespace="org.apache.maven.shared";
  repository.updateNamespace(TEST_REPO_ID,namespace);
  ProjectVersionMetadata metadata=new ProjectVersionMetadata();
  metadata.setId(TEST_PROJECT_VERSION);
  repository.updateProjectVersion(TEST_REPO_ID,namespace,TEST_PROJECT,metadata);
  Collection<String> namespaces=repository.getNamespaces(TEST_REPO_ID,namespace);
  assertThat(namespaces).isNotNull().isEmpty();
}

</code></pre>

<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void hasMetadataFacetStart() throws Exception {
  assertFalse(repository.hasMetadataFacet(TEST_REPO_ID,KindOfRepositoryStatistics.class.getName()));
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects are null
"></span><br>
@Test public void testGetMetadataFacetWhenEmpty() throws Exception {
  assertNull(repository.getMetadataFacet(TEST_REPO_ID,TEST_FACET_ID,TEST_NAME));
}

</code></pre>

<pre class="type-9 type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testSearchArtifactsFullTextExact() throws Exception {
  createArtifactWithGenericMetadataFacet();
  Collection<ArtifactMetadata> artifactsByProperty=repository.searchArtifacts(TEST_METADATA_VALUE,TEST_REPO_ID,true);
  assertThat(artifactsByProperty).isNotNull().isNotEmpty();
  artifactsByProperty=repository.searchArtifacts(TEST_METADATA_VALUE.substring(2),TEST_REPO_ID,true);
  assertThat(artifactsByProperty).isNotNull().isEmpty();
}

</code></pre>

<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testDeleteArtifact() throws Exception {
  ArtifactMetadata artifact=createArtifact();
  artifact.addFacet(new TestMetadataFacet("value"));
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact);
  assertThat(repository.getArtifacts(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION)).containsExactly(artifact);
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION_2_0,artifact);
  Collection<String> versions=repository.getProjectVersions(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT);
  log.info("versions {}",versions);
  assertThat(versions).isNotNull().isNotEmpty().hasSize(2).contains("1.0","2.0");
  repository.removeArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact.getId());
  versions=repository.getProjectVersions(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT);
  log.info("versions {}",versions);
  assertThat(versions).isNotNull().isNotEmpty().hasSize(1).contains("2.0");
  assertThat(repository.getArtifacts(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION)).isNotNull().isEmpty();
  assertThat(repository.getArtifacts(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION_2_0)).isNotEmpty().hasSize(1);
}

</code></pre>

<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetArtifactsByDateRangeLowerAndUpperBound() throws Exception {
  ArtifactMetadata artifact=createArtifact();
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact);
  repository.save();
  Date lower=new Date(artifact.getWhenGathered().getTime() - 10000);
  Date upper=new Date(artifact.getWhenGathered().getTime() + 10000);
  List<ArtifactMetadata> artifacts=repository.getArtifactsByDateRange(TEST_REPO_ID,lower,upper);
  assertEquals(Collections.singletonList(artifact),artifacts);
}

</code></pre>

<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetArtifactsByChecksumSingleResultSha1() throws Exception {
  ArtifactMetadata artifact=createArtifact();
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact);
  repository.save();
  assertEquals(Collections.singletonList(artifact),new ArrayList<>(repository.getArtifactsByChecksum(TEST_REPO_ID,TEST_SHA1)));
}

</code></pre>

<pre class="type-5 type-6 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void deleteArtifact() throws Exception {
  ArtifactMetadata artifact=createArtifact();
  artifact.addFacet(new TestMetadataFacet("value"));
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact);
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact);
  Collection<ArtifactMetadata> artifacts=repository.getArtifacts(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertEquals(Collections.singletonList(artifact),new ArrayList<>(artifacts));
  repository.removeArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact.getId());
  artifacts=repository.getArtifacts(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertThat(artifacts).isNotNull().isEmpty();
}

</code></pre>

<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetNamespacesWithSparseDepth() throws Exception {
  repository.updateNamespace(TEST_REPO_ID,"org.apache.maven.shared");
  Collection<String> namespaces=repository.getRootNamespaces(TEST_REPO_ID);
  assertThat(namespaces).isNotNull().isNotEmpty().hasSize(1).contains("org");
  namespaces=repository.getNamespaces(TEST_REPO_ID,"org");
  assertThat(namespaces).isNotNull().isNotEmpty().hasSize(1).contains("apache");
  namespaces=repository.getNamespaces(TEST_REPO_ID,"org.apache");
  assertThat(namespaces).isNotNull().isNotEmpty().hasSize(1).contains("maven");
  namespaces=repository.getNamespaces(TEST_REPO_ID,"org.apache.maven");
  assertThat(namespaces).isNotNull().isNotEmpty().hasSize(1).contains("shared");
}

</code></pre>

<pre class="type-3 type-5 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRemoveFacet() throws Exception {
  TestMetadataFacet metadataFacet=new TestMetadataFacet(TEST_VALUE);
  repository.addMetadataFacet(TEST_REPO_ID,metadataFacet);
  assertEquals(metadataFacet,repository.getMetadataFacet(TEST_REPO_ID,TEST_FACET_ID,TEST_NAME));
  List<String> facets=repository.getMetadataFacets(TEST_REPO_ID,TEST_FACET_ID);
  assertFalse(facets.isEmpty());
  repository.removeMetadataFacet(TEST_REPO_ID,TEST_FACET_ID,TEST_NAME);
  assertNull(repository.getMetadataFacet(TEST_REPO_ID,TEST_FACET_ID,TEST_NAME));
  facets=repository.getMetadataFacets(TEST_REPO_ID,TEST_FACET_ID);
  assertTrue(facets.isEmpty());
}

</code></pre>

<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testgetProjectReferences() throws Exception {
  ProjectVersionMetadata metadata=new ProjectVersionMetadata();
  metadata.setId(TEST_PROJECT_VERSION);
  metadata.setName("project name");
  metadata.setDescription("project description");
  metadata.setUrl("the url");
  Dependency d=new Dependency();
  d.setArtifactId("artifactId");
  d.setClassifier("classifier");
  d.setGroupId("groupId");
  d.setScope("scope");
  d.setSystemPath("system path");
  d.setType("type");
  d.setVersion("version");
  d.setOptional(true);
  metadata.addDependency(d);
  d=new Dependency();
  d.setArtifactId("artifactId1");
  d.setClassifier("classifier");
  d.setGroupId("groupId");
  d.setScope("scope");
  d.setSystemPath("system path");
  d.setType("type");
  d.setVersion("version1");
  d.setOptional(true);
  metadata.addDependency(d);
  repository.updateProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,metadata);
  repository.save();
  metadata=repository.getProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  Collection<ProjectVersionReference> references=repository.getProjectReferences(TEST_REPO_ID,d.getGroupId(),d.getArtifactId(),d.getVersion());
  log.info("references: {}",references);
  assertThat(references).isNotNull().hasSize(1).contains(new ProjectVersionReference(ProjectVersionReference.ReferenceType.DEPENDENCY,TEST_PROJECT,TEST_NAMESPACE,TEST_PROJECT_VERSION));
}

</code></pre>

<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetArtifactsByDateRangeSparseNamespace() throws Exception {
  String namespace="org.apache.archiva";
  ArtifactMetadata artifact=createArtifact();
  artifact.setNamespace(namespace);
  repository.updateArtifact(TEST_REPO_ID,namespace,TEST_PROJECT,TEST_PROJECT_VERSION,artifact);
  repository.save();
  List<ArtifactMetadata> artifacts=repository.getArtifactsByDateRange(TEST_REPO_ID,null,null);
  assertEquals(Collections.singletonList(artifact),artifacts);
}

</code></pre>

<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetArtifactsByDateRangeLowerBound() throws Exception {
  ArtifactMetadata artifact=createArtifact();
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact);
  repository.save();
  Date date=new Date(artifact.getWhenGathered().getTime() - 10000);
  List<ArtifactMetadata> artifacts=repository.getArtifactsByDateRange(TEST_REPO_ID,date,null);
  assertEquals(Collections.singletonList(artifact),artifacts);
}

</code></pre>

<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void deleteVersion() throws Exception {
  ArtifactMetadata artifact=createArtifact();
  artifact.addFacet(new TestMetadataFacet("value"));
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact);
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact);
  Collection<String> versions=repository.getProjectVersions(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT);
  assertThat(versions).isNotNull().isNotEmpty().hasSize(1);
  repository.removeProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  versions=repository.getProjectVersions(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT);
  assertThat(versions).isNotNull().isEmpty();
}

</code></pre>

<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetArtifactsByChecksumSingleResultMd5() throws Exception {
  ArtifactMetadata artifact=createArtifact();
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact);
  repository.save();
  assertEquals(Collections.singletonList(artifact),new ArrayList<>(repository.getArtifactsByChecksum(TEST_REPO_ID,TEST_MD5)));
}

</code></pre>

<pre class="type-9 type-3 type-5 type-6 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateProjectVersionMetadataWithExistingFacetsFacetPropertyWasRemoved() throws Exception {
  ProjectVersionMetadata metadata=new ProjectVersionMetadata();
  metadata.setId(TEST_PROJECT_VERSION);
  Map<String,String> additionalProps=new HashMap<>();
  additionalProps.put("deleteKey","deleteValue");
  MetadataFacet facet=new TestMetadataFacet(TEST_FACET_ID,"baz",additionalProps);
  metadata.addFacet(facet);
  repository.updateProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,metadata);
  metadata=repository.getProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertThat(metadata.getFacetIds()).isNotNull().isNotEmpty().hasSize(1).contains(TEST_FACET_ID);
  TestMetadataFacet testFacet=(TestMetadataFacet)metadata.getFacet(TEST_FACET_ID);
  Map<String,String> facetProperties=testFacet.toProperties();
  assertEquals("deleteValue",facetProperties.get("deleteKey"));
  facetProperties.remove("deleteKey");
  TestMetadataFacet newTestFacet=new TestMetadataFacet(TEST_FACET_ID,testFacet.getValue(),facetProperties);
  metadata.addFacet(newTestFacet);
  repository.updateProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,metadata);
  metadata=repository.getProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertThat(metadata.getFacetIds()).isNotNull().isNotEmpty().hasSize(1).contains(TEST_FACET_ID);
  testFacet=(TestMetadataFacet)metadata.getFacet(TEST_FACET_ID);
  assertFalse(testFacet.toProperties().containsKey("deleteKey"));
}

</code></pre>

<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetMetadataFacetWhenDefaultValue() throws Exception {
  repository.addMetadataFacet(TEST_REPO_ID,new TestMetadataFacet(null));
  MetadataFacet metadataFacet=repository.getMetadataFacet(TEST_REPO_ID,TEST_FACET_ID,TEST_NAME);
  assertEquals(new TestMetadataFacet(TEST_METADATA_VALUE),metadataFacet);
}

</code></pre>

<pre class="type-5 type-6 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateProjectVersionMetadataWithNoOtherArchives() throws Exception {
  ProjectVersionMetadata metadata=new ProjectVersionMetadata();
  metadata.setId(TEST_PROJECT_VERSION);
  MailingList mailingList=new MailingList();
  mailingList.setName("Foo List");
  mailingList.setOtherArchives(Collections.<String>emptyList());
  metadata.setMailingLists(Arrays.asList(mailingList));
  repository.updateProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,metadata);
  metadata=repository.getProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertEquals(TEST_PROJECT_VERSION,metadata.getId());
  List<MailingList> mailingLists=metadata.getMailingLists();
  assertThat(mailingLists).isNotNull().isNotEmpty().hasSize(1);
  mailingList=metadata.getMailingLists().get(0);
  assertEquals("Foo List",mailingList.getName());
  List<String> others=mailingList.getOtherArchives();
  assertThat(others).isNotNull().isEmpty();
}

</code></pre>

<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testUpdateProjectVersionMetadataWithNoExistingFacets() throws Exception {
  ProjectVersionMetadata metadata=new ProjectVersionMetadata();
  metadata.setId(TEST_PROJECT_VERSION);
  repository.updateProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,metadata);
  metadata=repository.getProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertThat(metadata.getFacetIds()).isNotNull().isEmpty();
  metadata=new ProjectVersionMetadata();
  metadata.setId(TEST_PROJECT_VERSION);
  repository.updateProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,metadata);
  metadata=repository.getProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertThat(metadata.getFacetIds()).isNotNull().isEmpty();
}

</code></pre>

<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRemoveFacetWhenUnknown() throws Exception {
  repository.removeMetadataFacet(TEST_REPO_ID,UNKNOWN,TEST_NAME);
}

</code></pre>

<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void deleteSnapshotVersion() throws Exception {
  ArtifactMetadata artifactOne=createArtifact();
  artifactOne.setVersion("2.0-20120618.214127-1");
  artifactOne.setProjectVersion("2.0-SNAPSHOT");
  artifactOne.addFacet(new TestMetadataFacet("value"));
  artifactOne.setId(TEST_PROJECT + "-" + "2.0-20120618.214127-1"+ "."+ "jar");
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,"2.0-SNAPSHOT",artifactOne);
  ArtifactMetadata artifactTwo=createArtifact();
  artifactTwo.setVersion("2.0-20120618.214135-2");
  artifactTwo.setProjectVersion("2.0-SNAPSHOT");
  artifactTwo.addFacet(new TestMetadataFacet("value"));
  artifactTwo.setId(TEST_PROJECT + "-" + "2.0-20120618.214135-2"+ "."+ "jar");
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,"2.0-SNAPSHOT",artifactTwo);
  Collection<ArtifactMetadata> artifactMetadatas=repository.getArtifacts(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,"2.0-SNAPSHOT");
  assertThat(artifactMetadatas).isNotNull().isNotEmpty().hasSize(2);
  log.info("artifactMetadatas: {}",artifactMetadatas);
  repository.removeArtifact(artifactOne,"2.0-SNAPSHOT");
  artifactMetadatas=repository.getArtifacts(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,"2.0-SNAPSHOT");
  assertThat(artifactMetadatas).isNotNull().isNotEmpty().hasSize(1);
  repository.removeArtifact(artifactTwo,"2.0-SNAPSHOT");
  artifactMetadatas=repository.getArtifacts(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,"2.0-SNAPSHOT");
  assertThat(artifactMetadatas).isNotNull().isEmpty();
}

</code></pre>

<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetArtifactsByDateRangeUpperBoundOutOfRange() throws Exception {
  ArtifactMetadata artifact=createArtifact();
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact);
  repository.save();
  Date upper=new Date(artifact.getWhenGathered().getTime() - 10000);
  List<ArtifactMetadata> artifacts=repository.getArtifactsByDateRange(TEST_REPO_ID,null,upper);
  assertThat(artifacts).isNotNull().isEmpty();
}

</code></pre>

<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testSearchArtifactsByFacetKeyAllRepos() throws Exception {
  createArtifactWithGenericMetadataFacet();
  Collection<ArtifactMetadata> artifactsByProperty=repository.searchArtifacts(TEST_METADATA_KEY,TEST_METADATA_VALUE,null,false);
  assertThat(artifactsByProperty).isNotNull().isNotEmpty();
}

</code></pre>

<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUpdateProjectVersionMetadataWithExistingFacets() throws Exception {
  ProjectVersionMetadata metadata=new ProjectVersionMetadata();
  metadata.setId(TEST_PROJECT_VERSION);
  MetadataFacet facet=new TestMetadataFacet("baz");
  metadata.addFacet(facet);
  repository.updateProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,metadata);
  metadata=repository.getProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertEquals(Collections.singleton(TEST_FACET_ID),metadata.getFacetIds());
  metadata=new ProjectVersionMetadata();
  metadata.setId(TEST_PROJECT_VERSION);
  repository.updateProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,metadata);
  metadata=repository.getProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertEquals(Collections.singleton(TEST_FACET_ID),metadata.getFacetIds());
  TestMetadataFacet testFacet=(TestMetadataFacet)metadata.getFacet(TEST_FACET_ID);
  assertEquals("baz",testFacet.getValue());
}

</code></pre>

<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testRemoveFacets() throws Exception {
  repository.addMetadataFacet(TEST_REPO_ID,new TestMetadataFacet(TEST_VALUE));
  List<String> facets=repository.getMetadataFacets(TEST_REPO_ID,TEST_FACET_ID);
  assertFalse(facets.isEmpty());
  repository.removeMetadataFacets(TEST_REPO_ID,TEST_FACET_ID);
  facets=repository.getMetadataFacets(TEST_REPO_ID,TEST_FACET_ID);
  assertTrue(facets.isEmpty());
}

</code></pre>

<pre class="type-5 type-7 type-6 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetProjectOnly() throws Exception {
  assertNull(repository.getProject(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT));
  assertThat(repository.getRootNamespaces(TEST_REPO_ID)).isNotNull().isEmpty();
  ProjectMetadata project=new ProjectMetadata();
  project.setId(TEST_PROJECT);
  project.setNamespace(TEST_NAMESPACE);
  repository.updateProject(TEST_REPO_ID,project);
  project=repository.getProject(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT);
  assertEquals(TEST_PROJECT,project.getId());
  assertEquals(TEST_NAMESPACE,project.getNamespace());
  Collection<String> namespaces=repository.getRootNamespaces(TEST_REPO_ID);
  assertThat(namespaces).isNotNull().isNotEmpty().contains(TEST_NAMESPACE).hasSize(1);
}

</code></pre>

<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testRootNamespaceWithNoMetadataRepository() throws Exception {
  Collection<String> namespaces=repository.getRootNamespaces(TEST_REPO_ID);
  assertThat(namespaces).isNotNull().isEmpty();
}

</code></pre>

<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetArtifactsByChecksumMultipleCopies() throws Exception {
  ArtifactMetadata artifact=createArtifact();
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact);
  ArtifactMetadata secondArtifact=createArtifact();
  secondArtifact.setRepositoryId(OTHER_REPO_ID);
  repository.updateArtifact(OTHER_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,secondArtifact);
  repository.save();
  assertEquals(Collections.singletonList(artifact),new ArrayList<>(repository.getArtifactsByChecksum(TEST_REPO_ID,TEST_SHA1)));
  assertEquals(Collections.singletonList(secondArtifact),new ArrayList<>(repository.getArtifactsByChecksum(OTHER_REPO_ID,TEST_SHA1)));
  assertEquals(Collections.singletonList(artifact),new ArrayList<>(repository.getArtifactsByChecksum(TEST_REPO_ID,TEST_MD5)));
  assertEquals(Collections.singletonList(secondArtifact),new ArrayList<>(repository.getArtifactsByChecksum(OTHER_REPO_ID,TEST_MD5)));
}

</code></pre>

<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetArtifactsByChecksumNoResult() throws Exception {
  ArtifactMetadata artifact=createArtifact();
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact);
  Collection<ArtifactMetadata> artifactsByChecksum=repository.getArtifactsByChecksum(TEST_REPO_ID,"not checksum");
  assertThat(artifactsByChecksum).isNotNull().isEmpty();
}

</code></pre>

<pre class="type-5 type-7 type-6 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetProjectVersionOnly() throws Exception {
  assertNull(repository.getProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION));
  assertNull(repository.getProject(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT));
  assertThat(repository.getRootNamespaces(TEST_REPO_ID)).isNotNull().isEmpty();
  ProjectVersionMetadata metadata=new ProjectVersionMetadata();
  metadata.setId(TEST_PROJECT_VERSION);
  repository.updateProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,metadata);
  metadata=repository.getProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertEquals(TEST_PROJECT_VERSION,metadata.getId());
  Collection<String> namespaces=repository.getRootNamespaces(TEST_REPO_ID);
  assertThat(namespaces).isNotNull().isNotEmpty().hasSize(1).contains(TEST_NAMESPACE);
  ProjectMetadata projectMetadata=repository.getProject(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT);
  assertNotNull(projectMetadata);
  assertEquals(TEST_PROJECT,projectMetadata.getId());
  assertEquals(TEST_NAMESPACE,projectMetadata.getNamespace());
}

</code></pre>

<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetArtifactsByDateRangeOpen() throws Exception {
  ArtifactMetadata artifact=createArtifact();
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact);
  repository.save();
  List<ArtifactMetadata> artifacts=repository.getArtifactsByDateRange(TEST_REPO_ID,null,null);
  assertEquals(Collections.singletonList(artifact),artifacts);
}

</code></pre>

<pre class="type-9 type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetArtifactsByMetadataAllRepositories() throws Exception {
  createArtifactWithMavenArtifactFacet();
  Collection<ArtifactMetadata> artifactsByMetadata=repository.getArtifactsByMetadata("foo",TEST_METADATA_VALUE,null);
  assertThat(artifactsByMetadata).hasSize(1);
  ArtifactMetadata artifactMetadata=artifactsByMetadata.iterator().next();
  assertThat(artifactMetadata.getId()).isEqualTo("projectId-1.0.jar");
  assertThat(artifactMetadata.getSha1()).isEqualTo(TEST_SHA1);
  assertThat(artifactMetadata.getRepositoryId()).isEqualTo(TEST_REPO_ID);
  MetadataFacet facet=artifactMetadata.getFacet(TEST_FACET_ID);
  assertThat(facet).isNotNull();
  assertThat(facet.toProperties()).isEqualTo(Collections.singletonMap("foo",TEST_METADATA_VALUE));
}

</code></pre>

<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetArtifactsByDateRangeUpperBound() throws Exception {
  ArtifactMetadata artifact=createArtifact();
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact);
  repository.save();
  Date upper=new Date(artifact.getWhenGathered().getTime() + 10000);
  List<ArtifactMetadata> artifacts=repository.getArtifactsByDateRange(TEST_REPO_ID,null,upper);
  assertEquals(Collections.singletonList(artifact),artifacts);
}

</code></pre>

<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetProjectVersionsWithOtherNamespacesPresent() throws Exception {
  ProjectVersionMetadata versionMetadata=new ProjectVersionMetadata();
  versionMetadata.setId(TEST_PROJECT_VERSION);
  repository.updateProjectVersion(TEST_REPO_ID,"org.apache.maven",TEST_PROJECT,versionMetadata);
  repository.updateProjectVersion(TEST_REPO_ID,"org.apache.maven." + TEST_PROJECT,"other-project",versionMetadata);
  Collection<String> versions=repository.getProjectVersions(TEST_REPO_ID,"org.apache.maven." + TEST_PROJECT,"other-project");
  assertThat(versions).isNotNull().isNotEmpty().contains(TEST_PROJECT_VERSION);
  versions=repository.getProjectVersions(TEST_REPO_ID,"org.apache.maven",TEST_PROJECT);
  assertThat(versions).isNotNull().isNotEmpty().contains(TEST_PROJECT_VERSION);
}

</code></pre>

<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testRemoveFacetsWhenEmpty() throws Exception {
  List<String> facets=repository.getMetadataFacets(TEST_REPO_ID,TEST_FACET_ID);
  assertTrue(facets.isEmpty());
  repository.removeMetadataFacets(TEST_REPO_ID,TEST_FACET_ID);
  facets=repository.getMetadataFacets(TEST_REPO_ID,TEST_FACET_ID);
  assertTrue(facets.isEmpty());
}

</code></pre>

<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetMetadataFacets() throws Exception {
  repository.addMetadataFacet(TEST_REPO_ID,new TestMetadataFacet(TEST_VALUE));
  assertEquals(Collections.singletonList(TEST_NAME),repository.getMetadataFacets(TEST_REPO_ID,TEST_FACET_ID));
}

</code></pre>

<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetArtifactsByRepoId() throws Exception {
  ArtifactMetadata artifact=createArtifact();
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact);
  repository.save();
  List<ArtifactMetadata> artifacts=repository.getArtifacts(TEST_REPO_ID);
  assertEquals(Collections.singletonList(artifact),artifacts);
}

</code></pre>

<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetArtifactsByDateRangeLowerBoundOutOfRange() throws Exception {
  ArtifactMetadata artifact=createArtifact();
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact);
  Date date=new Date(artifact.getWhenGathered().getTime() + 10000);
  List<ArtifactMetadata> artifacts=repository.getArtifactsByDateRange(TEST_REPO_ID,date,null);
  assertThat(artifacts).isNotNull().isEmpty();
}

</code></pre>

<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetArtifactVersionsMultipleArtifactsSingleVersion() throws Exception {
  ArtifactMetadata artifact1=createArtifact();
  artifact1.setId(TEST_PROJECT + "-" + TEST_PROJECT_VERSION+ ".jar");
  ArtifactMetadata artifact2=createArtifact();
  artifact2.setId(TEST_PROJECT + "-" + TEST_PROJECT_VERSION+ "-sources.jar");
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact1);
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact2);
  Collection<String> versions=repository.getArtifactVersions(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertThat(versions).isNotNull().isNotEmpty().hasSize(1).containsExactly(TEST_PROJECT_VERSION);
}

</code></pre>

<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testRemoveFacetWhenEmpty() throws Exception {
  List<String> facets=repository.getMetadataFacets(TEST_REPO_ID,TEST_FACET_ID);
  assertThat(facets).isNotNull().isEmpty();
  assertThat(repository.getMetadataFacet(TEST_REPO_ID,TEST_FACET_ID,TEST_NAME)).isNull();
  repository.removeMetadataFacet(TEST_REPO_ID,TEST_FACET_ID,TEST_NAME);
  facets=repository.getMetadataFacets(TEST_REPO_ID,TEST_FACET_ID);
  assertThat(facets).isNotNull().isEmpty();
  assertThat(repository.getMetadataFacet(TEST_REPO_ID,TEST_FACET_ID,TEST_NAME)).isNull();
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
