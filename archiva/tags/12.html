<h3><span class=" glyphicon glyphicon-tag"/>&nbspConditionMatcher</h3><kbd>Verifies logic rules using matcher-style statements</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.archiva.consumers.core.ArtifactMissingChecksumsConsumerTest </h4><pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testExistingIncorrectChecksums() throws Exception {
  File newLocation=new File("target/test-repo");
  FileUtils.deleteDirectory(newLocation);
  FileUtils.copyDirectory(new File(repoConfig.getLocation()),newLocation);
  repoConfig.setLocation(newLocation.getAbsolutePath());
  String path="/incorrect-checksums/1.0/incorrect-checksums-1.0.jar";
  Path sha1Path=Paths.get(repoConfig.getLocation(),path + ".sha1");
  Path md5Path=Paths.get(repoConfig.getLocation(),path + ".md5");
  ChecksummedFile checksum=new ChecksummedFile(new File(repoConfig.getLocation(),path));
  Assertions.assertThat(sha1Path.toFile()).exists();
  Assertions.assertThat(md5Path.toFile()).exists();
  Assertions.assertThat(checksum.isValidChecksums(new ChecksumAlgorithm[]{ChecksumAlgorithm.MD5,ChecksumAlgorithm.SHA1})).isFalse();
  consumer.beginScan(repoConfig,Calendar.getInstance().getTime());
  consumer.processFile(path);
  Assertions.assertThat(sha1Path.toFile()).exists();
  Assertions.assertThat(md5Path.toFile()).exists();
  Assertions.assertThat(checksum.isValidChecksums(new ChecksumAlgorithm[]{ChecksumAlgorithm.MD5,ChecksumAlgorithm.SHA1})).isTrue();
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testNoExistingChecksums() throws Exception {
  String path="/no-checksums-artifact/1.0/no-checksums-artifact-1.0.jar";
  Path sha1Path=Paths.get(repoConfig.getLocation(),path + ".sha1");
  Path md5FilePath=Paths.get(repoConfig.getLocation(),path + ".md5");
  Files.deleteIfExists(sha1Path);
  Files.deleteIfExists(md5FilePath);
  Assertions.assertThat(sha1Path.toFile()).doesNotExist();
  Assertions.assertThat(md5FilePath.toFile()).doesNotExist();
  consumer.beginScan(repoConfig,Calendar.getInstance().getTime());
  consumer.processFile(path);
  Assertions.assertThat(sha1Path.toFile()).exists();
  long sha1LastModified=sha1Path.toFile().lastModified();
  Assertions.assertThat(md5FilePath.toFile()).exists();
  long md5LastModified=md5FilePath.toFile().lastModified();
  Thread.sleep(1000);
  consumer.processFile(path);
  Assertions.assertThat(sha1Path.toFile()).exists();
  Assertions.assertThat(md5FilePath.toFile()).exists();
  Assertions.assertThat(sha1Path.toFile().lastModified()).isEqualTo(sha1LastModified);
  Assertions.assertThat(md5FilePath.toFile().lastModified()).isEqualTo(md5LastModified);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.dependency.tree.maven2.DependencyTreeBuilderTestMaven3 </h4><pre class="type-9 type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testBuilderDependencies() throws Exception {
  List<TreeEntry> treeEntries=builder.buildDependencyTree(Collections.singletonList(TEST_REPO_ID),TEST_GROUP_ID,TEST_ARTIFACT_ID,TEST_VERSION);
  assertThat(treeEntries).isNotNull().isNotEmpty().contains(new TreeEntry(new Artifact(TEST_GROUP_ID,TEST_ARTIFACT_ID,TEST_VERSION,"","")));
  assertThat(treeEntries.get(0).getChilds()).isNotNull().isNotEmpty().contains(new TreeEntry(new Artifact("commons-lang","commons-lang","2.2","compile","")));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.metadata.repository.AbstractMetadataRepositoryTest </h4><pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testSearchArtifactsByKeyExact() throws Exception {
  createArtifactWithData();
  Collection<ArtifactMetadata> artifactsByProperty=repository.searchArtifacts("url",TEST_URL,TEST_REPO_ID,true);
  assertThat(artifactsByProperty).isNotNull().isNotEmpty();
  artifactsByProperty=repository.searchArtifacts("org.name","pache",TEST_REPO_ID,true);
  assertThat(artifactsByProperty).isNotNull().isEmpty();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetArtifactsByPropertySingleResult() throws Exception {
  createArtifactWithData();
  Collection<ArtifactMetadata> artifactsByProperty=repository.getArtifactsByProperty("url",TEST_URL,TEST_REPO_ID);
  assertThat(artifactsByProperty).hasSize(1);
  ArtifactMetadata artifactMetadata=artifactsByProperty.iterator().next();
  assertThat(artifactMetadata.getId()).isEqualTo("projectId-1.0.jar");
  assertThat(artifactMetadata.getSha1()).isEqualTo(TEST_SHA1);
  assertThat(artifactMetadata.getRepositoryId()).isEqualTo(TEST_REPO_ID);
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testSearchArtifactsFullText() throws Exception {
  createArtifactWithGenericMetadataFacet();
  Collection<ArtifactMetadata> artifactsByProperty=repository.searchArtifacts(TEST_METADATA_VALUE,TEST_REPO_ID,false);
  assertThat(artifactsByProperty).isNotNull().isNotEmpty();
}

</code></pre>

<br>
<pre class="type-5 type-6 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void deleteProject() throws Exception {
  ArtifactMetadata artifact=createArtifact();
  artifact.addFacet(new TestMetadataFacet("value"));
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact);
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact);
  assertEquals(1,repository.getProjectVersions(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT).size());
  repository.removeProject(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT);
  Collection<String> versions=repository.getProjectVersions(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT);
  assertThat(versions).isNotNull().isEmpty();
}

</code></pre>

<br>
<pre class="type-3 type-5 type-6 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateProjectVersionMetadataWithAllElements() throws Exception {
  ProjectVersionMetadata metadata=new ProjectVersionMetadata();
  metadata.setId(TEST_PROJECT_VERSION);
  metadata.setName("project name");
  metadata.setDescription("project description");
  metadata.setUrl("the url");
  MailingList mailingList=new MailingList();
  mailingList.setName("Foo List");
  mailingList.setUnsubscribeAddress("UnsubscribeAddress");
  mailingList.setSubscribeAddress("SubscribeAddress");
  mailingList.setPostAddress("PostAddress");
  mailingList.setMainArchiveUrl("MainArchiveUrl");
  mailingList.setOtherArchives(Arrays.asList("other archive"));
  metadata.setMailingLists(Arrays.asList(mailingList));
  Scm scm=new Scm();
  scm.setConnection("connection");
  scm.setDeveloperConnection("dev conn");
  scm.setUrl("url");
  metadata.setScm(scm);
  CiManagement ci=new CiManagement();
  ci.setSystem("system");
  ci.setUrl("ci url");
  metadata.setCiManagement(ci);
  IssueManagement tracker=new IssueManagement();
  tracker.setSystem("system");
  tracker.setUrl("issue tracker url");
  metadata.setIssueManagement(tracker);
  metadata.setOrganization(TEST_ORGANIZATION);
  License l=new License();
  l.setName("license name");
  l.setUrl("license url");
  metadata.addLicense(l);
  Dependency d=new Dependency();
  d.setArtifactId("artifactId");
  d.setClassifier("classifier");
  d.setGroupId("groupId");
  d.setScope("scope");
  d.setSystemPath("system path");
  d.setType("type");
  d.setVersion("version");
  d.setOptional(true);
  metadata.addDependency(d);
  repository.updateProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,metadata);
  metadata=repository.getProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertEquals(TEST_PROJECT_VERSION,metadata.getId());
  assertEquals(TEST_PROJECT_VERSION,metadata.getVersion());
  assertEquals("project name",metadata.getName());
  assertEquals("project description",metadata.getDescription());
  assertEquals("the url",metadata.getUrl());
  assertEquals("connection",metadata.getScm().getConnection());
  assertEquals("dev conn",metadata.getScm().getDeveloperConnection());
  assertEquals("url",metadata.getScm().getUrl());
  assertEquals("system",metadata.getCiManagement().getSystem());
  assertEquals("ci url",metadata.getCiManagement().getUrl());
  assertEquals("system",metadata.getIssueManagement().getSystem());
  assertEquals("issue tracker url",metadata.getIssueManagement().getUrl());
  assertEquals(TEST_ORGANIZATION.getName(),metadata.getOrganization().getName());
  assertEquals(TEST_ORGANIZATION.getUrl(),metadata.getOrganization().getUrl());
  assertEquals(1,metadata.getMailingLists().size());
  MailingList retrievedMailingList=metadata.getMailingLists().get(0);
  assertEquals(mailingList.getName(),retrievedMailingList.getName());
  assertEquals(mailingList.getMainArchiveUrl(),retrievedMailingList.getMainArchiveUrl());
  assertEquals(mailingList.getPostAddress(),retrievedMailingList.getPostAddress());
  assertEquals(mailingList.getSubscribeAddress(),retrievedMailingList.getSubscribeAddress());
  assertEquals(mailingList.getUnsubscribeAddress(),retrievedMailingList.getUnsubscribeAddress());
  assertThat(retrievedMailingList.getOtherArchives()).isNotNull().isNotEmpty().hasSize(1).contains("other archive");
  assertEquals(1,metadata.getLicenses().size());
  l=metadata.getLicenses().get(0);
  assertEquals("license name",l.getName());
  assertEquals("license url",l.getUrl());
  assertEquals(1,metadata.getDependencies().size());
  d=metadata.getDependencies().get(0);
  assertEquals("artifactId",d.getArtifactId());
  assertEquals("classifier",d.getClassifier());
  assertEquals("groupId",d.getGroupId());
  assertEquals("scope",d.getScope());
  assertEquals("system path",d.getSystemPath());
  assertEquals("type",d.getType());
  assertEquals("version",d.getVersion());
  assertTrue(d.isOptional());
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testSearchArtifactsFullTextByFacet() throws Exception {
  createArtifactWithGenericMetadataFacet();
  Collection<ArtifactMetadata> artifactsByProperty=repository.searchArtifacts(TEST_METADATA_VALUE,TEST_REPO_ID,false);
  assertThat(artifactsByProperty).isNotNull().isNotEmpty();
}

</code></pre>

<br>
<pre class="type-3 type-5 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void hasMetadataFacet() throws Exception {
  assertFalse(repository.hasMetadataFacet(TEST_REPO_ID,KindOfRepositoryStatistics.class.getName()));
  Calendar cal=Calendar.getInstance();
  repository.addMetadataFacet(TEST_REPO_ID,new KindOfRepositoryStatistics("first",cal.getTime()));
  assertTrue(repository.hasMetadataFacet(TEST_REPO_ID,KindOfRepositoryStatistics.class.getName()));
  cal.add(Calendar.MINUTE,2);
  repository.addMetadataFacet(TEST_REPO_ID,new KindOfRepositoryStatistics("second",cal.getTime()));
  cal.add(Calendar.MINUTE,2);
  repository.addMetadataFacet(TEST_REPO_ID,new KindOfRepositoryStatistics("third",cal.getTime()));
  List<String> facets=repository.getMetadataFacets(TEST_REPO_ID,KindOfRepositoryStatistics.class.getName());
  assertThat(facets).isNotNull().isNotEmpty().hasSize(3);
  assertTrue(repository.hasMetadataFacet(TEST_REPO_ID,KindOfRepositoryStatistics.class.getName()));
  repository.removeMetadataFacets(TEST_REPO_ID,KindOfRepositoryStatistics.class.getName());
  assertFalse(repository.hasMetadataFacet(TEST_REPO_ID,KindOfRepositoryStatistics.class.getName()));
  facets=repository.getMetadataFacets(TEST_REPO_ID,KindOfRepositoryStatistics.class.getName());
  assertThat(facets).isNotNull().isEmpty();
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetProjectsWithOtherNamespacesPresent() throws Exception {
  ProjectMetadata projectMetadata=new ProjectMetadata();
  projectMetadata.setId(TEST_PROJECT);
  projectMetadata.setNamespace("org.apache.maven");
  repository.updateProject(TEST_REPO_ID,projectMetadata);
  repository.updateNamespace(TEST_REPO_ID,"org.apache.maven.shared");
  Collection<String> projects=repository.getProjects(TEST_REPO_ID,"org.apache.maven");
  assertThat(projects).isNotNull().isNotEmpty().hasSize(1).contains(TEST_PROJECT);
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetArtifactVersions() throws Exception {
  ArtifactMetadata artifact1=createArtifact();
  String version1="1.0-20091212.012345-1";
  artifact1.setId(artifact1.getProject() + "-" + version1+ ".jar");
  artifact1.setVersion(version1);
  ArtifactMetadata artifact2=createArtifact();
  String version2="1.0-20091212.123456-2";
  artifact2.setId(artifact2.getProject() + "-" + version2+ ".jar");
  artifact2.setVersion(version2);
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact1);
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact2);
  Collection<String> versions=repository.getArtifactVersions(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertThat(versions).isNotNull().isNotEmpty().contains(version1,version2);
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetArtifactsByProjectVersionMetadataNoRepository() throws Exception {
  createArtifactWithGenericMetadataFacet();
  Collection<ArtifactMetadata> artifactsByMetadata=repository.getArtifactsByProjectVersionMetadata(TEST_METADATA_KEY,TEST_METADATA_VALUE,null);
  assertThat(artifactsByMetadata).hasSize(1);
  assertThat(artifactsByMetadata.iterator().next().getRepositoryId()).isNotNull().isNotEmpty();
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetArtifactsByProjectVersionMetadataAllRepositories() throws Exception {
  createArtifactWithGenericMetadataFacet();
  Collection<ArtifactMetadata> artifactsByMetadata=repository.getArtifactsByProjectVersionMetadata(TEST_METADATA_KEY,TEST_METADATA_VALUE,null);
  assertThat(artifactsByMetadata).hasSize(1);
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testSearchArtifactsByFacetKey() throws Exception {
  createArtifactWithGenericMetadataFacet();
  Collection<ArtifactMetadata> artifactsByProperty=repository.searchArtifacts(TEST_METADATA_KEY,TEST_METADATA_VALUE,TEST_REPO_ID,false);
  assertThat(artifactsByProperty).isNotNull().isNotEmpty();
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testSearchArtifactsByKey() throws Exception {
  createArtifactWithData();
  Collection<ArtifactMetadata> artifactsByProperty=repository.searchArtifacts("url",TEST_URL,TEST_REPO_ID,false);
  assertThat(artifactsByProperty).isNotNull().isNotEmpty();
}

</code></pre>

<br>
<pre class="type-5 type-6 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetArtifactOnly() throws Exception {
  assertThat(new ArrayList<>(repository.getArtifacts(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION))).isNotNull().isEmpty();
  assertThat(repository.getProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION)).isNull();
  assertThat(repository.getProject(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT)).isNull();
  assertThat(repository.getRootNamespaces(TEST_REPO_ID)).isNotNull().isEmpty();
  ArtifactMetadata metadata=createArtifact();
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,metadata);
  Collection<ArtifactMetadata> artifacts=repository.getArtifacts(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertThat(artifacts).containsExactly(metadata);
  assertThat(repository.getRootNamespaces(TEST_REPO_ID)).isNotNull().isNotEmpty().contains(TEST_NAMESPACE).hasSize(1);
  ProjectMetadata projectMetadata=repository.getProject(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT);
  assertEquals(TEST_PROJECT,projectMetadata.getId());
  assertEquals(TEST_NAMESPACE,projectMetadata.getNamespace());
  ProjectVersionMetadata projectVersionMetadata=repository.getProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertEquals(TEST_PROJECT_VERSION,projectVersionMetadata.getId());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateArtifactMetadataWithExistingFacetsFacetPropertyWasRemoved() throws Exception {
  ArtifactMetadata metadata=createArtifact();
  Map<String,String> additionalProps=new HashMap<>();
  additionalProps.put("deleteKey","deleteValue");
  MetadataFacet facet=new TestMetadataFacet(TEST_FACET_ID,"baz",additionalProps);
  metadata.addFacet(facet);
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,metadata);
  Collection<ArtifactMetadata> artifacts=repository.getArtifacts(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertThat(artifacts).isNotNull().isNotEmpty().hasSize(1);
  metadata=artifacts.iterator().next();
  Collection<String> ids=metadata.getFacetIds();
  assertThat(ids).isNotNull().isNotEmpty().hasSize(1).contains(TEST_FACET_ID);
  TestMetadataFacet testFacet=(TestMetadataFacet)metadata.getFacet(TEST_FACET_ID);
  Map<String,String> facetProperties=testFacet.toProperties();
  assertEquals("deleteValue",facetProperties.get("deleteKey"));
  facetProperties.remove("deleteKey");
  TestMetadataFacet newTestFacet=new TestMetadataFacet(TEST_FACET_ID,testFacet.getValue(),facetProperties);
  metadata.addFacet(newTestFacet);
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,metadata);
  artifacts=repository.getArtifacts(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertThat(artifacts).isNotNull().isNotEmpty().hasSize(1);
  metadata=artifacts.iterator().next();
  ids=metadata.getFacetIds();
  assertThat(ids).isNotNull().isNotEmpty().hasSize(1).contains(TEST_FACET_ID);
  testFacet=(TestMetadataFacet)metadata.getFacet(TEST_FACET_ID);
  Map<String,String> props=testFacet.toProperties();
  assertThat(props).isNotNull().doesNotContainKey("deleteKey");
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetArtifactsByProjectVersionMetadata() throws Exception {
  createArtifactWithGenericMetadataFacet(10);
  Collection<ArtifactMetadata> artifactsByMetadata=repository.getArtifactsByProjectVersionMetadata(TEST_METADATA_KEY,TEST_METADATA_VALUE,TEST_REPO_ID);
  assertThat(artifactsByMetadata).hasSize(1);
  ArtifactMetadata artifactMetadata=artifactsByMetadata.iterator().next();
  assertThat(artifactMetadata.getId()).isEqualTo("projectId-1.0.jar");
  assertThat(artifactMetadata.getSha1()).isEqualTo(TEST_SHA1);
  assertThat(artifactMetadata.getRepositoryId()).isEqualTo(TEST_REPO_ID);
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetNamespaceOnly() throws Exception {
  assertThat(repository.getRootNamespaces(TEST_REPO_ID)).isNotNull().isEmpty();
  repository.updateNamespace(TEST_REPO_ID,TEST_NAMESPACE);
  assertThat(repository.getRootNamespaces(TEST_REPO_ID)).isNotNull().isNotEmpty().contains(TEST_NAMESPACE).hasSize(1);
  repository.removeNamespace(TEST_REPO_ID,TEST_NAMESPACE);
  assertThat(repository.getRootNamespaces(TEST_REPO_ID)).isNotNull().isEmpty();
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetNamespacesWithProjectsPresent() throws Exception {
  String namespace="org.apache.maven.shared";
  repository.updateNamespace(TEST_REPO_ID,namespace);
  ProjectVersionMetadata metadata=new ProjectVersionMetadata();
  metadata.setId(TEST_PROJECT_VERSION);
  repository.updateProjectVersion(TEST_REPO_ID,namespace,TEST_PROJECT,metadata);
  Collection<String> namespaces=repository.getNamespaces(TEST_REPO_ID,namespace);
  assertThat(namespaces).isNotNull().isEmpty();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testSearchArtifactsFullTextExact() throws Exception {
  createArtifactWithGenericMetadataFacet();
  Collection<ArtifactMetadata> artifactsByProperty=repository.searchArtifacts(TEST_METADATA_VALUE,TEST_REPO_ID,true);
  assertThat(artifactsByProperty).isNotNull().isNotEmpty();
  artifactsByProperty=repository.searchArtifacts(TEST_METADATA_VALUE.substring(2),TEST_REPO_ID,true);
  assertThat(artifactsByProperty).isNotNull().isEmpty();
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testDeleteArtifact() throws Exception {
  ArtifactMetadata artifact=createArtifact();
  artifact.addFacet(new TestMetadataFacet("value"));
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact);
  assertThat(repository.getArtifacts(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION)).containsExactly(artifact);
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION_2_0,artifact);
  Collection<String> versions=repository.getProjectVersions(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT);
  log.info("versions {}",versions);
  assertThat(versions).isNotNull().isNotEmpty().hasSize(2).contains("1.0","2.0");
  repository.removeArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact.getId());
  versions=repository.getProjectVersions(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT);
  log.info("versions {}",versions);
  assertThat(versions).isNotNull().isNotEmpty().hasSize(1).contains("2.0");
  assertThat(repository.getArtifacts(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION)).isNotNull().isEmpty();
  assertThat(repository.getArtifacts(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION_2_0)).isNotEmpty().hasSize(1);
}

</code></pre>

<br>
<pre class="type-5 type-6 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void deleteArtifact() throws Exception {
  ArtifactMetadata artifact=createArtifact();
  artifact.addFacet(new TestMetadataFacet("value"));
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact);
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact);
  Collection<ArtifactMetadata> artifacts=repository.getArtifacts(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertEquals(Collections.singletonList(artifact),new ArrayList<>(artifacts));
  repository.removeArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact.getId());
  artifacts=repository.getArtifacts(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertThat(artifacts).isNotNull().isEmpty();
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetNamespacesWithSparseDepth() throws Exception {
  repository.updateNamespace(TEST_REPO_ID,"org.apache.maven.shared");
  Collection<String> namespaces=repository.getRootNamespaces(TEST_REPO_ID);
  assertThat(namespaces).isNotNull().isNotEmpty().hasSize(1).contains("org");
  namespaces=repository.getNamespaces(TEST_REPO_ID,"org");
  assertThat(namespaces).isNotNull().isNotEmpty().hasSize(1).contains("apache");
  namespaces=repository.getNamespaces(TEST_REPO_ID,"org.apache");
  assertThat(namespaces).isNotNull().isNotEmpty().hasSize(1).contains("maven");
  namespaces=repository.getNamespaces(TEST_REPO_ID,"org.apache.maven");
  assertThat(namespaces).isNotNull().isNotEmpty().hasSize(1).contains("shared");
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testgetProjectReferences() throws Exception {
  ProjectVersionMetadata metadata=new ProjectVersionMetadata();
  metadata.setId(TEST_PROJECT_VERSION);
  metadata.setName("project name");
  metadata.setDescription("project description");
  metadata.setUrl("the url");
  Dependency d=new Dependency();
  d.setArtifactId("artifactId");
  d.setClassifier("classifier");
  d.setGroupId("groupId");
  d.setScope("scope");
  d.setSystemPath("system path");
  d.setType("type");
  d.setVersion("version");
  d.setOptional(true);
  metadata.addDependency(d);
  d=new Dependency();
  d.setArtifactId("artifactId1");
  d.setClassifier("classifier");
  d.setGroupId("groupId");
  d.setScope("scope");
  d.setSystemPath("system path");
  d.setType("type");
  d.setVersion("version1");
  d.setOptional(true);
  metadata.addDependency(d);
  repository.updateProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,metadata);
  repository.save();
  metadata=repository.getProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  Collection<ProjectVersionReference> references=repository.getProjectReferences(TEST_REPO_ID,d.getGroupId(),d.getArtifactId(),d.getVersion());
  log.info("references: {}",references);
  assertThat(references).isNotNull().hasSize(1).contains(new ProjectVersionReference(ProjectVersionReference.ReferenceType.DEPENDENCY,TEST_PROJECT,TEST_NAMESPACE,TEST_PROJECT_VERSION));
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void deleteVersion() throws Exception {
  ArtifactMetadata artifact=createArtifact();
  artifact.addFacet(new TestMetadataFacet("value"));
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact);
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact);
  Collection<String> versions=repository.getProjectVersions(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT);
  assertThat(versions).isNotNull().isNotEmpty().hasSize(1);
  repository.removeProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  versions=repository.getProjectVersions(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT);
  assertThat(versions).isNotNull().isEmpty();
}

</code></pre>

<br>
<pre class="type-9 type-3 type-5 type-6 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateProjectVersionMetadataWithExistingFacetsFacetPropertyWasRemoved() throws Exception {
  ProjectVersionMetadata metadata=new ProjectVersionMetadata();
  metadata.setId(TEST_PROJECT_VERSION);
  Map<String,String> additionalProps=new HashMap<>();
  additionalProps.put("deleteKey","deleteValue");
  MetadataFacet facet=new TestMetadataFacet(TEST_FACET_ID,"baz",additionalProps);
  metadata.addFacet(facet);
  repository.updateProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,metadata);
  metadata=repository.getProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertThat(metadata.getFacetIds()).isNotNull().isNotEmpty().hasSize(1).contains(TEST_FACET_ID);
  TestMetadataFacet testFacet=(TestMetadataFacet)metadata.getFacet(TEST_FACET_ID);
  Map<String,String> facetProperties=testFacet.toProperties();
  assertEquals("deleteValue",facetProperties.get("deleteKey"));
  facetProperties.remove("deleteKey");
  TestMetadataFacet newTestFacet=new TestMetadataFacet(TEST_FACET_ID,testFacet.getValue(),facetProperties);
  metadata.addFacet(newTestFacet);
  repository.updateProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,metadata);
  metadata=repository.getProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertThat(metadata.getFacetIds()).isNotNull().isNotEmpty().hasSize(1).contains(TEST_FACET_ID);
  testFacet=(TestMetadataFacet)metadata.getFacet(TEST_FACET_ID);
  assertFalse(testFacet.toProperties().containsKey("deleteKey"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateProjectVersionMetadataWithNoOtherArchives() throws Exception {
  ProjectVersionMetadata metadata=new ProjectVersionMetadata();
  metadata.setId(TEST_PROJECT_VERSION);
  MailingList mailingList=new MailingList();
  mailingList.setName("Foo List");
  mailingList.setOtherArchives(Collections.<String>emptyList());
  metadata.setMailingLists(Arrays.asList(mailingList));
  repository.updateProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,metadata);
  metadata=repository.getProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertEquals(TEST_PROJECT_VERSION,metadata.getId());
  List<MailingList> mailingLists=metadata.getMailingLists();
  assertThat(mailingLists).isNotNull().isNotEmpty().hasSize(1);
  mailingList=metadata.getMailingLists().get(0);
  assertEquals("Foo List",mailingList.getName());
  List<String> others=mailingList.getOtherArchives();
  assertThat(others).isNotNull().isEmpty();
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testUpdateProjectVersionMetadataWithNoExistingFacets() throws Exception {
  ProjectVersionMetadata metadata=new ProjectVersionMetadata();
  metadata.setId(TEST_PROJECT_VERSION);
  repository.updateProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,metadata);
  metadata=repository.getProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertThat(metadata.getFacetIds()).isNotNull().isEmpty();
  metadata=new ProjectVersionMetadata();
  metadata.setId(TEST_PROJECT_VERSION);
  repository.updateProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,metadata);
  metadata=repository.getProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertThat(metadata.getFacetIds()).isNotNull().isEmpty();
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void deleteSnapshotVersion() throws Exception {
  ArtifactMetadata artifactOne=createArtifact();
  artifactOne.setVersion("2.0-20120618.214127-1");
  artifactOne.setProjectVersion("2.0-SNAPSHOT");
  artifactOne.addFacet(new TestMetadataFacet("value"));
  artifactOne.setId(TEST_PROJECT + "-" + "2.0-20120618.214127-1"+ "."+ "jar");
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,"2.0-SNAPSHOT",artifactOne);
  ArtifactMetadata artifactTwo=createArtifact();
  artifactTwo.setVersion("2.0-20120618.214135-2");
  artifactTwo.setProjectVersion("2.0-SNAPSHOT");
  artifactTwo.addFacet(new TestMetadataFacet("value"));
  artifactTwo.setId(TEST_PROJECT + "-" + "2.0-20120618.214135-2"+ "."+ "jar");
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,"2.0-SNAPSHOT",artifactTwo);
  Collection<ArtifactMetadata> artifactMetadatas=repository.getArtifacts(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,"2.0-SNAPSHOT");
  assertThat(artifactMetadatas).isNotNull().isNotEmpty().hasSize(2);
  log.info("artifactMetadatas: {}",artifactMetadatas);
  repository.removeArtifact(artifactOne,"2.0-SNAPSHOT");
  artifactMetadatas=repository.getArtifacts(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,"2.0-SNAPSHOT");
  assertThat(artifactMetadatas).isNotNull().isNotEmpty().hasSize(1);
  repository.removeArtifact(artifactTwo,"2.0-SNAPSHOT");
  artifactMetadatas=repository.getArtifacts(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,"2.0-SNAPSHOT");
  assertThat(artifactMetadatas).isNotNull().isEmpty();
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetArtifactsByDateRangeUpperBoundOutOfRange() throws Exception {
  ArtifactMetadata artifact=createArtifact();
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact);
  repository.save();
  Date upper=new Date(artifact.getWhenGathered().getTime() - 10000);
  List<ArtifactMetadata> artifacts=repository.getArtifactsByDateRange(TEST_REPO_ID,null,upper);
  assertThat(artifacts).isNotNull().isEmpty();
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testSearchArtifactsByFacetKeyAllRepos() throws Exception {
  createArtifactWithGenericMetadataFacet();
  Collection<ArtifactMetadata> artifactsByProperty=repository.searchArtifacts(TEST_METADATA_KEY,TEST_METADATA_VALUE,null,false);
  assertThat(artifactsByProperty).isNotNull().isNotEmpty();
}

</code></pre>

<br>
<pre class="type-5 type-7 type-6 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetProjectOnly() throws Exception {
  assertNull(repository.getProject(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT));
  assertThat(repository.getRootNamespaces(TEST_REPO_ID)).isNotNull().isEmpty();
  ProjectMetadata project=new ProjectMetadata();
  project.setId(TEST_PROJECT);
  project.setNamespace(TEST_NAMESPACE);
  repository.updateProject(TEST_REPO_ID,project);
  project=repository.getProject(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT);
  assertEquals(TEST_PROJECT,project.getId());
  assertEquals(TEST_NAMESPACE,project.getNamespace());
  Collection<String> namespaces=repository.getRootNamespaces(TEST_REPO_ID);
  assertThat(namespaces).isNotNull().isNotEmpty().contains(TEST_NAMESPACE).hasSize(1);
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testRootNamespaceWithNoMetadataRepository() throws Exception {
  Collection<String> namespaces=repository.getRootNamespaces(TEST_REPO_ID);
  assertThat(namespaces).isNotNull().isEmpty();
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetArtifactsByChecksumNoResult() throws Exception {
  ArtifactMetadata artifact=createArtifact();
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact);
  Collection<ArtifactMetadata> artifactsByChecksum=repository.getArtifactsByChecksum(TEST_REPO_ID,"not checksum");
  assertThat(artifactsByChecksum).isNotNull().isEmpty();
}

</code></pre>

<br>
<pre class="type-5 type-7 type-6 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetProjectVersionOnly() throws Exception {
  assertNull(repository.getProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION));
  assertNull(repository.getProject(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT));
  assertThat(repository.getRootNamespaces(TEST_REPO_ID)).isNotNull().isEmpty();
  ProjectVersionMetadata metadata=new ProjectVersionMetadata();
  metadata.setId(TEST_PROJECT_VERSION);
  repository.updateProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,metadata);
  metadata=repository.getProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertEquals(TEST_PROJECT_VERSION,metadata.getId());
  Collection<String> namespaces=repository.getRootNamespaces(TEST_REPO_ID);
  assertThat(namespaces).isNotNull().isNotEmpty().hasSize(1).contains(TEST_NAMESPACE);
  ProjectMetadata projectMetadata=repository.getProject(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT);
  assertNotNull(projectMetadata);
  assertEquals(TEST_PROJECT,projectMetadata.getId());
  assertEquals(TEST_NAMESPACE,projectMetadata.getNamespace());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetArtifactsByMetadataAllRepositories() throws Exception {
  createArtifactWithMavenArtifactFacet();
  Collection<ArtifactMetadata> artifactsByMetadata=repository.getArtifactsByMetadata("foo",TEST_METADATA_VALUE,null);
  assertThat(artifactsByMetadata).hasSize(1);
  ArtifactMetadata artifactMetadata=artifactsByMetadata.iterator().next();
  assertThat(artifactMetadata.getId()).isEqualTo("projectId-1.0.jar");
  assertThat(artifactMetadata.getSha1()).isEqualTo(TEST_SHA1);
  assertThat(artifactMetadata.getRepositoryId()).isEqualTo(TEST_REPO_ID);
  MetadataFacet facet=artifactMetadata.getFacet(TEST_FACET_ID);
  assertThat(facet).isNotNull();
  assertThat(facet.toProperties()).isEqualTo(Collections.singletonMap("foo",TEST_METADATA_VALUE));
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetProjectVersionsWithOtherNamespacesPresent() throws Exception {
  ProjectVersionMetadata versionMetadata=new ProjectVersionMetadata();
  versionMetadata.setId(TEST_PROJECT_VERSION);
  repository.updateProjectVersion(TEST_REPO_ID,"org.apache.maven",TEST_PROJECT,versionMetadata);
  repository.updateProjectVersion(TEST_REPO_ID,"org.apache.maven." + TEST_PROJECT,"other-project",versionMetadata);
  Collection<String> versions=repository.getProjectVersions(TEST_REPO_ID,"org.apache.maven." + TEST_PROJECT,"other-project");
  assertThat(versions).isNotNull().isNotEmpty().contains(TEST_PROJECT_VERSION);
  versions=repository.getProjectVersions(TEST_REPO_ID,"org.apache.maven",TEST_PROJECT);
  assertThat(versions).isNotNull().isNotEmpty().contains(TEST_PROJECT_VERSION);
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetArtifactsByDateRangeLowerBoundOutOfRange() throws Exception {
  ArtifactMetadata artifact=createArtifact();
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact);
  Date date=new Date(artifact.getWhenGathered().getTime() + 10000);
  List<ArtifactMetadata> artifacts=repository.getArtifactsByDateRange(TEST_REPO_ID,date,null);
  assertThat(artifacts).isNotNull().isEmpty();
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetArtifactVersionsMultipleArtifactsSingleVersion() throws Exception {
  ArtifactMetadata artifact1=createArtifact();
  artifact1.setId(TEST_PROJECT + "-" + TEST_PROJECT_VERSION+ ".jar");
  ArtifactMetadata artifact2=createArtifact();
  artifact2.setId(TEST_PROJECT + "-" + TEST_PROJECT_VERSION+ "-sources.jar");
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact1);
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION,artifact2);
  Collection<String> versions=repository.getArtifactVersions(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertThat(versions).isNotNull().isNotEmpty().hasSize(1).containsExactly(TEST_PROJECT_VERSION);
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testRemoveFacetWhenEmpty() throws Exception {
  List<String> facets=repository.getMetadataFacets(TEST_REPO_ID,TEST_FACET_ID);
  assertThat(facets).isNotNull().isEmpty();
  assertThat(repository.getMetadataFacet(TEST_REPO_ID,TEST_FACET_ID,TEST_NAME)).isNull();
  repository.removeMetadataFacet(TEST_REPO_ID,TEST_FACET_ID,TEST_NAME);
  facets=repository.getMetadataFacets(TEST_REPO_ID,TEST_FACET_ID);
  assertThat(facets).isNotNull().isEmpty();
  assertThat(repository.getMetadataFacet(TEST_REPO_ID,TEST_FACET_ID,TEST_NAME)).isNull();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.metadata.repository.cassandra.CassandraMetadataRepositoryTest </h4><pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
/** 
 * ensure all dependant tables are cleaned up (mailinglist, license, dependencies)
 * @throws Exception
 */
@Test public void clean_dependant_tables() throws Exception {
  super.testUpdateProjectVersionMetadataWithAllElements();
  String key=new ProjectVersionMetadataModel.KeyBuilder().withRepository(TEST_REPO_ID).withNamespace(TEST_NAMESPACE).withProjectId(TEST_PROJECT).withProjectVersion(TEST_PROJECT_VERSION).withId(TEST_PROJECT_VERSION).build();
  this.cmr.removeProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertThat(repository.getProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION)).isNull();
  assertThat(cmr.getMailingLists(key)).isNotNull().isEmpty();
  assertThat(cmr.getLicenses(key)).isNotNull().isEmpty();
  assertThat(cmr.getDependencies(key)).isNotNull().isEmpty();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.metadata.repository.cassandra.RepositoriesNamespaceTest </h4><pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testMetadataRepo() throws Exception {
  Repository r=null;
  Namespace n=null;
  try {
    cmr.updateNamespace("release","org");
    r=cmr.getRepository("release");
    assertThat(r).isNotNull();
    assertThat(cmr.getRepositories()).isNotEmpty().hasSize(1);
    assertThat(cmr.getNamespaces("release")).isNotEmpty().hasSize(1);
    n=cmr.getNamespace("release","org");
    assertThat(n).isNotNull();
    assertThat(n.getRepository()).isNotNull();
    cmr.updateNamespace("release","org.apache");
    r=cmr.getRepository("release");
    assertThat(r).isNotNull();
    assertThat(cmr.getNamespaces("release")).isNotEmpty().hasSize(2);
    cmr.removeNamespace("release","org.apache");
    assertThat(cmr.getNamespaces("release")).isNotEmpty().hasSize(1);
    assertThat(cmr.getNamespaces("release")).containsExactly("org");
    ProjectMetadata projectMetadata=new ProjectMetadata();
    projectMetadata.setId("theproject");
    projectMetadata.setNamespace("org");
    cmr.updateProject("release",projectMetadata);
    assertThat(cmr.getProjects("release","org")).isNotEmpty().hasSize(1).containsExactly("theproject");
    cmr.removeProject("release","org","theproject");
    assertThat(cmr.getProjects("release","org")).isEmpty();
    cmr.removeRepository("release");
    r=cmr.getRepository("release");
    assertThat(r).isNull();
  }
 catch (  Exception e) {
    logger.error(e.getMessage(),e);
    throw e;
  }
 finally {
    CassandraMetadataRepositoryTest.clearReposAndNamespace(cassandraArchivaManager);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.proxy.HttpProxyTransferTest </h4><pre class="type-9 type-3 type-5 type-7 type-6 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOverHttpProxy() throws Exception {
  Assertions.assertThat(System.getProperty("http.proxyHost")).isEmpty();
  Assertions.assertThat(System.getProperty("http.proxyPort")).isEmpty();
  String path="org/apache/maven/test/get-default-layout/1.0/get-default-layout-1.0.jar";
  addConnector();
  File expectedFile=new File(new File(managedDefaultRepository.getRepoRoot()),path);
  ArtifactReference artifact=managedDefaultRepository.toArtifactReference(path);
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,artifact);
  File sourceFile=new File(PROXIED_BASEDIR,path);
  assertNotNull("Expected File should not be null.",expectedFile);
  assertNotNull("Actual File should not be null.",downloadedFile);
  assertTrue("Check actual file exists.",downloadedFile.exists());
  assertEquals("Check filename path is appropriate.",expectedFile.getCanonicalPath(),downloadedFile.getCanonicalPath());
  assertEquals("Check file path matches.",expectedFile.getAbsolutePath(),downloadedFile.getAbsolutePath());
  String expectedContents=FileUtils.readFileToString(sourceFile,Charset.defaultCharset());
  String actualContents=FileUtils.readFileToString(downloadedFile,Charset.defaultCharset());
  assertEquals("Check file contents.",expectedContents,actualContents);
  Assertions.assertThat(System.getProperty("http.proxyHost")).isEmpty();
  Assertions.assertThat(System.getProperty("http.proxyPort")).isEmpty();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.remotedownload.DownloadArtifactFromQueryTest </h4><pre class="type-8 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=RedirectionException.class) public void downloadFixedVersion() throws Exception {
  String id=createAndScanRepo();
  try {
    Response response=getSearchService().redirectToArtifactFile(null,"org.apache.archiva","archiva-test","1.0",null,null);
  }
 catch (  RedirectionException e) {
    Assertions.assertThat(e.getLocation().compareTo(new URI("http://localhost:" + port + "/repository/"+ id+ "/org/apache/archiva/archiva-test/1.0/archiva-test-1.0.jar"))).isEqualTo(0);
    throw e;
  }
 finally {
    getManagedRepositoriesService().deleteManagedRepository(id,false);
  }
}

</code></pre>

<br>
<pre class="type-8 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=RedirectionException.class) public void downloadLatestVersion() throws Exception {
  String id=createAndScanRepo();
  try {
    Response response=getSearchService().redirectToArtifactFile(null,"org.apache.archiva","archiva-test","LATEST",null,null);
  }
 catch (  RedirectionException e) {
    Assertions.assertThat(e.getLocation().compareTo(new URI("http://localhost:" + port + "/repository/"+ id+ "/org/apache/archiva/archiva-test/2.0/archiva-test-2.0.jar"))).isEqualTo(0);
    throw e;
  }
 finally {
    getManagedRepositoriesService().deleteManagedRepository(id,false);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.remotedownload.DownloadMergedIndexNonDefaultPathTest </h4><pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void downloadMergedIndexWithNonDefaultPath() throws Exception {
  File tmpIndexDir=new File(System.getProperty("java.io.tmpdir") + "/tmpIndex");
  if (tmpIndexDir.exists()) {
    FileUtils.deleteDirectory(tmpIndexDir);
  }
  String id=Long.toString(System.currentTimeMillis());
  ManagedRepository managedRepository=new ManagedRepository();
  managedRepository.setId(id);
  managedRepository.setName("name of " + id);
  managedRepository.setLocation(System.getProperty("basedir") + "/src/test/repositories/test-repo");
  managedRepository.setIndexDirectory(System.getProperty("java.io.tmpdir") + "/tmpIndex/" + id);
  ManagedRepositoriesService managedRepositoriesService=getManagedRepositoriesService();
  if (managedRepositoriesService.getManagedRepository(id) != null) {
    managedRepositoriesService.deleteManagedRepository(id,false);
  }
  getManagedRepositoriesService().addManagedRepository(managedRepository);
  RepositoriesService repositoriesService=getRepositoriesService();
  repositoriesService.scanRepositoryNow(id,true);
  int timeout=20000;
  while (timeout > 0 && repositoriesService.alreadyScanning(id)) {
    Thread.sleep(500);
    timeout-=500;
  }
  RepositoryGroupService repositoryGroupService=getRepositoryGroupService();
  String repoGroupId="test-group";
  if (repositoryGroupService.getRepositoryGroup(repoGroupId) != null) {
    repositoryGroupService.deleteRepositoryGroup(repoGroupId);
  }
  RepositoryGroup repositoryGroup=new RepositoryGroup();
  repositoryGroup.setId(repoGroupId);
  String path=".fooooo";
  repositoryGroup.setRepositories(Arrays.asList(id));
  repositoryGroup.setMergedIndexPath(path);
  repositoryGroupService.addRepositoryGroup(repositoryGroup);
  id=Long.toString(System.currentTimeMillis());
  managedRepository=new ManagedRepository();
  managedRepository.setId(id);
  managedRepository.setName("name of " + id);
  managedRepository.setLocation(System.getProperty("basedir") + "/src/test/repositories/test-repo");
  managedRepository.setIndexDirectory(System.getProperty("java.io.tmpdir") + "/tmpIndex/" + id);
  if (managedRepositoriesService.getManagedRepository(id) != null) {
    managedRepositoriesService.deleteManagedRepository(id,false);
  }
  getManagedRepositoriesService().addManagedRepository(managedRepository);
  String remoteId=Long.toString(System.currentTimeMillis());
  RemoteRepository remoteRepository=new RemoteRepository();
  remoteRepository.setId(remoteId);
  remoteRepository.setName(remoteId);
  remoteRepository.setDownloadRemoteIndex(true);
  remoteRepository.setUrl("http://localhost:" + port + "/repository/test-group");
  remoteRepository.setRemoteIndexUrl("http://localhost:" + port + "/repository/test-group/"+ path);
  remoteRepository.setUserName(RedbackRoleConstants.ADMINISTRATOR_ACCOUNT_NAME);
  remoteRepository.setPassword(FakeCreateAdminService.ADMIN_TEST_PWD);
  getRemoteRepositoriesService().addRemoteRepository(remoteRepository);
  ProxyConnectorService proxyConnectorService=getProxyConnectorService();
  ProxyConnector proxyConnector=new ProxyConnector();
  proxyConnector.setProxyId("foo-bar2");
  proxyConnector.setSourceRepoId(id);
  proxyConnector.setTargetRepoId(remoteId);
  proxyConnectorService.addProxyConnector(proxyConnector);
  repositoriesService.scheduleDownloadRemoteIndex(remoteId,true,true);
  while (!repositoriesService.getRunningRemoteDownloadIds().getStrings().isEmpty()) {
    Thread.sleep(500);
    log.debug("still running remote download");
  }
  SearchService searchService=getSearchService();
  SearchRequest request=new SearchRequest();
  request.setRepositories(Arrays.asList(id));
  request.setGroupId("org.apache.felix");
  List<Artifact> artifacts=searchService.searchArtifacts(request);
  assertThat(artifacts).isNotNull().isNotEmpty().hasSize(1);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.remotedownload.DownloadMergedIndexTest </h4><pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void downloadMergedIndex() throws Exception {
  Path tmpIndexDir=Paths.get(System.getProperty("java.io.tmpdir"),"tmpIndex");
  if (Files.exists(tmpIndexDir)) {
    FileUtils.deleteDirectory(tmpIndexDir.toFile());
  }
  String id=Long.toString(System.currentTimeMillis());
  ManagedRepository managedRepository=new ManagedRepository();
  managedRepository.setId(id);
  managedRepository.setName("name of " + id);
  managedRepository.setLocation(System.getProperty("basedir") + "/src/test/repositories/test-repo");
  managedRepository.setIndexDirectory(System.getProperty("java.io.tmpdir") + "/tmpIndex/" + id);
  ManagedRepositoriesService managedRepositoriesService=getManagedRepositoriesService();
  if (managedRepositoriesService.getManagedRepository(id) != null) {
    managedRepositoriesService.deleteManagedRepository(id,false);
  }
  getManagedRepositoriesService().addManagedRepository(managedRepository);
  RepositoriesService repositoriesService=getRepositoriesService();
  repositoriesService.scanRepositoryNow(id,true);
  int timeout=20000;
  while (timeout > 0 && repositoriesService.alreadyScanning(id)) {
    Thread.sleep(500);
    timeout-=500;
  }
  RepositoryGroupService repositoryGroupService=getRepositoryGroupService();
  String repoGroupId="test-group";
  if (repositoryGroupService.getRepositoryGroup(repoGroupId) != null) {
    repositoryGroupService.deleteRepositoryGroup(repoGroupId);
  }
  RepositoryGroup repositoryGroup=new RepositoryGroup();
  repositoryGroup.setId(repoGroupId);
  repositoryGroup.setRepositories(Arrays.asList(id));
  repositoryGroupService.addRepositoryGroup(repositoryGroup);
  id=Long.toString(System.currentTimeMillis());
  managedRepository=new ManagedRepository();
  managedRepository.setId(id);
  managedRepository.setName("name of " + id);
  managedRepository.setLocation(System.getProperty("basedir") + "/src/test/repositories/test-repo");
  managedRepository.setIndexDirectory(System.getProperty("java.io.tmpdir") + "/tmpIndex/" + id);
  if (managedRepositoriesService.getManagedRepository(id) != null) {
    managedRepositoriesService.deleteManagedRepository(id,false);
  }
  getManagedRepositoriesService().addManagedRepository(managedRepository);
  RemoteRepository remoteRepository=new RemoteRepository();
  remoteRepository.setId("all-merged");
  remoteRepository.setName("all-merged");
  remoteRepository.setDownloadRemoteIndex(true);
  remoteRepository.setUrl("http://localhost:" + port + "/repository/test-group");
  remoteRepository.setRemoteIndexUrl("http://localhost:" + port + "/repository/test-group/.indexer");
  remoteRepository.setUserName(RedbackRoleConstants.ADMINISTRATOR_ACCOUNT_NAME);
  remoteRepository.setPassword(FakeCreateAdminService.ADMIN_TEST_PWD);
  if (getRemoteRepositoriesService().getRemoteRepository(remoteRepository.getId()) != null) {
    getRemoteRepositoriesService().deleteRemoteRepository(remoteRepository.getId());
  }
  getRemoteRepositoriesService().addRemoteRepository(remoteRepository);
  ProxyConnectorService proxyConnectorService=getProxyConnectorService();
  ProxyConnector proxyConnector=new ProxyConnector();
  proxyConnector.setProxyId("foo-bar1");
  proxyConnector.setSourceRepoId(id);
  proxyConnector.setTargetRepoId("all-merged");
  proxyConnectorService.addProxyConnector(proxyConnector);
  repositoriesService.scheduleDownloadRemoteIndex("all-merged",true,true);
  timeout=20000;
  while (timeout > 0) {
    Thread.sleep(500);
    timeout-=500;
  }
  SearchService searchService=getSearchService();
  SearchRequest request=new SearchRequest();
  request.setRepositories(Arrays.asList(id));
  request.setGroupId("org.apache.felix");
  List<Artifact> artifacts=searchService.searchArtifacts(request);
  assertThat(artifacts).isNotNull().isNotEmpty().hasSize(1);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.remotedownload.RemoteRepositoryConnectivityCheckTest </h4><pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void checkRemoteConnectivity() throws Exception {
  Server repoServer=buildStaticServer(new File(System.getProperty("basedir") + "/src/test/repositories/test-repo"));
  repoServer.start();
  RemoteRepositoriesService service=getRemoteRepositoriesService();
  WebClient.client(service).header("Authorization",authorizationHeader);
  try {
    int repoServerPort=repoServer.getConnectors()[0].getLocalPort();
    RemoteRepository repo=getRemoteRepository();
    repo.setUrl("http://localhost:" + repoServerPort);
    service.addRemoteRepository(repo);
    assertThat(service.checkRemoteConnectivity(repo.getId())).isTrue();
  }
  finally {
    service.deleteRemoteRepository("id-new");
    repoServer.stop();
  }
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void checkRemoteConnectivityFail() throws Exception {
  RemoteRepositoriesService service=getRemoteRepositoriesService();
  WebClient.client(service).header("Authorization",authorizationHeader);
  try {
    RemoteRepository repo=getRemoteRepository();
    repo.setUrl("http://localhost:8956");
    service.addRemoteRepository(repo);
    assertThat(service.checkRemoteConnectivity(repo.getId())).isFalse();
  }
  finally {
    service.deleteRemoteRepository("id-new");
  }
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void checkRemoteConnectivityEmptyRemote() throws Exception {
  File tmpDir=Files.createTempDirectory("test").toFile();
  Server repoServer=buildStaticServer(tmpDir);
  repoServer.start();
  RemoteRepositoriesService service=getRemoteRepositoriesService();
  WebClient.client(service).header("Authorization",authorizationHeader);
  try {
    int repoServerPort=repoServer.getConnectors()[0].getLocalPort();
    RemoteRepository repo=getRemoteRepository();
    repo.setUrl("http://localhost:" + repoServerPort);
    service.addRemoteRepository(repo);
    assertThat(service.checkRemoteConnectivity(repo.getId())).isTrue();
  }
  finally {
    service.deleteRemoteRepository("id-new");
    FileUtils.deleteQuietly(tmpDir);
    repoServer.stop();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.rest.services.ArtifactContentEntriesTests </h4><pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void readArtifactContentEntriesRootPathNull() throws Exception {
  File file=new File(getBasedir(),"src/test/repo-with-osgi/commons-logging/commons-logging/1.1/commons-logging-1.1.jar");
  List<ArtifactContentEntry> artifactContentEntries=browseService.readFileEntries(file,null,"foo");
  log.info("artifactContentEntries: {}",artifactContentEntries);
  assertThat(artifactContentEntries).isNotNull().isNotEmpty().hasSize(2).contains(new ArtifactContentEntry("org",false,0,"foo"),new ArtifactContentEntry("META-INF",false,0,"foo"));
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void readArtifactContentEntriesOnlyFiles() throws Exception {
  File file=new File(getBasedir(),"src/test/repo-with-osgi/commons-logging/commons-logging/1.1/commons-logging-1.1.jar");
  List<ArtifactContentEntry> artifactContentEntries=browseService.readFileEntries(file,"org/apache/commons/logging/impl/","foo");
  log.info("artifactContentEntries: {}",artifactContentEntries);
  assertThat(artifactContentEntries).isNotNull().isNotEmpty().hasSize(16).contains(new ArtifactContentEntry("org/apache/commons/logging/impl/AvalonLogger.class",true,5,"foo"));
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void readArtifactContentEntriesDirectoryAndFiles() throws Exception {
  File file=new File(getBasedir(),"src/test/repo-with-osgi/commons-logging/commons-logging/1.1/commons-logging-1.1.jar");
  List<ArtifactContentEntry> artifactContentEntries=browseService.readFileEntries(file,"org/apache/commons/logging/","foo");
  log.info("artifactContentEntries: {}",artifactContentEntries);
  assertThat(artifactContentEntries).isNotNull().isNotEmpty().hasSize(10).contains(new ArtifactContentEntry("org/apache/commons/logging/impl",false,4,"foo"),new ArtifactContentEntry("org/apache/commons/logging/LogSource.class",true,4,"foo"));
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void readArtifactContentEntriesRootPathEmpty() throws Exception {
  File file=new File(getBasedir(),"src/test/repo-with-osgi/commons-logging/commons-logging/1.1/commons-logging-1.1.jar");
  List<ArtifactContentEntry> artifactContentEntries=browseService.readFileEntries(file,"","foo");
  log.info("artifactContentEntries: {}",artifactContentEntries);
  assertThat(artifactContentEntries).isNotNull().isNotEmpty().hasSize(2).contains(new ArtifactContentEntry("org",false,0,"foo"),new ArtifactContentEntry("META-INF",false,0,"foo"));
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void readArtifactContentEntriesRootSlash() throws Exception {
  File file=new File(getBasedir(),"src/test/repo-with-osgi/commons-logging/commons-logging/1.1/commons-logging-1.1.jar");
  List<ArtifactContentEntry> artifactContentEntries=browseService.readFileEntries(file,"/","foo");
  log.info("artifactContentEntries: {}",artifactContentEntries);
  assertThat(artifactContentEntries).isNotNull().isNotEmpty().hasSize(2).contains(new ArtifactContentEntry("org",false,0,"foo"),new ArtifactContentEntry("META-INF",false,0,"foo"));
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void readArtifactContentEntriesSecondDepthOnlyOneDirectory() throws Exception {
  File file=new File(getBasedir(),"src/test/repo-with-osgi/commons-logging/commons-logging/1.1/commons-logging-1.1.jar");
  List<ArtifactContentEntry> artifactContentEntries=browseService.readFileEntries(file,"org","foo");
  log.info("artifactContentEntries: {}",artifactContentEntries);
  assertThat(artifactContentEntries).isNotNull().isNotEmpty().hasSize(1).contains(new ArtifactContentEntry("org/apache",false,1,"foo"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.rest.services.BrowseServiceTest </h4><pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void readArtifactContentText() throws Exception {
  BrowseService browseService=getBrowseService(authorizationHeader,true);
  WebClient.client(browseService).accept(MediaType.TEXT_PLAIN);
  String text=browseService.getArtifactContentText("commons-logging","commons-logging","1.1","sources",null,"org/apache/commons/logging/LogSource.java",TEST_REPO_ID).getContent();
  log.debug("text: {}",text);
  assertThat(text).contains("package org.apache.commons.logging;").contains("public class LogSource {");
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void browserootGroups() throws Exception {
  BrowseService browseService=getBrowseService(authorizationHeader,false);
  BrowseResult browseResult=browseService.getRootGroups(TEST_REPO_ID);
  assertThat(browseResult).isNotNull();
  assertThat(browseResult.getBrowseResultEntries()).isNotNull().isNotEmpty().hasSize(3).contains(new BrowseResultEntry("commons-cli",false),new BrowseResultEntry("commons-logging",false),new BrowseResultEntry("org.apache",false));
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void metadatagetthenadd() throws Exception {
  scanRepo(TEST_REPO_ID);
  BrowseService browseService=getBrowseService(authorizationHeader,false);
  Map<String,String> metadatas=toMap(browseService.getMetadatas("commons-cli","commons-cli","1.0",TEST_REPO_ID));
  assertThat(metadatas).isNotNull().isEmpty();
  browseService.addMetadata("commons-cli","commons-cli","1.0","wine","bordeaux",TEST_REPO_ID);
  metadatas=toMap(browseService.getMetadatas("commons-cli","commons-cli","1.0",TEST_REPO_ID));
  assertThat(metadatas).isNotNull().isNotEmpty().contains(MapEntry.entry("wine","bordeaux"));
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getProjectVersionMetadata() throws Exception {
  BrowseService browseService=getBrowseService(authorizationHeader,true);
  ProjectVersionMetadata metadata=browseService.getProjectVersionMetadata("org.apache.karaf.features","org.apache.karaf.features.core",TEST_REPO_ID);
  assertThat(metadata).isNotNull();
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void metadatagetthenaddthendelete() throws Exception {
  try {
    scanRepo(TEST_REPO_ID);
    BrowseService browseService=getBrowseService(authorizationHeader,false);
    Map<String,String> metadatas=toMap(browseService.getMetadatas("commons-cli","commons-cli","1.0",TEST_REPO_ID));
    assertThat(metadatas).isNotNull().isEmpty();
    browseService.addMetadata("commons-cli","commons-cli","1.0","wine","bordeaux",TEST_REPO_ID);
    metadatas=toMap(browseService.getMetadatas("commons-cli","commons-cli","1.0",TEST_REPO_ID));
    assertThat(metadatas).isNotNull().isNotEmpty().contains(MapEntry.entry("wine","bordeaux"));
    browseService.deleteMetadata("commons-cli","commons-cli","1.0","wine",TEST_REPO_ID);
    metadatas=toMap(browseService.getMetadatas("commons-cli","commons-cli","1.0",TEST_REPO_ID));
    assertThat(metadatas).isNotNull().isEmpty();
  }
 catch (  ArchivaRestServiceException e) {
    log.error(e.getMessage(),e);
    throw e;
  }
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void readArtifactContentTextPom() throws Exception {
  BrowseService browseService=getBrowseService(authorizationHeader,true);
  WebClient.client(browseService).accept(MediaType.TEXT_PLAIN);
  String text=browseService.getArtifactContentText("commons-logging","commons-logging","1.1",null,"pom",null,TEST_REPO_ID).getContent();
  log.info("text: {}",text);
  assertThat(text).contains("<url>http://jakarta.apache.org/commons/${pom.artifactId.substring(8)}/</url>").contains("<subscribe>commons-dev-subscribe@jakarta.apache.org</subscribe>");
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void browsegroupId() throws Exception {
  BrowseService browseService=getBrowseService(authorizationHeader,false);
  BrowseResult browseResult=browseService.browseGroupId("org.apache",TEST_REPO_ID);
  assertThat(browseResult).isNotNull();
  assertThat(browseResult.getBrowseResultEntries()).isNotNull().isNotEmpty().hasSize(2).contains(new BrowseResultEntry("org.apache.felix",false),new BrowseResultEntry("org.apache.karaf.features",false));
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void searchArtifacts() throws Exception {
  BrowseService browseService=getBrowseService(authorizationHeader,true);
  List<Artifact> artifactDownloadInfos=browseService.searchArtifacts("The Apache Software Foundation",TEST_REPO_ID,true);
  assertThat(artifactDownloadInfos).isNotNull().isNotEmpty().hasSize(7);
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void readArtifactContentEntries() throws Exception {
  BrowseService browseService=getBrowseService(authorizationHeader,true);
  List<ArtifactContentEntry> artifactContentEntries=browseService.getArtifactContentEntries("commons-logging","commons-logging","1.1",null,null,null,TEST_REPO_ID);
  log.info("artifactContentEntries: {}",artifactContentEntries);
  assertThat(artifactContentEntries).isNotNull().isNotEmpty().hasSize(2).contains(new ArtifactContentEntry("org",false,0,TEST_REPO_ID),new ArtifactContentEntry("META-INF",false,0,TEST_REPO_ID));
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getArtifactsByProjectVersionMetadata() throws Exception {
  BrowseService browseService=getBrowseService(authorizationHeader,true);
  browseService.addMetadata("commons-cli","commons-cli","1.0","wine","bordeaux",TEST_REPO_ID);
  List<Artifact> artifactDownloadInfos=browseService.getArtifactsByProjectVersionMetadata("wine","bordeaux",TEST_REPO_ID);
  assertThat(artifactDownloadInfos).isNotNull().isNotEmpty().hasSize(3);
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void metadatainbatchmode() throws Exception {
  scanRepo(TEST_REPO_ID);
  BrowseService browseService=getBrowseService(authorizationHeader,false);
  Map<String,String> inputMetadata=new HashMap<>(3);
  inputMetadata.put("buildNumber","1");
  inputMetadata.put("author","alecharp");
  inputMetadata.put("jenkins_version","1.486");
  MetadataAddRequest metadataAddRequest=new MetadataAddRequest();
  metadataAddRequest.setGroupId("commons-cli");
  metadataAddRequest.setArtifactId("commons-cli");
  metadataAddRequest.setVersion("1.0");
  metadataAddRequest.setMetadatas(inputMetadata);
  browseService.importMetadata(metadataAddRequest,TEST_REPO_ID);
  Map<String,String> metadatas=toMap(browseService.getMetadatas("commons-cli","commons-cli","1.0",TEST_REPO_ID));
  assertThat(metadatas).isNotNull().isNotEmpty().contains(MapEntry.entry("buildNumber","1")).contains(MapEntry.entry("author","alecharp")).contains(MapEntry.entry("jenkins_version","1.486"));
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void readArtifactContentEntriesFilesAndDirectories() throws Exception {
  BrowseService browseService=getBrowseService(authorizationHeader,true);
  List<ArtifactContentEntry> artifactContentEntries=browseService.getArtifactContentEntries("commons-logging","commons-logging","1.1",null,null,"org/apache/commons/logging/",TEST_REPO_ID);
  log.info("artifactContentEntries: {}",artifactContentEntries);
  assertThat(artifactContentEntries).isNotNull().isNotEmpty().hasSize(10).contains(new ArtifactContentEntry("org/apache/commons/logging/impl",false,4,TEST_REPO_ID),new ArtifactContentEntry("org/apache/commons/logging/LogSource.class",true,4,TEST_REPO_ID));
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void readArtifactContentEntriesRootPath() throws Exception {
  BrowseService browseService=getBrowseService(authorizationHeader,true);
  List<ArtifactContentEntry> artifactContentEntries=browseService.getArtifactContentEntries("commons-logging","commons-logging","1.1",null,null,"org/",TEST_REPO_ID);
  log.info("artifactContentEntries: {}",artifactContentEntries);
  assertThat(artifactContentEntries).isNotNull().isNotEmpty().hasSize(1).contains(new ArtifactContentEntry("org/apache",false,1,TEST_REPO_ID));
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getArtifactDownloadInfos() throws Exception {
  BrowseService browseService=getBrowseService(authorizationHeader,true);
  List<Artifact> artifactDownloadInfos=browseService.getArtifactDownloadInfos("commons-logging","commons-logging","1.1",TEST_REPO_ID);
  log.info("artifactDownloadInfos {}",artifactDownloadInfos);
  assertThat(artifactDownloadInfos).isNotNull().isNotEmpty().hasSize(3);
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getArtifactsByProjectVersionMetadataWithNoRepository() throws Exception {
  BrowseService browseService=getBrowseService(authorizationHeader,true);
  browseService.addMetadata("commons-cli","commons-cli","1.0","wine","bordeaux",TEST_REPO_ID);
  List<Artifact> artifactDownloadInfos=browseService.getArtifactsByProjectVersionMetadata("wine","bordeaux",null);
  assertThat(artifactDownloadInfos).isNotNull().isNotEmpty().hasSize(3);
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getArtifactsByMetadata() throws Exception {
  BrowseService browseService=getBrowseService(authorizationHeader,true);
  List<Artifact> artifactDownloadInfos=browseService.getArtifactsByMetadata("type","pom",TEST_REPO_ID);
  assertThat(artifactDownloadInfos).isNotNull().isNotEmpty().hasSize(11);
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void searchArtifactsByField() throws Exception {
  BrowseService browseService=getBrowseService(authorizationHeader,true);
  List<Artifact> artifactDownloadInfos=browseService.searchArtifacts("org.name","The Apache Software Foundation",TEST_REPO_ID,true);
  assertThat(artifactDownloadInfos).isNotNull().isNotEmpty().hasSize(7);
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getArtifactsByProperty() throws Exception {
  BrowseService browseService=getBrowseService(authorizationHeader,true);
  List<Artifact> artifactDownloadInfos=browseService.getArtifactsByProperty("org.name","The Apache Software Foundation",TEST_REPO_ID);
  assertThat(artifactDownloadInfos).isNotNull().isNotEmpty().hasSize(7);
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void versionsList() throws Exception {
  BrowseService browseService=getBrowseService(authorizationHeader,false);
  VersionsList versions=browseService.getVersionsList("org.apache.karaf.features","org.apache.karaf.features.core",TEST_REPO_ID);
  assertThat(versions).isNotNull();
  assertThat(versions.getVersions()).isNotNull().isNotEmpty().hasSize(2).contains("2.2.1","2.2.2");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.rest.services.MergeRepositoriesServiceTest </h4><pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getMergeConflictedArtifacts() throws Exception {
  MergeRepositoriesService service=getMergeRepositoriesService(authorizationHeader);
  List<Artifact> artifactMetadatas=service.getMergeConflictedArtifacts(TEST_REPOSITORY + "-stage",TEST_REPOSITORY);
  log.info("conflicts: {}",artifactMetadatas);
  assertThat(artifactMetadatas).isNotNull().isNotEmpty().hasSize(8);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.rest.services.RedbackRuntimeConfigurationServiceTest </h4><pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void usermanagersinformations() throws Exception {
  RedbackRuntimeConfigurationService service=getRedbackRuntimeConfigurationService();
  List<UserManagerImplementationInformation> infos=service.getUserManagerImplementationInformations();
  assertThat(infos).isNotNull().isNotEmpty().contains(new UserManagerImplementationInformation("jdo",null,false));
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void rbacmanagersinformations() throws Exception {
  RedbackRuntimeConfigurationService service=getRedbackRuntimeConfigurationService();
  List<RBACManagerImplementationInformation> infos=service.getRbacManagerImplementationInformations();
  assertThat(infos).isNotNull().isNotEmpty().contains(new RBACManagerImplementationInformation("jdo",null,false));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.rest.services.RepositoriesServiceTest </h4><pre class="type-3 type-5 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void deleteArtifact() throws Exception {
  initSourceTargetRepo();
  BrowseService browseService=getBrowseService(authorizationHeader,false);
  List<Artifact> artifacts=browseService.getArtifactDownloadInfos("org.apache.karaf.features","org.apache.karaf.features.core","2.2.2",SOURCE_REPO_ID);
  log.info("artifacts: {}",artifacts);
  assertThat(artifacts).isNotNull().isNotEmpty().hasSize(2);
  VersionsList versionsList=browseService.getVersionsList("org.apache.karaf.features","org.apache.karaf.features.core",SOURCE_REPO_ID);
  assertThat(versionsList.getVersions()).isNotNull().isNotEmpty().hasSize(2);
  log.info("artifacts.size: {}",artifacts.size());
  try {
    File artifactFile=new File("target/test-origin-repo/org/apache/karaf/features/org.apache.karaf.features.core/2.2.2/org.apache.karaf.features.core-2.2.2.jar");
    assertTrue("artifact not exists:" + artifactFile.getPath(),artifactFile.exists());
    Artifact artifact=new Artifact();
    artifact.setGroupId("org.apache.karaf.features");
    artifact.setArtifactId("org.apache.karaf.features.core");
    artifact.setVersion("2.2.2");
    artifact.setPackaging("jar");
    artifact.setContext(SOURCE_REPO_ID);
    RepositoriesService repositoriesService=getRepositoriesService(authorizationHeader);
    repositoriesService.deleteArtifact(artifact);
    assertFalse("artifact not deleted exists:" + artifactFile.getPath(),artifactFile.exists());
    artifacts=browseService.getArtifactDownloadInfos("org.apache.karaf.features","org.apache.karaf.features.core","2.2.2",SOURCE_REPO_ID);
    assertThat(artifacts).isNotNull().isEmpty();
    versionsList=browseService.getVersionsList("org.apache.karaf.features","org.apache.karaf.features.core",SOURCE_REPO_ID);
    assertThat(versionsList.getVersions()).isNotNull().isNotEmpty().hasSize(1);
  }
  finally {
    cleanRepos();
  }
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void deleteSnapshot() throws Exception {
  File targetRepo=initSnapshotRepo();
  try {
    RepositoriesService repositoriesService=getRepositoriesService(authorizationHeader);
    BrowseService browseService=getBrowseService(authorizationHeader,false);
    List<Artifact> artifacts=browseService.getArtifactDownloadInfos("org.apache.archiva.redback.components","spring-quartz","2.0-SNAPSHOT",SNAPSHOT_REPO_ID);
    log.info("artifacts: {}",artifacts);
    assertThat(artifacts).isNotNull().isNotEmpty().hasSize(10);
    File artifactFile=new File(targetRepo,"org/apache/archiva/redback/components/spring-quartz/2.0-SNAPSHOT/spring-quartz-2.0-20120618.214127-1.jar");
    File artifactFilemd5=new File(targetRepo,"org/apache/archiva/redback/components/spring-quartz/2.0-SNAPSHOT/spring-quartz-2.0-20120618.214127-1.jar.md5");
    File artifactFilepom=new File(targetRepo,"org/apache/archiva/redback/components/spring-quartz/2.0-SNAPSHOT/spring-quartz-2.0-20120618.214127-1.pom");
    assertThat(artifactFile).exists();
    assertThat(artifactFilemd5).exists();
    assertThat(artifactFilepom).exists();
    Artifact artifact=new Artifact("org.apache.archiva.redback.components","spring-quartz","2.0-20120618.214127-1");
    artifact.setPackaging("jar");
    artifact.setRepositoryId(SNAPSHOT_REPO_ID);
    artifact.setContext(SNAPSHOT_REPO_ID);
    repositoriesService.deleteArtifact(artifact);
    artifacts=browseService.getArtifactDownloadInfos("org.apache.archiva.redback.components","spring-quartz","2.0-SNAPSHOT",SNAPSHOT_REPO_ID);
    log.info("artifacts: {}",artifacts);
    assertThat(artifacts).isNotNull().isNotEmpty().hasSize(8);
    assertThat(artifactFile).doesNotExist();
    assertThat(artifactFilemd5).doesNotExist();
    assertThat(artifactFilepom).doesNotExist();
  }
 catch (  Exception e) {
    log.error(e.getMessage(),e);
    throw e;
  }
 finally {
    cleanSnapshotRepo();
  }
}

</code></pre>

<br>
<pre class="type-3 type-5 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void deleteArtifactWithClassifier() throws Exception {
  initSourceTargetRepo();
  BrowseService browseService=getBrowseService(authorizationHeader,false);
  List<Artifact> artifacts=browseService.getArtifactDownloadInfos("commons-logging","commons-logging","1.0.1",SOURCE_REPO_ID);
  assertThat(artifacts).isNotNull().isNotEmpty().hasSize(3);
  VersionsList versionsList=browseService.getVersionsList("commons-logging","commons-logging",SOURCE_REPO_ID);
  assertThat(versionsList.getVersions()).isNotNull().isNotEmpty().hasSize(6);
  log.info("artifacts.size: {}",artifacts.size());
  try {
    File artifactFile=new File("target/test-origin-repo/commons-logging/commons-logging/1.0.1/commons-logging-1.0.1-javadoc.jar");
    File artifactFilemd5=new File("target/test-origin-repo/commons-logging/commons-logging/1.0.1/commons-logging-1.0.1-javadoc.jar.md5");
    File artifactFilesha1=new File("target/test-origin-repo/commons-logging/commons-logging/1.0.1/commons-logging-1.0.1-javadoc.jar.sha1");
    assertTrue("artifact not exists:" + artifactFile.getPath(),artifactFile.exists());
    assertTrue("md5 not exists:" + artifactFilemd5.getPath(),artifactFilemd5.exists());
    assertTrue("sha1 not exists:" + artifactFilesha1.getPath(),artifactFilesha1.exists());
    Artifact artifact=new Artifact();
    artifact.setGroupId("commons-logging");
    artifact.setArtifactId("commons-logging");
    artifact.setVersion("1.0.1");
    artifact.setClassifier("javadoc");
    artifact.setPackaging("jar");
    artifact.setContext(SOURCE_REPO_ID);
    RepositoriesService repositoriesService=getRepositoriesService(authorizationHeader);
    repositoriesService.deleteArtifact(artifact);
    assertFalse("artifact not deleted exists:" + artifactFile.getPath(),artifactFile.exists());
    assertFalse("md5 still exists:" + artifactFilemd5.getPath(),artifactFilemd5.exists());
    assertFalse("sha1 still exists:" + artifactFilesha1.getPath(),artifactFilesha1.exists());
    artifacts=browseService.getArtifactDownloadInfos("commons-logging","commons-logging","1.0.1",SOURCE_REPO_ID);
    log.info("artifact: {}",artifacts);
    assertThat(artifacts).isNotNull().isNotEmpty().hasSize(2);
    versionsList=browseService.getVersionsList("commons-logging","commons-logging",SOURCE_REPO_ID);
    log.info("versionsList: {}",versionsList);
    assertThat(versionsList.getVersions()).isNotNull().isNotEmpty().hasSize(6);
  }
  finally {
    cleanRepos();
  }
}

</code></pre>

<br>
<pre class="type-3 type-5 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * delete a version of an artifact without packaging
 * @throws Exception
 */
@Test public void deleteArtifactVersion() throws Exception {
  initSourceTargetRepo();
  BrowseService browseService=getBrowseService(authorizationHeader,false);
  List<Artifact> artifacts=browseService.getArtifactDownloadInfos("org.apache.karaf.features","org.apache.karaf.features.core","2.2.2",SOURCE_REPO_ID);
  log.info("artifacts: {}",artifacts);
  assertThat(artifacts).isNotNull().isNotEmpty().hasSize(2);
  VersionsList versionsList=browseService.getVersionsList("org.apache.karaf.features","org.apache.karaf.features.core",SOURCE_REPO_ID);
  assertThat(versionsList.getVersions()).isNotNull().isNotEmpty().hasSize(2);
  log.info("artifacts.size: {}",artifacts.size());
  try {
    File artifactFile=new File("target/test-origin-repo/org/apache/karaf/features/org.apache.karaf.features.core/2.2.2/org.apache.karaf.features.core-2.2.2.jar");
    assertTrue("artifact not exists:" + artifactFile.getPath(),artifactFile.exists());
    Artifact artifact=new Artifact();
    artifact.setGroupId("org.apache.karaf.features");
    artifact.setArtifactId("org.apache.karaf.features.core");
    artifact.setVersion("2.2.2");
    artifact.setContext(SOURCE_REPO_ID);
    RepositoriesService repositoriesService=getRepositoriesService(authorizationHeader);
    repositoriesService.deleteArtifact(artifact);
    assertFalse("artifact not deleted exists:" + artifactFile.getPath(),artifactFile.exists());
    artifacts=browseService.getArtifactDownloadInfos("org.apache.karaf.features","org.apache.karaf.features.core","2.2.2",SOURCE_REPO_ID);
    assertThat(artifacts).isNotNull().isEmpty();
    versionsList=browseService.getVersionsList("org.apache.karaf.features","org.apache.karaf.features.core",SOURCE_REPO_ID);
    assertThat(versionsList.getVersions()).isNotNull().isNotEmpty().hasSize(1);
  }
  finally {
    cleanRepos();
  }
}

</code></pre>

<br>
<pre class="type-3 type-5 type-7 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void deleteGroupId() throws Exception {
  initSourceTargetRepo();
  try {
    BrowseService browseService=getBrowseService(authorizationHeader,false);
    BrowseResult browseResult=browseService.browseGroupId("org.apache.karaf.features",SOURCE_REPO_ID);
    assertNotNull(browseResult);
    log.info("browseResult: {}",browseResult);
    assertThat(browseResult.getBrowseResultEntries()).isNotNull().isNotEmpty().contains(new BrowseResultEntry("org.apache.karaf.features.org.apache.karaf.features.command",true),new BrowseResultEntry("org.apache.karaf.features.org.apache.karaf.features.core",true));
    File directory=new File("target/test-origin-repo/org/apache/karaf/features/org.apache.karaf.features.command");
    assertTrue("directory not exists",directory.exists());
    RepositoriesService repositoriesService=getRepositoriesService(authorizationHeader);
    repositoriesService.deleteGroupId("org.apache.karaf",SOURCE_REPO_ID);
    assertFalse("directory not exists",directory.exists());
    browseResult=browseService.browseGroupId("org.apache.karaf.features",SOURCE_REPO_ID);
    assertNotNull(browseResult);
    assertThat(browseResult.getBrowseResultEntries()).isNotNull().isEmpty();
    browseResult=browseService.browseGroupId("org.apache.karaf",SOURCE_REPO_ID);
    assertNotNull(browseResult);
    assertThat(browseResult.getBrowseResultEntries()).isNotNull().isEmpty();
    log.info("browseResult empty: {}",browseResult);
  }
  finally {
    cleanRepos();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.rest.services.SearchServiceTest </h4><pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
/** 
 * sha1 commons-logging 1.1 ba24d5de831911b684c92cd289ed5ff826271824
 */
@Test public void search_with_sha1() throws Exception {
  SearchService searchService=getSearchService(authorizationHeader);
  List<Artifact> artifacts=searchService.getArtifactByChecksum(new ChecksumSearch(null,"ba24d5de831911b684c92cd289ed5ff826271824"));
  Assertions.assertThat(artifacts).isNotNull().isNotEmpty().hasSize(1);
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
/** 
 * md5 commons-logging 1.1 6b62417e77b000a87de66ee3935edbf5
 */
@Test public void search_with_md5() throws Exception {
  SearchService searchService=getSearchService(authorizationHeader);
  List<Artifact> artifacts=searchService.getArtifactByChecksum(new ChecksumSearch(null,"6b62417e77b000a87de66ee3935edbf5"));
  Assertions.assertThat(artifacts).isNotNull().isNotEmpty().hasSize(1);
}

</code></pre>

<br>
<pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void searchWithSearchRequestBundleSymbolicNameTwoVersion() throws Exception {
  UiConfiguration uiConfiguration=new UiConfiguration();
  uiConfiguration.setApplicationUrl(null);
  getArchivaAdministrationService().setUiConfiguration(uiConfiguration);
  SearchService searchService=getSearchService(authorizationHeader);
  SearchRequest searchRequest=new SearchRequest();
  searchRequest.setBundleSymbolicName("org.apache.karaf.features.core");
  List<Artifact> artifacts=searchService.searchArtifacts(searchRequest);
  assertThat(artifacts).isNotNull().hasSize(2);
  for (  Artifact artifact : artifacts) {
    log.info("url: {}",artifact.getUrl());
    String version=artifact.getVersion();
    Assertions.assertThat(artifact.getUrl()).isEqualTo("http://localhost:" + port + "/repository/test-repo/org/apache/karaf/features/org.apache.karaf.features.core/"+ version+ "/org.apache.karaf.features.core-"+ version+ ".jar");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.rest.services.utils.ArtifactBuilderTest </h4><pre class="type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testBuildPom(){
  assertThat(builder.getExtensionFromFile(new File("/tmp/foo-1.0.pom"))).isEqualTo("pom");
}

</code></pre>

<br>
<pre class="type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testBuildR00(){
  assertThat(builder.getExtensionFromFile(new File("/tmp/foo-1.0.r00"))).isEqualTo("r00");
}

</code></pre>

<br>
<pre class="type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testBuildTarGz(){
  assertThat(builder.getExtensionFromFile(new File("/tmp/foo-1.0.tar.gz"))).isEqualTo("tar.gz");
}

</code></pre>

<br>
<pre class="type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testBuildPomZip(){
  assertThat(builder.getExtensionFromFile(new File("/tmp/foo-1.0.pom.zip"))).isEqualTo("pom.zip");
}

</code></pre>

<br>
<pre class="type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testBuildJar(){
  assertThat(builder.getExtensionFromFile(new File("/tmp/foo-1.0-sources.jar"))).isEqualTo("jar");
}

</code></pre>

<br>
<pre class="type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testBuildSnapshot(){
  assertThat(builder.getExtensionFromFile(new File("/tmp/foo-2.3-20141119.064321-40.jar"))).isEqualTo("jar");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.scheduler.indexing.DownloadRemoteIndexTaskTest </h4><pre class="type-5 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void downloadAndMergeRemoteIndexInEmptyIndex() throws Exception {
  RemoteRepository remoteRepository=getRemoteRepository();
  remoteRepositoryAdmin.addRemoteRepository(remoteRepository,null);
  downloadRemoteIndexScheduler.startup();
  downloadRemoteIndexScheduler.scheduleDownloadRemote("test-repo",true,true);
  ((ThreadPoolTaskScheduler)downloadRemoteIndexScheduler.getTaskScheduler()).getScheduledExecutor().awaitTermination(10,TimeUnit.SECONDS);
  remoteRepositoryAdmin.deleteRemoteRepository("test-repo",null);
  BooleanQuery iQuery=new BooleanQuery();
  iQuery.add(nexusIndexer.constructQuery(MAVEN.GROUP_ID,new StringSearchExpression("commons-logging")),BooleanClause.Occur.SHOULD);
  FlatSearchRequest rq=new FlatSearchRequest(iQuery);
  rq.setContexts(Arrays.asList(nexusIndexer.getIndexingContexts().get("remote-" + getRemoteRepository().getId())));
  FlatSearchResponse response=nexusIndexer.searchFlat(rq);
  log.info("returned hit count:{}",response.getReturnedHitsCount());
  assertThat(response.getReturnedHitsCount()).isEqualTo(8);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.web.test.WebDriverBrowseTest </h4><pre class="type-16 type-5 type-6 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void simpletest() throws Exception {
  Properties p=new Properties();
  p.load(this.getClass().getClassLoader().getResourceAsStream("test.properties"));
  Properties tomcatPortProperties=new Properties();
  tomcatPortProperties.load(new FileInputStream(new File(System.getProperty("tomcat.propertiesPortFilePath"))));
  int tomcatPort=Integer.parseInt(tomcatPortProperties.getProperty("tomcat.maven.http.port"));
  goTo("http://localhost:" + tomcatPort + "/archiva/index.html?request_lang=en");
  await().atMost(5,TimeUnit.SECONDS).until("#topbar-menu").isPresent();
  FluentList<FluentWebElement> elements=find("#create-admin-link-a");
  if (!elements.isEmpty() && elements.get(0).isDisplayed()) {
    WebElement webElement=elements.get(0).getElement();
    Assert.assertEquals("Create Admin User",webElement.getText());
    webElement.click();
    await().atMost(2,TimeUnit.SECONDS).until("#user-create").isPresent();
    assertThat(find("#username").getValue().equals("admin"));
    assertThat(find("#password").getValue().isEmpty());
    assertThat(find("#confirmPassword").getValue().isEmpty());
    assertThat(find("#email").getValue().isEmpty());
    fill("#fullname").with(p.getProperty("ADMIN_FULLNAME"));
    fill("#email").with(p.getProperty("ADMIN_EMAIL"));
    fill("#password").with(p.getProperty("ADMIN_PASSWORD"));
    fill("#confirmPassword").with(p.getProperty("ADMIN_PASSWORD"));
    find("#user-create-form-register-button").click();
    await().atMost(2,TimeUnit.SECONDS).until("#logout-link").isPresent();
    FluentList<FluentWebElement> elementss=find("#menu-find-browse-a");
    WebElement webElsement=elementss.get(0).getElement();
    webElsement.click();
    await().atMost(2,TimeUnit.SECONDS).until("#main_browse_result").isPresent();
    takeScreenShot("search.png");
    goTo("http://localhost:" + tomcatPort + "/archiva/index.html#browse?request_lang=en");
    takeScreenShot("browse.png");
  }
 else {
    elements=find("#login-link-a");
    WebElement webElement=elements.get(0).getElement();
    Assert.assertEquals("LOGIN",webElement.getText());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.webdav.RepositoryServletRepositoryGroupTest </h4><pre class="type-9 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testBrowseWithTwoArtifactsWithSameGroupIdInRepos() throws Exception {
  String resourceName="dummy/dummy-artifact/1.0/dummy-artifact-1.0.txt";
  File dummyInternalResourceFile=new File(repoRootFirst,resourceName);
  dummyInternalResourceFile.getParentFile().mkdirs();
  FileUtils.writeStringToFile(dummyInternalResourceFile,"first",Charset.defaultCharset());
  resourceName="dummy/dummy-artifact/2.0/dummy-artifact-2.0.txt";
  File dummyReleasesResourceFile=new File(repoRootLast,resourceName);
  dummyReleasesResourceFile.getParentFile().mkdirs();
  FileUtils.writeStringToFile(dummyReleasesResourceFile,"last",Charset.defaultCharset());
  WebRequest request=new GetMethodWebRequest("http://machine.com/repository/" + REPO_GROUP_WITH_VALID_REPOS + "/dummy/dummy-artifact/");
  WebResponse response=getServletUnitClient().getResource(request);
  assertResponseOK(response);
  assertThat(response.getContentAsString()).contains("Collection").contains("dummy/dummy-artifact").contains("1.0").contains("2.0");
}

</code></pre>

<br>
<pre class="type-9 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetFromLastManagedRepositoryReturnOk() throws Exception {
  String resourceName="dummy/dummy-last-resource/1.0/dummy-last-resource-1.0.txt";
  File dummyReleasesResourceFile=new File(repoRootLast,resourceName);
  dummyReleasesResourceFile.getParentFile().mkdirs();
  FileUtils.writeStringToFile(dummyReleasesResourceFile,"last",Charset.defaultCharset());
  WebRequest request=new GetMethodWebRequest("http://machine.com/repository/" + REPO_GROUP_WITH_VALID_REPOS + "/"+ resourceName);
  WebResponse response=getServletUnitClient().getResponse(request);
  assertResponseOK(response);
  assertThat(response.getContentAsString()).isEqualTo("last");
}

</code></pre>

<br>
<pre class="type-9 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetFromFirstManagedRepositoryReturnOk() throws Exception {
  String resourceName="dummy/dummy-first-resource/1.0/dummy-first-resource-1.0.txt";
  File dummyInternalResourceFile=new File(repoRootFirst,resourceName);
  dummyInternalResourceFile.getParentFile().mkdirs();
  FileUtils.writeStringToFile(dummyInternalResourceFile,"first",Charset.defaultCharset());
  WebRequest request=new GetMethodWebRequest("http://machine.com/repository/" + REPO_GROUP_WITH_VALID_REPOS + "/"+ resourceName);
  WebResponse response=getServletUnitClient().getResponse(request);
  assertResponseOK(response);
  assertThat(response.getContentAsString()).isEqualTo("first");
}

</code></pre>

<br>
<pre class="type-9 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetMergedMetadata() throws Exception {
  String resourceName="dummy/dummy-merged-metadata-resource/maven-metadata.xml";
  File dummyInternalResourceFile=new File(repoRootFirst,resourceName);
  dummyInternalResourceFile.getParentFile().mkdirs();
  FileUtils.writeStringToFile(dummyInternalResourceFile,"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n" + "<metadata>\n<groupId>dummy</groupId>\n<artifactId>dummy-merged-metadata-resource</artifactId>\n" + "<versioning>\n<latest>1.0</latest>\n<release>1.0</release>\n<versions>\n<version>1.0</version>\n"+ "<version>2.5</version>\n</versions>\n<lastUpdated>20080708095554</lastUpdated>\n</versioning>\n</metadata>",Charset.defaultCharset());
  resourceName="dummy/dummy-merged-metadata-resource/maven-metadata.xml";
  dummyInternalResourceFile=new File(repoRootLast,resourceName);
  dummyInternalResourceFile.getParentFile().mkdirs();
  FileUtils.writeStringToFile(dummyInternalResourceFile,"<?xml version=\"1.0\" encoding=\"UTF-8\"?>" + "<metadata><groupId>dummy</groupId><artifactId>dummy-merged-metadata-resource</artifactId>" + "<versioning><latest>2.0</latest><release>2.0</release><versions><version>1.0</version>"+ "<version>1.5</version><version>2.0</version></versions><lastUpdated>20080709095554</lastUpdated>"+ "</versioning></metadata>",Charset.defaultCharset());
  WebRequest request=new GetMethodWebRequest("http://machine.com/repository/" + REPO_GROUP_WITH_VALID_REPOS + "/dummy/"+ "dummy-merged-metadata-resource/maven-metadata.xml");
  WebResponse response=getServletUnitClient().getResource(request);
  File returnedMetadata=new File("target/test-classes/retrievedMetadataFile.xml");
  FileUtils.writeStringToFile(returnedMetadata,response.getContentAsString());
  ArchivaRepositoryMetadata metadata=MavenMetadataReader.read(returnedMetadata);
  assertResponseOK(response);
  assertThat(metadata.getAvailableVersions()).isNotNull().hasSize(4).contains("1.0","1.5","2.0","2.5");
  File checksumFileSha1=new File(repoRootFirst,resourceName + ".sha1");
  checksumFileSha1.getParentFile().mkdirs();
  FileUtils.writeStringToFile(checksumFileSha1,"3290853214d3687134",Charset.defaultCharset());
  File checksumFileMd5=new File(repoRootFirst,resourceName + ".md5");
  checksumFileMd5.getParentFile().mkdirs();
  FileUtils.writeStringToFile(checksumFileMd5,"98745897234eda12836423",Charset.defaultCharset());
  request=new GetMethodWebRequest("http://machine.com/repository/" + REPO_GROUP_WITH_VALID_REPOS + "/dummy/"+ "dummy-merged-metadata-resource/maven-metadata.xml.sha1");
  response=getServletUnitClient().getResource(request);
  assertResponseOK(response);
  assertThat(response.getContentAsString()).isEqualTo("add113b0d7f8c6adb92a5015a7a3701081edf998  maven-metadata-group-with-valid-repos.xml");
  request=new GetMethodWebRequest("http://machine.com/repository/" + REPO_GROUP_WITH_VALID_REPOS + "/dummy/"+ "dummy-merged-metadata-resource/maven-metadata.xml.md5");
  response=getServletUnitClient().getResource(request);
  assertResponseOK(response);
  assertThat(response.getContentAsString()).isEqualTo("5b85ea4aa5f52bb76760041a52f98de8  maven-metadata-group-with-valid-repos.xml");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.webdav.RepositoryServletTest </h4><pre class="type-9 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetRepositoryInvalidPathPassthroughMissing() throws Exception {
  String path=REQUEST_PATH + ".index/filecontent/foo.bar";
  WebRequest request=new GetMethodWebRequest(path);
  WebResponse response=getServletUnitClient().getResponse(request);
  assertResponseNotFound(response);
  assertThat(response.getContentAsString()).contains("Legacy Maven1 repository not supported anymore.");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.webdav.util.RepositoryPathUtilTest </h4><pre class="type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetRepositoryId(){
  String href="/path/to/my/resource";
  assertThat(RepositoryPathUtil.getRepositoryName(href)).isEqualTo("to");
  href="path/to/my/resource";
  assertThat(RepositoryPathUtil.getRepositoryName(href)).isEqualTo("to");
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
