<h3><span class=" glyphicon glyphicon-tag"/>&nbspBooleanVerifier</h3><kbd>Verifies boolean conditions</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.archiva.RuntimeInfoServiceTest </h4><pre class="type-3 type-5 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void runtimeInfoService() throws Exception {
  RuntimeInfoService service=JAXRSClientFactory.create(getBaseUrl() + "/" + getRestServicesPath()+ "/archivaUiServices/",RuntimeInfoService.class,Collections.singletonList(new JacksonJaxbJsonProvider()));
  ApplicationRuntimeInfo applicationRuntimeInfo=service.getApplicationRuntimeInfo("en");
  assertEquals(System.getProperty("expectedVersion"),applicationRuntimeInfo.getVersion());
  assertFalse(applicationRuntimeInfo.isJavascriptLog());
  assertTrue(applicationRuntimeInfo.isLogMissingI18n());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.admin.repository.ValidatorTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGenericValidator(){
  assertFalse("A repo location cannot contains space",GenericValidator.matchRegexp("/opt/ testme/",ManagedRepositoryAdmin.REPOSITORY_LOCATION_VALID_EXPRESSION));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.admin.repository.admin.ArchivaAdministrationTest </h4><pre class="type-3 type-5 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getAllLegacyPaths() throws Exception {
  assertNotNull(archivaAdministration.getLegacyArtifactPaths());
  assertFalse(archivaAdministration.getLegacyArtifactPaths().isEmpty());
  assertEquals(1,archivaAdministration.getLegacyArtifactPaths().size());
  log.info("all legacy paths {}",archivaAdministration.getLegacyArtifactPaths());
}

</code></pre>

<br>
<pre class="type-3 type-5 type-7 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void uiConfiguration() throws Exception {
  UiConfiguration oldUi=archivaAdministration.getUiConfiguration();
  assertNotNull(oldUi);
  assertFalse(oldUi.isDisableEasterEggs());
  assertTrue(oldUi.isAppletFindEnabled());
  assertTrue(oldUi.isShowFindArtifacts());
  assertFalse(oldUi.isDisableRegistration());
  UiConfiguration ui=archivaAdministration.getUiConfiguration();
  ui.setAppletFindEnabled(false);
  ui.setShowFindArtifacts(false);
  ui.setDisableEasterEggs(true);
  ui.setDisableRegistration(true);
  archivaAdministration.updateUiConfiguration(ui);
  ui=archivaAdministration.getUiConfiguration();
  assertTrue(ui.isDisableEasterEggs());
  assertFalse(ui.isAppletFindEnabled());
  assertFalse(ui.isShowFindArtifacts());
  assertTrue(ui.isDisableRegistration());
  archivaAdministration.updateUiConfiguration(oldUi);
}

</code></pre>

<br>
<pre class="type-3 type-5 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void knownContentConsumersTest() throws Exception {
  int initialSize=archivaAdministration.getKnownContentConsumers().size();
  archivaAdministration.addKnownContentConsumer("foo",getFakeAuditInformation());
  assertEquals(initialSize + 1,archivaAdministration.getKnownContentConsumers().size());
  assertTrue(archivaAdministration.getKnownContentConsumers().contains("foo"));
  archivaAdministration.addKnownContentConsumer("foo",getFakeAuditInformation());
  assertEquals(initialSize + 1,archivaAdministration.getKnownContentConsumers().size());
  assertTrue(archivaAdministration.getKnownContentConsumers().contains("foo"));
  archivaAdministration.removeKnownContentConsumer("foo",getFakeAuditInformation());
  assertEquals(initialSize,archivaAdministration.getKnownContentConsumers().size());
  assertFalse(archivaAdministration.getKnownContentConsumers().contains("foo"));
  assertEquals(2,mockAuditListener.getAuditEvents().size());
  assertEquals(AuditEvent.ENABLE_REPO_CONSUMER,mockAuditListener.getAuditEvents().get(0).getAction());
  assertEquals(AuditEvent.DISABLE_REPO_CONSUMER,mockAuditListener.getAuditEvents().get(1).getAction());
  mockAuditListener.clearEvents();
}

</code></pre>

<br>
<pre class="type-3 type-5 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void networkConfiguration() throws Exception {
  NetworkConfiguration networkConfiguration=archivaAdministration.getNetworkConfiguration();
  assertNotNull(networkConfiguration);
  assertTrue(networkConfiguration.isUsePooling());
  assertEquals(30,networkConfiguration.getMaxTotal());
  assertEquals(30,networkConfiguration.getMaxTotalPerHost());
}

</code></pre>

<br>
<pre class="type-3 type-5 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void invalidContentConsumersTest() throws Exception {
  int initialSize=archivaAdministration.getInvalidContentConsumers().size();
  archivaAdministration.addInvalidContentConsumer("foo",getFakeAuditInformation());
  assertEquals(initialSize + 1,archivaAdministration.getInvalidContentConsumers().size());
  assertTrue(archivaAdministration.getInvalidContentConsumers().contains("foo"));
  archivaAdministration.addInvalidContentConsumer("foo",getFakeAuditInformation());
  assertEquals(initialSize + 1,archivaAdministration.getInvalidContentConsumers().size());
  assertTrue(archivaAdministration.getInvalidContentConsumers().contains("foo"));
  archivaAdministration.removeInvalidContentConsumer("foo",getFakeAuditInformation());
  assertEquals(initialSize,archivaAdministration.getInvalidContentConsumers().size());
  assertFalse(archivaAdministration.getInvalidContentConsumers().contains("foo"));
  assertEquals(2,mockAuditListener.getAuditEvents().size());
  assertEquals(AuditEvent.ENABLE_REPO_CONSUMER,mockAuditListener.getAuditEvents().get(0).getAction());
  assertEquals(AuditEvent.DISABLE_REPO_CONSUMER,mockAuditListener.getAuditEvents().get(1).getAction());
  mockAuditListener.clearEvents();
}

</code></pre>

<br>
<pre class="type-3 type-5 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void addAndUpdateAndDeleteFileType() throws RepositoryAdminException {
  int initialSize=archivaAdministration.getFileTypes().size();
  FileType fileType=new FileType();
  fileType.setId("foo");
  fileType.setPatterns(Arrays.asList("bar","toto"));
  archivaAdministration.addFileType(fileType,getFakeAuditInformation());
  assertEquals(initialSize + 1,archivaAdministration.getFileTypes().size());
  archivaAdministration.addFileTypePattern("foo","zorro",getFakeAuditInformation());
  assertEquals(initialSize + 1,archivaAdministration.getFileTypes().size());
  assertEquals(3,archivaAdministration.getFileType("foo").getPatterns().size());
  assertTrue(archivaAdministration.getFileType("foo").getPatterns().contains("bar"));
  assertTrue(archivaAdministration.getFileType("foo").getPatterns().contains("toto"));
  assertTrue(archivaAdministration.getFileType("foo").getPatterns().contains("zorro"));
  archivaAdministration.removeFileTypePattern("foo","zorro",getFakeAuditInformation());
  assertEquals(initialSize + 1,archivaAdministration.getFileTypes().size());
  assertEquals(2,archivaAdministration.getFileType("foo").getPatterns().size());
  assertTrue(archivaAdministration.getFileType("foo").getPatterns().contains("bar"));
  assertTrue(archivaAdministration.getFileType("foo").getPatterns().contains("toto"));
  assertFalse(archivaAdministration.getFileType("foo").getPatterns().contains("zorro"));
  archivaAdministration.removeFileType("foo",getFakeAuditInformation());
  assertEquals(initialSize,archivaAdministration.getFileTypes().size());
  assertNull(archivaAdministration.getFileType("foo"));
  mockAuditListener.clearEvents();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.admin.repository.managed.ManagedRepositoryAdminTest </h4><pre class="type-9 type-3 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void addDeleteManagedRepoWithStaged() throws Exception {
  File repoDir=clearRepoLocation(repoLocation);
  mockAuditListener.clearEvents();
  List<ManagedRepository> repos=managedRepositoryAdmin.getManagedRepositories();
  assertNotNull(repos);
  int initialSize=repos.size();
  assertTrue(initialSize > 0);
  ManagedRepository repo=new ManagedRepository();
  repo.setId(repoId);
  repo.setName("test repo");
  repo.setLocation(repoLocation);
  repo.setCronExpression("0 0 * * * ?");
  managedRepositoryAdmin.addManagedRepository(repo,true,getFakeAuditInformation());
  repos=managedRepositoryAdmin.getManagedRepositories();
  assertNotNull(repos);
  assertEquals(initialSize + 2,repos.size());
  assertNotNull(managedRepositoryAdmin.getManagedRepository(repoId));
  assertTemplateRoleExists(repoId);
  assertTrue(repoDir.exists());
  assertNotNull(managedRepositoryAdmin.getManagedRepository(repoId + STAGE_REPO_ID_END));
  assertTemplateRoleExists(repoId + STAGE_REPO_ID_END);
  assertTrue(new File(repoLocation + STAGE_REPO_ID_END).exists());
  managedRepositoryAdmin.deleteManagedRepository(repoId,getFakeAuditInformation(),true);
  assertFalse(repoDir.exists());
  assertFalse(new File(repoLocation + STAGE_REPO_ID_END).exists());
  assertTemplateRoleNotExists(repoId + STAGE_REPO_ID_END);
  repos=managedRepositoryAdmin.getManagedRepositories();
  assertNotNull(repos);
  assertEquals(initialSize,repos.size());
  assertTemplateRoleNotExists(repoId);
  assertTemplateRoleNotExists(repoId + STAGE_REPO_ID_END);
  mockAuditListener.clearEvents();
}

</code></pre>

<br>
<pre class="type-9 type-3 type-5 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void addDeleteManagedRepo() throws Exception {
  mockAuditListener.clearEvents();
  File repoDir=clearRepoLocation(repoLocation);
  List<ManagedRepository> repos=managedRepositoryAdmin.getManagedRepositories();
  assertNotNull(repos);
  int initialSize=repos.size();
  assertTrue(initialSize > 0);
  ManagedRepository repo=new ManagedRepository();
  repo.setId(repoId);
  repo.setName("test repo");
  repo.setLocation(repoLocation);
  repo.setCronExpression("0 0 * * * ?");
  repo.setDescription("cool repo");
  managedRepositoryAdmin.addManagedRepository(repo,false,getFakeAuditInformation());
  repos=managedRepositoryAdmin.getManagedRepositories();
  assertNotNull(repos);
  assertEquals(initialSize + 1,repos.size());
  ManagedRepository managedRepository=managedRepositoryAdmin.getManagedRepository(repoId);
  assertNotNull(managedRepository);
  assertEquals("test repo",managedRepository.getName());
  assertEquals("cool repo",managedRepository.getDescription());
  assertTemplateRoleExists(repoId);
  managedRepositoryAdmin.deleteManagedRepository(repoId,getFakeAuditInformation(),false);
  assertTrue(repoDir.exists());
  repos=managedRepositoryAdmin.getManagedRepositories();
  assertNotNull(repos);
  assertEquals(initialSize,repos.size());
  assertTemplateRoleNotExists(repoId);
  assertEquals(2,mockAuditListener.getAuditEvents().size());
  assertAuditListenerCallAddAndDelete();
  mockAuditListener.clearEvents();
}

</code></pre>

<br>
<pre class="type-9 type-3 type-5 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void updateDeleteManagedRepoWithStagedRepo() throws Exception {
  String stageRepoLocation=APPSERVER_BASE_PATH + File.separator + repoId;
  File repoDir=clearRepoLocation(repoLocation);
  mockAuditListener.clearEvents();
  List<ManagedRepository> repos=managedRepositoryAdmin.getManagedRepositories();
  assertNotNull(repos);
  int initialSize=repos.size();
  assertTrue(initialSize > 0);
  ManagedRepository repo=getTestManagedRepository(repoId,repoLocation);
  managedRepositoryAdmin.addManagedRepository(repo,false,getFakeAuditInformation());
  assertTemplateRoleExists(repoId);
  assertFalse(new File(repoLocation + STAGE_REPO_ID_END).exists());
  assertTemplateRoleNotExists(repoId + STAGE_REPO_ID_END);
  repos=managedRepositoryAdmin.getManagedRepositories();
  assertNotNull(repos);
  assertEquals(initialSize + 1,repos.size());
  repo=managedRepositoryAdmin.getManagedRepository(repoId);
  assertEquals(getTestManagedRepository(repoId,repoLocation).getIndexDirectory(),repo.getIndexDirectory());
  String newName="test repo update";
  repo.setName(newName);
  repo.setLocation(repoLocation);
  managedRepositoryAdmin.updateManagedRepository(repo,true,getFakeAuditInformation(),false);
  repo=managedRepositoryAdmin.getManagedRepository(repoId);
  assertNotNull(repo);
  assertEquals(newName,repo.getName());
  assertEquals(new File(repoLocation).getCanonicalPath(),new File(repo.getLocation()).getCanonicalPath());
  assertTrue(new File(repoLocation).exists());
  assertEquals(getTestManagedRepository(repoId,repoLocation).getCronExpression(),repo.getCronExpression());
  assertEquals(getTestManagedRepository(repoId,repoLocation).getLayout(),repo.getLayout());
  assertEquals(getTestManagedRepository(repoId,repoLocation).getId(),repo.getId());
  assertEquals(getTestManagedRepository(repoId,repoLocation).getIndexDirectory(),repo.getIndexDirectory());
  assertEquals(getTestManagedRepository(repoId,repoLocation).getDaysOlder(),repo.getDaysOlder());
  assertEquals(getTestManagedRepository(repoId,repoLocation).getRetentionCount(),repo.getRetentionCount());
  assertEquals(getTestManagedRepository(repoId,repoLocation).isDeleteReleasedSnapshots(),repo.isDeleteReleasedSnapshots());
  assertTemplateRoleExists(repoId);
  assertTrue(new File(stageRepoLocation + STAGE_REPO_ID_END).exists());
  assertTemplateRoleExists(repoId + STAGE_REPO_ID_END);
  managedRepositoryAdmin.deleteManagedRepository(repo.getId(),getFakeAuditInformation(),false);
  assertTrue(repoDir.exists());
  assertTemplateRoleNotExists(repoId);
  assertTrue(new File(stageRepoLocation + STAGE_REPO_ID_END).exists());
  assertTemplateRoleNotExists(repoId + STAGE_REPO_ID_END);
  assertAuditListenerCallAndUpdateAddAndDelete(true);
  mockAuditListener.clearEvents();
  new File(repoLocation + STAGE_REPO_ID_END).delete();
  assertFalse(new File(repoLocation + STAGE_REPO_ID_END).exists());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-5 type-7 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getAllManagedRepos() throws Exception {
  mockAuditListener.clearEvents();
  List<ManagedRepository> repos=managedRepositoryAdmin.getManagedRepositories();
  assertNotNull(repos);
  assertTrue(repos.size() > 0);
  log.info("repos {}",repos);
  ManagedRepository internal=findManagedRepoById(repos,"internal");
  assertNotNull(internal);
  assertTrue(internal.isReleases());
  assertFalse(internal.isSnapshots());
  mockAuditListener.clearEvents();
}

</code></pre>

<br>
<pre class="type-9 type-3 type-5 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void updateDeleteManagedRepo() throws Exception {
  File repoDir=clearRepoLocation(repoLocation);
  mockAuditListener.clearEvents();
  List<ManagedRepository> repos=managedRepositoryAdmin.getManagedRepositories();
  assertNotNull(repos);
  int initialSize=repos.size();
  assertTrue(initialSize > 0);
  ManagedRepository repo=new ManagedRepository();
  repo.setId(repoId);
  repo.setName("test repo");
  repo.setLocation(repoLocation);
  repo.setCronExpression("0 0 * * * ?");
  managedRepositoryAdmin.addManagedRepository(repo,false,getFakeAuditInformation());
  assertTemplateRoleExists(repoId);
  repos=managedRepositoryAdmin.getManagedRepositories();
  assertNotNull(repos);
  assertEquals(initialSize + 1,repos.size());
  String newName="test repo update";
  repo.setName(newName);
  String description="so great repository";
  repo.setDescription(description);
  repo.setLocation(repoLocation);
  repo.setCronExpression("0 0 * * * ?");
  repo.setSkipPackedIndexCreation(true);
  managedRepositoryAdmin.updateManagedRepository(repo,false,getFakeAuditInformation(),false);
  repo=managedRepositoryAdmin.getManagedRepository(repoId);
  assertNotNull(repo);
  assertEquals(newName,repo.getName());
  assertEquals(new File(repoLocation).getCanonicalPath(),new File(repo.getLocation()).getCanonicalPath());
  assertTrue(new File(repoLocation).exists());
  assertEquals(description,repo.getDescription());
  assertTrue(repo.isSkipPackedIndexCreation());
  assertTemplateRoleExists(repoId);
  managedRepositoryAdmin.deleteManagedRepository(repo.getId(),getFakeAuditInformation(),false);
  assertTrue(repoDir.exists());
  assertTemplateRoleNotExists(repoId);
  assertAuditListenerCallAndUpdateAddAndDelete(false);
  mockAuditListener.clearEvents();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.admin.repository.proxyconnector.ProxyConnectorAdminTest </h4><pre class="type-3 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void addAndDelete() throws Exception {
  mockAuditListener.clearEvents();
  assertEquals("not proxyConnectors 1 " + proxyConnectorAdmin.getProxyConnectors(),1,proxyConnectorAdmin.getProxyConnectors().size());
  assertFalse(proxyConnectorAdmin.getProxyConnectors().isEmpty());
  ProxyConnector proxyConnector=new ProxyConnector();
  proxyConnector.setSourceRepoId("snapshots");
  proxyConnector.setTargetRepoId("central");
  proxyConnectorAdmin.addProxyConnector(proxyConnector,getFakeAuditInformation());
  assertFalse(proxyConnectorAdmin.getProxyConnectors().isEmpty());
  assertEquals(2,proxyConnectorAdmin.getProxyConnectors().size());
  assertNotNull(proxyConnectorAdmin.getProxyConnector("snapshots","central"));
  proxyConnectorAdmin.deleteProxyConnector(proxyConnector,getFakeAuditInformation());
  assertEquals(1,proxyConnectorAdmin.getProxyConnectors().size());
  assertFalse(proxyConnectorAdmin.getProxyConnectors().isEmpty());
  assertEquals(2,mockAuditListener.getAuditEvents().size());
  assertEquals(AuditEvent.ADD_PROXY_CONNECTOR,mockAuditListener.getAuditEvents().get(0).getAction());
  assertEquals("root",mockAuditListener.getAuditEvents().get(0).getUserId());
  assertEquals("archiva-localhost",mockAuditListener.getAuditEvents().get(0).getRemoteIP());
  assertEquals(AuditEvent.DELETE_PROXY_CONNECTOR,mockAuditListener.getAuditEvents().get(1).getAction());
  assertEquals("root",mockAuditListener.getAuditEvents().get(1).getUserId());
  assertNull(proxyConnectorAdmin.getProxyConnector("snapshots","central"));
  mockAuditListener.clearEvents();
}

</code></pre>

<br>
<pre class="type-3 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void updateProxyConnector() throws Exception {
  mockAuditListener.clearEvents();
  ProxyConnector proxyConnector=proxyConnectorAdmin.getProxyConnector("internal","central");
  assertNotNull(proxyConnector);
  proxyConnector.setDisabled(false);
  proxyConnectorAdmin.updateProxyConnector(proxyConnector,getFakeAuditInformation());
  proxyConnector=proxyConnectorAdmin.getProxyConnector("internal","central");
  assertFalse(proxyConnector.isDisabled());
  proxyConnector.setDisabled(true);
  proxyConnectorAdmin.updateProxyConnector(proxyConnector,getFakeAuditInformation());
  proxyConnector=proxyConnectorAdmin.getProxyConnector("internal","central");
  assertTrue(proxyConnector.isDisabled());
  proxyConnector.setOrder(4);
  proxyConnectorAdmin.updateProxyConnector(proxyConnector,getFakeAuditInformation());
  proxyConnector=proxyConnectorAdmin.getProxyConnector("internal","central");
  assertEquals(4,proxyConnector.getOrder());
  mockAuditListener.clearEvents();
}

</code></pre>

<br>
<pre class="type-3 type-5 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void addAndUpdateAndDelete() throws Exception {
  mockAuditListener.clearEvents();
  RemoteRepository remoteRepository=getRemoteRepository("test-new-one");
  remoteRepositoryAdmin.addRemoteRepository(remoteRepository,getFakeAuditInformation());
  assertEquals("not proxyConnectors 1 " + proxyConnectorAdmin.getProxyConnectors(),1,proxyConnectorAdmin.getProxyConnectors().size());
  assertFalse(proxyConnectorAdmin.getProxyConnectors().isEmpty());
  ProxyConnector proxyConnector=new ProxyConnector();
  proxyConnector.setSourceRepoId("snapshots");
  proxyConnector.setTargetRepoId("central");
  proxyConnector.setWhiteListPatterns(Arrays.asList("foo","bar"));
  proxyConnectorAdmin.addProxyConnector(proxyConnector,getFakeAuditInformation());
  assertFalse(proxyConnectorAdmin.getProxyConnectors().isEmpty());
  assertEquals(2,proxyConnectorAdmin.getProxyConnectors().size());
  assertNotNull(proxyConnectorAdmin.getProxyConnector("snapshots","central"));
  assertEquals(Arrays.asList("foo","bar"),proxyConnectorAdmin.getProxyConnector("snapshots","central").getWhiteListPatterns());
  proxyConnectorAdmin.deleteProxyConnector(proxyConnector,getFakeAuditInformation());
  proxyConnector.setTargetRepoId(remoteRepository.getId());
  proxyConnectorAdmin.addProxyConnector(proxyConnector,getFakeAuditInformation());
  assertNull(proxyConnectorAdmin.getProxyConnector("snapshots","central"));
  assertNotNull(remoteRepository.getId(),proxyConnectorAdmin.getProxyConnector("snapshots",remoteRepository.getId()));
  proxyConnectorAdmin.deleteProxyConnector(proxyConnector,getFakeAuditInformation());
  assertNull(proxyConnectorAdmin.getProxyConnector("snapshots","central"));
  assertEquals(1,proxyConnectorAdmin.getProxyConnectors().size());
  assertFalse(proxyConnectorAdmin.getProxyConnectors().isEmpty());
  assertEquals(5,mockAuditListener.getAuditEvents().size());
  assertEquals(AuditEvent.ADD_REMOTE_REPO,mockAuditListener.getAuditEvents().get(0).getAction());
  assertEquals(AuditEvent.ADD_PROXY_CONNECTOR,mockAuditListener.getAuditEvents().get(1).getAction());
  assertEquals("root",mockAuditListener.getAuditEvents().get(2).getUserId());
  assertEquals("archiva-localhost",mockAuditListener.getAuditEvents().get(2).getRemoteIP());
  assertEquals(AuditEvent.DELETE_PROXY_CONNECTOR,mockAuditListener.getAuditEvents().get(2).getAction());
  assertEquals(AuditEvent.ADD_PROXY_CONNECTOR,mockAuditListener.getAuditEvents().get(3).getAction());
  assertEquals(AuditEvent.DELETE_PROXY_CONNECTOR,mockAuditListener.getAuditEvents().get(4).getAction());
  assertEquals("root",mockAuditListener.getAuditEvents().get(4).getUserId());
  remoteRepositoryAdmin.deleteRemoteRepository(remoteRepository.getId(),getFakeAuditInformation());
  mockAuditListener.clearEvents();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.admin.repository.remote.RemoteRepositoryAdminTest </h4><pre class="type-3 type-7 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getAll() throws Exception {
  List<RemoteRepository> remoteRepositories=remoteRepositoryAdmin.getRemoteRepositories();
  assertNotNull(remoteRepositories);
  assertTrue(remoteRepositories.size() > 0);
  log.info("remote {}",remoteRepositories);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.audit.AuditManagerTest </h4><pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testGetMostRecentEventsWhenEmpty() throws Exception {
  EasyMock.expect(metadataRepository.getMetadataFacets(TEST_REPO_ID,AuditEvent.FACET_ID)).andReturn(Collections.<String>emptyList());
  metadataRepositoryControl.replay();
  assertTrue(auditManager.getMostRecentAuditEvents(metadataRepository,Collections.singletonList(TEST_REPO_ID)).isEmpty());
  metadataRepositoryControl.verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.checksum.ChecksummedFileTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsValidChecksumInvalidSha1Format() throws IOException {
  File jarFile=createTestableJar("examples/redback-authz-open.jar");
  File sha1File=new File(jarFile.getAbsolutePath() + ".sha1");
  FileUtils.writeStringToFile(sha1File,"sha1sum: redback-authz-open.jar: No such file or directory");
  ChecksummedFile checksummedFile=new ChecksummedFile(jarFile);
  assertFalse("ChecksummedFile.isValid(SHA1)",checksummedFile.isValidChecksum(ChecksumAlgorithm.SHA1));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-5 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateChecksum() throws IOException {
  File testableJar=createTestableJar("examples/redback-authz-open.jar");
  ChecksummedFile checksummedFile=new ChecksummedFile(testableJar);
  checksummedFile.createChecksum(ChecksumAlgorithm.SHA1);
  File hashFile=checksummedFile.getChecksumFile(ChecksumAlgorithm.SHA1);
  assertTrue("ChecksumAlgorithm file should exist.",hashFile.exists());
  String hashContents=FileUtils.readFileToString(hashFile);
  hashContents=StringUtils.trim(hashContents);
  assertEquals("2bb14b388973351b0a4dfe11d171965f59cc61a1  redback-authz-open.jar",hashContents);
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsValidChecksum() throws IOException {
  File jarFile=createTestableJar("examples/redback-authz-open.jar",true,false);
  ChecksummedFile checksummedFile=new ChecksummedFile(jarFile);
  assertTrue("ChecksummedFile.isValid(SHA1)",checksummedFile.isValidChecksum(ChecksumAlgorithm.SHA1));
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsValidChecksumSha1AndMd5() throws IOException {
  File jarFile=createTestableJar("examples/redback-authz-open.jar",true,true);
  ChecksummedFile checksummedFile=new ChecksummedFile(jarFile);
  assertTrue("ChecksummedFile.isValid(SHA1,MD5)",checksummedFile.isValidChecksums(new ChecksumAlgorithm[]{ChecksumAlgorithm.SHA1,ChecksumAlgorithm.MD5}));
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsValidChecksumSha1NoMd5() throws IOException {
  File jarFile=createTestableJar("examples/redback-authz-open.jar",true,false);
  ChecksummedFile checksummedFile=new ChecksummedFile(jarFile);
  assertTrue("ChecksummedFile.isValid(SHA1)",checksummedFile.isValidChecksums(new ChecksumAlgorithm[]{ChecksumAlgorithm.SHA1,ChecksumAlgorithm.MD5}));
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testFixChecksum() throws IOException {
  File jarFile=createTestableJar("examples/redback-authz-open.jar");
  File sha1File=new File(jarFile.getAbsolutePath() + ".sha1");
  FileUtils.writeStringToFile(sha1File,"sha1sum: redback-authz-open.jar: No such file or directory");
  ChecksummedFile checksummedFile=new ChecksummedFile(jarFile);
  assertFalse("ChecksummedFile.isValid(SHA1) == false",checksummedFile.isValidChecksum(ChecksumAlgorithm.SHA1));
  boolean fixed=checksummedFile.fixChecksums(new ChecksumAlgorithm[]{ChecksumAlgorithm.SHA1});
  assertTrue("ChecksummedFile.fixChecksums() == true",fixed);
  assertTrue("ChecksummedFile.isValid(SHA1) == true",checksummedFile.isValidChecksum(ChecksumAlgorithm.SHA1));
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsValidChecksumNoChecksumFiles() throws IOException {
  File jarFile=createTestableJar("examples/redback-authz-open.jar",false,false);
  ChecksummedFile checksummedFile=new ChecksummedFile(jarFile);
  assertFalse("ChecksummedFile.isValid(SHA1,MD5)",checksummedFile.isValidChecksums(new ChecksumAlgorithm[]{ChecksumAlgorithm.SHA1,ChecksumAlgorithm.MD5}));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.configuration.ArchivaConfigurationMRM789Test </h4><pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testGetConfigurationFromDefaultsWithDefaultRepoLocationAlreadyExisting() throws Exception {
  File repo=new File(FileUtil.getBasedir(),"target/test-classes/existing_snapshots");
  repo.mkdirs();
  repo=new File(FileUtil.getBasedir(),"target/test-classes/existing_internal");
  repo.mkdirs();
  String existingTestDefaultArchivaConfigFile=FileUtils.readFileToString(getTestFile("target/test-classes/org/apache/archiva/configuration/test-default-archiva.xml"));
  existingTestDefaultArchivaConfigFile=StringUtils.replace(existingTestDefaultArchivaConfigFile,"${appserver.base}",FileUtil.getBasedir());
  File generatedTestDefaultArchivaConfigFile=new File(FileUtil.getBasedir(),"target/test-classes/org/apache/archiva/configuration/default-archiva.xml");
  FileUtils.writeStringToFile(generatedTestDefaultArchivaConfigFile,existingTestDefaultArchivaConfigFile,Charset.forName("UTF-8"));
  ArchivaConfiguration archivaConfiguration=lookup(ArchivaConfiguration.class,"test-defaults-default-repo-location-exists");
  Configuration configuration=archivaConfiguration.getConfiguration();
  assertConfiguration(configuration,2,2,2);
  ManagedRepositoryConfiguration repository=configuration.getManagedRepositories().get(0);
  assertTrue("check managed repositories",repository.getLocation().endsWith("data/repositories/internal"));
  generatedTestDefaultArchivaConfigFile.delete();
  assertFalse(generatedTestDefaultArchivaConfigFile.exists());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.configuration.ArchivaConfigurationTest </h4><pre class="type-3 type-5 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetConfigurationFromRegistryWithTwoConfigurationResources() throws Exception {
  ArchivaConfiguration archivaConfiguration=lookup(ArchivaConfiguration.class,"test-configuration-both");
  Configuration configuration=archivaConfiguration.getConfiguration();
  assertEquals("check repositories",2,configuration.getManagedRepositories().size());
  assertEquals("check repositories",2,configuration.getRemoteRepositories().size());
  assertEquals("check proxy connectors",2,configuration.getProxyConnectors().size());
  WebappConfiguration webapp=configuration.getWebapp();
  assertNotNull("check webapp",webapp);
  UserInterfaceOptions ui=webapp.getUi();
  assertNotNull("check webapp ui",ui);
  assertFalse("check showFindArtifacts",ui.isShowFindArtifacts());
  assertFalse("check appletFindEnabled",ui.isAppletFindEnabled());
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testGetConfigurationSystemOverride() throws Exception {
  System.setProperty("org.apache.archiva.webapp.ui.appletFindEnabled","false");
  ArchivaConfiguration archivaConfiguration=lookup(ArchivaConfiguration.class,"test-configuration");
  archivaConfiguration.reload();
  try {
    Configuration configuration=archivaConfiguration.getConfiguration();
    assertFalse("check boolean",configuration.getWebapp().getUi().isAppletFindEnabled());
  }
  finally {
    System.getProperties().remove("org.apache.archiva.webapp.ui.appletFindEnabled");
    archivaConfiguration.reload();
    Configuration configuration=archivaConfiguration.getConfiguration();
    assertTrue("check boolean",configuration.getWebapp().getUi().isAppletFindEnabled());
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-5 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testArchivaV1() throws Exception {
  ArchivaConfiguration archivaConfiguration=lookup(ArchivaConfiguration.class,"test-archiva-v1");
  Configuration configuration=archivaConfiguration.getConfiguration();
  assertConfiguration(configuration,2,2,2);
  assertEquals("check network proxies",1,configuration.getNetworkProxies().size());
  assertEquals("check managed repositories",2,configuration.getManagedRepositories().size());
  assertEquals("check v1 repositories size.",0,configuration.getRepositories().size());
  Map<String,ManagedRepositoryConfiguration> map=configuration.getManagedRepositoriesAsMap();
  ManagedRepositoryConfiguration repository=map.get("internal");
  assertEquals("check managed repositories","${appserver.base}/repositories/internal",repository.getLocation());
  assertEquals("check managed repositories","Archiva Managed Internal Repository",repository.getName());
  assertEquals("check managed repositories","internal",repository.getId());
  assertEquals("check managed repositories","default",repository.getLayout());
  assertTrue("check managed repositories",repository.isScanned());
  assertFalse("check managed repositories",repository.isSnapshots());
  repository=map.get("snapshots");
  assertEquals("check managed repositories","${appserver.base}/repositories/snapshots",repository.getLocation());
  assertEquals("check managed repositories","Archiva Managed Snapshot Repository",repository.getName());
  assertEquals("check managed repositories","snapshots",repository.getId());
  assertEquals("check managed repositories","default",repository.getLayout());
  assertFalse("check managed repositories",repository.isScanned());
  assertTrue("check managed repositories",repository.isSnapshots());
}

</code></pre>

<br>
<pre class="type-3 type-5 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStoreConfigurationFailsWhenReadFromBothLocationsNoLists() throws Exception {
  File baseFile=getTestFile("target/test/test-file.xml");
  baseFile.delete();
  assertFalse(baseFile.exists());
  File userFile=getTestFile("target/test/test-file-user.xml");
  userFile.delete();
  assertFalse(userFile.exists());
  baseFile.getParentFile().mkdirs();
  FileUtils.writeStringToFile(baseFile,"<configuration/>",Charset.forName("UTF-8"));
  userFile.getParentFile().mkdirs();
  FileUtils.writeStringToFile(userFile,"<configuration/>",Charset.forName("UTF-8"));
  ArchivaConfiguration archivaConfiguration=lookup(ArchivaConfiguration.class,"test-save-user");
  archivaConfiguration.reload();
  Configuration configuration=archivaConfiguration.getConfiguration();
  assertTrue("check value",configuration.getWebapp().getUi().isAppletFindEnabled());
  configuration.getWebapp().getUi().setAppletFindEnabled(false);
  archivaConfiguration.save(configuration);
  assertTrue("Check file exists",baseFile.exists());
  assertEquals("Check base file is unchanged","<configuration/>",FileUtils.readFileToString(baseFile,Charset.forName("UTF-8")));
  assertTrue("Check file exists",userFile.exists());
  assertFalse("Check base file is changed","<configuration/>".equals(FileUtils.readFileToString(userFile,Charset.forName("UTF-8"))));
  configuration=archivaConfiguration.getConfiguration();
  assertFalse("check value",configuration.getWebapp().getUi().isAppletFindEnabled());
}

</code></pre>

<br>
<pre class="type-10 type-3 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStoreConfigurationFailsWhenReadFromBothLocationsAppserverHasLists() throws Exception {
  File baseFile=getTestFile("target/test/test-file.xml");
  baseFile.delete();
  assertFalse(baseFile.exists());
  File userFile=getTestFile("target/test/test-file-user.xml");
  userFile.delete();
  assertFalse(userFile.exists());
  baseFile.getParentFile().mkdirs();
  FileUtils.copyFile(getTestFile("src/test/conf/conf-base.xml"),baseFile);
  userFile.getParentFile().mkdirs();
  FileUtils.writeStringToFile(userFile,"<configuration/>",Charset.forName("UTF-8"));
  ArchivaConfiguration archivaConfiguration=lookup(ArchivaConfiguration.class,"test-save-user");
  archivaConfiguration.reload();
  Configuration configuration=archivaConfiguration.getConfiguration();
  assertTrue("check value",configuration.getWebapp().getUi().isAppletFindEnabled());
  configuration.getWebapp().getUi().setAppletFindEnabled(false);
  try {
    archivaConfiguration.save(configuration);
    fail("Configuration saving should not succeed if it was loaded from two locations");
  }
 catch (  IndeterminateConfigurationException e) {
    configuration=archivaConfiguration.getConfiguration();
    assertTrue("check value",configuration.getWebapp().getUi().isAppletFindEnabled());
  }
}

</code></pre>

<br>
<pre class="type-3 type-5 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAutoDetectV1() throws Exception {
  File userFile=getTestFile("target/test-autodetect-v1/archiva-user.xml");
  userFile.delete();
  assertFalse(userFile.exists());
  userFile.getParentFile().mkdirs();
  FileUtils.copyFile(getTestFile("src/test/conf/autodetect-v1.xml"),userFile);
  ArchivaConfiguration archivaConfiguration=lookup(ArchivaConfiguration.class,"test-autodetect-v1");
  archivaConfiguration.reload();
  Configuration configuration=archivaConfiguration.getConfiguration();
  assertConfiguration(configuration,2,2,2);
  assertEquals("check network proxies",1,configuration.getNetworkProxies().size());
  ManagedRepositoryConfiguration repository=configuration.getManagedRepositories().get(0);
  assertEquals("check managed repositories","${appserver.base}/repositories/internal",repository.getLocation());
  assertEquals("check managed repositories","Archiva Managed Internal Repository",repository.getName());
  assertEquals("check managed repositories","internal",repository.getId());
  assertEquals("check managed repositories","default",repository.getLayout());
  assertTrue("check managed repositories",repository.isScanned());
  assertEquals("check managed repositories size.",2,configuration.getManagedRepositories().size());
  assertEquals("check remote repositories size.",2,configuration.getRemoteRepositories().size());
  assertEquals("check v1 repositories size.",0,configuration.getRepositories().size());
  archivaConfiguration.save(configuration);
  archivaConfiguration=lookup(ArchivaConfiguration.class,"test-autodetect-v1");
  configuration=archivaConfiguration.getConfiguration();
  assertEquals("check managed repositories size.",2,configuration.getManagedRepositories().size());
  assertEquals("check managed repositories size.",2,configuration.getManagedRepositoriesAsMap().size());
  assertEquals("check remote repositories size.",2,configuration.getRemoteRepositories().size());
  assertEquals("check remote repositories size.",2,configuration.getRemoteRepositoriesAsMap().size());
  assertEquals("check v1 repositories size.",0,configuration.getRepositories().size());
  String actualXML=FileUtils.readFileToString(userFile,Charset.forName("UTF-8"));
  XMLAssert.assertXpathNotExists("//configuration/repositories/repository",actualXML);
  XMLAssert.assertXpathNotExists("//configuration/repositories",actualXML);
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testStoreConfigurationFallback() throws Exception {
  File baseFile=getTestFile("target/test/test-file.xml");
  baseFile.delete();
  assertFalse(baseFile.exists());
  File userFile=getTestFile("target/test/test-file-user.xml");
  userFile.delete();
  assertFalse(userFile.exists());
  baseFile.getParentFile().mkdirs();
  FileUtils.writeStringToFile(baseFile,"<configuration/>",Charset.forName("UTF-8"));
  ArchivaConfiguration archivaConfiguration=(ArchivaConfiguration)lookup(ArchivaConfiguration.class,"test-save-user-fallback");
  archivaConfiguration.reload();
  Configuration configuration=new Configuration();
  configuration.setWebapp(new WebappConfiguration());
  configuration.getWebapp().setUi(new UserInterfaceOptions());
  configuration.getWebapp().getUi().setAppletFindEnabled(false);
  archivaConfiguration.save(configuration);
  assertTrue("Check file exists",baseFile.exists());
  assertFalse("Check file not created",userFile.exists());
  configuration=archivaConfiguration.getConfiguration();
  assertFalse("check value",configuration.getWebapp().getUi().isAppletFindEnabled());
}

</code></pre>

<br>
<pre class="type-3 type-5 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetConfigurationFromDefaults() throws Exception {
  ArchivaConfiguration archivaConfiguration=lookup(ArchivaConfiguration.class,"test-defaults");
  Configuration configuration=archivaConfiguration.getConfiguration();
  assertConfiguration(configuration,2,1,1);
  assertEquals("check network proxies",0,configuration.getNetworkProxies().size());
  ManagedRepositoryConfiguration repository=configuration.getManagedRepositories().get(0);
  assertEquals("check managed repositories","${appserver.base}/repositories/internal",repository.getLocation());
  assertEquals("check managed repositories","Archiva Managed Internal Repository",repository.getName());
  assertEquals("check managed repositories","internal",repository.getId());
  assertEquals("check managed repositories","default",repository.getLayout());
  assertTrue("check managed repositories",repository.isScanned());
}

</code></pre>

<br>
<pre class="type-3 type-5 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConfigurationUpgradeFrom09() throws Exception {
  ArchivaConfiguration archivaConfiguration=lookup(ArchivaConfiguration.class,"test-upgrade-09");
  Configuration configuration=archivaConfiguration.getConfiguration();
  assertConfiguration(configuration,3,1,1);
  assertEquals("check network proxies",0,configuration.getNetworkProxies().size());
  ManagedRepositoryConfiguration repository=configuration.getManagedRepositories().get(0);
  assertEquals("check managed repositories","${appserver.base}/repositories/internal",repository.getLocation());
  assertEquals("check managed repositories","Archiva Managed Internal Repository",repository.getName());
  assertEquals("check managed repositories","internal",repository.getId());
  assertEquals("check managed repositories","default",repository.getLayout());
  assertTrue("check managed repositories",repository.isScanned());
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testStoreConfigurationLoadedFromDefaults() throws Exception {
  File baseFile=getTestFile("target/test/test-file.xml");
  baseFile.delete();
  assertFalse(baseFile.exists());
  File userFile=getTestFile("target/test/test-file-user.xml");
  userFile.delete();
  assertFalse(userFile.exists());
  ArchivaConfiguration archivaConfiguration=lookup(ArchivaConfiguration.class,"test-save-user-defaults");
  archivaConfiguration.reload();
  Configuration configuration=new Configuration();
  configuration.setWebapp(new WebappConfiguration());
  configuration.getWebapp().setUi(new UserInterfaceOptions());
  configuration.getWebapp().getUi().setAppletFindEnabled(false);
  ConfigurationListener listener=createConfigurationListenerMockControl();
  archivaConfiguration.addListener(listener);
  listener.configurationEvent(new ConfigurationEvent(ConfigurationEvent.SAVED));
  replay(listener);
  archivaConfiguration.save(configuration);
  verify(listener);
  assertTrue("Check file exists",userFile.exists());
  assertFalse("Check file not created",baseFile.exists());
  configuration=archivaConfiguration.getConfiguration();
  assertFalse("check value",configuration.getWebapp().getUi().isAppletFindEnabled());
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testStoreConfiguration() throws Exception {
  File file=getTestFile("target/test/test-file.xml");
  file.delete();
  assertFalse(file.exists());
  DefaultArchivaConfiguration archivaConfiguration=(DefaultArchivaConfiguration)lookup(ArchivaConfiguration.class,"test-save");
  archivaConfiguration.reload();
  Configuration configuration=new Configuration();
  configuration.setVersion("1");
  configuration.setWebapp(new WebappConfiguration());
  configuration.getWebapp().setUi(new UserInterfaceOptions());
  configuration.getWebapp().getUi().setAppletFindEnabled(false);
  ConfigurationListener listener=createMock(ConfigurationListener.class);
  archivaConfiguration.addListener(listener);
  listener.configurationEvent(new ConfigurationEvent(ConfigurationEvent.SAVED));
  replay(listener);
  archivaConfiguration.save(configuration);
  verify(listener);
  assertTrue("Check file exists",file.exists());
  configuration=archivaConfiguration.getConfiguration();
  assertFalse("check value",configuration.getWebapp().getUi().isAppletFindEnabled());
  archivaConfiguration=(DefaultArchivaConfiguration)lookup(ArchivaConfiguration.class,"test-read-saved");
  archivaConfiguration.reload();
  configuration=archivaConfiguration.getConfiguration();
  assertFalse("check value",configuration.getWebapp().getUi().isAppletFindEnabled());
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testStoreConfigurationUser() throws Exception {
  File baseFile=getTestFile("target/test/test-file.xml");
  baseFile.delete();
  assertFalse(baseFile.exists());
  File userFile=getTestFile("target/test/test-file-user.xml");
  userFile.delete();
  assertFalse(userFile.exists());
  userFile.getParentFile().mkdirs();
  FileUtils.writeStringToFile(userFile,"<configuration/>",Charset.forName("UTF-8"));
  ArchivaConfiguration archivaConfiguration=lookup(ArchivaConfiguration.class,"test-save-user");
  Configuration configuration=new Configuration();
  configuration.setWebapp(new WebappConfiguration());
  configuration.getWebapp().setUi(new UserInterfaceOptions());
  configuration.getWebapp().getUi().setAppletFindEnabled(false);
  archivaConfiguration.save(configuration);
  assertTrue("Check file exists",userFile.exists());
  assertFalse("Check file not created",baseFile.exists());
  configuration=archivaConfiguration.getConfiguration();
  assertFalse("check value",configuration.getWebapp().getUi().isAppletFindEnabled());
}

</code></pre>

<br>
<pre class="type-3 type-5 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCronExpressionsWithComma() throws Exception {
  File baseFile=getTestFile("target/test/test-file.xml");
  baseFile.delete();
  assertFalse(baseFile.exists());
  File userFile=getTestFile("target/test/test-file-user.xml");
  userFile.delete();
  assertFalse(userFile.exists());
  baseFile.getParentFile().mkdirs();
  FileUtils.copyFile(getTestFile("src/test/conf/escape-cron-expressions.xml"),baseFile);
  userFile.getParentFile().mkdirs();
  FileUtils.writeStringToFile(userFile,"<configuration/>",Charset.defaultCharset());
  final ArchivaConfiguration archivaConfiguration=lookup(ArchivaConfiguration.class,"test-cron-expressions");
  archivaConfiguration.reload();
  Configuration configuration=archivaConfiguration.getConfiguration();
  ManagedRepositoryConfiguration repository=configuration.getManagedRepositories().get(0);
  assertEquals("check cron expression","0 0,30 * * * ?",repository.getRefreshCronExpression().trim());
  archivaConfiguration.addListener(new ConfigurationListener(){
    @Override public void configurationEvent(    ConfigurationEvent event){
      assertEquals(ConfigurationEvent.SAVED,event.getType());
    }
  }
);
  archivaConfiguration.save(configuration);
  configuration=archivaConfiguration.getConfiguration();
  repository.setRefreshCronExpression("0 0,20 0 * * ?");
  archivaConfiguration.save(configuration);
  repository=archivaConfiguration.getConfiguration().findManagedRepositoryById("snapshots");
  assertEquals("check cron expression","0 0,20 0 * * ?",repository.getRefreshCronExpression());
}

</code></pre>

<br>
<pre class="type-3 type-5 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConfigurationUpgradeFrom13() throws Exception {
  ArchivaConfiguration archivaConfiguration=lookup(ArchivaConfiguration.class,"test-upgrade-1.3");
  Configuration configuration=archivaConfiguration.getConfiguration();
  assertConfiguration(configuration,2,2,2);
  assertEquals("check network proxies",0,configuration.getNetworkProxies().size());
  ManagedRepositoryConfiguration repository=configuration.getManagedRepositories().get(0);
  assertEquals("check managed repositories","${appserver.base}/data/repositories/internal",repository.getLocation());
  assertEquals("check managed repositories","Archiva Managed Internal Repository",repository.getName());
  assertEquals("check managed repositories","internal",repository.getId());
  assertEquals("check managed repositories","default",repository.getLayout());
  assertTrue("check managed repositories",repository.isScanned());
  log.info("knowContentConsumers {}",configuration.getRepositoryScanning().getKnownContentConsumers());
  assertFalse(configuration.getRepositoryScanning().getKnownContentConsumers().contains("update-db-artifact"));
  assertFalse(configuration.getRepositoryScanning().getKnownContentConsumers().contains("update-db-repository-metadata"));
  assertTrue(configuration.getRepositoryScanning().getKnownContentConsumers().contains("create-archiva-metadata"));
  assertTrue(configuration.getRepositoryScanning().getKnownContentConsumers().contains("duplicate-artifacts"));
}

</code></pre>

<br>
<pre class="type-3 type-5 type-7 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRemoveLastElements() throws Exception {
  File baseFile=getTestFile("target/test/test-file.xml");
  baseFile.delete();
  assertFalse(baseFile.exists());
  File userFile=getTestFile("target/test/test-file-user.xml");
  userFile.delete();
  assertFalse(userFile.exists());
  baseFile.getParentFile().mkdirs();
  FileUtils.copyFile(getTestFile("src/test/conf/conf-single-list-elements.xml"),baseFile);
  userFile.getParentFile().mkdirs();
  FileUtils.writeStringToFile(userFile,"<configuration/>",Charset.forName("UTF-8"));
  ArchivaConfiguration archivaConfiguration=lookup(ArchivaConfiguration.class,"test-remove-central");
  archivaConfiguration.reload();
  Configuration configuration=archivaConfiguration.getConfiguration();
  RepositoryGroupConfiguration repositoryGroup=configuration.getRepositoryGroups().get(0);
  assertNotNull(repositoryGroup);
  configuration.removeRepositoryGroup(repositoryGroup);
  assertTrue(configuration.getRepositoryGroups().isEmpty());
  RemoteRepositoryConfiguration repository=configuration.getRemoteRepositoriesAsMap().get("central");
  assertNotNull(repository);
  configuration.removeRemoteRepository(repository);
  assertTrue(configuration.getRemoteRepositories().isEmpty());
  ManagedRepositoryConfiguration managedRepository=configuration.getManagedRepositoriesAsMap().get("snapshots");
  assertNotNull(managedRepository);
  configuration.removeManagedRepository(managedRepository);
  assertTrue(configuration.getManagedRepositories().isEmpty());
  ProxyConnectorConfiguration proxyConnector=configuration.getProxyConnectors().get(0);
  assertNotNull(proxyConnector);
  configuration.removeProxyConnector(proxyConnector);
  assertTrue(configuration.getProxyConnectors().isEmpty());
  NetworkProxyConfiguration networkProxy=configuration.getNetworkProxiesAsMap().get("proxy");
  assertNotNull(networkProxy);
  configuration.removeNetworkProxy(networkProxy);
  assertTrue(configuration.getNetworkProxies().isEmpty());
  LegacyArtifactPath path=configuration.getLegacyArtifactPaths().get(0);
  assertNotNull(path);
  configuration.removeLegacyArtifactPath(path);
  assertTrue(configuration.getLegacyArtifactPaths().isEmpty());
  RepositoryScanningConfiguration scanning=configuration.getRepositoryScanning();
  String consumer=scanning.getKnownContentConsumers().get(0);
  assertNotNull(consumer);
  scanning.removeKnownContentConsumer(consumer);
  assertFalse(scanning.getKnownContentConsumers().isEmpty());
  consumer=scanning.getInvalidContentConsumers().get(0);
  assertNotNull(consumer);
  scanning.removeInvalidContentConsumer(consumer);
  assertTrue(scanning.getInvalidContentConsumers().isEmpty());
  archivaConfiguration.save(configuration);
  archivaConfiguration=lookup(ArchivaConfiguration.class,"test-read-saved");
  configuration=archivaConfiguration.getConfiguration();
  assertNull(configuration.getRemoteRepositoriesAsMap().get("central"));
  assertTrue(configuration.getRepositoryGroups().isEmpty());
  assertNull(configuration.getManagedRepositoriesAsMap().get("snapshots"));
  assertTrue(configuration.getProxyConnectors().isEmpty());
  assertNull(configuration.getNetworkProxiesAsMap().get("proxy"));
  assertTrue(configuration.getLegacyArtifactPaths().isEmpty());
  scanning=configuration.getRepositoryScanning();
  assertFalse(scanning.getKnownContentConsumers().isEmpty());
  assertTrue(scanning.getInvalidContentConsumers().isEmpty());
}

</code></pre>

<br>
<pre class="type-3 type-5 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStoreConfigurationFailsWhenReadFromBothLocationsUserHasLists() throws Exception {
  File baseFile=getTestFile("target/test/test-file.xml");
  baseFile.delete();
  assertFalse(baseFile.exists());
  File userFile=getTestFile("target/test/test-file-user.xml");
  userFile.delete();
  assertFalse(userFile.exists());
  userFile.getParentFile().mkdirs();
  FileUtils.copyFile(getTestFile("src/test/conf/conf-user.xml"),userFile);
  baseFile.getParentFile().mkdirs();
  FileUtils.writeStringToFile(baseFile,"<configuration/>",Charset.forName("UTF-8"));
  ArchivaConfiguration archivaConfiguration=lookup(ArchivaConfiguration.class,"test-save-user");
  archivaConfiguration.reload();
  Configuration configuration=archivaConfiguration.getConfiguration();
  assertTrue("check value",configuration.getWebapp().getUi().isShowFindArtifacts());
  configuration.getWebapp().getUi().setShowFindArtifacts(false);
  archivaConfiguration.save(configuration);
  assertTrue("Check file exists",baseFile.exists());
  assertEquals("Check base file is unchanged","<configuration/>",FileUtils.readFileToString(baseFile,Charset.forName("UTF-8")));
  assertTrue("Check file exists",userFile.exists());
  assertFalse("Check base file is changed","<configuration/>".equals(FileUtils.readFileToString(userFile,Charset.forName("UTF-8"))));
  configuration=archivaConfiguration.getConfiguration();
  assertFalse("check value",configuration.getWebapp().getUi().isShowFindArtifacts());
}

</code></pre>

<br>
<pre class="type-3 type-5 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetConfigurationFromRegistryWithASingleNamedConfigurationResource() throws Exception {
  ArchivaConfiguration archivaConfiguration=lookup(ArchivaConfiguration.class,"test-configuration");
  Configuration configuration=archivaConfiguration.getConfiguration();
  assertConfiguration(configuration,2,2,2);
  assertEquals("check network proxies",1,configuration.getNetworkProxies().size());
  ManagedRepositoryConfiguration repository=configuration.getManagedRepositories().get(0);
  assertEquals("check managed repositories","${appserver.base}/repositories/internal",repository.getLocation());
  assertEquals("check managed repositories","Archiva Managed Internal Repository",repository.getName());
  assertEquals("check managed repositories","internal",repository.getId());
  assertEquals("check managed repositories","default",repository.getLayout());
  assertTrue("check managed repositories",repository.isScanned());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.configuration.ConfigurationTest </h4><pre class="type-3 type-5 type-7 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testManagedRepositoryRetrievalWhenEmpty(){
  Map<String,ManagedRepositoryConfiguration> map=configuration.getManagedRepositoriesAsMap();
  assertNotNull(map);
  assertTrue(map.isEmpty());
  assertNull(configuration.findManagedRepositoryById("id"));
}

</code></pre>

<br>
<pre class="type-3 type-5 type-7 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNetworkProxyRetrievalWhenEmpty(){
  Map<String,NetworkProxyConfiguration> map=configuration.getNetworkProxiesAsMap();
  assertNotNull(map);
  assertTrue(map.isEmpty());
}

</code></pre>

<br>
<pre class="type-3 type-5 type-7 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRemoteRepositoryRetrievalWhenEmpty(){
  Map<String,RemoteRepositoryConfiguration> map=configuration.getRemoteRepositoriesAsMap();
  assertNotNull(map);
  assertTrue(map.isEmpty());
  assertNull(configuration.findRemoteRepositoryById("id"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.configuration.FileTypesTest </h4><pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsArtifact(){
  assertTrue(filetypes.matchesArtifactPattern("test.maven-arch/poms/test-arch-2.0.3-SNAPSHOT.pom"));
  assertTrue(filetypes.matchesArtifactPattern("test/maven-arch/test-arch/2.0.3-SNAPSHOT/test-arch-2.0.3-SNAPSHOT.jar"));
  assertTrue(filetypes.matchesArtifactPattern("org/apache/derby/derby/10.2.2.0/derby-10.2.2.0-bin.tar.gz"));
  assertFalse(filetypes.matchesArtifactPattern("org/apache/derby/derby/10.2.2.0/derby-10.2.2.0-bin.tar.gz.sha1"));
  assertFalse(filetypes.matchesArtifactPattern("org/apache/derby/derby/10.2.2.0/derby-10.2.2.0-bin.tar.gz.md5"));
  assertFalse(filetypes.matchesArtifactPattern("org/apache/derby/derby/10.2.2.0/derby-10.2.2.0-bin.tar.gz.asc"));
  assertFalse(filetypes.matchesArtifactPattern("org/apache/derby/derby/10.2.2.0/derby-10.2.2.0-bin.tar.gz.pgp"));
  assertFalse(filetypes.matchesArtifactPattern("org/apache/derby/derby/10.2.2.0/maven-metadata.xml"));
  assertFalse(filetypes.matchesArtifactPattern("org/apache/derby/derby/maven-metadata.xml"));
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testDefaultExclusions(){
  assertTrue(filetypes.matchesDefaultExclusions("repository/test/.index/nexus-maven-repository-index.gz"));
  assertTrue(filetypes.matchesDefaultExclusions("repository/test/.index/nexus-maven-repository-index.zip"));
  assertTrue(filetypes.matchesDefaultExclusions("repository/test/org/apache/derby/derby/10.2.2.0/derby-10.2.2.0-bin.tar.gz.sha1"));
  assertTrue(filetypes.matchesDefaultExclusions("repository/test/org/apache/derby/derby/10.2.2.0/derby-10.2.2.0-bin.tar.gz.md5"));
  assertTrue(filetypes.matchesDefaultExclusions("repository/test/org/apache/derby/derby/10.2.2.0/maven-metadata.xml"));
  assertTrue(filetypes.matchesDefaultExclusions("repository/test/org/apache/derby/derby/10.2.2.0/maven-metadata.xml.sha1"));
  assertTrue(filetypes.matchesDefaultExclusions("repository/test/org/apache/derby/derby/10.2.2.0/maven-metadata.xml.md5"));
  assertFalse(filetypes.matchesDefaultExclusions("repository/test/org/apache/derby/derby/10.2.2.0/derby-10.2.2.0-bin.zip"));
  assertFalse(filetypes.matchesDefaultExclusions("repository/test/org/apache/derby/derby/10.2.2.0/derby-10.2.2.0-bin.tar.gz"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.consumers.core.AbstractArtifactConsumerTest </h4><pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testConsumption(){
  File localFile=new File(repoLocation,"org/apache/maven/plugins/maven-plugin-plugin/2.4.1/maven-metadata.xml");
  ConsumerWantsFilePredicate predicate=new ConsumerWantsFilePredicate();
  BaseFile baseFile=new BaseFile(repoLocation,localFile);
  predicate.setBasefile(baseFile);
  assertFalse(predicate.evaluate(consumer));
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testConsumptionOfOtherMetadata(){
  File localFile=new File(repoLocation,"org/apache/maven/plugins/maven-plugin-plugin/2.4.1/maven-metadata-central.xml");
  ConsumerWantsFilePredicate predicate=new ConsumerWantsFilePredicate();
  BaseFile baseFile=new BaseFile(repoLocation,localFile);
  predicate.setBasefile(baseFile);
  assertFalse(predicate.evaluate(consumer));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.consumers.lucene.NexusIndexerConsumerTest </h4><pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIndexerIndexArtifactThenPom() throws Exception {
  File artifactFile=new File(repositoryConfig.getLocation(),"org/apache/archiva/archiva-index-methods-jar-test/1.0/archiva-index-methods-jar-test-1.0.jar");
  Date now=Calendar.getInstance().getTime();
  nexusIndexerConsumer.beginScan(repositoryConfig,now);
  nexusIndexerConsumer.processFile("org/apache/archiva/archiva-index-methods-jar-test/1.0/archiva-index-methods-jar-test-1.0.jar");
  nexusIndexerConsumer.completeScan();
  assertTrue(scheduler.indexed.contains(artifactFile));
  artifactFile=new File(repositoryConfig.getLocation(),"org/apache/archiva/archiva-index-methods-jar-test/1.0/pom.xml");
  now=Calendar.getInstance().getTime();
  nexusIndexerConsumer.beginScan(repositoryConfig,now);
  nexusIndexerConsumer.processFile("org/apache/archiva/archiva-index-methods-jar-test/1.0/pom.xml");
  nexusIndexerConsumer.completeScan();
  assertTrue(scheduler.indexed.contains(artifactFile));
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIndexerArtifactAlreadyIndexed() throws Exception {
  File artifactFile=new File(repositoryConfig.getLocation(),"org/apache/archiva/archiva-index-methods-jar-test/1.0/archiva-index-methods-jar-test-1.0.jar");
  Date now=Calendar.getInstance().getTime();
  nexusIndexerConsumer.beginScan(repositoryConfig,now);
  nexusIndexerConsumer.processFile("org/apache/archiva/archiva-index-methods-jar-test/1.0/archiva-index-methods-jar-test-1.0.jar");
  nexusIndexerConsumer.completeScan();
  assertTrue(scheduler.indexed.contains(artifactFile));
  now=Calendar.getInstance().getTime();
  nexusIndexerConsumer.beginScan(repositoryConfig,now);
  nexusIndexerConsumer.processFile("org/apache/archiva/archiva-index-methods-jar-test/1.0/archiva-index-methods-jar-test-1.0.jar");
  nexusIndexerConsumer.completeScan();
  assertTrue(scheduler.indexed.contains(artifactFile));
}

</code></pre>

<br>
<pre class="type-11 type-3 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Override @After public void tearDown() throws Exception {
  File indexDir=new File(repositoryConfig.getLocation(),".indexer");
  FileUtils.deleteDirectory(indexDir);
  assertFalse(indexDir.exists());
  indexDir=new File(repositoryConfig.getLocation(),".index");
  FileUtils.deleteDirectory(indexDir);
  assertFalse(indexDir.exists());
  super.tearDown();
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIncludedFileTypes() throws Exception {
  List<String> includes=nexusIndexerConsumer.getIncludes();
  assertTrue(".pom artifacts should be processed.",includes.contains("**/*.pom"));
  assertTrue(".xml artifacts should be processed.",includes.contains("**/*.xml"));
  assertTrue(".txt artifacts should be processed.",includes.contains("**/*.txt"));
  assertTrue(".jar artifacts should be processed.",includes.contains("**/*.jar"));
  assertTrue(".war artifacts should be processed.",includes.contains("**/*.war"));
  assertTrue(".zip artifacts should be processed.",includes.contains("**/*.zip"));
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIndexerIndexArtifact() throws Exception {
  File artifactFile=new File(repositoryConfig.getLocation(),"org/apache/archiva/archiva-index-methods-jar-test/1.0/archiva-index-methods-jar-test-1.0.jar");
  Date now=Calendar.getInstance().getTime();
  nexusIndexerConsumer.beginScan(repositoryConfig,now);
  nexusIndexerConsumer.processFile("org/apache/archiva/archiva-index-methods-jar-test/1.0/archiva-index-methods-jar-test-1.0.jar");
  nexusIndexerConsumer.completeScan();
  assertTrue(scheduler.indexed.contains(artifactFile));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.converter.artifact.LegacyToDefaultConverterTest </h4><pre class="type-9 type-3 type-5 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testModifedArtifactFails() throws Exception {
  Artifact artifact=createArtifact("test","modified-artifact","1.0.0");
  Artifact pomArtifact=createPomArtifact(artifact);
  File sourceFile=new File(sourceRepository.getBasedir(),sourceRepository.pathOf(artifact));
  File sourcePomFile=new File(sourceRepository.getBasedir(),sourceRepository.pathOf(pomArtifact));
  File targetFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  File targetPomFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(pomArtifact));
  assertTrue("Check target file exists",targetFile.exists());
  assertTrue("Check target POM exists",targetPomFile.exists());
  sourceFile.setLastModified(System.currentTimeMillis());
  sourcePomFile.setLastModified(System.currentTimeMillis());
  long origTime=targetFile.lastModified();
  long origPomTime=targetPomFile.lastModified();
  Thread.sleep(SLEEP_MILLIS);
  artifactConverter.convert(artifact,targetRepository);
  checkWarnings(artifactConverter,2);
  assertHasWarningReason(artifactConverter,Messages.getString("failure.target.already.exists"));
  assertEquals("Check unmodified",origTime,targetFile.lastModified());
  assertEquals("Check unmodified",origPomTime,targetPomFile.lastModified());
  ArtifactRepositoryMetadata metadata=new ArtifactRepositoryMetadata(artifact);
  File metadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(metadata));
  assertFalse("Check metadata not created",metadataFile.exists());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testV3SnapshotPomConvert() throws Exception {
  Artifact artifact=createArtifact("test","v3artifact","1.0.0-SNAPSHOT");
  ArtifactMetadata artifactMetadata=new ArtifactRepositoryMetadata(artifact);
  File artifactMetadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(artifactMetadata));
  artifactMetadataFile.delete();
  ArtifactMetadata snapshotMetadata=new SnapshotArtifactRepositoryMetadata(artifact);
  File snapshotMetadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(snapshotMetadata));
  snapshotMetadataFile.delete();
  artifactConverter.convert(artifact,targetRepository);
  checkSuccess(artifactConverter);
  File artifactFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  assertTrue("Check artifact created",artifactFile.exists());
  assertTrue("Check artifact matches",FileUtils.contentEquals(artifactFile,artifact.getFile()));
  artifact=createPomArtifact(artifact);
  File pomFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  File expectedPomFile=getTestFile("src/test/expected-files/converted-v3-snapshot.pom");
  assertTrue("Check POM created",pomFile.exists());
  compareFiles(expectedPomFile,pomFile);
  assertTrue("Check artifact metadata created",artifactMetadataFile.exists());
  File expectedMetadataFile=getTestFile("src/test/expected-files/v3-snapshot-artifact-metadata.xml");
  compareFiles(expectedMetadataFile,artifactMetadataFile);
  assertTrue("Check snapshot metadata created",snapshotMetadataFile.exists());
  expectedMetadataFile=getTestFile("src/test/expected-files/v3-snapshot-metadata.xml");
  compareFiles(expectedMetadataFile,snapshotMetadataFile);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-5 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDryRunFailure() throws Exception {
  artifactConverter=applicationContext.getBean("artifactConverter#dryrun-repository-converter",ArtifactConverter.class);
  Artifact artifact=createArtifact("test","modified-artifact","1.0.0");
  Artifact pomArtifact=createPomArtifact(artifact);
  File sourceFile=new File(sourceRepository.getBasedir(),sourceRepository.pathOf(artifact));
  File sourcePomFile=new File(sourceRepository.getBasedir(),sourceRepository.pathOf(pomArtifact));
  File targetFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  File targetPomFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(pomArtifact));
  assertTrue("Check target file exists",targetFile.exists());
  assertTrue("Check target POM exists",targetPomFile.exists());
  sourceFile.setLastModified(System.currentTimeMillis());
  sourcePomFile.setLastModified(System.currentTimeMillis());
  long origTime=targetFile.lastModified();
  long origPomTime=targetPomFile.lastModified();
  Thread.sleep(SLEEP_MILLIS);
  artifactConverter.clearWarnings();
  artifactConverter.convert(artifact,targetRepository);
  checkWarnings(artifactConverter,2);
  assertHasWarningReason(artifactConverter,Messages.getString("failure.target.already.exists"));
  assertEquals("Check unmodified",origTime,targetFile.lastModified());
  assertEquals("Check unmodified",origPomTime,targetPomFile.lastModified());
  ArtifactRepositoryMetadata metadata=new ArtifactRepositoryMetadata(artifact);
  File metadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(metadata));
  assertFalse("Check metadata not created",metadataFile.exists());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testDryRunSuccess() throws Exception {
  artifactConverter=applicationContext.getBean("artifactConverter#dryrun-repository-converter",ArtifactConverter.class);
  Artifact artifact=createArtifact("test","dryrun-artifact","1.0.0");
  Artifact pomArtifact=createPomArtifact(artifact);
  File sourceFile=new File(sourceRepository.getBasedir(),sourceRepository.pathOf(artifact));
  File sourcePomFile=new File(sourceRepository.getBasedir(),sourceRepository.pathOf(pomArtifact));
  File targetFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  File targetPomFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(pomArtifact));
  artifactConverter.clearWarnings();
  artifactConverter.convert(artifact,targetRepository);
  checkSuccess(artifactConverter);
  assertTrue("Check source file exists",sourceFile.exists());
  assertTrue("Check source POM exists",sourcePomFile.exists());
  assertFalse("Check target file doesn't exist",targetFile.exists());
  assertFalse("Check target POM doesn't exist",targetPomFile.exists());
  ArtifactRepositoryMetadata metadata=new ArtifactRepositoryMetadata(artifact);
  File metadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(metadata));
  assertFalse("Check metadata not created",metadataFile.exists());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testMergeArtifactMetadata() throws Exception {
  Artifact artifact=createArtifact("test","newversion-artifact","1.0.1");
  artifactConverter.convert(artifact,targetRepository);
  checkSuccess(artifactConverter);
  File artifactFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  assertTrue("Check artifact created",artifactFile.exists());
  assertTrue("Check artifact matches",FileUtils.contentEquals(artifactFile,artifact.getFile()));
  artifact=createPomArtifact(artifact);
  File pomFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  File sourcePomFile=new File(sourceRepository.getBasedir(),sourceRepository.pathOf(artifact));
  assertTrue("Check POM created",pomFile.exists());
  compareFiles(sourcePomFile,pomFile);
  ArtifactMetadata artifactMetadata=new ArtifactRepositoryMetadata(artifact);
  File artifactMetadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(artifactMetadata));
  assertTrue("Check artifact metadata created",artifactMetadataFile.exists());
  File expectedMetadataFile=getTestFile("src/test/expected-files/newversion-artifact-metadata.xml");
  compareFiles(expectedMetadataFile,artifactMetadataFile);
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testV4SnapshotPomConvert() throws Exception {
  doTestV4SnapshotPomConvert("1.0.0-SNAPSHOT","src/test/expected-files/v4-snapshot-metadata.xml");
  assertTrue(true);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testForcedUnmodifiedArtifact() throws Exception {
  artifactConverter=applicationContext.getBean("artifactConverter#force-repository-converter",ArtifactConverter.class);
  Artifact artifact=createArtifact("test","unmodified-artifact","1.0.0");
  Artifact pomArtifact=createPomArtifact(artifact);
  File sourceFile=new File(sourceRepository.getBasedir(),sourceRepository.pathOf(artifact));
  File sourcePomFile=new File(sourceRepository.getBasedir(),sourceRepository.pathOf(pomArtifact));
  File targetFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  File targetPomFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(pomArtifact));
  SimpleDateFormat dateFormat=new SimpleDateFormat("yyyy-MM-dd",Locale.getDefault());
  long origTime=dateFormat.parse("2006-03-03").getTime();
  targetFile.setLastModified(origTime);
  targetPomFile.setLastModified(origTime);
  sourceFile.setLastModified(dateFormat.parse("2006-01-01").getTime());
  sourcePomFile.setLastModified(dateFormat.parse("2006-02-02").getTime());
  artifactConverter.convert(artifact,targetRepository);
  checkSuccess(artifactConverter);
  compareFiles(sourceFile,targetFile);
  compareFiles(sourcePomFile,targetPomFile);
  assertFalse("Check modified",origTime == targetFile.lastModified());
  assertFalse("Check modified",origTime == targetPomFile.lastModified());
  ArtifactRepositoryMetadata metadata=new ArtifactRepositoryMetadata(artifact);
  File metadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(metadata));
  assertTrue("Check metadata created",metadataFile.exists());
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testV3PomConvertWithRelocation() throws Exception {
  Artifact artifact=createArtifact("test","relocated-v3artifact","1.0.0");
  ArtifactMetadata artifactMetadata=new ArtifactRepositoryMetadata(artifact);
  File artifactMetadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(artifactMetadata));
  artifactMetadataFile.delete();
  ArtifactMetadata versionMetadata=new SnapshotArtifactRepositoryMetadata(artifact);
  File versionMetadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(versionMetadata));
  versionMetadataFile.delete();
  artifactConverter.convert(artifact,targetRepository);
  File artifactFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  assertTrue("Check if relocated artifact created",artifactFile.exists());
  assertTrue("Check if relocated artifact matches",FileUtils.contentEquals(artifactFile,artifact.getFile()));
  Artifact pomArtifact=createArtifact("relocated-test","relocated-v3artifact","1.0.0","1.0.0","pom");
  File pomFile=getTestFile("src/test/expected-files/" + targetRepository.pathOf(pomArtifact));
  File testFile=getTestFile("target/test-target-repository/" + targetRepository.pathOf(pomArtifact));
  compareFiles(pomFile,testFile);
  Artifact orig=createArtifact("test","relocated-v3artifact","1.0.0","1.0.0","pom");
  artifactFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(orig));
  assertTrue("Check if relocation artifact pom is created",artifactFile.exists());
  testFile=getTestFile("src/test/expected-files/" + targetRepository.pathOf(orig));
  compareFiles(artifactFile,testFile);
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testRollbackArtifactCreated() throws Exception {
  Artifact artifact=createArtifact("test","rollback-created-artifact","1.0.0");
  ArtifactMetadata artifactMetadata=new ArtifactRepositoryMetadata(artifact);
  File artifactMetadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(artifactMetadata));
  FileUtils.deleteDirectory(artifactMetadataFile.getParentFile());
  ArtifactMetadata versionMetadata=new SnapshotArtifactRepositoryMetadata(artifact);
  File versionMetadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(versionMetadata));
  File artifactFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  artifactConverter.convert(artifact,targetRepository);
  checkWarnings(artifactConverter,2);
  boolean found=false;
  String pattern="^" + Messages.getString("invalid.source.pom").replaceFirst("\\{0\\}",".*") + "$";
  for (  List<String> messages : artifactConverter.getWarnings().values()) {
    for (    String message : messages) {
      if (message.matches(pattern)) {
        found=true;
        break;
      }
    }
    if (found) {
      break;
    }
  }
  assertTrue("Check failure message.",found);
  assertFalse("check artifact rolled back",artifactFile.exists());
  assertFalse("check metadata rolled back",artifactMetadataFile.exists());
  assertFalse("check metadata rolled back",versionMetadataFile.exists());
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testInvalidSourceSnapshotMetadata() throws Exception {
  createModernSourceRepository();
  Artifact artifact=createArtifact("test","incorrectSnapshotMetadata","1.0.0-20060102.030405-6");
  File file=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  file.delete();
  artifactConverter.convert(artifact,targetRepository);
  checkWarnings(artifactConverter,2);
  assertHasWarningReason(artifactConverter,Messages.getString("failure.incorrect.snapshotMetadata.snapshot"));
  assertFalse("Check artifact not created",file.exists());
  ArtifactRepositoryMetadata metadata=new ArtifactRepositoryMetadata(artifact);
  File metadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(metadata));
  assertFalse("Check metadata not created",metadataFile.exists());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testV4PomConvert() throws Exception {
  Artifact artifact=createArtifact("test","v4artifact","1.0.0");
  ArtifactMetadata artifactMetadata=new ArtifactRepositoryMetadata(artifact);
  File artifactMetadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(artifactMetadata));
  artifactMetadataFile.delete();
  ArtifactMetadata versionMetadata=new SnapshotArtifactRepositoryMetadata(artifact);
  File versionMetadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(versionMetadata));
  versionMetadataFile.delete();
  File artifactFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  artifactFile.delete();
  artifactConverter.convert(artifact,targetRepository);
  checkSuccess(artifactConverter);
  assertTrue("Check artifact created",artifactFile.exists());
  assertTrue("Check artifact matches",FileUtils.contentEquals(artifactFile,artifact.getFile()));
  artifact=createPomArtifact(artifact);
  File pomFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  File sourcePomFile=new File(sourceRepository.getBasedir(),sourceRepository.pathOf(artifact));
  assertTrue("Check POM created",pomFile.exists());
  compareFiles(sourcePomFile,pomFile);
  assertTrue("Check artifact metadata created",artifactMetadataFile.exists());
  File expectedMetadataFile=getTestFile("src/test/expected-files/v4-artifact-metadata.xml");
  compareFiles(expectedMetadataFile,artifactMetadataFile);
  assertTrue("Check snapshot metadata created",versionMetadataFile.exists());
  expectedMetadataFile=getTestFile("src/test/expected-files/v4-version-metadata.xml");
  compareFiles(expectedMetadataFile,versionMetadataFile);
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIncorrectSourceChecksumMd5() throws Exception {
  Artifact artifact=createArtifact("test","incorrectMd5Artifact","1.0.0");
  File file=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  file.delete();
  artifactConverter.convert(artifact,targetRepository);
  checkWarnings(artifactConverter,2);
  assertHasWarningReason(artifactConverter,Messages.getString("failure.incorrect.md5"));
  assertFalse("Check artifact not created",file.exists());
  ArtifactRepositoryMetadata metadata=new ArtifactRepositoryMetadata(artifact);
  File metadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(metadata));
  assertFalse("Check metadata not created",metadataFile.exists());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testV3PomConvert() throws Exception {
  Artifact artifact=createArtifact("test","v3artifact","1.0.0");
  ArtifactMetadata artifactMetadata=new ArtifactRepositoryMetadata(artifact);
  File artifactMetadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(artifactMetadata));
  artifactMetadataFile.delete();
  ArtifactMetadata versionMetadata=new SnapshotArtifactRepositoryMetadata(artifact);
  File versionMetadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(versionMetadata));
  versionMetadataFile.delete();
  artifactConverter.convert(artifact,targetRepository);
  checkSuccess(artifactConverter);
  File artifactFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  assertTrue("Check artifact created",artifactFile.exists());
  assertTrue("Check artifact matches",FileUtils.contentEquals(artifactFile,artifact.getFile()));
  artifact=createPomArtifact(artifact);
  File pomFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  File expectedPomFile=getTestFile("src/test/expected-files/converted-v3.pom");
  assertTrue("Check POM created",pomFile.exists());
  compareFiles(expectedPomFile,pomFile);
  assertTrue("Check artifact metadata created",artifactMetadataFile.exists());
  File expectedMetadataFile=getTestFile("src/test/expected-files/v3-artifact-metadata.xml");
  compareFiles(expectedMetadataFile,artifactMetadataFile);
  assertTrue("Check snapshot metadata created",versionMetadataFile.exists());
  expectedMetadataFile=getTestFile("src/test/expected-files/v3-version-metadata.xml");
  compareFiles(expectedMetadataFile,versionMetadataFile);
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testInvalidSourceArtifactMetadata() throws Exception {
  createModernSourceRepository();
  Artifact artifact=createArtifact("test","incorrectArtifactMetadata","1.0.0");
  File file=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  file.delete();
  artifactConverter.convert(artifact,targetRepository);
  checkWarnings(artifactConverter,2);
  assertHasWarningReason(artifactConverter,Messages.getString("failure.incorrect.artifactMetadata.versions"));
  assertFalse("Check artifact not created",file.exists());
  ArtifactRepositoryMetadata metadata=new ArtifactRepositoryMetadata(artifact);
  File metadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(metadata));
  assertFalse("Check metadata not created",metadataFile.exists());
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testMavenOnePluginConversion() throws Exception {
  Artifact artifact=createArtifact("org.apache.maven.plugins","maven-foo-plugin","1.0","1.0","maven-plugin");
  artifact.setFile(new File(FileUtil.getBasedir(),"src/test/source-repository/test/plugins/maven-foo-plugin-1.0.jar"));
  artifactConverter.convert(artifact,targetRepository);
  File artifactFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  assertTrue("Check artifact created",artifactFile.exists());
  assertTrue("Check artifact matches",FileUtils.contentEquals(artifactFile,artifact.getFile()));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testV3TimestampedSnapshotPomConvert() throws Exception {
  Artifact artifact=createArtifact("test","v3artifact","1.0.0-20060105.130101-3");
  ArtifactMetadata artifactMetadata=new ArtifactRepositoryMetadata(artifact);
  File artifactMetadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(artifactMetadata));
  artifactMetadataFile.delete();
  ArtifactMetadata snapshotMetadata=new SnapshotArtifactRepositoryMetadata(artifact);
  File snapshotMetadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(snapshotMetadata));
  snapshotMetadataFile.delete();
  artifactConverter.convert(artifact,targetRepository);
  checkSuccess(artifactConverter);
  File artifactFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  assertTrue("Check artifact created",artifactFile.exists());
  assertTrue("Check artifact matches",FileUtils.contentEquals(artifactFile,artifact.getFile()));
  artifact=createPomArtifact(artifact);
  File pomFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  File expectedPomFile=getTestFile("src/test/expected-files/converted-v3-timestamped-snapshot.pom");
  assertTrue("Check POM created",pomFile.exists());
  compareFiles(expectedPomFile,pomFile);
  assertTrue("Check artifact snapshotMetadata created",artifactMetadataFile.exists());
  File expectedMetadataFile=getTestFile("src/test/expected-files/v3-snapshot-artifact-metadata.xml");
  compareFiles(expectedMetadataFile,artifactMetadataFile);
  assertTrue("Check snapshot snapshotMetadata created",snapshotMetadataFile.exists());
  expectedMetadataFile=getTestFile("src/test/expected-files/v3-timestamped-snapshot-metadata.xml");
  compareFiles(expectedMetadataFile,snapshotMetadataFile);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testMultipleArtifacts() throws Exception {
  List<Artifact> artifacts=new ArrayList<>();
  artifacts.add(createArtifact("test","artifact-one","1.0.0"));
  artifacts.add(createArtifact("test","artifact-two","1.0.0"));
  artifacts.add(createArtifact("test","artifact-three","1.0.0"));
  for (  Artifact artifact : artifacts) {
    artifactConverter.convert(artifact,targetRepository);
    checkSuccess(artifactConverter);
  }
  for (  Artifact artifact : artifacts) {
    File artifactFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
    assertTrue("Check artifact created",artifactFile.exists());
    assertTrue("Check artifact matches",FileUtils.contentEquals(artifactFile,artifact.getFile()));
    artifact=createPomArtifact(artifact);
    File pomFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
    File expectedPomFile=getTestFile("src/test/expected-files/converted-" + artifact.getArtifactId() + ".pom");
    assertTrue("Check POM created",pomFile.exists());
    compareFiles(expectedPomFile,pomFile);
  }
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testV4TimestampedSnapshotPomConvert() throws Exception {
  doTestV4SnapshotPomConvert("1.0.0-20060111.120115-1","src/test/expected-files/v4-timestamped-snapshot-metadata.xml");
  assertTrue(true);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testV3PomWarningsOnConvert() throws Exception {
  Artifact artifact=createArtifact("test","v3-warnings-artifact","1.0.0");
  ArtifactMetadata artifactMetadata=new ArtifactRepositoryMetadata(artifact);
  File artifactMetadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(artifactMetadata));
  artifactMetadataFile.delete();
  ArtifactMetadata versionMetadata=new SnapshotArtifactRepositoryMetadata(artifact);
  File versionMetadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(versionMetadata));
  versionMetadataFile.delete();
  artifactConverter.convert(artifact,targetRepository);
  checkWarnings(artifactConverter,2);
  File artifactFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  assertTrue("Check artifact created",artifactFile.exists());
  assertTrue("Check artifact matches",FileUtils.contentEquals(artifactFile,artifact.getFile()));
  artifact=createPomArtifact(artifact);
  File pomFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  File expectedPomFile=getTestFile("src/test/expected-files/converted-v3-warnings.pom");
  assertTrue("Check POM created",pomFile.exists());
  compareFiles(expectedPomFile,pomFile);
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIncorrectSourceChecksumSha1() throws Exception {
  Artifact artifact=createArtifact("test","incorrectSha1Artifact","1.0.0");
  File file=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  file.delete();
  artifactConverter.convert(artifact,targetRepository);
  checkWarnings(artifactConverter,2);
  assertHasWarningReason(artifactConverter,Messages.getString("failure.incorrect.sha1"));
  assertFalse("Check artifact not created",file.exists());
  ArtifactRepositoryMetadata metadata=new ArtifactRepositoryMetadata(artifact);
  File metadataFile=new File(targetRepository.getBasedir(),targetRepository.pathOfRemoteRepositoryMetadata(metadata));
  assertFalse("Check metadata not created",metadataFile.exists());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-5 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnmodifiedArtifact() throws Exception, InterruptedException {
  Artifact artifact=createArtifact("test","unmodified-artifact","1.0.0");
  Artifact pomArtifact=createPomArtifact(artifact);
  File sourceFile=new File(sourceRepository.getBasedir(),sourceRepository.pathOf(artifact));
  File sourcePomFile=new File(sourceRepository.getBasedir(),sourceRepository.pathOf(pomArtifact));
  File targetFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  File targetPomFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(pomArtifact));
  assertTrue("Check target file exists",targetFile.exists());
  assertTrue("Check target POM exists",targetPomFile.exists());
  sourceFile.setLastModified(System.currentTimeMillis());
  sourcePomFile.setLastModified(System.currentTimeMillis());
  long origTime=targetFile.lastModified();
  long origPomTime=targetPomFile.lastModified();
  Thread.sleep(SLEEP_MILLIS);
  artifactConverter.convert(artifact,targetRepository);
  checkSuccess(artifactConverter);
  compareFiles(sourceFile,targetFile);
  compareFiles(sourcePomFile,targetPomFile);
  assertEquals("Check artifact unmodified",origTime,targetFile.lastModified());
  assertEquals("Check POM unmodified",origPomTime,targetPomFile.lastModified());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNoPomConvert() throws Exception {
  Artifact artifact=createArtifact("test","noPomArtifact","1.0.0");
  artifactConverter.convert(artifact,targetRepository);
  checkWarnings(artifactConverter,1);
  assertHasWarningReason(artifactConverter,Messages.getString("warning.missing.pom"));
  File artifactFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  assertTrue("Check artifact created",artifactFile.exists());
  assertTrue("Check artifact matches",FileUtils.contentEquals(artifactFile,artifact.getFile()));
  artifact=createPomArtifact(artifact);
  File pomFile=new File(targetRepository.getBasedir(),targetRepository.pathOf(artifact));
  File sourcePomFile=new File(sourceRepository.getBasedir(),sourceRepository.pathOf(artifact));
  assertFalse("Check no POM created",pomFile.exists());
  assertFalse("No source POM",sourcePomFile.exists());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.indexer.search.AbstractMavenRepositorySearch </h4><pre class="type-1 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  FileUtils.deleteDirectory(new File(FileUtil.getBasedir(),"/target/repos/" + TEST_REPO_1 + "/.indexer"));
  assertFalse(new File(FileUtil.getBasedir(),"/target/repos/" + TEST_REPO_1 + "/.indexer").exists());
  FileUtils.deleteDirectory(new File(FileUtil.getBasedir(),"/target/repos/" + TEST_REPO_2 + "/.indexer"));
  assertFalse(new File(FileUtil.getBasedir(),"/target/repos/" + TEST_REPO_2 + "/.indexer").exists());
  archivaConfigControl=EasyMock.createControl();
  archivaConfig=archivaConfigControl.createMock(ArchivaConfiguration.class);
  DefaultManagedRepositoryAdmin defaultManagedRepositoryAdmin=new DefaultManagedRepositoryAdmin();
  defaultManagedRepositoryAdmin.setArchivaConfiguration(archivaConfig);
  DefaultProxyConnectorAdmin defaultProxyConnectorAdmin=new DefaultProxyConnectorAdmin();
  defaultProxyConnectorAdmin.setArchivaConfiguration(archivaConfig);
  search=new MavenRepositorySearch(plexusSisuBridge,defaultManagedRepositoryAdmin,mavenIndexerUtils,defaultProxyConnectorAdmin);
  nexusIndexer=plexusSisuBridge.lookup(NexusIndexer.class);
  artifactContextProducer=plexusSisuBridge.lookup(ArtifactContextProducer.class);
  defaultManagedRepositoryAdmin.setMavenIndexerUtils(mavenIndexerUtils);
  defaultManagedRepositoryAdmin.setIndexer(nexusIndexer);
  defaultManagedRepositoryAdmin.setIndexCreators(mavenIndexerUtils.getAllIndexCreators());
  config=new Configuration();
  config.addManagedRepository(createRepositoryConfig(TEST_REPO_1));
  config.addManagedRepository(createRepositoryConfig(TEST_REPO_2));
  config.addManagedRepository(createRepositoryConfig(REPO_RELEASE));
}

</code></pre>

<br>
<pre class="type-11 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@After @Override public void tearDown() throws Exception {
  for (  IndexingContext indexingContext : nexusIndexer.getIndexingContexts().values()) {
    nexusIndexer.removeIndexingContext(indexingContext,true);
  }
  FileUtils.deleteDirectory(new File(FileUtil.getBasedir(),"/target/repos/" + TEST_REPO_1));
  assertFalse(new File(FileUtil.getBasedir(),"/target/repos/" + TEST_REPO_1).exists());
  FileUtils.deleteDirectory(new File(FileUtil.getBasedir(),"/target/repos/" + TEST_REPO_2));
  assertFalse(new File(FileUtil.getBasedir(),"/target/repos/" + TEST_REPO_2).exists());
  super.tearDown();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.indexer.search.MavenRepositorySearchTest </h4><pre class="type-9 type-3 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getAllGroupIds() throws Exception {
  createIndexContainingMoreArtifacts(true);
  List<String> selectedRepos=Arrays.asList(TEST_REPO_1);
  EasyMock.expect(archivaConfig.getConfiguration()).andReturn(config).times(0,2);
  archivaConfigControl.replay();
  Collection<String> groupIds=search.getAllGroupIds("user",selectedRepos);
  archivaConfigControl.verify();
  log.info("groupIds: {}",groupIds);
  assertEquals(3,groupIds.size());
  assertTrue(groupIds.contains("com"));
  assertTrue(groupIds.contains("org.apache.felix"));
  assertTrue(groupIds.contains("org.apache.archiva"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-5 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testArtifactFoundInMultipleRepositories() throws Exception {
  createSimpleIndex(true);
  List<File> files=new ArrayList<>();
  files.add(new File(FileUtil.getBasedir(),"src/test/" + TEST_REPO_2 + "/org/apache/archiva/archiva-search/1.0/archiva-search-1.0.jar"));
  files.add(new File(FileUtil.getBasedir(),"src/test/" + TEST_REPO_2 + "/org/apache/archiva/archiva-search/1.1/archiva-search-1.1.jar"));
  createIndex(TEST_REPO_2,files,false);
  List<String> selectedRepos=new ArrayList<>();
  selectedRepos.add(TEST_REPO_1);
  selectedRepos.add(TEST_REPO_2);
  config.addManagedRepository(createRepositoryConfig(TEST_REPO_2));
  EasyMock.expect(archivaConfig.getConfiguration()).andReturn(config).times(1,5);
  archivaConfigControl.replay();
  Thread.sleep(2000);
  SearchResults results=search.search("user",selectedRepos,"archiva-search",null,null);
  archivaConfigControl.verify();
  assertNotNull(results);
  SearchResultHit hit=results.getSearchResultHit(SearchUtil.getHitId("org.apache.archiva","archiva-search",null,"jar"));
  assertEquals("org.apache.archiva",hit.getGroupId());
  assertEquals("archiva-search",hit.getArtifactId());
  assertEquals("not 2 version for hit " + hit + "::"+ niceDisplay(results),2,hit.getVersions().size());
  assertTrue(hit.getVersions().contains("1.0"));
  assertTrue(hit.getVersions().contains("1.1"));
  archivaConfigControl.reset();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.metadata.repository.AbstractMetadataRepositoryTest </h4><pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testGetMetadataFacetsWhenEmpty() throws Exception {
  List<String> facets=repository.getMetadataFacets(TEST_REPO_ID,TEST_FACET_ID);
  assertTrue(facets.isEmpty());
}

</code></pre>

<br>
<pre class="type-3 type-5 type-6 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateProjectVersionMetadataWithAllElements() throws Exception {
  ProjectVersionMetadata metadata=new ProjectVersionMetadata();
  metadata.setId(TEST_PROJECT_VERSION);
  metadata.setName("project name");
  metadata.setDescription("project description");
  metadata.setUrl("the url");
  MailingList mailingList=new MailingList();
  mailingList.setName("Foo List");
  mailingList.setUnsubscribeAddress("UnsubscribeAddress");
  mailingList.setSubscribeAddress("SubscribeAddress");
  mailingList.setPostAddress("PostAddress");
  mailingList.setMainArchiveUrl("MainArchiveUrl");
  mailingList.setOtherArchives(Arrays.asList("other archive"));
  metadata.setMailingLists(Arrays.asList(mailingList));
  Scm scm=new Scm();
  scm.setConnection("connection");
  scm.setDeveloperConnection("dev conn");
  scm.setUrl("url");
  metadata.setScm(scm);
  CiManagement ci=new CiManagement();
  ci.setSystem("system");
  ci.setUrl("ci url");
  metadata.setCiManagement(ci);
  IssueManagement tracker=new IssueManagement();
  tracker.setSystem("system");
  tracker.setUrl("issue tracker url");
  metadata.setIssueManagement(tracker);
  metadata.setOrganization(TEST_ORGANIZATION);
  License l=new License();
  l.setName("license name");
  l.setUrl("license url");
  metadata.addLicense(l);
  Dependency d=new Dependency();
  d.setArtifactId("artifactId");
  d.setClassifier("classifier");
  d.setGroupId("groupId");
  d.setScope("scope");
  d.setSystemPath("system path");
  d.setType("type");
  d.setVersion("version");
  d.setOptional(true);
  metadata.addDependency(d);
  repository.updateProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,metadata);
  metadata=repository.getProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertEquals(TEST_PROJECT_VERSION,metadata.getId());
  assertEquals(TEST_PROJECT_VERSION,metadata.getVersion());
  assertEquals("project name",metadata.getName());
  assertEquals("project description",metadata.getDescription());
  assertEquals("the url",metadata.getUrl());
  assertEquals("connection",metadata.getScm().getConnection());
  assertEquals("dev conn",metadata.getScm().getDeveloperConnection());
  assertEquals("url",metadata.getScm().getUrl());
  assertEquals("system",metadata.getCiManagement().getSystem());
  assertEquals("ci url",metadata.getCiManagement().getUrl());
  assertEquals("system",metadata.getIssueManagement().getSystem());
  assertEquals("issue tracker url",metadata.getIssueManagement().getUrl());
  assertEquals(TEST_ORGANIZATION.getName(),metadata.getOrganization().getName());
  assertEquals(TEST_ORGANIZATION.getUrl(),metadata.getOrganization().getUrl());
  assertEquals(1,metadata.getMailingLists().size());
  MailingList retrievedMailingList=metadata.getMailingLists().get(0);
  assertEquals(mailingList.getName(),retrievedMailingList.getName());
  assertEquals(mailingList.getMainArchiveUrl(),retrievedMailingList.getMainArchiveUrl());
  assertEquals(mailingList.getPostAddress(),retrievedMailingList.getPostAddress());
  assertEquals(mailingList.getSubscribeAddress(),retrievedMailingList.getSubscribeAddress());
  assertEquals(mailingList.getUnsubscribeAddress(),retrievedMailingList.getUnsubscribeAddress());
  assertThat(retrievedMailingList.getOtherArchives()).isNotNull().isNotEmpty().hasSize(1).contains("other archive");
  assertEquals(1,metadata.getLicenses().size());
  l=metadata.getLicenses().get(0);
  assertEquals("license name",l.getName());
  assertEquals("license url",l.getUrl());
  assertEquals(1,metadata.getDependencies().size());
  d=metadata.getDependencies().get(0);
  assertEquals("artifactId",d.getArtifactId());
  assertEquals("classifier",d.getClassifier());
  assertEquals("groupId",d.getGroupId());
  assertEquals("scope",d.getScope());
  assertEquals("system path",d.getSystemPath());
  assertEquals("type",d.getType());
  assertEquals("version",d.getVersion());
  assertTrue(d.isOptional());
}

</code></pre>

<br>
<pre class="type-3 type-5 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void hasMetadataFacet() throws Exception {
  assertFalse(repository.hasMetadataFacet(TEST_REPO_ID,KindOfRepositoryStatistics.class.getName()));
  Calendar cal=Calendar.getInstance();
  repository.addMetadataFacet(TEST_REPO_ID,new KindOfRepositoryStatistics("first",cal.getTime()));
  assertTrue(repository.hasMetadataFacet(TEST_REPO_ID,KindOfRepositoryStatistics.class.getName()));
  cal.add(Calendar.MINUTE,2);
  repository.addMetadataFacet(TEST_REPO_ID,new KindOfRepositoryStatistics("second",cal.getTime()));
  cal.add(Calendar.MINUTE,2);
  repository.addMetadataFacet(TEST_REPO_ID,new KindOfRepositoryStatistics("third",cal.getTime()));
  List<String> facets=repository.getMetadataFacets(TEST_REPO_ID,KindOfRepositoryStatistics.class.getName());
  assertThat(facets).isNotNull().isNotEmpty().hasSize(3);
  assertTrue(repository.hasMetadataFacet(TEST_REPO_ID,KindOfRepositoryStatistics.class.getName()));
  repository.removeMetadataFacets(TEST_REPO_ID,KindOfRepositoryStatistics.class.getName());
  assertFalse(repository.hasMetadataFacet(TEST_REPO_ID,KindOfRepositoryStatistics.class.getName()));
  facets=repository.getMetadataFacets(TEST_REPO_ID,KindOfRepositoryStatistics.class.getName());
  assertThat(facets).isNotNull().isEmpty();
}

</code></pre>

<br>
<pre class="type-3 type-5 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateProjectVersionMetadataIncomplete() throws Exception {
  ProjectVersionMetadata metadata=new ProjectVersionMetadata();
  metadata.setId(TEST_PROJECT_VERSION);
  metadata.setIncomplete(true);
  repository.updateProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,metadata);
  metadata=repository.getProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertEquals(true,metadata.isIncomplete());
  assertNull(metadata.getCiManagement());
  assertNull(metadata.getScm());
  assertNull(metadata.getIssueManagement());
  assertNull(metadata.getOrganization());
  assertNull(metadata.getDescription());
  assertNull(metadata.getName());
  assertEquals(TEST_PROJECT_VERSION,metadata.getId());
  assertEquals(TEST_PROJECT_VERSION,metadata.getVersion());
  assertTrue(metadata.getMailingLists().isEmpty());
  assertTrue(metadata.getLicenses().isEmpty());
  assertTrue(metadata.getDependencies().isEmpty());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-5 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeleteRepository() throws Exception {
  repository.updateNamespace(TEST_REPO_ID,TEST_NAMESPACE);
  ProjectMetadata project1=new ProjectMetadata();
  project1.setNamespace(TEST_NAMESPACE);
  project1.setId("project1");
  repository.updateProject(TEST_REPO_ID,project1);
  ProjectMetadata project2=new ProjectMetadata();
  project2.setNamespace(TEST_NAMESPACE);
  project2.setId("project2");
  repository.updateProject(TEST_REPO_ID,project2);
  ArtifactMetadata artifact1=createArtifact();
  artifact1.setProject("project1");
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,"project1",TEST_PROJECT_VERSION,artifact1);
  ArtifactMetadata artifact2=createArtifact();
  artifact2.setProject("project2");
  repository.updateArtifact(TEST_REPO_ID,TEST_NAMESPACE,"project2",TEST_PROJECT_VERSION,artifact2);
  repository.save();
  List<ArtifactMetadata> expected=Arrays.asList(artifact1,artifact2);
  Collections.sort(expected,new ArtifactMetadataComparator());
  List<ArtifactMetadata> actual=new ArrayList<>(repository.getArtifactsByDateRange(TEST_REPO_ID,null,null));
  Collections.sort(actual,new ArtifactMetadataComparator());
  assertEquals(expected,actual);
  repository.removeRepository(TEST_REPO_ID);
  assertTrue(repository.getArtifacts(TEST_REPO_ID).isEmpty());
  assertTrue(repository.getRootNamespaces(TEST_REPO_ID).isEmpty());
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void hasMetadataFacetStart() throws Exception {
  assertFalse(repository.hasMetadataFacet(TEST_REPO_ID,KindOfRepositoryStatistics.class.getName()));
}

</code></pre>

<br>
<pre class="type-3 type-5 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRemoveFacet() throws Exception {
  TestMetadataFacet metadataFacet=new TestMetadataFacet(TEST_VALUE);
  repository.addMetadataFacet(TEST_REPO_ID,metadataFacet);
  assertEquals(metadataFacet,repository.getMetadataFacet(TEST_REPO_ID,TEST_FACET_ID,TEST_NAME));
  List<String> facets=repository.getMetadataFacets(TEST_REPO_ID,TEST_FACET_ID);
  assertFalse(facets.isEmpty());
  repository.removeMetadataFacet(TEST_REPO_ID,TEST_FACET_ID,TEST_NAME);
  assertNull(repository.getMetadataFacet(TEST_REPO_ID,TEST_FACET_ID,TEST_NAME));
  facets=repository.getMetadataFacets(TEST_REPO_ID,TEST_FACET_ID);
  assertTrue(facets.isEmpty());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-5 type-6 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateProjectVersionMetadataWithExistingFacetsFacetPropertyWasRemoved() throws Exception {
  ProjectVersionMetadata metadata=new ProjectVersionMetadata();
  metadata.setId(TEST_PROJECT_VERSION);
  Map<String,String> additionalProps=new HashMap<>();
  additionalProps.put("deleteKey","deleteValue");
  MetadataFacet facet=new TestMetadataFacet(TEST_FACET_ID,"baz",additionalProps);
  metadata.addFacet(facet);
  repository.updateProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,metadata);
  metadata=repository.getProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertThat(metadata.getFacetIds()).isNotNull().isNotEmpty().hasSize(1).contains(TEST_FACET_ID);
  TestMetadataFacet testFacet=(TestMetadataFacet)metadata.getFacet(TEST_FACET_ID);
  Map<String,String> facetProperties=testFacet.toProperties();
  assertEquals("deleteValue",facetProperties.get("deleteKey"));
  facetProperties.remove("deleteKey");
  TestMetadataFacet newTestFacet=new TestMetadataFacet(TEST_FACET_ID,testFacet.getValue(),facetProperties);
  metadata.addFacet(newTestFacet);
  repository.updateProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,metadata);
  metadata=repository.getProjectVersion(TEST_REPO_ID,TEST_NAMESPACE,TEST_PROJECT,TEST_PROJECT_VERSION);
  assertThat(metadata.getFacetIds()).isNotNull().isNotEmpty().hasSize(1).contains(TEST_FACET_ID);
  testFacet=(TestMetadataFacet)metadata.getFacet(TEST_FACET_ID);
  assertFalse(testFacet.toProperties().containsKey("deleteKey"));
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testRemoveFacets() throws Exception {
  repository.addMetadataFacet(TEST_REPO_ID,new TestMetadataFacet(TEST_VALUE));
  List<String> facets=repository.getMetadataFacets(TEST_REPO_ID,TEST_FACET_ID);
  assertFalse(facets.isEmpty());
  repository.removeMetadataFacets(TEST_REPO_ID,TEST_FACET_ID);
  facets=repository.getMetadataFacets(TEST_REPO_ID,TEST_FACET_ID);
  assertTrue(facets.isEmpty());
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testRemoveFacetsWhenEmpty() throws Exception {
  List<String> facets=repository.getMetadataFacets(TEST_REPO_ID,TEST_FACET_ID);
  assertTrue(facets.isEmpty());
  repository.removeMetadataFacets(TEST_REPO_ID,TEST_FACET_ID);
  facets=repository.getMetadataFacets(TEST_REPO_ID,TEST_FACET_ID);
  assertTrue(facets.isEmpty());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.metadata.repository.stats.JcrRepositoryStatisticsGatheringTest </h4><pre class="type-1 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Override @Before public void setUp() throws Exception {
  super.setUp();
  File confFile=new File("src/test/repository.xml");
  File dir=new File("target/jcr");
  FileUtils.deleteDirectory(dir);
  assertTrue(confFile.exists());
  assertFalse(dir.exists());
  TransientRepository repository=new TransientRepository(confFile,dir);
  session=repository.login(new SimpleCredentials("username","password".toCharArray()));
  Workspace workspace=session.getWorkspace();
  NamespaceRegistry registry=workspace.getNamespaceRegistry();
  registry.registerNamespace("archiva","http://archiva.apache.org/jcr/");
  NodeTypeManager nodeTypeManager=workspace.getNodeTypeManager();
  registerMixinNodeType(nodeTypeManager,"archiva:namespace");
  registerMixinNodeType(nodeTypeManager,"archiva:project");
  registerMixinNodeType(nodeTypeManager,"archiva:projectVersion");
  registerMixinNodeType(nodeTypeManager,"archiva:artifact");
  registerMixinNodeType(nodeTypeManager,"archiva:facet");
  metadataRepository=mock(MetadataRepository.class);
  when(metadataRepository.canObtainAccess(Session.class)).thenReturn(true);
  when(metadataRepository.obtainAccess(Session.class)).thenReturn(session);
  repositoryStatisticsManager=new DefaultRepositoryStatisticsManager();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.metadata.repository.storage.maven2.Maven2RepositoryMetadataResolverMRM1411RepoGroupTest </h4><pre class="type-1 type-3 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  c=new Configuration();
  testRepo=new ManagedRepositoryConfiguration();
  testRepo.setId(TEST_REPO_ID);
  testRepo.setLocation(new File("target/test-repository").getAbsolutePath());
  testRepo.setReleases(true);
  testRepo.setSnapshots(false);
  c.addManagedRepository(testRepo);
  testRepoS=new ManagedRepositoryConfiguration();
  testRepoS.setId(TEST_SNAP_REPO_ID);
  testRepoS.setLocation(new File("target/test-repositorys").getAbsolutePath());
  testRepoS.setReleases(false);
  testRepoS.setSnapshots(true);
  c.addManagedRepository(testRepoS);
  RemoteRepositoryConfiguration testRemoteRepo=new RemoteRepositoryConfiguration();
  testRemoteRepo.setId(TEST_REMOTE_REPO_ID);
  testRemoteRepo.setLayout("default");
  testRemoteRepo.setName("Central Repository");
  testRemoteRepo.setUrl("http://central.repo.com/maven2");
  testRemoteRepo.setTimeout(10);
  c.addRemoteRepository(testRemoteRepo);
  ProxyConnectorConfiguration proxyConnector=new ProxyConnectorConfiguration();
  proxyConnector.setSourceRepoId(TEST_REPO_ID);
  proxyConnector.setTargetRepoId(TEST_REMOTE_REPO_ID);
  proxyConnector.setDisabled(false);
  c.addProxyConnector(proxyConnector);
  ProxyConnectorConfiguration proxyConnectors=new ProxyConnectorConfiguration();
  proxyConnectors.setSourceRepoId(TEST_SNAP_REPO_ID);
  proxyConnectors.setTargetRepoId(TEST_REMOTE_REPO_ID);
  proxyConnectors.setDisabled(false);
  c.addProxyConnector(proxyConnectors);
  List<String> repos=new ArrayList<>();
  repos.add(TEST_REPO_ID);
  repos.add(TEST_SNAP_REPO_ID);
  RepositoryGroupConfiguration repoGroup=new RepositoryGroupConfiguration();
  repoGroup.setId(TEST_REPO_GROUP_ID);
  repoGroup.setRepositories(repos);
  c.addRepositoryGroup(repoGroup);
  configuration.save(c);
  assertFalse(c.getManagedRepositories().get(0).isSnapshots());
  assertTrue(c.getManagedRepositories().get(0).isReleases());
  assertTrue(c.getManagedRepositories().get(1).isSnapshots());
  assertFalse(c.getManagedRepositories().get(1).isReleases());
  wagonFactory=mock(WagonFactory.class);
  storage.setWagonFactory(wagonFactory);
  Wagon wagon=new MockWagon();
  when(wagonFactory.getWagon(new WagonFactoryRequest().protocol("wagon#http"))).thenReturn(wagon);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.metadata.repository.storage.maven2.Maven2RepositoryMetadataResolverMRM1411Test </h4><pre class="type-10 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetProjectVersionMetadataWithParentSnapshotVersionAndSnapNotAllowed() throws Exception {
  testRepo.setSnapshots(false);
  configuration.save(c);
  assertFalse(c.getManagedRepositories().get(0).isSnapshots());
  copyTestArtifactWithParent("target/test-classes/com/example/test/test-snapshot-artifact-module-a","target/test-repository/com/example/test/test-snapshot-artifact-module-a");
  try {
    ProjectVersionMetadata metadata=storage.readProjectVersionMetadata(new ReadMetadataRequest(TEST_REPO_ID,"com.example.test","test-snapshot-artifact-module-a","1.1-SNAPSHOT"));
    fail("Should not be found");
  }
 catch (  RepositoryStorageRuntimeException e) {
  }
  List<String> paths=new ArrayList<>();
  paths.add("target/test-repository/com/example/test/test-snapshot-artifact-module-a");
  paths.add("target/test-repository/com/example/test/test-snapshot-artifact-root");
  deleteTestArtifactWithParent(paths);
}

</code></pre>

<br>
<pre class="type-1 type-3 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  c=new Configuration();
  testRepo=new ManagedRepositoryConfiguration();
  testRepo.setId(TEST_REPO_ID);
  testRepo.setLocation(new File("target/test-repository").getAbsolutePath());
  testRepo.setReleases(true);
  testRepo.setSnapshots(true);
  c.addManagedRepository(testRepo);
  RemoteRepositoryConfiguration testRemoteRepo=new RemoteRepositoryConfiguration();
  testRemoteRepo.setId(TEST_REMOTE_REPO_ID);
  testRemoteRepo.setLayout("default");
  testRemoteRepo.setName("Central Repository");
  testRemoteRepo.setUrl("http://central.repo.com/maven2");
  testRemoteRepo.setTimeout(10);
  c.addRemoteRepository(testRemoteRepo);
  ProxyConnectorConfiguration proxyConnector=new ProxyConnectorConfiguration();
  proxyConnector.setSourceRepoId(TEST_REPO_ID);
  proxyConnector.setTargetRepoId(TEST_REMOTE_REPO_ID);
  proxyConnector.setDisabled(false);
  c.addProxyConnector(proxyConnector);
  configuration.save(c);
  assertTrue(c.getManagedRepositories().get(0).isSnapshots());
  assertTrue(c.getManagedRepositories().get(0).isReleases());
  wagonFactory=mock(WagonFactory.class);
  storage.setWagonFactory(wagonFactory);
  Wagon wagon=new MockWagon();
  when(wagonFactory.getWagon(new WagonFactoryRequest("wagon#http",new HashMap<String,String>()))).thenReturn(wagon);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.metadata.repository.storage.maven2.Maven2RepositoryMetadataResolverManagedReleaseTest </h4><pre class="type-1 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  testRepo.setReleases(true);
  testRepo.setSnapshots(false);
  configuration.save(c);
  assertFalse(c.getManagedRepositories().get(0).isSnapshots());
  assertTrue(c.getManagedRepositories().get(0).isReleases());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.metadata.repository.storage.maven2.Maven2RepositoryMetadataResolverManagedSnapshotTest </h4><pre class="type-1 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  testRepo.setReleases(false);
  testRepo.setSnapshots(true);
  configuration.save(c);
  assertTrue(c.getManagedRepositories().get(0).isSnapshots());
  assertFalse(c.getManagedRepositories().get(0).isReleases());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.metadata.repository.storage.maven2.Maven2RepositoryMetadataResolverTest </h4><pre class="type-1 type-3 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  c=new Configuration();
  testRepo=new ManagedRepositoryConfiguration();
  testRepo.setId(TEST_REPO_ID);
  testRepo.setLocation(new File("target/test-repository").getAbsolutePath());
  testRepo.setReleases(true);
  testRepo.setSnapshots(true);
  c.addManagedRepository(testRepo);
  RemoteRepositoryConfiguration testRemoteRepo=new RemoteRepositoryConfiguration();
  testRemoteRepo.setId(TEST_REMOTE_REPO_ID);
  testRemoteRepo.setLayout("default");
  testRemoteRepo.setName("Central Repository");
  testRemoteRepo.setUrl("http://central.repo.com/maven2");
  testRemoteRepo.setTimeout(10);
  c.addRemoteRepository(testRemoteRepo);
  ProxyConnectorConfiguration proxyConnector=new ProxyConnectorConfiguration();
  proxyConnector.setSourceRepoId(TEST_REPO_ID);
  proxyConnector.setTargetRepoId(TEST_REMOTE_REPO_ID);
  proxyConnector.setDisabled(false);
  c.addProxyConnector(proxyConnector);
  configuration.save(c);
  assertTrue(c.getManagedRepositories().get(0).isSnapshots());
  assertTrue(c.getManagedRepositories().get(0).isReleases());
  wagonFactory=mock(WagonFactory.class);
  storage.setWagonFactory(wagonFactory);
  Wagon wagon=new MockWagon();
  when(wagonFactory.getWagon(new WagonFactoryRequest().protocol("wagon#http"))).thenReturn(wagon);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.metadata.repository.storage.maven2.MavenRepositoryMetadataReaderTest </h4><pre class="type-9 type-3 type-5 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGroupMetadata() throws XMLException {
  File metadataFile=new File(defaultRepoDir,"org/apache/maven/plugins/maven-metadata.xml");
  ArchivaRepositoryMetadata metadata=MavenMetadataReader.read(metadataFile);
  assertNotNull(metadata);
  assertEquals("org.apache.maven.plugins",metadata.getGroupId());
  assertNull(metadata.getArtifactId());
  assertNull(metadata.getReleasedVersion());
  assertNull(metadata.getLatestVersion());
  assertTrue(metadata.getAvailableVersions().isEmpty());
  assertNull(metadata.getSnapshotVersion());
  assertNull(metadata.getLastUpdated());
  Plugin cleanPlugin=new Plugin();
  cleanPlugin.setPrefix("clean");
  cleanPlugin.setArtifactId("maven-clean-plugin");
  cleanPlugin.setName("Maven Clean Plugin");
  Plugin compilerPlugin=new Plugin();
  compilerPlugin.setPrefix("compiler");
  compilerPlugin.setArtifactId("maven-compiler-plugin");
  compilerPlugin.setName("Maven Compiler Plugin");
  Plugin surefirePlugin=new Plugin();
  surefirePlugin.setPrefix("surefire");
  surefirePlugin.setArtifactId("maven-surefire-plugin");
  surefirePlugin.setName("Maven Surefire Plugin");
  assertEquals(Arrays.asList(cleanPlugin,compilerPlugin,surefirePlugin),metadata.getPlugins());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-5 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testProjectVersionMetadata() throws XMLException {
  File metadataFile=new File(defaultRepoDir,"org/apache/apache/5-SNAPSHOT/maven-metadata.xml");
  ArchivaRepositoryMetadata metadata=MavenMetadataReader.read(metadataFile);
  assertNotNull(metadata);
  assertEquals("org.apache",metadata.getGroupId());
  assertEquals("apache",metadata.getArtifactId());
  assertNull(metadata.getReleasedVersion());
  assertNull(metadata.getLatestVersion());
  assertTrue(metadata.getAvailableVersions().isEmpty());
  assertNotNull(metadata.getSnapshotVersion());
  assertEquals("20080801.151215",metadata.getSnapshotVersion().getTimestamp());
  assertEquals(1,metadata.getSnapshotVersion().getBuildNumber());
  assertEquals("20080801151215",metadata.getLastUpdated());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.proxy.CacheFailuresTransferTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetWhenInBothProxiedButFirstCacheFailure() throws Exception {
  String path="org/apache/maven/test/get-in-second-proxy/1.0/get-in-second-proxy-1.0.jar";
  setupTestableManagedRepository(path);
  File expectedFile=new File(managedDefaultDir,path);
  ArtifactReference artifact=managedDefaultRepository.toArtifactReference(path);
  expectedFile.delete();
  assertFalse(expectedFile.exists());
  String url=PathUtil.toUrl(REPOPATH_PROXIED1 + "/" + path);
  UrlFailureCache failurlCache=lookupUrlFailureCache();
  failurlCache.cacheFailure(url);
  saveConnector(ID_DEFAULT_MANAGED,"proxied1",ChecksumPolicy.FIX,ReleasesPolicy.ALWAYS,SnapshotsPolicy.ALWAYS,CachedFailuresPolicy.YES,false);
  saveConnector(ID_DEFAULT_MANAGED,"proxied2",ChecksumPolicy.FIX,ReleasesPolicy.ALWAYS,SnapshotsPolicy.ALWAYS,CachedFailuresPolicy.YES,false);
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,artifact);
  File proxied2File=new File(REPOPATH_PROXIED2,path);
  assertFileEquals(expectedFile,downloadedFile,proxied2File);
  assertNoTempFiles(expectedFile);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.proxy.ChecksumTransferTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetChecksumCorrectSha1BadMd5UsingIgnoredSetting() throws Exception {
  String path="org/apache/maven/test/get-checksum-sha1-bad-md5/1.0/get-checksum-sha1-bad-md5-1.0.jar";
  setupTestableManagedRepository(path);
  File expectedFile=new File(managedDefaultDir,path);
  ArtifactReference artifact=managedDefaultRepository.toArtifactReference(path);
  FileUtils.deleteDirectory(expectedFile.getParentFile());
  assertFalse(expectedFile.exists());
  saveConnector(ID_DEFAULT_MANAGED,"proxied1",ChecksumPolicy.IGNORE,ReleasesPolicy.ALWAYS,SnapshotsPolicy.ALWAYS,CachedFailuresPolicy.NO,false);
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,artifact);
  File proxied1File=new File(REPOPATH_PROXIED1,path);
  assertFileEquals(expectedFile,downloadedFile,proxied1File);
  assertNoTempFiles(expectedFile);
  assertChecksums(expectedFile,"3dd1a3a57b807d3ef3fbc6013d926c891cbb8670 *get-checksum-sha1-bad-md5-1.0.jar","invalid checksum file");
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetWithNoChecksumsUsingFailSetting() throws Exception {
  String path="org/apache/maven/test/get-default-layout/1.0/get-default-layout-1.0.jar";
  setupTestableManagedRepository(path);
  File expectedFile=new File(managedDefaultDir,path);
  ArtifactReference artifact=managedDefaultRepository.toArtifactReference(path);
  FileUtils.deleteDirectory(expectedFile.getParentFile());
  assertFalse(expectedFile.exists());
  saveConnector(ID_DEFAULT_MANAGED,"proxied1",ChecksumPolicy.FAIL,ReleasesPolicy.ALWAYS,SnapshotsPolicy.ALWAYS,CachedFailuresPolicy.NO,false);
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,artifact);
  assertNotDownloaded(downloadedFile);
  assertChecksums(expectedFile,null,null);
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetChecksumBadSha1BadMd5FixSetting() throws Exception {
  String path="org/apache/maven/test/get-checksum-both-bad/1.0/get-checksum-both-bad-1.0.jar";
  setupTestableManagedRepository(path);
  File expectedFile=new File(managedDefaultDir,path);
  ArtifactReference artifact=managedDefaultRepository.toArtifactReference(path);
  FileUtils.deleteDirectory(expectedFile.getParentFile());
  assertFalse(expectedFile.exists());
  saveConnector(ID_DEFAULT_MANAGED,"proxied1",ChecksumPolicy.FIX,ReleasesPolicy.ALWAYS,SnapshotsPolicy.ALWAYS,CachedFailuresPolicy.NO,false);
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,artifact);
  File proxied1File=new File(REPOPATH_PROXIED1,path);
  assertFileEquals(expectedFile,downloadedFile,proxied1File);
  assertNoTempFiles(expectedFile);
  assertChecksums(expectedFile,"4ec20a12dc91557330bd0b39d1805be5e329ae56  get-checksum-both-bad-1.0.jar","a292491a35925465e693a44809a078b5  get-checksum-both-bad-1.0.jar");
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetChecksumNotFoundOnRemote() throws Exception {
  String path="org/apache/maven/test/get-checksum-sha1-only/1.0/get-checksum-sha1-only-1.0.jar";
  setupTestableManagedRepository(path);
  File expectedFile=new File(managedDefaultDir,path);
  ArtifactReference artifact=managedDefaultRepository.toArtifactReference(path);
  FileUtils.deleteDirectory(expectedFile.getParentFile());
  assertFalse(expectedFile.getParentFile().exists());
  assertFalse(expectedFile.exists());
  saveRemoteRepositoryConfig("badproxied","Bad Proxied","test://bad.machine.com/repo/","default");
  saveConnector(ID_DEFAULT_MANAGED,"badproxied",ChecksumPolicy.IGNORE,ReleasesPolicy.ALWAYS,SnapshotsPolicy.ALWAYS,CachedFailuresPolicy.NO,false);
  wagonMock.get(EasyMock.eq(path),EasyMock.anyObject(File.class));
  EasyMock.expectLastCall().once();
  wagonMock.get(EasyMock.eq(path + ".sha1"),EasyMock.anyObject(File.class));
  EasyMock.expectLastCall().once();
  wagonMock.get(EasyMock.eq(path + ".md5"),EasyMock.anyObject(File.class));
  EasyMock.expectLastCall().andThrow(new ResourceDoesNotExistException("Resource does not exist.")).once();
  wagonMockControl.replay();
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,artifact);
  wagonMockControl.verify();
  String proxyPath=new File(REPOPATH_PROXIED1,path).getAbsolutePath();
  String localPath=new File(managedDefaultDir,path).getAbsolutePath();
  FileUtils.copyFile(new File(proxyPath),new File(localPath));
  FileUtils.copyFile(new File(proxyPath + ".sha1"),new File(localPath + ".sha1"));
  File proxied1File=new File(REPOPATH_PROXIED1,path);
  assertFileEquals(expectedFile,downloadedFile,proxied1File);
  assertNoTempFiles(expectedFile);
  assertChecksums(expectedFile,"748a3a013bf5eacf2bbb40a2ac7d37889b728837 *get-checksum-sha1-only-1.0.jar",null);
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetChecksumBothCorrect() throws Exception {
  String path="org/apache/maven/test/get-checksum-both-right/1.0/get-checksum-both-right-1.0.jar";
  setupTestableManagedRepository(path);
  File expectedFile=new File(managedDefaultDir,path);
  ArtifactReference artifact=managedDefaultRepository.toArtifactReference(path);
  FileUtils.deleteDirectory(expectedFile.getParentFile());
  assertFalse(expectedFile.exists());
  saveConnector(ID_DEFAULT_MANAGED,"proxied1",ChecksumPolicy.IGNORE,ReleasesPolicy.ALWAYS,SnapshotsPolicy.ALWAYS,CachedFailuresPolicy.NO,false);
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,artifact);
  File proxied1File=new File(REPOPATH_PROXIED1,path);
  assertFileEquals(expectedFile,downloadedFile,proxied1File);
  assertNoTempFiles(expectedFile);
  assertChecksums(expectedFile,"066d76e459f7782c312c31e8a11b3c0f1e3e43a7 *get-checksum-both-right-1.0.jar","e58f30c6a150a2e843552438d18e15cb *get-checksum-both-right-1.0.jar");
}

</code></pre>

<br>
<pre class="type-9 type-3 type-7 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetChecksumWhenConnectorIsDisabled() throws Exception {
  String path="org/apache/maven/test/get-checksum-both-right/1.0/get-checksum-both-right-1.0.jar";
  setupTestableManagedRepository(path);
  File expectedFile=new File(managedDefaultDir,path);
  ArtifactReference artifact=managedDefaultRepository.toArtifactReference(path);
  FileUtils.deleteDirectory(expectedFile.getParentFile());
  assertFalse(expectedFile.exists());
  saveConnector(ID_DEFAULT_MANAGED,"proxied1",ChecksumPolicy.IGNORE,ReleasesPolicy.ALWAYS,SnapshotsPolicy.ALWAYS,CachedFailuresPolicy.NO,true);
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,artifact);
  assertNull(downloadedFile);
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetWithNoChecksumsUsingIgnoredSetting() throws Exception {
  String path="org/apache/maven/test/get-default-layout/1.0/get-default-layout-1.0.jar";
  setupTestableManagedRepository(path);
  File expectedFile=new File(managedDefaultDir,path);
  ArtifactReference artifact=managedDefaultRepository.toArtifactReference(path);
  FileUtils.deleteDirectory(expectedFile.getParentFile());
  assertFalse(expectedFile.exists());
  saveConnector(ID_DEFAULT_MANAGED,"proxied1",ChecksumPolicy.IGNORE,ReleasesPolicy.ALWAYS,SnapshotsPolicy.ALWAYS,CachedFailuresPolicy.NO,false);
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,artifact);
  File proxied1File=new File(REPOPATH_PROXIED1,path);
  assertFileEquals(expectedFile,downloadedFile,proxied1File);
  assertNoTempFiles(expectedFile);
  assertChecksums(expectedFile,null,null);
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetChecksumCorrectSha1BadMd5UsingFailSetting() throws Exception {
  String path="org/apache/maven/test/get-checksum-sha1-bad-md5/1.0/get-checksum-sha1-bad-md5-1.0.jar";
  setupTestableManagedRepository(path);
  File expectedFile=new File(managedDefaultDir,path);
  ArtifactReference artifact=managedDefaultRepository.toArtifactReference(path);
  FileUtils.deleteDirectory(expectedFile.getParentFile());
  assertFalse(expectedFile.exists());
  saveConnector(ID_DEFAULT_MANAGED,"proxied1",ChecksumPolicy.FAIL,ReleasesPolicy.ALWAYS,SnapshotsPolicy.ALWAYS,CachedFailuresPolicy.NO,false);
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,artifact);
  assertNotDownloaded(downloadedFile);
  assertChecksums(expectedFile,null,null);
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetChecksumCorrectSha1NoMd5() throws Exception {
  String path="org/apache/maven/test/get-checksum-sha1-only/1.0/get-checksum-sha1-only-1.0.jar";
  setupTestableManagedRepository(path);
  File expectedFile=new File(managedDefaultDir,path);
  ArtifactReference artifact=managedDefaultRepository.toArtifactReference(path);
  FileUtils.deleteDirectory(expectedFile.getParentFile());
  assertFalse(expectedFile.exists());
  saveConnector(ID_DEFAULT_MANAGED,"proxied1",ChecksumPolicy.IGNORE,ReleasesPolicy.ALWAYS,SnapshotsPolicy.ALWAYS,CachedFailuresPolicy.NO,false);
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,artifact);
  File proxied1File=new File(REPOPATH_PROXIED1,path);
  assertFileEquals(expectedFile,downloadedFile,proxied1File);
  assertNoTempFiles(expectedFile);
  assertChecksums(expectedFile,"748a3a013bf5eacf2bbb40a2ac7d37889b728837 *get-checksum-sha1-only-1.0.jar",null);
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetChecksumBadSha1BadMd5IgnoredSetting() throws Exception {
  String path="org/apache/maven/test/get-checksum-both-bad/1.0/get-checksum-both-bad-1.0.jar";
  setupTestableManagedRepository(path);
  File expectedFile=new File(managedDefaultDir,path);
  ArtifactReference artifact=managedDefaultRepository.toArtifactReference(path);
  FileUtils.deleteDirectory(expectedFile.getParentFile());
  assertFalse(expectedFile.exists());
  saveConnector(ID_DEFAULT_MANAGED,"proxied1",ChecksumPolicy.IGNORE,ReleasesPolicy.ALWAYS,SnapshotsPolicy.ALWAYS,CachedFailuresPolicy.NO,false);
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,artifact);
  File proxied1File=new File(REPOPATH_PROXIED1,path);
  assertFileEquals(expectedFile,downloadedFile,proxied1File);
  assertNoTempFiles(expectedFile);
  assertChecksums(expectedFile,"invalid checksum file","invalid checksum file");
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetWithNoChecksumsUsingFixSetting() throws Exception {
  String path="org/apache/maven/test/get-default-layout/1.0/get-default-layout-1.0.jar";
  setupTestableManagedRepository(path);
  File expectedFile=new File(managedDefaultDir,path);
  ArtifactReference artifact=managedDefaultRepository.toArtifactReference(path);
  FileUtils.deleteDirectory(expectedFile.getParentFile());
  assertFalse(expectedFile.exists());
  saveConnector(ID_DEFAULT_MANAGED,"proxied1",ChecksumPolicy.FIX,ReleasesPolicy.ALWAYS,SnapshotsPolicy.ALWAYS,CachedFailuresPolicy.NO,false);
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,artifact);
  File proxied1File=new File(REPOPATH_PROXIED1,path);
  assertFileEquals(expectedFile,downloadedFile,proxied1File);
  assertNoTempFiles(expectedFile);
  assertChecksums(expectedFile,"1f12821c5e43e1a0b76b9564a6ddb0548ccb9486  get-default-layout-1.0.jar","3f7341545f21226b6f49a3c2704cb9be  get-default-layout-1.0.jar");
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetChecksumBadSha1BadMd5FailSetting() throws Exception {
  String path="org/apache/maven/test/get-checksum-both-bad/1.0/get-checksum-both-bad-1.0.jar";
  setupTestableManagedRepository(path);
  File expectedFile=new File(managedDefaultDir,path);
  ArtifactReference artifact=managedDefaultRepository.toArtifactReference(path);
  FileUtils.deleteDirectory(expectedFile.getParentFile());
  assertFalse(expectedFile.exists());
  saveConnector(ID_DEFAULT_MANAGED,"proxied1",ChecksumPolicy.FAIL,ReleasesPolicy.ALWAYS,SnapshotsPolicy.ALWAYS,CachedFailuresPolicy.NO,false);
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,artifact);
  assertNotDownloaded(downloadedFile);
  assertChecksums(expectedFile,null,null);
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetChecksumCorrectSha1BadMd5UsingFixSetting() throws Exception {
  String path="org/apache/maven/test/get-checksum-sha1-bad-md5/1.0/get-checksum-sha1-bad-md5-1.0.jar";
  setupTestableManagedRepository(path);
  File expectedFile=new File(managedDefaultDir,path);
  ArtifactReference artifact=managedDefaultRepository.toArtifactReference(path);
  FileUtils.deleteDirectory(expectedFile.getParentFile());
  assertFalse(expectedFile.exists());
  saveConnector(ID_DEFAULT_MANAGED,"proxied1",ChecksumPolicy.FIX,ReleasesPolicy.ALWAYS,SnapshotsPolicy.ALWAYS,CachedFailuresPolicy.NO,false);
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,artifact);
  File proxied1File=new File(REPOPATH_PROXIED1,path);
  assertFileEquals(expectedFile,downloadedFile,proxied1File);
  assertNoTempFiles(expectedFile);
  assertChecksums(expectedFile,"3dd1a3a57b807d3ef3fbc6013d926c891cbb8670 *get-checksum-sha1-bad-md5-1.0.jar","c35f3b76268b73a4ba617f6f275c49ab  get-checksum-sha1-bad-md5-1.0.jar");
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetChecksumNoSha1CorrectMd5() throws Exception {
  String path="org/apache/maven/test/get-checksum-md5-only/1.0/get-checksum-md5-only-1.0.jar";
  setupTestableManagedRepository(path);
  File expectedFile=new File(managedDefaultDir,path);
  ArtifactReference artifact=managedDefaultRepository.toArtifactReference(path);
  FileUtils.deleteDirectory(expectedFile.getParentFile());
  assertFalse(expectedFile.exists());
  saveConnector(ID_DEFAULT_MANAGED,"proxied1",ChecksumPolicy.IGNORE,ReleasesPolicy.ALWAYS,SnapshotsPolicy.ALWAYS,CachedFailuresPolicy.NO,false);
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,artifact);
  File proxied1File=new File(REPOPATH_PROXIED1,path);
  assertFileEquals(expectedFile,downloadedFile,proxied1File);
  assertNoTempFiles(expectedFile);
  assertChecksums(expectedFile,null,"f3af5201bf8da801da37db8842846e1c *get-checksum-md5-only-1.0.jar");
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetChecksumNoSha1CorrectMd5UsingFixSetting() throws Exception {
  String path="org/apache/maven/test/get-checksum-md5-only/1.0/get-checksum-md5-only-1.0.jar";
  setupTestableManagedRepository(path);
  File expectedFile=new File(managedDefaultDir,path);
  ArtifactReference artifact=managedDefaultRepository.toArtifactReference(path);
  FileUtils.deleteDirectory(expectedFile.getParentFile());
  assertFalse(expectedFile.exists());
  saveConnector(ID_DEFAULT_MANAGED,"proxied1",ChecksumPolicy.FIX,ReleasesPolicy.ALWAYS,SnapshotsPolicy.ALWAYS,CachedFailuresPolicy.NO,false);
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,artifact);
  File proxied1File=new File(REPOPATH_PROXIED1,path);
  assertFileEquals(expectedFile,downloadedFile,proxied1File);
  assertNoTempFiles(expectedFile);
  assertChecksums(expectedFile,"71f7dc3f72053a3f2d9fdd6fef9db055ef957ffb  get-checksum-md5-only-1.0.jar","f3af5201bf8da801da37db8842846e1c *get-checksum-md5-only-1.0.jar");
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetChecksumNoSha1CorrectMd5UsingFailSetting() throws Exception {
  String path="org/apache/maven/test/get-checksum-md5-only/1.0/get-checksum-md5-only-1.0.jar";
  setupTestableManagedRepository(path);
  File expectedFile=new File(managedDefaultDir,path);
  ArtifactReference artifact=managedDefaultRepository.toArtifactReference(path);
  FileUtils.deleteDirectory(expectedFile.getParentFile());
  assertFalse(expectedFile.exists());
  saveConnector(ID_DEFAULT_MANAGED,"proxied1",ChecksumPolicy.FAIL,ReleasesPolicy.ALWAYS,SnapshotsPolicy.ALWAYS,CachedFailuresPolicy.NO,false);
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,artifact);
  File proxied1File=new File(REPOPATH_PROXIED1,path);
  assertFileEquals(expectedFile,downloadedFile,proxied1File);
  assertNoTempFiles(expectedFile);
  assertChecksums(expectedFile,null,"f3af5201bf8da801da37db8842846e1c *get-checksum-md5-only-1.0.jar");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.proxy.ErrorHandlingTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testPropagateOnUpdateNotPresentArtifactPresent() throws Exception {
  String path=PATH_IN_BOTH_REMOTES_AND_LOCAL;
  File expectedFile=setupRepositoriesWithLocalFilePresent(path);
  createMockedProxyConnector(ID_MOCKED_PROXIED1,NAME_MOCKED_PROXIED1,PropagateErrorsDownloadPolicy.STOP,PropagateErrorsOnUpdateDownloadPolicy.NOT_PRESENT);
  createMockedProxyConnector(ID_MOCKED_PROXIED2,NAME_MOCKED_PROXIED2,PropagateErrorsDownloadPolicy.STOP,PropagateErrorsOnUpdateDownloadPolicy.NOT_PRESENT);
  simulateGetIfNewerError(path,expectedFile,createTransferException());
  confirmNotDownloadedNoError(path);
  assertTrue(expectedFile.exists());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testPropagateOnUpdateNotPresentIgnoreArtifactPresent() throws Exception {
  String path=PATH_IN_BOTH_REMOTES_AND_LOCAL;
  File expectedFile=setupRepositoriesWithLocalFilePresent(path);
  createMockedProxyConnector(ID_MOCKED_PROXIED1,NAME_MOCKED_PROXIED1,PropagateErrorsDownloadPolicy.IGNORE,PropagateErrorsOnUpdateDownloadPolicy.NOT_PRESENT);
  createMockedProxyConnector(ID_MOCKED_PROXIED2,NAME_MOCKED_PROXIED2,PropagateErrorsDownloadPolicy.IGNORE,PropagateErrorsOnUpdateDownloadPolicy.NOT_PRESENT);
  simulateGetIfNewerError(path,expectedFile,createTransferException());
  simulateGetIfNewerError(path,expectedFile,createTransferException());
  confirmNotDownloadedNoError(path);
  assertTrue(expectedFile.exists());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testPropagateOnUpdateAlwaysIgnoreArtifactPresent() throws Exception {
  String path=PATH_IN_BOTH_REMOTES_AND_LOCAL;
  File expectedFile=setupRepositoriesWithLocalFilePresent(path);
  createMockedProxyConnector(ID_MOCKED_PROXIED1,NAME_MOCKED_PROXIED1,PropagateErrorsDownloadPolicy.IGNORE,PropagateErrorsOnUpdateDownloadPolicy.ALWAYS);
  createMockedProxyConnector(ID_MOCKED_PROXIED2,NAME_MOCKED_PROXIED2,PropagateErrorsDownloadPolicy.IGNORE,PropagateErrorsOnUpdateDownloadPolicy.ALWAYS);
  simulateGetIfNewerError(path,expectedFile,createTransferException());
  simulateGetIfNewerError(path,expectedFile,createTransferException());
  confirmNotDownloadedNoError(path);
  assertTrue(expectedFile.exists());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testPropagateOnUpdateNotPresentQueueArtifactPresent() throws Exception {
  String path=PATH_IN_BOTH_REMOTES_AND_LOCAL;
  File expectedFile=setupRepositoriesWithLocalFilePresent(path);
  createMockedProxyConnector(ID_MOCKED_PROXIED1,NAME_MOCKED_PROXIED1,PropagateErrorsDownloadPolicy.QUEUE,PropagateErrorsOnUpdateDownloadPolicy.NOT_PRESENT);
  createMockedProxyConnector(ID_MOCKED_PROXIED2,NAME_MOCKED_PROXIED2,PropagateErrorsDownloadPolicy.QUEUE,PropagateErrorsOnUpdateDownloadPolicy.NOT_PRESENT);
  simulateGetIfNewerError(path,expectedFile,createTransferException());
  simulateGetIfNewerError(path,expectedFile,createTransferException());
  confirmNotDownloadedNoError(path);
  assertTrue(expectedFile.exists());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.proxy.HttpProxyTransferTest </h4><pre class="type-9 type-3 type-5 type-7 type-6 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOverHttpProxy() throws Exception {
  Assertions.assertThat(System.getProperty("http.proxyHost")).isEmpty();
  Assertions.assertThat(System.getProperty("http.proxyPort")).isEmpty();
  String path="org/apache/maven/test/get-default-layout/1.0/get-default-layout-1.0.jar";
  addConnector();
  File expectedFile=new File(new File(managedDefaultRepository.getRepoRoot()),path);
  ArtifactReference artifact=managedDefaultRepository.toArtifactReference(path);
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,artifact);
  File sourceFile=new File(PROXIED_BASEDIR,path);
  assertNotNull("Expected File should not be null.",expectedFile);
  assertNotNull("Actual File should not be null.",downloadedFile);
  assertTrue("Check actual file exists.",downloadedFile.exists());
  assertEquals("Check filename path is appropriate.",expectedFile.getCanonicalPath(),downloadedFile.getCanonicalPath());
  assertEquals("Check file path matches.",expectedFile.getAbsolutePath(),downloadedFile.getAbsolutePath());
  String expectedContents=FileUtils.readFileToString(sourceFile,Charset.defaultCharset());
  String actualContents=FileUtils.readFileToString(downloadedFile,Charset.defaultCharset());
  assertEquals("Check file contents.",expectedContents,actualContents);
  Assertions.assertThat(System.getProperty("http.proxyHost")).isEmpty();
  Assertions.assertThat(System.getProperty("http.proxyPort")).isEmpty();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.proxy.ManagedDefaultTransferTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testGetDefaultLayoutNotPresentPassthrough() throws Exception {
  String path="org/apache/maven/test/get-default-layout/1.0/get-default-layout-1.0.jar.asc";
  setupTestableManagedRepository(path);
  File expectedFile=new File(managedDefaultDir,path);
  assertNotExistsInManagedDefaultRepo(expectedFile);
  saveConnector(ID_DEFAULT_MANAGED,ID_PROXIED1,ChecksumPolicy.FIX,ReleasesPolicy.ONCE,SnapshotsPolicy.ONCE,CachedFailuresPolicy.NO,false);
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,path);
  File sourceFile=new File(REPOPATH_PROXIED1,path);
  assertFileEquals(expectedFile,downloadedFile,sourceFile);
  assertFalse(new File(downloadedFile.getParentFile(),downloadedFile.getName() + ".sha1").exists());
  assertFalse(new File(downloadedFile.getParentFile(),downloadedFile.getName() + ".md5").exists());
  assertFalse(new File(downloadedFile.getParentFile(),downloadedFile.getName() + ".asc").exists());
  assertNoTempFiles(expectedFile);
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testGetWhenInBothProxiedRepos() throws Exception {
  String path="org/apache/maven/test/get-in-both-proxies/1.0/get-in-both-proxies-1.0.jar";
  setupTestableManagedRepository(path);
  File expectedFile=new File(managedDefaultDir,path);
  ArtifactReference artifact=managedDefaultRepository.toArtifactReference(path);
  assertNotExistsInManagedDefaultRepo(expectedFile);
  saveConnector(ID_DEFAULT_MANAGED,ID_PROXIED1,false);
  saveConnector(ID_DEFAULT_MANAGED,ID_PROXIED2,false);
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,artifact);
  File proxied1File=new File(REPOPATH_PROXIED1,path);
  File proxied2File=new File(REPOPATH_PROXIED2,path);
  assertFileEquals(expectedFile,downloadedFile,proxied1File);
  assertNoTempFiles(expectedFile);
  String actualContents=FileUtils.readFileToString(downloadedFile,Charset.defaultCharset());
  String badContents=FileUtils.readFileToString(proxied2File,Charset.defaultCharset());
  assertFalse("Downloaded file contents should not be that of proxy 2",StringUtils.equals(actualContents,badContents));
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * The attempt here should result in no file being transferred.
 * <p/>
 * The file exists locally, and the policy is ONCE.
 * @throws Exception
 */
@Test public void testGetDefaultLayoutAlreadyPresentPolicyOnce() throws Exception {
  String path="org/apache/maven/test/get-default-layout-present/1.0/get-default-layout-present-1.0.jar";
  setupTestableManagedRepository(path);
  File expectedFile=new File(managedDefaultDir,path);
  ArtifactReference artifact=managedDefaultRepository.toArtifactReference(path);
  assertTrue(expectedFile.exists());
  saveConnector(ID_DEFAULT_MANAGED,ID_PROXIED1,ChecksumPolicy.FIX,ReleasesPolicy.ONCE,SnapshotsPolicy.ONCE,CachedFailuresPolicy.NO,false);
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,artifact);
  assertFileEquals(expectedFile,downloadedFile,expectedFile);
  assertNoTempFiles(expectedFile);
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * The attempt here should result in file being transferred.
 * <p/>
 * The file exists locally, is over 6 years old, and the policy is DAILY.
 * @throws Exception
 */
@Test public void testGetDefaultLayoutRemoteUpdate() throws Exception {
  String path="org/apache/maven/test/get-default-layout-present/1.0/get-default-layout-present-1.0.jar";
  setupTestableManagedRepository(path);
  File expectedFile=new File(managedDefaultDir,path);
  ArtifactReference artifact=managedDefaultRepository.toArtifactReference(path);
  assertTrue(expectedFile.exists());
  expectedFile.setLastModified(getPastDate().getTime());
  saveConnector(ID_DEFAULT_MANAGED,ID_PROXIED1,ChecksumPolicy.FIX,ReleasesPolicy.DAILY,SnapshotsPolicy.DAILY,CachedFailuresPolicy.NO,false);
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,artifact);
  File proxiedFile=new File(REPOPATH_PROXIED1,path);
  assertFileEquals(expectedFile,downloadedFile,proxiedFile);
  assertNoTempFiles(expectedFile);
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * <p>
 * Request a file, that exists locally, and remotely.
 * </p>
 * <p>
 * All policies are set to IGNORE.
 * </p>
 * <p>
 * Managed file is older than Remote file.
 * </p>
 * <p>
 * Transfer should have occured, as managed file is older than remote.
 * </p>
 * @throws Exception
 */
@Test public void testGetDefaultLayoutAlreadyPresentOlderThanRemotePolicyIgnored() throws Exception {
  String path="org/apache/maven/test/get-default-layout-present/1.0/get-default-layout-present-1.0.jar";
  setupTestableManagedRepository(path);
  File expectedFile=new File(managedDefaultDir,path);
  File remoteFile=new File(REPOPATH_PROXIED1,path);
  setManagedOlderThanRemote(expectedFile,remoteFile);
  ArtifactReference artifact=managedDefaultRepository.toArtifactReference(path);
  assertTrue(expectedFile.exists());
  saveConnector(ID_DEFAULT_MANAGED,ID_PROXIED1,ChecksumPolicy.FIX,ReleasesPolicy.ALWAYS,SnapshotsPolicy.ALWAYS,CachedFailuresPolicy.NO,false);
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,artifact);
  File proxiedFile=new File(REPOPATH_PROXIED1,path);
  assertFileEquals(expectedFile,downloadedFile,proxiedFile);
  assertNoTempFiles(expectedFile);
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * <p>
 * Request a file, that exists locally, and remotely.
 * </p>
 * <p>
 * All policies are set to IGNORE.
 * </p>
 * <p>
 * Managed file is newer than remote file.
 * </p>
 * <p>
 * Transfer should not have occured, as managed file is newer.
 * </p>
 * @throws Exception
 */
@Test public void testGetDefaultLayoutAlreadyPresentNewerThanRemotePolicyIgnored() throws Exception {
  String path="org/apache/maven/test/get-default-layout-present/1.0/get-default-layout-present-1.0.jar";
  setupTestableManagedRepository(path);
  File expectedFile=new File(managedDefaultDir,path);
  File remoteFile=new File(REPOPATH_PROXIED1,path);
  setManagedNewerThanRemote(expectedFile,remoteFile);
  long originalModificationTime=expectedFile.lastModified();
  ArtifactReference artifact=managedDefaultRepository.toArtifactReference(path);
  assertTrue(expectedFile.exists());
  saveConnector(ID_DEFAULT_MANAGED,ID_PROXIED1,ChecksumPolicy.FIX,ReleasesPolicy.ALWAYS,SnapshotsPolicy.ALWAYS,CachedFailuresPolicy.NO,false);
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,artifact);
  assertNotDownloaded(downloadedFile);
  assertNotModified(expectedFile,originalModificationTime);
  assertNoTempFiles(expectedFile);
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * The attempt here should result in no file being transferred.
 * <p/>
 * The file exists locally, and the policy is ONCE.
 * @throws Exception
 */
@Test public void testGetDefaultLayoutAlreadyPresentPassthrough() throws Exception {
  String path="org/apache/maven/test/get-default-layout-present/1.0/get-default-layout-present-1.0.jar.asc";
  setupTestableManagedRepository(path);
  File expectedFile=new File(managedDefaultDir,path);
  File remoteFile=new File(REPOPATH_PROXIED1,path);
  assertTrue(expectedFile.exists());
  setManagedOlderThanRemote(expectedFile,remoteFile);
  long originalModificationTime=expectedFile.lastModified();
  saveConnector(ID_DEFAULT_MANAGED,ID_PROXIED1,ChecksumPolicy.FIX,ReleasesPolicy.ONCE,SnapshotsPolicy.ONCE,CachedFailuresPolicy.NO,false);
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,path);
  assertNotDownloaded(downloadedFile);
  assertNotModified(expectedFile,originalModificationTime);
  assertNoTempFiles(expectedFile);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.proxy.SnapshotTransferTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetMetadataDrivenSnapshotRemoteUpdate() throws Exception {
  String path="org/apache/maven/test/get-present-metadata-snapshot/1.0-SNAPSHOT/get-present-metadata-snapshot-1.0-20050831.101112-1.jar";
  setupTestableManagedRepository(path);
  File expectedFile=new File(managedDefaultDir,path);
  ArtifactReference artifact=managedDefaultRepository.toArtifactReference(path);
  assertTrue(expectedFile.exists());
  expectedFile.setLastModified(getPastDate().getTime());
  saveConnector(ID_DEFAULT_MANAGED,ID_PROXIED1,false);
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,artifact);
  File proxiedFile=new File(REPOPATH_PROXIED1,path);
  assertFileEquals(expectedFile,downloadedFile,proxiedFile);
  assertNoTempFiles(expectedFile);
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testNewerTimestampDrivenSnapshotOnFirstRepo() throws Exception {
  String path="org/apache/maven/test/get-present-timestamped-snapshot/1.0-SNAPSHOT/get-present-timestamped-snapshot-1.0-SNAPSHOT.jar";
  setupTestableManagedRepository(path);
  File expectedFile=new File(managedDefaultDir,path);
  ArtifactReference artifact=managedDefaultRepository.toArtifactReference(path);
  assertTrue(expectedFile.exists());
  expectedFile.setLastModified(getPastDate().getTime());
  saveConnector(ID_DEFAULT_MANAGED,ID_PROXIED1,false);
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,artifact);
  File proxiedFile=new File(REPOPATH_PROXIED1,path);
  assertFileEquals(expectedFile,downloadedFile,proxiedFile);
  assertNoTempFiles(expectedFile);
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testTimestampDrivenSnapshotNotPresentAlready() throws Exception {
  String path="org/apache/maven/test/get-timestamped-snapshot/1.0-SNAPSHOT/get-timestamped-snapshot-1.0-SNAPSHOT.jar";
  setupTestableManagedRepository(path);
  File expectedFile=new File(managedDefaultDir,path);
  ArtifactReference artifact=managedDefaultRepository.toArtifactReference(path);
  expectedFile.delete();
  assertFalse(expectedFile.exists());
  saveConnector(ID_DEFAULT_MANAGED,ID_PROXIED1,false);
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,artifact);
  File proxiedFile=new File(REPOPATH_PROXIED1,path);
  assertFileEquals(expectedFile,downloadedFile,proxiedFile);
  assertNoTempFiles(expectedFile);
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testTimestampDrivenSnapshotNotPresentAlreadyExpiredCacheFailure() throws Exception {
  String path="org/apache/maven/test/get-timestamped-snapshot/1.0-SNAPSHOT/get-timestamped-snapshot-1.0-SNAPSHOT.jar";
  setupTestableManagedRepository(path);
  File expectedFile=new File(managedDefaultDir,path);
  ArtifactReference artifact=managedDefaultRepository.toArtifactReference(path);
  expectedFile.delete();
  assertFalse(expectedFile.exists());
  saveConnector(ID_DEFAULT_MANAGED,ID_PROXIED1,ChecksumPolicy.IGNORE,ReleasesPolicy.ALWAYS,SnapshotsPolicy.ALWAYS,CachedFailuresPolicy.YES,false);
  saveConnector(ID_DEFAULT_MANAGED,ID_PROXIED2,ChecksumPolicy.IGNORE,ReleasesPolicy.ALWAYS,SnapshotsPolicy.ALWAYS,CachedFailuresPolicy.YES,false);
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,artifact);
  File proxiedFile=new File(REPOPATH_PROXIED1,path);
  assertFileEquals(expectedFile,downloadedFile,proxiedFile);
  assertNoTempFiles(expectedFile);
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testMetadataDrivenSnapshotNotPresentAlready() throws Exception {
  String path="org/apache/maven/test/get-metadata-snapshot/1.0-SNAPSHOT/get-metadata-snapshot-1.0-20050831.101112-1.jar";
  setupTestableManagedRepository(path);
  File expectedFile=new File(managedDefaultDir,path);
  ArtifactReference artifact=managedDefaultRepository.toArtifactReference(path);
  expectedFile.delete();
  assertFalse(expectedFile.exists());
  saveConnector(ID_DEFAULT_MANAGED,ID_PROXIED1,false);
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,artifact);
  File proxiedFile=new File(REPOPATH_PROXIED1,path);
  assertFileEquals(expectedFile,downloadedFile,proxiedFile);
  assertNoTempFiles(expectedFile);
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * TODO: Has problems with wagon implementation not preserving timestamp.
 */
@Test public void testTimestampDrivenSnapshotNotExpired() throws Exception {
  String path="org/apache/maven/test/get-present-timestamped-snapshot/1.0-SNAPSHOT/get-present-timestamped-snapshot-1.0-SNAPSHOT.jar";
  setupTestableManagedRepository(path);
  File expectedFile=new File(managedDefaultDir,path);
  ArtifactReference artifact=managedDefaultRepository.toArtifactReference(path);
  assertTrue(expectedFile.exists());
  File proxiedFile=new File(REPOPATH_PROXIED1,path);
  proxiedFile.setLastModified(getFutureDate().getTime());
  saveConnector(ID_DEFAULT_MANAGED,ID_PROXIED1,false);
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,artifact);
  assertFileEquals(expectedFile,downloadedFile,proxiedFile);
  assertNoTempFiles(expectedFile);
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSnapshotNonExistant() throws Exception {
  String path="org/apache/maven/test/does-not-exist/1.0-SNAPSHOT/does-not-exist-1.0-SNAPSHOT.jar";
  setupTestableManagedRepository(path);
  File expectedFile=new File(managedDefaultDir,path);
  ArtifactReference artifact=managedDefaultRepository.toArtifactReference(path);
  expectedFile.delete();
  assertFalse(expectedFile.exists());
  saveConnector(ID_DEFAULT_MANAGED,ID_PROXIED1,false);
  File downloadedFile=proxyHandler.fetchFromProxies(managedDefaultRepository,artifact);
  assertNotDownloaded(downloadedFile);
  assertNoTempFiles(expectedFile);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.reports.consumers.DuplicateArtifactsConsumerTest </h4><pre class="type-10 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConsumerArtifactFileNotExist() throws Exception {
  consumer.beginScan(config,new Date());
  try {
    consumer.processFile("com/example/test/test-artifact/2.0/test-artifact-2.0.jar");
    fail("Should have failed to find file");
  }
 catch (  ConsumerException e) {
    assertTrue(e.getCause() instanceof NoSuchFileException);
  }
 finally {
    consumer.completeScan();
  }
  verify(metadataRepository,never()).addMetadataFacet(eq(TEST_REPO),Matchers.<MetadataFacet>anyObject());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.repository.content.maven2.RepositoryRequestTest </h4><pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsLegacy(){
  assertTrue(repoRequest.isLegacy("test.maven-arch/poms/test-arch-2.0.3-SNAPSHOT.pom"));
  assertTrue(repoRequest.isLegacy("directory-clients/poms/ldap-clients-0.9.1-SNAPSHOT.pom"));
  assertTrue(repoRequest.isLegacy("commons-lang/jars/commons-lang-2.1-javadoc.jar"));
  assertFalse(repoRequest.isLegacy("test/maven-arch/test-arch/2.0.3-SNAPSHOT/test-arch-2.0.3-SNAPSHOT.jar"));
  assertFalse(repoRequest.isLegacy("org/apache/archiva/archiva-api/1.0/archiva-api-1.0.xml.zip"));
  assertFalse(repoRequest.isLegacy("org/apache/derby/derby/10.2.2.0/derby-10.2.2.0-bin.tar.gz"));
  assertFalse(repoRequest.isLegacy("org/apache/derby/derby/10.2.2.0/derby-10.2.2.0-bin.tar.gz.pgp"));
  assertFalse(repoRequest.isLegacy("org/apache/derby/derby/10.2.2.0/maven-metadata.xml.sha1"));
  assertFalse(repoRequest.isLegacy(null));
  assertFalse(repoRequest.isLegacy(""));
  assertFalse(repoRequest.isLegacy("some.short/path"));
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsMetadataSupportFile(){
  assertFalse(repoRequest.isMetadataSupportFile("org/apache/derby/derby/10.2.2.0/maven-metadata.xml"));
  assertFalse(repoRequest.isMetadataSupportFile("org/apache/derby/derby/maven-metadata.xml"));
  assertTrue(repoRequest.isMetadataSupportFile("org/apache/derby/derby/maven-metadata.xml.sha1"));
  assertTrue(repoRequest.isMetadataSupportFile("org/apache/derby/derby/maven-metadata.xml.md5"));
  assertFalse(repoRequest.isMetadataSupportFile("test.maven-arch/poms/test-arch-2.0.3-SNAPSHOT.pom"));
  assertFalse(repoRequest.isMetadataSupportFile("test/maven-arch/test-arch/2.0.3-SNAPSHOT/test-arch-2.0.3-SNAPSHOT.jar"));
  assertFalse(repoRequest.isMetadataSupportFile("org/apache/archiva/archiva-api/1.0/archiva-api-1.0.xml.zip"));
  assertFalse(repoRequest.isMetadataSupportFile("org/apache/derby/derby/10.2.2.0/derby-10.2.2.0-bin.tar.gz"));
  assertFalse(repoRequest.isMetadataSupportFile("org/apache/derby/derby/10.2.2.0/derby-10.2.2.0-bin.tar.gz.pgp"));
  assertTrue(repoRequest.isMetadataSupportFile("org/apache/derby/derby/10.2.2.0/maven-metadata.xml.sha1"));
  assertTrue(repoRequest.isMetadataSupportFile("org/apache/derby/derby/10.2.2.0/maven-metadata.xml.md5"));
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsMetadata(){
  assertTrue(repoRequest.isMetadata("org/apache/derby/derby/10.2.2.0/maven-metadata.xml"));
  assertTrue(repoRequest.isMetadata("org/apache/derby/derby/maven-metadata.xml"));
  assertFalse(repoRequest.isMetadata("test.maven-arch/poms/test-arch-2.0.3-SNAPSHOT.pom"));
  assertFalse(repoRequest.isMetadata("test/maven-arch/test-arch/2.0.3-SNAPSHOT/test-arch-2.0.3-SNAPSHOT.jar"));
  assertFalse(repoRequest.isMetadata("org/apache/archiva/archiva-api/1.0/archiva-api-1.0.xml.zip"));
  assertFalse(repoRequest.isMetadata("org/apache/derby/derby/10.2.2.0/derby-10.2.2.0-bin.tar.gz"));
  assertFalse(repoRequest.isMetadata("org/apache/derby/derby/10.2.2.0/derby-10.2.2.0-bin.tar.gz.pgp"));
  assertFalse(repoRequest.isMetadata("org/apache/derby/derby/10.2.2.0/maven-metadata.xml.sha1"));
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsDefault(){
  assertFalse(repoRequest.isDefault("test.maven-arch/poms/test-arch-2.0.3-SNAPSHOT.pom"));
  assertFalse(repoRequest.isDefault("directory-clients/poms/ldap-clients-0.9.1-SNAPSHOT.pom"));
  assertFalse(repoRequest.isDefault("commons-lang/jars/commons-lang-2.1-javadoc.jar"));
  assertTrue(repoRequest.isDefault("test/maven-arch/test-arch/2.0.3-SNAPSHOT/test-arch-2.0.3-SNAPSHOT.jar"));
  assertTrue(repoRequest.isDefault("org/apache/archiva/archiva-api/1.0/archiva-api-1.0.xml.zip"));
  assertTrue(repoRequest.isDefault("org/apache/derby/derby/10.2.2.0/derby-10.2.2.0-bin.tar.gz"));
  assertTrue(repoRequest.isDefault("org/apache/derby/derby/10.2.2.0/derby-10.2.2.0-bin.tar.gz.pgp"));
  assertTrue(repoRequest.isDefault("org/apache/derby/derby/10.2.2.0/maven-metadata.xml.sha1"));
  assertTrue(repoRequest.isDefault("eclipse/jdtcore/maven-metadata.xml"));
  assertTrue(repoRequest.isDefault("eclipse/jdtcore/maven-metadata.xml.sha1"));
  assertTrue(repoRequest.isDefault("eclipse/jdtcore/maven-metadata.xml.md5"));
  assertFalse(repoRequest.isDefault(null));
  assertFalse(repoRequest.isDefault(""));
  assertFalse(repoRequest.isDefault("foo"));
  assertFalse(repoRequest.isDefault("some.short/path"));
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsSupportFile(){
  assertTrue(repoRequest.isSupportFile("org/apache/derby/derby/10.2.2.0/derby-10.2.2.0-bin.tar.gz.sha1"));
  assertTrue(repoRequest.isSupportFile("org/apache/derby/derby/10.2.2.0/derby-10.2.2.0-bin.tar.gz.md5"));
  assertTrue(repoRequest.isSupportFile("org/apache/derby/derby/10.2.2.0/derby-10.2.2.0-bin.tar.gz.asc"));
  assertTrue(repoRequest.isSupportFile("org/apache/derby/derby/10.2.2.0/derby-10.2.2.0-bin.tar.gz.pgp"));
  assertTrue(repoRequest.isSupportFile("org/apache/derby/derby/10.2.2.0/maven-metadata.xml.sha1"));
  assertTrue(repoRequest.isSupportFile("org/apache/derby/derby/10.2.2.0/maven-metadata.xml.md5"));
  assertFalse(repoRequest.isSupportFile("test.maven-arch/poms/test-arch-2.0.3-SNAPSHOT.pom"));
  assertFalse(repoRequest.isSupportFile("test/maven-arch/test-arch/2.0.3-SNAPSHOT/test-arch-2.0.3-SNAPSHOT.jar"));
  assertFalse(repoRequest.isSupportFile("org/apache/archiva/archiva-api/1.0/archiva-api-1.0.xml.zip"));
  assertFalse(repoRequest.isSupportFile("org/apache/derby/derby/10.2.2.0/derby-10.2.2.0-bin.tar.gz"));
  assertFalse(repoRequest.isSupportFile("org/apache/derby/derby/10.2.2.0/maven-metadata.xml"));
  assertFalse(repoRequest.isSupportFile("org/apache/derby/derby/maven-metadata.xml"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.repository.metadata.RepositoryMetadataReaderTest </h4><pre class="type-9 type-3 type-5 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLoadSimple() throws XMLException {
  File defaultRepoDir=new File("src/test/repositories/default-repository");
  File metadataFile=new File(defaultRepoDir,"org/apache/maven/shared/maven-downloader/maven-metadata.xml");
  ArchivaRepositoryMetadata metadata=MavenMetadataReader.read(metadataFile);
  assertNotNull(metadata);
  assertEquals("Group Id","org.apache.maven.shared",metadata.getGroupId());
  assertEquals("Artifact Id","maven-downloader",metadata.getArtifactId());
  assertEquals("Released Version","1.1",metadata.getReleasedVersion());
  assertEquals("List of Available Versions",2,metadata.getAvailableVersions().size());
  assertTrue("Available version 1.0",metadata.getAvailableVersions().contains("1.0"));
  assertTrue("Available version 1.1",metadata.getAvailableVersions().contains("1.1"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-5 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLoadComplex() throws XMLException {
  File defaultRepoDir=new File("src/test/repositories/default-repository");
  File metadataFile=new File(defaultRepoDir,"org/apache/maven/samplejar/maven-metadata.xml");
  ArchivaRepositoryMetadata metadata=MavenMetadataReader.read(metadataFile);
  assertNotNull(metadata);
  assertEquals("Group Id","org.apache.maven",metadata.getGroupId());
  assertEquals("Artifact Id","samplejar",metadata.getArtifactId());
  assertEquals("Released Version","2.0",metadata.getReleasedVersion());
  assertEquals("Latest Version","6.0-SNAPSHOT",metadata.getLatestVersion());
  assertEquals("List of Available Versions",18,metadata.getAvailableVersions().size());
  assertTrue("Available version 6.0-20060311.183228-10",metadata.getAvailableVersions().contains("6.0-20060311.183228-10"));
  assertTrue("Available version 6.0-SNAPSHOT",metadata.getAvailableVersions().contains("6.0-SNAPSHOT"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.repository.scanner.RepositoryContentConsumersTest </h4><pre class="type-3 type-5 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetSelectedInvalidIds() throws Exception {
  RepositoryContentConsumers consumerutil=lookupRepositoryConsumers();
  String expectedInvalidIds[]=new String[]{"update-db-bad-content"};
  List<String> invalidConsumers=consumerutil.getSelectedInvalidConsumerIds();
  assertNotNull("Invalid Consumer IDs should not be null",invalidConsumers);
  assertEquals("Invalid Consumer IDs.size",expectedInvalidIds.length,invalidConsumers.size());
  for (  String expectedId : expectedInvalidIds) {
    assertTrue("Invalid id [" + expectedId + "] exists.",invalidConsumers.contains(expectedId));
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-5 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetAvailableInvalidList() throws Exception {
  RepositoryContentConsumers consumerutil=lookupRepositoryConsumers();
  String expectedInvalidIds[]=new String[]{"update-db-bad-content","move-to-trash-then-notify"};
  List<InvalidRepositoryContentConsumer> invalidConsumers=consumerutil.getAvailableInvalidConsumers();
  assertNotNull("invalid consumers should not be null.",invalidConsumers);
  assertEquals("invalid consumers",expectedInvalidIds.length,invalidConsumers.size());
  List<String> expectedIds=Arrays.asList(expectedInvalidIds);
  for (  InvalidRepositoryContentConsumer consumer : invalidConsumers) {
    assertTrue("Consumer [" + consumer.getId() + "] returned by .getAvailableInvalidConsumers() is unexpected.",expectedIds.contains(consumer.getId()));
  }
}

</code></pre>

<br>
<pre class="type-3 type-5 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetSelectedKnownIds() throws Exception {
  RepositoryContentConsumers consumerutil=lookupRepositoryConsumers();
  String expectedKnownIds[]=new String[]{"create-missing-checksums","validate-checksum","validate-signature","index-content","auto-remove","auto-rename","create-archiva-metadata","duplicate-artifacts"};
  List<String> knownConsumers=consumerutil.getSelectedKnownConsumerIds();
  assertNotNull("Known Consumer IDs should not be null",knownConsumers);
  assertEquals("Known Consumer IDs.size " + knownConsumers,expectedKnownIds.length,knownConsumers.size());
  for (  String expectedId : expectedKnownIds) {
    assertTrue("Known id [" + expectedId + "] exists.",knownConsumers.contains(expectedId));
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-5 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetAvailableKnownList() throws Exception {
  RepositoryContentConsumers consumerutil=lookupRepositoryConsumers();
  String expectedKnownIds[]=new String[]{"update-db-artifact","create-missing-checksums","update-db-repository-metadata","validate-checksum","index-content","auto-remove","auto-rename","available-but-unselected"};
  List<KnownRepositoryContentConsumer> knownConsumers=consumerutil.getAvailableKnownConsumers();
  assertNotNull("known consumers should not be null.",knownConsumers);
  assertEquals("known consumers",expectedKnownIds.length,knownConsumers.size());
  List<String> expectedIds=Arrays.asList(expectedKnownIds);
  for (  KnownRepositoryContentConsumer consumer : knownConsumers) {
    assertTrue("Consumer [" + consumer.getId() + "] returned by .getAvailableKnownConsumers() is unexpected.",expectedIds.contains(consumer.getId()));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.rest.services.ArchivaAdministrationServiceTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void getInvalidContentAdminRepositoryConsumer() throws Exception {
  List<AdminRepositoryConsumer> consumers=getArchivaAdministrationService().getInvalidContentAdminRepositoryConsumers();
  assertFalse(consumers.isEmpty());
  assertAllDisabled(consumers);
  getArchivaAdministrationService().enabledInvalidContentConsumer("foo");
  consumers=getArchivaAdministrationService().getInvalidContentAdminRepositoryConsumers();
  assertFalse(consumers.isEmpty());
  assertAllEnabled(consumers);
  getArchivaAdministrationService().disabledInvalidContentConsumer("foo");
  consumers=getArchivaAdministrationService().getInvalidContentAdminRepositoryConsumers();
  assertAllDisabled(consumers);
  assertFalse(consumers.isEmpty());
}

</code></pre>

<br>
<pre class="type-3 type-5 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void uiConfigurationReadUpdate() throws Exception {
  UiConfiguration ui=getArchivaAdministrationService().getUiConfiguration();
  assertNotNull(ui);
  assertFalse(ui.isDisableEasterEggs());
  assertFalse(ui.isDisableRegistration());
  assertTrue(ui.isAppletFindEnabled());
  assertTrue(ui.isShowFindArtifacts());
  assertNull(ui.getApplicationUrl());
  ui.setAppletFindEnabled(false);
  ui.setShowFindArtifacts(false);
  ui.setDisableEasterEggs(true);
  ui.setDisableRegistration(true);
  String url="http://foo.fr/bar";
  ui.setApplicationUrl(url);
  getArchivaAdministrationService().setUiConfiguration(ui);
  ui=getArchivaAdministrationService().getUiConfiguration();
  assertTrue(ui.isDisableEasterEggs());
  assertTrue(ui.isDisableRegistration());
  assertFalse(ui.isAppletFindEnabled());
  assertFalse(ui.isShowFindArtifacts());
  assertEquals(url,ui.getApplicationUrl());
}

</code></pre>

<br>
<pre class="type-3 type-5 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void organisationInformationUpdate() throws Exception {
  OrganisationInformation organisationInformation=getArchivaAdministrationService().getOrganisationInformation();
  assertNotNull(organisationInformation);
  assertTrue(StringUtils.isBlank(organisationInformation.getLogoLocation()));
  assertTrue(StringUtils.isBlank(organisationInformation.getName()));
  assertTrue(StringUtils.isBlank(organisationInformation.getUrl()));
  organisationInformation=new OrganisationInformation();
  organisationInformation.setLogoLocation("http://foo.com/bar.png");
  organisationInformation.setName("foo org");
  organisationInformation.setUrl("http://foo.com");
  getArchivaAdministrationService().setOrganisationInformation(organisationInformation);
  organisationInformation=getArchivaAdministrationService().getOrganisationInformation();
  assertNotNull(organisationInformation);
  assertEquals("http://foo.com/bar.png",organisationInformation.getLogoLocation());
  assertEquals("foo org",organisationInformation.getName());
  assertEquals("http://foo.com",organisationInformation.getUrl());
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void getKnownContentAdminRepositoryConsumer() throws Exception {
  List<AdminRepositoryConsumer> consumers=getArchivaAdministrationService().getKnownContentAdminRepositoryConsumers();
  assertFalse(consumers.isEmpty());
}

</code></pre>

<br>
<pre class="type-3 type-7 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getAllLegacyPaths() throws Exception {
  assertNotNull(getArchivaAdministrationService().getLegacyArtifactPaths());
  assertFalse(getArchivaAdministrationService().getLegacyArtifactPaths().isEmpty());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.rest.services.BrowseServiceTest </h4><pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void artifactsNumber() throws Exception {
  BrowseService browseService=getBrowseService(authorizationHeader,true);
  int number=browseService.getArtifacts(TEST_REPO_ID).size();
  log.info("getArtifactsNumber: {}",number);
  assertTrue(number > 1);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.rest.services.CommonServicesTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void nonValidCronExpression() throws Exception {
  CommonServices commonServices=getCommonServices(null);
  assertFalse(commonServices.validateCronExpression("0,30 * * * ?"));
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void validCronExpression() throws Exception {
  CommonServices commonServices=getCommonServices(null);
  assertTrue(commonServices.validateCronExpression("0 0,30 * * * ?"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.rest.services.CopyArtifactTest </h4><pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void copyToAnEmptyRepo() throws Exception {
  try {
    initSourceTargetRepo();
    ArtifactTransferRequest artifactTransferRequest=new ArtifactTransferRequest();
    artifactTransferRequest.setGroupId("org.apache.karaf.features");
    artifactTransferRequest.setArtifactId("org.apache.karaf.features.core");
    artifactTransferRequest.setVersion("2.2.2");
    artifactTransferRequest.setRepositoryId(SOURCE_REPO_ID);
    artifactTransferRequest.setTargetRepositoryId(TARGET_REPO_ID);
    RepositoriesService repositoriesService=getRepositoriesService(authorizationHeader);
    Boolean res=repositoriesService.copyArtifact(artifactTransferRequest);
    assertTrue(res);
    String targetRepoPath=getManagedRepositoriesService(authorizationHeader).getManagedRepository(TARGET_REPO_ID).getLocation();
    File artifact=new File(targetRepoPath,"/org/apache/karaf/features/org.apache.karaf.features.core/2.2.2/org.apache.karaf.features.core-2.2.2.jar");
    assertTrue(artifact.exists());
    File pom=new File(targetRepoPath,"/org/apache/karaf/features/org.apache.karaf.features.core/2.2.2/org.apache.karaf.features.core-2.2.2.pom");
    assertTrue("not exists " + pom.getPath(),pom.exists());
  }
  finally {
    cleanRepos();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.rest.services.MergeRepositoriesServiceTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void merge() throws Exception {
  String mergedArtifactPath="org/apache/felix/org.apache.felix.bundlerepository/1.6.4/org.apache.felix.bundlerepository-1.6.4.jar";
  String mergedArtifactPomPath="org/apache/felix/org.apache.felix.bundlerepository/1.6.4/org.apache.felix.bundlerepository-1.6.4.pom";
  assertTrue(new File(repoStage,mergedArtifactPath).exists());
  assertTrue(new File(repoStage,mergedArtifactPomPath).exists());
  MergeRepositoriesService service=getMergeRepositoriesService(authorizationHeader);
  service.mergeRepositories(TEST_REPOSITORY + "-stage",TEST_REPOSITORY,true);
  assertTrue(new File(repo,mergedArtifactPath).exists());
  assertTrue(new File(repo,mergedArtifactPomPath).exists());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.rest.services.NetworkProxyServiceTest </h4><pre class="type-3 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void addAndDelete() throws Exception {
  assertNotNull(getNetworkProxyService().getNetworkProxies());
  assertTrue(getNetworkProxyService().getNetworkProxies().isEmpty());
  getNetworkProxyService().addNetworkProxy(getNetworkProxy("foo"));
  assertNotNull(getNetworkProxyService().getNetworkProxies());
  assertFalse(getNetworkProxyService().getNetworkProxies().isEmpty());
  assertEquals(1,getNetworkProxyService().getNetworkProxies().size());
  getNetworkProxyService().deleteNetworkProxy("foo");
  assertNotNull(getNetworkProxyService().getNetworkProxies());
  assertTrue(getNetworkProxyService().getNetworkProxies().isEmpty());
}

</code></pre>

<br>
<pre class="type-3 type-5 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void addAndUpdateAndDelete() throws Exception {
  assertNotNull(getNetworkProxyService().getNetworkProxies());
  assertTrue(getNetworkProxyService().getNetworkProxies().isEmpty());
  getNetworkProxyService().addNetworkProxy(getNetworkProxy("foo"));
  assertNotNull(getNetworkProxyService().getNetworkProxies());
  assertFalse(getNetworkProxyService().getNetworkProxies().isEmpty());
  assertEquals(1,getNetworkProxyService().getNetworkProxies().size());
  NetworkProxy networkProxy=getNetworkProxy("foo");
  networkProxy.setHost("http://toto.com");
  networkProxy.setPassword("newpasswd");
  networkProxy.setUsername("newusername");
  networkProxy.setPort(9191);
  getNetworkProxyService().updateNetworkProxy(networkProxy);
  assertEquals(networkProxy.getHost(),getNetworkProxyService().getNetworkProxy("foo").getHost());
  assertEquals(networkProxy.getPassword(),getNetworkProxyService().getNetworkProxy("foo").getPassword());
  assertEquals(networkProxy.getUsername(),getNetworkProxyService().getNetworkProxy("foo").getUsername());
  assertEquals(networkProxy.getPort(),getNetworkProxyService().getNetworkProxy("foo").getPort());
  getNetworkProxyService().deleteNetworkProxy("foo");
  assertNotNull(getNetworkProxyService().getNetworkProxies());
  assertTrue(getNetworkProxyService().getNetworkProxies().isEmpty());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.rest.services.ProxyConnectorServiceTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void getAllproxyConnectors() throws Exception {
  assertTrue(getProxyConnectorService().getProxyConnectors() != null);
  assertTrue(getProxyConnectorService().getProxyConnectors().size() > 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.rest.services.RemoteRepositoriesServiceTest </h4><pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void listRemoteRepositoriesKarma() throws Exception {
  RemoteRepositoriesService service=getRemoteRepositoriesService();
  WebClient.client(service).header("Authorization",authorizationHeader);
  WebClient.getConfig(service).getHttpConduit().getClient().setReceiveTimeout(300000);
  List<RemoteRepository> repos=service.getRemoteRepositories();
  assertFalse(repos.isEmpty());
  log.info("repos {}",repos);
}

</code></pre>

<br>
<pre class="type-3 type-6 type-8 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=ForbiddenException.class) public void listRemoteRepositoriesKarmaFailed() throws Exception {
  RemoteRepositoriesService service=getRemoteRepositoriesService();
  try {
    assertFalse(service.getRemoteRepositories().isEmpty());
  }
 catch (  ForbiddenException e) {
    assertEquals(403,e.getResponse().getStatus());
    throw e;
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.rest.services.RepositoriesServiceTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void notAuthorizedToDeleteArtifacts() throws Exception {
  ManagedRepository managedRepository=getTestManagedRepository("SOURCE_REPO_ID","SOURCE_REPO_ID");
  try {
    getManagedRepositoriesService(authorizationHeader).addManagedRepository(managedRepository);
    RepositoriesService repositoriesService=getRepositoriesService(guestAuthzHeader);
    assertFalse(repositoriesService.isAuthorizedToDeleteArtifacts(managedRepository.getId()));
  }
  finally {
    cleanQuietlyRepo(managedRepository.getId());
  }
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void scanRepo() throws Exception {
  RepositoriesService service=getRepositoriesService(authorizationHeader);
  ManagedRepositoriesService managedRepositoriesService=getManagedRepositoriesService(authorizationHeader);
  String repoId=managedRepositoriesService.getManagedRepositories().get(0).getId();
  int timeout=20000;
  while (timeout > 0 && service.alreadyScanning(repoId)) {
    Thread.sleep(500);
    timeout-=500;
  }
  assertTrue(service.scanRepository(repoId,true));
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void authorizedToDeleteArtifacts() throws Exception {
  ManagedRepository managedRepository=getTestManagedRepository("SOURCE_REPO_ID","SOURCE_REPO_ID");
  try {
    getManagedRepositoriesService(authorizationHeader).addManagedRepository(managedRepository);
    RepositoriesService repositoriesService=getRepositoriesService(authorizationHeader);
    assertTrue(repositoriesService.isAuthorizedToDeleteArtifacts(managedRepository.getId()));
  }
  finally {
    cleanQuietlyRepo(managedRepository.getId());
  }
}

</code></pre>

<br>
<pre class="type-3 type-5 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void deleteArtifact() throws Exception {
  initSourceTargetRepo();
  BrowseService browseService=getBrowseService(authorizationHeader,false);
  List<Artifact> artifacts=browseService.getArtifactDownloadInfos("org.apache.karaf.features","org.apache.karaf.features.core","2.2.2",SOURCE_REPO_ID);
  log.info("artifacts: {}",artifacts);
  assertThat(artifacts).isNotNull().isNotEmpty().hasSize(2);
  VersionsList versionsList=browseService.getVersionsList("org.apache.karaf.features","org.apache.karaf.features.core",SOURCE_REPO_ID);
  assertThat(versionsList.getVersions()).isNotNull().isNotEmpty().hasSize(2);
  log.info("artifacts.size: {}",artifacts.size());
  try {
    File artifactFile=new File("target/test-origin-repo/org/apache/karaf/features/org.apache.karaf.features.core/2.2.2/org.apache.karaf.features.core-2.2.2.jar");
    assertTrue("artifact not exists:" + artifactFile.getPath(),artifactFile.exists());
    Artifact artifact=new Artifact();
    artifact.setGroupId("org.apache.karaf.features");
    artifact.setArtifactId("org.apache.karaf.features.core");
    artifact.setVersion("2.2.2");
    artifact.setPackaging("jar");
    artifact.setContext(SOURCE_REPO_ID);
    RepositoriesService repositoriesService=getRepositoriesService(authorizationHeader);
    repositoriesService.deleteArtifact(artifact);
    assertFalse("artifact not deleted exists:" + artifactFile.getPath(),artifactFile.exists());
    artifacts=browseService.getArtifactDownloadInfos("org.apache.karaf.features","org.apache.karaf.features.core","2.2.2",SOURCE_REPO_ID);
    assertThat(artifacts).isNotNull().isEmpty();
    versionsList=browseService.getVersionsList("org.apache.karaf.features","org.apache.karaf.features.core",SOURCE_REPO_ID);
    assertThat(versionsList.getVersions()).isNotNull().isNotEmpty().hasSize(1);
  }
  finally {
    cleanRepos();
  }
}

</code></pre>

<br>
<pre class="type-3 type-5 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void deleteArtifactWithClassifier() throws Exception {
  initSourceTargetRepo();
  BrowseService browseService=getBrowseService(authorizationHeader,false);
  List<Artifact> artifacts=browseService.getArtifactDownloadInfos("commons-logging","commons-logging","1.0.1",SOURCE_REPO_ID);
  assertThat(artifacts).isNotNull().isNotEmpty().hasSize(3);
  VersionsList versionsList=browseService.getVersionsList("commons-logging","commons-logging",SOURCE_REPO_ID);
  assertThat(versionsList.getVersions()).isNotNull().isNotEmpty().hasSize(6);
  log.info("artifacts.size: {}",artifacts.size());
  try {
    File artifactFile=new File("target/test-origin-repo/commons-logging/commons-logging/1.0.1/commons-logging-1.0.1-javadoc.jar");
    File artifactFilemd5=new File("target/test-origin-repo/commons-logging/commons-logging/1.0.1/commons-logging-1.0.1-javadoc.jar.md5");
    File artifactFilesha1=new File("target/test-origin-repo/commons-logging/commons-logging/1.0.1/commons-logging-1.0.1-javadoc.jar.sha1");
    assertTrue("artifact not exists:" + artifactFile.getPath(),artifactFile.exists());
    assertTrue("md5 not exists:" + artifactFilemd5.getPath(),artifactFilemd5.exists());
    assertTrue("sha1 not exists:" + artifactFilesha1.getPath(),artifactFilesha1.exists());
    Artifact artifact=new Artifact();
    artifact.setGroupId("commons-logging");
    artifact.setArtifactId("commons-logging");
    artifact.setVersion("1.0.1");
    artifact.setClassifier("javadoc");
    artifact.setPackaging("jar");
    artifact.setContext(SOURCE_REPO_ID);
    RepositoriesService repositoriesService=getRepositoriesService(authorizationHeader);
    repositoriesService.deleteArtifact(artifact);
    assertFalse("artifact not deleted exists:" + artifactFile.getPath(),artifactFile.exists());
    assertFalse("md5 still exists:" + artifactFilemd5.getPath(),artifactFilemd5.exists());
    assertFalse("sha1 still exists:" + artifactFilesha1.getPath(),artifactFilesha1.exists());
    artifacts=browseService.getArtifactDownloadInfos("commons-logging","commons-logging","1.0.1",SOURCE_REPO_ID);
    log.info("artifact: {}",artifacts);
    assertThat(artifacts).isNotNull().isNotEmpty().hasSize(2);
    versionsList=browseService.getVersionsList("commons-logging","commons-logging",SOURCE_REPO_ID);
    log.info("versionsList: {}",versionsList);
    assertThat(versionsList.getVersions()).isNotNull().isNotEmpty().hasSize(6);
  }
  finally {
    cleanRepos();
  }
}

</code></pre>

<br>
<pre class="type-3 type-5 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * delete a version of an artifact without packaging
 * @throws Exception
 */
@Test public void deleteArtifactVersion() throws Exception {
  initSourceTargetRepo();
  BrowseService browseService=getBrowseService(authorizationHeader,false);
  List<Artifact> artifacts=browseService.getArtifactDownloadInfos("org.apache.karaf.features","org.apache.karaf.features.core","2.2.2",SOURCE_REPO_ID);
  log.info("artifacts: {}",artifacts);
  assertThat(artifacts).isNotNull().isNotEmpty().hasSize(2);
  VersionsList versionsList=browseService.getVersionsList("org.apache.karaf.features","org.apache.karaf.features.core",SOURCE_REPO_ID);
  assertThat(versionsList.getVersions()).isNotNull().isNotEmpty().hasSize(2);
  log.info("artifacts.size: {}",artifacts.size());
  try {
    File artifactFile=new File("target/test-origin-repo/org/apache/karaf/features/org.apache.karaf.features.core/2.2.2/org.apache.karaf.features.core-2.2.2.jar");
    assertTrue("artifact not exists:" + artifactFile.getPath(),artifactFile.exists());
    Artifact artifact=new Artifact();
    artifact.setGroupId("org.apache.karaf.features");
    artifact.setArtifactId("org.apache.karaf.features.core");
    artifact.setVersion("2.2.2");
    artifact.setContext(SOURCE_REPO_ID);
    RepositoriesService repositoriesService=getRepositoriesService(authorizationHeader);
    repositoriesService.deleteArtifact(artifact);
    assertFalse("artifact not deleted exists:" + artifactFile.getPath(),artifactFile.exists());
    artifacts=browseService.getArtifactDownloadInfos("org.apache.karaf.features","org.apache.karaf.features.core","2.2.2",SOURCE_REPO_ID);
    assertThat(artifacts).isNotNull().isEmpty();
    versionsList=browseService.getVersionsList("org.apache.karaf.features","org.apache.karaf.features.core",SOURCE_REPO_ID);
    assertThat(versionsList.getVersions()).isNotNull().isNotEmpty().hasSize(1);
  }
  finally {
    cleanRepos();
  }
}

</code></pre>

<br>
<pre class="type-3 type-5 type-7 type-12 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void deleteGroupId() throws Exception {
  initSourceTargetRepo();
  try {
    BrowseService browseService=getBrowseService(authorizationHeader,false);
    BrowseResult browseResult=browseService.browseGroupId("org.apache.karaf.features",SOURCE_REPO_ID);
    assertNotNull(browseResult);
    log.info("browseResult: {}",browseResult);
    assertThat(browseResult.getBrowseResultEntries()).isNotNull().isNotEmpty().contains(new BrowseResultEntry("org.apache.karaf.features.org.apache.karaf.features.command",true),new BrowseResultEntry("org.apache.karaf.features.org.apache.karaf.features.core",true));
    File directory=new File("target/test-origin-repo/org/apache/karaf/features/org.apache.karaf.features.command");
    assertTrue("directory not exists",directory.exists());
    RepositoriesService repositoriesService=getRepositoriesService(authorizationHeader);
    repositoriesService.deleteGroupId("org.apache.karaf",SOURCE_REPO_ID);
    assertFalse("directory not exists",directory.exists());
    browseResult=browseService.browseGroupId("org.apache.karaf.features",SOURCE_REPO_ID);
    assertNotNull(browseResult);
    assertThat(browseResult.getBrowseResultEntries()).isNotNull().isEmpty();
    browseResult=browseService.browseGroupId("org.apache.karaf",SOURCE_REPO_ID);
    assertNotNull(browseResult);
    assertThat(browseResult.getBrowseResultEntries()).isNotNull().isEmpty();
    log.info("browseResult empty: {}",browseResult);
  }
  finally {
    cleanRepos();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.rest.services.RepositoryGroupServiceTest </h4><pre class="type-3 type-5 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void addAndDelete() throws Exception {
  RepositoryGroupService service=getRepositoryGroupService();
  WebClient.client(service).header("Authorization",authorizationHeader);
  WebClient.getConfig(service).getHttpConduit().getClient().setReceiveTimeout(300000);
  assertTrue(service.getRepositoriesGroups().isEmpty());
  ManagedRepositoriesService managedRepositoriesService=getManagedRepositoriesService(authorizationHeader);
  WebClient.getConfig(service).getHttpConduit().getClient().setReceiveTimeout(300000);
  ManagedRepository managedRepository=getTestManagedRepository();
  managedRepositoriesService.addManagedRepository(managedRepository);
  RepositoryGroup repositoryGroup=new RepositoryGroup("one",Arrays.asList(managedRepository.getId())).mergedIndexTtl(40);
  service.addRepositoryGroup(repositoryGroup);
  assertFalse(service.getRepositoriesGroups().isEmpty());
  assertEquals(1,service.getRepositoriesGroups().size());
  assertEquals(40,service.getRepositoriesGroups().get(0).getMergedIndexTtl());
  service.deleteRepositoryGroup("one");
  assertTrue(service.getRepositoriesGroups().isEmpty());
  assertEquals(0,service.getRepositoriesGroups().size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.rest.services.SearchServiceTest </h4><pre class="type-3 type-5 type-7 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void searchWithSearchRequestExportPackageOneVersion() throws Exception {
  SearchService searchService=getSearchService(authorizationHeader);
  SearchRequest searchRequest=new SearchRequest();
  searchRequest.setBundleExportPackage("org.apache.karaf.features.command.completers");
  searchRequest.setRepositories(Arrays.asList(TEST_REPO));
  List<Artifact> artifacts=searchService.searchArtifacts(searchRequest);
  assertNotNull(artifacts);
  assertTrue(" not 1 results for Bundle ExportPackage org.apache.karaf.features.command.completers but " + artifacts.size() + ":"+ artifacts,artifacts.size() == 1);
  log.info("artifact url {}",artifacts.get(0).getUrl());
}

</code></pre>

<br>
<pre class="type-3 type-5 type-7 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void searchWithSearchNoRepos() throws Exception {
  SearchService searchService=getSearchService(authorizationHeader);
  SearchRequest searchRequest=new SearchRequest();
  searchRequest.setBundleExportPackage("org.apache.karaf.features.command.completers");
  List<Artifact> artifacts=searchService.searchArtifacts(searchRequest);
  assertNotNull(artifacts);
  assertTrue(" not 0 results for Bundle ExportPackage org.apache.karaf.features.command.completers but " + artifacts.size() + ":"+ artifacts,artifacts.size() == 1);
  log.info("artifact url {}",artifacts.get(0).getUrl());
}

</code></pre>

<br>
<pre class="type-3 type-5 type-7 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void searchWithSearchRequestBundleSymbolicNameOneVersion() throws Exception {
  SearchService searchService=getSearchService(authorizationHeader);
  SearchRequest searchRequest=new SearchRequest();
  searchRequest.setBundleSymbolicName("org.apache.karaf.features.command");
  List<Artifact> artifacts=searchService.searchArtifacts(searchRequest);
  assertNotNull(artifacts);
  assertTrue(" not 1 results for Bundle Symbolic Name org.apache.karaf.features.command but " + artifacts.size() + ":"+ artifacts,artifacts.size() == 1);
}

</code></pre>

<br>
<pre class="type-3 type-5 type-7 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void searchWithSearchRequestGroupIdAndArtifactIdAndClassifier() throws Exception {
  SearchService searchService=getSearchService(authorizationHeader);
  SearchRequest searchRequest=new SearchRequest();
  searchRequest.setGroupId("commons-logging");
  searchRequest.setArtifactId("commons-logging");
  searchRequest.setClassifier("sources");
  List<Artifact> artifacts=searchService.searchArtifacts(searchRequest);
  assertNotNull(artifacts);
  assertTrue(" not 2 results for commons-logging search but " + artifacts.size() + ":"+ artifacts,artifacts.size() == 2);
  log.info("artifacts for commons-logging size {} search {}",artifacts.size(),artifacts);
}

</code></pre>

<br>
<pre class="type-3 type-5 type-7 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void quickSearchOnArtifactId() throws Exception {
  SearchService searchService=getSearchService(authorizationHeader);
  List<Artifact> artifacts=searchService.quickSearch("commons-logging");
  assertNotNull(artifacts);
  assertTrue(" not 6 results for commons-logging search but " + artifacts.size() + ":"+ artifacts,artifacts.size() == 6);
  log.info("artifacts for commons-logging size {} search {}",artifacts.size(),artifacts);
}

</code></pre>

<br>
<pre class="type-3 type-5 type-7 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void searchWithSearchUnknwownRepoId() throws Exception {
  SearchService searchService=getSearchService(authorizationHeader);
  SearchRequest searchRequest=new SearchRequest();
  searchRequest.setBundleExportPackage("org.apache.karaf.features.command.completers");
  searchRequest.setRepositories(Arrays.asList("tototititata"));
  List<Artifact> artifacts=searchService.searchArtifacts(searchRequest);
  assertNotNull(artifacts);
  assertTrue(" not 0 results for Bundle ExportPackage org.apache.karaf.features.command.completers but " + artifacts.size() + ":"+ artifacts,artifacts.size() == 0);
}

</code></pre>

<br>
<pre class="type-3 type-5 type-7 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void searchArtifactVersions() throws Exception {
  SearchService searchService=getSearchService(authorizationHeader);
  List<Artifact> artifacts=searchService.getArtifactVersions("commons-logging","commons-logging","jar");
  assertNotNull(artifacts);
  assertTrue(" not 13 results for commons-logging search but " + artifacts.size() + ":"+ artifacts,artifacts.size() == 13);
  log.info("artifacts for commons-logging size {} search {}",artifacts.size(),artifacts);
  for (  Artifact artifact : artifacts) {
    log.info("url: {}",artifact.getUrl());
    String version=artifact.getVersion();
    assertTrue(artifact.getUrl().contains(version));
  }
}

</code></pre>

<br>
<pre class="type-3 type-5 type-7 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * same search but with Guest user
 * @throws Exception
 */
@Test public void quickSearchOnArtifactIdGuest() throws Exception {
  SearchService searchService=getSearchService(null);
  List<Artifact> artifacts=searchService.quickSearch("commons-logging");
  assertNotNull(artifacts);
  assertTrue(" not 6 results for commons-logging search but " + artifacts.size() + ":"+ artifacts,artifacts.size() == 6);
  log.info("artifacts for commons-logging size {} search {}",artifacts.size(),artifacts);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void getAllGroupIds() throws Exception {
  SearchService searchService=getSearchService(authorizationHeader);
  Collection<String> groupIds=searchService.getAllGroupIds(Arrays.asList(TEST_REPO)).getGroupIds();
  log.info("groupIds  {}",groupIds);
  assertFalse(groupIds.isEmpty());
  assertTrue(groupIds.contains("commons-cli"));
  assertTrue(groupIds.contains("org.apache.felix"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.rss.processor.NewArtifactsRssFeedProcessorTest </h4><pre class="type-9 type-3 type-5 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testProcess() throws Exception {
  List<ArtifactMetadata> newArtifacts=new ArrayList<>();
  Date whenGathered=Calendar.getInstance().getTime();
  newArtifacts.add(createArtifact("artifact-one","1.0",whenGathered));
  newArtifacts.add(createArtifact("artifact-one","1.1",whenGathered));
  newArtifacts.add(createArtifact("artifact-one","2.0",whenGathered));
  newArtifacts.add(createArtifact("artifact-two","1.0.1",whenGathered));
  newArtifacts.add(createArtifact("artifact-two","1.0.2",whenGathered));
  newArtifacts.add(createArtifact("artifact-two","1.0.3-SNAPSHOT",whenGathered));
  newArtifacts.add(createArtifact("artifact-three","2.0-SNAPSHOT",whenGathered));
  newArtifacts.add(createArtifact("artifact-four","1.1-beta-2",whenGathered));
  metadataRepository.setArtifactsByDateRange(newArtifacts);
  Map<String,String> reqParams=new HashMap<>();
  reqParams.put(RssFeedProcessor.KEY_REPO_ID,TEST_REPO);
  SyndFeed feed=newArtifactsProcessor.process(reqParams,metadataRepository);
  Calendar cal=Calendar.getInstance(TimeZone.getTimeZone("GMT"));
  cal.add(Calendar.DATE,-30);
  assertTrue((metadataRepository.getFrom().getTime() - cal.getTimeInMillis()) < 1000 * 5);
  assertEquals(null,metadataRepository.getTo());
  assertEquals(TEST_REPO,metadataRepository.getRepoId());
  assertTrue(feed.getTitle().equals("New Artifacts in Repository 'test-repo'"));
  assertTrue(feed.getDescription().equals("New artifacts found in repository 'test-repo' during repository scan."));
  assertTrue(feed.getLanguage().equals("en-us"));
  assertTrue(feed.getPublishedDate().equals(whenGathered));
  List<SyndEntry> entries=feed.getEntries();
  assertEquals(entries.size(),1);
  assertTrue(entries.get(0).getTitle().equals("New Artifacts in Repository 'test-repo' as of " + whenGathered));
  assertTrue(entries.get(0).getPublishedDate().equals(whenGathered));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.scheduler.indexing.ArchivaIndexingTaskExecutorTest </h4><pre class="type-3 type-5 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateArtifactInIndex() throws Exception {
  File artifactFile=new File(repositoryConfig.getLocation(),"org/apache/archiva/archiva-index-methods-jar-test/1.0/archiva-index-methods-jar-test-1.0.jar");
  ArtifactIndexingTask task=new ArtifactIndexingTask(repositoryConfig,artifactFile,ArtifactIndexingTask.Action.ADD,getIndexingContext());
  indexingExecutor.executeTask(task);
  indexingExecutor.executeTask(task);
  BooleanQuery q=new BooleanQuery();
  q.add(indexer.constructQuery(MAVEN.GROUP_ID,new StringSearchExpression("org.apache.archiva")),Occur.SHOULD);
  q.add(indexer.constructQuery(MAVEN.ARTIFACT_ID,new StringSearchExpression("archiva-index-methods-jar-test")),Occur.SHOULD);
  IndexingContext ctx=indexer.getIndexingContexts().get(repositoryConfig.getId());
  IndexSearcher searcher=ctx.acquireIndexSearcher();
  TopDocs topDocs=searcher.search(q,null,10);
  ctx.releaseIndexSearcher(searcher);
  assertTrue(new File(repositoryConfig.getLocation(),".indexer").exists());
  assertFalse(new File(repositoryConfig.getLocation(),".index").exists());
  assertEquals(1,topDocs.totalHits);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-5 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddArtifactToIndex() throws Exception {
  File artifactFile=new File(repositoryConfig.getLocation(),"org/apache/archiva/archiva-index-methods-jar-test/1.0/archiva-index-methods-jar-test-1.0.jar");
  ArtifactIndexingTask task=new ArtifactIndexingTask(repositoryConfig,artifactFile,ArtifactIndexingTask.Action.ADD,getIndexingContext());
  indexingExecutor.executeTask(task);
  BooleanQuery q=new BooleanQuery();
  q.add(indexer.constructQuery(MAVEN.GROUP_ID,new StringSearchExpression("org.apache.archiva")),Occur.SHOULD);
  q.add(indexer.constructQuery(MAVEN.ARTIFACT_ID,new StringSearchExpression("archiva-index-methods-jar-test")),Occur.SHOULD);
  if (!indexer.getIndexingContexts().containsKey(repositoryConfig.getId())) {
    IndexingContext context=indexer.addIndexingContext(repositoryConfig.getId(),repositoryConfig.getId(),new File(repositoryConfig.getLocation()),new File(repositoryConfig.getLocation(),".indexer"),null,null,mavenIndexerUtils.getAllIndexCreators());
    context.setSearchable(true);
  }
  FlatSearchRequest request=new FlatSearchRequest(q);
  FlatSearchResponse response=indexer.searchFlat(request);
  assertTrue(new File(repositoryConfig.getLocation(),".indexer").exists());
  assertFalse(new File(repositoryConfig.getLocation(),".index").exists());
  assertEquals(1,response.getTotalHits());
  Set<ArtifactInfo> results=response.getResults();
  ArtifactInfo artifactInfo=results.iterator().next();
  assertEquals("org.apache.archiva",artifactInfo.groupId);
  assertEquals("archiva-index-methods-jar-test",artifactInfo.artifactId);
  assertEquals("test-repo",artifactInfo.repository);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-5 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPackagedIndex() throws Exception {
  File indexerDirectory=new File(repositoryConfig.getLocation(),".indexer");
  indexerDirectory.listFiles(new FilenameFilter(){
    @Override public boolean accept(    File file,    String s){
      if (s.startsWith("nexus-maven-repository-index")) {
        new File(file,s).delete();
      }
      return false;
    }
  }
);
  File artifactFile=new File(repositoryConfig.getLocation(),"org/apache/archiva/archiva-index-methods-jar-test/1.0/archiva-index-methods-jar-test-1.0.jar");
  ArtifactIndexingTask task=new ArtifactIndexingTask(repositoryConfig,artifactFile,ArtifactIndexingTask.Action.ADD,getIndexingContext());
  task.setExecuteOnEntireRepo(false);
  indexingExecutor.executeTask(task);
  task=new ArtifactIndexingTask(repositoryConfig,null,ArtifactIndexingTask.Action.FINISH,getIndexingContext());
  task.setExecuteOnEntireRepo(false);
  indexingExecutor.executeTask(task);
  assertTrue(indexerDirectory.exists());
  assertTrue(new File(indexerDirectory,"nexus-maven-repository-index.zip").exists());
  assertTrue(new File(indexerDirectory,"nexus-maven-repository-index.properties").exists());
  assertTrue(new File(indexerDirectory,"nexus-maven-repository-index.gz").exists());
  File destDir=new File(repositoryConfig.getLocation(),".indexer/tmp");
  unzipIndex(indexerDirectory.getPath(),destDir.getPath());
  BooleanQuery q=new BooleanQuery();
  q.add(indexer.constructQuery(MAVEN.GROUP_ID,new StringSearchExpression("org.apache.archiva")),Occur.SHOULD);
  q.add(indexer.constructQuery(MAVEN.ARTIFACT_ID,new StringSearchExpression("archiva-index-methods-jar-test")),Occur.SHOULD);
  FlatSearchRequest request=new FlatSearchRequest(q,getIndexingContext());
  FlatSearchResponse response=indexer.searchFlat(request);
  Set<ArtifactInfo> results=response.getResults();
  ArtifactInfo artifactInfo=results.iterator().next();
  assertEquals("org.apache.archiva",artifactInfo.groupId);
  assertEquals("archiva-index-methods-jar-test",artifactInfo.artifactId);
  assertEquals("test-repo",artifactInfo.repository);
  assertEquals(1,response.getTotalHits());
}

</code></pre>

<br>
<pre class="type-3 type-5 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRemoveArtifactFromIndex() throws Exception {
  File artifactFile=new File(repositoryConfig.getLocation(),"org/apache/archiva/archiva-index-methods-jar-test/1.0/archiva-index-methods-jar-test-1.0.jar");
  ArtifactIndexingTask task=new ArtifactIndexingTask(repositoryConfig,artifactFile,ArtifactIndexingTask.Action.ADD,getIndexingContext());
  indexingExecutor.executeTask(task);
  BooleanQuery q=new BooleanQuery();
  q.add(indexer.constructQuery(MAVEN.GROUP_ID,new SourcedSearchExpression("org.apache.archiva")),Occur.SHOULD);
  FlatSearchRequest flatSearchRequest=new FlatSearchRequest(q,indexer.getIndexingContexts().get(repositoryConfig.getId()));
  FlatSearchResponse response=indexer.searchFlat(flatSearchRequest);
  assertTrue(new File(repositoryConfig.getLocation(),".indexer").exists());
  assertFalse(new File(repositoryConfig.getLocation(),".index").exists());
  assertEquals(1,response.getTotalHitsCount());
  task=new ArtifactIndexingTask(repositoryConfig,artifactFile,ArtifactIndexingTask.Action.DELETE,getIndexingContext());
  indexingExecutor.executeTask(task);
  task=new ArtifactIndexingTask(repositoryConfig,artifactFile,ArtifactIndexingTask.Action.FINISH,getIndexingContext());
  indexingExecutor.executeTask(task);
  q=new BooleanQuery();
  q.add(indexer.constructQuery(MAVEN.GROUP_ID,new SourcedSearchExpression("org.apache.archiva")),Occur.SHOULD);
  q.add(indexer.constructQuery(MAVEN.ARTIFACT_ID,new SourcedSearchExpression("archiva-index-methods-jar-test")),Occur.SHOULD);
  assertTrue(new File(repositoryConfig.getLocation(),".indexer").exists());
  assertFalse(new File(repositoryConfig.getLocation(),".index").exists());
  flatSearchRequest=new FlatSearchRequest(q,getIndexingContext());
  response=indexer.searchFlat(flatSearchRequest);
  assertEquals(0,response.getTotalHitsCount());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutorAbstractTest </h4><pre class="type-1 type-3 type-7 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  File sourceRepoDir=new File("./src/test/repositories/default-repository");
  repoDir=new File("./target/default-repository");
  FileUtils.deleteDirectory(repoDir);
  assertFalse("Default Test Repository should not exist.",repoDir.exists());
  repoDir.mkdir();
  FileUtils.copyDirectoryStructure(sourceRepoDir,repoDir);
  Calendar cal=Calendar.getInstance();
  cal.add(Calendar.YEAR,-1);
  for (  File f : (List<File>)FileUtils.getFiles(repoDir,"**",null)) {
    f.setLastModified(cal.getTimeInMillis());
  }
  for (  String dir : (List<String>)FileUtils.getDirectoryNames(repoDir,"**/.svn",null,false)) {
    FileUtils.deleteDirectory(new File(repoDir,dir));
  }
  assertTrue("Default Test Repository should exist.",repoDir.exists() && repoDir.isDirectory());
  assertNotNull(archivaConfig);
  ManagedRepositoryConfiguration repositoryConfiguration=new ManagedRepositoryConfiguration();
  repositoryConfiguration.setId(TEST_REPO_ID);
  repositoryConfiguration.setName("Test Repository");
  repositoryConfiguration.setLocation(repoDir.getAbsolutePath());
  archivaConfig.getConfiguration().getManagedRepositories().clear();
  archivaConfig.getConfiguration().addManagedRepository(repositoryConfiguration);
  metadataRepository=mock(MetadataRepository.class);
  factory.setRepository(metadataRepository);
}

</code></pre>

<br>
<pre class="type-11 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@After @Override public void tearDown() throws Exception {
  FileUtils.deleteDirectory(repoDir);
  assertFalse(repoDir.exists());
  super.tearDown();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutorPhase2Test </h4><pre class="type-3 type-5 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExecutorScanOnlyNewArtifacts() throws Exception {
  RepositoryTask repoTask=new RepositoryTask();
  repoTask.setRepositoryId(TEST_REPO_ID);
  repoTask.setScanAll(false);
  createAndSaveTestStats();
  taskExecutor.executeTask(repoTask);
  Collection<ArtifactReference> unprocessedResultList=testConsumer.getConsumed();
  assertNotNull(unprocessedResultList);
  assertEquals("Incorrect number of unprocessed artifacts detected. No new artifacts should have been found.",0,unprocessedResultList.size());
  RepositoryStatistics newStats=repositoryStatisticsManager.getLastStatistics(metadataRepository,TEST_REPO_ID);
  assertEquals(0,newStats.getNewFileCount());
  assertEquals(31,newStats.getTotalFileCount());
  File newArtifactGroup=new File(repoDir,"org/apache/archiva");
  assertFalse("newArtifactGroup should not exist.",newArtifactGroup.exists());
  FileUtils.copyDirectoryStructure(new File("target/test-classes/test-repo/org/apache/archiva"),newArtifactGroup);
  new File(newArtifactGroup,"archiva-index-methods-jar-test/1.0/pom.xml").setLastModified(Calendar.getInstance().getTimeInMillis() + 1000);
  new File(newArtifactGroup,"archiva-index-methods-jar-test/1.0/archiva-index-methods-jar-test-1.0.jar").setLastModified(Calendar.getInstance().getTimeInMillis() + 1000);
  assertTrue(newArtifactGroup.exists());
  taskExecutor.executeTask(repoTask);
  unprocessedResultList=testConsumer.getConsumed();
  assertNotNull(unprocessedResultList);
  assertEquals("Incorrect number of unprocessed artifacts detected. One new artifact should have been found.",1,unprocessedResultList.size());
  RepositoryStatistics updatedStats=repositoryStatisticsManager.getLastStatistics(metadataRepository,TEST_REPO_ID);
  assertEquals(2,updatedStats.getNewFileCount());
  assertEquals(33,updatedStats.getTotalFileCount());
}

</code></pre>

<br>
<pre class="type-3 type-5 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExecutorScanOnlyNewArtifactsMidScan() throws Exception {
  RepositoryTask repoTask=new RepositoryTask();
  repoTask.setRepositoryId(TEST_REPO_ID);
  repoTask.setScanAll(false);
  createAndSaveTestStats();
  File newArtifactGroup=new File(repoDir,"org/apache/archiva");
  assertFalse("newArtifactGroup should not exist.",newArtifactGroup.exists());
  FileUtils.copyDirectoryStructure(new File("target/test-classes/test-repo/org/apache/archiva"),newArtifactGroup);
  new File(newArtifactGroup,"archiva-index-methods-jar-test/1.0/pom.xml").setLastModified(Calendar.getInstance().getTimeInMillis() - 50000);
  new File(newArtifactGroup,"archiva-index-methods-jar-test/1.0/archiva-index-methods-jar-test-1.0.jar").setLastModified(Calendar.getInstance().getTimeInMillis() - 50000);
  assertTrue(newArtifactGroup.exists());
  taskExecutor.executeTask(repoTask);
  Collection<ArtifactReference> unprocessedResultList=testConsumer.getConsumed();
  assertNotNull(unprocessedResultList);
  assertEquals("Incorrect number of unprocessed artifacts detected. One new artifact should have been found.",1,unprocessedResultList.size());
  RepositoryStatistics newStats=repositoryStatisticsManager.getLastStatistics(metadataRepository,TEST_REPO_ID);
  assertEquals(2,newStats.getNewFileCount());
  assertEquals(33,newStats.getTotalFileCount());
}

</code></pre>

<br>
<pre class="type-3 type-5 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExecutorScanOnlyNewArtifactsChangeTimes() throws Exception {
  RepositoryTask repoTask=new RepositoryTask();
  repoTask.setRepositoryId(TEST_REPO_ID);
  repoTask.setScanAll(false);
  createAndSaveTestStats();
  File newArtifactGroup=new File(repoDir,"org/apache/archiva");
  assertFalse("newArtifactGroup should not exist.",newArtifactGroup.exists());
  FileUtils.copyDirectoryStructure(new File("target/test-classes/test-repo/org/apache/archiva"),newArtifactGroup);
  new File(newArtifactGroup,"archiva-index-methods-jar-test/1.0/pom.xml").setLastModified(Calendar.getInstance().getTimeInMillis() + 1000);
  new File(newArtifactGroup,"archiva-index-methods-jar-test/1.0/archiva-index-methods-jar-test-1.0.jar").setLastModified(Calendar.getInstance().getTimeInMillis() + 1000);
  assertTrue(newArtifactGroup.exists());
  taskExecutor.executeTask(repoTask);
  Collection<ArtifactReference> unprocessedResultList=testConsumer.getConsumed();
  assertNotNull(unprocessedResultList);
  assertEquals("Incorrect number of unprocessed artifacts detected. One new artifact should have been found.",1,unprocessedResultList.size());
  RepositoryStatistics newStats=repositoryStatisticsManager.getLastStatistics(metadataRepository,TEST_REPO_ID);
  assertEquals(2,newStats.getNewFileCount());
  assertEquals(33,newStats.getTotalFileCount());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.security.ArchivaServletAuthenticatorTest </h4><pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsAuthenticatedUserExists() throws Exception {
  AuthenticationResult result=new AuthenticationResult(true,"user",null);
  boolean isAuthenticated=servletAuth.isAuthenticated(request,result);
  assertTrue(isAuthenticated);
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsAuthorizedGuestUserHasWriteAccess() throws Exception {
  assignRepositoryManagerRole(USER_GUEST,"corporate");
  boolean isAuthorized=servletAuth.isAuthorized(USER_GUEST,"corporate",ArchivaRoleConstants.OPERATION_REPOSITORY_UPLOAD);
  assertTrue(isAuthorized);
  restoreGuestInitialValues(USER_GUEST);
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsAuthorizedUserHasReadAccess() throws Exception {
  createUser(USER_ALPACA,"Al 'Archiva' Paca");
  assignRepositoryObserverRole(USER_ALPACA,"corporate");
  UserManager userManager=securitySystem.getUserManager();
  User user=userManager.findUser(USER_ALPACA);
  AuthenticationResult result=new AuthenticationResult(true,USER_ALPACA,null);
  SecuritySession session=new DefaultSecuritySession(result,user);
  boolean isAuthorized=servletAuth.isAuthorized(request,session,"corporate",ArchivaRoleConstants.OPERATION_REPOSITORY_ACCESS);
  assertTrue(isAuthorized);
  restoreGuestInitialValues(USER_ALPACA);
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsAuthorizedGuestUserHasNoReadAccess() throws Exception {
  boolean isAuthorized=servletAuth.isAuthorized(USER_GUEST,"corporate",ArchivaRoleConstants.OPERATION_REPOSITORY_ACCESS);
  assertFalse(isAuthorized);
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsAuthorizedGuestUserHasNoWriteAccess() throws Exception {
  assignRepositoryObserverRole(USER_GUEST,"corporate");
  boolean isAuthorized=servletAuth.isAuthorized(USER_GUEST,"corporate",ArchivaRoleConstants.OPERATION_REPOSITORY_UPLOAD);
  assertFalse(isAuthorized);
  restoreGuestInitialValues(USER_GUEST);
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsAuthorizedUserHasWriteAccess() throws Exception {
  createUser(USER_ALPACA,"Al 'Archiva' Paca");
  assignRepositoryManagerRole(USER_ALPACA,"corporate");
  UserManager userManager=securitySystem.getUserManager();
  User user=userManager.findUser(USER_ALPACA);
  AuthenticationResult result=new AuthenticationResult(true,USER_ALPACA,null);
  SecuritySession session=new DefaultSecuritySession(result,user);
  boolean isAuthorized=servletAuth.isAuthorized(request,session,"corporate",ArchivaRoleConstants.OPERATION_REPOSITORY_UPLOAD);
  assertTrue(isAuthorized);
  restoreGuestInitialValues(USER_ALPACA);
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsAuthorizedGuestUserHasReadAccess() throws Exception {
  assignRepositoryObserverRole(USER_GUEST,"corporate");
  boolean isAuthorized=servletAuth.isAuthorized(USER_GUEST,"corporate",ArchivaRoleConstants.OPERATION_REPOSITORY_ACCESS);
  assertTrue(isAuthorized);
  restoreGuestInitialValues(USER_GUEST);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.security.RoleManagerTest </h4><pre class="type-3 type-5 type-7 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExpectedRoles() throws Exception {
  assertNotNull(roleManager);
  assertTrue(roleManager.roleExists("system-administrator"));
  assertTrue(roleManager.roleExists("user-administrator"));
  assertTrue(roleManager.roleExists("archiva-global-repository-observer"));
  assertTrue(roleManager.roleExists("archiva-guest"));
  assertTrue(roleManager.roleExists("guest"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.stagerepository.merge.Maven2RepositoryMergerTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testMerge() throws Exception {
  String targetRepoPath="target" + File.separatorChar + "test-repository-target";
  File mergedArtifact=new File(targetRepoPath,"com/example/test/test-artifact/1.0-SNAPSHOT/test-artifact-1.0-20100308.230825-1.jar");
  File mavenMetadata=new File(targetRepoPath,"com/example/test/test-artifact/maven-metadata.xml");
  File pom=new File(targetRepoPath,"com/example/test/test-artifact/1.0-SNAPSHOT/test-artifact-1.0-20100308.230825-1.pom");
  assertFalse(mergedArtifact.exists());
  assertFalse(mavenMetadata.exists());
  assertFalse(pom.exists());
  Configuration c=new Configuration();
  ManagedRepositoryConfiguration testRepo=new ManagedRepositoryConfiguration();
  testRepo.setId(TEST_REPO_ID);
  testRepo.setLocation("target" + File.separatorChar + "test-repository");
  RepositoryScanningConfiguration repoScanConfig=new RepositoryScanningConfiguration();
  List<String> knownContentConsumers=new ArrayList<>();
  knownContentConsumers.add("metadata-updater12");
  repoScanConfig.setKnownContentConsumers(knownContentConsumers);
  c.setRepositoryScanning(repoScanConfig);
  ManagedRepositoryConfiguration targetRepo=new ManagedRepositoryConfiguration();
  targetRepo.setId("target-rep");
  targetRepo.setLocation(targetRepoPath);
  c.addManagedRepository(testRepo);
  c.addManagedRepository(targetRepo);
  configuration.save(c);
  when(metadataRepository.getArtifacts(TEST_REPO_ID)).thenReturn(getArtifacts());
  repositoryMerger.merge(metadataRepository,TEST_REPO_ID,"target-rep");
  verify(metadataRepository).getArtifacts(TEST_REPO_ID);
  assertTrue(mergedArtifact.exists());
  assertTrue(mavenMetadata.exists());
  assertTrue(pom.exists());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.transaction.CopyFileEventTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testCreateRollbackCommit() throws Exception {
  CopyFileEvent event=new CopyFileEvent(testSource,testDest,digesters);
  assertFalse("Test that the destination is not yet created",testDest.exists());
  event.rollback();
  assertFalse("Test that the destination file is not yet created",testDest.exists());
  event.commit();
  assertTrue("Test that the destination is created",testDest.exists());
  assertChecksumCommit(testDest);
  String target=readFile(testDest);
  assertTrue("Test that the destination contents are copied correctly",source.equals(target));
}

</code></pre>

<br>
<pre class="type-9 type-1 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Override @Before public void setUp() throws Exception {
  super.setUp();
  testSource.getParentFile().mkdirs();
  testSource.createNewFile();
  writeFile(testSource,"source contents");
  testDestChecksum=new File(testDest.getPath() + ".sha1");
  testDestChecksum.getParentFile().mkdirs();
  testDestChecksum.createNewFile();
  writeFile(testDestChecksum,"this is the checksum");
  assertTrue("Test if the source exists",testSource.exists());
  assertTrue("Test if the destination checksum exists",testDestChecksum.exists());
  source=readFile(testSource);
  oldChecksum=readFile(testDestChecksum);
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testCopyCommitRollbackWithBackup() throws Exception {
  testDest.getParentFile().mkdirs();
  testDest.createNewFile();
  writeFile(testDest,"overwritten contents");
  assertTrue("Test that the destination exists",testDest.exists());
  CopyFileEvent event=new CopyFileEvent(testSource,testDest,digesters);
  String target=readFile(testDest);
  assertTrue("Test that the destination contents have not changed",target.equals("overwritten contents"));
  event.commit();
  target=readFile(testDest);
  assertTrue("Test that the destination contents are copied correctly",source.equals(target));
  assertChecksumCommit(testDest);
  event.rollback();
  target=readFile(testDest);
  assertTrue("Test the destination file contents have been restored",target.equals("overwritten contents"));
  assertChecksumRollback(testDest);
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testCopyCommitRollback() throws Exception {
  CopyFileEvent event=new CopyFileEvent(testSource,testDest,digesters);
  assertFalse("Test that the destination is not yet created",testDest.exists());
  event.commit();
  assertTrue("Test that the destination is created",testDest.exists());
  assertChecksumCommit(testDest);
  String target=readFile(testDest);
  assertTrue("Test that the destination contents are copied correctly",source.equals(target));
  event.rollback();
  assertFalse("Test that the destination file has been deleted",testDest.exists());
  assertChecksumRollback(testDest);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.transaction.CreateFileEventTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testCreateCommitRollback() throws Exception {
  File testFile=new File(testDir,"test-file.txt");
  CreateFileEvent event=new CreateFileEvent("file contents",testFile,digesters);
  assertFalse("Test file is not yet created",testFile.exists());
  event.commit();
  assertTrue("Test file has been created",testFile.exists());
  assertChecksumCommit(testFile);
  event.rollback();
  assertFalse("Test file is has been deleted after rollback",testFile.exists());
  assertChecksumRollback(testFile);
  assertFalse("Test file parent directories has been rolledback too",testDir.exists());
  assertTrue("target directory still exists",new File(FileUtil.getBasedir(),"target").exists());
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testCreateRollbackCommit() throws Exception {
  File testFile=new File(testDir,"test-file.txt");
  CreateFileEvent event=new CreateFileEvent("file contents",testFile,digesters);
  assertFalse("Test file is not yet created",testFile.exists());
  event.rollback();
  assertFalse("Test file is not yet created",testFile.exists());
  event.commit();
  assertTrue("Test file is not yet created",testFile.exists());
  assertChecksumCommit(testFile);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.web.test.RepositoryAdminTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testManagedRepository(){
  login(getAdminUsername(),getAdminPassword());
  clickLinkWithLocator("menu-repositories-list-a",true);
  assertTextPresent("Repositories Administration ");
  clickLinkWithXPath("//a[@href='#remote-repositories-content']",true);
  clickLinkWithXPath("//a[@href='#remote-repository-edit']",true);
  setFieldValue("id","myrepoid");
  setFieldValue("name","My repo name");
  setFieldValue("url","http://www.repo.org");
  clickButtonWithLocator("remote-repository-save-button",true);
  clickLinkWithLocator("menu-proxy-connectors-list-a",true);
  assertTextPresent("Proxy Connectors");
  assertTextPresent("central");
  assertTextNotPresent("myrepoid");
  clickButtonWithLocator("proxy-connectors-view-tabs-a-edit",true);
  getSelenium().select("sourceRepoId","internal");
  getSelenium().select("targetRepoId","myrepoid");
  clickButtonWithLocator("proxy-connector-btn-save",true);
  assertTextPresent("central");
  assertTextPresent("myrepoid");
  clickLinkWithXPath("//i[contains(concat(' ',normalize-space(@class),' '),' icon-resize-vertical ')]/../..",true);
  assertTextPresent("internal");
  Assert.assertTrue("First repo is myrepo",getSelenium().getText("xpath=//div[@id='proxy-connector-edit-order-div']/div[1]").contains("myrepoid"));
  Assert.assertTrue("Second repo is central",getSelenium().getText("xpath=//div[@id='proxy-connector-edit-order-div']/div[2]").contains("central"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.web.test.RolesManagementTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testReadRolesAndUpdateDescription() throws Exception {
  login(getAdminUsername(),getAdminPassword());
  clickLinkWithLocator("menu-roles-list-a",true);
  assertTextPresent("Archiva System Administrator ");
  Assert.assertTrue(StringUtils.isEmpty(getText("role-description-Guest")));
  clickLinkWithLocator("edit-role-Guest");
  String desc="The guest description";
  setFieldValue("role-edit-description",desc);
  clickButtonWithLocator("role-edit-description-save");
  clickLinkWithLocator("roles-view-tabs-a-roles-grid");
  Assert.assertTrue(StringUtils.equals(desc,getText("role-description-Guest")));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.webdav.ArchivaDavSessionTest </h4><pre class="type-10 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddReferencesThrowsUnsupportedOperationException(){
  ArchivaDavSession session=new ArchivaDavSession();
  try {
    session.addReference(new Object());
    fail("Did not throw UnsupportedOperationException");
  }
 catch (  UnsupportedOperationException e) {
    assertTrue(true);
  }
}

</code></pre>

<br>
<pre class="type-10 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRemoveReferencesThrowsUnsupportedOperationException(){
  ArchivaDavSession session=new ArchivaDavSession();
  try {
    session.removeReference(new Object());
    fail("Did not throw UnsupportedOperationException");
  }
 catch (  UnsupportedOperationException e) {
    assertTrue(true);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.webdav.DavResourceTest </h4><pre class="type-1 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Override @Before public void setUp() throws Exception {
  super.setUp();
  session=new ArchivaDavSession();
  baseDir=new File("target/DavResourceTest");
  baseDir.mkdirs();
  myResource=new File(baseDir,"myresource.jar");
  assertTrue("Could not create " + myResource.getAbsolutePath(),myResource.createNewFile());
  resourceFactory=new RootContextDavResourceFactory();
  resourceLocator=(ArchivaDavResourceLocator)new ArchivaDavLocatorFactory().createResourceLocator("/",REPOPATH);
  resource=getDavResource(resourceLocator.getHref(false),myResource);
  lockManager=new SimpleLockManager();
  resource.addLockManager(lockManager);
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testDeleteResource() throws Exception {
  assertTrue(myResource.exists());
  resource.getCollection().removeMember(resource);
  assertFalse(myResource.exists());
}

</code></pre>

<br>
<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsLockable(){
  assertTrue(resource.isLockable(Type.WRITE,Scope.EXCLUSIVE));
  assertFalse(resource.isLockable(Type.WRITE,Scope.SHARED));
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testDeleteCollection() throws Exception {
  File dir=new File(baseDir,"testdir");
  try {
    assertTrue(dir.mkdir());
    DavResource directoryResource=getDavResource("/testdir",dir);
    directoryResource.getCollection().removeMember(directoryResource);
    assertFalse(dir.exists());
  }
  finally {
    FileUtils.deleteDirectory(dir);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.webdav.RepositoryServletDeployTest </h4><pre class="type-9 type-3 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMkColWithMissingParentCollectionFails() throws Exception {
  setupCleanRepo(repoRootInternal);
  String putUrl="http://machine.com/repository/internal/path/to/";
  WebRequest request=new MkColMethodWebRequest(putUrl);
  WebResponse response=getServletUnitClient().getResponse(request);
  assertEquals(HttpServletResponse.SC_CONFLICT,response.getStatusCode());
  File mkColLocalPath=new File(repoRootInternal,"path/to/");
  assertFalse(mkColLocalPath.exists());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.webdav.RepositoryServletSecurityTest </h4><pre class="type-3 type-7 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPutWithValidUserWithWriteAccess() throws Exception {
  assertTrue(repoRootInternal.getRoot().exists());
  MockHttpServletRequest mockHttpServletRequest=new MockHttpServletRequest();
  String putUrl="http://machine.com/repository/internal/path/to/artifact.jar";
  InputStream is=getClass().getResourceAsStream("/artifact.jar");
  assertNotNull("artifact.jar inputstream",is);
  servlet.setDavSessionProvider(davSessionProvider);
  ArchivaDavResourceFactory archivaDavResourceFactory=(ArchivaDavResourceFactory)servlet.getResourceFactory();
  archivaDavResourceFactory.setHttpAuth(httpAuth);
  archivaDavResourceFactory.setServletAuth(servletAuth);
  TestAuditListener listener=new TestAuditListener();
  archivaDavResourceFactory.addAuditListener(listener);
  servlet.setResourceFactory(archivaDavResourceFactory);
  AuthenticationResult result=new AuthenticationResult();
  EasyMock.expect(httpAuth.getAuthenticationResult(anyObject(HttpServletRequest.class),anyObject(HttpServletResponse.class))).andReturn(result);
  EasyMock.expect(servletAuth.isAuthenticated(anyObject(HttpServletRequest.class),anyObject(AuthenticationResult.class))).andReturn(true);
  User user=new SimpleUser();
  user.setUsername("admin");
  SecuritySession session=new DefaultSecuritySession();
  EasyMock.expect(httpAuth.getAuthenticationResult(anyObject(HttpServletRequest.class),anyObject(HttpServletResponse.class))).andReturn(result);
  EasyMock.expect(httpAuth.getSecuritySession(mockHttpServletRequest.getSession())).andReturn(session);
  EasyMock.expect(httpAuth.getSessionUser(mockHttpServletRequest.getSession())).andReturn(user);
  EasyMock.expect(servletAuth.isAuthenticated(anyObject(HttpServletRequest.class),eq(result))).andReturn(true);
  EasyMock.expect(servletAuth.isAuthorized(anyObject(HttpServletRequest.class),eq(session),eq("internal"),eq(ArchivaRoleConstants.OPERATION_REPOSITORY_UPLOAD))).andReturn(true);
  httpAuthControl.replay();
  servletAuthControl.replay();
  mockHttpServletRequest.addHeader("User-Agent","foo");
  mockHttpServletRequest.setMethod("PUT");
  mockHttpServletRequest.setRequestURI("/repository/internal/path/to/artifact.jar");
  mockHttpServletRequest.setContent(IOUtils.toByteArray(is));
  mockHttpServletRequest.setContentType("application/octet-stream");
  MockHttpServletResponse mockHttpServletResponse=new MockHttpServletResponse();
  servlet.service(mockHttpServletRequest,mockHttpServletResponse);
  httpAuthControl.verify();
  servletAuthControl.verify();
  assertEquals(HttpServletResponse.SC_CREATED,mockHttpServletResponse.getStatus());
  assertEquals("admin",listener.getEvents().get(0).getUserId());
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
