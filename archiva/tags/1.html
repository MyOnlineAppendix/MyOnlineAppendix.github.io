<h3><span class=" glyphicon glyphicon-tag"/>&nbspTestInitializer</h3><kbd>Allocates resources before the execution of the test cases</kbd><br><br><br><h4 style="margin:0px">Class: $package.SimpleArtifactConsumerTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  setUpMockRepository();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.RuntimeInfoServiceTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void startServer() throws Exception {
  File appServerBase=new File(System.getProperty("appserver.base"));
  File jcrDirectory=new File(appServerBase,"jcr");
  if (jcrDirectory.exists()) {
    FileUtils.deleteDirectory(jcrDirectory);
  }
  super.startServer();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.audit.AuditManagerTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void setUp() throws Exception {
  super.setUp();
  auditManager=new DefaultAuditManager();
  metadataRepositoryControl=EasyMock.createControl();
  metadataRepository=metadataRepositoryControl.createMock(MetadataRepository.class);
  ManagedRepositoryConfiguration repository=new ManagedRepositoryConfiguration();
  repository.setId(TEST_REPO_ID);
  repository.setLocation("");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.checksum.ChecksummedFileTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void cleanTestDir(){
  try {
    FileUtils.deleteDirectory(getTestOutputDir());
  }
 catch (  IOException ex) {
    LoggerFactory.getLogger(ChecksummedFileTest.class).warn(ex.getMessage(),ex);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.common.filelock.DefaultFileLockManagerTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void initialize(){
  fileLockManager.setSkipLocking(false);
  fileLockManager.clearLockFiles();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.common.filelock.DefaultFileLockManagerTimeoutTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void initialize(){
  fileLockManager.setSkipLocking(false);
  fileLockManager.setTimeout(5000);
  fileLockManager.clearLockFiles();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.configuration.MavenProxyPropertyLoaderTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  loader=new MavenProxyPropertyLoader();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.consumers.core.AbstractArtifactConsumerTest </h4><pre class="type-1 type-5 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setUp() throws Exception {
  FileType fileType=(FileType)archivaConfiguration.getConfiguration().getRepositoryScanning().getFileTypes().get(0);
  assertEquals(FileTypes.ARTIFACTS,fileType.getId());
  fileType.addPattern("**/*.xml");
  repoLocation=new File("target/test-" + getName() + "/test-repo");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.consumers.core.ArtifactMissingChecksumsConsumerTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  repoConfig=new ManagedRepository();
  repoConfig.setId("test-repo");
  repoConfig.setName("Test Repository");
  repoConfig.setLayout("default");
  repoConfig.setLocation(new File("target/test-classes/test-repo/").getPath());
  consumer=applicationContext.getBean("knownRepositoryContentConsumer#create-missing-checksums",KnownRepositoryContentConsumer.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.consumers.core.MetadataUpdateConsumerTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  consumer=applicationContext.getBean("knownRepositoryContentConsumer#metadata-updater",KnownRepositoryContentConsumer.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.consumers.core.repository.AbstractRepositoryPurgeTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  removeMavenIndexes();
  listenerControl=EasyMock.createControl();
  listener=listenerControl.createMock(RepositoryListener.class);
  repositorySession=mock(RepositorySession.class);
  metadataRepository=mock(MetadataRepository.class);
  when(repositorySession.getRepository()).thenReturn(metadataRepository);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.consumers.core.repository.CleanupReleasedSnapshotsRepositoryPurgeTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  RepositoryContentFactory factory=applicationContext.getBean("repositoryContentFactory#cleanup-released-snapshots",RepositoryContentFactory.class);
  archivaConfiguration=applicationContext.getBean("archivaConfiguration#cleanup-released-snapshots",ArchivaConfiguration.class);
  listenerControl=EasyMock.createControl();
  listener=listenerControl.createMock(RepositoryListener.class);
  List<RepositoryListener> listeners=Collections.singletonList(listener);
  repoPurge=new CleanupReleasedSnapshotsRepositoryPurge(getRepository(),metadataTools,applicationContext.getBean(ManagedRepositoryAdmin.class),factory,repositorySession,listeners);
  ((DefaultManagedRepositoryAdmin)applicationContext.getBean(ManagedRepositoryAdmin.class)).setArchivaConfiguration(archivaConfiguration);
  removeMavenIndexes();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.consumers.core.repository.RepositoryPurgeConsumerTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  MockRepositorySessionFactory factory=applicationContext.getBean(MockRepositorySessionFactory.class);
  factory.setRepository(metadataRepository);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.consumers.core.repository.RetentionCountRepositoryPurgeTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  ManagedRepository repoConfiguration=getRepoConfiguration(TEST_REPO_ID,TEST_REPO_NAME);
  List<RepositoryListener> listeners=Collections.singletonList(listener);
  repoPurge=new RetentionCountRepositoryPurge(getRepository(),repoConfiguration.getRetentionCount(),repositorySession,listeners);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.consumers.lucene.NexusIndexerConsumerTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void setUp() throws Exception {
  super.setUp();
  scheduler=new ArchivaTaskSchedulerStub();
  ArchivaConfiguration configuration=applicationContext.getBean(ArchivaConfiguration.class);
  FileTypes filetypes=applicationContext.getBean(FileTypes.class);
  nexusIndexerConsumer=new NexusIndexerConsumer(scheduler,configuration,filetypes,plexusSisuBridge,mavenIndexerUtils,managedRepositoryAdmin);
  ((NexusIndexerConsumer)nexusIndexerConsumer).initialize();
  repositoryConfig=new ManagedRepository();
  repositoryConfig.setId("test-repo");
  repositoryConfig.setLocation("target/test-classes/test-repo");
  repositoryConfig.setLayout("default");
  repositoryConfig.setName("Test Repository");
  repositoryConfig.setScanned(true);
  repositoryConfig.setSnapshots(false);
  repositoryConfig.setReleases(true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.converter.RepositoryConverterTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  ArtifactRepositoryFactory factory=plexusSisuBridge.lookup(ArtifactRepositoryFactory.class);
  ArtifactRepositoryLayout layout=plexusSisuBridge.lookup(ArtifactRepositoryLayout.class,"legacy");
  File sourceBase=new File("src/test/source-repository");
  sourceRepository=factory.createArtifactRepository("source",sourceBase.toURL().toString(),layout,null,null);
  layout=plexusSisuBridge.lookup(ArtifactRepositoryLayout.class,"default");
  File targetBase=new File("target/test-target-repository");
  copyDirectoryStructure(new File("src/test/target-repository"),targetBase);
  targetRepository=new ManagedRepositoryConfiguration();
  targetRepository.setId("target");
  targetRepository.setName("Target Repo");
  targetRepository.setLocation(targetBase.getAbsolutePath());
  targetRepository.setLayout("default");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.converter.artifact.LegacyToDefaultConverterTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void init() throws Exception {
  super.setUp();
  ArtifactRepositoryFactory factory=plexusSisuBridge.lookup(ArtifactRepositoryFactory.class);
  Map<String,ArtifactRepositoryLayout> layoutsMap=plexusSisuBridge.lookupMap(ArtifactRepositoryLayout.class);
  System.out.println("hints " + layoutsMap.keySet().toString());
  ArtifactRepositoryLayout layout=plexusSisuBridge.lookup(ArtifactRepositoryLayout.class,"legacy");
  File sourceBase=getTestFile("src/test/source-repository");
  sourceRepository=factory.createArtifactRepository("source",sourceBase.toURL().toString(),layout,null,null);
  layout=plexusSisuBridge.lookup(ArtifactRepositoryLayout.class,"default");
  File targetBase=getTestFile("target/test-target-repository");
  copyDirectoryStructure(getTestFile("src/test/target-repository"),targetBase);
  targetRepository=factory.createArtifactRepository("target",targetBase.toURL().toString(),layout,null,null);
  artifactConverter=applicationContext.getBean("artifactConverter#legacy-to-default",ArtifactConverter.class);
  artifactConverter.clearWarnings();
  artifactFactory=(ArtifactFactory)plexusSisuBridge.lookup(ArtifactFactory.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.dependency.tree.maven2.DependencyTreeBuilderTestMaven3 </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  Configuration configuration=new Configuration();
  ManagedRepositoryConfiguration repoConfig=new ManagedRepositoryConfiguration();
  repoConfig.setId(TEST_REPO_ID);
  repoConfig.setLocation(new File("target/test-repository").getAbsolutePath());
  configuration.addManagedRepository(repoConfig);
  config.save(configuration);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.indexer.search.AbstractMavenRepositorySearch </h4><pre class="type-1 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  FileUtils.deleteDirectory(new File(FileUtil.getBasedir(),"/target/repos/" + TEST_REPO_1 + "/.indexer"));
  assertFalse(new File(FileUtil.getBasedir(),"/target/repos/" + TEST_REPO_1 + "/.indexer").exists());
  FileUtils.deleteDirectory(new File(FileUtil.getBasedir(),"/target/repos/" + TEST_REPO_2 + "/.indexer"));
  assertFalse(new File(FileUtil.getBasedir(),"/target/repos/" + TEST_REPO_2 + "/.indexer").exists());
  archivaConfigControl=EasyMock.createControl();
  archivaConfig=archivaConfigControl.createMock(ArchivaConfiguration.class);
  DefaultManagedRepositoryAdmin defaultManagedRepositoryAdmin=new DefaultManagedRepositoryAdmin();
  defaultManagedRepositoryAdmin.setArchivaConfiguration(archivaConfig);
  DefaultProxyConnectorAdmin defaultProxyConnectorAdmin=new DefaultProxyConnectorAdmin();
  defaultProxyConnectorAdmin.setArchivaConfiguration(archivaConfig);
  search=new MavenRepositorySearch(plexusSisuBridge,defaultManagedRepositoryAdmin,mavenIndexerUtils,defaultProxyConnectorAdmin);
  nexusIndexer=plexusSisuBridge.lookup(NexusIndexer.class);
  artifactContextProducer=plexusSisuBridge.lookup(ArtifactContextProducer.class);
  defaultManagedRepositoryAdmin.setMavenIndexerUtils(mavenIndexerUtils);
  defaultManagedRepositoryAdmin.setIndexer(nexusIndexer);
  defaultManagedRepositoryAdmin.setIndexCreators(mavenIndexerUtils.getAllIndexCreators());
  config=new Configuration();
  config.addManagedRepository(createRepositoryConfig(TEST_REPO_1));
  config.addManagedRepository(createRepositoryConfig(TEST_REPO_2));
  config.addManagedRepository(createRepositoryConfig(REPO_RELEASE));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.metadata.repository.cassandra.CassandraMetadataRepositoryTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  File directory=new File("target/test-repositories");
  if (directory.exists()) {
    FileUtils.deleteDirectory(directory);
  }
  Map<String,MetadataFacetFactory> factories=createTestMetadataFacetFactories();
  this.cmr=new CassandraMetadataRepository(factories,null,cassandraArchivaManager);
  this.repository=this.cmr;
  clearReposAndNamespace(cassandraArchivaManager);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.metadata.repository.cassandra.RepositoriesNamespaceTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  cmr=new CassandraMetadataRepository(null,null,cassandraArchivaManager);
  if (!cassandraArchivaManager.started()) {
    cassandraArchivaManager.start();
  }
  CassandraMetadataRepositoryTest.clearReposAndNamespace(cassandraArchivaManager);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.metadata.repository.file.FileMetadataRepositoryTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  File directory=new File("target/test-repositories");
  if (directory.exists()) {
    FileUtils.deleteDirectory(directory);
  }
  ArchivaConfiguration config=createTestConfiguration(directory);
  Map<String,MetadataFacetFactory> factories=createTestMetadataFacetFactories();
  this.repository=new FileMetadataRepository(factories,config);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.metadata.repository.jcr.JcrMetadataRepositoryTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  File directory=new File("target/test-repositories");
  if (directory.exists()) {
    FileUtils.deleteDirectory(directory);
  }
  Map<String,MetadataFacetFactory> factories=createTestMetadataFacetFactories();
  Repository repository=applicationContext.getBean(Repository.class);
  jcrMetadataRepository=new JcrMetadataRepository(factories,repository);
  try {
    Session session=jcrMetadataRepository.getJcrSession();
    JcrMetadataRepository.initialize(session);
    session.getRootNode().getNode("repositories").remove();
  }
 catch (  RepositoryException e) {
  }
  this.repository=jcrMetadataRepository;
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.metadata.repository.stats.JcrRepositoryStatisticsGatheringTest </h4><pre class="type-1 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Override @Before public void setUp() throws Exception {
  super.setUp();
  File confFile=new File("src/test/repository.xml");
  File dir=new File("target/jcr");
  FileUtils.deleteDirectory(dir);
  assertTrue(confFile.exists());
  assertFalse(dir.exists());
  TransientRepository repository=new TransientRepository(confFile,dir);
  session=repository.login(new SimpleCredentials("username","password".toCharArray()));
  Workspace workspace=session.getWorkspace();
  NamespaceRegistry registry=workspace.getNamespaceRegistry();
  registry.registerNamespace("archiva","http://archiva.apache.org/jcr/");
  NodeTypeManager nodeTypeManager=workspace.getNodeTypeManager();
  registerMixinNodeType(nodeTypeManager,"archiva:namespace");
  registerMixinNodeType(nodeTypeManager,"archiva:project");
  registerMixinNodeType(nodeTypeManager,"archiva:projectVersion");
  registerMixinNodeType(nodeTypeManager,"archiva:artifact");
  registerMixinNodeType(nodeTypeManager,"archiva:facet");
  metadataRepository=mock(MetadataRepository.class);
  when(metadataRepository.canObtainAccess(Session.class)).thenReturn(true);
  when(metadataRepository.obtainAccess(Session.class)).thenReturn(session);
  repositoryStatisticsManager=new DefaultRepositoryStatisticsManager();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.metadata.repository.stats.RepositoryStatisticsManagerTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void setUp() throws Exception {
  super.setUp();
  repositoryStatisticsManager=new DefaultRepositoryStatisticsManager();
  metadataRepositoryControl=createControl();
  metadataRepository=metadataRepositoryControl.createMock(MetadataRepository.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.metadata.repository.storage.maven2.ManagedDefaultRepositoryContentTest </h4><pre class="type-1 type-5 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setUp() throws Exception {
  File repoDir=new File("src/test/repositories/default-repository");
  ManagedRepository repository=createRepository("testRepo","Unit Test Repo",repoDir);
  FileType fileType=archivaConfiguration.getConfiguration().getRepositoryScanning().getFileTypes().get(0);
  fileType.addPattern("**/*.xml");
  assertEquals(FileTypes.ARTIFACTS,fileType.getId());
  fileTypes.afterConfigurationChange(null,"fileType",null);
  repoContent.setRepository(repository);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.metadata.repository.storage.maven2.Maven2RepositoryMetadataResolverMRM1411RepoGroupTest </h4><pre class="type-1 type-3 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  c=new Configuration();
  testRepo=new ManagedRepositoryConfiguration();
  testRepo.setId(TEST_REPO_ID);
  testRepo.setLocation(new File("target/test-repository").getAbsolutePath());
  testRepo.setReleases(true);
  testRepo.setSnapshots(false);
  c.addManagedRepository(testRepo);
  testRepoS=new ManagedRepositoryConfiguration();
  testRepoS.setId(TEST_SNAP_REPO_ID);
  testRepoS.setLocation(new File("target/test-repositorys").getAbsolutePath());
  testRepoS.setReleases(false);
  testRepoS.setSnapshots(true);
  c.addManagedRepository(testRepoS);
  RemoteRepositoryConfiguration testRemoteRepo=new RemoteRepositoryConfiguration();
  testRemoteRepo.setId(TEST_REMOTE_REPO_ID);
  testRemoteRepo.setLayout("default");
  testRemoteRepo.setName("Central Repository");
  testRemoteRepo.setUrl("http://central.repo.com/maven2");
  testRemoteRepo.setTimeout(10);
  c.addRemoteRepository(testRemoteRepo);
  ProxyConnectorConfiguration proxyConnector=new ProxyConnectorConfiguration();
  proxyConnector.setSourceRepoId(TEST_REPO_ID);
  proxyConnector.setTargetRepoId(TEST_REMOTE_REPO_ID);
  proxyConnector.setDisabled(false);
  c.addProxyConnector(proxyConnector);
  ProxyConnectorConfiguration proxyConnectors=new ProxyConnectorConfiguration();
  proxyConnectors.setSourceRepoId(TEST_SNAP_REPO_ID);
  proxyConnectors.setTargetRepoId(TEST_REMOTE_REPO_ID);
  proxyConnectors.setDisabled(false);
  c.addProxyConnector(proxyConnectors);
  List<String> repos=new ArrayList<>();
  repos.add(TEST_REPO_ID);
  repos.add(TEST_SNAP_REPO_ID);
  RepositoryGroupConfiguration repoGroup=new RepositoryGroupConfiguration();
  repoGroup.setId(TEST_REPO_GROUP_ID);
  repoGroup.setRepositories(repos);
  c.addRepositoryGroup(repoGroup);
  configuration.save(c);
  assertFalse(c.getManagedRepositories().get(0).isSnapshots());
  assertTrue(c.getManagedRepositories().get(0).isReleases());
  assertTrue(c.getManagedRepositories().get(1).isSnapshots());
  assertFalse(c.getManagedRepositories().get(1).isReleases());
  wagonFactory=mock(WagonFactory.class);
  storage.setWagonFactory(wagonFactory);
  Wagon wagon=new MockWagon();
  when(wagonFactory.getWagon(new WagonFactoryRequest().protocol("wagon#http"))).thenReturn(wagon);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.metadata.repository.storage.maven2.Maven2RepositoryMetadataResolverMRM1411Test </h4><pre class="type-1 type-3 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  c=new Configuration();
  testRepo=new ManagedRepositoryConfiguration();
  testRepo.setId(TEST_REPO_ID);
  testRepo.setLocation(new File("target/test-repository").getAbsolutePath());
  testRepo.setReleases(true);
  testRepo.setSnapshots(true);
  c.addManagedRepository(testRepo);
  RemoteRepositoryConfiguration testRemoteRepo=new RemoteRepositoryConfiguration();
  testRemoteRepo.setId(TEST_REMOTE_REPO_ID);
  testRemoteRepo.setLayout("default");
  testRemoteRepo.setName("Central Repository");
  testRemoteRepo.setUrl("http://central.repo.com/maven2");
  testRemoteRepo.setTimeout(10);
  c.addRemoteRepository(testRemoteRepo);
  ProxyConnectorConfiguration proxyConnector=new ProxyConnectorConfiguration();
  proxyConnector.setSourceRepoId(TEST_REPO_ID);
  proxyConnector.setTargetRepoId(TEST_REMOTE_REPO_ID);
  proxyConnector.setDisabled(false);
  c.addProxyConnector(proxyConnector);
  configuration.save(c);
  assertTrue(c.getManagedRepositories().get(0).isSnapshots());
  assertTrue(c.getManagedRepositories().get(0).isReleases());
  wagonFactory=mock(WagonFactory.class);
  storage.setWagonFactory(wagonFactory);
  Wagon wagon=new MockWagon();
  when(wagonFactory.getWagon(new WagonFactoryRequest("wagon#http",new HashMap<String,String>()))).thenReturn(wagon);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.metadata.repository.storage.maven2.Maven2RepositoryMetadataResolverManagedReleaseTest </h4><pre class="type-1 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  testRepo.setReleases(true);
  testRepo.setSnapshots(false);
  configuration.save(c);
  assertFalse(c.getManagedRepositories().get(0).isSnapshots());
  assertTrue(c.getManagedRepositories().get(0).isReleases());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.metadata.repository.storage.maven2.Maven2RepositoryMetadataResolverManagedSnapshotTest </h4><pre class="type-1 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  testRepo.setReleases(false);
  testRepo.setSnapshots(true);
  configuration.save(c);
  assertTrue(c.getManagedRepositories().get(0).isSnapshots());
  assertFalse(c.getManagedRepositories().get(0).isReleases());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.metadata.repository.storage.maven2.Maven2RepositoryMetadataResolverTest </h4><pre class="type-1 type-3 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  c=new Configuration();
  testRepo=new ManagedRepositoryConfiguration();
  testRepo.setId(TEST_REPO_ID);
  testRepo.setLocation(new File("target/test-repository").getAbsolutePath());
  testRepo.setReleases(true);
  testRepo.setSnapshots(true);
  c.addManagedRepository(testRepo);
  RemoteRepositoryConfiguration testRemoteRepo=new RemoteRepositoryConfiguration();
  testRemoteRepo.setId(TEST_REMOTE_REPO_ID);
  testRemoteRepo.setLayout("default");
  testRemoteRepo.setName("Central Repository");
  testRemoteRepo.setUrl("http://central.repo.com/maven2");
  testRemoteRepo.setTimeout(10);
  c.addRemoteRepository(testRemoteRepo);
  ProxyConnectorConfiguration proxyConnector=new ProxyConnectorConfiguration();
  proxyConnector.setSourceRepoId(TEST_REPO_ID);
  proxyConnector.setTargetRepoId(TEST_REMOTE_REPO_ID);
  proxyConnector.setDisabled(false);
  c.addProxyConnector(proxyConnector);
  configuration.save(c);
  assertTrue(c.getManagedRepositories().get(0).isSnapshots());
  assertTrue(c.getManagedRepositories().get(0).isReleases());
  wagonFactory=mock(WagonFactory.class);
  storage.setWagonFactory(wagonFactory);
  Wagon wagon=new MockWagon();
  when(wagonFactory.getWagon(new WagonFactoryRequest().protocol("wagon#http"))).thenReturn(wagon);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.metadata.repository.storage.maven2.MavenRepositoryMetadataReaderTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  defaultRepoDir=new File("target/test-repository");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.metadata.repository.storage.maven2.RemoteDefaultRepositoryContentTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  RemoteRepository repository=createRemoteRepository("testRemoteRepo","Unit Test Remote Repo","http://repo1.maven.org/maven2/");
  repoContent.setRepository(repository);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.policies.ReleasePolicyTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  generatedLocalFileUpdateDelta=0;
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.policies.SnapshotsPolicyTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void setUp() throws Exception {
  super.setUp();
  generatedLocalFileUpdateDelta=0;
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.proxy.AbstractProxyTestCase </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  config=(MockConfiguration)applicationContext.getBean("archivaConfiguration#mock",ArchivaConfiguration.class);
  config.getConfiguration().setManagedRepositories(new ArrayList<ManagedRepositoryConfiguration>());
  config.getConfiguration().setRemoteRepositories(new ArrayList<RemoteRepositoryConfiguration>());
  config.getConfiguration().setProxyConnectors(new ArrayList<ProxyConnectorConfiguration>());
  String name=getClass().getSimpleName();
  String repoPath="target/test-repository/managed/" + name;
  managedDefaultRepository=createRepository(ID_DEFAULT_MANAGED,"Default Managed Repository",repoPath,"default");
  managedDefaultDir=new File(managedDefaultRepository.getRepoRoot());
  ManagedRepository repoConfig=managedDefaultRepository.getRepository();
  ((DefaultManagedRepositoryAdmin)applicationContext.getBean(ManagedRepositoryAdmin.class)).setArchivaConfiguration(config);
  applicationContext.getBean(ManagedRepositoryAdmin.class).addManagedRepository(repoConfig,false,null);
  removeMavenIndexes();
  ManagedRepositoryAdmin managedRepositoryAdmin=applicationContext.getBean(ManagedRepositoryAdmin.class);
  if (managedRepositoryAdmin.getManagedRepository(repoConfig.getId()) != null) {
    managedRepositoryAdmin.deleteManagedRepository(repoConfig.getId(),null,true);
  }
  managedRepositoryAdmin.addManagedRepository(repoConfig,false,null);
  saveRemoteRepositoryConfig(ID_PROXIED1,"Proxied Repository 1",new File(REPOPATH_PROXIED1).toURL().toExternalForm(),"default");
  saveRemoteRepositoryConfig(ID_PROXIED2,"Proxied Repository 2",new File(REPOPATH_PROXIED2).toURL().toExternalForm(),"default");
  proxyHandler=applicationContext.getBean("repositoryProxyConnectors#test",RepositoryProxyConnectors.class);
  wagonMockControl=EasyMock.createNiceControl();
  wagonMock=wagonMockControl.createMock(Wagon.class);
  delegate=(WagonDelegate)applicationContext.getBean("wagon#test",Wagon.class);
  delegate.setDelegate(wagonMock);
  CacheManager.getInstance().clearAll();
  log.info("\n.\\ {}() \\._________________________________________\n",name);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.proxy.HttpProxyTransferTest </h4><pre class="type-1 type-7 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setUp() throws Exception {
  proxyHandler=applicationContext.getBean("repositoryProxyConnectors#test",RepositoryProxyConnectors.class);
  config=applicationContext.getBean("archivaConfiguration#mock",ArchivaConfiguration.class);
  config.getConfiguration().getProxyConnectors().clear();
  String repoPath="target/test-repository/managed/" + getClass().getSimpleName();
  File destRepoDir=new File(repoPath);
  if (destRepoDir.exists()) {
    FileUtils.deleteDirectory(destRepoDir);
  }
  destRepoDir.mkdirs();
  ManagedRepository repo=new ManagedRepository();
  repo.setId(MANAGED_ID);
  repo.setName("Default Managed Repository");
  repo.setLocation(repoPath);
  repo.setLayout("default");
  ManagedRepositoryContent repoContent=applicationContext.getBean("managedRepositoryContent#default",ManagedRepositoryContent.class);
  repoContent.setRepository(repo);
  managedDefaultRepository=repoContent;
  ((DefaultManagedRepositoryAdmin)applicationContext.getBean(ManagedRepositoryAdmin.class)).setArchivaConfiguration(config);
  ManagedRepositoryAdmin managedRepositoryAdmin=applicationContext.getBean(ManagedRepositoryAdmin.class);
  if (managedRepositoryAdmin.getManagedRepository(repo.getId()) == null) {
    managedRepositoryAdmin.addManagedRepository(repo,false,null);
  }
  Handler handler=new AbstractHandler(){
    @Override public void handle(    String s,    Request request,    HttpServletRequest httpServletRequest,    HttpServletResponse response) throws IOException, ServletException {
      response.setContentType("text/plain");
      response.setStatus(HttpServletResponse.SC_OK);
      response.getWriter().print("get-default-layout-1.0.jar\n\n");
      assertNotNull(request.getHeader("Proxy-Connection"));
      ((Request)request).setHandled(true);
    }
    public void handle(    String target,    HttpServletRequest request,    HttpServletResponse response,    int dispatch) throws IOException, ServletException {
      response.setContentType("text/plain");
      response.setStatus(HttpServletResponse.SC_OK);
      response.getWriter().print("get-default-layout-1.0.jar\n\n");
      assertNotNull(request.getHeader("Proxy-Connection"));
      ((Request)request).setHandled(true);
    }
  }
;
  server=new Server(0);
  server.setHandler(handler);
  server.start();
  int port=server.getConnectors()[0].getLocalPort();
  NetworkProxyConfiguration proxyConfig=new NetworkProxyConfiguration();
  proxyConfig.setHost("localhost");
  proxyConfig.setPort(port);
  proxyConfig.setProtocol("http");
  proxyConfig.setId(PROXY_ID);
  config.getConfiguration().addNetworkProxy(proxyConfig);
  RemoteRepositoryConfiguration repoConfig=new RemoteRepositoryConfiguration();
  repoConfig.setId(PROXIED_ID);
  repoConfig.setName("Proxied Repository 1");
  repoConfig.setLayout("default");
  repoConfig.setUrl("http://www.example.com/");
  config.getConfiguration().addRemoteRepository(repoConfig);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.remotedownload.AbstractDownloadTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void startServer() throws Exception {
  System.setProperty("redback.admin.creation.file","target/auto-admin-creation.properties");
  tomcat=new Tomcat();
  tomcat.setBaseDir(System.getProperty("java.io.tmpdir"));
  tomcat.setPort(0);
  Context context=tomcat.addContext("",System.getProperty("java.io.tmpdir"));
  ApplicationParameter applicationParameter=new ApplicationParameter();
  applicationParameter.setName("contextConfigLocation");
  applicationParameter.setValue(getSpringConfigLocation());
  context.addApplicationParameter(applicationParameter);
  context.addApplicationListener(new ApplicationListener(ContextLoaderListener.class.getName(),false));
  tomcat.addServlet(context,"cxf",new CXFServlet());
  context.addServletMapping("/" + getRestServicesPath() + "/*","cxf");
  tomcat.addServlet(context,"archivarepo",new RepositoryServlet());
  context.addServletMapping("/repository/*","archivarepo");
  tomcat.start();
  port=tomcat.getConnector().getLocalPort();
  log.info("start server on port {}",this.port);
  User user=new User();
  user.setEmail("toto@toto.fr");
  user.setFullName("the root user");
  user.setUsername(RedbackRoleConstants.ADMINISTRATOR_ACCOUNT_NAME);
  user.setPassword(FakeCreateAdminService.ADMIN_TEST_PWD);
  getUserService(null).createAdminUser(user);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.remotedownload.DownloadArtifactsTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void startServer() throws Exception {
  super.startServer();
  this.repoServer=new Server(0);
  ServletHolder shRepo=new ServletHolder(RepoServlet.class);
  ServletContextHandler contextRepo=new ServletContextHandler();
  contextRepo.setContextPath("/");
  contextRepo.addServlet(shRepo,"/*");
  repoServer.setHandler(contextRepo);
  repoServer.start();
  this.repoServerPort=repoServer.getConnectors()[0].getLocalPort();
  this.redirectServer=new Server(0);
  ServletHolder shRedirect=new ServletHolder(RedirectServlet.class);
  ServletContextHandler contextRedirect=new ServletContextHandler();
  contextRedirect.setAttribute("redirectToPort",Integer.toString(this.repoServerPort));
  contextRedirect.setContextPath("/");
  contextRedirect.addServlet(shRedirect,"/*");
  redirectServer.setHandler(contextRedirect);
  redirectServer.start();
  this.redirectPort=redirectServer.getConnectors()[0].getLocalPort();
  log.info("redirect server port {}",redirectPort);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.reports.consumers.DuplicateArtifactsConsumerTest </h4><pre class="type-1 type-7 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  assertNotNull(consumer);
  config=new ManagedRepository();
  config.setId(TEST_REPO);
  config.setLocation(new File("target/test-repository").getAbsolutePath());
  metadataRepository=mock(MetadataRepository.class);
  RepositorySession session=mock(RepositorySession.class);
  when(session.getRepository()).thenReturn(metadataRepository);
  RepositorySessionFactory factory=applicationContext.getBean(RepositorySessionFactory.class);
  when(factory.createSession()).thenReturn(session);
  when(pathTranslator.getArtifactForPath(TEST_REPO,TEST_FILE)).thenReturn(TEST_METADATA);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.repository.content.maven2.RepositoryRequestTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  repoRequest=new RepositoryRequest();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.rest.services.AbstractArchivaRestTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void startServer() throws Exception {
  File appServerBase=new File(System.getProperty("appserver.base"));
  removeAppsubFolder(appServerBase,"jcr");
  removeAppsubFolder(appServerBase,"conf");
  removeAppsubFolder(appServerBase,"data");
  super.startServer();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.rest.services.BrowseServiceTest </h4><pre class="type-16 type-1 type-7 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Allocates resources before the execution of the test cases
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void initialiseTestRepo() throws RedbackServiceException, ArchivaRestServiceException, IOException, InterruptedException {
  if (getUserService(authorizationHeader).getGuestUser() == null) {
    assertNotNull(getUserService(authorizationHeader).createGuestUser());
  }
  createAndIndexRepo(TEST_REPO_ID,new File(getBasedir(),"src/test/repo-with-osgi").getAbsolutePath(),false);
  waitForScanToComplete(TEST_REPO_ID);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.rest.services.MergeRepositoriesServiceTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void createStageRepo() throws Exception {
  FileUtils.copyDirectory(new File(System.getProperty("basedir"),"src/test/repo-with-osgi"),repo);
  FileUtils.copyDirectory(new File(System.getProperty("basedir"),"src/test/repo-with-osgi-stage"),repoStage);
  createStagedNeededRepo(TEST_REPOSITORY,repo.getAbsolutePath(),true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.rest.services.SearchServiceTest </h4><pre class="type-16 type-1 type-7 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Allocates resources before the execution of the test cases
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void createRepo() throws Exception {
  if (getUserService(authorizationHeader).getGuestUser() == null) {
    assertNotNull(getUserService(authorizationHeader).createGuestUser());
  }
  createAndIndexRepo(TEST_REPO,"src/test/repo-with-osgi");
  waitForScanToComplete(TEST_REPO);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.rss.RssFeedGeneratorTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.rss.processor.NewArtifactsRssFeedProcessorTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  newArtifactsProcessor=new NewArtifactsRssFeedProcessor();
  newArtifactsProcessor.setGenerator(new RssFeedGenerator());
  metadataRepository=new MetadataRepositoryMock();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.rss.processor.NewVersionsOfArtifactRssFeedProcessorTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  newVersionsProcessor=new NewVersionsOfArtifactRssFeedProcessor();
  newVersionsProcessor.setGenerator(new RssFeedGenerator());
  metadataRepositoryControl=createControl();
  metadataRepository=metadataRepositoryControl.createMock(MetadataRepository.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.scheduler.indexing.ArchivaIndexingTaskExecutorTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  repositoryConfig=new ManagedRepository();
  repositoryConfig.setId("test-repo");
  repositoryConfig.setLocation(new File(System.getProperty("basedir"),"target/test-classes/test-repo").getAbsolutePath());
  repositoryConfig.setLayout("default");
  repositoryConfig.setName("Test Repository");
  repositoryConfig.setScanned(true);
  repositoryConfig.setSnapshots(false);
  repositoryConfig.setReleases(true);
  indexer=plexusSisuBridge.lookup(NexusIndexer.class);
  managedRepositoryAdmin.createIndexContext(repositoryConfig);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.scheduler.indexing.DownloadRemoteIndexTaskTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void initialize() throws Exception {
  server=new Server(0);
  createContext(server,new File("src/test/"));
  this.server.start();
  Connector connector=this.server.getConnectors()[0];
  this.port=connector.getLocalPort();
  log.info("start server on port {}",this.port);
  nexusIndexer=plexusSisuBridge.lookup(NexusIndexer.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutorAbstractTest </h4><pre class="type-1 type-3 type-7 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  File sourceRepoDir=new File("./src/test/repositories/default-repository");
  repoDir=new File("./target/default-repository");
  FileUtils.deleteDirectory(repoDir);
  assertFalse("Default Test Repository should not exist.",repoDir.exists());
  repoDir.mkdir();
  FileUtils.copyDirectoryStructure(sourceRepoDir,repoDir);
  Calendar cal=Calendar.getInstance();
  cal.add(Calendar.YEAR,-1);
  for (  File f : (List<File>)FileUtils.getFiles(repoDir,"**",null)) {
    f.setLastModified(cal.getTimeInMillis());
  }
  for (  String dir : (List<String>)FileUtils.getDirectoryNames(repoDir,"**/.svn",null,false)) {
    FileUtils.deleteDirectory(new File(repoDir,dir));
  }
  assertTrue("Default Test Repository should exist.",repoDir.exists() && repoDir.isDirectory());
  assertNotNull(archivaConfig);
  ManagedRepositoryConfiguration repositoryConfiguration=new ManagedRepositoryConfiguration();
  repositoryConfiguration.setId(TEST_REPO_ID);
  repositoryConfiguration.setName("Test Repository");
  repositoryConfiguration.setLocation(repoDir.getAbsolutePath());
  archivaConfig.getConfiguration().getManagedRepositories().clear();
  archivaConfig.getConfiguration().addManagedRepository(repositoryConfiguration);
  metadataRepository=mock(MetadataRepository.class);
  factory.setRepository(metadataRepository);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.security.AbstractSecurityTest </h4><pre class="type-1 type-7 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Override @Before public void setUp() throws Exception {
  super.setUp();
  File srcConfig=new File("./src/test/resources/repository-archiva.xml");
  File destConfig=new File("./target/test-conf/archiva.xml");
  destConfig.getParentFile().mkdirs();
  destConfig.delete();
  FileUtils.copyFile(srcConfig,destConfig);
  assertNotNull(securitySystem);
  assertNotNull(rbacManager);
  assertNotNull(roleManager);
  assertNotNull(userRepos);
  assertNotNull(archivaConfiguration);
  User adminUser=createUser(USER_ADMIN,"Admin User");
  roleManager.assignRole(ArchivaRoleConstants.TEMPLATE_SYSTEM_ADMIN,adminUser.getUsername());
  User guestUser=createUser(USER_GUEST,"Guest User");
  roleManager.assignRole(ArchivaRoleConstants.TEMPLATE_GUEST,guestUser.getUsername());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.security.ArchivaServletAuthenticatorTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  httpServletRequestControl=EasyMock.createControl();
  request=httpServletRequestControl.createMock(HttpServletRequest.class);
  setupRepository("corporate");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.security.DefaultUserRepositoriesTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  restoreGuestInitialValues(USER_ALPACA);
  restoreGuestInitialValues(USER_GUEST);
  restoreGuestInitialValues(USER_ADMIN);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.stagerepository.merge.Maven2RepositoryMergerTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  MockitoAnnotations.initMocks(this);
  metadataRepository=mock(MetadataRepository.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.transaction.AbstractFileEventTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@SuppressWarnings("unchecked") @Before @Override public void setUp() throws Exception {
  super.setUp();
  digesters=Arrays.asList((Digester)new Md5Digester(),(Digester)new Sha1Digester());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.transaction.CopyFileEventTest </h4><pre class="type-9 type-1 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Override @Before public void setUp() throws Exception {
  super.setUp();
  testSource.getParentFile().mkdirs();
  testSource.createNewFile();
  writeFile(testSource,"source contents");
  testDestChecksum=new File(testDest.getPath() + ".sha1");
  testDestChecksum.getParentFile().mkdirs();
  testDestChecksum.createNewFile();
  writeFile(testDestChecksum,"this is the checksum");
  assertTrue("Test if the source exists",testSource.exists());
  assertTrue("Test if the destination checksum exists",testDestChecksum.exists());
  source=readFile(testSource);
  oldChecksum=readFile(testDestChecksum);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.web.rss.RssFeedServletTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  final MockServletContext mockServletContext=new MockServletContext();
  WebApplicationContext webApplicationContext=new TestWebapplicationContext(applicationContext,mockServletContext);
  mockServletContext.setAttribute(WebApplicationContext.ROOT_WEB_APPLICATION_CONTEXT_ATTRIBUTE,webApplicationContext);
  MockServletConfig mockServletConfig=new MockServletConfig(){
    @Override public ServletContext getServletContext(){
      return mockServletContext;
    }
  }
;
  rssFeedServlet.init(mockServletConfig);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.web.test.WebDriverBrowseTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void init(){
  setSnapshotMode(Mode.TAKE_SNAPSHOT_ON_FAIL);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.web.test.WebDriverTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void init(){
  setSnapshotMode(Mode.TAKE_SNAPSHOT_ON_FAIL);
  setSnapshotPath(new File("target","errorshtmlsnap").getAbsolutePath());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.webdav.AbstractRepositoryServletProxiedMetadataTestCase </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void tearDown() throws Exception {
  shutdownServer(remotePrivateSnapshots);
  super.tearDown();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.webdav.AbstractRepositoryServletProxiedTestCase </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  startRepository();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.webdav.AbstractRepositoryServletTestCase </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  String appserverBase=new File("target/appserver-base").getAbsolutePath();
  System.setProperty("appserver.base",appserverBase);
  File testConf=new File("src/test/resources/repository-archiva.xml");
  File testConfDest=new File(appserverBase,"conf/archiva.xml");
  if (testConfDest.exists()) {
    FileUtils.deleteQuietly(testConfDest);
  }
  FileUtils.copyFile(testConf,testConfDest);
  repoRootInternal=new File(appserverBase,"data/repositories/internal");
  repoRootLegacy=new File(appserverBase,"data/repositories/legacy");
  Configuration config=archivaConfiguration.getConfiguration();
  config.getManagedRepositories().clear();
  config.addManagedRepository(createManagedRepository(REPOID_INTERNAL,"Internal Test Repo",repoRootInternal,true));
  managedRepositoryAdmin.createIndexContext(managedRepositoryAdmin.getManagedRepository(REPOID_INTERNAL));
  config.getProxyConnectors().clear();
  config.getRemoteRepositories().clear();
  saveConfiguration(archivaConfiguration);
  CacheManager.getInstance().clearAll();
  applicationContext.getBean(MavenIndexerCleaner.class).cleanupIndex();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.webdav.ArchivaDavResourceFactoryTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  requestControl=createControl();
  request=requestControl.createMock(DavServletRequest.class);
  responseControl=createControl();
  response=responseControl.createMock(DavServletResponse.class);
  archivaConfigurationControl=createControl();
  archivaConfiguration=archivaConfigurationControl.createMock(ArchivaConfiguration.class);
  config=new Configuration();
  expect(archivaConfiguration.getConfiguration()).andReturn(config).times(5,20);
  archivaConfiguration.save(config);
  expectLastCall().times(1,4);
  archivaConfigurationControl.replay();
  defaultManagedRepositoryAdmin.setArchivaConfiguration(archivaConfiguration);
  ((DefaultRepositoryCommonValidator)defaultManagedRepositoryAdmin.getRepositoryCommonValidator()).setArchivaConfiguration(archivaConfiguration);
  if (defaultManagedRepositoryAdmin.getManagedRepository(RELEASES_REPO) == null) {
    defaultManagedRepositoryAdmin.addManagedRepository(createManagedRepository(RELEASES_REPO,new File("target/test-classes/" + RELEASES_REPO).getPath(),"default"),false,null);
  }
  if (defaultManagedRepositoryAdmin.getManagedRepository(INTERNAL_REPO) == null) {
    defaultManagedRepositoryAdmin.addManagedRepository(createManagedRepository(INTERNAL_REPO,new File("target/test-classes/" + INTERNAL_REPO).getPath(),"default"),false,null);
  }
  RepositoryGroup repoGroupConfig=new RepositoryGroup();
  repoGroupConfig.setId(LOCAL_REPO_GROUP);
  repoGroupConfig.addRepository(RELEASES_REPO);
  repoGroupConfig.addRepository(INTERNAL_REPO);
  defaultRepositoryGroupAdmin.setArchivaConfiguration(archivaConfiguration);
  if (defaultManagedRepositoryAdmin.getManagedRepository(LOCAL_REPO_GROUP) == null) {
    defaultRepositoryGroupAdmin.addRepositoryGroup(repoGroupConfig,null);
  }
  repoContentFactoryControl=createControl();
  repoFactory=repoContentFactoryControl.createMock(RepositoryContentFactory.class);
  repoRequestControl=createControl();
  repoRequest=repoRequestControl.createMock(RepositoryRequest.class);
  resourceFactory=new OverridingArchivaDavResourceFactory(applicationContext,plexusSisuBridge,archivaConfiguration);
  resourceFactory.setArchivaConfiguration(archivaConfiguration);
  resourceFactory.setRepositoryFactory(repoFactory);
  resourceFactory.setRepositoryRequest(repoRequest);
  resourceFactory.setConnectors(new OverridingRepositoryProxyConnectors());
  resourceFactory.setRemoteRepositoryAdmin(remoteRepositoryAdmin);
  resourceFactory.setManagedRepositoryAdmin(defaultManagedRepositoryAdmin);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.webdav.ArchivaDavResourceLocatorTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void setUp() throws Exception {
  super.setUp();
  factory=new ArchivaDavLocatorFactory();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.webdav.ArchivaDavSessionProviderTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void setUp() throws Exception {
  super.setUp();
  sessionProvider=new ArchivaDavSessionProvider(new ServletAuthenticatorMock(),new HttpAuthenticatorMock());
  request=new WebdavRequestImpl(new HttpServletRequestMock(),null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.webdav.DavResourceTest </h4><pre class="type-1 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Override @Before public void setUp() throws Exception {
  super.setUp();
  session=new ArchivaDavSession();
  baseDir=new File("target/DavResourceTest");
  baseDir.mkdirs();
  myResource=new File(baseDir,"myresource.jar");
  assertTrue("Could not create " + myResource.getAbsolutePath(),myResource.createNewFile());
  resourceFactory=new RootContextDavResourceFactory();
  resourceLocator=(ArchivaDavResourceLocator)new ArchivaDavLocatorFactory().createResourceLocator("/",REPOPATH);
  resource=getDavResource(resourceLocator.getHref(false),myResource);
  lockManager=new SimpleLockManager();
  resource.addLockManager(lockManager);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.webdav.RepositoryServletBrowseTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void setUp() throws Exception {
  super.setUp();
  new File(repoRootInternal,"org/apache/archiva").mkdirs();
  new File(repoRootInternal,"org/codehaus/mojo/").mkdirs();
  new File(repoRootInternal,"net/sourceforge").mkdirs();
  new File(repoRootInternal,"commons-lang").mkdirs();
  startRepository();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.webdav.RepositoryServletDeployTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  startRepository();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.webdav.RepositoryServletNoProxyMetadataTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  startRepository();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.webdav.RepositoryServletNoProxyTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  archivaConfiguration.getConfiguration().setProxyConnectors(new ArrayList<ProxyConnectorConfiguration>());
  startRepository();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.webdav.RepositoryServletProxiedMetadataLocalOnlyTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  super.setUp();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.webdav.RepositoryServletProxiedMetadataRemoteOnlyTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  super.setUp();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.webdav.RepositoryServletProxiedPassthroughTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  super.setUp();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.webdav.RepositoryServletProxiedSnapshotPolicyTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  applicationContext.getBean(ArchivaConfiguration.class).getConfiguration().setProxyConnectors(new ArrayList<ProxyConnectorConfiguration>());
  super.setUp();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.webdav.RepositoryServletProxiedTimestampedSnapshotPolicyTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  archivaConfiguration.getConfiguration().setProxyConnectors(new ArrayList<ProxyConnectorConfiguration>());
  super.setUp();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.webdav.RepositoryServletRepositoryGroupTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void setUp() throws Exception {
  super.setUp();
  String appserverBase=System.getProperty("appserver.base");
  Configuration configuration=archivaConfiguration.getConfiguration();
  repoRootFirst=new File(appserverBase,"data/repositories/" + MANAGED_REPO_FIRST);
  repoRootLast=new File(appserverBase,"data/repositories/" + MANAGED_REPO_LAST);
  configuration.addManagedRepository(createManagedRepository(MANAGED_REPO_FIRST,"First Test Repo",repoRootFirst,true));
  configuration.addManagedRepository(createManagedRepository(MANAGED_REPO_LAST,"Last Test Repo",repoRootLast,true));
  List<String> managedRepoIds=new ArrayList<>();
  managedRepoIds.add(MANAGED_REPO_FIRST);
  managedRepoIds.add(MANAGED_REPO_LAST);
  configuration.addRepositoryGroup(createRepositoryGroup(REPO_GROUP_WITH_VALID_REPOS,managedRepoIds));
  repoRootInvalid=new File(appserverBase,"data/repositories/" + MANAGED_REPO_INVALID);
  ManagedRepositoryConfiguration managedRepositoryConfiguration=createManagedRepository(MANAGED_REPO_INVALID,"Invalid Test Repo",repoRootInvalid,true);
  configuration.addManagedRepository(createManagedRepository(MANAGED_REPO_FIRST,"First Test Repo",repoRootFirst,true));
  configuration.addManagedRepository(managedRepositoryConfiguration);
  configuration.addManagedRepository(createManagedRepository(MANAGED_REPO_LAST,"Last Test Repo",repoRootLast,true));
  List<String> invalidManagedRepoIds=new ArrayList<>();
  invalidManagedRepoIds.add(MANAGED_REPO_FIRST);
  invalidManagedRepoIds.add(MANAGED_REPO_INVALID);
  invalidManagedRepoIds.add(MANAGED_REPO_LAST);
  configuration.addRepositoryGroup(createRepositoryGroup(REPO_GROUP_WITH_INVALID_REPOS,invalidManagedRepoIds));
  configuration.removeManagedRepository(managedRepositoryConfiguration);
  FileUtils.deleteDirectory(repoRootInvalid);
  saveConfiguration(archivaConfiguration);
  startRepository();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.webdav.RepositoryServletSecurityTest </h4><pre class="type-1 type-5 type-6 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  String appserverBase=System.getProperty("appserver.base",new File("target/appserver-base").getAbsolutePath());
  File testConf=new File("src/test/resources/repository-archiva.xml");
  File testConfDest=new File(appserverBase,"conf/archiva.xml");
  FileUtils.copyFile(testConf,testConfDest);
  Configuration config=archivaConfiguration.getConfiguration();
  List<ManagedRepositoryConfiguration> f1=new ArrayList<>(config.getManagedRepositories());
  for (  ManagedRepositoryConfiguration f : f1) {
    config.removeManagedRepository(f);
  }
  assertEquals(0,config.getManagedRepositories().size());
  config.addManagedRepository(createManagedRepository(REPOID_INTERNAL,"Internal Test Repo",repoRootInternal.getRoot()));
  saveConfiguration(archivaConfiguration);
  CacheManager.getInstance().clearAll();
  servletAuthControl=EasyMock.createControl();
  servletAuth=servletAuthControl.createMock(ServletAuthenticator.class);
  httpAuthControl=EasyMock.createControl();
  httpAuth=httpAuthControl.createMock(HttpAuthenticator.class);
  davSessionProvider=new ArchivaDavSessionProvider(servletAuth,httpAuth);
  final MockServletContext mockServletContext=new MockServletContext();
  WebApplicationContext webApplicationContext=new AbstractRepositoryServletTestCase.TestWebapplicationContext(applicationContext,mockServletContext);
  mockServletContext.setAttribute(WebApplicationContext.ROOT_WEB_APPLICATION_CONTEXT_ATTRIBUTE,webApplicationContext);
  MockServletConfig mockServletConfig=new MockServletConfig(){
    @Override public ServletContext getServletContext(){
      return mockServletContext;
    }
  }
;
  servlet=new RepositoryServlet();
  servlet.init(mockServletConfig);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.archiva.webdav.RepositoryServletTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  startRepository();
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
