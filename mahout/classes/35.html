<h3 style="margin:0px">Class: org.apache.mahout.cf.taste.impl.recommender.GenericUserBasedRecommenderTest (8 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(8)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(7)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(6)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(6)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="11"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('11')" data-toggle="tooltip" title="Verifies assertions in iterations"><kbd id="tag-11"class="label-info"style="display: inline-block;font-size:7pt" >IterativeVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-5 type-9 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMostSimilar() throws Exception {
  UserBasedRecommender recommender=buildRecommender();
  long[] similar=recommender.mostSimilarUserIDs(1,2);
  assertNotNull(similar);
  assertEquals(2,similar.length);
  assertEquals(2,similar[0]);
  assertEquals(3,similar[1]);
}

</code></pre>

<pre class="type-3 type-5 type-9 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBestRating() throws Exception {
  Recommender recommender=buildRecommender();
  List<RecommendedItem> recommended=recommender.recommend(1,1);
  assertNotNull(recommended);
  assertEquals(1,recommended.size());
  RecommendedItem firstRecommended=recommended.get(0);
  assertEquals(2,firstRecommended.getItemID());
  assertEquals(0.1f,firstRecommended.getValue(),EPSILON);
}

</code></pre>

<pre class="type-3 type-5 type-9 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRecommender() throws Exception {
  Recommender recommender=buildRecommender();
  List<RecommendedItem> recommended=recommender.recommend(1,1);
  assertNotNull(recommended);
  assertEquals(1,recommended.size());
  RecommendedItem firstRecommended=recommended.get(0);
  assertEquals(2,firstRecommended.getItemID());
  assertEquals(0.1f,firstRecommended.getValue(),EPSILON);
  recommender.refresh(null);
  assertEquals(2,firstRecommended.getItemID());
  assertEquals(0.1f,firstRecommended.getValue(),EPSILON);
}

</code></pre>

<pre class="type-5 type-9 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIsolatedUser() throws Exception {
  DataModel dataModel=getDataModel(new long[]{1,2,3,4},new Double[][]{{0.1,0.2},{0.2,0.3,0.3,0.6},{0.4,0.4,0.5,0.9},{null,null,null,null,1.0}});
  UserSimilarity similarity=new PearsonCorrelationSimilarity(dataModel);
  UserNeighborhood neighborhood=new NearestNUserNeighborhood(3,similarity,dataModel);
  UserBasedRecommender recommender=new GenericUserBasedRecommender(dataModel,neighborhood,similarity);
  long[] mostSimilar=recommender.mostSimilarUserIDs(4,3);
  assertNotNull(mostSimilar);
  assertEquals(0,mostSimilar.length);
}

</code></pre>

<pre class="type-5 type-9 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRescorer() throws Exception {
  DataModel dataModel=getDataModel(new long[]{1,2,3},new Double[][]{{0.1,0.2},{0.2,0.3,0.3,0.6},{0.4,0.5,0.5,0.9}});
  UserSimilarity similarity=new PearsonCorrelationSimilarity(dataModel);
  UserNeighborhood neighborhood=new NearestNUserNeighborhood(2,similarity,dataModel);
  Recommender recommender=new GenericUserBasedRecommender(dataModel,neighborhood,similarity);
  List<RecommendedItem> originalRecommended=recommender.recommend(1,2);
  List<RecommendedItem> rescoredRecommended=recommender.recommend(1,2,new ReversingRescorer<Long>());
  assertNotNull(originalRecommended);
  assertNotNull(rescoredRecommended);
  assertEquals(2,originalRecommended.size());
  assertEquals(2,rescoredRecommended.size());
  assertEquals(originalRecommended.get(0).getItemID(),rescoredRecommended.get(1).getItemID());
  assertEquals(originalRecommended.get(1).getItemID(),rescoredRecommended.get(0).getItemID());
}

</code></pre>

<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEstimatePref() throws Exception {
  Recommender recommender=buildRecommender();
  assertEquals(0.1f,recommender.estimatePreference(1,2),EPSILON);
}

</code></pre>

<pre class="type-5 type-9 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIncludeKnownItems() throws Exception {
  DataModel dataModel=getDataModel(new long[]{1,2,3},new Double[][]{{0.1,0.2},{0.2,0.3,0.3,0.6},{0.4,0.5,0.5,0.9}});
  UserSimilarity similarity=new PearsonCorrelationSimilarity(dataModel);
  UserNeighborhood neighborhood=new NearestNUserNeighborhood(2,similarity,dataModel);
  Recommender recommender=new GenericUserBasedRecommender(dataModel,neighborhood,similarity);
  List<RecommendedItem> originalRecommended=recommender.recommend(1,4,null,true);
  List<RecommendedItem> rescoredRecommended=recommender.recommend(1,4,new ReversingRescorer<Long>(),true);
  assertNotNull(originalRecommended);
  assertNotNull(rescoredRecommended);
  assertEquals(4,originalRecommended.size());
  assertEquals(4,rescoredRecommended.size());
  assertEquals(originalRecommended.get(0).getItemID(),rescoredRecommended.get(3).getItemID());
  assertEquals(originalRecommended.get(3).getItemID(),rescoredRecommended.get(0).getItemID());
}

</code></pre>

<pre class="type-11 type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHowMany() throws Exception {
  DataModel dataModel=getDataModel(new long[]{1,2,3,4,5},new Double[][]{{0.1,0.2},{0.2,0.3,0.3,0.6},{0.4,0.4,0.5,0.9},{0.1,0.4,0.5,0.8,0.9,1.0},{0.2,0.3,0.6,0.7,0.1,0.2}});
  UserSimilarity similarity=new PearsonCorrelationSimilarity(dataModel);
  UserNeighborhood neighborhood=new NearestNUserNeighborhood(2,similarity,dataModel);
  Recommender recommender=new GenericUserBasedRecommender(dataModel,neighborhood,similarity);
  List<RecommendedItem> fewRecommended=recommender.recommend(1,2);
  List<RecommendedItem> moreRecommended=recommender.recommend(1,4);
  for (int i=0; i < fewRecommended.size(); i++) {
    assertEquals(fewRecommended.get(i).getItemID(),moreRecommended.get(i).getItemID());
  }
  recommender.refresh(null);
  for (int i=0; i < fewRecommended.size(); i++) {
    assertEquals(fewRecommended.get(i).getItemID(),moreRecommended.get(i).getItemID());
  }
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
