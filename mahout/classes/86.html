<h3 style="margin:0px">Class: org.apache.mahout.classifier.sequencelearning.hmm.HMMAlgorithmsTest (6 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="11"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('11')" data-toggle="tooltip" title="Verifies assertions in iterations"><kbd id="tag-11"class="label-info"style="display: inline-block;font-size:7pt" >IterativeVerifier&nbsp;(6)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(6)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(6)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(6)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(4)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-11 type-5 type-9 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLogScaledForwardAlgorithm(){
  double[][] alphaExpectedA={{0.02,0.0392,0.002438,0.00035456,0.0011554672,7.158497e-04,4.614927e-05},{0.01,0.0054,0.001824,0.00069486,0.0007586904,2.514137e-04,1.721505e-05},{0.32,0.0262,0.002542,0.00038026,0.0001360234,3.002345e-05,9.659608e-05},{0.03,0.0000,0.013428,0.00951084,0.0000000000,0.000000e+00,2.428986e-05}};
  Matrix alpha=HmmAlgorithms.forwardAlgorithm(getModel(),getSequence(),true);
  assertNotNull(alpha);
  assertEquals(4,alpha.numCols());
  assertEquals(7,alpha.numRows());
  for (int i=0; i < 4; ++i) {
    for (int j=0; j < 7; ++j) {
      assertEquals(Math.log(alphaExpectedA[i][j]),alpha.get(j,i),EPSILON);
    }
  }
}

</code></pre>

<pre class="type-11 type-9 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testViterbiAlgorithm(){
  int[] expected={2,0,3,3,0,0,2};
  int[] computed=HmmAlgorithms.viterbiAlgorithm(getModel(),getSequence(),false);
  assertNotNull(computed);
  assertEquals(computed.length,getSequence().length);
  for (int i=0; i < getSequence().length; ++i) {
    assertEquals(expected[i],computed[i]);
  }
}

</code></pre>

<pre class="type-11 type-9 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLogScaledViterbiAlgorithm(){
  int[] expected={2,0,3,3,0,0,2};
  int[] computed=HmmAlgorithms.viterbiAlgorithm(getModel(),getSequence(),true);
  assertNotNull(computed);
  assertEquals(computed.length,getSequence().length);
  for (int i=0; i < getSequence().length; ++i) {
    assertEquals(expected[i],computed[i]);
  }
}

</code></pre>

<pre class="type-11 type-5 type-9 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test the backward algorithm by comparing the beta values with the values
 * obtained from HMM R model. We test the following observation sequence "O1"
 * "O0" "O2" "O2" "O0" "O0" "O1" by comparing the generated beta values to the
 * R-generated "reference".
 */
@Test public void testBackwardAlgorithm(){
  double[][] betaExpectedA={{0.0015730559,0.003543656,0.00738264,0.040692,0.0848,0.17,1},{0.0017191865,0.002386795,0.00923652,0.052232,0.1018,0.17,1},{0.0003825772,0.001238558,0.00259464,0.012096,0.0664,0.66,1},{0.0004390858,0.007076994,0.01063512,0.013556,0.0304,0.17,1}};
  Matrix beta=HmmAlgorithms.backwardAlgorithm(getModel(),getSequence(),false);
  assertNotNull(beta);
  assertEquals(4,beta.numCols());
  assertEquals(7,beta.numRows());
  for (int i=0; i < 4; ++i) {
    for (int j=0; j < 7; ++j) {
      assertEquals(betaExpectedA[i][j],beta.get(j,i),EPSILON);
    }
  }
}

</code></pre>

<pre class="type-11 type-5 type-9 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLogScaledBackwardAlgorithm(){
  double[][] betaExpectedA={{0.0015730559,0.003543656,0.00738264,0.040692,0.0848,0.17,1},{0.0017191865,0.002386795,0.00923652,0.052232,0.1018,0.17,1},{0.0003825772,0.001238558,0.00259464,0.012096,0.0664,0.66,1},{0.0004390858,0.007076994,0.01063512,0.013556,0.0304,0.17,1}};
  Matrix beta=HmmAlgorithms.backwardAlgorithm(getModel(),getSequence(),true);
  assertNotNull(beta);
  assertEquals(4,beta.numCols());
  assertEquals(7,beta.numRows());
  for (int i=0; i < 4; ++i) {
    for (int j=0; j < 7; ++j) {
      assertEquals(Math.log(betaExpectedA[i][j]),beta.get(j,i),EPSILON);
    }
  }
}

</code></pre>

<pre class="type-11 type-5 type-9 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test the forward algorithm by comparing the alpha values with the values
 * obtained from HMM R model. We test the test observation sequence "O1" "O0"
 * "O2" "O2" "O0" "O0" "O1" by comparing the generated alpha values to the
 * R-generated "reference".
 */
@Test public void testForwardAlgorithm(){
  double[][] alphaExpectedA={{0.02,0.0392,0.002438,0.00035456,0.0011554672,7.158497e-04,4.614927e-05},{0.01,0.0054,0.001824,0.00069486,0.0007586904,2.514137e-04,1.721505e-05},{0.32,0.0262,0.002542,0.00038026,0.0001360234,3.002345e-05,9.659608e-05},{0.03,0.0000,0.013428,0.00951084,0.0000000000,0.000000e+00,2.428986e-05}};
  Matrix alpha=HmmAlgorithms.forwardAlgorithm(getModel(),getSequence(),false);
  assertNotNull(alpha);
  assertEquals(4,alpha.numCols());
  assertEquals(7,alpha.numRows());
  for (int i=0; i < 4; ++i) {
    for (int j=0; j < 7; ++j) {
      assertEquals(alphaExpectedA[i][j],alpha.get(j,i),EPSILON);
    }
  }
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
