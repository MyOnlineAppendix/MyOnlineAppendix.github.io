<h3 style="margin:0px">Class: org.apache.axis2.saaj.AttachmentTest (7 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="10"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('10')" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure"><kbd id="tag-10"class="label-info"style="display: inline-block;font-size:7pt" >UtilityVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="12"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('12')" data-toggle="tooltip" title="Verifies assertions in iterations"><kbd id="tag-12"class="label-info"style="display: inline-block;font-size:7pt" >IterativeVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="11"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('11')" data-toggle="tooltip" title="Verifies assertions inside branch conditions"><kbd id="tag-11"class="label-info"style="display: inline-block;font-size:7pt" >BranchVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="8"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('8')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-8"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Validated @Test public void testGetRawContents(){
  try {
    MessageFactory factory=MessageFactory.newInstance();
    SOAPMessage msg=factory.createMessage();
    AttachmentPart ap=msg.createAttachmentPart();
    ap=msg.createAttachmentPart();
    byte data1[]=null;
    data1=ap.getRawContentBytes();
  }
 catch (  SOAPException e) {
  }
catch (  NullPointerException e) {
  }
catch (  Exception e) {
    fail();
  }
}

</code></pre>

<pre class="type-11 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Validated @Test public void testGetContent() throws Exception {
  MessageFactory factory=MessageFactory.newInstance();
  SOAPMessage msg=factory.createMessage();
  AttachmentPart ap=msg.createAttachmentPart();
  Image image=ImageIO.read(TestUtils.getTestFileURL("attach.gif"));
  ap=msg.createAttachmentPart(image,"image/gif");
  Object o=ap.getContent();
  if (o != null) {
    if (o instanceof Image) {
    }
 else {
      fail("Unexpected object was returned");
    }
  }
}

</code></pre>

<pre class="type-3 type-12 type-8 type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Validated @Test public void testStringAttachment() throws Exception {
  MessageFactory factory=MessageFactory.newInstance();
  SOAPMessage message=factory.createMessage();
  AttachmentPart attachment=message.createAttachmentPart();
  String stringContent="Update address for Sunny Skies " + "Inc., to 10 Upbeat Street, Pleasant Grove, CA 95439";
  attachment.setContent(stringContent,"text/plain");
  attachment.setContentId("update_address");
  message.addAttachmentPart(attachment);
  assertTrue(message.countAttachments() == 1);
  Iterator it=message.getAttachments();
  while (it.hasNext()) {
    attachment=(AttachmentPart)it.next();
    Object content=attachment.getContent();
    String id=attachment.getContentId();
    assertEquals(content,stringContent);
  }
  message.removeAllAttachments();
  assertTrue(message.countAttachments() == 0);
}

</code></pre>

<pre class="type-12 type-11 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Validated @Test public void testClearContent() throws Exception {
  try {
    InputStream in1=TestUtils.getTestFile("attach.xml");
    MessageFactory factory=MessageFactory.newInstance();
    SOAPMessage message=factory.createMessage();
    AttachmentPart ap=message.createAttachmentPart();
    MimeHeader mh=null;
    ap.setMimeHeader("Content-Description","some text");
    ap.setContentId("id@abc.com");
    ap.setContent(new StreamSource(in1),"text/xml");
    ap.clearContent();
    try {
      InputStream is=(InputStream)ap.getContent();
      fail("Error: SOAPException should have been thrown");
    }
 catch (    SOAPException e) {
    }
    Iterator iterator=ap.getAllMimeHeaders();
    int cnt=0;
    boolean foundHeader1=false;
    boolean foundHeader2=false;
    boolean foundDefaultHeader=false;
    while (iterator.hasNext()) {
      cnt++;
      mh=(MimeHeader)iterator.next();
      String name=mh.getName();
      String value=mh.getValue();
      if (name.equals("Content-Description") && value.equals("some text")) {
        if (!foundHeader1) {
          foundHeader1=true;
        }
 else {
          fail("Error: Received the same header1 header twice");
        }
      }
 else       if (name.equalsIgnoreCase("Content-Id") && value.equals("id@abc.com")) {
        if (!foundHeader2) {
          foundHeader2=true;
        }
 else {
          fail("Error: Received the same header2 header twice");
        }
      }
 else       if (name.equals("Content-Type") && value.equals("text/xml")) {
        if (!foundDefaultHeader) {
          foundDefaultHeader=true;
        }
 else {
          fail("Error: Received the same default header header twice");
        }
      }
 else {
        fail("Error: Received an invalid header");
      }
    }
    if (!(foundHeader1 && foundHeader2)) {
      fail("Error: did not receive both headers");
    }
  }
 catch (  Exception e) {
    fail("Exception: " + e);
  }
}

</code></pre>

<pre class="type-3 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBadAttSize() throws Exception {
  MessageFactory factory=MessageFactory.newInstance();
  SOAPMessage message=factory.createMessage();
  ByteArrayInputStream ins=new ByteArrayInputStream(new byte[5]);
  DataHandler dh=new DataHandler(new Src(ins,"text/plain"));
  AttachmentPart part=message.createAttachmentPart(dh);
  assertEquals("Size should match",5,part.getSize());
}

</code></pre>

<pre class="type-11 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Validated @Test public void testSetBase64Content() throws Exception {
  MessageFactory factory=MessageFactory.newInstance();
  SOAPMessage msg=factory.createMessage();
  AttachmentPart ap=msg.createAttachmentPart();
  String urlString="http://ws.apache.org/images/project-logo.jpg";
  if (isNetworkedResourceAvailable(urlString)) {
    URL url=new URL(urlString);
    DataHandler dh=new DataHandler(url);
    InputStream is=dh.getInputStream();
    byte buf[]=IOUtils.toByteArray(is);
    ByteArrayOutputStream bos=new ByteArrayOutputStream();
    Base64Utils.encode(buf,0,buf.length,bos);
    buf=bos.toByteArray();
    InputStream stream=new ByteArrayInputStream(buf);
    ap.setBase64Content(stream,"image/jpeg");
    InputStream r=ap.getBase64Content();
    if (r != null) {
      if (r instanceof InputStream) {
      }
 else {
        fail("Unexpected object was returned");
      }
    }
  }
}

</code></pre>

<pre class="type-3 type-12 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
@Validated @Test public void testMultipleAttachments() throws Exception {
  MessageFactory factory=MessageFactory.newInstance();
  SOAPMessage msg=factory.createMessage();
  AttachmentPart a1=msg.createAttachmentPart(new DataHandler("<some_xml/>","text/xml"));
  a1.setContentType("text/xml");
  msg.addAttachmentPart(a1);
  AttachmentPart a2=msg.createAttachmentPart(new DataHandler("<some_xml/>","text/xml"));
  a2.setContentType("text/xml");
  msg.addAttachmentPart(a2);
  AttachmentPart a3=msg.createAttachmentPart(new DataHandler("text","text/plain"));
  a3.setContentType("text/plain");
  msg.addAttachmentPart(a3);
  assertTrue(msg.countAttachments() == 3);
  MimeHeaders mimeHeaders=new MimeHeaders();
  mimeHeaders.addHeader("Content-Type","text/xml");
  int nAttachments=0;
  Iterator iterator=msg.getAttachments(mimeHeaders);
  while (iterator.hasNext()) {
    nAttachments++;
    AttachmentPart ap=(AttachmentPart)iterator.next();
    assertTrue(ap.equals(a1) || ap.equals(a2));
  }
  assertTrue(nAttachments == 2);
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
