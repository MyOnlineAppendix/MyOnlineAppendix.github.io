<h3 style="margin:0px">Class: org.apache.axis2.saaj.SOAPMessageTest (8 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(6)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(5)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="10"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('10')" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure"><kbd id="tag-10"class="label-info"style="display: inline-block;font-size:7pt" >UtilityVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="8"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('8')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-8"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="11"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('11')" data-toggle="tooltip" title="Verifies assertions inside branch conditions"><kbd id="tag-11"class="label-info"style="display: inline-block;font-size:7pt" >BranchVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Allocates resources before the execution of the test cases"><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >TestInitializer&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  msg=MessageFactory.newInstance().createMessage();
}

</code></pre>

<pre class="type-10 type-8 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Validated @Test public void testSaveRequired(){
  try {
    assertTrue("Save Required is False",msg.saveRequired());
  }
 catch (  Exception e) {
    fail("Unexpected Exception : " + e);
  }
}

</code></pre>

<pre class="type-3 type-2 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Validated @Test public void testContentTypeUpdateWithAttachmentChanges() throws Exception {
  MessageFactory fac=MessageFactory.newInstance();
  SOAPMessage msg=fac.createMessage();
  InputStream inputStream=TestUtils.getTestFile("attach.xml");
  AttachmentPart ap=msg.createAttachmentPart(new StreamSource(inputStream),"text/xml");
  msg.addAttachmentPart(ap);
  msg.saveChanges();
  assertNotNull(msg.getMimeHeaders().getHeader(HTTPConstants.HEADER_CONTENT_TYPE));
  ContentType contentType=new ContentType(msg.getMimeHeaders().getHeader(HTTPConstants.HEADER_CONTENT_TYPE)[0]);
  assertEquals(MediaType.MULTIPART_RELATED,contentType.getMediaType());
  msg.removeAllAttachments();
  msg.saveChanges();
  assertNotNull(msg.getMimeHeaders().getHeader(HTTPConstants.HEADER_CONTENT_TYPE));
  contentType=new ContentType(msg.getMimeHeaders().getHeader(HTTPConstants.HEADER_CONTENT_TYPE)[0]);
  assertEquals(MediaType.TEXT_XML,contentType.getMediaType());
}

</code></pre>

<pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Validated @Test public void testCreateMessageWithMimeHeaders() throws Exception {
  MessageFactory fac=MessageFactory.newInstance();
  SOAPMessage msg=fac.createMessage();
  InputStream inputStream=TestUtils.getTestFile("attach.xml");
  AttachmentPart ap=msg.createAttachmentPart(new StreamSource(inputStream),"text/xml");
  msg.addAttachmentPart(ap);
  msg.saveChanges();
  ContentType contentType=new ContentType(msg.getMimeHeaders().getHeader(HTTPConstants.HEADER_CONTENT_TYPE)[0]);
  ByteArrayOutputStream out=new ByteArrayOutputStream();
  msg.writeTo(out);
  SOAPMessage msg2=fac.createMessage(msg.getMimeHeaders(),new ByteArrayInputStream(out.toByteArray()));
  msg2.saveChanges();
  ContentType contentType2=new ContentType(msg2.getMimeHeaders().getHeader(HTTPConstants.HEADER_CONTENT_TYPE)[0]);
  assertEquals(contentType.getMediaType(),contentType2.getMediaType());
  assertEquals(contentType.getParameter("boundary"),contentType2.getParameter("boundary"));
  assertEquals(contentType.getParameter("type"),contentType2.getParameter("type"));
}

</code></pre>

<pre class="type-3 type-11 type-10 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Validated @Test public void testGetContent(){
  try {
    MessageFactory fac=MessageFactory.newInstance(SOAPConstants.SOAP_1_2_PROTOCOL);
    SOAPMessage msg=fac.createMessage();
    SOAPPart soapPart=msg.getSOAPPart();
    SOAPEnvelope envelope=soapPart.getEnvelope();
    SOAPBody body=envelope.getBody();
    AttachmentPart ap;
    InputStream inputStream=TestUtils.getTestFile("attach.xml");
    ap=msg.createAttachmentPart(new StreamSource(inputStream),"text/xml");
    DataHandler dh=new DataHandler(new SAAJDataSource(inputStream,1000,"text/xml",true));
    StringBuffer sb1=copyToBuffer(dh.getInputStream());
    assertNotNull(ap);
    try {
      Object o=ap.getContent();
      InputStream is=null;
      assertNotNull(o);
      if (o instanceof StreamSource) {
        StreamSource ss=(StreamSource)o;
        is=ss.getInputStream();
      }
 else {
        fail("got object: " + o + ", expected object: javax.xml.transform.stream.StreamSource");
      }
    }
 catch (    Exception e) {
      fail("attachment has no content - unexpected");
    }
  }
 catch (  Exception e) {
    fail("Exception: " + e);
  }
}

</code></pre>

<pre class="type-3 type-1 type-2 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Validated @Test public void testContentTypeGeneration() throws Exception {
  MessageFactory fac=MessageFactory.newInstance();
  SOAPMessage msg=fac.createMessage();
  InputStream inputStream=TestUtils.getTestFile("attach.xml");
  AttachmentPart ap=msg.createAttachmentPart(new StreamSource(inputStream),"text/xml");
  msg.addAttachmentPart(ap);
  msg.saveChanges();
  assertNotNull(msg.getMimeHeaders().getHeader(HTTPConstants.HEADER_CONTENT_TYPE));
  String contentTypeValue=msg.getMimeHeaders().getHeader(HTTPConstants.HEADER_CONTENT_TYPE)[0];
  ContentType contentType=new ContentType(contentTypeValue);
  assertNotNull("boundary parameter should exist in the content-type header",contentType.getParameter("boundary"));
  assertNotNull("type parameter should exist in the content-type header",contentType.getParameter("type"));
  assertEquals(MediaType.MULTIPART_RELATED,contentType.getMediaType());
}

</code></pre>

<pre class="type-10 type-8 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Validated @Test public void testSaveRequired2(){
  try {
    msg.saveChanges();
    assertFalse("Save Required is True",msg.saveRequired());
  }
 catch (  Exception e) {
    fail("Unexpected Exception : " + e);
  }
}

</code></pre>

<pre class="type-3 type-10 type-8 type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Validated @Test public void testRemoveAttachements(){
  Iterator iterator=null;
  AttachmentPart ap1=null;
  AttachmentPart ap2=null;
  AttachmentPart ap3=null;
  try {
    MessageFactory fac=MessageFactory.newInstance(SOAPConstants.SOAP_1_2_PROTOCOL);
    SOAPMessage msg=fac.createMessage();
    SOAPPart soapPart=msg.getSOAPPart();
    SOAPEnvelope envelope=soapPart.getEnvelope();
    SOAPBody body=envelope.getBody();
    SOAPFault sf=body.addFault();
    InputStream in1=TestUtils.getTestFile("attach.xml");
    ap1=msg.createAttachmentPart(in1,"text/xml");
    msg.addAttachmentPart(ap1);
    InputStream in2=TestUtils.getTestFile("axis2.xml");
    ap2=msg.createAttachmentPart(in2,"text/xml");
    msg.addAttachmentPart(ap2);
    InputStream in3=TestUtils.getTestFile("axis2.xml");
    ap3=msg.createAttachmentPart(in3,"text/plain");
    msg.addAttachmentPart(ap3);
    iterator=msg.getAttachments();
    int cnt=0;
    while (iterator.hasNext()) {
      cnt++;
      iterator.next();
    }
    assertEquals(cnt,3);
    MimeHeaders mhs=new MimeHeaders();
    mhs.addHeader("Content-Type","text/xml");
    msg.removeAttachments(mhs);
    iterator=msg.getAttachments();
    cnt=0;
    iterator=msg.getAttachments();
    while (iterator.hasNext()) {
      cnt++;
      iterator.next();
    }
    assertEquals(cnt,1);
    iterator=msg.getAttachments();
    AttachmentPart ap=(AttachmentPart)iterator.next();
    String ctype=ap.getContentType();
    assertTrue(ctype.equals("text/plain"));
  }
 catch (  Exception e) {
    fail("Exception: " + e);
  }
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
