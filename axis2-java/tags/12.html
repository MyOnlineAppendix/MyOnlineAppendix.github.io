<h3><span class=" glyphicon glyphicon-tag"/>&nbspIterativeVerifier</h3><kbd>Verifies assertions in iterations</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.axis2.saaj.AttachmentTest </h4><pre class="type-3 type-12 type-8 type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Validated @Test public void testStringAttachment() throws Exception {
  MessageFactory factory=MessageFactory.newInstance();
  SOAPMessage message=factory.createMessage();
  AttachmentPart attachment=message.createAttachmentPart();
  String stringContent="Update address for Sunny Skies " + "Inc., to 10 Upbeat Street, Pleasant Grove, CA 95439";
  attachment.setContent(stringContent,"text/plain");
  attachment.setContentId("update_address");
  message.addAttachmentPart(attachment);
  assertTrue(message.countAttachments() == 1);
  Iterator it=message.getAttachments();
  while (it.hasNext()) {
    attachment=(AttachmentPart)it.next();
    Object content=attachment.getContent();
    String id=attachment.getContentId();
    assertEquals(content,stringContent);
  }
  message.removeAllAttachments();
  assertTrue(message.countAttachments() == 0);
}

</code></pre>

<br>
<pre class="type-12 type-11 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Validated @Test public void testClearContent() throws Exception {
  try {
    InputStream in1=TestUtils.getTestFile("attach.xml");
    MessageFactory factory=MessageFactory.newInstance();
    SOAPMessage message=factory.createMessage();
    AttachmentPart ap=message.createAttachmentPart();
    MimeHeader mh=null;
    ap.setMimeHeader("Content-Description","some text");
    ap.setContentId("id@abc.com");
    ap.setContent(new StreamSource(in1),"text/xml");
    ap.clearContent();
    try {
      InputStream is=(InputStream)ap.getContent();
      fail("Error: SOAPException should have been thrown");
    }
 catch (    SOAPException e) {
    }
    Iterator iterator=ap.getAllMimeHeaders();
    int cnt=0;
    boolean foundHeader1=false;
    boolean foundHeader2=false;
    boolean foundDefaultHeader=false;
    while (iterator.hasNext()) {
      cnt++;
      mh=(MimeHeader)iterator.next();
      String name=mh.getName();
      String value=mh.getValue();
      if (name.equals("Content-Description") && value.equals("some text")) {
        if (!foundHeader1) {
          foundHeader1=true;
        }
 else {
          fail("Error: Received the same header1 header twice");
        }
      }
 else       if (name.equalsIgnoreCase("Content-Id") && value.equals("id@abc.com")) {
        if (!foundHeader2) {
          foundHeader2=true;
        }
 else {
          fail("Error: Received the same header2 header twice");
        }
      }
 else       if (name.equals("Content-Type") && value.equals("text/xml")) {
        if (!foundDefaultHeader) {
          foundDefaultHeader=true;
        }
 else {
          fail("Error: Received the same default header header twice");
        }
      }
 else {
        fail("Error: Received an invalid header");
      }
    }
    if (!(foundHeader1 && foundHeader2)) {
      fail("Error: did not receive both headers");
    }
  }
 catch (  Exception e) {
    fail("Exception: " + e);
  }
}

</code></pre>

<br>
<pre class="type-3 type-12 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
@Validated @Test public void testMultipleAttachments() throws Exception {
  MessageFactory factory=MessageFactory.newInstance();
  SOAPMessage msg=factory.createMessage();
  AttachmentPart a1=msg.createAttachmentPart(new DataHandler("<some_xml/>","text/xml"));
  a1.setContentType("text/xml");
  msg.addAttachmentPart(a1);
  AttachmentPart a2=msg.createAttachmentPart(new DataHandler("<some_xml/>","text/xml"));
  a2.setContentType("text/xml");
  msg.addAttachmentPart(a2);
  AttachmentPart a3=msg.createAttachmentPart(new DataHandler("text","text/plain"));
  a3.setContentType("text/plain");
  msg.addAttachmentPart(a3);
  assertTrue(msg.countAttachments() == 3);
  MimeHeaders mimeHeaders=new MimeHeaders();
  mimeHeaders.addHeader("Content-Type","text/xml");
  int nAttachments=0;
  Iterator iterator=msg.getAttachments(mimeHeaders);
  while (iterator.hasNext()) {
    nAttachments++;
    AttachmentPart ap=(AttachmentPart)iterator.next();
    assertTrue(ap.equals(a1) || ap.equals(a2));
  }
  assertTrue(nAttachments == 2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.axis2.saaj.SOAPBodyTest </h4><pre class="type-3 type-12 type-8 type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Method testSoapBodyBUG
 * @throws Exception
 */
@Validated @Test public void testSoapBody() throws Exception {
  MessageFactory fact=MessageFactory.newInstance();
  SOAPMessage message=fact.createMessage();
  SOAPPart soapPart=message.getSOAPPart();
  SOAPEnvelope env=soapPart.getEnvelope();
  SOAPHeader header=env.getHeader();
  Name hns=env.createName("Hello","shw","http://www.jcommerce.net/soap/ns/SOAPHelloWorld");
  SOAPElement headElmnt=header.addHeaderElement(hns);
  Name hns1=env.createName("Myname","shw","http://www.jcommerce.net/soap/ns/SOAPHelloWorld");
  SOAPElement myName=headElmnt.addChildElement(hns1);
  myName.addTextNode("Tony");
  Name ns=env.createName("Address","shw","http://www.jcommerce.net/soap/ns/SOAPHelloWorld");
  SOAPBody body=env.getBody();
  SOAPElement bodyElmnt=body.addBodyElement(ns);
  Name ns1=env.createName("City","shw","http://www.jcommerce.net/soap/ns/SOAPHelloWorld");
  SOAPElement city=bodyElmnt.addChildElement(ns1);
  city.addTextNode("GENT");
  SOAPElement city2=body.addChildElement(ns1);
  assertTrue(city2 instanceof SOAPBodyElement);
  city2.addTextNode("CIT2");
  Iterator it=body.getChildElements();
  int count=0;
  while (it.hasNext()) {
    Object o=it.next();
    assertTrue(o instanceof SOAPBodyElement);
    SOAPBodyElement bodyElement=(SOAPBodyElement)o;
    assertEquals("http://www.jcommerce.net/soap/ns/SOAPHelloWorld",bodyElement.getNamespaceURI());
    assertEquals("shw",bodyElement.getPrefix());
    assertTrue(bodyElement.getLocalName().equals("City") || bodyElement.getLocalName().equals("Address"));
    count++;
  }
  assertEquals(2,count);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.axis2.saaj.SOAPEnvelopeTest </h4><pre class="type-3 type-12 type-8 type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Validated @Test public void testHeaderElements() throws Exception {
  SOAPEnvelope envelope=getSOAPEnvelope();
  SOAPHeader header=envelope.getHeader();
  SOAPHeaderElement headerEle=header.addHeaderElement(envelope.createName("foo1","f1","foo1-URI"));
  headerEle.setActor("actor-URI");
  headerEle.setMustUnderstand(true);
  Iterator iterator=header.extractHeaderElements("actor-URI");
  int cnt=0;
  while (iterator.hasNext()) {
    cnt++;
    SOAPHeaderElement resultHeaderEle=(SOAPHeaderElement)iterator.next();
    assertEquals(headerEle.getActor(),resultHeaderEle.getActor());
    assertEquals(resultHeaderEle.getMustUnderstand(),headerEle.getMustUnderstand());
  }
  assertTrue(cnt == 1);
  iterator=header.extractHeaderElements("actor-URI");
  assertTrue(!iterator.hasNext());
}

</code></pre>

<br>
<pre class="type-3 type-12 type-11 type-8 type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Validated @Test public void testAttributes() throws Exception {
  SOAPEnvelope envelope=getSOAPEnvelope();
  SOAPBody body=envelope.getBody();
  Name name1=envelope.createName("MyAttr1");
  String value1="MyValue1";
  Name name2=envelope.createName("MyAttr2");
  String value2="MyValue2";
  Name name3=envelope.createName("MyAttr3");
  String value3="MyValue3";
  body.addAttribute(name1,value1);
  body.addAttribute(name2,value2);
  body.addAttribute(name3,value3);
  Iterator iterator=body.getAllAttributes();
  assertTrue(getIteratorCount(iterator) == 3);
  iterator=body.getAllAttributes();
  boolean foundName1=false;
  boolean foundName2=false;
  boolean foundName3=false;
  while (iterator.hasNext()) {
    Name name=(Name)iterator.next();
    if (name.equals(name1)) {
      foundName1=true;
      assertEquals(value1,body.getAttributeValue(name));
    }
 else     if (name.equals(name2)) {
      foundName2=true;
      assertEquals(value2,body.getAttributeValue(name));
    }
 else     if (name.equals(name3)) {
      foundName3=true;
      assertEquals(value3,body.getAttributeValue(name));
    }
  }
  assertTrue(foundName1 && foundName2 && foundName3);
}

</code></pre>

<br>
<pre class="type-3 type-12 type-11 type-8 type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Validated @Test public void testAttributes2() throws Exception {
  SOAPEnvelope envelope=getSOAPEnvelope();
  SOAPBody body=envelope.getBody();
  Name name1=envelope.createName("MyAttr1","att","http://test.com/Attr");
  String value1="MyValue1";
  Name name2=envelope.createName("MyAttr2");
  String value2="MyValue2";
  Name name3=envelope.createName("MyAttr3");
  String value3="MyValue3";
  body.addAttribute(name1,value1);
  body.addAttribute(name2,value2);
  body.addAttribute(name3,value3);
  Iterator iterator=body.getAllAttributes();
  assertTrue(getIteratorCount(iterator) == 3);
  iterator=body.getAllAttributes();
  boolean foundName1=false;
  boolean foundName2=false;
  boolean foundName3=false;
  while (iterator.hasNext()) {
    Name name=(Name)iterator.next();
    if (name.equals(name1)) {
      foundName1=true;
      assertEquals(value1,body.getAttributeValue(name));
    }
 else     if (name.equals(name2)) {
      foundName2=true;
      assertEquals(value2,body.getAttributeValue(name));
    }
 else     if (name.equals(name3)) {
      foundName3=true;
      assertEquals(value3,body.getAttributeValue(name));
    }
  }
  assertTrue(foundName1 && foundName2 && foundName3);
}

</code></pre>

<br>
<pre class="type-3 type-12 type-11 type-8 type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Validated @Test public void testAttributes3() throws Exception {
  SOAPEnvelope envelope=getSOAPEnvelope();
  SOAPBody body=envelope.getBody();
  Name name1=envelope.createName("MyAttr1","att","http://test.com/Attr");
  String value1="MyValue1";
  Name name2=envelope.createName("MyAttr2","att","http://test.com/Attr");
  String value2="MyValue2";
  Name name3=envelope.createName("MyAttr3","att","http://test.com/Attr");
  String value3="MyValue3";
  body.addAttribute(name1,value1);
  body.addAttribute(name2,value2);
  body.addAttribute(name3,value3);
  Iterator iterator=body.getAllAttributes();
  assertTrue(getIteratorCount(iterator) == 3);
  iterator=body.getAllAttributes();
  boolean foundName1=false;
  boolean foundName2=false;
  boolean foundName3=false;
  while (iterator.hasNext()) {
    Name name=(Name)iterator.next();
    if (name.equals(name1)) {
      foundName1=true;
      assertEquals(value1,body.getAttributeValue(name));
    }
 else     if (name.equals(name2)) {
      foundName2=true;
      assertEquals(value2,body.getAttributeValue(name));
    }
 else     if (name.equals(name3)) {
      foundName3=true;
      assertEquals(value3,body.getAttributeValue(name));
    }
  }
  assertTrue(foundName1 && foundName2 && foundName3);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.axis2.saaj.SOAPFaultDetailTest </h4><pre class="type-3 type-12 type-11 type-8 type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDetails() throws Exception {
  MessageFactory mf=MessageFactory.newInstance();
  SOAPMessage smsg=mf.createMessage(new MimeHeaders(),new ByteArrayInputStream(xmlString.getBytes()));
  SOAPBody body=smsg.getSOAPBody();
  SOAPFault fault=body.getFault();
  fault.addDetail();
  javax.xml.soap.Detail d=fault.getDetail();
  Iterator i=d.getDetailEntries();
  while (i.hasNext()) {
    DetailEntry entry=(DetailEntry)i.next();
    String name=entry.getElementName().getLocalName();
    if ("tickerSymbol".equals(name)) {
      assertEquals("the value of the tickerSymbol element didn't match","MACR",entry.getValue());
    }
 else     if ("exceptionName".equals(name)) {
      assertEquals("the value of the exceptionName element didn't match","test.wsdl.faults.InvalidTickerFaultMessage",entry.getValue());
    }
 else {
      assertTrue("Expecting details element name of 'tickerSymbol' or " + "'expceptionName' - I found :" + name,false);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.axis2.saaj.SOAPFaultTest </h4><pre class="type-3 type-12 type-11 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies whether objects are null
"></span><br>
@Validated @Test public void testFaults() throws Exception {
  MessageFactory messageFactory=MessageFactory.newInstance();
  SOAPFactory soapFactory=SOAPFactory.newInstance();
  SOAPMessage message=messageFactory.createMessage();
  SOAPBody body=message.getSOAPBody();
  SOAPFault fault=body.addFault();
  Name faultName=soapFactory.createName("Client","",SOAPConstants.URI_NS_SOAP_ENVELOPE);
  fault.setFaultCode(faultName);
  fault.setFaultString("Message does not have necessary info");
  fault.setFaultActor("http://gizmos.com/order");
  Detail detail=fault.addDetail();
  Name entryName=soapFactory.createName("order","PO","http://gizmos.com/orders/");
  DetailEntry entry=detail.addDetailEntry(entryName);
  entry.addTextNode("Quantity element does not have a value");
  Name entryName2=soapFactory.createName("confirmation","PO","http://gizmos.com/confirm");
  DetailEntry entry2=detail.addDetailEntry(entryName2);
  entry2.addTextNode("Incomplete address: " + "no zip code");
  message.saveChanges();
  if (body.hasFault()) {
    SOAPFault newFault=body.getFault();
    assertNotNull(newFault.getFaultCodeAsName());
    assertNotNull(newFault.getFaultString());
    assertNotNull(newFault.getFaultActor());
    Detail newDetail=newFault.getDetail();
    if (newDetail != null) {
      Iterator entries=newDetail.getDetailEntries();
      while (entries.hasNext()) {
        DetailEntry newEntry=(DetailEntry)entries.next();
        String value=newEntry.getValue();
        assertNotNull(value);
      }
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.axis2.saaj.SOAPHeaderTest </h4><pre class="type-3 type-12 type-8 type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Validated @Test public void testAddHeaderElements() throws Exception {
  javax.xml.soap.SOAPMessage soapMessage=javax.xml.soap.MessageFactory.newInstance().createMessage();
  javax.xml.soap.SOAPEnvelope soapEnv=soapMessage.getSOAPPart().getEnvelope();
  javax.xml.soap.SOAPHeader header=soapEnv.getHeader();
  try {
    header.addChildElement("ebxmlms1");
  }
 catch (  Exception e) {
    assertTrue(e instanceof SOAPException);
  }
  assertTrue(header.addChildElement("ebxmlms1","ns-prefix","http://test.apache.org") instanceof SOAPHeaderElement);
  ((SOAPHeaderElement)header.getFirstChild()).addTextNode("test add");
  assertTrue(header.addHeaderElement(soapEnv.createName("ebxmlms2","ns-prefix","http://test2.apache.org")) != null);
  assertTrue(header.addHeaderElement(new PrefixedQName("http://test3.apache.org","ebxmlms3","ns-prefix")) != null);
  SOAPHeaderElement firstChild=(SOAPHeaderElement)header.getFirstChild();
  assertEquals("ebxmlms1",firstChild.getLocalName());
  assertEquals("ns-prefix",firstChild.getPrefix());
  assertEquals("http://test.apache.org",firstChild.getNamespaceURI());
  SOAPHeaderElement secondChild=(SOAPHeaderElement)firstChild.getNextSibling();
  assertEquals("ebxmlms2",secondChild.getLocalName());
  assertEquals("ns-prefix",secondChild.getPrefix());
  assertEquals("http://test2.apache.org",secondChild.getNamespaceURI());
  SOAPHeaderElement lastChild=(SOAPHeaderElement)header.getLastChild();
  assertEquals("ebxmlms3",lastChild.getLocalName());
  assertEquals("ns-prefix",lastChild.getPrefix());
  assertEquals("http://test3.apache.org",lastChild.getNamespaceURI());
  SOAPHeaderElement fourthChild=(SOAPHeaderElement)lastChild.getPreviousSibling();
  assertEquals("ebxmlms2",fourthChild.getLocalName());
  assertEquals("ns-prefix",fourthChild.getPrefix());
  assertEquals("http://test2.apache.org",fourthChild.getNamespaceURI());
  Iterator it=header.getChildElements();
  int numOfHeaderElements=0;
  while (it.hasNext()) {
    Object o=it.next();
    assertTrue(o instanceof SOAPHeaderElement);
    SOAPHeaderElement el=(SOAPHeaderElement)o;
    String lName=el.getLocalName();
    assertTrue(lName.equals("ebxmlms" + ++numOfHeaderElements));
  }
  assertEquals(3,numOfHeaderElements);
}

</code></pre>

<br>
<pre class="type-12 type-11 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Validated @Test public void testExamineHeader(){
  SOAPHeaderElement she=null;
  try {
    she1=hdr.addHeaderElement(envelope.createName("foo1","f1","foo1-URI"));
    she1.setActor("actor-URI");
    Iterator iterator=hdr.examineAllHeaderElements();
    int cnt=0;
    while (iterator.hasNext()) {
      cnt++;
      she=(SOAPHeaderElement)iterator.next();
      if (!she.equals(she1)) {
        fail("SOAP Header Elements do not match");
      }
    }
    if (cnt != 1) {
      fail("SOAPHeaderElement count mismatch: expected 1, received " + cnt);
    }
    iterator=hdr.examineAllHeaderElements();
    if (!iterator.hasNext()) {
      fail("no elements in iterator - unexpected");
    }
  }
 catch (  Exception e) {
    fail("Unexpected Exception: " + e);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.axis2.saaj.SOAPPartTest </h4><pre class="type-3 type-12 type-1 type-8 type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNodeTypes() throws Exception {
  MessageFactory fact=MessageFactory.newInstance();
  SOAPMessage message=fact.createMessage();
  SOAPPart soapPart=message.getSOAPPart();
  assertTrue("first child",soapPart.getFirstChild() instanceof SOAPEnvelope);
  assertTrue("last child",soapPart.getLastChild() instanceof SOAPEnvelope);
  NodeList nodes=soapPart.getChildNodes();
  assertEquals(1,nodes.getLength());
  for (int i=0; i < nodes.getLength(); i++) {
    assertTrue(nodes.item(i) instanceof SOAPEnvelope);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.axis2.saaj.TextTest </h4><pre class="type-3 type-12 type-11 type-1 type-8 type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Validated @Test public void testComment() throws SOAPException, IOException {
  String xmlString="<?xml version='1.0' encoding='utf-8'?> " + "<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\">" + "<soapenv:Header></soapenv:Header>"+ "<soapenv:Body>"+ "<Node:abc xmlns:Node=\"http://www.simpletest.org\">"+ "This is some text"+ "<!--This is comment-->This is other text"+ "<!--This is another comment-->This is some other text"+ "</Node:abc>"+ "</soapenv:Body>"+ "</soapenv:Envelope>";
  MessageFactory mf=MessageFactory.newInstance();
  SOAPMessage message=mf.createMessage(new MimeHeaders(),new ByteArrayInputStream(xmlString.getBytes()));
  SOAPBody body=message.getSOAPBody();
  Node bodyElement=body.getFirstChild();
  NodeList textNodes=bodyElement.getChildNodes();
  assertEquals(5,textNodes.getLength());
  for (int i=0; i < textNodes.getLength(); i++) {
    Node node=textNodes.item(i);
    boolean isComment;
    isComment=((Text)node).isComment();
    if (i == 1 || i == 3) {
      assertEquals(true,isComment);
      assertTrue(node instanceof Comment);
    }
 else {
      assertEquals(false,isComment);
      assertFalse(node instanceof Comment);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.axis2.saaj.integration.IntegrationTest </h4><pre class="type-3 type-12 type-11 type-10 type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Checks that {@link org.apache.axis2.saaj.SOAPConnectionImpl} correctly performs transport
 * cleanup. If there is a problem with transport cleanup, then this test will fail with an error
 * caused by a timeout waiting for an available connection. This is a regression test for
 * AXIS2-4752.
 * @throws Exception
 */
@Test public void testConnectionCleanup() throws Exception {
  MessageFactory mf=MessageFactory.newInstance();
  SOAPMessage request=mf.createMessage();
  SOAPBodyElement bodyElement=request.getSOAPBody().addBodyElement(new QName("urn:test","echo"));
  for (int i=0; i < 1000; i++) {
    bodyElement.addChildElement(new QName("test")).addTextNode("some text");
  }
  SOAPConnection conn=SOAPConnectionFactory.newInstance().createConnection();
  for (int i=0; i < 100; i++) {
    triggerFault=i % 2 == 0;
    if (triggerFault) {
      try {
        conn.call(request,getAddress());
        fail("Expected SOAPException");
      }
 catch (      SOAPException ex) {
      }
    }
 else {
      SOAPMessage response=conn.call(request,getAddress());
      assertEquals(1000,((Element)response.getSOAPBody().getFirstChild()).getChildNodes().getLength());
    }
  }
  conn.close();
}

</code></pre>

<br>
<pre class="type-3 type-12 type-11 type-8 type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Validated @Test public void testSendReceiveMessageWithAttachment() throws Exception {
  MessageFactory mf=MessageFactory.newInstance();
  SOAPMessage request=mf.createMessage();
  createSOAPPart(request);
  String sampleMessage="Sample Message: Hello World!";
  AttachmentPart textAttach=request.createAttachmentPart(sampleMessage,"text/plain");
  textAttach.addMimeHeader("Content-Transfer-Encoding","binary");
  textAttach.setContentId("submitSampleText@apache.org");
  request.addAttachmentPart(textAttach);
  DataHandler imageDH=new DataHandler(TestUtils.getTestFileAsDataSource("axis2.jpg"));
  AttachmentPart jpegAttach=request.createAttachmentPart(imageDH);
  jpegAttach.addMimeHeader("Content-Transfer-Encoding","binary");
  jpegAttach.setContentId("submitSampleImage@apache.org");
  jpegAttach.setContentType("image/jpg");
  request.addAttachmentPart(jpegAttach);
  SOAPConnection sCon=SOAPConnectionFactory.newInstance().createConnection();
  SOAPMessage response=sCon.call(request,getAddress());
  assertEquals(2,response.countAttachments());
  Iterator attachIter=response.getAttachments();
  int i=0;
  while (attachIter.hasNext()) {
    AttachmentPart attachment=(AttachmentPart)attachIter.next();
    final Object content=attachment.getDataHandler().getContent();
    if (content instanceof String) {
      assertEquals(sampleMessage,(String)content);
    }
 else     if (content instanceof ByteArrayInputStream) {
      ByteArrayInputStream bais=(ByteArrayInputStream)content;
      byte[] b=new byte[15000];
      final int lengthRead=bais.read(b);
      FileOutputStream fos=new FileOutputStream(new File(System.getProperty("basedir",".") + "/" + "target/test-resources/result"+ (i++)+ ".jpg"));
      fos.write(b,0,lengthRead);
      fos.flush();
      fos.close();
      assertTrue(attachment.getContentType().equals("image/jpeg") || attachment.getContentType().equals("text/plain"));
    }
  }
  sCon.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.axis2.schema.XSD2JavaTest </h4><pre class="type-12 type-11 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies boolean conditions
"></span><br>
@Test public void testMain() throws Exception {
  File file=null;
  for (int i=0; i <= 4; i++) {
    file=new File(SampleSchemasDirectory + "sampleSchema" + i+ ".xsd");
    if (file.exists()) {
      XSD2Java.main(new String[]{SampleSchemasDirectory + "sampleSchema" + i+ ".xsd","target" + File.separator + "generated"+ File.separator+ "XSD2JAVA"+ i});
      File temp=new File("target" + File.separator + "generated"+ File.separator+ "XSD2JAVA"+ i);
      assertTrue(temp.exists());
    }
  }
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
