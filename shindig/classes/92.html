<h3 style="margin:0px">Class: org.apache.shindig.gadgets.oauth.GadgetTokenStoreTest (19 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(18)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(16)</kbd></button>&nbsp;<button id="8"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('8')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-8"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(15)</kbd></button>&nbsp;<button id="10"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('10')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-10"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(13)</kbd></button>&nbsp;<button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure"><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >UtilityVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Allocates resources before the execution of the test cases"><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >TestInitializer&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAccessTokenFromClient() throws Exception {
  OAuthArguments arguments=new OAuthArguments();
  arguments.setServiceName("testservice");
  arguments.setUseToken(UseToken.ALWAYS);
  store.storeTokenKeyAndSecret(privateToken,null,arguments,new TokenInfo("access","secret",null,0),responseParams);
  clientState.setAccessToken("clienttoken");
  clientState.setAccessTokenSecret("clienttokensecret");
  clientState.setSessionHandle("clienthandle");
  clientState.setTokenExpireMillis(56789L);
  AccessorInfo info=store.getOAuthAccessor(privateToken,arguments,clientState,responseParams,fetcherConfig);
  assertNull(info.getAccessor().requestToken);
  assertEquals("clienttoken",info.getAccessor().accessToken);
  assertEquals("clienttokensecret",info.getAccessor().tokenSecret);
  assertEquals("clienthandle",info.getSessionHandle());
  assertEquals(56789L,info.getTokenExpireMillis());
}

</code></pre>

<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOAuthAccessor_socialOAuth_privatePage() throws Exception {
  BasicOAuthStoreConsumerIndex index=new BasicOAuthStoreConsumerIndex();
  index.setGadgetUri(GADGET_URL);
  index.setServiceName("testservice");
  BasicOAuthStoreConsumerKeyAndSecret cks=new BasicOAuthStoreConsumerKeyAndSecret("hmac","hmacsecret",KeyType.HMAC_SYMMETRIC,null,null);
  backingStore.setConsumerKeyAndSecret(index,cks);
  OAuthArguments arguments=new OAuthArguments();
  arguments.setServiceName("testservice");
  arguments.setUseToken(UseToken.IF_AVAILABLE);
  AccessorInfo info=store.getOAuthAccessor(privateToken,arguments,clientState,responseParams,fetcherConfig);
  assertEquals(OAuthParamLocation.URI_QUERY,info.getParamLocation());
  Assert.assertNull(info.getConsumer().getKeyName());
  assertEquals("hmac",info.getConsumer().getConsumer().consumerKey);
  assertEquals("hmacsecret",info.getConsumer().getConsumer().consumerSecret);
  assertNull(info.getAccessor().requestToken);
  assertNull(info.getAccessor().accessToken);
  assertNull(info.getAccessor().tokenSecret);
}

</code></pre>

<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOAuthAccessor_fullOAuth_socialPage() throws Exception {
  BasicOAuthStoreConsumerIndex index=new BasicOAuthStoreConsumerIndex();
  index.setGadgetUri(GADGET_URL);
  index.setServiceName("testservice");
  BasicOAuthStoreConsumerKeyAndSecret cks=new BasicOAuthStoreConsumerKeyAndSecret("hmac","hmacsecret",KeyType.HMAC_SYMMETRIC,null,null);
  backingStore.setConsumerKeyAndSecret(index,cks);
  OAuthArguments arguments=new OAuthArguments();
  arguments.setServiceName("testservice");
  arguments.setUseToken(UseToken.ALWAYS);
  AccessorInfo info=store.getOAuthAccessor(socialToken,arguments,clientState,responseParams,fetcherConfig);
  assertEquals(OAuthParamLocation.URI_QUERY,info.getParamLocation());
  Assert.assertNull(info.getConsumer().getKeyName());
  assertEquals("hmac",info.getConsumer().getConsumer().consumerKey);
  assertEquals("hmacsecret",info.getConsumer().getConsumer().consumerSecret);
  assertNull(info.getAccessor().requestToken);
  assertNull(info.getAccessor().accessToken);
  assertNull(info.getAccessor().tokenSecret);
}

</code></pre>

<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetOAuthAccessor_oauthParamsInBody() throws Exception {
  OAuthArguments arguments=new OAuthArguments();
  arguments.setServiceName("testservice");
  arguments.setUseToken(UseToken.ALWAYS);
  privateToken.setAppUrl("http://www.example.com/body.xml");
  AccessorInfo info=store.getOAuthAccessor(privateToken,arguments,clientState,responseParams,fetcherConfig);
  assertEquals(FakeOAuthServiceProvider.REQUEST_TOKEN_URL,info.getConsumer().getConsumer().serviceProvider.requestTokenURL);
  assertEquals(FakeOAuthServiceProvider.APPROVAL_URL,info.getConsumer().getConsumer().serviceProvider.userAuthorizationURL);
  assertEquals(FakeOAuthServiceProvider.ACCESS_TOKEN_URL,info.getConsumer().getConsumer().serviceProvider.accessTokenURL);
  assertEquals(HttpMethod.POST,info.getHttpMethod());
  assertEquals(OAuthParamLocation.POST_BODY,info.getParamLocation());
}

</code></pre>

<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRequestTokenFromClient_noTokenInStorage() throws Exception {
  OAuthArguments arguments=new OAuthArguments();
  arguments.setServiceName("testservice");
  arguments.setUseToken(UseToken.ALWAYS);
  arguments.setRequestToken("preapproved");
  arguments.setRequestTokenSecret("preapprovedsecret");
  AccessorInfo info=store.getOAuthAccessor(privateToken,arguments,clientState,responseParams,fetcherConfig);
  assertNull(info.getAccessor().accessToken);
  assertEquals("preapproved",info.getAccessor().requestToken);
  assertEquals("preapprovedsecret",info.getAccessor().tokenSecret);
}

</code></pre>

<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOAuthAccessor_socialOAuth_socialPage() throws Exception {
  BasicOAuthStoreConsumerIndex index=new BasicOAuthStoreConsumerIndex();
  index.setGadgetUri(GADGET_URL);
  index.setServiceName("testservice");
  BasicOAuthStoreConsumerKeyAndSecret cks=new BasicOAuthStoreConsumerKeyAndSecret("hmac","hmacsecret",KeyType.HMAC_SYMMETRIC,null,null);
  backingStore.setConsumerKeyAndSecret(index,cks);
  OAuthArguments arguments=new OAuthArguments();
  arguments.setServiceName("testservice");
  arguments.setUseToken(UseToken.IF_AVAILABLE);
  AccessorInfo info=store.getOAuthAccessor(socialToken,arguments,clientState,responseParams,fetcherConfig);
  assertEquals(OAuthParamLocation.URI_QUERY,info.getParamLocation());
  Assert.assertNull(info.getConsumer().getKeyName());
  assertEquals("hmac",info.getConsumer().getConsumer().consumerKey);
  assertEquals("hmacsecret",info.getConsumer().getConsumer().consumerSecret);
  assertNull(info.getAccessor().requestToken);
  assertNull(info.getAccessor().accessToken);
  assertNull(info.getAccessor().tokenSecret);
}

</code></pre>

<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetOAuthAccessor_oauthParamsInHeader() throws Exception {
  OAuthArguments arguments=new OAuthArguments();
  arguments.setServiceName("testservice");
  arguments.setUseToken(UseToken.ALWAYS);
  privateToken.setAppUrl("http://www.example.com/header.xml");
  AccessorInfo info=store.getOAuthAccessor(privateToken,arguments,clientState,responseParams,fetcherConfig);
  assertEquals(FakeOAuthServiceProvider.REQUEST_TOKEN_URL,info.getConsumer().getConsumer().serviceProvider.requestTokenURL);
  assertEquals(FakeOAuthServiceProvider.APPROVAL_URL,info.getConsumer().getConsumer().serviceProvider.userAuthorizationURL);
  assertEquals(FakeOAuthServiceProvider.ACCESS_TOKEN_URL,info.getConsumer().getConsumer().serviceProvider.accessTokenURL);
  assertEquals(HttpMethod.GET,info.getHttpMethod());
  assertEquals(OAuthParamLocation.AUTH_HEADER,info.getParamLocation());
}

</code></pre>

<pre class="type-7 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOAuthAccessor_useToken_noOAuthInSpec() throws Exception {
  OAuthArguments arguments=new OAuthArguments();
  arguments.setUseToken(UseToken.IF_AVAILABLE);
  try {
    store.getOAuthAccessor(socialToken,arguments,clientState,responseParams,fetcherConfig);
    fail();
  }
 catch (  OAuthRequestException e) {
    assertEquals("BAD_OAUTH_CONFIGURATION",e.getError());
  }
}

</code></pre>

<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRemoveToken() throws Exception {
  OAuthArguments arguments=new OAuthArguments();
  arguments.setServiceName("testservice");
  arguments.setUseToken(UseToken.ALWAYS);
  store.storeTokenKeyAndSecret(privateToken,null,arguments,new TokenInfo("access","secret",null,0),responseParams);
  AccessorInfo info=store.getOAuthAccessor(privateToken,arguments,clientState,responseParams,fetcherConfig);
  assertNull(info.getAccessor().requestToken);
  assertEquals("access",info.getAccessor().accessToken);
  assertEquals("secret",info.getAccessor().tokenSecret);
  store.removeToken(privateToken,null,arguments,responseParams);
  info=store.getOAuthAccessor(privateToken,arguments,clientState,responseParams,fetcherConfig);
  assertNull(info.getAccessor().requestToken);
  assertNull(info.getAccessor().accessToken);
  assertNull(info.getAccessor().tokenSecret);
}

</code></pre>

<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOAuthAccessor_socialOAuth_withToken() throws Exception {
  BasicOAuthStoreConsumerIndex index=new BasicOAuthStoreConsumerIndex();
  index.setGadgetUri(GADGET_URL);
  index.setServiceName("testservice");
  BasicOAuthStoreConsumerKeyAndSecret cks=new BasicOAuthStoreConsumerKeyAndSecret("hmac","hmacsecret",KeyType.HMAC_SYMMETRIC,null,null);
  backingStore.setConsumerKeyAndSecret(index,cks);
  backingStore.setTokenInfo(privateToken,null,"testservice","",new TokenInfo("token","secret",null,0));
  OAuthArguments arguments=new OAuthArguments();
  arguments.setServiceName("testservice");
  arguments.setUseToken(UseToken.IF_AVAILABLE);
  AccessorInfo info=store.getOAuthAccessor(privateToken,arguments,clientState,responseParams,fetcherConfig);
  assertEquals(OAuthParamLocation.URI_QUERY,info.getParamLocation());
  Assert.assertNull(info.getConsumer().getKeyName());
  assertEquals("hmac",info.getConsumer().getConsumer().consumerKey);
  assertEquals("hmacsecret",info.getConsumer().getConsumer().consumerSecret);
  assertNull(info.getAccessor().requestToken);
  assertEquals("token",info.getAccessor().accessToken);
  assertEquals("secret",info.getAccessor().tokenSecret);
  info=store.getOAuthAccessor(socialToken,arguments,clientState,responseParams,fetcherConfig);
  assertEquals(OAuthParamLocation.URI_QUERY,info.getParamLocation());
  Assert.assertNull(info.getConsumer().getKeyName());
  assertEquals("hmac",info.getConsumer().getConsumer().consumerKey);
  assertEquals("hmacsecret",info.getConsumer().getConsumer().consumerSecret);
  assertNull(info.getAccessor().requestToken);
  assertNull(info.getAccessor().accessToken);
  assertNull(info.getAccessor().tokenSecret);
}

</code></pre>

<pre class="type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetOAuthAccessor_signedFetch_badServiceName() throws Exception {
  BasicOAuthStoreConsumerIndex index=new BasicOAuthStoreConsumerIndex();
  index.setGadgetUri(GADGET_URL);
  index.setServiceName("otherservice");
  BasicOAuthStoreConsumerKeyAndSecret cks=new BasicOAuthStoreConsumerKeyAndSecret("hmac","hmacsecret",KeyType.HMAC_SYMMETRIC,null,null);
  backingStore.setConsumerKeyAndSecret(index,cks);
  OAuthArguments arguments=new OAuthArguments();
  arguments.setUseToken(UseToken.NEVER);
  arguments.setServiceName("hmac");
  AccessorInfo info=store.getOAuthAccessor(socialToken,arguments,clientState,responseParams,fetcherConfig);
  assertEquals("keyname",info.getConsumer().getKeyName());
  assertEquals("key",info.getConsumer().getConsumer().consumerKey);
}

</code></pre>

<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRequestTokenFromClientState() throws Exception {
  OAuthArguments arguments=new OAuthArguments();
  arguments.setServiceName("testservice");
  arguments.setUseToken(UseToken.ALWAYS);
  store.storeTokenKeyAndSecret(privateToken,null,arguments,new TokenInfo("access","secret",null,0),responseParams);
  clientState.setRequestToken("request");
  clientState.setRequestTokenSecret("requestsecret");
  AccessorInfo info=store.getOAuthAccessor(privateToken,arguments,clientState,responseParams,fetcherConfig);
  assertEquals("request",info.getAccessor().requestToken);
  assertEquals("requestsecret",info.getAccessor().tokenSecret);
  assertNull(info.getAccessor().accessToken);
}

</code></pre>

<pre class="type-7 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOAuthAccessor_serviceNotFound() throws Exception {
  OAuthArguments arguments=new OAuthArguments();
  arguments.setServiceName("no such service");
  arguments.setUseToken(UseToken.ALWAYS);
  try {
    store.getOAuthAccessor(socialToken,arguments,clientState,responseParams,fetcherConfig);
    fail();
  }
 catch (  OAuthRequestException e) {
    assertEquals("BAD_OAUTH_CONFIGURATION",e.getError());
  }
}

</code></pre>

<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOAuthAccessor_signedFetch_hmacKey() throws Exception {
  BasicOAuthStoreConsumerIndex index=new BasicOAuthStoreConsumerIndex();
  index.setGadgetUri(GADGET_URL);
  index.setServiceName("hmac");
  BasicOAuthStoreConsumerKeyAndSecret cks=new BasicOAuthStoreConsumerKeyAndSecret("hmac","hmacsecret",KeyType.HMAC_SYMMETRIC,null,null);
  backingStore.setConsumerKeyAndSecret(index,cks);
  OAuthArguments arguments=new OAuthArguments();
  arguments.setUseToken(UseToken.NEVER);
  arguments.setServiceName("hmac");
  AccessorInfo info=store.getOAuthAccessor(socialToken,arguments,clientState,responseParams,fetcherConfig);
  assertEquals(OAuthParamLocation.URI_QUERY,info.getParamLocation());
  Assert.assertNull(info.getConsumer().getKeyName());
  assertEquals("hmac",info.getConsumer().getConsumer().consumerKey);
  assertEquals("hmacsecret",info.getConsumer().getConsumer().consumerSecret);
  assertNull(info.getAccessor().requestToken);
  assertNull(info.getAccessor().accessToken);
  assertNull(info.getAccessor().tokenSecret);
}

</code></pre>

<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAccessTokenFromServerDatabase() throws Exception {
  OAuthArguments arguments=new OAuthArguments();
  arguments.setServiceName("testservice");
  arguments.setUseToken(UseToken.ALWAYS);
  store.storeTokenKeyAndSecret(privateToken,null,arguments,new TokenInfo("access","secret","sessionhandle",12345L),responseParams);
  AccessorInfo info=store.getOAuthAccessor(privateToken,arguments,clientState,responseParams,fetcherConfig);
  assertNull(info.getAccessor().requestToken);
  assertEquals("access",info.getAccessor().accessToken);
  assertEquals("secret",info.getAccessor().tokenSecret);
  assertEquals("sessionhandle",info.getSessionHandle());
  assertEquals(12345L,info.getTokenExpireMillis());
}

</code></pre>

<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRequestTokenFromClient_preferTokenInStorage() throws Exception {
  OAuthArguments arguments=new OAuthArguments();
  arguments.setServiceName("testservice");
  arguments.setUseToken(UseToken.ALWAYS);
  arguments.setRequestToken("preapproved");
  arguments.setRequestTokenSecret("preapprovedsecret");
  store.storeTokenKeyAndSecret(privateToken,null,arguments,new TokenInfo("access","secret",null,0),responseParams);
  AccessorInfo info=store.getOAuthAccessor(privateToken,arguments,clientState,responseParams,fetcherConfig);
  assertNull(info.getAccessor().requestToken);
  assertEquals("access",info.getAccessor().accessToken);
  assertEquals("secret",info.getAccessor().tokenSecret);
}

</code></pre>

<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  backingStore=new BasicOAuthStore();
  backingStore.setDefaultKey(new BasicOAuthStoreConsumerKeyAndSecret("key","secret",KeyType.RSA_PRIVATE,"keyname",null));
  backingStore.setDefaultCallbackUrl(DEFAULT_CALLBACK);
  store=new GadgetOAuthTokenStore(backingStore,new FakeGadgetSpecFactory());
  socialToken=new FakeGadgetToken();
  socialToken.setOwnerId("owner");
  socialToken.setViewerId("viewer");
  socialToken.setAppUrl(GADGET_URL);
  privateToken=new FakeGadgetToken();
  privateToken.setOwnerId("owner");
  privateToken.setViewerId("owner");
  privateToken.setAppUrl(GADGET_URL);
  stateCrypter=new BasicBlobCrypter("abcdefghijklmnop".getBytes());
  clientState=new OAuthClientState(stateCrypter);
  responseParams=new OAuthResponseParams(socialToken,null,stateCrypter);
  fetcherConfig=new OAuthFetcherConfig(stateCrypter,store,new FakeTimeSource(),null,false);
}

</code></pre>

<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOAuthAccessor_signedFetch_defaultHmac() throws Exception {
  BasicOAuthStoreConsumerIndex index=new BasicOAuthStoreConsumerIndex();
  index.setGadgetUri(GADGET_URL);
  index.setServiceName("");
  BasicOAuthStoreConsumerKeyAndSecret cks=new BasicOAuthStoreConsumerKeyAndSecret("hmac","hmacsecret",KeyType.HMAC_SYMMETRIC,null,null);
  backingStore.setConsumerKeyAndSecret(index,cks);
  OAuthArguments arguments=new OAuthArguments();
  arguments.setUseToken(UseToken.NEVER);
  AccessorInfo info=store.getOAuthAccessor(socialToken,arguments,clientState,responseParams,fetcherConfig);
  assertEquals(OAuthParamLocation.URI_QUERY,info.getParamLocation());
  Assert.assertNull(info.getConsumer().getKeyName());
  assertEquals("hmac",info.getConsumer().getConsumer().consumerKey);
  assertEquals("hmacsecret",info.getConsumer().getConsumer().consumerSecret);
  assertNull(info.getAccessor().requestToken);
  assertNull(info.getAccessor().accessToken);
  assertNull(info.getAccessor().tokenSecret);
}

</code></pre>

<pre class="type-5 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOAuthAccessor_signedFetch() throws Exception {
  OAuthArguments arguments=new OAuthArguments();
  arguments.setUseToken(UseToken.NEVER);
  AccessorInfo info=store.getOAuthAccessor(socialToken,arguments,clientState,responseParams,fetcherConfig);
  assertEquals(OAuthParamLocation.URI_QUERY,info.getParamLocation());
  assertEquals("keyname",info.getConsumer().getKeyName());
  assertEquals("key",info.getConsumer().getConsumer().consumerKey);
  assertNull(info.getConsumer().getConsumer().consumerSecret);
  assertNull(info.getAccessor().requestToken);
  assertNull(info.getAccessor().accessToken);
  assertNull(info.getAccessor().tokenSecret);
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
