<h3><span class=" glyphicon glyphicon-tag"/>&nbspIterativeVerifier</h3><kbd>Verifies assertions in iterations</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.shindig.common.OpenSocialVersionTest </h4><pre class="type-11 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
@Test public void testVersionSorting(){
  ArrayList<OpenSocialVersion> list=new ArrayList<OpenSocialVersion>();
  list.add(new OpenSocialVersion("2.2.48"));
  list.add(new OpenSocialVersion("9.0.1"));
  list.add(new OpenSocialVersion("1.2.48"));
  list.add(new OpenSocialVersion("2.3.48"));
  list.add(new OpenSocialVersion("2.2.455"));
  list.add(new OpenSocialVersion("9.0.0"));
  Collections.sort(list,OpenSocialVersion.COMPARATOR);
  for (int i=0; i < list.size() - 1; i++) {
    Assert.assertTrue(list.get(i + 1).isEqualOrGreaterThan(list.get(i)));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.crypto.BlobCrypterTest </h4><pre class="type-11 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testManyEntries() throws Exception {
  Map<String,String> in=Maps.newHashMap();
  for (int i=0; i < 1000; i++) {
    in.put(Integer.toString(i),Integer.toString(i));
  }
  String blob=crypter.wrap(in);
  Map<String,String> out=crypter.unwrap(blob);
  for (int i=0; i < 1000; i++) {
    assertEquals(out.get(Integer.toString(i)),Integer.toString(i));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.crypto.CryptoTest </h4><pre class="type-9 type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAes128Cbc() throws Exception {
  byte[] key=Crypto.getRandomBytes(Crypto.CIPHER_KEY_LEN);
  for (byte i=0; i < 50; i++) {
    byte[] orig=new byte[i];
    for (byte j=0; j < i; j++) {
      orig[j]=j;
    }
    byte[] cipherText=Crypto.aes128cbcEncrypt(key,orig);
    byte[] plainText=Crypto.aes128cbcDecrypt(key,cipherText);
    assertArrayEquals("Array of length " + i,orig,plainText);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.util.DateUtilTest </h4><pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parse(){
  for (int i=0, j=rfc1123text.length; i < j; ++i) {
    assertEquals(timeStamps[i].getTime(),DateUtil.parseRfc1123Date(rfc1123text[i]).getTime());
  }
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void formatIso8601(){
  for (int i=0, j=timeStamps.length; i < j; ++i) {
    assertEquals(iso8601text[i],DateUtil.formatIso8601Date(timeStamps[i].getTime()));
  }
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void formatRfc1123Date(){
  for (int i=0, j=timeStamps.length; i < j; ++i) {
    assertEquals(rfc1123text[i],DateUtil.formatRfc1123Date(timeStamps[i]));
  }
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void format(){
  for (int i=0, j=timeStamps.length; i < j; ++i) {
    assertEquals(rfc1123text[i],DateUtil.formatRfc1123Date(timeStamps[i].getTime()));
  }
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void formatIso8601Date(){
  for (int i=0, j=timeStamps.length; i < j; ++i) {
    assertEquals(iso8601text[i],DateUtil.formatIso8601Date(timeStamps[i]));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.http.HttpResponseTest </h4><pre class="type-11 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testIsError(){
  for (int i=100; i < 400; i+=100) {
    for (int j=0; j < 10; ++j) {
      HttpResponse response=new HttpResponseBuilder().setHttpStatusCode(i).create();
      assertFalse("Status below 400 considered to be an error",response.isError());
    }
  }
  for (int i=400; i < 600; i+=100) {
    for (int j=0; j < 10; ++j) {
      HttpResponse response=new HttpResponseBuilder().setHttpStatusCode(i).create();
      assertTrue("Status above 400 considered to be an error",response.isError());
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.GadgetsHandlerServiceTest </h4><pre class="type-11 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCreateCajaResponse() throws Exception {
  String goldenEntries[][]={{"name1","LINT","msg1"},{"name2","LINT","msg2"}};
  List<GadgetsHandlerApi.Message> goldenMessages=Lists.newArrayList();
  for (  String[] goldenEntry : goldenEntries) {
    GadgetsHandlerApi.Message m=mock(GadgetsHandlerApi.Message.class);
    expect(m.getName()).andReturn(goldenEntry[0]);
    expect(m.getLevel()).andReturn(GadgetsHandlerApi.MessageLevel.valueOf(goldenEntry[1]));
    expect(m.getMessage()).andReturn(goldenEntry[2]);
    goldenMessages.add(m);
  }
  replay();
  Uri jsUri=Uri.parse("http://www.shindig.com/js");
  GadgetsHandlerApi.CajaResponse jsResponse=gadgetHandler.createCajaResponse(jsUri,"html","js",goldenMessages,ImmutableSet.of("*"),null);
  BeanDelegator.validateDelegator(jsResponse);
  assertEquals("html",jsResponse.getHtml());
  assertEquals("js",jsResponse.getJs());
  List<GadgetsHandlerApi.Message> response=jsResponse.getMessages();
  assertEquals(goldenMessages.size(),response.size());
  for (int i=0; i < response.size(); i++) {
    assertEquals(goldenEntries[i][0],response.get(i).getName());
    assertEquals(goldenEntries[i][1],response.get(i).getLevel().name());
    assertEquals(goldenEntries[i][2],response.get(i).getMessage());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.JsonRpcHandlerTest </h4><pre class="type-9 type-11 type-17 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultipleGadgets() throws Exception {
  JSONArray gadgets=new JSONArray().put(createGadget(FakeProcessor.SPEC_URL.toString(),0,null)).put(createGadget(FakeProcessor.SPEC_URL2.toString(),1,null));
  JSONObject input=new JSONObject().put("context",createContext("en","US")).put("gadgets",gadgets);
  JSONObject response=jsonRpcHandler.process(input);
  JSONArray outGadgets=response.getJSONArray("gadgets");
  boolean first=false;
  boolean second=false;
  for (int i=0, j=outGadgets.length(); i < j; ++i) {
    JSONObject gadget=outGadgets.getJSONObject(i);
    if (gadget.getString("url").equals(FakeProcessor.SPEC_URL.toString())) {
      assertEquals(FakeProcessor.SPEC_TITLE,gadget.getString("title"));
      assertEquals(0,gadget.getInt("moduleId"));
      first=true;
    }
 else {
      assertEquals(FakeProcessor.SPEC_TITLE2,gadget.getString("title"));
      assertEquals(1,gadget.getInt("moduleId"));
      second=true;
    }
  }
  assertTrue("First gadget not returned!",first);
  assertTrue("Second gadget not returned!",second);
}

</code></pre>

<br>
<pre class="type-9 type-11 type-17 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultipleGadgetsWithAnError() throws Exception {
  JSONArray gadgets=new JSONArray().put(createGadget(FakeProcessor.SPEC_URL.toString(),0,null)).put(createGadget(FakeProcessor.SPEC_URL2.toString(),1,null));
  JSONObject input=new JSONObject().put("context",createContext("en","US")).put("gadgets",gadgets);
  processor.exceptions.put(FakeProcessor.SPEC_URL2,new ProcessingException("broken",HttpServletResponse.SC_BAD_REQUEST));
  JSONObject response=jsonRpcHandler.process(input);
  JSONArray outGadgets=response.getJSONArray("gadgets");
  boolean first=false;
  boolean second=false;
  for (int i=0, j=outGadgets.length(); i < j; ++i) {
    JSONObject gadget=outGadgets.getJSONObject(i);
    if (gadget.getString("url").equals(FakeProcessor.SPEC_URL.toString())) {
      assertEquals(FakeProcessor.SPEC_TITLE,gadget.getString("title"));
      assertEquals(0,gadget.getInt("moduleId"));
      first=true;
    }
 else {
      JSONArray errors=gadget.getJSONArray("errors");
      assertEquals(1,errors.length());
      assertEquals("broken",errors.optString(0));
      second=true;
    }
  }
  assertTrue("First gadget not returned!",first);
  assertTrue("Second gadget not returned!",second);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.uri.DefaultConcatUriManagerTest </h4><pre class="type-9 type-11 type-17 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void typeJsBatchSplitBatched() throws Exception {
  Gadget gadget=mockGadget(false,false);
  String host="host.com";
  String path="/concat/path";
  ConcatUriManager.Type type=ConcatUriManager.Type.JS;
  String splitParam="token";
  String[] versions=new String[]{"version1"};
  ConcatUriManager.Versioner versioner=makeVersioner(null,versions);
  DefaultConcatUriManager manager=makeManager(host,path,splitParam,versioner);
  List<List<Uri>> resourceUris=ImmutableList.of(RESOURCES_ONE,RESOURCES_TWO,RESOURCES_ONE);
  HashMap<String,String> jsonParams=new HashMap<String,String>();
  List<ConcatData> concatUris=manager.make(fromList(gadget,resourceUris,type),false);
  assertEquals(3,concatUris.size());
  for (int i=0; i < 3; ++i) {
    ConcatData uri=concatUris.get(i);
    assertEquals(1,uri.getUris().size());
    String json=uri.getUris().get(0).getQueryParameter((Param.JSON.toString().toLowerCase()));
    assertTrue(json.startsWith(splitParam));
    String currentUri=uri.getUris().get(0).toString();
    if (jsonParams.keySet().contains(currentUri)) {
      assertEquals(jsonParams.get(currentUri),json);
    }
 else {
      jsonParams.put(currentUri,json);
    }
    assertEquals(DefaultConcatUriManager.getJsSnippet(json,RESOURCE_1),uri.getSnippet(RESOURCE_1));
    assertEquals(DefaultConcatUriManager.getJsSnippet(json,RESOURCE_2),uri.getSnippet(RESOURCE_2));
    assertNull(uri.getSnippet(RESOURCE_3_NOSCHEMA));
    assertEquals(DefaultConcatUriManager.getJsSnippet(json,RESOURCE_3_HTTP),uri.getSnippet(RESOURCE_3_HTTP));
    checkBasicUriParameters(uri.getUris().get(0),host,path,10,type,"0","0",versions[0]);
    List<Uri> resList=(i % 2 == 0) ? RESOURCES_ONE : RESOURCES_TWO;
    assertEquals(resList.get(0).toString(),uri.getUris().get(0).getQueryParameter("1"));
    assertEquals(resList.get(1).toString(),uri.getUris().get(0).getQueryParameter("2"));
    assertEquals(resList.get(2).toString(),uri.getUris().get(0).getQueryParameter("3"));
  }
  assertEquals(2,jsonParams.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.protocol.conversion.BeanJsonConverterTest </h4><pre class="type-11 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testJsonToCar() throws Exception {
  String carJson="{engine:[{value:DIESEL},{value:TURBO}],parkingTickets:{SF:$137,NY:'$301'}," + "passengers:[{gender:female,name:'Mum'}, {gender:male,name:'Dad'}]}";
  Model.Car car=beanJsonConverter.convertToObject(carJson,Model.Car.class);
  ArrayList<Model.Engine> engineInfo=Lists.newArrayList(Model.Engine.DIESEL,Model.Engine.TURBO);
  for (int i=0; i < car.getEngine().size(); i++) {
    assertEquals(car.getEngine().get(i).getValue(),engineInfo.get(i));
  }
  assertEquals(car.getParkingTickets(),ImmutableMap.of("SF","$137","NY","$301"));
  Model.Passenger mum=car.getPassengers().get(0);
  assertEquals(Model.Gender.female,mum.getGender());
  assertEquals("Mum",mum.getName());
  Model.Passenger dad=car.getPassengers().get(1);
  assertEquals(Model.Gender.male,dad.getGender());
  assertEquals("Dad",dad.getName());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.server.endtoend.EndToEndTest </h4><pre class="type-9 type-11 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPipelining() throws Exception {
  HtmlPage page=executePageTest("pipeliningTest",null);
  String text=page.asText();
  String title=page.getTitleText();
  assertEquals("EndToEndTest",title);
  JSONArray array=new JSONArray(text.substring(title.length(),text.length()));
  assertEquals(3,array.length());
  Map<String,JSONObject> jsonObjects=Maps.newHashMap();
  for (int i=0; i < array.length(); i++) {
    JSONObject jsonObj=array.getJSONObject(i);
    assertTrue(jsonObj.has("id"));
    jsonObjects.put(jsonObj.getString("id"),jsonObj);
  }
  JSONObject me=jsonObjects.get("me").getJSONObject("result");
  assertEquals("Digg",me.getJSONObject("name").getString("familyName"));
  JSONObject json=jsonObjects.get("json").getJSONObject("result");
  JSONObject expected=new JSONObject("{content: {key: 'value'}, status: 200}");
  JsonAssert.assertJsonObjectEquals(expected,json);
  JsonAssert.assertObjectEquals("{id: 'var', result: 'value'}",jsonObjects.get("var"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.dataservice.integration.RestfulJsonPeopleTest </h4><pre class="type-9 type-11 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Expected response for john.doe's json:
 * { 'entry' : {
 * 'id' : 'john.doe',
 * 'name' : {'formatted' : 'John Doe'},
 * 'phoneNumbers' : [
 * { 'number' : '+33H000000000', 'type' : 'home'},
 * ],
 * 'addresses' : [
 * {'formatted' : 'My home address'}
 * ],
 * 'emails' : [
 * { 'value' : 'john.doe@work.bar', 'type' : 'work'},
 * ]
 * ... etc, etc for all fields in the person object
 * }
 * }
 * TODO: Finish up this test and make refactor so that it is easier to read
 * @throws Exception if test encounters an error
 */
@SuppressWarnings("boxing") @Test public void testGetPersonJson() throws Exception {
  Map<String,String> extraParams=Maps.newHashMap();
  extraParams.put("fields",Joiner.on(',').join(Person.Field.ALL_FIELDS));
  String resp=getResponse("/people/canonical/@self","GET",extraParams,null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  JSONObject result=getJson(resp).getJSONObject("entry");
  assertStringField(result,canonical.getAboutMe(),Person.Field.ABOUT_ME);
  assertStringListField(result,canonical.getActivities(),Person.Field.ACTIVITIES);
  JSONObject jsonAddress=result.getJSONArray(Person.Field.ADDRESSES.toString()).getJSONObject(0);
  assertAddressField(canonical.getAddresses().get(0),jsonAddress);
  assertEquals(canonical.getAge().intValue(),result.getInt(Person.Field.AGE.toString()));
  JSONObject jsonBody=result.getJSONObject(Person.Field.BODY_TYPE.toString());
  BodyType body=canonical.getBodyType();
  assertStringField(jsonBody,body.getBuild(),BodyType.Field.BUILD);
  assertStringField(jsonBody,body.getEyeColor(),BodyType.Field.EYE_COLOR);
  assertStringField(jsonBody,body.getHairColor(),BodyType.Field.HAIR_COLOR);
  assertFloatField(jsonBody,body.getHeight(),BodyType.Field.HEIGHT);
  assertFloatField(jsonBody,body.getWeight(),BodyType.Field.WEIGHT);
  assertStringListField(result,canonical.getBooks(),Person.Field.BOOKS);
  assertStringListField(result,canonical.getCars(),Person.Field.CARS);
  assertStringField(result,canonical.getChildren(),Person.Field.CHILDREN);
  JSONObject currentLocation=result.getJSONObject(Person.Field.CURRENT_LOCATION.toString());
  assertFloatField(currentLocation,canonical.getCurrentLocation().getLatitude(),Address.Field.LATITUDE);
  assertFloatField(currentLocation,canonical.getCurrentLocation().getLongitude(),Address.Field.LONGITUDE);
  assertStringField(result,canonical.getDisplayName(),Person.Field.DISPLAY_NAME);
  JSONArray emailArray=result.getJSONArray(Person.Field.EMAILS.toString());
  assertEquals(1,emailArray.length());
  for (int i=0; i < canonical.getEmails().size(); i++) {
    ListField expectedEmail=canonical.getEmails().get(i);
    JSONObject actualEmail=emailArray.getJSONObject(i);
    assertEquals(expectedEmail.getType(),actualEmail.getString(ListField.Field.TYPE.toString()));
    assertEquals(expectedEmail.getValue(),actualEmail.getString(ListField.Field.VALUE.toString()));
  }
  assertStringField(result,canonical.getEthnicity(),Person.Field.ETHNICITY);
  assertStringField(result,canonical.getFashion(),Person.Field.FASHION);
  assertStringListField(result,canonical.getFood(),Person.Field.FOOD);
  assertStringField(result,canonical.getGender().toString(),Person.Field.GENDER);
  assertStringField(result,canonical.getHappiestWhen(),Person.Field.HAPPIEST_WHEN);
  assertBooleanField(result,canonical.getHasApp(),Person.Field.HAS_APP);
  assertStringListField(result,canonical.getHeroes(),Person.Field.HEROES);
  assertStringField(result,canonical.getHumor(),Person.Field.HUMOR);
  assertStringField(result,canonical.getId(),Person.Field.ID);
  assertStringListField(result,canonical.getInterests(),Person.Field.INTERESTS);
  assertStringField(result,canonical.getJobInterests(),Person.Field.JOB_INTERESTS);
  assertOrganizationField(canonical.getOrganizations().get(0),result.getJSONArray(Person.Field.ORGANIZATIONS.toString()).getJSONObject(0));
  assertStringListField(result,canonical.getLanguagesSpoken(),Person.Field.LANGUAGES_SPOKEN);
  assertStringField(result,canonical.getLivingArrangement(),Person.Field.LIVING_ARRANGEMENT);
  assertListEnumField(result,canonical.getLookingFor(),Person.Field.LOOKING_FOR);
  assertStringListField(result,canonical.getMovies(),Person.Field.MOVIES);
  assertStringListField(result,canonical.getMusic(),Person.Field.MUSIC);
  assertEquals(canonical.getName().getFormatted(),result.getJSONObject(Person.Field.NAME.toString()).getString(Name.Field.FORMATTED.toString()));
  assertEnumField(result,canonical.getNetworkPresence(),Person.Field.NETWORKPRESENCE);
  assertStringField(result,canonical.getNickname(),Person.Field.NICKNAME);
  assertStringField(result,canonical.getPets(),Person.Field.PETS);
  JSONArray phoneArray=result.getJSONArray(Person.Field.PHONE_NUMBERS.toString());
  assertEquals(canonical.getPhoneNumbers().size(),phoneArray.length());
  for (int i=0; i < canonical.getPhoneNumbers().size(); i++) {
    ListField expectedPhone=canonical.getPhoneNumbers().get(i);
    JSONObject actualPhone=phoneArray.getJSONObject(i);
    assertEquals(expectedPhone.getType(),actualPhone.getString(ListField.Field.TYPE.toString()));
    assertEquals(expectedPhone.getValue(),actualPhone.getString(ListField.Field.VALUE.toString()));
  }
  assertStringField(result,canonical.getPoliticalViews(),Person.Field.POLITICAL_VIEWS);
  assertUrlField(canonical.getProfileSong(),result.getJSONObject(Person.Field.PROFILE_SONG.toString()));
  assertStringField(result,canonical.getProfileUrl(),Person.Field.PROFILE_URL);
  assertUrlField(canonical.getProfileVideo(),result.getJSONObject(Person.Field.PROFILE_VIDEO.toString()));
  assertStringListField(result,canonical.getQuotes(),Person.Field.QUOTES);
  assertStringField(result,canonical.getRelationshipStatus(),Person.Field.RELATIONSHIP_STATUS);
  assertStringField(result,canonical.getReligion(),Person.Field.RELIGION);
  assertStringField(result,canonical.getRomance(),Person.Field.ROMANCE);
  assertStringField(result,canonical.getScaredOf(),Person.Field.SCARED_OF);
  assertStringField(result,canonical.getSexualOrientation(),Person.Field.SEXUAL_ORIENTATION);
  assertEnumField(result,canonical.getSmoker(),Person.Field.SMOKER);
  assertStringListField(result,canonical.getSports(),Person.Field.SPORTS);
  assertStringField(result,canonical.getStatus(),Person.Field.STATUS);
  assertStringListField(result,canonical.getTags(),Person.Field.TAGS);
  assertStringField(result,canonical.getThumbnailUrl(),Person.Field.THUMBNAIL_URL);
  assertStringListField(result,canonical.getTurnOffs(),Person.Field.TURN_OFFS);
  assertStringListField(result,canonical.getTurnOns(),Person.Field.TURN_ONS);
  assertStringListField(result,canonical.getTvShows(),Person.Field.TV_SHOWS);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.dataservice.integration.RestfulXmlPeopleTest </h4><pre class="type-9 type-11 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Expected response for john.doe's json:
 * { 'entry' :
 * { 'id' : 'john.doe',
 * 'name' : {'formatted' : 'John Doe'},
 * 'phoneNumbers' : [ { 'number' : '+33H000000000', 'type' : 'home'}, ],
 * 'addresses' : [ {'formatted' : 'My home address'} ],
 * 'emails' : [
 * { 'value' : 'john.doe@work.bar', 'type' : 'work'}, ]
 * ... etc, etc for all fields in the person object } } TODO: Finish up this
 * test and make refactor so that it is easier to read
 * @throws Exceptionif test encounters an error
 */
@SuppressWarnings("boxing") @Test public void testGetPersonJson() throws Exception {
  Map<String,String> extraParams=Maps.newHashMap();
  StringBuilder allFieldsParam=new StringBuilder();
  for (  String allField : Person.Field.ALL_FIELDS) {
    allFieldsParam.append(allField).append(',');
  }
  extraParams.put("fields",allFieldsParam.toString());
  String resp=getResponse("/people/canonical/@self","GET",extraParams,"xml","application/xml");
  XSDValidator.validateOpenSocial(resp);
  NodeList resultNodeList=xp.getMatchingNodes("/:response/:person",XMLUnit.buildTestDocument(resp));
  assertEquals(1,resultNodeList.getLength());
  Node personNode=resultNodeList.item(0);
  Map<String,List<Node>> childNodeMap=childNodesToNodeMap(personNode);
  Map<String,List<String>> result=childNodesToMap(personNode);
  assertStringField(result,canonical.getAboutMe(),Person.Field.ABOUT_ME);
  assertStringListField(result,canonical.getActivities(),Person.Field.ACTIVITIES);
  List<Node> addressNodes=childNodeMap.get(Person.Field.ADDRESSES.toString());
  assertEquals(addressNodes.size(),canonical.getAddresses().size());
  for (int i=0; i < addressNodes.size(); i++) {
    assertAddressField(canonical.getAddresses().get(i),childNodesToMap(addressNodes.get(i)));
  }
  assertEquals(canonical.getAge().intValue(),Integer.parseInt(result.get(Person.Field.AGE.toString()).get(0)));
  Map<String,List<String>> bodyMap=childNodesToMap(childNodeMap.get(Person.Field.BODY_TYPE.toString()).get(0));
  BodyType body=canonical.getBodyType();
  assertStringField(bodyMap,body.getBuild(),BodyType.Field.BUILD);
  assertStringField(bodyMap,body.getEyeColor(),BodyType.Field.EYE_COLOR);
  assertStringField(bodyMap,body.getHairColor(),BodyType.Field.HAIR_COLOR);
  assertFloatField(bodyMap,body.getHeight(),BodyType.Field.HEIGHT);
  assertFloatField(bodyMap,body.getWeight(),BodyType.Field.WEIGHT);
  assertStringListField(result,canonical.getBooks(),Person.Field.BOOKS);
  assertStringListField(result,canonical.getCars(),Person.Field.CARS);
  assertStringField(result,canonical.getChildren(),Person.Field.CHILDREN);
  Map<String,List<String>> currentLocation=childNodesToMap(childNodeMap.get(Person.Field.CURRENT_LOCATION.toString()).get(0));
  assertFloatField(currentLocation,canonical.getCurrentLocation().getLatitude(),Address.Field.LATITUDE);
  assertFloatField(currentLocation,canonical.getCurrentLocation().getLongitude(),Address.Field.LONGITUDE);
  assertStringField(result,canonical.getDisplayName(),Person.Field.DISPLAY_NAME);
  List<Node> emailArray=childNodeMap.get(Person.Field.EMAILS.toString());
  assertEquals(1,emailArray.size());
  for (int i=0; i < canonical.getEmails().size(); i++) {
    ListField expectedEmail=canonical.getEmails().get(i);
    Map<String,List<String>> actualEmail=childNodesToMap(emailArray.get(i));
    assertStringField(actualEmail,expectedEmail.getType(),ListField.Field.TYPE);
    assertStringField(actualEmail,expectedEmail.getValue(),ListField.Field.VALUE);
  }
  assertStringField(result,canonical.getEthnicity(),Person.Field.ETHNICITY);
  assertStringField(result,canonical.getFashion(),Person.Field.FASHION);
  assertStringListField(result,canonical.getFood(),Person.Field.FOOD);
  assertStringField(result,canonical.getGender().toString(),Person.Field.GENDER);
  assertStringField(result,canonical.getHappiestWhen(),Person.Field.HAPPIEST_WHEN);
  assertBooleanField(result,canonical.getHasApp(),Person.Field.HAS_APP);
  assertStringListField(result,canonical.getHeroes(),Person.Field.HEROES);
  assertStringField(result,canonical.getHumor(),Person.Field.HUMOR);
  assertStringField(result,canonical.getId(),Person.Field.ID);
  assertStringListField(result,canonical.getInterests(),Person.Field.INTERESTS);
  assertStringField(result,canonical.getJobInterests(),Person.Field.JOB_INTERESTS);
  assertOrganizationField(canonical.getOrganizations().get(0),childNodeMap.get(Person.Field.ORGANIZATIONS.toString()).get(0));
  assertStringListField(result,canonical.getLanguagesSpoken(),Person.Field.LANGUAGES_SPOKEN);
  assertStringField(result,canonical.getLivingArrangement(),Person.Field.LIVING_ARRANGEMENT);
  assertListEnumField(childNodeMap,canonical.getLookingFor(),Person.Field.LOOKING_FOR);
  assertStringListField(result,canonical.getMovies(),Person.Field.MOVIES);
  assertStringListField(result,canonical.getMusic(),Person.Field.MUSIC);
  assertEquals(canonical.getName().getFormatted(),childNodesToMap(childNodeMap.get(Person.Field.NAME.toString()).get(0)).get(Name.Field.FORMATTED.toString()).get(0));
  assertEnumField(childNodeMap,canonical.getNetworkPresence(),Person.Field.NETWORKPRESENCE);
  assertStringField(result,canonical.getNickname(),Person.Field.NICKNAME);
  assertStringField(result,canonical.getPets(),Person.Field.PETS);
  List<Node> phoneArray=childNodeMap.get(Person.Field.PHONE_NUMBERS.toString());
  assertEquals(canonical.getPhoneNumbers().size(),phoneArray.size());
  for (int i=0; i < canonical.getPhoneNumbers().size(); i++) {
    ListField expectedPhone=canonical.getPhoneNumbers().get(i);
    Map<String,List<String>> actualPhone=childNodesToMap(phoneArray.get(i));
    assertEquals(expectedPhone.getType(),actualPhone.get(ListField.Field.TYPE.toString()).get(0));
    assertEquals(expectedPhone.getValue(),actualPhone.get(ListField.Field.VALUE.toString()).get(0));
  }
  assertStringField(result,canonical.getPoliticalViews(),Person.Field.POLITICAL_VIEWS);
  assertUrlField(canonical.getProfileSong(),childNodesToMap(childNodeMap.get(Person.Field.PROFILE_SONG.toString()).get(0)));
  assertStringField(result,canonical.getProfileUrl(),Person.Field.PROFILE_URL);
  assertUrlField(canonical.getProfileVideo(),childNodesToMap(childNodeMap.get(Person.Field.PROFILE_VIDEO.toString()).get(0)));
  assertStringListField(result,canonical.getQuotes(),Person.Field.QUOTES);
  assertStringField(result,canonical.getRelationshipStatus(),Person.Field.RELATIONSHIP_STATUS);
  assertStringField(result,canonical.getReligion(),Person.Field.RELIGION);
  assertStringField(result,canonical.getRomance(),Person.Field.ROMANCE);
  assertStringField(result,canonical.getScaredOf(),Person.Field.SCARED_OF);
  assertStringField(result,canonical.getSexualOrientation(),Person.Field.SEXUAL_ORIENTATION);
  assertEnumField(childNodeMap,canonical.getSmoker(),Person.Field.SMOKER);
  assertStringListField(result,canonical.getSports(),Person.Field.SPORTS);
  assertStringField(result,canonical.getStatus(),Person.Field.STATUS);
  assertStringListField(result,canonical.getTags(),Person.Field.TAGS);
  assertStringField(result,canonical.getThumbnailUrl(),Person.Field.THUMBNAIL_URL);
  assertStringListField(result,canonical.getTurnOffs(),Person.Field.TURN_OFFS);
  assertStringListField(result,canonical.getTurnOns(),Person.Field.TURN_ONS);
  assertStringListField(result,canonical.getTvShows(),Person.Field.TV_SHOWS);
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
