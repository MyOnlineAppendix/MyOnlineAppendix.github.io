<h3><span class=" glyphicon glyphicon-tag"/>&nbspBooleanVerifier</h3><kbd>Verifies boolean conditions</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.shindig.auth.BlobCrypterSecurityTokenCodecTest </h4><pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testAnonymous() throws Exception {
  SecurityToken t=codec.createToken(ImmutableMap.of(SecurityTokenCodec.SECURITY_TOKEN_NAME,"   "));
  assertTrue(t.isAnonymous());
  Map<String,String> empty=ImmutableMap.of();
  t=codec.createToken(empty);
  assertTrue(t.isAnonymous());
}

</code></pre>

<br>
<pre class="type-7 type-6 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMalformed() throws Exception {
  try {
    codec.createToken(ImmutableMap.of(SecurityTokenCodec.SECURITY_TOKEN_NAME,"foo"));
    fail("should have tried to decrypt with wrong key");
  }
 catch (  SecurityTokenException e) {
    assertTrue(e.getMessage(),e.getMessage().contains("Invalid security token foo"));
  }
}

</code></pre>

<br>
<pre class="type-7 type-6 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWrongContainer() throws Exception {
  Map<String,String> values=new HashMap<String,String>();
  values.put(Keys.APP_URL.getKey(),"http://www.example.com/gadget.xml");
  values.put(Keys.MODULE_ID.getKey(),Long.toString(12345L,10));
  values.put(Keys.OWNER.getKey(),"owner");
  values.put(Keys.VIEWER.getKey(),"viewer");
  values.put(Keys.TRUSTED_JSON.getKey(),"trusted");
  BlobCrypterSecurityToken t=new BlobCrypterSecurityToken("container",null,null,values);
  String encrypted=t.getContainer() + ":" + getBlobCrypter(getContainerKey("container")).wrap(t.toMap());
  encrypted=encrypted.replace("container:","example:");
  try {
    codec.createToken(ImmutableMap.of(SecurityTokenCodec.SECURITY_TOKEN_NAME,encrypted));
    fail("should have tried to decrypt with wrong key");
  }
 catch (  SecurityTokenException e) {
    assertTrue(e.getMessage(),e.getMessage().contains("Invalid token signature"));
  }
}

</code></pre>

<br>
<pre class="type-7 type-6 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExpired() throws Exception {
  Map<String,String> values=new HashMap<String,String>();
  values.put(Keys.APP_URL.getKey(),"http://www.example.com/gadget.xml");
  values.put(Keys.MODULE_ID.getKey(),Long.toString(12345L,10));
  values.put(Keys.OWNER.getKey(),"owner");
  values.put(Keys.VIEWER.getKey(),"viewer");
  values.put(Keys.TRUSTED_JSON.getKey(),"trusted");
  BlobCrypterSecurityToken token=new BlobCrypterSecurityToken("container",null,null,values);
  token.setTimeSource(timeSource);
  timeSource.incrementSeconds(-1 * (codec.getTokenTimeToLive("container") + 181));
  String encrypted=codec.encodeToken(token);
  try {
    codec.createToken(ImmutableMap.of(SecurityTokenCodec.SECURITY_TOKEN_NAME,encrypted));
    fail("should have expired");
  }
 catch (  SecurityTokenException e) {
    assertTrue(e.getMessage(),e.getMessage().contains("Blob expired"));
  }
}

</code></pre>

<br>
<pre class="type-7 type-6 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUnknownContainer() throws Exception {
  Map<String,String> values=new HashMap<String,String>();
  values.put(Keys.APP_URL.getKey(),"http://www.example.com/gadget.xml");
  values.put(Keys.MODULE_ID.getKey(),Long.toString(12345L,10));
  values.put(Keys.OWNER.getKey(),"owner");
  values.put(Keys.VIEWER.getKey(),"viewer");
  values.put(Keys.TRUSTED_JSON.getKey(),"trusted");
  BlobCrypterSecurityToken t=new BlobCrypterSecurityToken("container",null,null,values);
  String encrypted=t.getContainer() + ":" + getBlobCrypter(getContainerKey("container")).wrap(t.toMap());
  encrypted=encrypted.replace("container:","other:");
  try {
    codec.createToken(ImmutableMap.of(SecurityTokenCodec.SECURITY_TOKEN_NAME,encrypted));
    fail("should have reported that container was unknown");
  }
 catch (  SecurityTokenException e) {
    assertTrue(e.getMessage(),e.getMessage().contains("Unknown container"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.auth.BlobCrypterSecurityTokenTest </h4><pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNullValues() throws Exception {
  for (  BasicBlobCrypter crypter : crypters) {
    BlobCrypterSecurityToken t=new BlobCrypterSecurityToken(CONTAINER,DOMAIN,null,null);
    String token=t.getContainer() + ":" + crypter.wrap(t.toMap());
    assertTrue("should start with container: " + token,token.startsWith("container:"));
    String[] fields=StringUtils.split(token,':');
    BlobCrypterSecurityToken t2=new BlobCrypterSecurityToken(CONTAINER,DOMAIN,null,crypter.unwrap(fields[1]));
    assertNull(t2.getAppId(),t2.getAppId());
    assertNull(t2.getAppUrl(),t2.getAppUrl());
    assertEquals(DOMAIN,t2.getDomain());
    assertEquals(0,t2.getModuleId());
    assertNull(t2.getOwnerId(),t2.getOwnerId());
    assertNull(t2.getViewerId(),t2.getViewerId());
    assertNull(t2.getTrustedJson(),t2.getTrustedJson());
    assertNull(t2.getUpdatedToken(),t2.getUpdatedToken());
    assertEquals(CONTAINER,t2.getContainer());
    assertNull(t2.getActiveUrl(),t2.getActiveUrl());
  }
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRealValues() throws Exception {
  for (  BasicBlobCrypter crypter : crypters) {
    Map<String,String> values=new HashMap<String,String>();
    values.put(Keys.APP_URL.getKey(),"http://www.example.com/gadget.xml");
    values.put(Keys.MODULE_ID.getKey(),Long.toString(12345L,10));
    values.put(Keys.OWNER.getKey(),"owner");
    values.put(Keys.VIEWER.getKey(),"viewer");
    values.put(Keys.TRUSTED_JSON.getKey(),"trusted");
    BlobCrypterSecurityToken t=new BlobCrypterSecurityToken(CONTAINER,DOMAIN,null,values);
    String token=t.getContainer() + ":" + crypter.wrap(t.toMap());
    assertTrue("should start with container: " + token,token.startsWith("container:"));
    String[] fields=StringUtils.split(token,':');
    BlobCrypterSecurityToken t2=new BlobCrypterSecurityToken(CONTAINER,DOMAIN,"active",crypter.unwrap(fields[1]));
    assertEquals("http://www.example.com/gadget.xml",t2.getAppId());
    assertEquals("http://www.example.com/gadget.xml",t2.getAppUrl());
    assertEquals(DOMAIN,t2.getDomain());
    assertEquals(12345L,t2.getModuleId());
    assertEquals("owner",t2.getOwnerId());
    assertEquals("viewer",t2.getViewerId());
    assertEquals("trusted",t2.getTrustedJson());
    assertEquals(CONTAINER,t2.getContainer());
    assertEquals("active",t2.getActiveUrl());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.auth.DefaultSecurityTokenCodecTest </h4><pre class="type-7 type-6 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNullDecoder() throws Exception {
  try {
    new DefaultSecurityTokenCodec(new FakeContainerConfig(null));
    fail("Should have thrown");
  }
 catch (  RuntimeException e) {
    assertTrue("exception should contain null: " + e,e.getMessage().contains("null"));
  }
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testRealDecoder() throws Exception {
  DefaultSecurityTokenCodec securityTokenCodec=new DefaultSecurityTokenCodec(new FakeContainerConfig("secure"));
  assertTrue(securityTokenCodec.getCodec() instanceof BlobCrypterSecurityTokenCodec);
}

</code></pre>

<br>
<pre class="type-7 type-6 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvalidDecoder() throws Exception {
  try {
    new DefaultSecurityTokenCodec(new FakeContainerConfig("garbage"));
    fail("Should have thrown");
  }
 catch (  RuntimeException e) {
    assertTrue("exception should contain garbage: " + e,e.getMessage().contains("garbage"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.OpenSocialVersionTest </h4><pre class="type-11 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
@Test public void testVersionSorting(){
  ArrayList<OpenSocialVersion> list=new ArrayList<OpenSocialVersion>();
  list.add(new OpenSocialVersion("2.2.48"));
  list.add(new OpenSocialVersion("9.0.1"));
  list.add(new OpenSocialVersion("1.2.48"));
  list.add(new OpenSocialVersion("2.3.48"));
  list.add(new OpenSocialVersion("2.2.455"));
  list.add(new OpenSocialVersion("9.0.0"));
  Collections.sort(list,OpenSocialVersion.COMPARATOR);
  for (int i=0; i < list.size() - 1; i++) {
    Assert.assertTrue(list.get(i + 1).isEqualOrGreaterThan(list.get(i)));
  }
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testEquivalence(){
  OpenSocialVersion version=new OpenSocialVersion("1.2.3");
  OpenSocialVersion version2=new OpenSocialVersion("1.2");
  Assert.assertTrue(version.isEquivalent(version2));
  version=new OpenSocialVersion("2");
  Assert.assertTrue(version.isEquivalent("2.2"));
  version=new OpenSocialVersion("3");
  Assert.assertTrue(!version.isEquivalent("2.2"));
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testEqualOrGreaterThan(){
  OpenSocialVersion version=new OpenSocialVersion("1.2.3");
  OpenSocialVersion version2=new OpenSocialVersion("1.2");
  Assert.assertTrue(version.isEqualOrGreaterThan(version2));
  Assert.assertTrue(!version2.isEqualOrGreaterThan(version));
  version=new OpenSocialVersion("2");
  version2=new OpenSocialVersion("2.2");
  Assert.assertTrue(!version.isEqualOrGreaterThan(version2));
  Assert.assertTrue(version2.isEqualOrGreaterThan(version));
  version=new OpenSocialVersion("2.2.48");
  version2=new OpenSocialVersion("2.2.49");
  Assert.assertTrue(!version.isEqualOrGreaterThan(version2));
  Assert.assertTrue(version2.isEqualOrGreaterThan(version));
  version=new OpenSocialVersion("3");
  Assert.assertTrue(version.isEqualOrGreaterThan("2.2"));
  version=new OpenSocialVersion("3.1.18");
  Assert.assertTrue(version.isEqualOrGreaterThan("2.2"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.cache.SoftExpiringCacheTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGeneralCacheExpiration(){
  SoftExpiringCache<String,String> expiringCache=makeSoftExpiringCache();
  String key="key1", val="val1";
  expiringCache.addElement(key,val,240 * 1000);
  assertEquals(val,expiringCache.getElement(key).obj);
  assertFalse(expiringCache.getElement(key).isExpired);
  timeSource.setCurrentTimeMillis(300 * 1000);
  assertEquals(val,expiringCache.getElement(key).obj);
  assertTrue(expiringCache.getElement(key).isExpired);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.crypto.CryptoTest </h4><pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRandomDigits() throws Exception {
  Pattern digitPattern=Pattern.compile("^\\d+$");
  String digits=Crypto.getRandomDigits(100);
  assertEquals(100,digits.length());
  assertTrue("Should be only digits: " + digits,digitPattern.matcher(digits).matches());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.uri.UriTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void absoluteUrlIsAbsolute(){
  assertTrue("Url with scheme not reported absolute.",Uri.parse("http://example.org/foo").isAbsolute());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void relativeUrlIsNotAbsolute(){
  assertFalse("Url without scheme reported absolute.",Uri.parse("//example.org/foo").isAbsolute());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.xml.DomUtilTest </h4><pre class="type-9 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getLastNamedChildNode() throws Exception {
  Element root=XmlUtil.parse(XML);
  assertTrue(DomUtil.getLastNamedChildNode(root,"element") != null);
  assertEquals("two",DomUtil.getLastNamedChildNode(root,"element").getTextContent());
  assertEquals("not real",DomUtil.getLastNamedChildNode(root,"other").getTextContent());
  assertNull("Did not return null for missing element.",DomUtil.getLastNamedChildNode(root,"fake"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.common.xml.XmlUtilTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void getBoolAttribute(){
  assertTrue(XmlUtil.getBoolAttribute(node,BOOL_TRUE_ATTR));
  assertFalse(XmlUtil.getBoolAttribute(node,BOOL_FALSE_ATTR));
  assertTrue(XmlUtil.getBoolAttribute(node,FAKE_ATTR,true));
  assertFalse(XmlUtil.getBoolAttribute(node,FAKE_ATTR,false));
  assertFalse("getBoolAttribute must return false for undefined attributes.",XmlUtil.getBoolAttribute(node,FAKE_ATTR));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.config.BasicContainerConfigTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReadSameContainer() throws Exception {
  config.newTransaction().addContainer(EXTRA_CONTAINER).commit();
  ConfigObserver observer=EasyMock.createMock(ContainerConfig.ConfigObserver.class);
  observer.containersChanged(EasyMock.isA(ContainerConfig.class),EasyMock.eq(ImmutableSet.<String>of()),EasyMock.eq(ImmutableSet.<String>of()));
  EasyMock.replay(observer);
  config.addConfigObserver(observer,false);
  config.newTransaction().addContainer(EXTRA_CONTAINER).commit();
  assertTrue(config.getContainers().contains("extra"));
  assertEquals("yes",config.getString("extra","inherited"));
  EasyMock.verify(observer);
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testRemoveContainer() throws Exception {
  config.newTransaction().addContainer(EXTRA_CONTAINER).commit();
  config.newTransaction().addContainer(EXTRA_CONTAINER).commit();
  ConfigObserver observer=EasyMock.createMock(ContainerConfig.ConfigObserver.class);
  observer.containersChanged(EasyMock.isA(ContainerConfig.class),EasyMock.eq(ImmutableSet.<String>of()),EasyMock.eq(ImmutableSet.of("extra")));
  EasyMock.replay(observer);
  config.addConfigObserver(observer,false);
  config.newTransaction().removeContainer("extra").commit();
  assertFalse(config.getContainers().contains("extra"));
  EasyMock.verify(observer);
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReplaceContainer() throws Exception {
  config.newTransaction().addContainer(EXTRA_CONTAINER).commit();
  ConfigObserver observer=EasyMock.createMock(ContainerConfig.ConfigObserver.class);
  observer.containersChanged(EasyMock.isA(ContainerConfig.class),EasyMock.eq(ImmutableSet.of("extra")),EasyMock.eq(ImmutableSet.<String>of()));
  EasyMock.replay(observer);
  config.addConfigObserver(observer,false);
  config.newTransaction().addContainer(MODIFIED_EXTRA_CONTAINER).commit();
  assertTrue(config.getContainers().contains("extra"));
  assertEquals("no",config.getString("extra","inherited"));
  EasyMock.verify(observer);
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testClearContainerConfig() throws Exception {
  ConfigObserver observer=EasyMock.createMock(ContainerConfig.ConfigObserver.class);
  observer.containersChanged(EasyMock.isA(ContainerConfig.class),EasyMock.eq(ImmutableSet.of("additional")),EasyMock.eq(ImmutableSet.of("extra")));
  EasyMock.replay(observer);
  config=new BasicContainerConfig();
  config.newTransaction().clearContainers().addContainer(DEFAULT_CONTAINER).addContainer(EXTRA_CONTAINER).commit();
  config.addConfigObserver(observer,false);
  config.newTransaction().clearContainers().addContainer(DEFAULT_CONTAINER).addContainer(makeContainer("additional")).commit();
  assertFalse(config.getContainers().contains("extra"));
  assertTrue(config.getContainers().contains("additional"));
  EasyMock.verify(observer);
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPropertyTypes() throws Exception {
  String container="misc";
  config.newTransaction().addContainer(makeContainer("misc","bool",Boolean.valueOf(true),"bool2","true","badbool",Integer.valueOf(1234),"badbool2","notabool","int",Integer.valueOf(1234),"int2","1234","badint","notanint","string","abcd","list",ImmutableList.of("a"),"badlist","notalist","map",ImmutableMap.of("a","b"),"badmap","notamap")).commit();
  assertEquals(true,config.getBool(container,"bool"));
  assertEquals(true,config.getBool(container,"bool2"));
  assertEquals(false,config.getBool(container,"badbool"));
  assertEquals(false,config.getBool(container,"badbool2"));
  assertEquals(1234,config.getInt(container,"int"));
  assertEquals(1234,config.getInt(container,"int2"));
  assertEquals(0,config.getInt(container,"badint"));
  assertEquals("abcd",config.getString(container,"string"));
  assertEquals(ImmutableList.of("a"),config.getList(container,"list"));
  assertTrue(config.getList(container,"badlist").isEmpty());
  assertEquals(ImmutableMap.of("a","b"),config.getMap(container,"map"));
  assertTrue(config.getMap(container,"badmap").isEmpty());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddNewContainer() throws Exception {
  ConfigObserver observer=EasyMock.createMock(ContainerConfig.ConfigObserver.class);
  observer.containersChanged(EasyMock.isA(ContainerConfig.class),EasyMock.eq(ImmutableSet.of("extra")),EasyMock.eq(ImmutableSet.<String>of()));
  EasyMock.replay(observer);
  config.addConfigObserver(observer,false);
  config.newTransaction().addContainer(EXTRA_CONTAINER).commit();
  assertTrue(config.getContainers().contains("extra"));
  assertEquals("yes",config.getString("extra","inherited"));
  EasyMock.verify(observer);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.config.JsonContainerConfigLoaderTest </h4><pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void resourceLoaderClasspathTest() throws Exception {
  String testFile="classpath-accessible-test-file.txt";
  JSONObject json=new JSONObject();
  json.put(CONTAINER_KEY,new String[]{DEFAULT_CONTAINER});
  json.put(DYNAMICALLY_LOADED_VALUE_KEY,ResourceLoader.RESOURCE_PREFIX + testFile);
  createConfigForTest(createTemporaryFile(json,".json").getAbsolutePath());
  assertFalse(config.getString(DEFAULT_CONTAINER,DYNAMICALLY_LOADED_VALUE_KEY).startsWith(ResourceLoader.RESOURCE_PREFIX));
  assertTrue(config.getString(DEFAULT_CONTAINER,DYNAMICALLY_LOADED_VALUE_KEY).contains(testFile));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.expressions.ExpressionsTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void booleanCoercionOfBooleans() throws Exception {
  addVariable("bool",false);
  assertFalse(evaluate("${bool}",Boolean.class));
  assertTrue(evaluate("${!bool}",Boolean.class));
  addVariable("bool",true);
  assertTrue(evaluate("${bool}",Boolean.class));
  assertFalse(evaluate("${!bool}",Boolean.class));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void booleanCoercionOfNull() throws Exception {
  addVariable("bool",null);
  assertFalse(evaluate("${bool}",Boolean.class));
  assertTrue(evaluate("${!bool}",Boolean.class));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void booleanCoercionOfStrings() throws Exception {
  addVariable("bool","");
  assertFalse(evaluate("${bool}",Boolean.class));
  assertTrue(evaluate("${!bool}",Boolean.class));
  addVariable("bool","false");
  assertFalse(evaluate("${bool}",Boolean.class));
  assertTrue(evaluate("${!bool}",Boolean.class));
  addVariable("bool","FALSE");
  assertTrue(evaluate("${bool}",Boolean.class));
  addVariable("bool","true");
  assertTrue(evaluate("${bool}",Boolean.class));
  assertFalse(evaluate("${!bool}",Boolean.class));
  addVariable("bool","booga");
  assertTrue(evaluate("${bool}",Boolean.class));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void booleanCoercionOfNumbers() throws Exception {
  addVariable("bool",0);
  assertFalse(evaluate("${bool}",Boolean.class));
  addVariable("bool",1);
  assertTrue(evaluate("${bool}",Boolean.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.expressions.FunctionsTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDefaultBinding() throws Exception {
  Injector injector=Guice.createInjector();
  functions=injector.getInstance(Functions.class);
  Method toJson=functions.resolveFunction("osx","parseJson");
  Object o=toJson.invoke(null,"{a : 1}");
  assertTrue(o instanceof JSONObject);
  assertEquals(1,((JSONObject)o).getInt("a"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.expressions.jasper.JasperExpressionsTest </h4><pre class="type-6 type-13 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Ignore @Test public void booleanCoercionOfStringsFails() throws Exception {
  addVariable("bool","FALSE");
  assertFalse(evaluate("${!bool}",Boolean.class));
  addVariable("bool","booga");
  assertFalse(evaluate("${!bool}",Boolean.class));
}

</code></pre>

<br>
<pre class="type-6 type-13 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Ignore @Test public void booleanCoercionOfNumbersFails() throws Exception {
  addVariable("bool",0);
  assertTrue(evaluate("${!bool}",Boolean.class));
  addVariable("bool",1);
  assertFalse(evaluate("${!bool}",Boolean.class));
  evaluate("${true && 5}",String.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.expressions.juel.JuelExpressionsTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void booleanCoercionOfNumbersFails() throws Exception {
  addVariable("bool",0);
  assertTrue(evaluate("${!bool}",Boolean.class));
  addVariable("bool",1);
  assertFalse(evaluate("${!bool}",Boolean.class));
  evaluate("${true && 5}",String.class);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void booleanCoercionOfStringsFails() throws Exception {
  addVariable("bool","FALSE");
  assertFalse(evaluate("${!bool}",Boolean.class));
  addVariable("bool","booga");
  assertFalse(evaluate("${!bool}",Boolean.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.DefaultGadgetSpecFactoryTest </h4><pre class="type-5 type-6 type-1 type-10 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void specRequestMarkedWithAnonymousToken() throws Exception {
  CapturingPipeline capturingPipeline=new CapturingPipeline();
  GadgetSpecFactory factory=new DefaultGadgetSpecFactory(new CountingExecutor(),capturingPipeline,cacheProvider,10000);
  factory.getGadgetSpec(createContext(SPEC_URL,false));
  SecurityToken st=capturingPipeline.request.getSecurityToken();
  assertNotNull(st);
  assertTrue(st.isAnonymous());
  assertEquals(SPEC_URL.toString(),st.getAppUrl());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.GadgetTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetView1Features() throws Exception {
  String xml="<Module>" + "<ModulePrefs title=\"hello\">" + "<Require feature=\"required1\"/>"+ "<Require feature=\"requiredview1\" views=\"default\"/>"+ "<Require feature=\"requiredview2\" views=\"view2\"/>"+ "</ModulePrefs>"+ "<Content views=\"view1, default\" type=\"html\"/>"+ "<Content views=\"view2\" type=\"html\"/>"+ "</Module>";
  FeatureRegistry registry=mock(FeatureRegistry.class,true);
  Gadget gadget=new Gadget().setContext(context).setGadgetFeatureRegistry(registry).setSpec(new GadgetSpec(Uri.parse(SPEC_URL),xml));
  Collection<String> needed=Lists.newArrayList(gadget.getSpec().getModulePrefs().getViewFeatures(GadgetSpec.DEFAULT_VIEW).keySet());
  List<String> returned=Lists.newArrayList(needed);
  expect(registry.getFeatures(eq(needed))).andReturn(returned).anyTimes();
  replay();
  List<String> requiredFeatures=Lists.newArrayList(gadget.getViewFeatures().keySet());
  assertEquals(returned,requiredFeatures);
  assertTrue(requiredFeatures.contains("requiredview1"));
  assertTrue(requiredFeatures.contains("core"));
  assertTrue(!requiredFeatures.contains("requiredview2"));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetView2Features() throws Exception {
  String xml="<Module>" + "<ModulePrefs title=\"hello\">" + "<Require feature=\"required\"/>"+ "<Require feature=\"requiredview1\" views=\"default\"/>"+ "<Require feature=\"requiredview2\" views=\"view2\"/>"+ "</ModulePrefs>"+ "<Content views=\"view1, default\" type=\"html\"/>"+ "<Content views=\"view2\" type=\"html\"/>"+ "</Module>";
  FeatureRegistry registry=mock(FeatureRegistry.class,true);
  Gadget gadget=new Gadget().setContext(context).setGadgetFeatureRegistry(registry).setSpec(new GadgetSpec(Uri.parse(SPEC_URL),xml));
  List<Element> viewEles=Lists.newArrayList();
  gadget.setCurrentView(new View("view2",viewEles,null));
  Collection<String> needed=Lists.newArrayList(gadget.getSpec().getModulePrefs().getViewFeatures("view2").keySet());
  List<String> returned=Lists.newArrayList(needed);
  expect(registry.getFeatures(eq(needed))).andReturn(returned).anyTimes();
  replay();
  List<String> requiredFeatures=Lists.newArrayList(gadget.getViewFeatures().keySet());
  assertEquals(returned,requiredFeatures);
  assertEquals(3,requiredFeatures.size());
  assertTrue(!requiredFeatures.contains("requiredview1"));
  assertTrue(requiredFeatures.contains("required"));
  assertTrue(requiredFeatures.contains("core"));
  assertTrue(requiredFeatures.contains("requiredview2"));
  verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.HashLockedDomainServiceTest </h4><pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDisabledGlobally(){
  replay();
  lockedDomainService=new HashLockedDomainService(requiredConfig,false,ldgen);
  assertTrue(lockedDomainService.isSafeForOpenProxy("anywhere.com"));
  assertTrue(lockedDomainService.isSafeForOpenProxy("embed.com"));
  assertTrue(lockedDomainService.isGadgetValidForHost("embed.com",wantsLocked,"default"));
  assertTrue(lockedDomainService.isGadgetValidForHost("embed.com",notLocked,"default"));
  assertTrue(lockedDomainService.isGadgetValidForHost("embed.com",wantsSecurityToken,"default"));
  assertTrue(lockedDomainService.isGadgetValidForHost("embed.com",wantsBoth,"default"));
  lockedDomainService=new HashLockedDomainService(enabledConfig,false,ldgen);
  assertTrue(lockedDomainService.isSafeForOpenProxy("anywhere.com"));
  assertTrue(lockedDomainService.isSafeForOpenProxy("embed.com"));
  assertTrue(lockedDomainService.isGadgetValidForHost("embed.com",wantsLocked,"default"));
  assertTrue(lockedDomainService.isGadgetValidForHost("embed.com",notLocked,"default"));
  assertTrue(lockedDomainService.isGadgetValidForHost("embed.com",wantsSecurityToken,"default"));
  assertTrue(lockedDomainService.isGadgetValidForHost("embed.com",wantsBoth,"default"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRequiredForContainer() throws GadgetException {
  replay();
  lockedDomainService=new HashLockedDomainService(requiredConfig,true,ldgen);
  assertFalse(lockedDomainService.isSafeForOpenProxy("images-a.example.com:8080"));
  assertFalse(lockedDomainService.isSafeForOpenProxy("-a.example.com:8080"));
  assertTrue(lockedDomainService.isSafeForOpenProxy("embed.com"));
  assertFalse(lockedDomainService.isGadgetValidForHost("www.example.com",wantsLocked,"default"));
  assertFalse(lockedDomainService.isGadgetValidForHost("www.example.com",notLocked,"default"));
  String target=lockedDomainService.getLockedDomainForGadget(wantsLocked,"default");
  assertEquals("8uhr00296d2o3sfhqilj387krjmgjv3v-a.example.com:8080",target);
  target=lockedDomainService.getLockedDomainForGadget(notLocked,"default");
  assertEquals("auvn86n7q0l4ju2tq5cq8akotcjlda66-a.example.com:8080",target);
  assertTrue(lockedDomainService.isGadgetValidForHost("8uhr00296d2o3sfhqilj387krjmgjv3v-a.example.com:8080",wantsLocked,"default"));
  assertFalse(lockedDomainService.isGadgetValidForHost("auvn86n7q0l4ju2tq5cq8akotcjlda66-a.example.com:8080",wantsLocked,"default"));
  assertTrue(lockedDomainService.isGadgetValidForHost("auvn86n7q0l4ju2tq5cq8akotcjlda66-a.example.com:8080",notLocked,"default"));
  assertFalse(lockedDomainService.isGadgetValidForHost("8uhr00296d2o3sfhqilj387krjmgjv3v-a.example.com:8080",notLocked,"default"));
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testMissingConfig() throws Exception {
  ContainerConfig containerMissingConfig=new BasicContainerConfig();
  containerMissingConfig.newTransaction().addContainer(makeContainer(ContainerConfig.DEFAULT_CONTAINER)).commit();
  lockedDomainService=new HashLockedDomainService(containerMissingConfig,true,ldgen);
  assertFalse(lockedDomainService.isGadgetValidForHost("www.example.com",wantsLocked,"default"));
  assertTrue(lockedDomainService.isGadgetValidForHost("www.example.com",notLocked,"default"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNotEnabledForGadget() throws GadgetException {
  replay();
  lockedDomainService=new HashLockedDomainService(enabledConfig,true,ldgen);
  assertFalse(lockedDomainService.isSafeForOpenProxy("images-a.example.com:8080"));
  assertFalse(lockedDomainService.isSafeForOpenProxy("-a.example.com:8080"));
  assertTrue(lockedDomainService.isSafeForOpenProxy("embed.com"));
  assertTrue(lockedDomainService.isGadgetValidForHost("www.example.com",notLocked,"default"));
  assertFalse(lockedDomainService.isGadgetValidForHost("8uhr00296d2o3sfhqilj387krjmgjv3v-a.example.com:8080",notLocked,"default"));
  assertTrue(lockedDomainService.isGadgetValidForHost("auvn86n7q0l4ju2tq5cq8akotcjlda66-a.example.com:8080",notLocked,"default"));
  assertNull(lockedDomainService.getLockedDomainForGadget(notLocked,"default"));
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testMultiContainer() throws Exception {
  ContainerConfig inheritsConfig=new BasicContainerConfig();
  inheritsConfig.newTransaction().addContainer(makeContainer(ContainerConfig.DEFAULT_CONTAINER,LOCKED_DOMAIN_SUFFIX_KEY,"-a.example.com:8080",LOCKED_DOMAIN_REQUIRED_KEY,true)).addContainer(makeContainer("other")).commit();
  lockedDomainService=new HashLockedDomainService(inheritsConfig,true,ldgen);
  assertFalse(lockedDomainService.isGadgetValidForHost("www.example.com",wantsLocked,"other"));
  assertFalse(lockedDomainService.isGadgetValidForHost("www.example.com",notLocked,"other"));
  assertTrue(lockedDomainService.isGadgetValidForHost("8uhr00296d2o3sfhqilj387krjmgjv3v-a.example.com:8080",wantsLocked,"other"));
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testConfigurationChanged() throws Exception {
  ContainerConfig config=new BasicContainerConfig();
  config.newTransaction().addContainer(makeContainer(ContainerConfig.DEFAULT_CONTAINER)).addContainer(makeContainer("container",LOCKED_DOMAIN_REQUIRED_KEY,true,LOCKED_DOMAIN_SUFFIX_KEY,"-a.example.com:8080")).commit();
  lockedDomainService=new HashLockedDomainService(config,true,ldgen);
  assertTrue(lockedDomainService.isGadgetValidForHost("8uhr00296d2o3sfhqilj387krjmgjv3v-a.example.com:8080",wantsLocked,"container"));
  assertFalse(lockedDomainService.isGadgetValidForHost("8uhr00296d2o3sfhqilj387krjmgjv3v-a.example.com:8080",wantsLocked,"other"));
  config.newTransaction().addContainer(makeContainer("other",LOCKED_DOMAIN_REQUIRED_KEY,true,LOCKED_DOMAIN_SUFFIX_KEY,"-a.example.com:8080")).commit();
  lockedDomainService.getConfigObserver().containersChanged(config,ImmutableSet.of("other"),ImmutableSet.<String>of());
  assertTrue(lockedDomainService.isGadgetValidForHost("8uhr00296d2o3sfhqilj387krjmgjv3v-a.example.com:8080",wantsLocked,"container"));
  assertTrue(lockedDomainService.isGadgetValidForHost("8uhr00296d2o3sfhqilj387krjmgjv3v-a.example.com:8080",wantsLocked,"other"));
  config.newTransaction().removeContainer("container").commit();
  assertFalse(lockedDomainService.isGadgetValidForHost("8uhr00296d2o3sfhqilj387krjmgjv3v-a.example.com:8080",wantsLocked,"container"));
  assertTrue(lockedDomainService.isGadgetValidForHost("8uhr00296d2o3sfhqilj387krjmgjv3v-a.example.com:8080",wantsLocked,"other"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEnabledForGadget() throws GadgetException {
  replay();
  lockedDomainService=new HashLockedDomainService(enabledConfig,true,ldgen);
  assertFalse(lockedDomainService.isSafeForOpenProxy("images-a.example.com:8080"));
  assertFalse(lockedDomainService.isSafeForOpenProxy("-a.example.com:8080"));
  assertTrue(lockedDomainService.isSafeForOpenProxy("embed.com"));
  assertFalse(lockedDomainService.isGadgetValidForHost("www.example.com",wantsLocked,"default"));
  assertTrue(lockedDomainService.isGadgetValidForHost("8uhr00296d2o3sfhqilj387krjmgjv3v-a.example.com:8080",wantsLocked,"default"));
  assertFalse(lockedDomainService.isGadgetValidForHost("8uhr00296d2o3sfhqilj387krjmgjv3v-a.example.com:8080",wantsSecurityToken,"default"));
  assertTrue(lockedDomainService.isGadgetValidForHost("h2nlf2a2dqou2lul3n50jb4v7e8t34kc-a.example.com:8080",wantsBoth,"default"));
  String target=lockedDomainService.getLockedDomainForGadget(wantsLocked,"default");
  assertEquals("8uhr00296d2o3sfhqilj387krjmgjv3v-a.example.com:8080",target);
  target=lockedDomainService.getLockedDomainForGadget(wantsBoth,"default");
  assertEquals("h2nlf2a2dqou2lul3n50jb4v7e8t34kc-a.example.com:8080",target);
  lockedDomainService.setLockSecurityTokens(true);
  assertTrue(lockedDomainService.isGadgetValidForHost("lrrq12l8s5flpqcjoj1h1872lp9p93nk-a.example.com:8080",wantsSecurityToken,"default"));
  target=lockedDomainService.getLockedDomainForGadget(wantsSecurityToken,"default");
  assertEquals("lrrq12l8s5flpqcjoj1h1872lp9p93nk-a.example.com:8080",target);
  target=lockedDomainService.getLockedDomainForGadget(wantsLocked,"default");
  assertEquals("8uhr00296d2o3sfhqilj387krjmgjv3v-a.example.com:8080",target);
  target=lockedDomainService.getLockedDomainForGadget(wantsBoth,"default");
  assertEquals("h2nlf2a2dqou2lul3n50jb4v7e8t34kc-a.example.com:8080",target);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.admin.BasicGadgetAdminStoreTest </h4><pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDeniedGadgetBlacklist() throws Exception {
  Set<String> features=Sets.newHashSet("foo4","foo3");
  List<String> featuresAndDeps=Lists.newArrayList("foo5","dep1","dep2","foo6");
  List<String> allGadgetFeatures=Lists.newArrayList("dep1","dep2","foo3","foo4");
  List<String> gadgetRequiredFeatureNames=Lists.newArrayList("foo3","foo4");
  List<Feature> allFeatures=Lists.newArrayList(createMockFeature(gadgetRequiredFeatureNames.get(0),true),createMockFeature(gadgetRequiredFeatureNames.get(1),true));
  FeatureAdminData data=new FeatureAdminData(features,Type.BLACKLIST);
  enabledStore.getContainerAdminData(DEFAULT).addGadgetAdminData(TEST_GADGET,new GadgetAdminData(data,null));
  mockRegistryForFeatureAdmin(features,featuresAndDeps,allGadgetFeatures,gadgetRequiredFeatureNames);
  mockGadget(allFeatures);
  replay();
  assertFalse(enabledStore.checkFeatureAdminInfo(mockGadget));
  assertTrue(disabledStore.checkFeatureAdminInfo(mockGadget));
  verify();
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testFeatureAdminNullContainerData() throws Exception {
  List<String> gadgetRequiredFeatureNames=Lists.newArrayList("foo3","foo4");
  List<Feature> allFeatures=Lists.newArrayList(createMockFeature(gadgetRequiredFeatureNames.get(0),true),createMockFeature(gadgetRequiredFeatureNames.get(1),true));
  mockGadget(allFeatures,"foocontainer");
  replay();
  assertFalse(enabledStore.checkFeatureAdminInfo(mockGadget));
  assertTrue(disabledStore.checkFeatureAdminInfo(mockGadget));
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDeniedOptionalFeature() throws Exception {
  Set<String> features=Sets.newHashSet("foo4","foo3");
  List<String> featuresAndDeps=Lists.newArrayList("foo4","dep1","dep2","foo3");
  List<String> allGadgetFeatures=Lists.newArrayList("dep1","dep2","foo3","foo4");
  List<String> gadgetRequiredFeatureNames=Lists.newArrayList("foo3","foo4");
  List<Feature> allFeatures=Lists.newArrayList(createMockFeature(gadgetRequiredFeatureNames.get(0),true),createMockFeature(gadgetRequiredFeatureNames.get(1),true),createMockFeature("foo5",false));
  FeatureAdminData data=new FeatureAdminData(features,Type.WHITELIST);
  enabledStore.getContainerAdminData(DEFAULT).addGadgetAdminData(TEST_GADGET,new GadgetAdminData(data,new RpcAdminData()));
  mockRegistryForFeatureAdmin(features,featuresAndDeps,allGadgetFeatures,gadgetRequiredFeatureNames);
  mockGadget(allFeatures);
  replay();
  assertTrue(enabledStore.checkFeatureAdminInfo(mockGadget));
  assertTrue(disabledStore.checkFeatureAdminInfo(mockGadget));
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testBlacklistAll() throws Exception {
  Set<String> features=Sets.newHashSet();
  List<String> featuresAndDeps=Lists.newArrayList();
  List<String> allGadgetFeatures=Lists.newArrayList("dep1","dep2","foo1","foo2","foo3");
  FeatureAdminData data=new FeatureAdminData(features,Type.WHITELIST);
  List<String> gadgetRequiredFeatureNames=Lists.newArrayList("foo1","foo2","foo3");
  List<Feature> allFeatures=Lists.newArrayList(createMockFeature(gadgetRequiredFeatureNames.get(0),true),createMockFeature(gadgetRequiredFeatureNames.get(1),true),createMockFeature(gadgetRequiredFeatureNames.get(2),true));
  enabledStore.getContainerAdminData(DEFAULT).addGadgetAdminData(TEST_GADGET,new GadgetAdminData(data,null));
  mockRegistryForFeatureAdmin(features,featuresAndDeps,allGadgetFeatures,gadgetRequiredFeatureNames);
  mockGadget(allFeatures);
  replay();
  assertFalse(enabledStore.checkFeatureAdminInfo(mockGadget));
  assertTrue(disabledStore.checkFeatureAdminInfo(mockGadget));
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetGadgetAdminData(){
  assertEquals(horoscopeAdminData,enabledStore.getGadgetAdminData(DEFAULT,HOROSCOPE));
  horoscopeAdminData.getFeatureAdminData().addFeature("foo_feature");
  enabledStore.setGadgetAdminData(DEFAULT,HOROSCOPE,horoscopeAdminData);
  assertTrue(enabledStore.getGadgetAdminData(DEFAULT,HOROSCOPE).getFeatureAdminData().getFeatures().contains("foo_feature"));
  assertEquals(httpAdminData,enabledStore.getGadgetAdminData(DEFAULT,"http://example.com/gadget2.xml"));
  enabledStore.setGadgetAdminData(DEFAULT,"http://example.com/gadget2.xml",todoAdminData);
  assertEquals(todoAdminData,enabledStore.getGadgetAdminData(DEFAULT,"http://example.com/gadget2.xml"));
  enabledStore.setGadgetAdminData(DEFAULT,"http://example.com/gadget1.xml",null);
  assertNotNull(enabledStore.getGadgetAdminData(DEFAULT,"http://example.com/gadget1.xml"));
  enabledStore.setGadgetAdminData(DEFAULT,null,horoscopeAdminData);
  assertNull(enabledStore.getGadgetAdminData(DEFAULT,null));
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testAllowedGadgetWhitelist() throws Exception {
  Set<String> features=Sets.newHashSet("foo4","foo3");
  List<String> featuresAndDeps=Lists.newArrayList("foo4","dep1","dep2","foo3");
  List<String> allGadgetFeatures=Lists.newArrayList("dep1","dep2","foo3","foo4");
  List<String> gadgetRequiredFeatureNames=Lists.newArrayList("foo3","foo4");
  List<Feature> allFeatures=Lists.newArrayList(createMockFeature(gadgetRequiredFeatureNames.get(0),true),createMockFeature(gadgetRequiredFeatureNames.get(1),true));
  FeatureAdminData data=new FeatureAdminData(features,Type.WHITELIST);
  enabledStore.getContainerAdminData(DEFAULT).addGadgetAdminData(TEST_GADGET,new GadgetAdminData(data,new RpcAdminData()));
  mockRegistryForFeatureAdmin(features,featuresAndDeps,allGadgetFeatures,gadgetRequiredFeatureNames);
  mockGadget(allFeatures);
  replay();
  assertTrue(enabledStore.checkFeatureAdminInfo(mockGadget));
  assertTrue(disabledStore.checkFeatureAdminInfo(mockGadget));
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testWhitelistAll() throws Exception {
  Set<String> features=Sets.newHashSet();
  List<String> featuresAndDeps=Lists.newArrayList();
  List<String> allGadgetFeatures=Lists.newArrayList("dep1","dep2","foo1","foo2","foo3");
  FeatureAdminData data=new FeatureAdminData(features,Type.BLACKLIST);
  List<String> gadgetRequiredFeatureNames=Lists.newArrayList("foo1","foo2","foo3");
  List<Feature> allFeatures=Lists.newArrayList(createMockFeature(gadgetRequiredFeatureNames.get(0),true),createMockFeature(gadgetRequiredFeatureNames.get(1),true),createMockFeature(gadgetRequiredFeatureNames.get(2),true));
  enabledStore.getContainerAdminData(DEFAULT).addGadgetAdminData(TEST_GADGET,new GadgetAdminData(data,null));
  mockRegistryForFeatureAdmin(features,featuresAndDeps,allGadgetFeatures,gadgetRequiredFeatureNames);
  mockGadget(allFeatures);
  replay();
  assertTrue(enabledStore.checkFeatureAdminInfo(mockGadget));
  assertTrue(disabledStore.checkFeatureAdminInfo(mockGadget));
  verify();
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testFeatureAdminNullGadgetData() throws Exception {
  List<String> gadgetRequiredFeatureNames=Lists.newArrayList("foo3","foo4");
  List<Feature> allFeatures=Lists.newArrayList(createMockFeature(gadgetRequiredFeatureNames.get(0),true),createMockFeature(gadgetRequiredFeatureNames.get(1),true));
  mockGadget(allFeatures,DEFAULT,"https://example.com/dontexist.xml");
  replay();
  assertFalse(enabledStore.checkFeatureAdminInfo(mockGadget));
  assertTrue(disabledStore.checkFeatureAdminInfo(mockGadget));
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testIsWhiteListed() throws Exception {
  assertTrue(enabledStore.isWhitelisted(DEFAULT,HOROSCOPE));
  assertTrue(enabledStore.isWhitelisted(DEFAULT,TEST_GADGET));
  assertFalse(enabledStore.isWhitelisted(DEFAULT,"https://example.com/gadget.xml"));
  assertFalse(enabledStore.isWhitelisted("myContainer",HOROSCOPE));
  assertTrue(enabledStore.isWhitelisted(DEFAULT,"http://foo.com/gadget.xml"));
  assertTrue(enabledStore.isWhitelisted(DEFAULT,"http://example.com/gadget.xml"));
  assertTrue(disabledStore.isWhitelisted(DEFAULT,HOROSCOPE));
  assertTrue(disabledStore.isWhitelisted(DEFAULT,TEST_GADGET));
  assertTrue(disabledStore.isWhitelisted("myContainer",HOROSCOPE));
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testIsAllowedFeature() throws Exception {
  mockGadget(ImmutableList.<Feature>of(),DEFAULT,TODO);
  Feature denied=createMockFeature("setprefs",true);
  Feature allowed=createMockFeature("foo",true);
  replay();
  assertFalse(enabledStore.isAllowedFeature(denied,mockGadget));
  assertTrue(enabledStore.isAllowedFeature(allowed,mockGadget));
  assertTrue(disabledStore.isAllowedFeature(denied,mockGadget));
  assertTrue(disabledStore.isAllowedFeature(allowed,mockGadget));
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDeniedGadgetWhitelist() throws Exception {
  Set<String> features=Sets.newHashSet("foo4","foo3");
  List<String> featuresAndDeps=Lists.newArrayList("foo4","dep1","dep2","foo3");
  List<String> allGadgetFeatures=Lists.newArrayList("dep1","dep2","foo3","foo4","foo5");
  List<String> gadgetRequiredFeatureNames=Lists.newArrayList("foo3","foo4","foo5");
  List<Feature> allFeatures=Lists.newArrayList(createMockFeature(gadgetRequiredFeatureNames.get(0),true),createMockFeature(gadgetRequiredFeatureNames.get(1),true),createMockFeature(gadgetRequiredFeatureNames.get(2),true));
  FeatureAdminData data=new FeatureAdminData(features,Type.WHITELIST);
  enabledStore.getContainerAdminData(DEFAULT).addGadgetAdminData(TEST_GADGET,new GadgetAdminData(data,new RpcAdminData()));
  mockRegistryForFeatureAdmin(features,featuresAndDeps,allGadgetFeatures,gadgetRequiredFeatureNames);
  mockGadget(allFeatures);
  replay();
  assertFalse(enabledStore.checkFeatureAdminInfo(mockGadget));
  assertTrue(disabledStore.checkFeatureAdminInfo(mockGadget));
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testAllowedGadgetBlacklist() throws Exception {
  Set<String> features=Sets.newHashSet("foo5","foo6");
  List<String> featuresAndDeps=Lists.newArrayList("foo5","dep1","dep2","foo6");
  List<String> allGadgetFeatures=Lists.newArrayList("dep1","dep2","foo3","foo4");
  List<String> gadgetRequiredFeatureNames=Lists.newArrayList("foo3","foo4");
  List<Feature> allFeatures=Lists.newArrayList(createMockFeature(gadgetRequiredFeatureNames.get(0),true),createMockFeature(gadgetRequiredFeatureNames.get(1),true));
  FeatureAdminData data=new FeatureAdminData(features,Type.BLACKLIST);
  enabledStore.getContainerAdminData(DEFAULT).addGadgetAdminData(TEST_GADGET,new GadgetAdminData(data,null));
  mockRegistryForFeatureAdmin(features,featuresAndDeps,allGadgetFeatures,gadgetRequiredFeatureNames);
  mockGadget(allFeatures);
  replay();
  assertTrue(enabledStore.checkFeatureAdminInfo(mockGadget));
  assertTrue(disabledStore.checkFeatureAdminInfo(mockGadget));
  verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.admin.ContainerAdminDataTest </h4><pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testHasGadgetAdminData(){
  assertTrue(validData.hasGadgetAdminData(GADGET_URL_1));
  assertTrue(validData.hasGadgetAdminData(GADGET_URL_2));
  assertTrue(validData.hasGadgetAdminData(GADGET_URL_1_WITH_PORT));
  assertTrue(validData.hasGadgetAdminData("http://example.com/gadget3.xml"));
  assertTrue(validData.hasGadgetAdminData("http://example.com:80/gadget3.xml"));
  assertFalse(validData.hasGadgetAdminData("https://example.com/gadget3.xml"));
  assertTrue(validData.hasGadgetAdminData(GADGET_URL_4));
  assertTrue(validData.hasGadgetAdminData(GADGET_URL_4_WITH_PORT));
  assertTrue(validData.hasGadgetAdminData("http://foo.com/gadget.xml"));
  assertTrue(validData.hasGadgetAdminData("http://foo.com:80/gadget.xml"));
  assertFalse(validData.hasGadgetAdminData("https://foo.com/gadget.xml"));
  assertFalse(nullData.hasGadgetAdminData(GADGET_URL_1));
  assertFalse(emptyData.hasGadgetAdminData(GADGET_URL_2));
  assertFalse(defaultData.hasGadgetAdminData(GADGET_URL_2));
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testEquals(){
  assertTrue(validData.equals(new ContainerAdminData(gadgetMap)));
  assertTrue(emptyData.equals(new ContainerAdminData(new HashMap<String,GadgetAdminData>())));
  assertTrue(defaultData.equals(new ContainerAdminData(new HashMap<String,GadgetAdminData>())));
  assertTrue(nullData.equals(new ContainerAdminData(null)));
  assertTrue(emptyData.equals(defaultData));
  assertFalse(validData.equals(null));
  assertFalse(validData.equals(new Object()));
  assertFalse(validData.equals(gadgetMap));
  assertFalse(validData.equals(emptyData));
  assertFalse(validData.equals(nullData));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHashCode(){
  assertEquals(Objects.hashCode(this.gadgetMap),validData.hashCode());
  assertEquals(Objects.hashCode(Maps.newHashMap()),nullData.hashCode());
  assertEquals(Objects.hashCode(Maps.newHashMap()),emptyData.hashCode());
  assertEquals(Objects.hashCode(Maps.newHashMap()),defaultData.hashCode());
  assertEquals(nullData.hashCode(),emptyData.hashCode());
  assertFalse(validData.hashCode() == defaultData.hashCode());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.admin.FeatureAdminDataTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHashCode(){
  assertEquals(Objects.hashCode(this.whitelist,Type.WHITELIST),whitelistData.hashCode());
  assertEquals(Objects.hashCode(this.blacklist,Type.BLACKLIST),blacklistData.hashCode());
  assertEquals(Objects.hashCode(Sets.newHashSet(),Type.WHITELIST),nullData.hashCode());
  assertEquals(Objects.hashCode(Sets.newHashSet(),Type.WHITELIST),defaultData.hashCode());
  assertFalse(Objects.hashCode(this.blacklist,Type.WHITELIST) == whitelistData.hashCode());
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testEquals(){
  assertTrue(whitelistData.equals(new FeatureAdminData(whitelist,Type.WHITELIST)));
  assertFalse(whitelistData.equals(new FeatureAdminData(whitelist,Type.BLACKLIST)));
  assertFalse(whitelistData.equals(new FeatureAdminData(new HashSet<String>(),Type.WHITELIST)));
  assertFalse(whitelistData.equals(new FeatureAdminData(Sets.newHashSet(EE),Type.WHITELIST)));
  assertFalse(whitelistData.equals(null));
  assertTrue(blacklistData.equals(new FeatureAdminData(blacklist,Type.BLACKLIST)));
  assertTrue(nullData.equals(defaultData));
  assertFalse(nullData.equals(whitelistData));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.admin.GadgetAdminDataTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHashCode(){
  assertEquals(Objects.hashCode(whitelistFeatures,rpcAdminData),whitelistInfo.hashCode());
  assertEquals(Objects.hashCode(blacklistFeatures,new RpcAdminData()),blacklistInfo.hashCode());
  assertEquals(Objects.hashCode(new FeatureAdminData(),new RpcAdminData()),nullInfo.hashCode());
  assertEquals(Objects.hashCode(new FeatureAdminData(),new RpcAdminData()),defaultInfo.hashCode());
  assertEquals(nullInfo.hashCode(),defaultInfo.hashCode());
  assertFalse(blacklistInfo.hashCode() == whitelistInfo.hashCode());
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testEquals(){
  assertTrue(whitelistInfo.equals(new GadgetAdminData(whitelistFeatures,rpcAdminData)));
  assertTrue(nullInfo.equals(new GadgetAdminData(null,null)));
  assertTrue(defaultInfo.equals(new GadgetAdminData()));
  assertTrue(nullInfo.equals(defaultInfo));
  assertFalse(whitelistInfo.equals(null));
  assertFalse(whitelistInfo.equals(new Object()));
  assertFalse(whitelistInfo.equals(blacklistInfo));
  assertFalse(whitelistInfo.equals(defaultInfo));
  assertFalse(whitelistInfo.equals(nullInfo));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.admin.RpcAdminDataTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testEqualsObject(){
  assertTrue(new RpcAdminData(populatedIds).equals(populated));
  assertTrue(new RpcAdminData().equals(empty));
  assertTrue(new RpcAdminData().equals(nullData));
  assertTrue(nullData.equals(empty));
  assertFalse(populated.equals(empty));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetAdditionalRpcServiceIds(){
  assertEquals(populatedIds,populated.getAdditionalRpcServiceIds());
  assertEquals(Sets.newHashSet(),empty.getAdditionalRpcServiceIds());
  assertEquals(Sets.newHashSet(),nullData.getAdditionalRpcServiceIds());
  assertEquals(empty.getAdditionalRpcServiceIds(),nullData.getAdditionalRpcServiceIds());
  assertFalse(populated.getAdditionalRpcServiceIds().equals(empty.getAdditionalRpcServiceIds()));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHashCode(){
  assertEquals(Objects.hashCode(populatedIds),populated.hashCode());
  assertEquals(Objects.hashCode(Sets.newHashSet()),empty.hashCode());
  assertEquals(Objects.hashCode(Sets.newHashSet()),nullData.hashCode());
  assertEquals(empty.hashCode(),nullData.hashCode());
  assertFalse(populated.hashCode() == empty.hashCode());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.admin.ServerAdminDataTest </h4><pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testEqualsObject(){
  Map<String,ContainerAdminData> testMap=Maps.newHashMap();
  testMap.put(DEFAULT,defaultContainerData);
  testMap.put(MY_CONTAINER,myContainerData);
  assertTrue(validData.equals(new ServerAdminData(testMap)));
  assertFalse(validData.equals(nullData));
  assertTrue(nullData.equals(defaultData));
  testMap=Maps.newHashMap();
  testMap.put(MY_CONTAINER,myContainerData);
  assertFalse(validData.equals(testMap));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHashCode(){
  assertEquals(Objects.hashCode(this.containerMap),validData.hashCode());
  assertEquals(Objects.hashCode(Maps.newHashMap()),nullData.hashCode());
  assertEquals(Objects.hashCode(Maps.newHashMap()),emptyData.hashCode());
  assertEquals(Objects.hashCode(Maps.newHashMap()),defaultData.hashCode());
  assertEquals(nullData.hashCode(),emptyData.hashCode());
  assertFalse(validData.hashCode() == defaultData.hashCode());
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testHasContainerAdminData(){
  assertTrue(validData.hasContainerAdminData(MY_CONTAINER));
  assertTrue(validData.hasContainerAdminData(DEFAULT));
  assertFalse(validData.hasContainerAdminData("foo"));
  assertFalse(nullData.hasContainerAdminData(MY_CONTAINER));
  assertFalse(defaultData.hasContainerAdminData(DEFAULT));
  assertFalse(emptyData.hasContainerAdminData(MY_CONTAINER));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.features.FeatureParserTest </h4><pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void parseCompleteFeatureFile() throws Exception {
  Uri parent=Uri.parse("scheme://host.com/root/path");
  String featureXml="<feature>" + "  <name>the_feature</name>" + "  <dependency>myDep1</dependency>"+ "  <dependency>mySecondDep</dependency>"+ "  <gadget>"+ "    <ignored>This tag is ignored</ignored>"+ "    <api>"+ "      <!-- This is a comment about the API -->"+ "      <uses type=\"js\">foo.symbol</uses>"+ "      <exports type=\"rpc\">rpc_service</exports>"+ "      More extraneous crap."+ "      <exports type=\"js\">bar.symbol</exports>"+ "    </api>"+ "    <script src=\"http://www.apache.org/file.js\"/>"+ "    <api>"+ "      <!-- A way of adding APIs together per-bundle but not tied to a resource -->"+ "      <uses type=\"rpc\">uses_service</uses>"+ "      <uses type=\"js\">last.symbol</uses>"+ "    </api>"+ "    <script src=\"relative/resource.js\" gadget_attrib=\"gadget_value\"/>"+ "  </gadget>"+ "  <gadget container=\"container1\">"+ "    <!-- No child values, testing outlier case -->"+ "  </gadget>"+ "  <container randomAttrib=\"randomValue\" secondAttrib=\"secondValue\">"+ "    <script src=\"/authority/relative.js\" r2_attr=\"r2_val\" r3_attr=\"r3_val\"></script>"+ "    <script>Inlined content</script>"+ "  </container>"+ "  <other_type>"+ "    <api> <!-- No actual API decls here --> </api>"+ "    <script src=\"http://www.apache.org/two.js\"/>"+ "    <script src=\"//extern/unchanged.dat\" inline=\"false\"/>"+ "  </other_type>"+ "</feature>";
  FeatureParser.ParsedFeature parsed=new FeatureParser().parse(parent,featureXml);
  assertEquals("the_feature",parsed.getName());
  assertEquals(2,parsed.getDeps().size());
  assertEquals("myDep1",parsed.getDeps().get(0));
  assertEquals("mySecondDep",parsed.getDeps().get(1));
  assertEquals(4,parsed.getBundles().size());
  FeatureParser.ParsedFeature.Bundle bundle1=parsed.getBundles().get(0);
  assertEquals("gadget",bundle1.getType());
  assertEquals(0,bundle1.getAttribs().size());
  assertEquals(2,bundle1.getResources().size());
  assertNull(bundle1.getResources().get(0).getContent());
  assertEquals(Uri.parse("http://www.apache.org/file.js"),bundle1.getResources().get(0).getSource());
  assertEquals(0,bundle1.getResources().get(0).getAttribs().size());
  assertNull(bundle1.getResources().get(1).getContent());
  assertEquals(Uri.parse("scheme://host.com/root/relative/resource.js"),bundle1.getResources().get(1).getSource());
  assertEquals(1,bundle1.getResources().get(1).getAttribs().size());
  assertEquals("gadget_value",bundle1.getResources().get(1).getAttribs().get("gadget_attrib"));
  assertEquals(5,bundle1.getApis().size());
  assertEquals(ApiDirective.Type.JS,bundle1.getApis().get(0).getType());
  assertTrue(bundle1.getApis().get(0).isUses());
  assertEquals("foo.symbol",bundle1.getApis().get(0).getValue());
  assertEquals(ApiDirective.Type.RPC,bundle1.getApis().get(1).getType());
  assertFalse(bundle1.getApis().get(1).isUses());
  assertEquals("rpc_service",bundle1.getApis().get(1).getValue());
  assertEquals(ApiDirective.Type.JS,bundle1.getApis().get(2).getType());
  assertFalse(bundle1.getApis().get(2).isUses());
  assertEquals("bar.symbol",bundle1.getApis().get(2).getValue());
  assertEquals(ApiDirective.Type.RPC,bundle1.getApis().get(3).getType());
  assertTrue(bundle1.getApis().get(3).isUses());
  assertEquals("uses_service",bundle1.getApis().get(3).getValue());
  assertEquals(ApiDirective.Type.JS,bundle1.getApis().get(4).getType());
  assertTrue(bundle1.getApis().get(4).isUses());
  assertEquals("last.symbol",bundle1.getApis().get(4).getValue());
  FeatureParser.ParsedFeature.Bundle bundle2=parsed.getBundles().get(1);
  assertEquals("gadget",bundle2.getType());
  assertEquals(1,bundle2.getAttribs().size());
  assertEquals("container1",bundle2.getAttribs().get("container"));
  assertEquals(0,bundle2.getResources().size());
  assertEquals(0,bundle2.getApis().size());
  FeatureParser.ParsedFeature.Bundle bundle3=parsed.getBundles().get(2);
  assertEquals("container",bundle3.getType());
  assertEquals(2,bundle3.getAttribs().size());
  assertEquals("randomValue",bundle3.getAttribs().get("randomAttrib"));
  assertEquals("secondValue",bundle3.getAttribs().get("secondAttrib"));
  assertEquals(2,bundle3.getResources().size());
  assertNull(bundle3.getResources().get(0).getContent());
  assertEquals(Uri.parse("scheme://host.com/authority/relative.js"),bundle3.getResources().get(0).getSource());
  assertEquals(2,bundle3.getResources().get(0).getAttribs().size());
  assertEquals("r2_val",bundle3.getResources().get(0).getAttribs().get("r2_attr"));
  assertEquals("r3_val",bundle3.getResources().get(0).getAttribs().get("r3_attr"));
  assertNull(bundle3.getResources().get(1).getSource());
  assertEquals("Inlined content",bundle3.getResources().get(1).getContent());
  assertEquals(0,bundle3.getResources().get(1).getAttribs().size());
  assertEquals(0,bundle3.getApis().size());
  FeatureParser.ParsedFeature.Bundle bundle4=parsed.getBundles().get(3);
  assertEquals("other_type",bundle4.getType());
  assertEquals(0,bundle4.getAttribs().size());
  assertEquals(2,bundle4.getResources().size());
  assertNull(bundle4.getResources().get(0).getContent());
  assertEquals(Uri.parse("http://www.apache.org/two.js"),bundle4.getResources().get(0).getSource());
  assertNull(bundle4.getResources().get(1).getContent());
  assertEquals(Uri.parse("//extern/unchanged.dat"),bundle4.getResources().get(1).getSource());
  assertEquals(0,bundle4.getResources().get(0).getAttribs().size());
  assertEquals(0,bundle4.getApis().size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.features.FeatureResourceLoaderTest </h4><pre class="type-9 type-5 type-6 type-1 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void loadFileNoOptPathCalculable() throws Exception {
  Pair<Uri,File> dbgUri=makeFile(".notjssuffix",UNCOMPRESSED_FILE_JS);
  FeatureResource resource=loader.load(dbgUri.one,null);
  assertEquals(UNCOMPRESSED_FILE_JS,resource.getContent());
  assertEquals(UNCOMPRESSED_FILE_JS,resource.getDebugContent());
  assertFalse(resource.isExternal());
  assertTrue(resource.isProxyCacheable());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void loadFileUpdateBehavior() throws Exception {
  loader.setSupportFileUpdates(5000);
  Pair<Uri,File> optUri=makeFile(".opt.js",FILE_JS);
  File dbgFile=new File(optUri.one.getPath().replace(".opt.js",".js"));
  dbgFile.createNewFile();
  Pair<Uri,File> dbgUri=makeFile(dbgFile,UNCOMPRESSED_FILE_JS);
  FeatureResource resource=loader.load(dbgUri.one,null);
  assertEquals(FILE_JS,resource.getContent());
  assertEquals(UNCOMPRESSED_FILE_JS,resource.getDebugContent());
  assertFalse(resource.isExternal());
  assertTrue(resource.isProxyCacheable());
  setFileContent(optUri.two,UPDATED_FILE_JS);
  loader.forceFileChanged.put(optUri.two.getAbsolutePath(),true);
  setFileContent(dbgUri.two,UPDATED_UNCOMPRESSED_FILE_JS);
  loader.forceFileChanged.put(dbgUri.two.getAbsolutePath(),true);
  timeSource.incrementSeconds(4);
  assertEquals(FILE_JS,resource.getContent());
  assertEquals(UNCOMPRESSED_FILE_JS,resource.getDebugContent());
  assertFalse(resource.isExternal());
  assertTrue(resource.isProxyCacheable());
  timeSource.incrementSeconds(4);
  assertEquals(UPDATED_FILE_JS,resource.getContent());
  assertEquals(UPDATED_UNCOMPRESSED_FILE_JS,resource.getDebugContent());
  assertFalse(resource.isExternal());
  assertTrue(resource.isProxyCacheable());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void loadUriInline() throws Exception {
  Uri uri=Uri.parse("http://apache.org/resource.js");
  Map<String,String> attribs=Maps.newHashMap();
  attribs.put("inline","true");
  mockFetcher(uri,URL_JS);
  FeatureResource resource=loader.load(uri,attribs);
  assertEquals(URL_JS,resource.getContent());
  assertEquals(URL_JS,resource.getDebugContent());
  assertTrue(resource.isProxyCacheable());
  assertFalse(resource.isExternal());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void loadUriInlineFetcherFailure() throws Exception {
  Uri uri=Uri.parse("http://apache.org/resource.js");
  Map<String,String> attribs=Maps.newHashMap();
  attribs.put("inline","true");
  expect(fetcher.fetch(eq(new HttpRequest(uri)))).andThrow(new GadgetException(GadgetException.Code.FAILED_TO_RETRIEVE_CONTENT));
  replay(fetcher);
  FeatureResource resource=loader.load(uri,attribs);
  assertNull(resource.getContent());
  assertNull(resource.getDebugContent());
  assertFalse(resource.isProxyCacheable());
  assertFalse(resource.isExternal());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void loadUriExtern() throws Exception {
  String theUrl="http://apache.org/resource.js";
  Uri uri=Uri.parse(theUrl);
  Map<String,String> attribs=Maps.newHashMap();
  mockFetcher(uri,URL_JS);
  FeatureResource resource=loader.load(uri,attribs);
  assertEquals(theUrl,resource.getContent());
  assertEquals(theUrl,resource.getDebugContent());
  assertTrue(resource.isProxyCacheable());
  assertTrue(resource.isExternal());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void loadFileUpdateIgnoredIfUpdatesDisabled() throws Exception {
  Pair<Uri,File> optUri=makeFile(".opt.js",FILE_JS);
  FeatureResource resource=loader.load(optUri.one,null);
  assertEquals(FILE_JS,resource.getContent());
  assertEquals(FILE_JS,resource.getDebugContent());
  assertFalse(resource.isExternal());
  assertTrue(resource.isProxyCacheable());
  setFileContent(optUri.two,UPDATED_FILE_JS);
  timeSource.incrementSeconds(10);
  assertEquals(FILE_JS,resource.getContent());
  assertEquals(FILE_JS,resource.getDebugContent());
  assertFalse(resource.isExternal());
  assertTrue(resource.isProxyCacheable());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void loadFileBothModesAvailable() throws Exception {
  Pair<Uri,File> optUri=makeFile(".opt.js",FILE_JS);
  File dbgFile=new File(optUri.one.getPath().replace(".opt.js",".js"));
  dbgFile.createNewFile();
  Pair<Uri,File> dbgUri=makeFile(dbgFile,UNCOMPRESSED_FILE_JS);
  FeatureResource resource=loader.load(dbgUri.one,null);
  assertEquals(FILE_JS,resource.getContent());
  assertEquals(UNCOMPRESSED_FILE_JS,resource.getDebugContent());
  assertFalse(resource.isExternal());
  assertTrue(resource.isProxyCacheable());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void loadFileDebugOnlyAvailable() throws Exception {
  Pair<Uri,File> dbgUri=makeFile(".js",UNCOMPRESSED_FILE_JS);
  FeatureResource resource=loader.load(dbgUri.one,null);
  assertEquals(UNCOMPRESSED_FILE_JS,resource.getContent());
  assertEquals(UNCOMPRESSED_FILE_JS,resource.getDebugContent());
  assertFalse(resource.isExternal());
  assertTrue(resource.isProxyCacheable());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void loadRequestMarkedInternal() throws Exception {
  String theUrl="http://apache.org/resource.js";
  Uri uri=Uri.parse(theUrl);
  Map<String,String> attribs=Maps.newHashMap();
  attribs.put("inline","true");
  CapturingHttpFetcher fetcher=new CapturingHttpFetcher();
  FeatureResourceLoader frLoader=new TestFeatureResourceLoader(fetcher,timeSource,new DefaultFeatureFileSystem());
  FeatureResource resource=frLoader.load(uri,attribs);
  assertEquals(URL_JS,resource.getContent());
  assertNotNull(fetcher.request);
  assertTrue(fetcher.request.isInternalRequest());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void loadFileOptOnlyAvailable() throws Exception {
  Pair<Uri,File> optUri=makeFile(".opt.js",FILE_JS);
  FeatureResource resource=loader.load(optUri.one,null);
  assertEquals(FILE_JS,resource.getContent());
  assertEquals(FILE_JS,resource.getDebugContent());
  assertFalse(resource.isExternal());
  assertTrue(resource.isProxyCacheable());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.http.AbstractHttpCacheTest </h4><pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void buildStrictNoCacheHttpResponse(){
  HttpResponse response=new HttpResponseBuilder().setResponseString("result").addHeader("Cache-Control","private, max-age=1000").addHeader("X-Method-Override","GET").create();
  assertTrue(response.isStrictNoCache());
  HttpResponse builtResponse=extendedStrictNoCacheTtlCache.buildStrictNoCacheHttpResponse(response).create();
  assertTrue(builtResponse.isStrictNoCache());
  assertEquals("",builtResponse.getResponseAsString());
  assertEquals("private, max-age=1000",builtResponse.getHeader("Cache-Control"));
  assertEquals(86400,builtResponse.getRefetchStrictNoCacheAfterMs());
  assertFalse(builtResponse.getHeaders().containsKey("Pragma"));
  assertNull(builtResponse.getHeader("X-Method-Override"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void buildStrictNoCacheHttpResponseWithPragmaHeader(){
  HttpResponse response=new HttpResponseBuilder().setResponseString("result").addHeader("Pragma","no-cache").create();
  assertTrue(response.isStrictNoCache());
  HttpResponse builtResponse=cache.buildStrictNoCacheHttpResponse(response).create();
  assertTrue(builtResponse.isStrictNoCache());
  assertEquals("",builtResponse.getResponseAsString());
  assertNull(builtResponse.getHeader("Cache-Control"));
  assertEquals("no-cache",builtResponse.getHeader("Pragma"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.http.AbstractHttpFetcherTest </h4><pre class="type-7 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHttpBadPort() throws Exception {
  Uri uri=Uri.parse("http://a:b/");
  HttpRequest request=new HttpRequest(uri);
  try {
    fetcher.fetch(request);
    fail("Expected GadgetException");
  }
 catch (  GadgetException e) {
    assertEquals(400,e.getHttpStatusCode());
    assertTrue(e.getMessage().contains("Bad port number in request"));
  }
}

</code></pre>

<br>
<pre class="type-7 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHttpBadHost() throws Exception {
  Uri uri=Uri.parse("http://a:b:c/");
  HttpRequest request=new HttpRequest(uri);
  try {
    fetcher.fetch(request);
    fail("Expected GadgetException");
  }
 catch (  GadgetException e) {
    assertEquals(400,e.getHttpStatusCode());
    assertTrue(e.getMessage().contains("Bad host name in request"));
  }
}

</code></pre>

<br>
<pre class="type-7 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHttpNoSchema() throws Exception {
  Uri uri=Uri.parse("//host/data");
  HttpRequest request=new HttpRequest(uri);
  try {
    fetcher.fetch(request);
    fail("Expected GadgetException");
  }
 catch (  GadgetException e) {
    assertEquals(400,e.getHttpStatusCode());
    assertTrue(e.getMessage().contains("Missing schema for request"));
  }
}

</code></pre>

<br>
<pre class="type-7 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHttpBadUrl() throws Exception {
  Uri uri=Uri.parse("host/data");
  HttpRequest request=new HttpRequest(uri);
  try {
    fetcher.fetch(request);
    fail("Expected GadgetException");
  }
 catch (  GadgetException e) {
    assertEquals(400,e.getHttpStatusCode());
    assertTrue(e.getMessage().contains("Missing domain name for request"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.http.BasicHttpFetcherTest </h4><pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testToByteArraySafeThrowsException2() throws Exception {
  String exceptionMessage="EOF Exception and Any Random Cause";
  EOFException e=new EOFException(exceptionMessage);
  EasyMock.expect(mockInputStream.read(EasyMock.isA(byte[].class))).andThrow(e).anyTimes();
  EasyMock.replay(mockEntity,mockInputStream);
  boolean exceptionCaught=false;
  try {
    fetcher.toByteArraySafe(mockEntity);
  }
 catch (  EOFException eofe) {
    assertEquals(exceptionMessage,eofe.getMessage());
    exceptionCaught=true;
  }
  assertTrue(exceptionCaught);
  EasyMock.verify(mockEntity,mockInputStream);
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testToByteArraySafeThrowsException1() throws Exception {
  EasyMock.reset(mockInputStream);
  mockInputStream.close();
  String exceptionMessage="IO Exception and Any Random Cause";
  IOException e=new IOException(exceptionMessage);
  EasyMock.expect(mockInputStream.read(EasyMock.isA(byte[].class))).andThrow(e).anyTimes();
  EasyMock.replay(mockEntity,mockInputStream);
  boolean exceptionCaught=false;
  try {
    fetcher.toByteArraySafe(mockEntity);
  }
 catch (  IOException ioe) {
    assertEquals(exceptionMessage,ioe.getMessage());
    exceptionCaught=true;
  }
  assertTrue(exceptionCaught);
  EasyMock.verify(mockEntity,mockInputStream);
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testToByteArraySafeThrowsException3() throws Exception {
  EasyMock.reset(mockInputStream);
  mockInputStream.close();
  EasyMock.expect(mockInputStream.available()).andReturn(1);
  String exceptionMessage="Unexpected end of ZLIB input stream";
  EOFException e=new EOFException(exceptionMessage);
  EasyMock.expect(mockInputStream.read(EasyMock.isA(byte[].class))).andThrow(e).anyTimes();
  EasyMock.replay(mockEntity,mockInputStream);
  boolean exceptionCaught=false;
  try {
    fetcher.toByteArraySafe(mockEntity);
  }
 catch (  EOFException eofe) {
    assertEquals(exceptionMessage,eofe.getMessage());
    exceptionCaught=true;
  }
  EasyMock.verify(mockEntity,mockInputStream);
  assertTrue(exceptionCaught);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.http.HttpRequestTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testDefaultIsFollowRedirects(){
  HttpRequest request=new HttpRequest(DEFAULT_URI);
  assertTrue(request.getFollowRedirects());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void copyCtorCopiesAllFields(){
  OAuthArguments oauthArguments=new OAuthArguments();
  oauthArguments.setSignOwner(false);
  oauthArguments.setSignViewer(true);
  HttpRequest request=new HttpRequest(DEFAULT_URI).setCacheTtl(100).addHeader(TEST_HEADER_KEY,TEST_HEADER_VALUE).setContainer("container").setGadget(DEFAULT_URI).setMethod("POST").setPostBody(POST_BODY.getBytes()).setRewriteMimeType("text/fake").setSecurityToken(new AnonymousSecurityToken()).setOAuthArguments(oauthArguments).setAuthType(AuthType.OAUTH).setFollowRedirects(false).setInternalRequest(true);
  HttpRequest request2=new HttpRequest(request).setUri(Uri.parse("http://example.org/foo"));
  assertEquals(request.getCacheTtl(),request2.getCacheTtl());
  assertEquals(request.getHeaders(),request2.getHeaders());
  assertEquals(request.getContainer(),request2.getContainer());
  assertEquals(request.getGadget(),request2.getGadget());
  assertEquals(request.getMethod(),request2.getMethod());
  assertEquals(request.getPostBodyAsString(),request2.getPostBodyAsString());
  assertEquals(request.getRewriteMimeType(),request2.getRewriteMimeType());
  assertEquals(request.getSecurityToken(),request2.getSecurityToken());
  assertEquals(request.getOAuthArguments().getSignOwner(),request2.getOAuthArguments().getSignOwner());
  assertEquals(request.getOAuthArguments().getSignViewer(),request2.getOAuthArguments().getSignViewer());
  assertEquals(AuthType.OAUTH,request.getAuthType());
  assertFalse(request.getFollowRedirects());
  assertTrue(request.isInternalRequest());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void ignoreCacheAddsPragmaHeader() throws Exception {
  HttpRequest request=new HttpRequest(DEFAULT_URI).setIgnoreCache(true);
  assertTrue("Pragma: no-cache not added when ignoreCache == true",request.getHeaders("Pragma").contains("no-cache"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void getHeaders() throws Exception {
  HttpRequest request=new HttpRequest(DEFAULT_URI).addHeader(TEST_HEADER_KEY,TEST_HEADER_VALUE).addHeader(TEST_HEADER_KEY,TEST_HEADER_VALUE2);
  Collection<String> expected=Arrays.asList(TEST_HEADER_VALUE,TEST_HEADER_VALUE2);
  assertTrue(request.getHeaders(TEST_HEADER_KEY).containsAll(expected));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.http.HttpResponseBuilderTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void setCacheTtl(){
  HttpResponseBuilder builder=new HttpResponseBuilder().addHeader("Pragma","no-cache").addHeader("Expires","some time stamp normally goes here").addHeader("Cache-Control","no-cache").setCacheTtl(100);
  Multimap<String,String> headers=builder.getHeaders();
  assertFalse("Expires header not removed.",headers.containsKey("Expires"));
  assertFalse("Pragma header not removed",headers.containsKey("Pragma"));
  assertEquals("public,max-age=100",headers.get("Cache-Control").iterator().next());
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void addAllHeaders(){
  Map<String,List<String>> headers=Maps.newHashMap();
  List<String> foo=Lists.newArrayList("bar","blah");
  List<String> bar=Lists.newArrayList("baz");
  headers.put("foo",foo);
  headers.put("bar",bar);
  HttpResponseBuilder builder=new HttpResponseBuilder().addAllHeaders(headers);
  assertTrue(builder.getHeaders().get("foo").containsAll(foo));
  assertTrue(builder.getHeaders().get("bar").containsAll(bar));
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void setExpirationTime(){
  HttpResponseBuilder builder=new HttpResponseBuilder().addHeader("Pragma","no-cache").addHeader("Cache-Control","public,max-age=100").setExpirationTime(100);
  Multimap<String,String> headers=builder.getHeaders();
  assertTrue("No Expires header added.",headers.containsKey("Expires"));
  assertFalse("Pragma header not removed",headers.containsKey("Pragma"));
  assertFalse("Cache-Control header not removed",headers.containsKey("Cache-Control"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void setStrictNoCache(){
  HttpResponseBuilder builder=new HttpResponseBuilder().addHeader("Cache-Control","public,max-age=100").addHeader("Expires","some time stamp normally goes here").setStrictNoCache();
  Multimap<String,String> headers=builder.getHeaders();
  assertFalse("Expires header not removed.",headers.containsKey("Expires"));
  assertEquals("no-cache",headers.get("Cache-Control").iterator().next());
  assertEquals("no-cache",headers.get("Pragma").iterator().next());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.http.HttpResponseTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testCacheExpirationForNegativeCacheExemptNoCacheControl() throws Exception {
  HttpResponse response=new HttpResponseBuilder().setHttpStatusCode(HttpResponse.SC_FORBIDDEN).create();
  assertTrue("Response is cached for the negative TTL",response.getCacheExpiration() <= timeSource.currentTimeMillis() + response.getNegativeTtl());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStrictCacheControlNoCache() throws Exception {
  HttpResponse response=new HttpResponseBuilder().addHeader("Cache-Control","no-cache").create();
  assertTrue(response.isStrictNoCache());
  assertEquals(-1,response.getCacheExpiration());
  assertEquals(-1,response.getCacheTtl());
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testRetryAfter(){
  HttpResponse response;
  for (  int rc : Arrays.asList(HttpResponse.SC_INTERNAL_SERVER_ERROR,HttpResponse.SC_GATEWAY_TIMEOUT,HttpResponse.SC_BAD_REQUEST)) {
    response=new HttpResponseBuilder().setHttpStatusCode(rc).setHeader("Retry-After","60").create();
    long ttl=response.getCacheTtl();
    assertTrue(ttl <= 60 * 1000L && ttl > 0);
  }
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testNegativeCaching(){
  assertTrue("Bad HTTP responses must be cacheable!",HttpResponse.error().getCacheExpiration() > timeSource.currentTimeMillis());
  assertTrue("Bad HTTP responses must be cacheable!",HttpResponse.notFound().getCacheExpiration() > timeSource.currentTimeMillis());
  assertTrue("Bad HTTP responses must be cacheable!",HttpResponse.timeout().getCacheExpiration() > timeSource.currentTimeMillis());
  long ttl=HttpResponse.error().getCacheTtl();
  assertTrue(ttl <= HttpResponse.DEFAULT_TTL && ttl > 0);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPreserveBinaryData() throws Exception {
  byte[] data={(byte)0x00,(byte)0xDE,(byte)0xEA,(byte)0xDB,(byte)0xEE,(byte)0xF0};
  HttpResponse response=new HttpResponseBuilder().addHeader("Content-Type","application/octet-stream").setResponse(data).create();
  byte[] out=IOUtils.toByteArray(response.getResponse());
  assertEquals(data.length,response.getContentLength());
  assertTrue(Arrays.equals(data,out));
  out=IOUtils.toByteArray(response.getResponse());
  assertTrue(Arrays.equals(data,out));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStrictPragmaJunk() throws Exception {
  HttpResponse response=new HttpResponseBuilder().addHeader("Pragma","junk").create();
  assertFalse(response.isStrictNoCache());
  int expected=roundToSeconds(timeSource.currentTimeMillis() + response.getDefaultTtl());
  int expires=roundToSeconds(response.getCacheExpiration());
  assertEquals(expected,expires);
  assertTrue(response.getCacheTtl() <= response.getDefaultTtl() && response.getCacheTtl() > 0);
}

</code></pre>

<br>
<pre class="type-11 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testIsError(){
  for (int i=100; i < 400; i+=100) {
    for (int j=0; j < 10; ++j) {
      HttpResponse response=new HttpResponseBuilder().setHttpStatusCode(i).create();
      assertFalse("Status below 400 considered to be an error",response.isError());
    }
  }
  for (int i=400; i < 600; i+=100) {
    for (int j=0; j < 10; ++j) {
      HttpResponse response=new HttpResponseBuilder().setHttpStatusCode(i).create();
      assertTrue("Status above 400 considered to be an error",response.isError());
    }
  }
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testCachingHeadersIgnoredOnError() throws Exception {
  HttpResponse response=new HttpResponseBuilder().addHeader("Cache-Control","no-cache").setHttpStatusCode(404).create();
  assertFalse(response.isStrictNoCache());
  response=new HttpResponseBuilder().addHeader("Cache-Control","no-cache").setHttpStatusCode(403).create();
  assertTrue(response.isStrictNoCache());
  response=new HttpResponseBuilder().addHeader("Cache-Control","no-cache").setHttpStatusCode(401).create();
  assertTrue(response.isStrictNoCache());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStrictPragmaNoCache() throws Exception {
  HttpResponse response=new HttpResponseBuilder().addHeader("Pragma","no-cache").create();
  assertTrue(response.isStrictNoCache());
  assertEquals(-1,response.getCacheExpiration());
  assertEquals(-1,response.getCacheTtl());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.http.InvalidationHandlerTest </h4><pre class="type-7 type-6 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFailInvalidateNoApp() throws Exception {
  String path="/cache/invalidate";
  RestHandler operation=registry.getRestHandler(path,"POST");
  params.put(InvalidationHandler.KEYS_PARAM,new String[]{"http://www.example.org/gadget.xml"});
  try {
    token.setAppId("");
    token.setAppUrl("");
    operation.execute(params,null,token,converter).get();
    fail("Expected error");
  }
 catch (  ExecutionException ee) {
    assertTrue(ee.getCause() instanceof ProtocolException);
  }
}

</code></pre>

<br>
<pre class="type-7 type-6 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFailTokenAuthInvalidateAppResource() throws Exception {
  String path="/cache/invalidate";
  RestHandler operation=registry.getRestHandler(path,"POST");
  params.put(InvalidationHandler.KEYS_PARAM,new String[]{"http://www.example.org/gadget.xml"});
  try {
    operation.execute(params,null,token,converter).get();
    fail("Expected error");
  }
 catch (  ExecutionException ee) {
    assertTrue(ee.getCause() instanceof ProtocolException);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.http.MultipleResourceHttpFetcherTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFetchUnique() throws Exception {
  List<HttpRequest> requests=createRequestArray();
  expect(requestPipeline.execute(eq(reqCxt1.getHttpReq()))).andReturn(reqCxt1.getHttpResp());
  expect(requestPipeline.execute(eq(reqCxt2.getHttpReq()))).andReturn(reqCxt2.getHttpResp());
  replay();
  Map<Uri,FutureTask<RequestContext>> futureTasks=fetcher.fetchUnique(requests);
  assertEquals(2,futureTasks.size());
  assertTrue(futureTasks.containsKey(IMG_URI));
  assertEquals(reqCxt1,futureTasks.get(IMG_URI).get());
  assertTrue(futureTasks.containsKey(CSS_URI));
  assertEquals(reqCxt2,futureTasks.get(CSS_URI).get());
  verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.js.AddOnloadFunctionProcessorTest </h4><pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWithoutHint() throws Exception {
  EasyMock.expect(jsUri.getOnload()).andReturn(null);
  EasyMock.expect(jsUri.isNohint()).andReturn(true);
  control.replay();
  assertTrue(processor.process(request,response));
  assertEquals(AddOnloadFunctionProcessor.JSL_CALLBACK_JS,response.build().toJsString());
  control.verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGeneratesCallbackCode() throws Exception {
  EasyMock.expect(jsUri.getOnload()).andReturn(ONLOAD_FUNCTION);
  control.replay();
  assertTrue(processor.process(request,response));
  assertEquals(HttpServletResponse.SC_OK,response.getStatusCode());
  String expectedBody=String.format(AddOnloadFunctionProcessor.ONLOAD_JS_TPL,ONLOAD_FUNCTION);
  assertEquals(expectedBody,response.build().toJsString());
  control.verify();
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWithHint() throws Exception {
  EasyMock.expect(jsUri.getOnload()).andReturn(null);
  EasyMock.expect(jsUri.isNohint()).andReturn(false);
  control.replay();
  assertTrue(processor.process(request,response));
  assertEquals("",response.build().toJsString());
  control.verify();
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSkipsWhenNoOnloadAndWithHintSpecified() throws Exception {
  EasyMock.expect(jsUri.getOnload()).andReturn(null);
  EasyMock.expect(jsUri.isNohint()).andReturn(false);
  response=control.createMock(JsResponseBuilder.class);
  control.replay();
  assertTrue(processor.process(request,response));
  control.verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.js.CajaJsSubtractingProcessorTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void cajoleRequest() throws Exception {
  JsUri uri=mockJsUri(true);
  JsRequest request=mockJsRequest(uri);
  control.replay();
  boolean actualReturn=processor.process(request,builder);
  JsResponse actualResponse=builder.build();
  control.verify();
  assertTrue(actualReturn);
  assertEquals(Strings.repeat(NORMAL_CONTENT_JS,3) + CAJA_CONTENT_JS,actualResponse.toJsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings("unchecked") public void noCajoleRequest() throws Exception {
  JsUri uri=mockJsUri(false);
  JsRequest request=mockJsRequest(uri);
  control.replay();
  boolean actualReturn=processor.process(request,builder);
  JsResponse actualResponse=builder.build();
  control.verify();
  assertTrue(actualReturn);
  assertEquals(Strings.repeat(NORMAL_CONTENT_JS,3),actualResponse.toJsString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.js.CompilationProcessorTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void compilerIsRun() throws Exception {
  JsUri jsUri=control.createMock(JsUri.class);
  JsResponseBuilder builder=new JsResponseBuilder().setCacheTtlSecs(1234).setStatusCode(200).appendJs("content1:","source1").appendJs("content2","source2").appendJs(JsContent.fromFeature("content3:","source3",mockBundle("extern3"),null)).appendJs(JsContent.fromFeature("content4:","source4",mockBundle("extern4"),null));
  JsResponse outputResponse=new JsResponseBuilder().appendJs("content3","s3").build();
  JsRequest request=control.createMock(JsRequest.class);
  expect(request.getJsUri()).andReturn(jsUri);
  expect(compiler.compile(same(jsUri),eq(builder.build().getAllJsContent()),isA(String.class))).andReturn(outputResponse);
  control.replay();
  boolean status=processor.process(request,builder);
  control.verify();
  assertTrue(status);
  JsResponse compResult=builder.build();
  assertEquals(200,compResult.getStatusCode());
  assertEquals(1234,compResult.getCacheTtlSecs());
  assertEquals("content3",compResult.toJsString());
  Iterator<JsContent> outIterator=compResult.getAllJsContent().iterator();
  JsContent firstOut=outIterator.next();
  assertEquals("content3",firstOut.get());
  assertEquals("s3",firstOut.getSource());
  assertFalse(outIterator.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.js.ConfigInjectionProcessorTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void newGlobalConfigAdded() throws Exception {
  List<String> requested=ImmutableList.of("reqfeature1","reqfeature2","already1");
  List<String> alreadyHas=ImmutableList.of("already1");
  expect(jsUri.getLibs()).andReturn(requested);
  expect(jsUri.getLoadedLibs()).andReturn(alreadyHas);
  Map<String,Object> config=ImmutableMap.<String,Object>of("reqfeature1","reqval1","already1","alval1");
  expect(containerConfig.getMap(CONTAINER,ConfigInjectionProcessor.GADGETS_FEATURES_KEY)).andReturn(config);
  expect(request.getHost()).andReturn(HOST).anyTimes();
  expect(registry.getFeatures(requested)).andReturn(requested);
  JsResponseBuilder builder=prepareRequestReturnBuilder(RenderingContext.CONFIGURED_GADGET);
  ConfigContributor cc=control.createMock(ConfigContributor.class);
  Capture<Map<String,Object>> captureConfig=new Capture<Map<String,Object>>();
  cc.contribute(capture(captureConfig),eq(CONTAINER),eq(HOST));
  expectLastCall().andAnswer(new IAnswer<Void>(){
    @SuppressWarnings("unchecked") public Void answer() throws Throwable {
      Map<String,Object> config=(Map<String,Object>)getCurrentArguments()[0];
      String f3Value=(String)config.get("reqfeature1");
      config.put("reqfeature1",f3Value + ":MODIFIED");
      return null;
    }
  }
);
  configContributors.put("reqfeature1",cc);
  control.replay();
  assertTrue(processor.process(request,builder));
  control.verify();
  String jsCode=builder.build().toJsString();
  String startCode=BASE_CODE + "window['___cfg']=";
  assertTrue(jsCode.startsWith(startCode));
  String json=jsCode.substring(startCode.length(),jsCode.length() - ";\n".length());
  JSONObject configObj=new JSONObject(json);
  assertEquals(1,configObj.names().length());
  assertEquals("reqval1:MODIFIED",configObj.getString("reqfeature1"));
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void gadgetGetsNothing() throws Exception {
  JsResponseBuilder builder=prepareRequestReturnBuilder(RenderingContext.GADGET);
  control.replay();
  assertTrue(processor.process(request,builder));
  control.verify();
  assertEquals(BASE_CODE,builder.build().toJsString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.js.DeferJsProcessorTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processWithOneNonEmptyFeatureDeferredNotSupported() throws Exception {
  JsUri jsUri=mockJsUri(JsCompileMode.CONCAT_COMPILE_EXPORT_ALL,true,LIBS_WITHOUT_DEFER);
  JsRequest jsRequest=new JsRequest(jsUri,null,false,featureRegistry);
  JsResponseBuilder jsBuilder=new JsResponseBuilder();
  boolean actualReturnCode=processor.process(jsRequest,jsBuilder);
  assertTrue(actualReturnCode);
  assertEquals("",jsBuilder.build().toJsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processWithOneNonEmptyFeatureDeferred() throws Exception {
  JsUri jsUri=mockJsUri(JsCompileMode.CONCAT_COMPILE_EXPORT_ALL,true,LIBS_WITH_DEFER);
  JsRequest jsRequest=new JsRequest(jsUri,null,false,featureRegistry);
  JsResponseBuilder jsBuilder=new JsResponseBuilder();
  boolean actualReturnCode=processor.process(jsRequest,jsBuilder);
  assertTrue(actualReturnCode);
  assertEquals(DEFER_JS_DEB + EXPORT_STRING_1_DEFER,jsBuilder.build().toJsString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.js.ExportJsProcessorTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processWithOneText() throws Exception {
  JsUri jsUri=mockJsUri(JsCompileMode.CONCAT_COMPILE_EXPORT_ALL);
  JsRequest jsRequest=new JsRequest(jsUri,null,false,null);
  JsResponseBuilder jsBuilder=new JsResponseBuilder();
  jsBuilder.appendJs(textJsContent1);
  boolean actualReturnCode=processor.process(jsRequest,jsBuilder);
  assertTrue(actualReturnCode);
  assertEquals(TEXT_CONTENT_1,jsBuilder.build().toJsString());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processWithFeaturesAndTexts() throws Exception {
  JsUri jsUri=mockJsUri(JsCompileMode.CONCAT_COMPILE_EXPORT_ALL);
  JsRequest jsRequest=new JsRequest(jsUri,null,false,null);
  JsResponseBuilder jsBuilder=new JsResponseBuilder();
  jsBuilder.appendJs(textJsContent1);
  jsBuilder.appendJs(featureJsContent1);
  jsBuilder.appendJs(featureJsContent2);
  jsBuilder.appendJs(textJsContent2);
  jsBuilder.appendJs(featureJsContent3);
  boolean actualReturnCode=processor.process(jsRequest,jsBuilder);
  assertTrue(actualReturnCode);
  assertEquals(EXPORT_JS_DEB + TEXT_CONTENT_1 + FEATURE_CONTENT_1+ EXPORT_STRING_1+ FEATURE_CONTENT_2+ EXPORT_STRING_2+ TEXT_CONTENT_2+ FEATURE_CONTENT_3+ EXPORT_STRING_3,jsBuilder.build().toJsString());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processWithOneEmptyFeature() throws Exception {
  JsUri jsUri=mockJsUri(JsCompileMode.CONCAT_COMPILE_EXPORT_ALL);
  JsRequest jsRequest=new JsRequest(jsUri,null,false,null);
  JsResponseBuilder jsBuilder=new JsResponseBuilder();
  jsBuilder.appendJs(featureJsContent3);
  boolean actualReturnCode=processor.process(jsRequest,jsBuilder);
  assertTrue(actualReturnCode);
  assertEquals(FEATURE_CONTENT_3 + EXPORT_STRING_3,jsBuilder.build().toJsString());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processWithOneNonEmptyFeature() throws Exception {
  JsUri jsUri=mockJsUri(JsCompileMode.CONCAT_COMPILE_EXPORT_ALL);
  JsRequest jsRequest=new JsRequest(jsUri,null,false,null);
  JsResponseBuilder jsBuilder=new JsResponseBuilder();
  jsBuilder.appendJs(featureJsContent1);
  boolean actualReturnCode=processor.process(jsRequest,jsBuilder);
  assertTrue(actualReturnCode);
  assertEquals(EXPORT_JS_DEB + FEATURE_CONTENT_1 + EXPORT_STRING_1,jsBuilder.build().toJsString());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processEmpty() throws Exception {
  JsUri jsUri=mockJsUri(JsCompileMode.CONCAT_COMPILE_EXPORT_ALL);
  JsRequest jsRequest=new JsRequest(jsUri,null,false,null);
  JsResponseBuilder jsBuilder=new JsResponseBuilder();
  boolean actualReturnCode=processor.process(jsRequest,jsBuilder);
  assertTrue(actualReturnCode);
  assertEquals("",jsBuilder.build().toJsString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.js.IfModifiedSinceProcessorTest </h4><pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDoesNothingAndContinuesProcessingWhenHeaderIsAbsent() throws Exception {
  EasyMock.expect(request.isInCache()).andReturn(false);
  control.replay();
  assertTrue(processor.process(request,response));
  control.verify();
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDoesNothingAndContinuesProcessingWhenNotVersioned() throws Exception {
  EasyMock.expect(request.isInCache()).andReturn(true);
  EasyMock.expect(request.getJsUri()).andReturn(jsUri);
  EasyMock.expect(jsUri.getStatus()).andReturn(UriStatus.VALID_UNVERSIONED);
  control.replay();
  assertTrue(processor.process(request,response));
  control.verify();
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReturnsNotModifiedAndStopsProcessingWithHeaderAndVersion() throws Exception {
  EasyMock.expect(request.isInCache()).andReturn(true);
  EasyMock.expect(request.getJsUri()).andReturn(jsUri);
  EasyMock.expect(jsUri.getStatus()).andReturn(UriStatus.VALID_VERSIONED);
  control.replay();
  assertFalse(processor.process(request,response));
  assertEquals(HttpServletResponse.SC_NOT_MODIFIED,response.getStatusCode());
  control.verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.js.JsLoadProcessorTest </h4><pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSkipsWhenNoJsLoad() throws Exception {
  EasyMock.expect(jsUri.isJsload()).andReturn(false);
  response=control.createMock(JsResponseBuilder.class);
  control.replay();
  assertTrue(processor.process(request,response));
  control.verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.js.JsRequestBuilderTest </h4><pre class="type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateRequestInCache() throws Exception {
  EasyMock.expect(jsUriManager.processExternJsUri(EasyMock.isA(Uri.class))).andReturn(jsUri);
  EasyMock.expect(request.getHeader(HOST_HEADER_KEY)).andReturn(HOST);
  EasyMock.expect(request.getHeader(IMS_HEADER_KEY)).andReturn("today");
  control.replay();
  JsRequest jsRequest=builder.build(request);
  control.verify();
  assertSame(jsUri,jsRequest.getJsUri());
  assertEquals(HOST,jsRequest.getHost());
  assertTrue(jsRequest.isInCache());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateRequestNotInCache() throws Exception {
  EasyMock.expect(jsUriManager.processExternJsUri(EasyMock.isA(Uri.class))).andReturn(jsUri);
  EasyMock.expect(request.getHeader(HOST_HEADER_KEY)).andReturn(HOST);
  EasyMock.expect(request.getHeader(IMS_HEADER_KEY)).andReturn(null);
  control.replay();
  JsRequest jsRequest=builder.build(request);
  control.verify();
  assertSame(jsUri,jsRequest.getJsUri());
  assertEquals(HOST,jsRequest.getHost());
  assertFalse(jsRequest.isInCache());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.js.JsResponseBuilderTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void skipsEmptyContent() throws Exception {
  builder.appendJs("number 1","num1");
  builder.appendJs("","num2");
  builder.appendJs("number 3","num3");
  builder.prependJs("number 4","num4");
  builder.prependJs("","num5");
  Iterator<JsContent> allJsContent=builder.build().getAllJsContent().iterator();
  assertEquals("num4",allJsContent.next().getSource());
  assertEquals("num1",allJsContent.next().getSource());
  assertEquals("num3",allJsContent.next().getSource());
  assertFalse(allJsContent.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.js.SeparatorCommentingProcessorTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNeighboringSameFeatures() throws Exception {
  FeatureBundle bundle=mockBundle("bundle");
  JsContent js1=JsContent.fromFeature("content1","source1",bundle,null);
  JsContent js2=JsContent.fromFeature("content2","source2",bundle,null);
  JsResponseBuilder builder=newBuilder(js1,js2);
  control.replay();
  boolean actualReturn=processor.process(null,builder);
  JsResponse actualResponse=builder.build();
  control.verify();
  assertTrue(actualReturn);
  assertEquals("\n/* [start] feature=bundle */\n" + "content1" + "content2"+ "\n/* [end] feature=bundle */\n",actualResponse.toJsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOneText() throws Exception {
  JsContent text1=JsContent.fromText("text1","source");
  JsResponseBuilder builder=newBuilder(text1);
  control.replay();
  boolean actualReturn=processor.process(null,builder);
  JsResponse actualResponse=builder.build();
  control.verify();
  assertTrue(actualReturn);
  assertEquals("text1",actualResponse.toJsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultipleFeaturesWithoutInBetweenTexts() throws Exception {
  JsContent js1=JsContent.fromFeature("content1","source1",mockBundle("bundle1"),null);
  JsContent js2=JsContent.fromFeature("content2","source2",mockBundle("bundle2"),null);
  JsResponseBuilder builder=newBuilder(js1,js2);
  control.replay();
  boolean actualReturn=processor.process(null,builder);
  JsResponse actualResponse=builder.build();
  control.verify();
  assertTrue(actualReturn);
  assertEquals("\n/* [start] feature=bundle1 */\n" + "content1" + "\n/* [end] feature=bundle1 */\n"+ "\n/* [start] feature=bundle2 */\n"+ "content2"+ "\n/* [end] feature=bundle2 */\n",actualResponse.toJsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOneFeature() throws Exception {
  JsContent js=JsContent.fromFeature("content","source",mockBundle("bundle"),null);
  JsResponseBuilder builder=newBuilder(js);
  control.replay();
  boolean actualReturn=processor.process(null,builder);
  JsResponse actualResponse=builder.build();
  control.verify();
  assertTrue(actualReturn);
  assertEquals("\n/* [start] feature=bundle */\n" + "content" + "\n/* [end] feature=bundle */\n",actualResponse.toJsString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultipleFeaturesWithInBetweenTexts() throws Exception {
  JsContent text1=JsContent.fromText("text1","source1");
  JsContent text2=JsContent.fromText("text2","source2");
  JsContent text3=JsContent.fromText("text3","source3");
  JsContent js1=JsContent.fromFeature("content1","source4",mockBundle("bundle1"),null);
  JsContent js2=JsContent.fromFeature("content2","source5",mockBundle("bundle2"),null);
  JsResponseBuilder builder=newBuilder(text1,js1,text2,js2,text3);
  control.replay();
  boolean actualReturn=processor.process(null,builder);
  JsResponse actualResponse=builder.build();
  control.verify();
  assertTrue(actualReturn);
  assertEquals("text1" + "\n/* [start] feature=bundle1 */\n" + "content1"+ "\n/* [end] feature=bundle1 */\n"+ "text2"+ "\n/* [start] feature=bundle2 */\n"+ "content2"+ "\n/* [end] feature=bundle2 */\n"+ "text3",actualResponse.toJsString());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNoFeature() throws Exception {
  JsResponseBuilder builder=newBuilder();
  control.replay();
  boolean actualReturn=processor.process(null,builder);
  JsResponse actualResponse=builder.build();
  control.verify();
  assertTrue(actualReturn);
  assertEquals("",actualResponse.toJsString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth.OAuthArgumentsTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCopyConstructor() throws Exception {
  HttpServletRequest req=makeDummyRequest();
  OAuthArguments args=new OAuthArguments(AuthType.OAUTH,req);
  args=new OAuthArguments(args);
  assertEquals(UseToken.NEVER,args.getUseToken());
  assertEquals("service",args.getServiceName());
  assertEquals("token",args.getTokenName());
  assertEquals("reqtoken",args.getRequestToken());
  assertEquals("secret",args.getRequestTokenSecret());
  assertEquals("state",args.getOrigClientState());
  Assert.assertTrue(args.getBypassSpecCache());
  Assert.assertFalse(args.getSignOwner());
  Assert.assertFalse(args.getSignViewer());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInitFromRequest() throws Exception {
  HttpServletRequest req=makeDummyRequest();
  OAuthArguments args=new OAuthArguments(AuthType.SIGNED,req);
  assertEquals(UseToken.NEVER,args.getUseToken());
  assertEquals("service",args.getServiceName());
  assertEquals("token",args.getTokenName());
  assertEquals("reqtoken",args.getRequestToken());
  assertEquals("secret",args.getRequestTokenSecret());
  assertEquals("state",args.getOrigClientState());
  Assert.assertTrue(args.getBypassSpecCache());
  Assert.assertFalse(args.getSignOwner());
  Assert.assertFalse(args.getSignViewer());
  assertEquals("stuff",args.getRequestOption("random"));
  assertEquals("stuff",args.getRequestOption("rAnDoM"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetAndSet() throws Exception {
  OAuthArguments args=new OAuthArguments();
  args.setBypassSpecCache(true);
  Assert.assertTrue(args.getBypassSpecCache());
  args.setOrigClientState("thestate");
  assertEquals("thestate",args.getOrigClientState());
  args.setRequestToken("rt");
  assertEquals("rt",args.getRequestToken());
  args.setRequestTokenSecret("rts");
  assertEquals("rts",args.getRequestTokenSecret());
  args.setServiceName("s");
  assertEquals("s",args.getServiceName());
  args.setSignOwner(true);
  Assert.assertTrue(args.getSignOwner());
  args.setSignViewer(true);
  Assert.assertTrue(args.getSignViewer());
  args.setUseToken(UseToken.IF_AVAILABLE);
  assertEquals(UseToken.IF_AVAILABLE,args.getUseToken());
  args.setRequestOption("foo","bar");
  assertEquals("bar",args.getRequestOption("foo"));
  args.removeRequestOption("foo");
  assertNull(args.getRequestOption("foo"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInitFromRequest_defaults() throws Exception {
  HttpServletRequest req=new FakeHttpServletRequest();
  OAuthArguments args=new OAuthArguments(AuthType.SIGNED,req);
  assertEquals(UseToken.NEVER,args.getUseToken());
  assertEquals("",args.getServiceName());
  assertEquals("",args.getTokenName());
  Assert.assertNull(args.getRequestToken());
  Assert.assertNull(args.getRequestTokenSecret());
  Assert.assertNull(args.getOrigClientState());
  Assert.assertFalse(args.getBypassSpecCache());
  Assert.assertTrue(args.getSignOwner());
  Assert.assertTrue(args.getSignViewer());
  assertNull(args.getRequestOption("random"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNoArgConstructorDefaults() throws Exception {
  OAuthArguments args=new OAuthArguments();
  assertEquals(UseToken.ALWAYS,args.getUseToken());
  assertEquals("",args.getServiceName());
  assertEquals("",args.getTokenName());
  Assert.assertNull(args.getRequestToken());
  Assert.assertNull(args.getRequestTokenSecret());
  Assert.assertNull(args.getOrigClientState());
  Assert.assertFalse(args.getBypassSpecCache());
  Assert.assertFalse(args.getSignOwner());
  Assert.assertFalse(args.getSignViewer());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInitFromPreload() throws Exception {
  String xml="<Preload href='http://www.example.com' " + "oauth_service_name='service' " + "OAUTH_TOKEN_NAME='token' "+ "OAUTH_REQuest_token='requesttoken' "+ "oauth_request_token_secret='tokensecret' "+ "OAUTH_USE_TOKEN='never' "+ "random='stuff'"+ "/>";
  Preload preload=new Preload(XmlUtil.parse(xml),Uri.parse(""));
  OAuthArguments params=new OAuthArguments(preload);
  assertEquals("service",params.getServiceName());
  assertEquals("token",params.getTokenName());
  assertEquals("requesttoken",params.getRequestToken());
  assertEquals("tokensecret",params.getRequestTokenSecret());
  assertEquals(UseToken.NEVER,params.getUseToken());
  assertNull(params.getOrigClientState());
  assertFalse(params.getBypassSpecCache());
  assertEquals("stuff",params.getRequestOption("random"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth.OAuthFetcherConfigTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuthFetcherConfig(){
  BlobCrypter crypter=mock(BlobCrypter.class);
  mock(HttpCache.class);
  GadgetOAuthTokenStore tokenStore=mock(GadgetOAuthTokenStore.class);
  OAuthCallbackGenerator callbackGenerator=mock(OAuthCallbackGenerator.class);
  OAuthFetcherConfig config=new OAuthFetcherConfig(crypter,tokenStore,new TimeSource(),callbackGenerator,false);
  assertEquals(crypter,config.getStateCrypter());
  assertEquals(tokenStore,config.getTokenStore());
  assertEquals(callbackGenerator,config.getOAuthCallbackGenerator());
  assertFalse(config.isViewerAccessTokensEnabled());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth.OAuthRequestTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPostWithQueryWithData() throws Exception {
  MakeRequestClient client=makeSignedFetchClient("o","v","http://www.example.com/app");
  HttpResponse resp=client.sendFormPost(FakeOAuthServiceProvider.RESOURCE_URL + "?queryName=queryValue","name=value");
  List<Parameter> queryParams=OAuth.decodeForm(resp.getResponseAsString());
  assertTrue(contains(queryParams,"queryName","queryValue"));
  assertEquals("name=value",resp.getHeader(FakeOAuthServiceProvider.BODY_ECHO_HEADER));
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSignedFetch_unnamedConsumerKey() throws Exception {
  BasicOAuthStoreConsumerKeyAndSecret defaultKey=new BasicOAuthStoreConsumerKeyAndSecret(null,FakeOAuthServiceProvider.PRIVATE_KEY_TEXT,KeyType.RSA_PRIVATE,"foo",null);
  base.setDefaultKey(defaultKey);
  MakeRequestClient client=makeSignedFetchClient("o","v","http://www.example.com/app");
  HttpResponse resp=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  List<Parameter> queryParams=OAuth.decodeForm(resp.getResponseAsString());
  assertTrue(contains(queryParams,"opensocial_owner_id","o"));
  assertTrue(contains(queryParams,"opensocial_viewer_id","v"));
  assertTrue(contains(queryParams,"opensocial_app_id","app"));
  assertTrue(contains(queryParams,OAuth.OAUTH_CONSUMER_KEY,"container.com"));
  assertTrue(contains(queryParams,"xoauth_signature_publickey","foo"));
  assertTrue(contains(queryParams,"xoauth_public_key","foo"));
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSignedFetchParametersSetProxiedContent() throws Exception {
  MakeRequestClient client=makeSignedFetchClient("o","v","http://www.example.com/app");
  client.getBaseArgs().setProxiedContentRequest(true);
  HttpResponse resp=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  List<Parameter> queryParams=OAuth.decodeForm(resp.getResponseAsString());
  assertTrue(contains(queryParams,"opensocial_owner_id","o"));
  assertTrue(contains(queryParams,"opensocial_viewer_id","v"));
  assertTrue(contains(queryParams,"opensocial_app_id","app"));
  assertTrue(contains(queryParams,OAuth.OAUTH_CONSUMER_KEY,"signedfetch"));
  assertTrue(contains(queryParams,"xoauth_signature_publickey","foo"));
  assertTrue(contains(queryParams,"xoauth_public_key","foo"));
  assertTrue(contains(queryParams,"opensocial_proxied_content","1"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPostNoQueryNoData() throws Exception {
  MakeRequestClient client=makeSignedFetchClient("o","v","http://www.example.com/app");
  HttpResponse resp=client.sendFormPost(FakeOAuthServiceProvider.RESOURCE_URL,null);
  List<Parameter> queryParams=OAuth.decodeForm(resp.getResponseAsString());
  assertTrue(contains(queryParams,"opensocial_owner_id","o"));
  assertEquals("",resp.getHeader(FakeOAuthServiceProvider.BODY_ECHO_HEADER));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testPostWeirdContentType() throws Exception {
  byte[] raw={0,1,2,3,4,5};
  MakeRequestClient client=makeSignedFetchClient("o","v","http://www.example.com/app");
  HttpResponse resp=client.sendRawPost(FakeOAuthServiceProvider.RESOURCE_URL,"funky-content",raw);
  List<Parameter> queryParams=OAuth.decodeForm(resp.getResponseAsString());
  assertTrue(contains(queryParams,"opensocial_owner_id","o"));
  assertTrue(contains(queryParams,OAuth.OAUTH_CONSUMER_KEY,"signedfetch"));
  String echoed=resp.getHeader(FakeOAuthServiceProvider.RAW_BODY_ECHO_HEADER);
  byte[] echoedBytes=Base64.decodeBase64(CharsetUtil.getUtf8Bytes(echoed));
  assertTrue(Arrays.equals(raw,echoedBytes));
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSignedFetchParametersSet() throws Exception {
  MakeRequestClient client=makeSignedFetchClient("o","v","http://www.example.com/app");
  HttpResponse resp=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  List<Parameter> queryParams=OAuth.decodeForm(resp.getResponseAsString());
  assertTrue(contains(queryParams,"opensocial_owner_id","o"));
  assertTrue(contains(queryParams,"opensocial_viewer_id","v"));
  assertTrue(contains(queryParams,"opensocial_app_id","app"));
  assertTrue(contains(queryParams,OAuth.OAUTH_CONSUMER_KEY,"signedfetch"));
  assertTrue(contains(queryParams,"xoauth_signature_publickey","foo"));
  assertTrue(contains(queryParams,"xoauth_public_key","foo"));
  assertFalse(contains(queryParams,"opensocial_proxied_content","1"));
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testValidParameterCharacters() throws Exception {
  MakeRequestClient client=makeSignedFetchClient("o","v","http://www.example.com/app");
  String weird="~!@$*()-_[]:,./";
  HttpResponse resp=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + '?' + weird+ "=foo");
  List<Parameter> queryParams=OAuth.decodeForm(resp.getResponseAsString());
  assertTrue(contains(queryParams,weird,"foo"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPostWithQueryNoData() throws Exception {
  MakeRequestClient client=makeSignedFetchClient("o","v","http://www.example.com/app");
  HttpResponse resp=client.sendFormPost(FakeOAuthServiceProvider.RESOURCE_URL + "?name=value",null);
  List<Parameter> queryParams=OAuth.decodeForm(resp.getResponseAsString());
  assertTrue(contains(queryParams,"name","value"));
  assertEquals("",resp.getHeader(FakeOAuthServiceProvider.BODY_ECHO_HEADER));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testPostBinaryData() throws Exception {
  byte[] raw={0,1,2,3,4,5};
  MakeRequestClient client=makeSignedFetchClient("o","v","http://www.example.com/app");
  HttpResponse resp=client.sendRawPost(FakeOAuthServiceProvider.RESOURCE_URL,null,raw);
  List<Parameter> queryParams=OAuth.decodeForm(resp.getResponseAsString());
  assertTrue(contains(queryParams,"opensocial_owner_id","o"));
  assertTrue(contains(queryParams,OAuth.OAUTH_CONSUMER_KEY,"signedfetch"));
  String echoed=resp.getHeader(FakeOAuthServiceProvider.RAW_BODY_ECHO_HEADER);
  byte[] echoedBytes=Base64.decodeBase64(CharsetUtil.getUtf8Bytes(echoed));
  assertTrue(Arrays.equals(raw,echoedBytes));
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSignedFetch_extraQueryParameters() throws Exception {
  MakeRequestClient client=makeSignedFetchClient("o","v","http://www.example.com/app");
  HttpResponse resp=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?foo=bar&foo=baz");
  List<Parameter> queryParams=OAuth.decodeForm(resp.getResponseAsString());
  assertTrue(contains(queryParams,"opensocial_owner_id","o"));
  assertTrue(contains(queryParams,"opensocial_viewer_id","v"));
  assertTrue(contains(queryParams,"opensocial_app_id","app"));
  assertTrue(contains(queryParams,OAuth.OAUTH_CONSUMER_KEY,"signedfetch"));
  assertTrue(contains(queryParams,"xoauth_signature_publickey","foo"));
  assertTrue(contains(queryParams,"xoauth_public_key","foo"));
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetNoQuery() throws Exception {
  MakeRequestClient client=makeSignedFetchClient("o","v","http://www.example.com/app");
  HttpResponse resp=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  List<Parameter> queryParams=OAuth.decodeForm(resp.getResponseAsString());
  assertTrue(contains(queryParams,"opensocial_owner_id","o"));
  assertTrue(contains(queryParams,"opensocial_viewer_id","v"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPostNoQueryWithData() throws Exception {
  MakeRequestClient client=makeSignedFetchClient("o","v","http://www.example.com/app");
  HttpResponse resp=client.sendFormPost(FakeOAuthServiceProvider.RESOURCE_URL,"name=value");
  List<Parameter> queryParams=OAuth.decodeForm(resp.getResponseAsString());
  assertFalse(contains(queryParams,"name","value"));
  assertEquals("name=value",resp.getHeader(FakeOAuthServiceProvider.BODY_ECHO_HEADER));
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetWithQuery() throws Exception {
  MakeRequestClient client=makeSignedFetchClient("o","v","http://www.example.com/app");
  HttpResponse resp=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?a=b");
  List<Parameter> queryParams=OAuth.decodeForm(resp.getResponseAsString());
  assertTrue(contains(queryParams,"a","b"));
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetWithQueryMultiParam() throws Exception {
  MakeRequestClient client=makeSignedFetchClient("o","v","http://www.example.com/app");
  HttpResponse resp=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL + "?a=b&a=c");
  List<Parameter> queryParams=OAuth.decodeForm(resp.getResponseAsString());
  assertTrue(contains(queryParams,"a","b"));
  assertTrue(contains(queryParams,"a","c"));
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testNoSignViewer() throws Exception {
  MakeRequestClient client=makeSignedFetchClient("o","v","http://www.example.com/app");
  client.getBaseArgs().setSignViewer(false);
  HttpResponse resp=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  List<Parameter> queryParams=OAuth.decodeForm(resp.getResponseAsString());
  assertTrue(contains(queryParams,"opensocial_owner_id","o"));
  assertFalse(contains(queryParams,"opensocial_viewer_id","v"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWrongServiceName() throws Exception {
  SecurityToken securityToken=getSecurityToken("owner","owner",GADGET_URL);
  MakeRequestClient client=new MakeRequestClient(securityToken,fetcherConfig,serviceProvider,"nosuchservice");
  HttpResponse response=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  Map<String,String> metadata=response.getMetadata();
  assertNull(metadata.get("oauthApprovalUrl"));
  assertEquals("BAD_OAUTH_CONFIGURATION",metadata.get("oauthError"));
  String errorText=metadata.get("oauthErrorText");
  assertTrue(errorText,errorText.startsWith("Failed to retrieve OAuth URLs, spec for gadget does " + "not contain OAuth service nosuchservice.  Known services: testservice"));
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testNoSignOwner() throws Exception {
  MakeRequestClient client=makeSignedFetchClient("o","v","http://www.example.com/app");
  client.getBaseArgs().setSignOwner(false);
  HttpResponse resp=client.sendGet(FakeOAuthServiceProvider.RESOURCE_URL);
  List<Parameter> queryParams=OAuth.decodeForm(resp.getResponseAsString());
  assertFalse(contains(queryParams,"opensocial_owner_id","o"));
  assertTrue(contains(queryParams,"opensocial_viewer_id","v"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth.OAuthResponseParamsTest </h4><pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSawErrorResponse(){
  HttpRequest req=new HttpRequest(Uri.parse("http://www"));
  HttpResponse ok=new HttpResponseBuilder().setHttpStatusCode(200).create();
  HttpResponse redir=new HttpResponseBuilder().setHttpStatusCode(302).create();
  HttpResponse notFound=new HttpResponseBuilder().setHttpStatusCode(404).create();
  HttpResponse doh=new HttpResponseBuilder().setHttpStatusCode(502).create();
  OAuthResponseParams params=new OAuthResponseParams(token,origRequest,crypter);
  assertFalse(params.sawErrorResponse());
  params.addRequestTrace(req,ok);
  assertFalse(params.sawErrorResponse());
  params.addRequestTrace(req,redir);
  assertFalse(params.sawErrorResponse());
  params.addRequestTrace(req,null);
  assertTrue(params.sawErrorResponse());
  params=new OAuthResponseParams(token,origRequest,crypter);
  params.addRequestTrace(req,notFound);
  assertTrue(params.sawErrorResponse());
  params=new OAuthResponseParams(token,origRequest,crypter);
  params.addRequestTrace(req,doh);
  assertTrue(params.sawErrorResponse());
  params.addRequestTrace(req,ok);
  assertTrue(params.sawErrorResponse());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddParams(){
  params.getNewClientState().setAccessToken("access");
  params.setAznUrl("aznurl");
  OAuthRequestException e=new OAuthRequestException(OAuthError.BAD_OAUTH_CONFIGURATION,"whoa there cowboy");
  HttpResponseBuilder responseBuilder=new HttpResponseBuilder();
  params.addToResponse(responseBuilder,e);
  HttpResponse response=responseBuilder.create();
  assertEquals("BAD_OAUTH_CONFIGURATION",response.getMetadata().get("oauthError"));
  String errorText=response.getMetadata().get("oauthErrorText");
  checkStringContains("error text returned",errorText,"whoa there cowboy");
  assertEquals("aznurl",response.getMetadata().get("oauthApprovalUrl"));
  assertNotNull(response.getMetadata().get("oauthState"));
  assertTrue(response.getMetadata().get("oauthState").length() > 10);
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testAddEmptyParams(){
  HttpResponseBuilder responseBuilder=new HttpResponseBuilder();
  params.addToResponse(responseBuilder,null);
  HttpResponse response=responseBuilder.create();
  assertTrue(response.getMetadata().isEmpty());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetAndGet(){
  params.getNewClientState().setAccessToken("access");
  params.setAznUrl("aznurl");
  assertFalse(params.sendTraceToClient());
  params.setSendTraceToClient(true);
  assertTrue(params.sendTraceToClient());
  assertEquals("access",params.getNewClientState().getAccessToken());
  assertEquals("aznurl",params.getAznUrl());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.GadgetOAuth2TokenStoreTest </h4><pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOAuth2Accessor_3() throws Exception {
  final OAuth2Accessor result=GadgetOAuth2TokenStoreTest.gts.getOAuth2Accessor(GadgetOAuth2TokenStoreTest.securityToken,GadgetOAuth2TokenStoreTest.arguments,Uri.parse("bad"));
  Assert.assertNotNull(result);
  Assert.assertTrue(result.isErrorResponse());
  Assert.assertEquals(OAuth2Error.NO_GADGET_SPEC,result.getError());
  Assert.assertTrue(result.getErrorContextMessage().startsWith("gadgetUri ="));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOAuth2Accessor_4() throws Exception {
  final OAuth2Accessor result=GadgetOAuth2TokenStoreTest.gts.getOAuth2Accessor(GadgetOAuth2TokenStoreTest.securityToken,GadgetOAuth2TokenStoreTest.arguments,Uri.parse(MockUtils.GADGET_URI1));
  Assert.assertNotNull(result);
  Assert.assertFalse(result.isErrorResponse());
  Assert.assertEquals(null,result.getAccessToken());
  Assert.assertEquals(MockUtils.AUTHORIZE_URL,result.getAuthorizationUrl());
  Assert.assertEquals(OAuth2Message.BASIC_AUTH_TYPE,result.getClientAuthenticationType());
  Assert.assertEquals(MockUtils.CLIENT_ID1,result.getClientId());
  Assert.assertEquals(MockUtils.GADGET_URI1,result.getGadgetUri());
  Assert.assertEquals(OAuth2Message.AUTHORIZATION,result.getGrantType());
  Assert.assertEquals(MockUtils.REDIRECT_URI,result.getRedirectUri());
  Assert.assertEquals(null,result.getRefreshToken());
  Assert.assertEquals(MockUtils.SCOPE,result.getScope());
  Assert.assertEquals(MockUtils.SERVICE_NAME,result.getServiceName());
  Assert.assertEquals(MockUtils.TOKEN_URL,result.getTokenUrl());
  Assert.assertEquals(OAuth2Accessor.Type.CONFIDENTIAL,result.getType());
  Assert.assertEquals(MockUtils.USER,result.getUser());
  Assert.assertTrue(result.isValid());
  Assert.assertFalse(result.isAllowModuleOverrides());
  Assert.assertFalse(result.isErrorResponse());
  Assert.assertFalse(result.isRedirecting());
  Assert.assertFalse(result.isUrlParameter());
  Assert.assertTrue(result.isAuthorizationHeader());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOAuth2Accessor_1() throws Exception {
  final OAuth2Accessor result=GadgetOAuth2TokenStoreTest.gts.getOAuth2Accessor(null,GadgetOAuth2TokenStoreTest.arguments,GadgetOAuth2TokenStoreTest.gadgetUri);
  Assert.assertNotNull(result);
  Assert.assertTrue(result.isErrorResponse());
  Assert.assertEquals(OAuth2Error.GET_OAUTH2_ACCESSOR_PROBLEM,result.getError());
  Assert.assertTrue(result.getErrorContextMessage().startsWith("OAuth2Accessor missing a param"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOAuth2Accessor_2() throws Exception {
  final OAuth2Accessor result=GadgetOAuth2TokenStoreTest.gts.getOAuth2Accessor(GadgetOAuth2TokenStoreTest.securityToken,GadgetOAuth2TokenStoreTest.arguments,null);
  Assert.assertNotNull(result);
  Assert.assertTrue(result.isErrorResponse());
  Assert.assertEquals(OAuth2Error.GET_OAUTH2_ACCESSOR_PROBLEM,result.getError());
  Assert.assertTrue(result.getErrorContextMessage().startsWith("OAuth2Accessor missing a param"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.OAuth2ArgumentsTest </h4><pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testEquals_4() throws Exception {
  final Map<String,String> attrs1=Maps.newHashMap();
  attrs1.put("OAUTH_SCOPE","xxx");
  attrs1.put("OAUTH_SERVICE_NAME","yyy");
  attrs1.put("bypassSpecCache","0");
  final HttpServletRequest request=EasyMock.createNiceMock(HttpServletRequest.class);
  EasyMock.expect(request.getParameterNames()).andReturn(Collections.enumeration(attrs1.keySet()));
  EasyMock.expect(request.getParameterMap()).andReturn(attrs1);
  for (  final Entry<String,String> entry : attrs1.entrySet()) {
    EasyMock.expect(request.getParameter(entry.getKey())).andReturn(entry.getValue());
  }
  EasyMock.replay(request);
  final OAuth2Arguments obj=new OAuth2Arguments(request);
  final boolean result=requestMock.equals(obj);
  Assert.assertFalse(result);
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuth2Arguments_1() throws Exception {
  final OAuth2Arguments result=new OAuth2Arguments(requestMock);
  Assert.assertNotNull(result);
  Assert.assertTrue(result.getBypassSpecCache());
  Assert.assertEquals(MockUtils.SCOPE,result.getScope());
  Assert.assertEquals(MockUtils.SERVICE_NAME,result.getServiceName());
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testEquals_1() throws Exception {
  final OAuth2Arguments fixture=new OAuth2Arguments(AuthType.OAUTH2,attrs);
  final Object obj=new OAuth2Arguments(requestMock);
  final boolean result=fixture.equals(obj);
  Assert.assertTrue(result);
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuth2Arguments_2() throws Exception {
  final Map<String,String> attrs1=Maps.newHashMap();
  attrs1.put("OAUTH_SCOPE","xxx");
  attrs1.put("OAUTH_SERVICE_NAME","yyy");
  attrs1.put("bypassSpecCache","0");
  final HttpServletRequest request=EasyMock.createNiceMock(HttpServletRequest.class);
  EasyMock.expect(request.getParameterNames()).andReturn(Collections.enumeration(attrs1.keySet()));
  EasyMock.expect(request.getParameterMap()).andReturn(attrs1);
  for (  final Entry<String,String> entry : attrs1.entrySet()) {
    EasyMock.expect(request.getParameter(entry.getKey())).andReturn(entry.getValue());
  }
  EasyMock.replay(request);
  final OAuth2Arguments orig=new OAuth2Arguments(request);
  final OAuth2Arguments result=new OAuth2Arguments(orig);
  Assert.assertNotNull(result);
  Assert.assertFalse(result.getBypassSpecCache());
  Assert.assertEquals("xxx",result.getScope());
  Assert.assertEquals("yyy",result.getServiceName());
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testEquals_2() throws Exception {
  final Object obj=new Object();
  final boolean result=requestMock.equals(obj);
  Assert.assertFalse(result);
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuth2Arguments_3() throws Exception {
  final RequestAuthenticationInfo info=EasyMock.createNiceMock(RequestAuthenticationInfo.class);
  EasyMock.expect(info.getAuthType()).andReturn(AuthType.OAUTH2);
  EasyMock.expect(info.getAttributes()).andReturn(attrs);
  EasyMock.replay(info);
  final OAuth2Arguments result=new OAuth2Arguments(info);
  Assert.assertNotNull(result);
  Assert.assertTrue(result.getBypassSpecCache());
  Assert.assertEquals(MockUtils.SCOPE,result.getScope());
  Assert.assertEquals(MockUtils.SERVICE_NAME,result.getServiceName());
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetBypassSpecCache_1() throws Exception {
  final OAuth2Arguments fixture=new OAuth2Arguments(requestMock);
  final boolean result=fixture.getBypassSpecCache();
  Assert.assertTrue(result);
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testEquals_3() throws Exception {
  final boolean result=requestMock.equals(null);
  Assert.assertFalse(result);
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuth2Arguments_4() throws Exception {
  final OAuth2Arguments result=new OAuth2Arguments(AuthType.OAUTH2,attrs);
  Assert.assertNotNull(result);
  Assert.assertTrue(result.getBypassSpecCache());
  Assert.assertEquals(MockUtils.SCOPE,result.getScope());
  Assert.assertEquals(MockUtils.SERVICE_NAME,result.getServiceName());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.OAuth2MessageModuleTest </h4><pre class="type-6 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConfigure_1() throws Exception {
  final OAuth2MessageModule fixture=new OAuth2MessageModule();
  Assert.assertNotNull(fixture);
  Assert.assertTrue(AbstractModule.class.isInstance(fixture));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.OAuth2ModuleTest </h4><pre class="type-6 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOAuth2Module_1() throws Exception {
  final OAuth2Module result=new OAuth2Module();
  Assert.assertNotNull(result);
  Assert.assertTrue(AbstractModule.class.isInstance(result));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.handler.BasicAuthenticationHandlerTest </h4><pre class="type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicAuthenticationHandler1() throws Exception {
  final BasicAuthenticationHandler result=new BasicAuthenticationHandler();
  Assert.assertNotNull(result);
  Assert.assertTrue(ClientAuthenticationHandler.class.isInstance(result));
  Assert.assertEquals(OAuth2Message.BASIC_AUTH_TYPE,result.geClientAuthenticationType());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddOAuth2Authentication3() throws Exception {
  final BasicAuthenticationHandler fixture=new BasicAuthenticationHandler();
  final HttpRequest request=new HttpRequest(Uri.fromJavaUri(new URI("")));
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Error();
  final OAuth2HandlerError result=fixture.addOAuth2Authentication(request,accessor);
  Assert.assertNotNull(result);
  Assert.assertEquals(null,result.getCause());
  Assert.assertEquals(OAuth2Error.AUTHENTICATION_PROBLEM,result.getError());
  Assert.assertTrue(result.getContextMessage().startsWith("accessor is invalid"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.handler.BearerTokenHandlerTest </h4><pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddOAuth2Params_2() throws Exception {
  final BearerTokenHandler fixture=new BearerTokenHandler();
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Error();
  final HttpRequest request=new HttpRequest(Uri.fromJavaUri(new URI("")));
  final OAuth2HandlerError result=fixture.addOAuth2Params(accessor,request);
  Assert.assertNotNull(result);
  Assert.assertEquals(null,result.getCause());
  Assert.assertNotNull(result.getError());
  Assert.assertEquals(OAuth2Error.BEARER_TOKEN_PROBLEM,result.getError());
  Assert.assertNotNull(result.getContextMessage());
  Assert.assertTrue(result.getContextMessage().startsWith("accessor is invalid"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddOAuth2Params_5() throws Exception {
  final BearerTokenHandler fixture=new BearerTokenHandler();
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Code();
  final HttpRequest request=new HttpRequest((Uri)null);
  final OAuth2HandlerError result=fixture.addOAuth2Params(accessor,request);
  Assert.assertNotNull(result);
  Assert.assertEquals(null,result.getCause());
  Assert.assertNotNull(result.getError());
  Assert.assertEquals(OAuth2Error.BEARER_TOKEN_PROBLEM,result.getError());
  Assert.assertNotNull(result.getContextMessage());
  Assert.assertTrue(result.getContextMessage().startsWith("unAuthorizedRequestUri"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddOAuth2Params_1() throws Exception {
  final BearerTokenHandler fixture=new BearerTokenHandler();
  final OAuth2Accessor accessor=null;
  final HttpRequest request=new HttpRequest(Uri.fromJavaUri(new URI("")));
  final OAuth2HandlerError result=fixture.addOAuth2Params(accessor,request);
  Assert.assertNotNull(result);
  Assert.assertEquals(null,result.getCause());
  Assert.assertNotNull(result.getError());
  Assert.assertEquals(OAuth2Error.BEARER_TOKEN_PROBLEM,result.getError());
  Assert.assertNotNull(result.getContextMessage());
  Assert.assertTrue(result.getContextMessage().startsWith(""));
}

</code></pre>

<br>
<pre class="type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBearerTokenHandler_1() throws Exception {
  final BearerTokenHandler result=new BearerTokenHandler();
  Assert.assertNotNull(result);
  Assert.assertTrue(ResourceRequestHandler.class.isInstance(result));
  Assert.assertEquals(OAuth2Message.BEARER_TOKEN_TYPE,result.getTokenType());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.handler.ClientCredentialsGrantTypeHandlerTest </h4><pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClientCredentialsGrantTypeHandler_1() throws Exception {
  final ClientCredentialsGrantTypeHandler result=ClientCredentialsGrantTypeHandlerTest.ccgth;
  Assert.assertNotNull(result);
  Assert.assertEquals("client_credentials",result.getGrantType());
  Assert.assertTrue(GrantRequestHandler.class.isInstance(result));
  Assert.assertEquals(false,result.isAuthorizationEndpointResponse());
  Assert.assertEquals(false,result.isRedirectRequired());
  Assert.assertEquals(true,result.isTokenEndpointResponse());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetAuthorizationRequest_5() throws Exception {
  final ClientCredentialsGrantTypeHandler fixture=ClientCredentialsGrantTypeHandlerTest.ccgth;
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_ClientCredentials();
  final String completeAuthorizationUrl="xxx";
  final HttpRequest result=fixture.getAuthorizationRequest(accessor,completeAuthorizationUrl);
  Assert.assertNotNull(result);
  final String postBody=result.getPostBodyAsString();
  Assert.assertNotNull(postBody);
  Assert.assertEquals("client_id=clientId1&client_secret=clientSecret1&grant_type=client_credentials",postBody);
  Assert.assertNotNull(result.getSecurityToken());
  Assert.assertTrue(result.getSecurityToken().isAnonymous());
  Assert.assertEquals(accessor.getGadgetUri(),result.getSecurityToken().getAppUrl());
  Assert.assertEquals("POST",result.getMethod());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.handler.CodeAuthorizationResponseHandlerTest </h4><pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testHandlesRequest_2() throws Exception {
  final CodeAuthorizationResponseHandler fixture=CodeAuthorizationResponseHandlerTest.carh;
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Redirecting();
  final HttpServletRequest request=new DummyHttpServletRequest();
  final boolean result=fixture.handlesRequest(accessor,request);
  Assert.assertTrue(result);
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHandleRequest_5() throws Exception {
  final CodeAuthorizationResponseHandler fixture=CodeAuthorizationResponseHandlerTest.carh;
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Redirecting();
  final HttpServletRequest request=new DummyHttpServletRequest();
  final OAuth2HandlerError result=fixture.handleRequest(accessor,request);
  Assert.assertNull(result);
  final OAuth2Token accessToken=CodeAuthorizationResponseHandlerTest.store.getToken(accessor.getGadgetUri(),accessor.getServiceName(),accessor.getUser(),accessor.getScope(),OAuth2Token.Type.ACCESS);
  Assert.assertNotNull(accessToken);
  Assert.assertEquals("xxx",new String(accessToken.getSecret(),"UTF-8"));
  Assert.assertEquals(OAuth2Message.BEARER_TOKEN_TYPE,accessToken.getTokenType());
  Assert.assertTrue(accessToken.getExpiresAt() > 1000);
  final OAuth2Token refreshToken=CodeAuthorizationResponseHandlerTest.store.getToken(accessor.getGadgetUri(),accessor.getServiceName(),accessor.getUser(),accessor.getScope(),OAuth2Token.Type.REFRESH);
  Assert.assertNotNull(refreshToken);
  Assert.assertEquals("yyy",new String(refreshToken.getSecret(),"UTF-8"));
}

</code></pre>

<br>
<pre class="type-6 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings("unchecked") public void testCodeAuthorizationResponseHandler_1() throws Exception {
  final Provider<OAuth2Message> oauth2MessageProvider=EasyMock.createMock(Provider.class);
  final List<ClientAuthenticationHandler> clientAuthenticationHandlers=EasyMock.createMock(List.class);
  final List<TokenEndpointResponseHandler> tokenEndpointResponseHandlers=EasyMock.createMock(List.class);
  final HttpFetcher fetcher=EasyMock.createMock(HttpFetcher.class);
  EasyMock.replay(oauth2MessageProvider);
  EasyMock.replay(clientAuthenticationHandlers);
  EasyMock.replay(tokenEndpointResponseHandlers);
  EasyMock.replay(fetcher);
  final CodeAuthorizationResponseHandler result=new CodeAuthorizationResponseHandler(oauth2MessageProvider,clientAuthenticationHandlers,tokenEndpointResponseHandlers,fetcher);
  EasyMock.verify(oauth2MessageProvider);
  EasyMock.verify(clientAuthenticationHandlers);
  EasyMock.verify(tokenEndpointResponseHandlers);
  EasyMock.verify(fetcher);
  Assert.assertNotNull(result);
  Assert.assertTrue(AuthorizationEndpointResponseHandler.class.isInstance(result));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHandleRequest_verifyAnonymousTokenOnRequest() throws Exception {
  MockUtils.DummyHttpFetcher fetcher=(MockUtils.DummyHttpFetcher)MockUtils.getDummyFetcher();
  CodeAuthorizationResponseHandler fixture=new CodeAuthorizationResponseHandler(MockUtils.getDummyMessageProvider(),MockUtils.getDummyClientAuthHandlers(),MockUtils.getDummyTokenEndpointResponseHandlers(),fetcher);
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Redirecting();
  final HttpServletRequest request=new DummyHttpServletRequest();
  final OAuth2HandlerError result=fixture.handleRequest(accessor,request);
  Assert.assertNull(result);
  final OAuth2Token accessToken=CodeAuthorizationResponseHandlerTest.store.getToken(accessor.getGadgetUri(),accessor.getServiceName(),accessor.getUser(),accessor.getScope(),OAuth2Token.Type.ACCESS);
  Assert.assertNotNull(accessToken);
  Assert.assertEquals("xxx",new String(accessToken.getSecret(),"UTF-8"));
  Assert.assertEquals(OAuth2Message.BEARER_TOKEN_TYPE,accessToken.getTokenType());
  Assert.assertTrue(accessToken.getExpiresAt() > 1000);
  final OAuth2Token refreshToken=CodeAuthorizationResponseHandlerTest.store.getToken(accessor.getGadgetUri(),accessor.getServiceName(),accessor.getUser(),accessor.getScope(),OAuth2Token.Type.REFRESH);
  Assert.assertNotNull(refreshToken);
  Assert.assertEquals("yyy",new String(refreshToken.getSecret(),"UTF-8"));
  Assert.assertNotNull(fetcher.request);
  SecurityToken st=fetcher.request.getSecurityToken();
  Assert.assertNotNull(st);
  Assert.assertTrue(st.isAnonymous());
  Assert.assertEquals(accessor.getGadgetUri(),st.getAppUrl());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.handler.CodeGrantTypeHandlerTest </h4><pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCodeGrantTypeHandler_1() throws Exception {
  final CodeGrantTypeHandler result=new CodeGrantTypeHandler();
  Assert.assertNotNull(result);
  Assert.assertTrue(GrantRequestHandler.class.isInstance(result));
  Assert.assertEquals("code",result.getGrantType());
  Assert.assertEquals("authorization_code",CodeGrantTypeHandler.getResponseType());
  Assert.assertEquals(true,result.isAuthorizationEndpointResponse());
  Assert.assertEquals(true,result.isRedirectRequired());
  Assert.assertEquals(false,result.isTokenEndpointResponse());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetCompleteUrl_5() throws Exception {
  final CodeGrantTypeHandler fixture=CodeGrantTypeHandlerTest.cgth;
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Code();
  final Map<String,String> additionalParams=Maps.newHashMap();
  additionalParams.put("param1","value1");
  accessor.setAdditionalRequestParams(additionalParams);
  final String result=fixture.getCompleteUrl(accessor);
  Assert.assertNotNull(result);
  Assert.assertTrue(result.contains("&param1=value1"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetCompleteUrl_4() throws Exception {
  final CodeGrantTypeHandler fixture=CodeGrantTypeHandlerTest.cgth;
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Code();
  final String result=fixture.getCompleteUrl(accessor);
  Assert.assertNotNull(result);
  Assert.assertTrue(result.startsWith("http://www.example.com/authorize?client_id=clientId1&redirect_uri=https%3A%2F%2Fwww.example.com%2Fgadgets%2Foauth2callback&response_type=code&scope=testScope&state="));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.handler.MacTokenHandlerTest </h4><pre class="type-5 type-6 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddOAuth2Params_5() throws Exception {
  final MacTokenHandler fixture=new MacTokenHandler();
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_MacToken();
  final HttpRequest request=new HttpRequest(Uri.fromJavaUri(new URI("http://www.example.com:9080/xxx")));
  request.setMethod("");
  final OAuth2HandlerError result=fixture.addOAuth2Params(accessor,request);
  Assert.assertNull(result);
  final String authHeader=request.getHeader("Authorization");
  Assert.assertNotNull(authHeader);
  Assert.assertTrue(authHeader.startsWith("MAC id = \"accessSecret\",nonce="));
}

</code></pre>

<br>
<pre class="type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMacTokenHandler_1() throws Exception {
  final MacTokenHandler result=new MacTokenHandler();
  Assert.assertNotNull(result);
  Assert.assertTrue(ResourceRequestHandler.class.isInstance(result));
  Assert.assertEquals(OAuth2Message.MAC_TOKEN_TYPE,result.getTokenType());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddOAuth2Params_3() throws Exception {
  final MacTokenHandler fixture=new MacTokenHandler();
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Error();
  final HttpRequest request=new HttpRequest(Uri.fromJavaUri(new URI("")));
  final OAuth2HandlerError result=fixture.addOAuth2Params(accessor,request);
  Assert.assertNotNull(result);
  Assert.assertEquals(null,result.getCause());
  Assert.assertEquals(OAuth2Error.MAC_TOKEN_PROBLEM,result.getError());
  Assert.assertTrue(result.getContextMessage().startsWith("accessor is invalid"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.handler.OAuth2HandlerModuleTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testConfigure_1() throws Exception {
  final OAuth2HandlerModule fixture=new OAuth2HandlerModule();
  Assert.assertTrue(AbstractModule.class.isInstance(fixture));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.handler.StandardAuthenticationHandlerTest </h4><pre class="type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStandardAuthenticationHandler_1() throws Exception {
  final StandardAuthenticationHandler result=new StandardAuthenticationHandler();
  Assert.assertNotNull(result);
  Assert.assertTrue(ClientAuthenticationHandler.class.isInstance(result));
  Assert.assertEquals(OAuth2Message.STANDARD_AUTH_TYPE,result.geClientAuthenticationType());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.handler.TokenAuthorizationResponseHandlerTest </h4><pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHandleResponse_3() throws Exception {
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Code();
  final HttpResponseBuilder builder=new HttpResponseBuilder().setStrictNoCache();
  builder.setHttpStatusCode(HttpResponse.SC_FORBIDDEN);
  final HttpResponse response=builder.create();
  final OAuth2HandlerError result=TokenAuthorizationResponseHandlerTest.tarh.handleResponse(accessor,response);
  Assert.assertNotNull(result);
  Assert.assertEquals(null,result.getCause());
  Assert.assertEquals(OAuth2Error.TOKEN_RESPONSE_PROBLEM,result.getError());
  Assert.assertTrue(result.getContextMessage().startsWith("can't handle error response"));
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testHandlesResponse_1() throws Exception {
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Error();
  final HttpResponse response=new HttpResponse();
  final boolean result=TokenAuthorizationResponseHandlerTest.tarh.handlesResponse(accessor,response);
  Assert.assertFalse(result);
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHandleResponse_4() throws Exception {
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Code();
  final HttpResponseBuilder builder=new HttpResponseBuilder().setStrictNoCache();
  builder.setHttpStatusCode(HttpResponse.SC_OK);
  builder.setHeader("Content-Type","text/plain");
  builder.setContent("access_token=xxx&token_type=Bearer&expires=1&refresh_token=yyy&example_parameter=example_value");
  final HttpResponse response=builder.create();
  final OAuth2HandlerError result=TokenAuthorizationResponseHandlerTest.tarh.handleResponse(accessor,response);
  Assert.assertNull(result);
  final OAuth2Token accessToken=TokenAuthorizationResponseHandlerTest.store.getToken(accessor.getGadgetUri(),accessor.getServiceName(),accessor.getUser(),accessor.getScope(),OAuth2Token.Type.ACCESS);
  Assert.assertNotNull(accessToken);
  Assert.assertEquals("xxx",new String(accessToken.getSecret(),"UTF-8"));
  Assert.assertEquals(OAuth2Message.BEARER_TOKEN_TYPE,accessToken.getTokenType());
  Assert.assertTrue(accessToken.getExpiresAt() > 1000);
  final OAuth2Token refreshToken=TokenAuthorizationResponseHandlerTest.store.getToken(accessor.getGadgetUri(),accessor.getServiceName(),accessor.getUser(),accessor.getScope(),OAuth2Token.Type.REFRESH);
  Assert.assertNotNull(refreshToken);
  Assert.assertEquals("yyy",new String(refreshToken.getSecret(),"UTF-8"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHandleResponse_5() throws Exception {
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Code();
  final HttpResponseBuilder builder=new HttpResponseBuilder().setStrictNoCache();
  builder.setHttpStatusCode(HttpResponse.SC_OK);
  builder.setHeader("Content-Type","application/json");
  builder.setContent("{\"access_token\":\"xxx\",\"token_type\":\"Bearer\",\"expires_in\":\"1\",\"refresh_token\":\"yyy\",\"example_parameter\":\"example_value\"}");
  final HttpResponse response=builder.create();
  final OAuth2HandlerError result=TokenAuthorizationResponseHandlerTest.tarh.handleResponse(accessor,response);
  Assert.assertNull(result);
  final OAuth2Token accessToken=TokenAuthorizationResponseHandlerTest.store.getToken(accessor.getGadgetUri(),accessor.getServiceName(),accessor.getUser(),accessor.getScope(),OAuth2Token.Type.ACCESS);
  Assert.assertNotNull(accessToken);
  Assert.assertEquals("xxx",new String(accessToken.getSecret(),"UTF-8"));
  Assert.assertEquals(OAuth2Message.BEARER_TOKEN_TYPE,accessToken.getTokenType());
  Assert.assertTrue(accessToken.getExpiresAt() > 1000);
  final OAuth2Token refreshToken=TokenAuthorizationResponseHandlerTest.store.getToken(accessor.getGadgetUri(),accessor.getServiceName(),accessor.getUser(),accessor.getScope(),OAuth2Token.Type.REFRESH);
  Assert.assertNotNull(refreshToken);
  Assert.assertEquals("yyy",new String(refreshToken.getSecret(),"UTF-8"));
}

</code></pre>

<br>
<pre class="type-6 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTokenAuthorizationResponseHandler_1() throws Exception {
  Assert.assertNotNull(TokenAuthorizationResponseHandlerTest.tarh);
  Assert.assertTrue(TokenEndpointResponseHandler.class.isInstance(TokenAuthorizationResponseHandlerTest.tarh));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHandleResponse_1() throws Exception {
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Error();
  final HttpResponse response=new HttpResponse();
  final OAuth2HandlerError result=TokenAuthorizationResponseHandlerTest.tarh.handleResponse(accessor,response);
  Assert.assertNotNull(result);
  Assert.assertEquals(null,result.getCause());
  Assert.assertEquals(OAuth2Error.TOKEN_RESPONSE_PROBLEM,result.getError());
  Assert.assertTrue(result.getContextMessage().startsWith("accessor is invalid"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHandleResponse_6() throws Exception {
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Code();
  final HttpResponseBuilder builder=new HttpResponseBuilder().setStrictNoCache();
  builder.setHttpStatusCode(HttpResponse.SC_OK);
  builder.setHeader("Content-Type","BAD");
  builder.setContent("access_token=xxx&token_type=Bearer&expires=1&refresh_token=yyy&example_parameter=example_value");
  final HttpResponse response=builder.create();
  final OAuth2HandlerError result=TokenAuthorizationResponseHandlerTest.tarh.handleResponse(accessor,response);
  Assert.assertNull(result);
  final OAuth2Token accessToken=TokenAuthorizationResponseHandlerTest.store.getToken(accessor.getGadgetUri(),accessor.getServiceName(),accessor.getUser(),accessor.getScope(),OAuth2Token.Type.ACCESS);
  Assert.assertEquals("xxx",new String(accessToken.getSecret(),"UTF-8"));
  Assert.assertEquals(OAuth2Message.BEARER_TOKEN_TYPE,accessToken.getTokenType());
  Assert.assertTrue(accessToken.getExpiresAt() > 1000);
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testHandlesResponse_3() throws Exception {
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Code();
  final HttpResponse response=new HttpResponse();
  final boolean result=TokenAuthorizationResponseHandlerTest.tarh.handlesResponse(accessor,response);
  Assert.assertTrue(result);
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testHandlesResponse_2() throws Exception {
  final OAuth2Accessor accessor=MockUtils.getOAuth2Accessor_Code();
  final HttpResponse response=null;
  final boolean result=TokenAuthorizationResponseHandlerTest.tarh.handlesResponse(accessor,response);
  Assert.assertFalse(result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.logger.FilteredLoggerTest </h4><pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testIsLoggable_3() throws Exception {
  final FilteredLogger fixture=FilteredLogger.getFilteredLogger("");
  final Level logLevel=Level.FINE;
  final boolean result=fixture.isLoggable(logLevel);
  Assert.assertFalse(result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.persistence.OAuth2ClientTest </h4><pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testEquals_1() throws Exception {
  final OAuth2Client obj=new OAuth2Client(MockUtils.getDummyEncrypter());
  obj.setAuthorizationUrl(MockUtils.AUTHORIZE_URL);
  obj.setClientAuthenticationType(OAuth2Message.BASIC_AUTH_TYPE);
  obj.setServiceName(MockUtils.SERVICE_NAME);
  obj.setRedirectUri(MockUtils.REDIRECT_URI);
  obj.setGrantType(OAuth2Message.AUTHORIZATION);
  obj.setAllowModuleOverride(true);
  obj.setAuthorizationHeader(true);
  obj.setTokenUrl(MockUtils.TOKEN_URL);
  obj.setGadgetUri(MockUtils.GADGET_URI1);
  obj.setType(org.apache.shindig.gadgets.oauth2.OAuth2Accessor.Type.CONFIDENTIAL);
  obj.setUrlParameter(false);
  obj.setClientSecret(MockUtils.CLIENT_SECRET1.getBytes("UTF-8"));
  obj.setClientId(MockUtils.CLIENT_ID1);
  final boolean result=OAuth2ClientTest.client1.equals(obj);
  Assert.assertTrue(result);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsAllowModuleOverride_2() throws Exception {
  final boolean result=OAuth2ClientTest.client2.isAllowModuleOverride();
  Assert.assertFalse(result);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsUrlParameter_1() throws Exception {
  final boolean result=OAuth2ClientTest.client1.isUrlParameter();
  Assert.assertFalse(result);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsAuthorizationHeader_1() throws Exception {
  final boolean result=OAuth2ClientTest.client1.isAuthorizationHeader();
  Assert.assertTrue(result);
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testEquals_2() throws Exception {
  final Object obj=new Object();
  boolean result=OAuth2ClientTest.client1.equals(obj);
  Assert.assertFalse(result);
  result=OAuth2ClientTest.client1.equals(OAuth2ClientTest.client2);
  Assert.assertFalse(result);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsUrlParameter_2() throws Exception {
  final boolean result=OAuth2ClientTest.client2.isUrlParameter();
  Assert.assertTrue(result);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsAllowModuleOverride_1() throws Exception {
  final boolean result=OAuth2ClientTest.client1.isAllowModuleOverride();
  Assert.assertTrue(result);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsAuthorizationHeader_2() throws Exception {
  final boolean result=OAuth2ClientTest.client2.isAuthorizationHeader();
  Assert.assertFalse(result);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testEquals_3() throws Exception {
  final boolean result=OAuth2ClientTest.client1.equals(null);
  Assert.assertFalse(result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.persistence.OAuth2TokenPersistenceTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testEquals_2() throws Exception {
  final boolean result=OAuth2TokenPersistenceTest.accessToken.equals(OAuth2TokenPersistenceTest.refreshToken);
  Assert.assertFalse(result);
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testEquals_1() throws Exception {
  final OAuth2TokenPersistence obj=new OAuth2TokenPersistence(MockUtils.getDummyEncrypter());
  obj.setServiceName(MockUtils.SERVICE_NAME);
  obj.setUser(MockUtils.USER);
  obj.setType(org.apache.shindig.gadgets.oauth2.OAuth2Token.Type.ACCESS);
  obj.setIssuedAt(0L);
  obj.setEncryptedMacSecret(new byte[]{});
  obj.setMacAlgorithm("");
  obj.setScope(MockUtils.SCOPE);
  obj.setExpiresAt(1L);
  obj.setMacSecret(new byte[]{});
  obj.setSecret(new byte[]{});
  obj.setGadgetUri(MockUtils.GADGET_URI1);
  obj.setMacExt("");
  obj.setTokenType(OAuth2Message.BEARER_TOKEN_TYPE);
  final boolean result=OAuth2TokenPersistenceTest.accessToken.equals(obj);
  Assert.assertTrue(result);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testEquals_4() throws Exception {
  Assert.assertFalse(OAuth2TokenPersistenceTest.accessToken.equals(null));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testEquals_3() throws Exception {
  Assert.assertFalse(OAuth2TokenPersistenceTest.accessToken.equals(new Object()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.persistence.sample.InMemoryCacheTest </h4><pre class="type-4 type-6 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setUp() throws Exception {
  this.cache=new InMemoryCache();
  Assert.assertNotNull(this.cache);
  Assert.assertTrue(OAuth2Cache.class.isInstance(this.cache));
  this.cache.storeClient(MockUtils.getClient_Code_Confidential());
  this.cache.storeClient(MockUtils.getClient_Code_Public());
  this.cache.storeToken(MockUtils.getAccessToken());
  this.cache.storeToken(MockUtils.getRefreshToken());
  this.cache.storeOAuth2Accessor(MockUtils.getOAuth2Accessor_Code());
  this.cache.storeOAuth2Accessor(MockUtils.getOAuth2Accessor_Error());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.persistence.sample.JSONOAuth2PersisterTest </h4><pre class="type-9 type-17 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLoadClients_1() throws Exception {
  final Set<OAuth2Client> result=this.persister.loadClients();
  Assert.assertNotNull(result);
  Assert.assertEquals(2,result.size());
  for (  final OAuth2Client client : result) {
    final String gadgetUri=client.getGadgetUri();
    Assert.assertNotNull(gadgetUri);
    final boolean goodClient=gadgetUri.equals(MockUtils.GADGET_URI1) || gadgetUri.equals(MockUtils.GADGET_URI2);
    Assert.assertTrue(goodClient);
    if (gadgetUri.equals(MockUtils.GADGET_URI1)) {
      Assert.assertEquals(MockUtils.AUTHORIZE_URL,client.getAuthorizationUrl());
      Assert.assertEquals(OAuth2Message.BASIC_AUTH_TYPE,client.getClientAuthenticationType());
      Assert.assertEquals(MockUtils.CLIENT_ID1,client.getClientId());
      Assert.assertEquals(MockUtils.CLIENT_SECRET1,new String(client.getClientSecret(),"UTF-8"));
      Assert.assertEquals(MockUtils.getDummyEncrypter(),client.getEncrypter());
      Assert.assertEquals(OAuth2Message.AUTHORIZATION,client.getGrantType());
      Assert.assertEquals(MockUtils.REDIRECT_URI,client.getRedirectUri());
      Assert.assertEquals(MockUtils.SERVICE_NAME,client.getServiceName());
      Assert.assertEquals(MockUtils.TOKEN_URL,client.getTokenUrl());
      Assert.assertEquals(OAuth2Accessor.Type.CONFIDENTIAL,client.getType());
      Assert.assertEquals(true,client.isAllowModuleOverride());
      Assert.assertEquals(true,client.isAuthorizationHeader());
      Assert.assertEquals(false,client.isUrlParameter());
      Assert.assertArrayEquals(new String[]{"example.com","ibm.com"},client.getAllowedDomains());
    }
 else     if (gadgetUri.equals(MockUtils.GADGET_URI2)) {
      Assert.assertEquals(MockUtils.AUTHORIZE_URL,client.getAuthorizationUrl());
      Assert.assertEquals(OAuth2Message.STANDARD_AUTH_TYPE,client.getClientAuthenticationType());
      Assert.assertEquals(MockUtils.CLIENT_ID2,client.getClientId());
      Assert.assertEquals(MockUtils.CLIENT_SECRET2,new String(client.getClientSecret(),"UTF-8"));
      Assert.assertEquals(MockUtils.getDummyEncrypter(),client.getEncrypter());
      Assert.assertEquals(OAuth2Message.CLIENT_CREDENTIALS,client.getGrantType());
      Assert.assertEquals(MockUtils.REDIRECT_URI,client.getRedirectUri());
      Assert.assertEquals(MockUtils.SERVICE_NAME,client.getServiceName());
      Assert.assertEquals(MockUtils.TOKEN_URL,client.getTokenUrl());
      Assert.assertEquals(OAuth2Accessor.Type.PUBLIC,client.getType());
      Assert.assertEquals(false,client.isAllowModuleOverride());
      Assert.assertEquals(false,client.isAuthorizationHeader());
      Assert.assertEquals(true,client.isUrlParameter());
      Assert.assertArrayEquals(new String[0],client.getAllowedDomains());
    }
 else {
      throw new RuntimeException("Bad client found " + gadgetUri);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.persistence.sample.NoOpEncrypterTest </h4><pre class="type-6 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNoOpEncrypter_1() throws Exception {
  final NoOpEncrypter result=new NoOpEncrypter();
  Assert.assertNotNull(result);
  Assert.assertTrue(OAuth2Encrypter.class.isInstance(result));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.oauth2.persistence.sample.OAuth2PersistenceModuleTest </h4><pre class="type-6 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConfigure_1() throws Exception {
  final OAuth2PersistenceModule fixture=new OAuth2PersistenceModule();
  Assert.assertNotNull(fixture);
  Assert.assertTrue(AbstractModule.class.isInstance(fixture));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.parse.AbstractSocialMarkupHtmlParserTest </h4><pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testInvalid() throws Exception {
  String content="<html><div id=\"div_super\" class=\"div_super\" valign:\"middle\"></div></html>";
  Document doc=parser.parseDom(content);
  Node body=doc.getElementsByTagName("body").item(0);
  assertTrue(body.getTextContent().contains("INVALID_CHARACTER_ERR"));
  assertTrue(body.getTextContent().contains("Around ...<div id=\"div_super\" class=\"div_super\"..."));
  assertTrue(HtmlSerialization.serialize(doc).contains("INVALID_CHARACTER_ERR"));
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testSocialTemplateSerialization(){
  String content=HtmlSerialization.serialize(document);
  assertTrue("Empty elements not preserved as XML inside template",content.contains("<img/>"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.parse.caja.CajaCssLexerParserTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCache() throws Exception {
  cajaCssParser.setCacheProvider(new LruCacheProvider(100));
  List styleSheet=cajaCssParser.parse(CSS);
  List styleSheet2=cajaCssParser.parse(CSS);
  assertFalse(styleSheet.equals(styleSheet2));
  assertEquals(cajaCssParser.serialize(styleSheet),cajaCssParser.serialize(styleSheet2));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.preload.ConcurrentPreloadsTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getData() throws Exception {
  ConcurrentPreloads preloads=new ConcurrentPreloads();
  preloads.add(TestFuture.returnsNormal("foo"));
  preloads.add(TestFuture.returnsNormal("bar"));
  assertEquals(2,preloads.size());
  Iterator<PreloadedData> iterator=preloads.iterator();
  assertEquals(TestFuture.expectedResult("foo"),iterator.next().toJson());
  assertEquals(TestFuture.expectedResult("bar"),iterator.next().toJson());
  assertFalse(iterator.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.preload.HttpPreloaderTest </h4><pre class="type-9 type-5 type-6 type-1 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void ignoreCachePreloads() throws Exception {
  String xml="<Module><ModulePrefs title=''>" + " <Preload href='" + PRELOAD_HREF + "' authz='signed' sign_viewer='false'/>"+ "</ModulePrefs><Content/></Module>";
  GadgetSpec spec=new GadgetSpec(GADGET_URL,xml);
  Preloader preloader=new HttpPreloader(requestPipeline);
  ignoreCache=true;
  Gadget gadget=new Gadget().setContext(context).setSpec(spec).setCurrentView(spec.getView(GadgetSpec.DEFAULT_VIEW));
  Collection<Callable<PreloadedData>> preloaded=preloader.createPreloadTasks(gadget);
  assertEquals(1,preloaded.size());
  preloaded.iterator().next().call();
  HttpRequest request=oauthFetcher.requests.get(0);
  assertTrue("request should ignore cache",request.getIgnoreCache());
  checkRequest(request);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void normalPreloads() throws Exception {
  String xml="<Module><ModulePrefs title=''>" + " <Preload href='" + PRELOAD_HREF + "'/>"+ "</ModulePrefs><Content/></Module>";
  GadgetSpec spec=new GadgetSpec(GADGET_URL,xml);
  Preloader preloader=new HttpPreloader(requestPipeline);
  Gadget gadget=new Gadget().setContext(context).setSpec(spec).setCurrentView(spec.getView(GadgetSpec.DEFAULT_VIEW));
  Collection<Callable<PreloadedData>> preloaded=preloader.createPreloadTasks(gadget);
  assertEquals(1,preloaded.size());
  PreloadedData data=preloaded.iterator().next().call();
  checkRequest(plainFetcher.requests.get(0));
  assertFalse("request should not ignore cache",plainFetcher.requests.get(0).getIgnoreCache());
  checkResults(data.toJson().iterator().next());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void signedPreloads() throws Exception {
  String xml="<Module><ModulePrefs title=''>" + " <Preload href='" + PRELOAD_HREF + "' authz='signed' sign_viewer='false'/>"+ "</ModulePrefs><Content/></Module>";
  GadgetSpec spec=new GadgetSpec(GADGET_URL,xml);
  Preloader preloader=new HttpPreloader(requestPipeline);
  Gadget gadget=new Gadget().setContext(context).setSpec(spec).setCurrentView(spec.getView(GadgetSpec.DEFAULT_VIEW));
  Collection<Callable<PreloadedData>> preloaded=preloader.createPreloadTasks(gadget);
  assertEquals(1,preloaded.size());
  PreloadedData data=preloaded.iterator().next().call();
  HttpRequest request=oauthFetcher.requests.get(0);
  checkRequest(request);
  assertTrue(request.getOAuthArguments().getSignOwner());
  assertFalse(request.getOAuthArguments().getSignViewer());
  checkResults(data.toJson().iterator().next());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.preload.PipelineExecutorTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void executeWithTwoBatches() throws Exception {
  PipelinedData pipeline=getPipelinedData(TWO_BATCH_CONTENT);
  context=new GadgetContext(){
    @Override public String getParameter(    String property){
      if ("view-params".equals(property)) {
        return "{'file': 'test.json'}";
      }
      return null;
    }
  }
;
  Capture<PipelinedData.Batch> firstBatch=new Capture<PipelinedData.Batch>();
  Callable<PreloadedData> firstTask=createPreloadTask("json","{result: {user: 'canonical'}}");
  Capture<PipelinedData.Batch> secondBatch=new Capture<PipelinedData.Batch>();
  Callable<PreloadedData> secondTask=createPreloadTask("me","{result: {'id':'canonical'}}");
  expect(preloader.createPreloadTasks(same(context),and(eqBatch(0,1),capture(firstBatch)))).andReturn(ImmutableList.of(firstTask));
  expect(preloader.createPreloadTasks(same(context),and(eqBatch(1,0),capture(secondBatch)))).andReturn(ImmutableList.of(secondTask));
  control.replay();
  PipelineExecutor.Results results=executor.execute(context,ImmutableList.of(pipeline));
  JsonAssert.assertJsonEquals("[{id: 'json', result: {user: 'canonical'}}," + "{id: 'me', result: {id: 'canonical'}}]",JsonSerializer.serialize(results.results));
  assertEquals(ImmutableSet.of("json","me"),results.keyedResults.keySet());
  assertTrue(results.remainingPipelines.isEmpty());
  control.verify();
  RequestAuthenticationInfo request=(RequestAuthenticationInfo)firstBatch.getValue().getPreloads().get("json").getData();
  assertEquals("http://example.org/test.json",request.getHref().toString());
  JSONObject personRequest=(JSONObject)secondBatch.getValue().getPreloads().get("me").getData();
  assertEquals("canonical",personRequest.getJSONObject("params").getJSONArray("userId").get(0));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void executePreloadException() throws Exception {
  PipelinedData pipeline=getPipelinedData(CONTENT);
  final PreloadedData willThrow=control.createMock(PreloadedData.class);
  Callable<PreloadedData> callable=new Callable<PreloadedData>(){
    public PreloadedData call() throws Exception {
      return willThrow;
    }
  }
;
  expect(preloader.createPreloadTasks(same(context),isA(PipelinedData.Batch.class))).andReturn(ImmutableList.of(callable));
  expect(willThrow.toJson()).andThrow(new PreloadException("Failed"));
  control.replay();
  PipelineExecutor.Results results=executor.execute(context,ImmutableList.of(pipeline));
  assertEquals(0,results.results.size());
  assertTrue(results.keyedResults.isEmpty());
  assertTrue(results.remainingPipelines.isEmpty());
  control.verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void executeWithBlockedBatch() throws Exception {
  PipelinedData pipeline=getPipelinedData(BLOCKED_FIRST_BATCH_CONTENT);
  expect(preloader.createPreloadTasks(same(context),eqBatch(0,0))).andReturn(ImmutableList.<Callable<PreloadedData>>of());
  control.replay();
  PipelineExecutor.Results results=executor.execute(context,ImmutableList.of(pipeline));
  assertEquals(0,results.results.size());
  assertTrue(results.keyedResults.isEmpty());
  assertEquals(1,results.remainingPipelines.size());
  assertSame(pipeline,results.remainingPipelines.iterator().next());
  control.verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void execute() throws Exception {
  PipelinedData pipeline=getPipelinedData(CONTENT);
  Capture<PipelinedData.Batch> batchCapture=new Capture<PipelinedData.Batch>();
  JSONObject expectedData=new JSONObject("{result: {foo: 'bar'}}");
  Callable<PreloadedData> callable=createPreloadTask("key",expectedData.toString());
  expect(preloader.createPreloadTasks(same(context),and(eqBatch(1,1),capture(batchCapture)))).andReturn(ImmutableList.of(callable));
  control.replay();
  PipelineExecutor.Results results=executor.execute(context,ImmutableList.of(pipeline));
  assertTrue(batchCapture.getValue().getPreloads().containsKey("me"));
  assertTrue(batchCapture.getValue().getPreloads().containsKey("json"));
  JsonAssert.assertJsonEquals("[{id: 'key', result: {foo: 'bar'}}]",JsonSerializer.serialize(results.results));
  JsonAssert.assertJsonEquals("{foo: 'bar'}",JsonSerializer.serialize(results.keyedResults.get("key")));
  assertTrue(results.remainingPipelines.isEmpty());
  control.verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void executeError() throws Exception {
  PipelinedData pipeline=getPipelinedData(CONTENT);
  Capture<PipelinedData.Batch> batchCapture=new Capture<PipelinedData.Batch>();
  JSONObject expectedData=new JSONObject("{error: {message: 'NO!', code: 500}}");
  Callable<PreloadedData> callable=createPreloadTask("key",expectedData.toString());
  expect(preloader.createPreloadTasks(same(context),and(eqBatch(1,1),capture(batchCapture)))).andReturn(ImmutableList.of(callable));
  control.replay();
  PipelineExecutor.Results results=executor.execute(context,ImmutableList.of(pipeline));
  assertTrue(batchCapture.getValue().getPreloads().containsKey("me"));
  assertTrue(batchCapture.getValue().getPreloads().containsKey("json"));
  JsonAssert.assertJsonEquals("[{id: 'key', error: {message: 'NO!', code: 500}}]",JsonSerializer.serialize(results.results));
  JsonAssert.assertJsonEquals("{message: 'NO!', code: 500}",JsonSerializer.serialize(results.keyedResults.get("key")));
  assertTrue(results.remainingPipelines.isEmpty());
  control.verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.preload.PipelinedDataPreloaderTest </h4><pre class="type-9 type-5 type-6 type-1 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSocialPreload() throws Exception {
  GadgetSpec spec=new GadgetSpec(GADGET_URL,XML);
  String socialResult="[{id:'p', result:1}, {id:'a', result:2}]";
  RecordingRequestPipeline pipeline=new RecordingRequestPipeline(socialResult);
  PipelinedDataPreloader preloader=new PipelinedDataPreloader(pipeline,containerConfig);
  view="profile";
  contextParams.put("st","token");
  Gadget gadget=new Gadget().setContext(context).setSpec(spec).setCurrentView(spec.getView("profile"));
  PipelinedData.Batch batch=getBatch(gadget);
  Collection<Callable<PreloadedData>> tasks=preloader.createPreloadTasks(context,batch);
  assertEquals(1,tasks.size());
  assertEquals(0,pipeline.requests.size());
  Collection result=tasks.iterator().next().call().toJson();
  assertEquals(2,result.size());
  JSONObject resultWithKeyP=new JSONObject("{id: 'p', result: 1}");
  JSONObject resultWithKeyA=new JSONObject("{id: 'a', result: 2}");
  Map<String,String> resultsById=getResultsById(result);
  JsonAssert.assertJsonEquals(resultWithKeyA.toString(),resultsById.get("a"));
  JsonAssert.assertJsonEquals(resultWithKeyP.toString(),resultsById.get("p"));
  assertEquals(1,pipeline.requests.size());
  HttpRequest request=pipeline.requests.get(0);
  assertEquals("http://" + context.getHost() + "/social/rpc?st=token",request.getUri().toString());
  assertEquals("POST",request.getMethod());
  assertTrue(request.getContentType().startsWith("application/json"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHttpPreloadWithBadJson() throws Exception {
  HttpResponse response=new HttpResponseBuilder().setResponseString("notjson").addHeader("content-type","text/html").create();
  JSONObject result=new JSONObject(executeHttpPreload(response,XML_WITH_HTTP_REQUEST));
  assertFalse(result.has("result"));
  JSONObject error=result.getJSONObject("error");
  assertEquals(HttpResponse.SC_NOT_ACCEPTABLE,error.getInt("code"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.process.ProcessorTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void substitutionsPerformedTypeUrl() throws Exception {
  expect(gadgetAdminStore.isWhitelisted(isA(String.class),isA(String.class))).andReturn(true);
  replay();
  processor.process(makeContext("url"));
  assertTrue("Substitutions not performed",substituter.wasSubstituted);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void substitutionsPerformedTypeHtml() throws Exception {
  expect(gadgetAdminStore.isWhitelisted(isA(String.class),isA(String.class))).andReturn(true);
  replay();
  processor.process(makeContext("html"));
  assertTrue("Substitutions not performed",substituter.wasSubstituted);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.render.CajaResponseRewriterTest </h4><pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testJsWithoutCaja() throws Exception {
  Gadget gadget=mockGadget();
  control.replay();
  HttpRequest req=new HttpRequest(CONTENT_URI);
  req.setRewriteMimeType("text/javascript");
  req.setCajaRequested(false);
  HttpResponse response=new HttpResponseBuilder().setResponseString("var a;").create();
  String sanitized="var a;";
  assertTrue(rewrite(req,response).contains(sanitized));
  assertTrue(rewrite(req,response,gadget).contains(sanitized));
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testJs() throws Exception {
  Gadget gadget=mockGadget();
  control.replay();
  HttpRequest req=new HttpRequest(CONTENT_URI);
  req.setRewriteMimeType("text/javascript");
  req.setCajaRequested(true);
  HttpResponse response=new HttpResponseBuilder().setResponseString("var a;").create();
  String sanitized="___.di(IMPORTS___,'a');";
  assertTrue(rewrite(req,response).contains(sanitized));
  assertTrue(rewrite(req,response,gadget).contains(sanitized));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.render.DefaultRpcServiceLookupTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetServicesForContainer_OneContainerOneService() throws Exception {
  ImmutableSet<String> expectedServiceMethods=ImmutableSet.of("system.listMethods");
  LinkedHashMultimap<String,String> expectedServices=LinkedHashMultimap.create();
  expectedServices.putAll(socialEndpoint,expectedServiceMethods);
  String container="ig";
  svcLookup.setServicesFor(container,expectedServices);
  Multimap<String,String> actualServices=svcLookup.getServicesFor(container,host);
  assertEquals(1,actualServices.size());
  assertTrue(actualServices.containsKey(socialEndpoint));
  Set<String> actualServiceMethods=(Set<String>)actualServices.get(socialEndpoint);
  assertEquals(expectedServiceMethods,actualServiceMethods);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.render.DefaultServiceFetcherTest </h4><pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReadConfigRequestMarkedInternal() throws Exception {
  JSONObject config=createConfig();
  config.getJSONObject("default").getJSONObject(DefaultServiceFetcher.GADGETS_FEATURES_CONFIG).getJSONObject(DefaultServiceFetcher.OSAPI_FEATURE_CONFIG).put(DefaultServiceFetcher.OSAPI_BASE_ENDPOINTS,new JSONArray(ImmutableList.of(endPoint1)));
  JsonContainerConfig containerConfig=new JsonContainerConfig(config,Expressions.forTesting(new Functions()));
  CapturingHttpFetcher httpFetcher=new CapturingHttpFetcher();
  fetcher=new DefaultServiceFetcher(containerConfig,httpFetcher);
  fetcher.setSecurityTokenCodec(new BasicSecurityTokenCodec());
  Multimap<String,String> services=fetcher.getServicesForContainer("default","dontcare");
  assertEquals(configuredServices,services);
  assertNotNull(httpFetcher.request);
  assertTrue(httpFetcher.request.isInternalRequest());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.render.HtmlRendererTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void doPreloading() throws Exception {
  renderer.render(makeGadget(BASIC_HTML_CONTENT));
  assertTrue("Preloading not performed.",preloaderService.wasPreloaded);
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void doRewriting() throws Exception {
  renderer.render(makeGadget(BASIC_HTML_CONTENT));
  assertTrue("Rewriting not performed.",captureRewriter.viewWasRewritten());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.render.ProxyRendererTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void renderProxiedWithPreload() throws Exception {
  List<JSONObject> prefetchedJson=ImmutableList.of(new JSONObject("{id: 'foo', data: 'bar'}"));
  pipelineExecutor.results=new PipelineExecutor.Results(null,prefetchedJson,null);
  pipeline.plainResponses.put(EXPECTED_PROXIED_HTML_HREF,new HttpResponse(PROXIED_HTML_CONTENT));
  String content=proxyRenderer.render(makeHrefGadget("none"));
  assertEquals(PROXIED_HTML_CONTENT,content);
  HttpRequest lastHttpRequest=pipeline.getLastHttpRequest();
  assertEquals("POST",lastHttpRequest.getMethod());
  assertEquals("application/json;charset=utf-8",lastHttpRequest.getHeader("Content-Type"));
  String postBody=lastHttpRequest.getPostBodyAsString();
  JsonAssert.assertJsonEquals(JsonSerializer.serialize(prefetchedJson),postBody);
  assertTrue(pipelineExecutor.wasPreloaded);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.render.RendererTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void verifyLockedDomain() throws Exception {
  renderer.render(makeContext("html"));
  assertTrue("Locked domain not verified",lockedDomainService.wasChecked);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.render.RenderingGadgetRewriterTest </h4><pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void bidiSettings() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Locale language_direction='rtl'/>" + "</ModulePrefs>"+ "<Content type='html'/>"+ "</Module>";
  Gadget gadget=makeGadgetWithSpec(gadgetXml);
  String rewritten=rewrite(gadget,"");
  assertTrue("Bi-directional locale settings not preserved.",rewritten.contains("<body dir=\"rtl\">"));
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void defaultOutput() throws Exception {
  Gadget gadget=makeDefaultGadget();
  String rewritten=rewrite(gadget,BODY_CONTENT);
  Matcher matcher=DOCUMENT_SPLIT_PATTERN.matcher(rewritten);
  assertTrue("Output is not valid HTML.",matcher.matches());
  assertTrue("Missing opening html tag",matcher.group(BEFORE_HEAD_GROUP).toLowerCase().contains("<html"));
  assertTrue("Default CSS missing.",matcher.group(HEAD_GROUP).contains(DEFAULT_CSS));
  assertTrue("Default javascript not included.",matcher.group(HEAD_GROUP).contains("<script>"));
  assertTrue("Original document not preserved.",matcher.group(BODY_GROUP).contains(BODY_CONTENT));
  assertTrue("gadgets.util.runOnLoadHandlers not invoked.",matcher.group(BODY_GROUP).contains("gadgets.util.runOnLoadHandlers();"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void gadgetAdminDefaultContent() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Require feature='foo'/>" + "</ModulePrefs>"+ "<Content type='html'/>"+ "</Module>";
  final Set<String> libs=ImmutableSortedSet.of("foo","bar","baz");
  GadgetContext context=new GadgetContext(){
    @Override public String getParameter(    String name){
      if (name.equals("libs")) {
        return Joiner.on(':').join(libs);
      }
      return null;
    }
  }
;
  Gadget gadget=makeGadgetWithSpec(gadgetXml).setContext(context);
  FeatureResource fooResource=inline("foo-content","foo-debug");
  expectFeatureCalls(gadget,ImmutableList.of(fooResource),libs,ImmutableList.of(fooResource,inline("bar-c","bar-d"),inline("baz-c","baz-d")));
  String rewritten=rewrite(gadget,BODY_CONTENT);
  Matcher matcher=DOCUMENT_SPLIT_PATTERN.matcher(rewritten);
  assertTrue("Output is not valid HTML.",matcher.matches());
  assertTrue("Missing opening html tag",matcher.group(BEFORE_HEAD_GROUP).toLowerCase().contains("<html"));
  assertTrue("Default CSS missing.",matcher.group(HEAD_GROUP).contains(DEFAULT_CSS));
  assertTrue("Default javascript not included.",matcher.group(HEAD_GROUP).contains("<script>"));
  assertTrue("Original document not preserved.",matcher.group(BODY_GROUP).contains(BODY_CONTENT));
  assertTrue("gadgets.util.runOnLoadHandlers not invoked.",matcher.group(BODY_GROUP).contains("gadgets.util.runOnLoadHandlers();"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void optionalDeniedFeature() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Require feature='core.util'/>" + "  <Require feature='foo'/>"+ "  <Optional feature='hello'/>"+ "</ModulePrefs>"+ "<Content type='html'/>"+ "</Module>";
  final Set<String> libs=ImmutableSortedSet.of("core.util","foo","bar","baz");
  GadgetContext context=new GadgetContext(){
    @Override public String getParameter(    String name){
      if (name.equals("libs")) {
        return Joiner.on(':').join(libs);
      }
      return null;
    }
  }
;
  Gadget gadget=makeGadgetWithSpec(gadgetXml).setContext(context);
  reset(gadgetAdminStore);
  Feature denied=mock(Feature.class);
  expect(denied.getName()).andReturn("hello");
  expect(gadgetAdminStore.checkFeatureAdminInfo(isA(Gadget.class))).andReturn(true);
  expect(gadgetAdminStore.isAllowedFeature(eq(denied),isA(Gadget.class))).andReturn(false);
  replay();
  FeatureResource fooResource=inline("foo-content","foo-debug");
  expectFeatureCalls(gadget,ImmutableList.of(fooResource),libs,ImmutableList.of(fooResource,inline("bar-c","bar-d"),inline("baz-c","baz-d")));
  String rewritten=rewrite(gadget,"");
  JSONObject json=getConfigJson(rewritten);
  Set<String> actual=getInjectedScript(rewritten);
  Set<String> expected=ImmutableSortedSet.of("core.util","foo","bar","baz");
  assertFalse(actual.contains("hello"));
  assertEquals(expected,actual);
  assertFalse(json.getJSONObject("core.util").has("hello"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void gadgetsUtilConfigInjected() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Require feature='core.util'/>" + "  <Require feature='foo'>"+ "    <Param name='bar'>baz</Param>"+ "  </Require>"+ "  <Require feature='foo2'>"+ "    <Param name='bar'>baz</Param>"+ "    <Param name='bar'>bop</Param>"+ "  </Require>"+ "  <Require feature='unsupported'/>"+ "</ModulePrefs>"+ "<Content type='html'/>"+ "</Module>";
  Gadget gadget=makeGadgetWithSpec(gadgetXml);
  expectFeatureCalls(gadget,ImmutableList.of(inline("foo","foo-dbg"),inline("foo2","foo2-dbg")),ImmutableSet.<String>of(),ImmutableList.<FeatureResource>of());
  config.data.put(FEATURES_KEY,ImmutableMap.of("foo","blah"));
  String rewritten=rewrite(gadget,"");
  JSONObject json=getConfigJson(rewritten);
  assertEquals("blah",json.get("foo"));
  JSONObject util=json.getJSONObject("core.util");
  JSONObject foo=util.getJSONObject("foo");
  assertEquals("baz",foo.get("bar"));
  JSONObject foo2=util.getJSONObject("foo2");
  JsonAssert.assertObjectEquals(ImmutableList.of("baz","bop"),foo2.get("bar"));
  assertTrue(!util.has("unsupported"));
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void overrideDefaultDoctype() throws Exception {
  Gadget gadget=makeDefaultOpenSocial2Gadget(false);
  String body="hello, world.";
  String doc=new StringBuilder().append("<html><head>").append("</head><body>").append(body).append("</body></html>").toString();
  rewriter.setDefaultDoctypeQName(CUSTOM_DOCTYPE_QNAME);
  rewriter.setDefaultDoctypePubId(CUSTOM_DOCTYPE_PUBID);
  rewriter.setDefaultDoctypeSysId(CUSTOM_DOCTYPE_SYSID);
  String rewritten=rewrite(gadget,doc);
  Matcher matcher=DOCUMENT_SPLIT_PATTERN.matcher(rewritten);
  assertTrue("Output is not valid HTML.",matcher.matches());
  assertTrue("DOCTYPE not preserved",matcher.group(BEFORE_HEAD_GROUP).contains(CUSTOM_DOCTYPE));
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void inlinedFeaturesWhenNothingForced() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Require feature='foo'/>" + "</ModulePrefs>"+ "<Content type='html'/>"+ "</Module>";
  Gadget gadget=makeGadgetWithSpec(gadgetXml);
  expectFeatureCalls(gadget,ImmutableList.of(inline("foo_content();","foo_content_debug();")),ImmutableSet.<String>of(),ImmutableList.<FeatureResource>of());
  String rewritten=rewrite(gadget,"");
  assertTrue("Requested scripts not inlined.",rewritten.contains("foo_content();"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void urlFeaturesForcedExternal() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Require feature='foo'/>" + "  <Require feature='bar'/>"+ "</ModulePrefs>"+ "<Content type='html'/>"+ "</Module>";
  GadgetContext context=new GadgetContext(){
    @Override public String getParameter(    String name){
      if (name.equals("libs")) {
        return "baz";
      }
      return null;
    }
  }
;
  Gadget gadget=makeGadgetWithSpec(gadgetXml).setContext(context);
  expectFeatureCalls(gadget,ImmutableList.of(inline("foo_content();","foo_content_debug();"),extern("http://example.org/external.js","dbg")),ImmutableSet.of("baz"),ImmutableList.of(inline("does-not-matter","dbg")));
  String rewritten=rewrite(gadget,"");
  Set<String> actual=getInjectedScript(rewritten);
  Set<String> expected=ImmutableSortedSet.of("baz");
  assertEquals(expected,actual);
  assertTrue("Requested scripts not inlined.",rewritten.contains("foo_content();"));
  assertTrue("Forced external file not forced.",rewritten.contains("<script src=\"http://example.org/external.js\">"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void xhrWrapperConfigurationNotInjectedIfUnnecessary() throws Exception {
  String gadgetXml="<Module><ModulePrefs title='' />" + "<Content type='html' href='http://foo.com/bar/baz.html' />" + "</Module>";
  Gadget gadget=makeGadgetWithSpec(gadgetXml);
  gadget.setCurrentView(gadget.getSpec().getView("default"));
  String rewritten=rewrite(gadget,BODY_CONTENT);
  boolean containsConfig=rewritten.contains("\"shindig.xhrwrapper\"");
  assertFalse("shindig.xhrwrapper configuration present in rewritten HTML.",containsConfig);
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void createSpecifiedTitleElement() throws Exception {
  Gadget gadget=makeDefaultOpenSocial2GadgetWithTitle(false,"Here is title");
  String body="hello, world.";
  String doc=new StringBuilder().append("<html><head>").append("</head><body>").append(body).append("</body></html>").toString();
  String rewritten=rewrite(gadget,doc);
  assertTrue(rewritten.contains("<title>Here is title</title>"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void completeDocument() throws Exception {
  String docType="<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">";
  String head="<script src=\"foo.js\"></script><style type=\"text/css\">body{color:red;}</style>";
  String bodyAttr=" onload=\"foo();\"";
  String body="hello, world.";
  String doc=new StringBuilder().append(docType).append("<html><head>").append(head).append("</head><body").append(bodyAttr).append('>').append(body).append("</body></html>").toString();
  GadgetContext context=new GadgetContext(){
    @Override public String getParameter(    String name){
      if (name.equals("libs")) {
        return "foo";
      }
      return null;
    }
  }
;
  Gadget gadget=makeDefaultGadget().setContext(context);
  expectFeatureCalls(gadget,ImmutableList.<FeatureResource>of(),ImmutableSet.of("foo"),ImmutableList.of(inline("blah","n/a")));
  String rewritten=rewrite(gadget,doc);
  Matcher matcher=DOCUMENT_SPLIT_PATTERN.matcher(rewritten);
  assertTrue("Output is not valid HTML.",matcher.matches());
  assertTrue("DOCTYPE not preserved",matcher.group(BEFORE_HEAD_GROUP).contains(docType));
  assertTrue("Missing opening html tag",matcher.group(BEFORE_HEAD_GROUP).contains("<html"));
  assertTrue("IsGadget beacon not included.",matcher.group(HEAD_GROUP).contains("<script>" + IS_GADGET_BEACON + "</script>"));
  assertTrue("Forced javascript not included.",matcher.group(HEAD_GROUP).contains("<script src=\"/js/foo?jsload=0\">"));
  assertFalse("Default styling was injected when a doctype was specified.",matcher.group(HEAD_GROUP).contains(DEFAULT_CSS));
  assertTrue("Custom body attributes missing.",matcher.group(BODY_ATTRIBUTES_GROUP).contains(bodyAttr));
  assertTrue("Original document not preserved.",matcher.group(BODY_GROUP).contains(body));
  assertTrue("gadgets.util.runOnLoadHandlers not invoked.",matcher.group(BODY_GROUP).contains("gadgets.util.runOnLoadHandlers();"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void featuresInjectedWhenAdded() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "</ModulePrefs>" + "<Content type='html'/>"+ "</Module>";
  Gadget gadget=makeGadgetWithSpec(gadgetXml);
  gadget.addFeature("foo");
  gadget.addFeature("do-not-exists");
  expectFeatureCalls(gadget,ImmutableList.of(inline("foo_content();","foo_content_dbg();")),ImmutableSet.<String>of(),ImmutableList.<FeatureResource>of());
  String rewritten=rewrite(gadget,"");
  assertTrue("Added script not inlined.",rewritten.contains("foo_content();"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void mixedExternalAndInline() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Require feature='foo'/>" + "</ModulePrefs>"+ "<Content type='html'/>"+ "</Module>";
  final Set<String> libs=ImmutableSet.of("bar","baz");
  GadgetContext context=new GadgetContext(){
    @Override public String getParameter(    String name){
      if (name.equals("libs")) {
        return Joiner.on(':').join(libs);
      }
      return null;
    }
  }
;
  Gadget gadget=makeGadgetWithSpec(gadgetXml).setContext(context);
  expectFeatureCalls(gadget,ImmutableList.of(inline("foo_content();","foo_content_debug();")),libs,ImmutableList.of(inline("bar-c","bar-d"),inline("baz-c","baz-d")));
  String rewritten=rewrite(gadget,"");
  Set<String> actual=getInjectedScript(rewritten);
  Set<String> expected=ImmutableSortedSet.of("bar","baz");
  assertEquals(expected,actual);
  assertTrue("Requested scripts not inlined.",rewritten.contains("foo_content();"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=RewritingException.class) public void unsupportedFeatureThrows() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Require feature='foo'/>" + "</ModulePrefs>"+ "<Content type='html'/>"+ "</Module>";
  Gadget gadget=makeGadgetWithSpec(gadgetXml);
  reset(featureRegistry);
  FeatureRegistry.LookupResult lr=createMock(FeatureRegistry.LookupResult.class);
  expect(lr.getResources()).andReturn(ImmutableList.<FeatureResource>of());
  replay(lr);
  expect(featureRegistry.getFeatureResources(same(gadget.getContext()),eq(ImmutableSet.<String>of()),eq(Lists.<String>newLinkedList()))).andReturn(lr);
  final FeatureRegistry.LookupResult lr2=createMock(FeatureRegistry.LookupResult.class);
  expect(lr2.getResources()).andReturn(ImmutableList.<FeatureResource>of());
  replay(lr2);
  assertTrue(gadget.getDirectFeatureDeps().contains("core"));
  assertTrue(gadget.getDirectFeatureDeps().contains("foo"));
  assertEquals(gadget.getDirectFeatureDeps().size(),2);
  expect(featureRegistry.getFeatureResources(same(gadget.getContext()),eq(Lists.newLinkedList(gadget.getDirectFeatureDeps())),eq(Lists.<String>newLinkedList()))).andAnswer(new IAnswer<FeatureRegistry.LookupResult>(){
    @SuppressWarnings("unchecked") public FeatureRegistry.LookupResult answer() throws Throwable {
      List<String> unsupported=(List<String>)getCurrentArguments()[2];
      unsupported.add("foo");
      return lr2;
    }
  }
);
  replay(featureRegistry);
  rewrite(gadget,"");
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void featuresInjectedBeforeExistingScript() throws Exception {
  Gadget gadget=makeDefaultGadget();
  String rewritten=rewrite(gadget,"<html><head><script src=\"foo.js\"></script></head><body>hello</body></html>");
  Matcher matcher=DOCUMENT_SPLIT_PATTERN.matcher(rewritten);
  assertTrue("Output is not valid HTML.",matcher.matches());
  String headContent=matcher.group(HEAD_GROUP);
  int userPosition=headContent.indexOf("<script src=\"foo.js\"></script>");
  int ourPosition=headContent.indexOf("<script>");
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void featuresDeclaredBeforeUsed() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Require feature='foo'/>" + "</ModulePrefs>"+ "<Content type='html'/>"+ "</Module>";
  Gadget gadget=makeGadgetWithSpec(gadgetXml);
  expectFeatureCalls(gadget,ImmutableList.of(inline("foo_content();","foo_content_debug();")),ImmutableSet.<String>of(),ImmutableList.<FeatureResource>of());
  String rewritten=rewrite(gadget,BODY_CONTENT);
  Matcher matcher=DOCUMENT_SPLIT_PATTERN.matcher(rewritten);
  assertTrue("Output is not valid HTML.",matcher.matches());
  String headContent=matcher.group(HEAD_GROUP);
  int declaredPosition=headContent.indexOf("foo_content();");
  assertTrue(declaredPosition >= 0);
  int usedPosition=headContent.indexOf("gadgets.Prefs.setMessages_");
  assertTrue(usedPosition >= 0);
  assertTrue("Inline JS needs to exist before it is used.",declaredPosition < usedPosition);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void featuresNotInjectedWhenRemoved() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Require feature='foo'/>" + "</ModulePrefs>"+ "<Content type='html'/>"+ "</Module>";
  Gadget gadget=makeGadgetWithSpec(gadgetXml);
  gadget.removeFeature("foo");
  expectFeatureCalls(gadget,ImmutableList.<FeatureResource>of(),ImmutableSet.<String>of(),ImmutableList.<FeatureResource>of());
  String rewritten=rewrite(gadget,"");
  assertFalse("Removed script still inlined.",rewritten.contains("foo_content();"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void completeDocumentOpenSocial2() throws Exception {
  String head="<script src=\"foo.js\"></script><style type=\"text/css\">body{color:red;}</style>";
  String bodyAttr=" onload=\"foo();\"";
  String body="hello, world.";
  String doc=new StringBuilder().append("<html><head>").append(head).append("</head><body").append(bodyAttr).append('>').append(body).append("</body></html>").toString();
  GadgetContext context=new GadgetContext(){
    @Override public String getParameter(    String name){
      if (name.equals("libs")) {
        return "foo";
      }
      return null;
    }
  }
;
  Gadget gadget=makeDefaultOpenSocial2Gadget(false).setContext(context);
  expectFeatureCalls(gadget,ImmutableList.<FeatureResource>of(),ImmutableSet.of("foo"),ImmutableList.of(inline("blah","n/a")));
  String rewritten=rewrite(gadget,doc);
  Matcher matcher=DOCUMENT_SPLIT_PATTERN.matcher(rewritten);
  assertTrue("Output is not valid HTML.",matcher.matches());
  assertTrue("Doctype should have been rewritten to HTML5",matcher.group(BEFORE_HEAD_GROUP).contains("<!DOCTYPE html>"));
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void quirksmodeInOS2() throws Exception {
  Gadget gadget=makeDefaultOpenSocial2Gadget(true);
  String body="hello, world.";
  String doc=new StringBuilder().append("<html><head>").append("</head><body>").append(body).append("</body></html>").toString();
  String rewritten=rewrite(gadget,doc);
  Matcher matcher=DOCUMENT_SPLIT_PATTERN.matcher(rewritten);
  assertTrue("Output is not valid HTML.",matcher.matches());
  assertTrue("Should not include doctype, this will default to quirksmode (old Shindig behavior)",!matcher.group(BEFORE_HEAD_GROUP).contains("<!DOCTYPE"));
  gadget=makeDefaultOpenSocial2Gadget(true);
  String docType="<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">";
  doc=new StringBuilder().append(docType).append("<html><head>").append("</head><body>").append(body).append("</body></html>").toString();
  rewritten=rewrite(gadget,doc);
  matcher=DOCUMENT_SPLIT_PATTERN.matcher(rewritten);
  assertTrue("Output is not valid HTML.",matcher.matches());
  assertTrue("Should include doctype, when in quirksmode we should use pre OS2.0 Shindig behavior.",matcher.group(BEFORE_HEAD_GROUP).contains(docType));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void userPrefsInitializationInjected() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Locale>" + "    <msg name='one'>foo</msg>"+ "    <msg name='two'>bar</msg>"+ "  </Locale>"+ "</ModulePrefs>"+ "<UserPref name='pref_one' default_value='default_one'/>"+ "<UserPref name='pref_two'/>"+ "<Content type='html'/>"+ "</Module>";
  Gadget gadget=makeGadgetWithSpec(gadgetXml);
  String rewritten=rewrite(gadget,"");
  Pattern prefsPattern=Pattern.compile("(?:.*)gadgets\\.Prefs\\.setMessages_\\((.*)\\);(?:.*)",Pattern.DOTALL);
  Matcher matcher=prefsPattern.matcher(rewritten);
  assertTrue("gadgets.Prefs.setMessages_ not invoked.",matcher.matches());
  JSONObject json=new JSONObject(matcher.group(1));
  assertEquals("foo",json.get("one"));
  assertEquals("bar",json.get("two"));
  Pattern defaultsPattern=Pattern.compile("(?:.*)gadgets\\.Prefs\\.setDefaultPrefs_\\((.*)\\);(?:.*)",Pattern.DOTALL);
  Matcher defaultsMatcher=defaultsPattern.matcher(rewritten);
  assertTrue("gadgets.Prefs.setDefaultPrefs_ not invoked.",defaultsMatcher.matches());
  JSONObject defaultsJson=new JSONObject(defaultsMatcher.group(1));
  assertEquals(2,defaultsJson.length());
  assertEquals("default_one",defaultsJson.get("pref_one"));
  assertEquals("",defaultsJson.get("pref_two"));
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void createDefaultTitleElement() throws Exception {
  Gadget gadget=makeDefaultOpenSocial2Gadget(false);
  String body="hello, world.";
  String doc=new StringBuilder().append("<html><head>").append("</head><body>").append(body).append("</body></html>").toString();
  String rewritten=rewrite(gadget,doc);
  assertTrue(rewritten.contains("<title>default title</title>"));
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void baseElementNotInsertedWhenConfigDoesNotAllowIt() throws Exception {
  Gadget gadget=makeDefaultGadget();
  config.data.put(INSERT_BASE_ELEMENT_KEY,false);
  String rewritten=rewrite(gadget,BODY_CONTENT);
  assertFalse("Base element injected incorrectly.",rewritten.contains("<base"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=RewritingException.class) public void unsupportedViewFeatureThrows() throws Exception {
  String gadgetXml="<Module><ModulePrefs title=''>" + "  <Require feature='foo' views='default'/>" + "</ModulePrefs>"+ "<Content view='default' type='html'/>"+ "</Module>";
  Gadget gadget=makeGadgetWithSpec(gadgetXml);
  reset(featureRegistry);
  FeatureRegistry.LookupResult lr=createMock(FeatureRegistry.LookupResult.class);
  expect(lr.getResources()).andReturn(ImmutableList.<FeatureResource>of());
  replay(lr);
  expect(featureRegistry.getFeatureResources(same(gadget.getContext()),eq(ImmutableSet.<String>of()),eq(Lists.<String>newLinkedList()))).andReturn(lr);
  final FeatureRegistry.LookupResult lr2=createMock(FeatureRegistry.LookupResult.class);
  expect(lr2.getResources()).andReturn(ImmutableList.<FeatureResource>of());
  replay(lr2);
  assertTrue(gadget.getDirectFeatureDeps().contains("core"));
  assertTrue(gadget.getDirectFeatureDeps().contains("foo"));
  assertEquals(gadget.getDirectFeatureDeps().size(),2);
  Lists.newLinkedList();
  expect(featureRegistry.getFeatureResources(same(gadget.getContext()),eq(Lists.newLinkedList(gadget.getDirectFeatureDeps())),eq(Lists.<String>newLinkedList()))).andAnswer(new IAnswer<FeatureRegistry.LookupResult>(){
    @SuppressWarnings("unchecked") public FeatureRegistry.LookupResult answer() throws Throwable {
      List<String> unsupported=(List<String>)getCurrentArguments()[2];
      unsupported.add("foo");
      return lr2;
    }
  }
);
  replay(featureRegistry);
  rewrite(gadget,"");
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void doesRewriteWhenSanitizeEquals0() throws Exception {
  Gadget gadget=makeDefaultGadget();
  context.params.put("sanitize","0");
  assertFalse("Didn't rewrite when sanitize was '0'.",BODY_CONTENT.equals(rewrite(gadget,BODY_CONTENT)));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.AbsolutePathReferenceVisitorTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void revisitDoesNothing() throws Exception {
  assertFalse(visitorForAllTags().revisit(gadget(),null));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.CacheEnforcementVisitorTest </h4><pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testImgWithCacheControlPrivateReservedAndFetchNotTriggered() throws Exception {
  cache.addResponse(new HttpRequest(Uri.parse(IMG_URL)),new HttpResponseBuilder().setResponseString("test").addHeader("Cache-Control","private").create());
  assertTrue(cache.getResponse(new HttpRequest(Uri.parse(IMG_URL))) != null);
  checkVisitBypassedAndFetchTriggered("img",IMG_URL,false,false);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.ConcatVisitorTest </h4><pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatMultiBatchCss() throws Exception {
  List<Node> fullListCss=Lists.newArrayList();
  fullListCss.addAll(seqNodes(css1,css2));
  Node parent1=css1.getParentNode();
  assertEquals(2,parent1.getChildNodes().getLength());
  fullListCss.addAll(seqNodes(css3,css4,css5,css7,css6,css8,css9));
  Node parent2=css3.getParentNode();
  assertEquals(7,css3.getParentNode().getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Css rewriter=new ConcatVisitor.Css(config(null,false,false),mgr);
  assertTrue(rewriter.revisit(gadget(),fullListCss));
  assertEquals(1,parent1.getChildNodes().getLength());
  Element cn1=(Element)parent1.getChildNodes().item(0);
  Uri concatUri1=Uri.parse(cn1.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri1.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri1.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri1.getPath());
  assertEquals(CSS1_URL_STR,concatUri1.getQueryParameter("1"));
  assertEquals(CSS2_URL_STR,concatUri1.getQueryParameter("2"));
  assertNull(concatUri1.getQueryParameter("3"));
  assertEquals(2,parent2.getChildNodes().getLength());
  Element cn2=(Element)parent2.getChildNodes().item(0);
  Uri concatUri2=Uri.parse(cn2.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri2.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri2.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri2.getPath());
  assertEquals(CSS3_URL_STR,concatUri2.getQueryParameter("1"));
  assertEquals(CSS4_URL_STR,concatUri2.getQueryParameter("2"));
  assertEquals(CSS7_URL_STR,concatUri2.getQueryParameter("3"));
  assertEquals(CSS8_URL_STR,concatUri2.getQueryParameter("4"));
  assertEquals(CSS9_URL_STR,concatUri2.getQueryParameter("5"));
  assertNull(concatUri2.getQueryParameter("6"));
  assertEquals("",cn2.getAttribute("media"));
  Element cn3=(Element)parent2.getChildNodes().item(1);
  Uri concatUri3=Uri.parse(cn3.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri3.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri3.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri3.getPath());
  assertEquals(CSS5_URL_STR,concatUri3.getQueryParameter("1"));
  assertEquals(CSS6_URL_STR,concatUri3.getQueryParameter("2"));
  assertNull(concatUri3.getQueryParameter("3"));
  assertEquals("print",cn3.getAttribute("media"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatSingleJs() throws Exception {
  List<Node> nodes=seqNodes(js1);
  Node parent=js1.getParentNode();
  assertEquals(1,parent.getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Js rewriter=new ConcatVisitor.Js(config(null,false,true),mgr);
  assertTrue(rewriter.revisit(gadget(),nodes));
  assertEquals(1,parent.getChildNodes().getLength());
  Element concatNode=(Element)parent.getChildNodes().item(0);
  Uri concatUri=Uri.parse(concatNode.getAttribute("src"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri.getPath());
  assertEquals(JS1_URL_STR,concatUri.getQueryParameter("1"));
  assertNull(concatUri.getQueryParameter("2"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatSingleBatchJs() throws Exception {
  List<Node> nodes=seqNodes(js1,js2,js3);
  Node parent=js1.getParentNode();
  assertEquals(3,parent.getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Js rewriter=new ConcatVisitor.Js(config(null,false,false),mgr);
  assertTrue(rewriter.revisit(gadget(),nodes));
  assertEquals(1,parent.getChildNodes().getLength());
  Element concatNode=(Element)parent.getChildNodes().item(0);
  Uri concatUri=Uri.parse(concatNode.getAttribute("src"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri.getPath());
  assertEquals(JS1_URL_STR,concatUri.getQueryParameter("1"));
  assertEquals(JS2_URL_STR,concatUri.getQueryParameter("2"));
  assertEquals(JS3_URL_STR,concatUri.getQueryParameter("3"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatSingleCss() throws Exception {
  List<Node> nodes=seqNodes(css1);
  Node parent=css1.getParentNode();
  assertEquals(1,parent.getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Css rewriter=new ConcatVisitor.Css(config(null,false,true),mgr);
  assertTrue(rewriter.revisit(gadget(),nodes));
  assertEquals(1,parent.getChildNodes().getLength());
  Element concatNode=(Element)parent.getChildNodes().item(0);
  Uri concatUri=Uri.parse(concatNode.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri.getPath());
  assertEquals(CSS1_URL_STR,concatUri.getQueryParameter("1"));
  assertNull(concatUri.getQueryParameter("2"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatSplitJsSingleBatch() throws Exception {
  List<Node> nodes=seqNodes(js1,js2);
  Node parent=js1.getParentNode();
  assertEquals(2,parent.getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Js rewriter=new ConcatVisitor.Js(config(null,true,false),mgr);
  assertTrue(rewriter.revisit(gadget(),nodes));
  assertEquals(3,parent.getChildNodes().getLength());
  Element jsConcat=(Element)parent.getChildNodes().item(0);
  assertEquals("script",jsConcat.getTagName());
  Uri concatUri=Uri.parse(jsConcat.getAttribute("src"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri.getPath());
  assertEquals(JS1_URL_STR,concatUri.getQueryParameter("1"));
  assertEquals(JS2_URL_STR,concatUri.getQueryParameter("2"));
  assertNull(concatUri.getQueryParameter("3"));
  assertEquals("1",concatUri.getQueryParameter("SPLIT"));
  Element splitEval1=(Element)parent.getChildNodes().item(1);
  assertEquals("script",splitEval1.getTagName());
  assertNull(splitEval1.getAttributeNode("src"));
  assertEquals(JS1_URL_STR,splitEval1.getTextContent());
  Element splitEval2=(Element)parent.getChildNodes().item(2);
  assertEquals("script",splitEval2.getTagName());
  assertNull(splitEval2.getAttributeNode("src"));
  assertEquals(JS2_URL_STR,splitEval2.getTextContent());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatMultiBatchCssWithAllMediaTypeAndTitle() throws Exception {
  List<Node> fullListCss=Lists.newArrayList();
  ((Element)css2).setAttribute("title","one");
  ((Element)css3).setAttribute("title","two");
  ((Element)css4).setAttribute("title","two");
  ((Element)css10).setAttribute("title","two");
  fullListCss.addAll(seqNodes(css1,css2,css3,css4,css10,css11,css12,css7,css8,css9));
  Node parent1=css1.getParentNode();
  assertEquals(10,parent1.getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Css rewriter=new ConcatVisitor.Css(config(null,false,false),mgr);
  assertTrue(rewriter.revisit(gadget(),fullListCss));
  Element cn1=(Element)parent1.getChildNodes().item(0);
  Uri concatUri1=Uri.parse(cn1.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri1.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri1.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri1.getPath());
  assertEquals(CSS1_URL_STR,concatUri1.getQueryParameter("1"));
  assertNull(concatUri1.getQueryParameter("2"));
  assertEquals("",cn1.getAttribute("media"));
  Element cn2=(Element)parent1.getChildNodes().item(1);
  Uri concatUri2=Uri.parse(cn2.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri2.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri2.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri2.getPath());
  assertEquals(CSS2_URL_STR,concatUri2.getQueryParameter("1"));
  assertNull(concatUri2.getQueryParameter("2"));
  assertEquals("",cn2.getAttribute("media"));
  assertEquals("one",cn2.getAttribute("title"));
  Element cn3=(Element)parent1.getChildNodes().item(2);
  Uri concatUri3=Uri.parse(cn3.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri3.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri3.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri3.getPath());
  assertEquals(CSS3_URL_STR,concatUri3.getQueryParameter("1"));
  assertEquals(CSS4_URL_STR,concatUri3.getQueryParameter("2"));
  assertNull(concatUri3.getQueryParameter("3"));
  assertEquals("",cn3.getAttribute("media"));
  assertEquals("two",cn3.getAttribute("title"));
  Element cn4=(Element)parent1.getChildNodes().item(3);
  Uri concatUri4=Uri.parse(cn4.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri4.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri4.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri4.getPath());
  assertEquals(CSS10_URL_STR,concatUri4.getQueryParameter("1"));
  assertNull(concatUri4.getQueryParameter("2"));
  assertEquals("all",cn4.getAttribute("media"));
  assertEquals("two",cn4.getAttribute("title"));
  Element cn5=(Element)parent1.getChildNodes().item(4);
  Uri concatUri5=Uri.parse(cn5.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri5.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri5.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri5.getPath());
  assertEquals(CSS11_URL_STR,concatUri5.getQueryParameter("1"));
  assertEquals(CSS12_URL_STR,concatUri5.getQueryParameter("2"));
  assertNull(concatUri5.getQueryParameter("3"));
  assertEquals("all",cn5.getAttribute("media"));
  assertEquals("",cn5.getAttribute("title"));
  Element cn6=(Element)parent1.getChildNodes().item(5);
  Uri concatUri6=Uri.parse(cn6.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri6.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri6.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri6.getPath());
  assertEquals(CSS7_URL_STR,concatUri6.getQueryParameter("1"));
  assertEquals(CSS8_URL_STR,concatUri6.getQueryParameter("2"));
  assertEquals(CSS9_URL_STR,concatUri6.getQueryParameter("3"));
  assertNull(concatUri6.getQueryParameter("4"));
  assertEquals("screen",cn6.getAttribute("media"));
  assertEquals("",cn6.getAttribute("title"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatMultiBatchCssWithSingleResource() throws Exception {
  List<Node> fullListCss=Lists.newArrayList();
  fullListCss.addAll(seqNodes(css1,css2));
  Node parent1=css1.getParentNode();
  assertEquals(2,parent1.getChildNodes().getLength());
  fullListCss.addAll(seqNodes(css3));
  Node parent2=css3.getParentNode();
  assertEquals(1,css3.getParentNode().getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Css rewriter=new ConcatVisitor.Css(config(null,false,true),mgr);
  assertTrue(rewriter.revisit(gadget(),fullListCss));
  assertEquals(1,parent1.getChildNodes().getLength());
  Element cn1=(Element)parent1.getChildNodes().item(0);
  Uri concatUri1=Uri.parse(cn1.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri1.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri1.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri1.getPath());
  assertEquals(CSS1_URL_STR,concatUri1.getQueryParameter("1"));
  assertEquals(CSS2_URL_STR,concatUri1.getQueryParameter("2"));
  assertNull(concatUri1.getQueryParameter("3"));
  assertEquals(1,parent2.getChildNodes().getLength());
  Element cn2=(Element)parent2.getChildNodes().item(0);
  Uri concatUri2=Uri.parse(cn2.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri2.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri2.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri2.getPath());
  assertEquals(CSS3_URL_STR,concatUri2.getQueryParameter("1"));
  assertNull(concatUri2.getQueryParameter("2"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatMultiBatchJs() throws Exception {
  List<Node> fullListJs=Lists.newArrayList();
  fullListJs.addAll(seqNodes(js1,js2));
  Node parent1=js1.getParentNode();
  assertEquals(2,parent1.getChildNodes().getLength());
  fullListJs.addAll(seqNodes(js3,js4));
  Node parent2=js3.getParentNode();
  assertEquals(2,js3.getParentNode().getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Js rewriter=new ConcatVisitor.Js(config(null,false,false),mgr);
  assertTrue(rewriter.revisit(gadget(),fullListJs));
  assertEquals(1,parent1.getChildNodes().getLength());
  Element cn1=(Element)parent1.getChildNodes().item(0);
  Uri concatUri1=Uri.parse(cn1.getAttribute("src"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri1.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri1.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri1.getPath());
  assertEquals(JS1_URL_STR,concatUri1.getQueryParameter("1"));
  assertEquals(JS2_URL_STR,concatUri1.getQueryParameter("2"));
  assertNull(concatUri1.getQueryParameter("3"));
  assertEquals(1,parent2.getChildNodes().getLength());
  Element cn2=(Element)parent2.getChildNodes().item(0);
  Uri concatUri2=Uri.parse(cn2.getAttribute("src"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri2.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri2.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri2.getPath());
  assertEquals(JS3_URL_STR,concatUri2.getQueryParameter("1"));
  assertEquals(JS4_URL_STR,concatUri2.getQueryParameter("2"));
  assertNull(concatUri2.getQueryParameter("3"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatMultiBatchJsBadBatch() throws Exception {
  List<Node> fullListJs=Lists.newArrayList();
  fullListJs.addAll(seqNodes(js1,js2));
  Node parent1=js1.getParentNode();
  assertEquals(2,parent1.getChildNodes().getLength());
  fullListJs.addAll(seqNodes(js5,js6));
  Node parent3=js5.getParentNode();
  assertEquals(2,parent3.getChildNodes().getLength());
  fullListJs.addAll(seqNodes(js3,js4));
  Node parent2=js3.getParentNode();
  assertEquals(2,js3.getParentNode().getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Js rewriter=new ConcatVisitor.Js(config(null,false,false),mgr);
  assertTrue(rewriter.revisit(gadget(),fullListJs));
  assertEquals(1,parent1.getChildNodes().getLength());
  Element cn1=(Element)parent1.getChildNodes().item(0);
  Uri concatUri1=Uri.parse(cn1.getAttribute("src"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri1.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri1.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri1.getPath());
  assertEquals(JS1_URL_STR,concatUri1.getQueryParameter("1"));
  assertEquals(JS2_URL_STR,concatUri1.getQueryParameter("2"));
  assertEquals(2,parent3.getChildNodes().getLength());
  assertSame(js5,parent3.getChildNodes().item(0));
  assertSame(js6,parent3.getChildNodes().item(1));
  assertEquals(1,parent2.getChildNodes().getLength());
  Element cn2=(Element)parent2.getChildNodes().item(0);
  Uri concatUri2=Uri.parse(cn2.getAttribute("src"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri2.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri2.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri2.getPath());
  assertEquals(JS3_URL_STR,concatUri2.getQueryParameter("1"));
  assertEquals(JS4_URL_STR,concatUri2.getQueryParameter("2"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatSingleBatchCssWithNamespace() throws Exception {
  String namespace="http://www.w3.org/1999/xhtml";
  css1=elemWithNameSpace(namespace,"link","rel","Stylesheet","type","Text/css","href",CSS1_URL_STR);
  css2=elemWithNameSpace(namespace,"link","rel","stylesheet","type","text/css","href",CSS2_URL_STR);
  css3=elemWithNameSpace(namespace,"link","rel","stylesheet","type","text/css","href",CSS3_URL_STR);
  List<Node> nodes=seqNodes(css1,css2,css3);
  Node parent=css1.getParentNode();
  assertEquals(3,parent.getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Css rewriter=new ConcatVisitor.Css(config(null,false,false),mgr);
  assertTrue(rewriter.revisit(gadget(),nodes));
  assertEquals(1,parent.getChildNodes().getLength());
  Element concatNode=(Element)parent.getChildNodes().item(0);
  Uri concatUri=Uri.parse(concatNode.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri.getPath());
  assertEquals(CSS1_URL_STR,concatUri.getQueryParameter("1"));
  assertEquals(CSS2_URL_STR,concatUri.getQueryParameter("2"));
  assertEquals(CSS3_URL_STR,concatUri.getQueryParameter("3"));
  assertFalse(concatUri.toString().contains("&amp;"));
  doc.appendChild(concatNode);
  HtmlSerializer serializer=new DefaultHtmlSerializer();
  String html=serializer.serialize(doc);
  assertTrue(html.contains(concatUri.toString().replace("&","&amp;")));
  serializer=new CajaHtmlSerializer();
  html=serializer.serialize(doc);
  assertTrue(html.contains(concatUri.toString().replace("&","&amp;")));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatSingleBatchCss() throws Exception {
  List<Node> nodes=seqNodes(css1,css2,css3);
  Node parent=css1.getParentNode();
  assertEquals(3,parent.getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Css rewriter=new ConcatVisitor.Css(config(null,false,false),mgr);
  assertTrue(rewriter.revisit(gadget(),nodes));
  assertEquals(1,parent.getChildNodes().getLength());
  Element concatNode=(Element)parent.getChildNodes().item(0);
  Uri concatUri=Uri.parse(concatNode.getAttribute("href"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri.getPath());
  assertEquals(CSS1_URL_STR,concatUri.getQueryParameter("1"));
  assertEquals(CSS2_URL_STR,concatUri.getQueryParameter("2"));
  assertEquals(CSS3_URL_STR,concatUri.getQueryParameter("3"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatMultiBatchJsWithSingleResource() throws Exception {
  List<Node> fullListJs=Lists.newArrayList();
  fullListJs.addAll(seqNodes(js1,js2));
  Node parent1=js1.getParentNode();
  assertEquals(2,parent1.getChildNodes().getLength());
  fullListJs.addAll(seqNodes(js3));
  Node parent2=js3.getParentNode();
  assertEquals(1,js3.getParentNode().getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Js rewriter=new ConcatVisitor.Js(config(null,false,true),mgr);
  assertTrue(rewriter.revisit(gadget(),fullListJs));
  assertEquals(1,parent1.getChildNodes().getLength());
  Element cn1=(Element)parent1.getChildNodes().item(0);
  Uri concatUri1=Uri.parse(cn1.getAttribute("src"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri1.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri1.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri1.getPath());
  assertEquals(JS1_URL_STR,concatUri1.getQueryParameter("1"));
  assertEquals(JS2_URL_STR,concatUri1.getQueryParameter("2"));
  assertNull(concatUri1.getQueryParameter("3"));
  assertEquals(1,parent2.getChildNodes().getLength());
  Element cn2=(Element)parent2.getChildNodes().item(0);
  Uri concatUri2=Uri.parse(cn2.getAttribute("src"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri2.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri2.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri2.getPath());
  assertEquals(JS3_URL_STR,concatUri2.getQueryParameter("1"));
  assertNull(concatUri2.getQueryParameter("2"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void concatSplitJsSplitNodes() throws Exception {
  Node parent=doc.createElement("container");
  parent.appendChild(doc.createElement("div"));
  parent.appendChild(js1);
  parent.appendChild(doc.createTextNode("text"));
  parent.appendChild(doc.createComment("comment"));
  parent.appendChild(js2);
  parent.appendChild(doc.createElement("span"));
  List<Node> nodes=ImmutableList.of(js1,js2);
  assertEquals(6,parent.getChildNodes().getLength());
  SimpleConcatUriManager mgr=simpleMgr();
  ConcatVisitor.Js rewriter=new ConcatVisitor.Js(config(null,true,false),mgr);
  assertTrue(rewriter.revisit(gadget(),nodes));
  assertEquals(7,parent.getChildNodes().getLength());
  Element jsConcat=(Element)parent.getChildNodes().item(1);
  assertEquals("script",jsConcat.getTagName());
  Uri concatUri=Uri.parse(jsConcat.getAttribute("src"));
  assertEquals(CONCAT_BASE_URI.getScheme(),concatUri.getScheme());
  assertEquals(CONCAT_BASE_URI.getAuthority(),concatUri.getAuthority());
  assertEquals(CONCAT_BASE_URI.getPath(),concatUri.getPath());
  assertEquals(JS1_URL_STR,concatUri.getQueryParameter("1"));
  assertEquals(JS2_URL_STR,concatUri.getQueryParameter("2"));
  assertNull(concatUri.getQueryParameter("3"));
  assertEquals("1",concatUri.getQueryParameter("SPLIT"));
  Element splitEval1=(Element)parent.getChildNodes().item(2);
  assertEquals("script",splitEval1.getTagName());
  assertNull(splitEval1.getAttributeNode("src"));
  assertEquals(JS1_URL_STR,splitEval1.getTextContent());
  Element splitEval2=(Element)parent.getChildNodes().item(5);
  assertEquals("script",splitEval2.getTagName());
  assertNull(splitEval2.getAttributeNode("src"));
  assertEquals(JS2_URL_STR,splitEval2.getTextContent());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.ContentRewriterFeatureTestCase </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSpecExcludeOnlyOverridesContainerWithExclude() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewrite(null,"",null,null),new ContentRewriterFeature.DefaultConfig(".*","test","0",TAGS,false,false,false));
  assertTrue(defaultRewriterFeature.isRewriteEnabled());
  assertTrue(defaultRewriterFeature.shouldRewriteURL("http://www.foobar.com"));
  assertTrue(defaultRewriterFeature.shouldRewriteURL("http://www.test.com"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSpecExcludeOverridesContainerDefaultInclude() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewrite("",".*","0",tags),new ContentRewriterFeature.DefaultConfig(".*","","0",TAGS,false,false,false));
  assertFalse(defaultRewriterFeature.isRewriteEnabled());
  assertFalse(defaultRewriterFeature.shouldRewriteURL("http://www.test.com"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testContainerDefaultIncludeNone() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithoutRewrite(),new ContentRewriterFeature.DefaultConfig("",".*","0",TAGS,false,false,false));
  assertFalse(defaultRewriterFeature.isRewriteEnabled());
  assertFalse(defaultRewriterFeature.shouldRewriteURL("http://www.test.com"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSpecExcludeOnlyOverridesContainerDefaultInclude() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewrite(null,".*",null,null),new ContentRewriterFeature.DefaultConfig(".*","","0",TAGS,false,false,false));
  assertFalse(defaultRewriterFeature.isRewriteEnabled());
  assertFalse(defaultRewriterFeature.shouldRewriteURL("http://www.test.com"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSpecEmptyContainerWithExclude() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewrite(null,null,null,null),new ContentRewriterFeature.DefaultConfig(".*","test","0",TAGS,false,false,false));
  assertTrue(defaultRewriterFeature.isRewriteEnabled());
  assertTrue(defaultRewriterFeature.shouldRewriteURL("http://www.foobar.com"));
  assertFalse(defaultRewriterFeature.shouldRewriteURL("http://www.test.com"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSpecEmptyDoesNotOverridesContainerDefaultNoInclude() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewrite(null,null,null,null),new ContentRewriterFeature.DefaultConfig("","test","0",TAGS,false,false,false));
  assertFalse(defaultRewriterFeature.isRewriteEnabled());
  assertFalse(defaultRewriterFeature.shouldRewriteURL("http://www.foobar.com"));
  assertFalse(defaultRewriterFeature.shouldRewriteURL("http://www.test.com"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSpecExcludeOverridesContainerDefaultExclude() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewrite(".*","","0",tags),new ContentRewriterFeature.DefaultConfig("",".*","0",TAGS,false,false,false));
  assertTrue(defaultRewriterFeature.isRewriteEnabled());
  assertTrue(defaultRewriterFeature.shouldRewriteURL("http://www.test.com"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIncludeOnlyMatch() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewrite("test\\.com","testx","0",tags),new ContentRewriterFeature.DefaultConfig("","","0",TAGS,false,false,false));
  assertTrue(defaultRewriterFeature.isRewriteEnabled());
  assertTrue(defaultRewriterFeature.shouldRewriteURL("http://www.test.com"));
  assertFalse(defaultRewriterFeature.shouldRewriteURL("http://testx.test.com"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testContainerDefaultExcludeOverridesInclude() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithoutRewrite(),new ContentRewriterFeature.DefaultConfig(".*",".*","0",TAGS,false,false,false));
  assertFalse(defaultRewriterFeature.isRewriteEnabled());
  assertFalse(defaultRewriterFeature.shouldRewriteURL("http://www.test.com"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testTagRewrite() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewrite("test\\.com","testx","0",tags),new ContentRewriterFeature.DefaultConfig("","","0",TAGS,false,false,false));
  assertFalse(defaultRewriterFeature.shouldRewriteTag("IFRAME"));
  assertTrue(defaultRewriterFeature.shouldRewriteTag("img"));
  assertTrue(defaultRewriterFeature.shouldRewriteTag("ScripT"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSingleResourceConcatNotEnabled() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.DefaultConfig("","test","0",TAGS,false,false,false);
  assertFalse(defaultRewriterFeature.isSingleResourceConcatEnabled());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testContainerDefaultIncludeAll() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithoutRewrite(),new ContentRewriterFeature.DefaultConfig(".*","","0",TAGS,false,false,false));
  assertTrue(defaultRewriterFeature.isRewriteEnabled());
  assertTrue(defaultRewriterFeature.shouldRewriteURL("http://www.test.com"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSplitJsSupported() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.DefaultConfig("","test","0",TAGS,false,true,false);
  assertTrue(defaultRewriterFeature.isSplitJsEnabled());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testOverrideTagRewrite() throws Exception {
  Set<String> newTags=Sets.newHashSet("iframe");
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewrite("test\\.com","testx","0",newTags),new ContentRewriterFeature.DefaultConfig("","","0",TAGS,false,false,false));
  assertTrue(defaultRewriterFeature.shouldRewriteTag("IFRAME"));
  assertFalse(defaultRewriterFeature.shouldRewriteTag("img"));
  assertFalse(defaultRewriterFeature.shouldRewriteTag("ScripT"));
  assertFalse(defaultRewriterFeature.shouldRewriteTag("link"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSpecIncludeOnlyOverridesContainerDefaultNoInclude() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewrite(".*",null,null,null),new ContentRewriterFeature.DefaultConfig("","test","0",TAGS,false,false,false));
  assertTrue(defaultRewriterFeature.isRewriteEnabled());
  assertTrue(defaultRewriterFeature.shouldRewriteURL("http://www.foobar.com"));
  assertFalse(defaultRewriterFeature.shouldRewriteURL("http://www.test.com"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSplitJsNotSupported() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.DefaultConfig("","test","0",TAGS,false,false,false);
  assertFalse(defaultRewriterFeature.isSplitJsEnabled());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSingleResourceConcatEnabled() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.DefaultConfig("","test","0",TAGS,false,false,true);
  assertTrue(defaultRewriterFeature.isSingleResourceConcatEnabled());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testExcludeOverridesInclude() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewrite("test\\.com","test","0",tags),new ContentRewriterFeature.DefaultConfig("","","0",TAGS,false,false,false));
  assertTrue(defaultRewriterFeature.isRewriteEnabled());
  assertFalse(defaultRewriterFeature.shouldRewriteURL("http://www.test.com"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.ContentRewriterFeatureTestCaseOS9 </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSpecEmptyContainerWithExclude() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewriteOS9(null,null,null,null),new ContentRewriterFeature.DefaultConfig(".*","test","0",TAGS,false,false,false));
  assertTrue(defaultRewriterFeature.isRewriteEnabled());
  assertTrue(defaultRewriterFeature.shouldRewriteURL("http://www.foobar.com"));
  assertFalse(defaultRewriterFeature.shouldRewriteURL("http://www.test.com"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSpecExcludeDisallowOverrideExcludeUrlOS9() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewriteOS9(null,new String[]{"def"},null,null),new ContentRewriterFeature.DefaultConfig("^http://www.include.com","","3600",TAGS,true,false,false));
  assertTrue(defaultRewriterFeature.isRewriteEnabled());
  assertTrue(defaultRewriterFeature.shouldRewriteURL("http://www.include.com/abc"));
  assertFalse(defaultRewriterFeature.shouldRewriteURL("http://www.include.com/def"));
  assertFalse(defaultRewriterFeature.shouldRewriteURL("http://www.norewrite.com/abc"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSpecExcludeOnlyOverridesContainerWithExclude() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewriteOS9(null,new String[]{""},null,null),new ContentRewriterFeature.DefaultConfig(".*","test","0",TAGS,false,false,false));
  assertTrue(defaultRewriterFeature.isRewriteEnabled());
  assertTrue(defaultRewriterFeature.shouldRewriteURL("http://www.foobar.com"));
  assertTrue(defaultRewriterFeature.shouldRewriteURL("http://www.test.com"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSpecExcludeDisallowOverrideTagsSubset() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewrite("test\\.com","testx","0",Sets.newHashSet("img")),new ContentRewriterFeature.DefaultConfig("","","0","img,script",true,false,false));
  assertFalse(defaultRewriterFeature.shouldRewriteTag("IFRAME"));
  assertTrue(defaultRewriterFeature.shouldRewriteTag("img"));
  assertFalse(defaultRewriterFeature.shouldRewriteTag("ScripT"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSpecExcludeOverridesContainerDefaultExclude() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewriteOS9(new String[]{"*"},new String[]{""},"0",tags),new ContentRewriterFeature.DefaultConfig("",".*","0",TAGS,false,false,false));
  assertTrue(defaultRewriterFeature.isRewriteEnabled());
  assertTrue(defaultRewriterFeature.shouldRewriteURL("http://www.test.com"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSpecExcludeOverridesMultipleContainerDefaultInclude() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewriteOS9(null,new String[]{"foo","bar"},"0",tags),new ContentRewriterFeature.DefaultConfig(".*","","0",TAGS,false,false,false));
  assertTrue(defaultRewriterFeature.isRewriteEnabled());
  assertTrue(defaultRewriterFeature.shouldRewriteURL("http://www.test.com"));
  assertFalse(defaultRewriterFeature.shouldRewriteURL("http://www.foo.com"));
  assertFalse(defaultRewriterFeature.shouldRewriteURL("http://www.bar.com"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSpecExcludeDisallowOverrideIncludeUrlOS9() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewriteOS9(new String[]{"abc"},null,null,null),new ContentRewriterFeature.DefaultConfig("^http://www.include.com","","3600",TAGS,true,false,false));
  assertTrue(defaultRewriterFeature.isRewriteEnabled());
  assertTrue(defaultRewriterFeature.shouldRewriteURL("http://www.include.com/abc"));
  assertFalse(defaultRewriterFeature.shouldRewriteURL("http://www.norewrite.com/abc"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSpecIncludeMultipleOnlyOverridesContainerDefaultNoInclude() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewriteOS9(new String[]{"foo","bar"},null,null,null),new ContentRewriterFeature.DefaultConfig("","test","0",TAGS,false,false,false));
  assertTrue(defaultRewriterFeature.isRewriteEnabled());
  assertTrue(defaultRewriterFeature.shouldRewriteURL("http://www.foo.com"));
  assertTrue(defaultRewriterFeature.shouldRewriteURL("http://www.bar.com"));
  assertFalse(defaultRewriterFeature.shouldRewriteURL("http://www.test.com"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSpecEmptyDoesNotOverridesContainerDefaultNoInclude() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewriteOS9(null,null,null,null),new ContentRewriterFeature.DefaultConfig("","test","0",TAGS,false,false,false));
  assertFalse(defaultRewriterFeature.isRewriteEnabled());
  assertFalse(defaultRewriterFeature.shouldRewriteURL("http://www.foobar.com"));
  assertFalse(defaultRewriterFeature.shouldRewriteURL("http://www.test.com"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSpecExcludeDisallowOverrideTagsSuperset() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewrite("test\\.com","testx","0",Sets.newHashSet("img","script","link")),new ContentRewriterFeature.DefaultConfig("","","0","img,script",true,false,false));
  assertFalse(defaultRewriterFeature.shouldRewriteTag("IFRAME"));
  assertTrue(defaultRewriterFeature.shouldRewriteTag("img"));
  assertTrue(defaultRewriterFeature.shouldRewriteTag("ScripT"));
  assertFalse(defaultRewriterFeature.shouldRewriteTag("link"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSpecExcludeOverridesContainerDefaultInclude() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewriteOS9(new String[]{""},new String[]{"*"},"0",tags),new ContentRewriterFeature.DefaultConfig(".*","","0",TAGS,false,false,false));
  assertFalse(defaultRewriterFeature.isRewriteEnabled());
  assertFalse(defaultRewriterFeature.shouldRewriteURL("http://www.test.com"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSpecExcludeDisallowOverrideIncludeUrls() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewrite("norewrite",null,null,null),new ContentRewriterFeature.DefaultConfig("^http://www.include.com","def","3600",TAGS,true,false,false));
  assertTrue(defaultRewriterFeature.isRewriteEnabled());
  assertTrue(defaultRewriterFeature.shouldRewriteURL("http://www.include.com/abc"));
  assertFalse(defaultRewriterFeature.shouldRewriteURL("http://www.include.com/def"));
  assertFalse(defaultRewriterFeature.shouldRewriteURL("http://www.norewrite.com/abc"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSpecExcludeOnlyOverridesContainerDefaultInclude() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewriteOS9(null,new String[]{"*"},null,null),new ContentRewriterFeature.DefaultConfig(".*","","0",TAGS,false,false,false));
  assertFalse(defaultRewriterFeature.isRewriteEnabled());
  assertFalse(defaultRewriterFeature.shouldRewriteURL("http://www.test.com"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSpecIncludeMultipleOnlyOverridesContainerDefaultInclude() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewriteOS9(new String[]{"foo","bar"},null,null,null),new ContentRewriterFeature.DefaultConfig("*","test","0",TAGS,false,false,false));
  assertTrue(defaultRewriterFeature.isRewriteEnabled());
  assertTrue(defaultRewriterFeature.shouldRewriteURL("http://www.foo.com"));
  assertTrue(defaultRewriterFeature.shouldRewriteURL("http://www.bar.com"));
  assertFalse(defaultRewriterFeature.shouldRewriteURL("http://www.test.com"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSpecIncludeOnlyOverridesContainerDefaultNoInclude() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewriteOS9(new String[]{"*"},null,null,null),new ContentRewriterFeature.DefaultConfig("","test","0",TAGS,false,false,false));
  assertTrue(defaultRewriterFeature.isRewriteEnabled());
  assertTrue(defaultRewriterFeature.shouldRewriteURL("http://www.foobar.com"));
  assertFalse(defaultRewriterFeature.shouldRewriteURL("http://www.test.com"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSpecExcludeOverrideExcludeUrls() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewrite(null,"abc",null,null),new ContentRewriterFeature.DefaultConfig("^http://www.include.com","def","3600",TAGS,true,false,false));
  assertTrue(defaultRewriterFeature.isRewriteEnabled());
  assertFalse(defaultRewriterFeature.shouldRewriteURL("http://www.include.com/abc"));
  assertFalse(defaultRewriterFeature.shouldRewriteURL("http://www.norewrite.com/abc"));
  assertTrue(defaultRewriterFeature.shouldRewriteURL("http://www.include.com/def"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testExcludeOverridesInclude() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewriteOS9(new String[]{"test.com"},new String[]{"test"},"0",tags),new ContentRewriterFeature.DefaultConfig("","","0",TAGS,false,false,false));
  assertTrue(defaultRewriterFeature.isRewriteEnabled());
  assertFalse(defaultRewriterFeature.shouldRewriteURL("http://www.test.com"));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIncludeOnlyMatch() throws Exception {
  defaultRewriterFeature=new ContentRewriterFeature.Config(createSpecWithRewriteOS9(new String[]{"test.com"},new String[]{"testx"},"0",tags),new ContentRewriterFeature.DefaultConfig("","","0",TAGS,false,false,false));
  assertTrue(defaultRewriterFeature.isRewriteEnabled());
  assertTrue(defaultRewriterFeature.shouldRewriteURL("http://www.test.com"));
  assertFalse(defaultRewriterFeature.shouldRewriteURL("http://testx.test.com"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.DefaultContentRewriterRegistryTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRewriteHttpResponse() throws Exception {
  String body="Hello, world";
  HttpRequest request=new HttpRequest(SPEC_URL);
  HttpResponse response=new HttpResponse(body);
  HttpResponse rewritten=registry.rewriteHttpResponse(request,response,null);
  assertTrue("First rewriter not invoked.",rewriters.get(0).responseWasRewritten());
  assertTrue("Second rewriter not invoked.",rewriters.get(1).responseWasRewritten());
  assertEquals(response,rewritten);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.DomWalkerTest </h4><pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void rewriteThrowsRewritingExceptionIfGetDocumentIsNull() throws Exception {
  DomWalker.Visitor visitor1=createMock(DomWalker.Visitor.class);
  DomWalker.Rewriter rewriter=getRewriter(visitor1);
  MutableContent mc=createMock(MutableContent.class);
  expect(mc.getDocument()).andReturn(null);
  expect(mc.getContent()).andReturn("hello!");
  replay(mc);
  Gadget gadget=gadget();
  boolean exceptionCaught=false;
  try {
    rewriter.rewrite(gadget,mc);
  }
 catch (  RewritingException e) {
    assertEquals(e.getHttpStatusCode(),HttpServletResponse.SC_INTERNAL_SERVER_ERROR);
    exceptionCaught=true;
  }
  assertTrue(exceptionCaught);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.MutableContentTest </h4><pre class="type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getContentAndParseTreeNoSets() throws Exception {
  String content=mhc.getContent();
  assertEquals("DEFAULT VIEW",content);
  Document document=mhc.getDocument();
  assertEquals(2,document.getFirstChild().getChildNodes().getLength());
  Assert.assertSame(document.getFirstChild().getChildNodes().item(1).getFirstChild().getNodeType(),Node.TEXT_NODE);
  assertEquals(content,document.getFirstChild().getChildNodes().item(1).getTextContent());
  assertSame(content,mhc.getContent());
  assertTrue(Arrays.equals(content.getBytes("UTF8"),IOUtils.toByteArray(mhc.getContentBytes())));
  assertSame(document,mhc.getDocument());
  assertEquals(0,mhc.getNumChanges());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void modifyTreeReflectedInContent() throws Exception {
  Document document=mhc.getDocument();
  document.getFirstChild().getFirstChild().setTextContent("FOO CONTENT");
  assertEquals(0,mhc.getNumChanges());
  MutableContent.notifyEdit(document);
  assertEquals(1,mhc.getNumChanges());
  assertTrue(mhc.getContent().contains("FOO CONTENT"));
  document.getFirstChild().getFirstChild().setTextContent("BAR CONTENT");
  MutableContent.notifyEdit(document);
  assertEquals(2,mhc.getNumChanges());
  assertTrue(mhc.getContent().contains("BAR CONTENT"));
  assertTrue(new String(IOUtils.toByteArray(mhc.getContentBytes()),"UTF8").contains("BAR CONTENT"));
  assertSame(document,mhc.getDocument());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.OsTemplateXmlLoaderRewriterTest </h4><pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void revisitMultiples() throws Exception {
  Element tplId=createRewritableDiv("tpl_id");
  Element tplName=createRewritableDiv();
  tplName.removeAttribute("id");
  tplName.setAttribute("name","otherid");
  Gadget gadget=mockGadget(OsTemplateXmlLoaderRewriter.OS_TEMPLATES_FEATURE_NAME,"another");
  String xmlVal="thexml";
  Converter converter=mockConverter(xmlVal,"{thejson}",2);
  tplId.setTextContent(xmlVal);
  tplName.setTextContent(xmlVal);
  completeDocAsHtml(tplId,tplName);
  assertTrue(revisit(gadget,converter,tplId,tplName));
  verify(gadget);
  verify(converter);
  Node head=DomUtil.getFirstNamedChildNode(doc.getDocumentElement(),"head");
  assertNotNull(head);
  assertEquals(2,head.getChildNodes().getLength());
  Node addedScript=head.getChildNodes().item(1);
  assertEquals(Node.ELEMENT_NODE,addedScript.getNodeType());
  assertEquals("script",addedScript.getNodeName());
  assertEquals("gadgets.jsondom.preload_('tpl_id',{thejson});gadgets.jsondom.preload_('otherid',{thejson});",addedScript.getTextContent());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void revisitWithoutOsTemplates() throws Exception {
  assertFalse(revisit(mockGadget("foo","bar"),null));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.PipelineDataGadgetRewriterTest </h4><pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void rewrite() throws Exception {
  setupGadget(getGadgetXml(CONTENT));
  Capture<PipelinedData.Batch> batchCapture=new Capture<PipelinedData.Batch>();
  Callable<PreloadedData> callable=createPreloadTask("key","{result: {foo: 'bar'}}");
  expect(preloader.createPreloadTasks(same(gadget.getContext()),and(eqBatch(1,1),capture(batchCapture)))).andReturn(ImmutableList.of(callable));
  control.replay();
  rewriter.rewrite(gadget,content);
  assertTrue("Script not inserted",content.getContent().contains("DataContext.putDataSet(\"key\",{\"foo\":\"bar\"})"));
  assertFalse("os-data wasn't deleted",content.getContent().contains("type=\"text/os-data\""));
  assertTrue(batchCapture.getValue().getPreloads().containsKey("me"));
  assertTrue(batchCapture.getValue().getPreloads().containsKey("json"));
  assertFalse(gadget.getDirectFeatureDeps().contains("opensocial-data"));
  assertTrue(gadget.getDirectFeatureDeps().contains("opensocial-data-context"));
  control.verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void parseOfDataRequest() throws Exception {
  final String contentWithDataRequest="<script xmlns:os=\"http://ns.opensocial.org/2008/markup\" type=\"text/os-data\">" + "  <os:DataRequest key=\"me\" method=\"people.get\" userId=\"canonical\"/>" + "</script>";
  setupGadget(getGadgetXml(contentWithDataRequest));
  Map<PipelinedData,? extends Object> pipelines=rewriter.parsePipelinedData(gadget,content.getDocument());
  assertEquals(1,pipelines.size());
  PipelinedData pipeline=pipelines.keySet().iterator().next();
  PipelinedData.Batch batch=pipeline.getBatch(Expressions.forTesting(),new RootELResolver());
  Map<String,PipelinedData.BatchItem> preloads=batch.getPreloads();
  assertTrue(preloads.containsKey("me"));
  assertEquals(PipelinedData.BatchType.SOCIAL,preloads.get("me").getType());
  JsonAssert.assertObjectEquals("{params: {userId: 'canonical'}, method: 'people.get', id: 'me'}",preloads.get("me").getData());
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void rewriteWithBlockedBatch() throws Exception {
  setupGadget(getGadgetXml(BLOCKED_FIRST_BATCH_CONTENT));
  expect(preloader.createPreloadTasks(same(gadget.getContext()),eqBatch(0,0))).andReturn(ImmutableList.<Callable<PreloadedData>>of());
  control.replay();
  rewriter.rewrite(gadget,content);
  control.verify();
  assertFalse("DataContext write shouldn't be present",content.getContent().indexOf("DataContext.putDataSet(") > 0);
  assertTrue("os-data was deleted",content.getContent().indexOf("type=\"text/os-data\"") > 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.ProxyingVisitorTest </h4><pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void revisitModifyValidSkipInvalid() throws Exception {
  String scriptSrc="http://script.com/foo.js";
  String imgSrc="http://script.com/foo.jpg";
  Element e1=elem("script","src",scriptSrc);
  Element e2=elem("script","src","^!,,|BLARGH");
  Element e3=elem("IMG","src",imgSrc);
  Element e4=elem("script","src"," " + scriptSrc + " ");
  List<Node> nodes=ImmutableList.<Node>of(e1,e2,e3,e4);
  ProxyUriManager uriManager=createMock(ProxyUriManager.class);
  Uri rewrittenUri=Uri.parse("http://bar.com/");
  List<Uri> returned=Lists.newArrayList(rewrittenUri,rewrittenUri,rewrittenUri);
  ContentRewriterFeature.Config config=createMock(ContentRewriterFeature.Config.class);
  Integer expires=3;
  expect(config.getExpires()).andReturn(expires).once();
  expect(config);
  Capture<List<ProxyUriManager.ProxyUri>> cap=new Capture<List<ProxyUriManager.ProxyUri>>();
  Capture<Integer> intCap=new Capture<Integer>();
  expect(uriManager.make(capture(cap),capture(intCap))).andReturn(returned).once();
  replay(config,uriManager);
  Gadget gadget=gadget();
  ProxyingVisitor rewriter=new ProxyingVisitor(config,uriManager,ProxyingVisitor.Tags.SCRIPT,ProxyingVisitor.Tags.STYLESHEET,ProxyingVisitor.Tags.EMBEDDED_IMAGES);
  assertTrue(rewriter.revisit(gadget,nodes));
  verify(config,uriManager);
  assertEquals(3,cap.getValue().size());
  assertEquals(Uri.parse(scriptSrc),cap.getValue().get(0).getResource());
  assertEquals(Uri.parse(imgSrc),cap.getValue().get(1).getResource());
  assertEquals(Uri.parse(scriptSrc),cap.getValue().get(2).getResource());
  assertSame(expires,intCap.getValue());
  assertEquals(rewrittenUri.toString(),e1.getAttribute("src"));
  assertEquals("^!,,|BLARGH",e2.getAttribute("src"));
  assertEquals(rewrittenUri.toString(),e3.getAttribute("src"));
  assertEquals(rewrittenUri.toString(),e4.getAttribute("src"));
  assertEquals("script",cap.getValue().get(0).getHtmlTagContext());
  assertEquals("img",cap.getValue().get(1).getHtmlTagContext());
  assertEquals("script",cap.getValue().get(2).getHtmlTagContext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.RewriteModuleTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRequestPipelineRewriters() throws Exception {
  ContextAwareRegistry requestPipelineRegistry=(ContextAwareRegistry)injector.getInstance(TestClass.class).requestPipelineRegistry;
  List<ResponseRewriter> list=requestPipelineRegistry.getResponseRewriters(ContainerConfig.DEFAULT_CONTAINER);
  assertEquals(1,list.size());
  assertTrue(list.get(0) instanceof BasicImageRewriter);
  list=requestPipelineRegistry.getResponseRewriters(AccelUriManager.CONTAINER);
  assertEquals(1,list.size());
  assertTrue(list.get(0) instanceof BasicImageRewriter);
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDefaultRewriters() throws Exception {
  ContextAwareRegistry defaultPipelineRegistry=(ContextAwareRegistry)injector.getInstance(TestClass.class).defaultPipelineRegistry;
  List<ResponseRewriter> list=defaultPipelineRegistry.getResponseRewriters(ContainerConfig.DEFAULT_CONTAINER);
  assertEquals(7,list.size());
  assertTrue(list.get(0) instanceof AbsolutePathReferenceRewriter);
  assertTrue(list.get(1) instanceof StyleTagExtractorContentRewriter);
  assertTrue(list.get(2) instanceof StyleAdjacencyContentRewriter);
  assertTrue(list.get(3) instanceof ProxyingContentRewriter);
  assertTrue(list.get(4) instanceof CssResponseRewriter);
  assertTrue(list.get(5) instanceof SanitizingResponseRewriter);
  assertTrue(list.get(6) instanceof CajaResponseRewriter);
  list=defaultPipelineRegistry.getResponseRewriters(AccelUriManager.CONTAINER);
  assertEquals(3,list.size());
  assertTrue(list.get(0) instanceof AbsolutePathReferenceRewriter);
  assertTrue(list.get(1) instanceof StyleTagProxyEmbeddedUrlsRewriter);
  assertTrue(list.get(2) instanceof ProxyingContentRewriter);
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAccelRewriters() throws Exception {
  ContextAwareRegistry accelPipelineRegistry=(ContextAwareRegistry)injector.getInstance(TestClass.class).accelPipelineRegistry;
  List<ResponseRewriter> list=accelPipelineRegistry.getResponseRewriters(AccelUriManager.CONTAINER);
  assertEquals(3,list.size());
  assertTrue(list.get(0) instanceof AbsolutePathReferenceRewriter);
  assertTrue(list.get(1) instanceof StyleTagProxyEmbeddedUrlsRewriter);
  assertTrue(list.get(2) instanceof ProxyingContentRewriter);
  list=accelPipelineRegistry.getResponseRewriters(ContainerConfig.DEFAULT_CONTAINER);
  assertEquals(0,list.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.RewriterUtilsTest </h4><pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testIsHtmlReturnsTrueIfHtmlAcceptingTagContext() throws Exception {
  HttpRequest req=new HttpRequest(Uri.parse("http://www.example.org/"));
  req.setParam(UriCommon.Param.HTML_TAG_CONTEXT.getKey(),"link");
  HttpResponseBuilder builder=new HttpResponseBuilder().addHeader("Content-Type","text/html");
  assertTrue(RewriterUtils.isHtml(req,builder));
  req.setParam(UriCommon.Param.HTML_TAG_CONTEXT.getKey(),"iframe");
  assertTrue(RewriterUtils.isHtml(req,builder));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsHtmlWithoutHtmlTagContext() throws Exception {
  HttpRequest req=new HttpRequest(Uri.parse("http://www.example.org/"));
  HttpResponseBuilder builder=new HttpResponseBuilder().addHeader("Content-Type","text/html");
  assertTrue(RewriterUtils.isHtml(req,builder));
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testIsHtmlReturnsFalseIfNonHtmlTagContext() throws Exception {
  HttpRequest req=new HttpRequest(Uri.parse("http://www.example.org/"));
  req.setParam(UriCommon.Param.HTML_TAG_CONTEXT.getKey(),"script");
  HttpResponseBuilder builder=new HttpResponseBuilder().addHeader("Content-Type","text/html");
  assertFalse(RewriterUtils.isHtml(req,builder));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.StyleAdjacencyVisitorTest </h4><pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void reshuffleSingleNodeInHead() throws Exception {
  Node style=elem("style");
  Node html=htmlDoc(new Node[]{elem("script"),doc.createTextNode("foo"),style,doc.createComment("comment")});
  assertTrue(revisit(style));
  assertEquals(2,html.getChildNodes().getLength());
  Node head=html.getFirstChild();
  assertEquals("head",head.getNodeName());
  Node body=html.getLastChild();
  assertEquals("body",body.getNodeName());
  assertEquals(4,head.getChildNodes().getLength());
  assertSame(style,head.getChildNodes().item(0));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void reshuffleMultiMatchedNodes() throws Exception {
  Node style1=elem("style");
  Node style2=elem("style");
  Node link1=elem("link","rel","stylesheet");
  Node link2=elem("link","type","text/css");
  Node div=elem("div");
  div.appendChild(style2);
  Node html=htmlDoc(new Node[]{elem("base"),elem("script"),elem("script"),style1,doc.createComment("comment"),link1},elem("div"),div,link2,doc.createTextNode("text"));
  assertTrue(revisit(style1,link1,style2,link2));
  assertEquals(2,html.getChildNodes().getLength());
  Node head=html.getFirstChild();
  assertEquals("head",head.getNodeName());
  Node body=html.getLastChild();
  assertEquals("body",body.getNodeName());
  assertEquals(8,head.getChildNodes().getLength());
  assertSame(style1,head.getChildNodes().item(0));
  assertSame(link1,head.getChildNodes().item(1));
  assertSame(style2,head.getChildNodes().item(2));
  assertSame(link2,head.getChildNodes().item(3));
  assertEquals(0,div.getChildNodes().getLength());
  assertEquals(3,body.getChildNodes().getLength());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void avoidReshufflingInHeadlessDocument() throws Exception {
  Node style=elem("style");
  Node html=elem("html");
  Node body=elem("body");
  body.appendChild(style);
  html.appendChild(body);
  doc.appendChild(html);
  assertFalse(revisit(style));
  assertEquals(1,html.getChildNodes().getLength());
  assertSame(body,html.getFirstChild());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void singleStyleNodeInHead() throws Exception {
  Node style=elem("style","type","text/css");
  Node head=elem("head");
  head.appendChild(style);
  Node html=elem("html");
  html.appendChild(head);
  html.appendChild(elem("body"));
  doc.appendChild(html);
  assertTrue(revisit(style));
  assertEquals(2,html.getChildNodes().getLength());
  assertSame(head,html.getFirstChild());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void reshuffleMultipleLinkNodes() throws Exception {
  Node link1=elem("link","rel","stylesheet");
  Node link2=elem("link","rel","stylesheet");
  Node link3=elem("link","rel","stylesheet");
  Node html=htmlDoc(new Node[]{link1,elem("script"),elem("foo")},doc.createTextNode("text1"),link2,doc.createComment("comment"),elem("div"),link3);
  assertTrue(revisit(link1,link2,link3));
  assertEquals(2,html.getChildNodes().getLength());
  Node head=html.getFirstChild();
  assertEquals("head",head.getNodeName());
  Node body=html.getLastChild();
  assertEquals("body",body.getNodeName());
  assertEquals(5,head.getChildNodes().getLength());
  assertSame(link1,head.getChildNodes().item(0));
  assertSame(link2,head.getChildNodes().item(1));
  assertSame(link3,head.getChildNodes().item(2));
  assertEquals(3,body.getChildNodes().getLength());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void reshuffleSingleNodeFromBody() throws Exception {
  Node style=elem("style");
  Node html=htmlDoc(new Node[]{elem("foo")},elem("script"),doc.createTextNode("foo"),style,doc.createComment("comment"));
  assertTrue(revisit(style));
  assertEquals(2,html.getChildNodes().getLength());
  Node head=html.getFirstChild();
  assertEquals("head",head.getNodeName());
  Node body=html.getLastChild();
  assertEquals("body",body.getNodeName());
  assertEquals(2,head.getChildNodes().getLength());
  assertSame(style,head.getChildNodes().item(0));
  assertEquals(3,body.getChildNodes().getLength());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void reshuffleMultipleStyleNodes() throws Exception {
  Node style1=elem("style");
  Node style2=elem("style");
  Node style3=elem("style");
  Node html=htmlDoc(new Node[]{elem("script"),style1,elem("foo")},doc.createTextNode("text1"),style2,doc.createComment("comment"),elem("div"),style3);
  assertTrue(revisit(style1,style2,style3));
  assertEquals(2,html.getChildNodes().getLength());
  Node head=html.getFirstChild();
  assertEquals("head",head.getNodeName());
  Node body=html.getLastChild();
  assertEquals("body",body.getNodeName());
  assertEquals(5,head.getChildNodes().getLength());
  assertSame(style1,head.getChildNodes().item(0));
  assertSame(style2,head.getChildNodes().item(1));
  assertSame(style3,head.getChildNodes().item(2));
  assertEquals(3,body.getChildNodes().getLength());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void reshuffleMultipleStyleNodesWithNoChildernInHead() throws Exception {
  Node style1=elem("style");
  Node style2=elem("style");
  Node style3=elem("style");
  Node html=htmlDoc(new Node[]{},elem("script"),style1,elem("foo"),doc.createTextNode("text1"),style2,doc.createComment("comment"),elem("div"),style3);
  assertTrue(revisit(style1,style2,style3));
  assertEquals(2,html.getChildNodes().getLength());
  Node head=html.getFirstChild();
  assertEquals("head",head.getNodeName());
  Node body=html.getLastChild();
  assertEquals("body",body.getNodeName());
  assertEquals(3,head.getChildNodes().getLength());
  assertSame(style1,head.getChildNodes().item(0));
  assertSame(style2,head.getChildNodes().item(1));
  assertSame(style3,head.getChildNodes().item(2));
  assertEquals(5,body.getChildNodes().getLength());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.StyleTagExtractorVisitorTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void revisitExtractSpecRelative() throws Exception {
  Uri base=GADGET_URI;
  Gadget gadget=gadget();
  CssResponseRewriter cssRewriter=createMock(CssResponseRewriter.class);
  Element elem1=elem("elem1");
  Element elem2=elem("elem2");
  String urlStr1="http://foo.com/1.css";
  List<String> extractedUrls1=ImmutableList.of(urlStr1);
  String urlStr2="http://bar.com/1.css";
  List<String> extractedUrls2=ImmutableList.of(urlStr2);
  expect(cssRewriter.rewrite(eq(elem1),eq(base),isA(UriMaker.class),eq(true),eq(gadget.getContext()))).andReturn(extractedUrls1).once();
  expect(cssRewriter.rewrite(eq(elem2),eq(base),isA(UriMaker.class),eq(true),eq(gadget.getContext()))).andReturn(extractedUrls2).once();
  replay(cssRewriter);
  List<Node> nodes=ImmutableList.<Node>of(elem1,elem2);
  Node head=addNodesToHtml(nodes);
  assertTrue(getRevisitStatus(gadget,true,cssRewriter,nodes));
  verify(cssRewriter);
  assertEquals(2,head.getChildNodes().getLength());
  Element child1=(Element)head.getChildNodes().item(0);
  assertEquals("link",child1.getTagName());
  assertEquals("stylesheet",child1.getAttribute("rel"));
  assertEquals("text/css",child1.getAttribute("type"));
  assertEquals(urlStr1,child1.getAttribute("href"));
  Element child2=(Element)head.getChildNodes().item(1);
  assertEquals("link",child2.getTagName());
  assertEquals("stylesheet",child2.getAttribute("rel"));
  assertEquals("text/css",child2.getAttribute("type"));
  assertEquals(urlStr2,child2.getAttribute("href"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void revisitExtractSpecRelativeDisabled() throws Exception {
  Uri base=GADGET_URI;
  Gadget gadget=gadget();
  CssResponseRewriter cssRewriter=createMock(CssResponseRewriter.class);
  Element elem1=elem("elem1");
  Element elem2=elem("elem2");
  List<String> extractedUrls1=ImmutableList.of();
  List<String> extractedUrls2=ImmutableList.of();
  expect(cssRewriter.rewrite(eq(elem1),eq(base),isA(UriMaker.class),eq(true),eq(gadget.getContext()))).andReturn(extractedUrls1).once();
  expect(cssRewriter.rewrite(eq(elem2),eq(base),isA(UriMaker.class),eq(true),eq(gadget.getContext()))).andReturn(extractedUrls2).once();
  replay(cssRewriter);
  List<Node> nodes=ImmutableList.<Node>of(elem1,elem2);
  Node head=addNodesToHtml(nodes);
  assertFalse(getRevisitStatus(gadget,false,cssRewriter,nodes));
  verify(cssRewriter);
  assertEquals(0,head.getChildNodes().getLength());
}

</code></pre>

<br>
<pre class="type-9 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void revisitNothingExtracted() throws Exception {
  Gadget gadget=gadget();
  CssResponseRewriter cssRewriter=createMock(CssResponseRewriter.class);
  replay(cssRewriter);
  List<Node> nodes=ImmutableList.of();
  Node head=addNodesToHtml(nodes);
  assertFalse(getRevisitStatus(gadget,true,cssRewriter,nodes));
  verify(cssRewriter);
  assertEquals(0,head.getChildNodes().getLength());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void revisitExtractViewHrefRelative() throws Exception {
  Uri base=Uri.parse("http://view.com/viewbase.xml");
  Gadget gadget=gadget(true,true,base);
  CssResponseRewriter cssRewriter=createMock(CssResponseRewriter.class);
  Element elem1=elem("elem1");
  Element elem2=elem("elem2");
  String urlStr1="http://foo.com/1.css";
  List<String> extractedUrls1=ImmutableList.of(urlStr1);
  String urlStr2="http://bar.com/1.css";
  List<String> extractedUrls2=ImmutableList.of(urlStr2);
  expect(cssRewriter.rewrite(eq(elem1),eq(base),isA(UriMaker.class),eq(true),eq(gadget.getContext()))).andReturn(extractedUrls1).once();
  expect(cssRewriter.rewrite(eq(elem2),eq(base),isA(UriMaker.class),eq(true),eq(gadget.getContext()))).andReturn(extractedUrls2).once();
  replay(cssRewriter);
  List<Node> nodes=ImmutableList.<Node>of(elem1,elem2);
  Node head=addNodesToHtml(nodes);
  assertTrue(getRevisitStatus(gadget,true,cssRewriter,nodes));
  verify(cssRewriter);
  assertEquals(2,head.getChildNodes().getLength());
  Element child1=(Element)head.getChildNodes().item(0);
  assertEquals("link",child1.getTagName());
  assertEquals("stylesheet",child1.getAttribute("rel"));
  assertEquals("text/css",child1.getAttribute("type"));
  assertEquals(urlStr1,child1.getAttribute("href"));
  Element child2=(Element)head.getChildNodes().item(1);
  assertEquals("link",child2.getTagName());
  assertEquals("stylesheet",child2.getAttribute("rel"));
  assertEquals("text/css",child2.getAttribute("type"));
  assertEquals(urlStr2,child2.getAttribute("href"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.TemplateRewriterTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void tagPrecedenceRulesWithoutOSML() throws Exception {
  data.put("${Cur['gadgets.features'].osml.library}","");
  setupGadget(getGadgetXmlWithLibrary(CONTENT_TESTING_PRECEDENCE_RULES));
  rewriter.rewrite(gadget,content);
  assertTrue("Precedence rules violated",content.getContent().indexOf("default1inline2inline3external4") > 0);
  testFeatureRemoved();
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void tagPrecedenceRulesWithOSMLFeature() throws Exception {
  data.put("${Cur['gadgets.features'].osml.library}","org/apache/shindig/gadgets/rewrite/OSML_test.xml");
  setupGadget(getGadgetXmlWithLibrary(CONTENT_TESTING_PRECEDENCE_RULES,"osml"));
  rewriter.rewrite(gadget,content);
  assertTrue("Precedence rules violated",content.getContent().indexOf("default1osml2<my:Tag3></my:Tag3><my:Tag4></my:Tag4>") > 0);
  testFeatureRemoved();
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void autoUpdateTemplate() throws Exception {
  setupGadget(getGadgetXml(CONTENT_WITH_AUTO_UPDATE));
  rewriter.rewrite(gadget,content);
  assertTrue("Template wasn't transformed",content.getContent().indexOf("Hello, John") > 0);
  assertTrue("Template tag was removed",content.getContent().contains("text/os-template"));
  assertTrue("ID span was not created",content.getContent().contains("<span id=\"_T_template_auto0\">"));
  testFeatureNotRemoved();
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void tagPrecedenceRules() throws Exception {
  data.put("${Cur['gadgets.features'].osml.library}","org/apache/shindig/gadgets/rewrite/OSML_test.xml");
  setupGadget(getGadgetXmlWithLibrary(CONTENT_TESTING_PRECEDENCE_RULES));
  rewriter.rewrite(gadget,content);
  assertTrue("Precedence rules violated",content.getContent().indexOf("default1osml2inline3external4") > 0);
  testFeatureRemoved();
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void osmlWithLibrary() throws Exception {
  setupGadget(getGadgetXmlWithLibrary(CONTENT_WITH_TAG_FROM_LIBRARY,"osml"));
  rewriter.rewrite(gadget,content);
  assertTrue("Custom tags were evaluated",content.getContent().equals("<html><head></head><body><my:Tag4></my:Tag4></body></html>"));
  testFeatureRemoved();
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void templateWithLibrary() throws Exception {
  setupGadget(getGadgetXmlWithLibrary(CONTENT_WITH_TAG_FROM_LIBRARY));
  rewriter.rewrite(gadget,content);
  assertTrue("Script not inserted",content.getContent().indexOf("<script type=\"text/javascript\">script</script>") > 0);
  assertTrue("Style not inserted",content.getContent().indexOf("<style type=\"text/css\">style</style>") > 0);
  assertTrue("Tag not executed",content.getContent().indexOf("external4") > 0);
  testFeatureRemoved();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.image.BMPOptimizerTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleImage() throws Exception {
  HttpResponse resp=createResponse("org/apache/shindig/gadgets/rewrite/image/simple.bmp","image/bmp");
  HttpResponse rewritten=rewrite(resp);
  assertTrue(rewritten.getContentLength() < resp.getContentLength());
  assertEquals("image/png",rewritten.getHeader("Content-Type"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.image.GIFOptimizerTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * This is a GIF image with an palette that contains transparent entries but
 * that has not pixels that map to them so it is Opaque.
 * @throws Exception
 */
@Test public void testBadPaletteGIFToPNG() throws Exception {
  HttpResponse resp=createResponse("org/apache/shindig/gadgets/rewrite/image/large.gif","image/gif");
  HttpResponse httpResponse=rewrite(resp);
  assertTrue(httpResponse.getContentLength() <= resp.getContentLength());
  assertEquals("image/png",httpResponse.getHeader("Content-Type"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * This is a GIF image with has a direct color model instead of an indexed one and has
 * tranparency
 * @throws Exception
 */
@Test public void testDirectColorModelGif() throws Exception {
  HttpResponse resp=createResponse("org/apache/shindig/gadgets/rewrite/image/directcolor.gif","image/gif");
  HttpResponse httpResponse=rewrite(resp);
  assertTrue(httpResponse.getContentLength() <= resp.getContentLength());
  assertEquals("image/gif",httpResponse.getHeader("Content-Type"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.image.ImageRewriterTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResize_acceptServeHugeImages() throws Exception {
  byte[] imageBytes=getImageBytes(HUGE_IMAGE);
  HttpResponseBuilder response=getImageResponse(CONTENT_TYPE_GIF,imageBytes);
  HttpRequest request=getMockRequest(null,null,null,false);
  mockControl.replay();
  rewriter.rewrite(request,response,null);
  mockControl.verify();
  assertEquals(HttpResponse.SC_OK,response.getHttpStatusCode());
  assertTrue(Arrays.equals(imageBytes,IOUtils.toByteArray(response.getContentBytes())));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRewriteValidImageWithValidMimeAndExtn() throws Exception {
  byte[] bytes=getImageBytes("org/apache/shindig/gadgets/rewrite/image/inefficient.png");
  HttpResponseBuilder response=getImageResponse(CONTENT_TYPE_PNG,bytes);
  int originalContentLength=response.getContentLength();
  rewriter.rewrite(new HttpRequest(Uri.parse("some.png")),response,null);
  assertEquals(HttpResponse.SC_OK,response.getHttpStatusCode());
  assertTrue(response.getContentLength() < originalContentLength);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.image.JPEGOptimizerTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSmallJPEGToPNG() throws Exception {
  HttpResponse resp=createResponse("org/apache/shindig/gadgets/rewrite/image/small.jpg","image/jpeg");
  HttpResponse rewritten=rewrite(resp);
  assertEquals("image/png",rewritten.getHeader("Content-Type"));
  assertTrue(rewritten.getContentLength() * 100 / resp.getContentLength() < 70);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRetainSubsmaplingEnabled() throws Exception {
  HttpResponse resp=createResponse("org/apache/shindig/gadgets/rewrite/image/testImage444.jpg","image/jpeg");
  HttpResponse rewritten=rewrite(resp,getConfigWithRetainSampling(true,0.70f));
  JpegImageUtils.JpegImageParams params=JpegImageUtils.getJpegImageData(rewritten.getResponse(),"");
  assertTrue(rewritten.getContentLength() < resp.getContentLength());
  assertEquals(JpegImageUtils.SamplingModes.YUV444,params.getSamplingMode());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLargeJPEGWithEtagAndCacheHeaders() throws Exception {
  HttpResponseBuilder responseBuilder=createResponseBuilder("org/apache/shindig/gadgets/rewrite/image/large.jpg","image/jpeg");
  responseBuilder.addHeader("ETag","wereertret");
  responseBuilder.addHeader("Cache-Control","public, max-age=86400");
  HttpResponse resp=responseBuilder.create();
  HttpResponse rewritten=rewrite(resp,getConfigWithRetainSampling(false,0.70f));
  assertEquals("image/jpeg",resp.getHeader("Content-Type"));
  assertEquals("public, max-age=86400",resp.getHeader("Cache-Control"));
  assertNull(rewritten.getHeader("ETag"));
  assertTrue(rewritten.getContentLength() < resp.getContentLength());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRetainSubsmaplingDisabled() throws Exception {
  HttpResponse resp=createResponse("org/apache/shindig/gadgets/rewrite/image/testImage444.jpg","image/jpeg");
  HttpResponse rewritten=rewrite(resp,getConfigWithRetainSampling(false,0.70f));
  JpegImageUtils.JpegImageParams params=JpegImageUtils.getJpegImageData(rewritten.getResponse(),"");
  assertTrue(rewritten.getContentLength() < resp.getContentLength());
  assertEquals(JpegImageUtils.SamplingModes.YUV420,params.getSamplingMode());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLargeJPEG() throws Exception {
  HttpResponse resp=createResponse("org/apache/shindig/gadgets/rewrite/image/large.jpg","image/jpeg");
  HttpResponse rewritten=rewrite(resp);
  assertEquals("image/jpeg",resp.getHeader("Content-Type"));
  assertTrue(rewritten.getContentLength() <= resp.getContentLength());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSmallJPEGIsNotConvertedToPNGWithJpegConversionDisabled() throws Exception {
  HttpResponse resp=createResponse("org/apache/shindig/gadgets/rewrite/image/small.jpg","image/jpeg");
  HttpResponse rewritten=rewrite(resp,getDefaultConfigWithJpegConversionDisabled());
  assertEquals("image/jpeg",rewritten.getHeader("Content-Type"));
  assertTrue(rewritten.getContentLength() <= resp.getContentLength());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.image.PNGOptimizerTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStripAlpha() throws Exception {
  HttpResponse resp=createResponse("org/apache/shindig/gadgets/rewrite/image/rgbawithnoalpha.png","image/png");
  HttpResponse httpResponse=rewrite(resp);
  assertTrue(httpResponse.getContentLength() <= resp.getContentLength());
  assertEquals("image/png",httpResponse.getHeader("Content-Type"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRewriteInefficientPNG() throws Exception {
  HttpResponse resp=createResponse("org/apache/shindig/gadgets/rewrite/image/inefficient.png","image/png");
  HttpResponse httpResponse=rewrite(resp);
  assertTrue(httpResponse.getContentLength() <= resp.getContentLength());
  assertEquals("image/png",httpResponse.getHeader("Content-Type"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.rewrite.js.ClosureJsCompilerTest </h4><pre class="type-9 type-5 type-6 type-1 type-13 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Ignore("This class was not being run and when I ran it this test did not pass.  Not familiar enough to enable it.") @Test public void testCompileErrorOpt() throws Exception {
  jsUriMock=mockJsUri(false);
  realCompMock=mockRealJsCompiler(JS_ERROR,realResultMock,ACTUAL_COMPILER_OUTPUT);
  realOptionsMock=mockRealJsCompilerOptions(true);
  compiler=newClosureJsCompiler(realCompMock,realOptionsMock,compilerMock,cacheMock);
  JsResponse actual=compiler.compile(jsUriMock,EXPORT_COMPILER_CONTENTS,EXTERN);
  assertTrue(actual.getErrors().get(0).contains(ERROR_NAME));
  assertEquals(1,actual.getErrors().size());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-13 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Ignore("This class was not being run and when I ran it this test did not pass.  Not familiar enough to enable it.") @Test public void testCompileErrorDeb() throws Exception {
  jsUriMock=mockJsUri(true);
  realCompMock=mockRealJsCompiler(JS_ERROR,realResultMock,ACTUAL_COMPILER_OUTPUT);
  realOptionsMock=mockRealJsCompilerOptions(true);
  realResultMock=mockRealJsResult();
  compiler=newClosureJsCompiler(realCompMock,realOptionsMock,compilerMock,cacheMock);
  JsResponse actual=compiler.compile(jsUriMock,EXPORT_COMPILER_CONTENTS,EXTERN);
  assertTrue(actual.getErrors().get(0).contains(ERROR_NAME));
  assertEquals(1,actual.getErrors().size());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-13 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Ignore("This class was not being run and when I ran it this test did not pass.  Not familiar enough to enable it.") @SuppressWarnings("unchecked") @Test public void testCompileSuccessOptWithProfiling() throws Exception {
  jsUriMock=mockJsUri(false);
  realOptionsMock=new CompilerOptions();
  realOptionsMock.enableExternExports(false);
  realOptionsMock.sourceMapOutputPath="test.out";
  realOptionsMock.sourceMapFormat=Format.V2;
  realOptionsMock.sourceMapDetailLevel=SourceMap.DetailLevel.ALL;
  realOptionsMock.ideMode=false;
  realOptionsMock.convertToDottedProperties=true;
  for (  Map.Entry<String,String> compilerTest : COMPILER_IO.entrySet()) {
    List<JsContent> content=newJsContents(compilerTest.getKey());
    exportResponseMock=mockJsResponse(compilerTest.getKey());
    compilerMock=mockDefaultJsCompiler(exportResponseMock,content);
    compiler=newProfilingClosureJsCompiler(realOptionsMock,compilerMock,cacheMock);
    JsResponse actual=compiler.compile(jsUriMock,content,EXTERN);
    assertEquals(compilerTest.getValue(),actual.toJsString());
    assertTrue(actual.getErrors().isEmpty());
  }
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCompileSuccessDeb() throws Exception {
  jsUriMock=mockJsUri(true);
  realResultMock=mockRealJsResult();
  realCompMock=mockRealJsCompiler(null,realResultMock,ACTUAL_COMPILER_OUTPUT);
  realOptionsMock=mockRealJsCompilerOptions(false);
  compiler=newClosureJsCompiler(realCompMock,realOptionsMock,compilerMock,cacheMock);
  JsResponse actual=compiler.compile(jsUriMock,EXPORT_COMPILER_CONTENTS,EXTERN);
  assertEquals(EXPORT_COMPILER_STRING,actual.toJsString());
  assertTrue(actual.getErrors().isEmpty());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCompileSuccessOpt() throws Exception {
  jsUriMock=mockJsUri(false);
  realResultMock=mockRealJsResult();
  realCompMock=mockRealJsCompiler(null,realResultMock,ACTUAL_COMPILER_OUTPUT);
  realOptionsMock=mockRealJsCompilerOptions(false);
  compiler=newClosureJsCompiler(realCompMock,realOptionsMock,compilerMock,cacheMock);
  JsResponse actual=compiler.compile(jsUriMock,EXPORT_COMPILER_CONTENTS,EXTERN);
  assertEquals(ACTUAL_COMPILER_OUTPUT,actual.toJsString());
  assertTrue(actual.getErrors().isEmpty());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.GadgetsHandlerServiceTest </h4><pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetMetadataWithalwaysAppendST() throws Exception {
  GadgetsHandlerApi.MetadataRequest request=createMetadataRequest(FakeProcessor.SPEC_URL,CONTAINER,"default",createAuthContext(null,null),ImmutableList.of("*"));
  setupMockGadgetAdminStore(true);
  setupMockRegistry(ImmutableList.<String>of(""));
  expect(config.getBool(CONTAINER,DefaultIframeUriManager.SECURITY_TOKEN_ALWAYS_KEY)).andReturn(true).once();
  replay(config);
  GadgetsHandlerApi.MetadataResponse response=gadgetHandler.getMetadata(request);
  assertTrue(response.getNeedsTokenRefresh());
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetMetadata() throws Exception {
  GadgetsHandlerApi.MetadataRequest request=createMetadataRequest(FakeProcessor.SPEC_URL,CONTAINER,"default",createAuthContext(null,null),ImmutableList.of("*"));
  setupMockGadgetAdminStore(true);
  setupMockRegistry(ImmutableList.<String>of("auth-refresh"));
  GadgetsHandlerApi.MetadataResponse response=gadgetHandler.getMetadata(request);
  assertEquals(FakeIframeUriManager.IFRAME_URIS_STRINGS,response.getIframeUrls());
  assertTrue(response.getNeedsTokenRefresh());
  assertEquals(1,response.getViews().size());
  assertEquals(FakeProcessor.SPEC_TITLE,response.getModulePrefs().getTitle());
  assertEquals(FakeProcessor.LINK_HREF,response.getModulePrefs().getLinks().get(FakeProcessor.LINK_REL).getHref().toString());
  assertEquals(FakeProcessor.LINK_REL,response.getModulePrefs().getLinks().get(FakeProcessor.LINK_REL).getRel());
  assertEquals(1,response.getUserPrefs().size());
  assertEquals("up_one",response.getUserPrefs().get("up_one").getDisplayName());
  assertEquals(4,response.getUserPrefs().get("up_one").getOrderedEnumValues().size());
  assertEquals(CURRENT_TIME_MS,response.getResponseTimeMs());
  assertEquals(METADATA_EXPIRY_TIME_MS,response.getExpireTimeMs());
  assertEquals(Sets.newHashSet(RPC_SERVICE_1,RPC_SERVICE_2,RPC_SERVICE_3),response.getRpcServiceIds());
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetMetadataWithParams() throws Exception {
  GadgetsHandlerApi.MetadataRequest request=createMetadataRequest(FakeProcessor.SPEC_URL4,CONTAINER,"default",createAuthContext(null,null),ImmutableList.of("*"));
  setupMockGadgetAdminStore(true);
  setupMockRegistry(Lists.newArrayList("auth-refresh"));
  GadgetsHandlerApi.MetadataResponse response=gadgetHandler.getMetadata(request);
  Map<String,Feature> features=response.getModulePrefs().getFeatures();
  assertTrue(features.containsKey(FakeProcessor.FEATURE1) && features.containsKey(FakeProcessor.FEATURE2) && features.containsKey(FakeProcessor.FEATURE3)&& features.size() == 3);
  Multimap<String,String> params1=features.get(FakeProcessor.FEATURE2).getParams();
  assertEquals(ImmutableList.of(FakeProcessor.PARAM_VALUE,FakeProcessor.PARAM_VALUE2),params1.get(FakeProcessor.PARAM_NAME));
  Multimap<String,String> params2=features.get(FakeProcessor.FEATURE3).getParams();
  assertEquals(ImmutableList.of(FakeProcessor.PARAM_VALUE3),params2.get(FakeProcessor.PARAM_NAME2));
  verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.GadgetsHandlerTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleProxyData() throws Exception {
  registerGadgetsHandler(null);
  String resUri="http://example.com/data";
  String proxyUri="http://shindig.com/gadgets/proxy?url=" + resUri;
  JSONObject request=makeSimpleProxyRequest("*",resUri);
  Capture<List<ProxyUri>> captureProxyUri=new Capture<List<ProxyUri>>();
  EasyMock.expect(proxyUriManager.make(EasyMock.capture(captureProxyUri),EasyMock.isNull(Integer.class))).andReturn(ImmutableList.<Uri>of(Uri.parse(proxyUri)));
  String responseData="response data";
  HttpResponse httpResponse=new HttpResponse(responseData);
  EasyMock.expect(proxyHandler.fetch(EasyMock.isA(ProxyUri.class))).andReturn(httpResponse);
  replay();
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject gadget1=response.getJSONObject(resUri);
  assertEquals(proxyUri,gadget1.getString("proxyUrl"));
  ProxyUri pUri=captureProxyUri.getValue().get(0);
  ProxyUri expectedUri=new ProxyUri(null,false,false,CONTAINER,null,Uri.parse(resUri));
  assertTrue(expectedUri.equals(pUri));
  assertEquals(responseData,new String(Base64.decodeBase64(((JSONObject)gadget1.get("proxyContent")).getString("contentBase64").getBytes())));
  assertFalse(gadget1.has("error"));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testJsData() throws Exception {
  registerGadgetsHandler(null);
  List<String> features=ImmutableList.of("rpc","io");
  List<String> loadedFeatures=ImmutableList.of("rpc");
  Uri jsUri=Uri.parse("http://shindig.com/gadgets/js/rpc:io");
  String onload="do \"this\";";
  String repository="v01";
  JSONObject request=makeComplexJsRequest(features,loadedFeatures,onload,repository);
  Capture<JsUri> captureUri=new Capture<JsUri>();
  EasyMock.expect(jsUriManager.makeExternJsUri(EasyMock.capture(captureUri))).andReturn(jsUri);
  String jsContent="var b=\"123\";";
  EasyMock.expect(jsPipeline.execute(EasyMock.isA(JsRequest.class))).andReturn(new JsResponseBuilder().appendJs(jsContent,"js").build());
  replay();
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject results=new JSONObject(converter.convertToString(responseObj));
  assertEquals(jsUri.toString(),results.getString("jsUrl"));
  JsUri expectedUri=new JsUri(123,true,true,CONTAINER,GADGET1_URL,features,loadedFeatures,onload,false,false,RenderingContext.CONTAINER,null,repository);
  assertEquals(expectedUri,captureUri.getValue());
  assertFalse(results.has("error"));
  assertEquals(jsContent,results.getString("jsContent"));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCajaHtmlRequest() throws Exception {
  registerGadgetsHandler(null);
  Capture<Uri> uriCapture=new Capture<Uri>();
  Capture<String> containerCapture=new Capture<String>();
  Capture<String> mimeCapture=new Capture<String>();
  String goldenMime="text/html";
  CajoledResult golden=cajole(HTML_URL,goldenMime,"<b>hello</b>world<script>evilFunc1()</script><div onclick='evilFunc2'></div>");
  EasyMock.expect(cajaContentRewriter.rewrite(EasyMock.capture(uriCapture),EasyMock.capture(containerCapture),EasyMock.capture(mimeCapture),EasyMock.eq(true),EasyMock.anyBoolean())).andReturn(golden).anyTimes();
  replay();
  JSONObject request=makeCajaRequest(goldenMime,HTML_URL.toString());
  RpcHandler operation=registry.getRpcHandler(request);
  Object result=operation.execute(emptyFormItems,authContext,converter).get();
  assertEquals(CONTAINER,containerCapture.getValue());
  assertEquals(HTML_URL,uriCapture.getValue());
  assertTrue(mimeCapture.getValue().contains("html"));
  JSONObject response=new JSONObject(converter.convertToString(result));
  assertTrue(response.has(HTML_URL.toString()));
  JSONObject cajaResponse=response.getJSONObject(HTML_URL.toString());
  assertTrue(cajaResponse.has("html"));
  assertTrue(cajaResponse.has("js"));
  assertTrue(cajaResponse.has("messages"));
  assertTrue(cajaResponse.getString("html").contains("<b>hello</b>world"));
  assertFalse(cajaResponse.getString("html").contains("evilFunc"));
  assertTrue(cajaResponse.getString("js").contains("evilFunc"));
  assertTrue(cajaResponse.getJSONArray("messages").length() > 0);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleProxy() throws Exception {
  registerGadgetsHandler(null);
  String resUri="http://example.com/data";
  String proxyUri="http://shindig.com/gadgets/proxy?url=" + resUri;
  JSONObject request=makeSimpleProxyRequest(null,resUri);
  Capture<List<ProxyUri>> captureProxyUri=new Capture<List<ProxyUri>>();
  EasyMock.expect(proxyUriManager.make(EasyMock.capture(captureProxyUri),EasyMock.isNull(Integer.class))).andReturn(ImmutableList.<Uri>of(Uri.parse(proxyUri)));
  replay();
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject gadget1=response.getJSONObject(resUri);
  assertEquals(proxyUri,gadget1.getString("proxyUrl"));
  ProxyUri pUri=captureProxyUri.getValue().get(0);
  ProxyUri expectedUri=new ProxyUri(null,false,false,CONTAINER,null,Uri.parse(resUri));
  assertTrue(expectedUri.equals(pUri));
  assertFalse(gadget1.has("error"));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testMetadataOneGadgetNoRequestTokenTTLParam() throws Exception {
  registerGadgetsHandler(null);
  setupGadgetAdminStore();
  setupMockRegistry(Lists.newArrayList("core"));
  JSONObject request=makeMetadataRequest(null,null,null,GADGET1_URL);
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  assertFalse(response.getJSONObject(FakeProcessor.SPEC_URL.toString()).has("tokenTTL"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMetadataOneGadget() throws Exception {
  registerGadgetsHandler(null);
  setupGadgetAdminStore();
  setupMockRegistry(Lists.newArrayList("core"));
  JSONObject request=makeMetadataRequest(null,null,null,GADGET1_URL);
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject gadget=response.getJSONObject(GADGET1_URL);
  JSONObject iframeUrls=gadget.getJSONObject("iframeUrls");
  assertEquals(FakeIframeUriManager.DEFAULT_IFRAME_URI.toString(),iframeUrls.getString("default"));
  assertEquals(FakeProcessor.SPEC_TITLE,gadget.getJSONObject("modulePrefs").getString("title"));
  assertFalse(gadget.has("error"));
  assertFalse(gadget.has("url"));
  JSONObject view=gadget.getJSONObject("views").getJSONObject(GadgetSpec.DEFAULT_VIEW);
  assertEquals(FakeProcessor.PREFERRED_HEIGHT,view.getInt("preferredHeight"));
  assertEquals(FakeProcessor.PREFERRED_WIDTH,view.getInt("preferredWidth"));
  assertEquals(FakeProcessor.LINK_HREF,gadget.getJSONObject("modulePrefs").getJSONObject("links").getJSONObject(FakeProcessor.LINK_REL).getString("href"));
  JSONObject userPrefs=gadget.getJSONObject("userPrefs");
  assertNotNull(userPrefs);
  JSONObject userPrefData=userPrefs.getJSONObject("up_one");
  assertNotNull(userPrefData);
  JSONArray orderedEnums=userPrefData.getJSONArray("orderedEnumValues");
  assertNotNull(orderedEnums);
  assertEquals(4,orderedEnums.length());
  assertEquals("disp1",orderedEnums.getJSONObject(0).getString("displayValue"));
  assertEquals("val1",orderedEnums.getJSONObject(0).getString("value"));
  assertEquals("disp2",orderedEnums.getJSONObject(1).getString("displayValue"));
  assertEquals("abc",orderedEnums.getJSONObject(1).getString("value"));
  assertEquals("disp3",orderedEnums.getJSONObject(2).getString("displayValue"));
  assertEquals("z_xabc",orderedEnums.getJSONObject(2).getString("value"));
  assertEquals("disp4",orderedEnums.getJSONObject(3).getString("displayValue"));
  assertEquals("foo",orderedEnums.getJSONObject(3).getString("value"));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testJsSimple() throws Exception {
  registerGadgetsHandler(null);
  List<String> features=ImmutableList.of("rpc","io");
  Uri jsUri=Uri.parse("http://shindig.com/gadgets/js/rpc:io");
  JSONObject request=makeSimpleJsRequest(null,features);
  Capture<JsUri> captureUri=new Capture<JsUri>();
  EasyMock.expect(jsUriManager.makeExternJsUri(EasyMock.capture(captureUri))).andReturn(jsUri);
  replay();
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject results=new JSONObject(converter.convertToString(responseObj));
  assertEquals(jsUri.toString(),results.getString("jsUrl"));
  JsUri expectedUri=new JsUri(null,false,false,CONTAINER,GADGET1_URL,features,null,null,false,false,RenderingContext.GADGET,null,null);
  assertEquals(expectedUri,captureUri.getValue());
  assertFalse(results.has("error"));
  assertFalse(results.has("jsContent"));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCajaJsRequest() throws Exception {
  registerGadgetsHandler(null);
  Capture<Uri> uriCapture=new Capture<Uri>();
  Capture<String> containerCapture=new Capture<String>();
  Capture<String> mimeCapture=new Capture<String>();
  String goldenMime="text/javascript";
  CajoledResult golden=cajole(JS_URL,goldenMime,"alert('hi');");
  EasyMock.expect(cajaContentRewriter.rewrite(EasyMock.capture(uriCapture),EasyMock.capture(containerCapture),EasyMock.capture(mimeCapture),EasyMock.eq(true),EasyMock.anyBoolean())).andReturn(golden).anyTimes();
  replay();
  JSONObject request=makeCajaRequest(goldenMime,JS_URL.toString());
  RpcHandler operation=registry.getRpcHandler(request);
  Object result=operation.execute(emptyFormItems,authContext,converter).get();
  assertEquals(CONTAINER,containerCapture.getValue());
  assertEquals(JS_URL,uriCapture.getValue());
  assertTrue(mimeCapture.getValue().contains("javascript"));
  JSONObject response=new JSONObject(converter.convertToString(result));
  assertTrue(response.has(JS_URL.toString()));
  JSONObject cajaResponse=response.getJSONObject(JS_URL.toString());
  assertFalse(cajaResponse.has("html"));
  assertTrue(cajaResponse.has("js"));
  assertTrue(cajaResponse.has("messages"));
  assertTrue(cajaResponse.getString("js").contains("alert"));
  assertTrue(cajaResponse.getJSONArray("messages").length() > 0);
}

</code></pre>

<br>
<pre class="type-7 type-6 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMetadataNoContainerRequest() throws Exception {
  registerGadgetsHandler(null);
  JSONObject request=makeMetadataNoContainerRequest(GADGET1_URL);
  RpcHandler operation=registry.getRpcHandler(request);
  try {
    operation.execute(emptyFormItems,authContext,converter).get();
    fail("Missing container");
  }
 catch (  Exception e) {
    assertTrue(e.getMessage().contains("Missing container"));
  }
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testComplexProxy() throws Exception {
  registerGadgetsHandler(null);
  String resUri="http://example.com/data";
  String proxyUri="http://shindig.com/gadgets/proxy?url=" + resUri;
  JSONObject request=makeComplexProxyRequest(resUri);
  Capture<List<ProxyUri>> captureProxyUri=new Capture<List<ProxyUri>>();
  EasyMock.expect(proxyUriManager.make(EasyMock.capture(captureProxyUri),EasyMock.isNull(Integer.class))).andReturn(ImmutableList.<Uri>of(Uri.parse(proxyUri)));
  replay();
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject gadget1=response.getJSONObject(resUri);
  assertEquals(proxyUri,gadget1.getString("proxyUrl"));
  ProxyUri pUri=captureProxyUri.getValue().get(0);
  ProxyUri expectedUri=new ProxyUri(333,true,true,CONTAINER,GADGET1_URL,Uri.parse(resUri));
  expectedUri.setRewriteMimeType("text/xml").setSanitizeContent(true);
  expectedUri.setFallbackUrl(resUri).setResize(555,444,88,true);
  assertTrue(expectedUri.equals(pUri));
  assertFalse(gadget1.has("error"));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTokenMultipleGadgetsWithSuccessAndFailure() throws Exception {
  SecurityTokenCodec codec=EasyMock.createMock(SecurityTokenCodec.class);
  EasyMock.expect(codec.encodeToken(EasyMock.isA(SecurityToken.class))).andReturn(TOKEN);
  EasyMock.expect(codec.encodeToken(EasyMock.isA(SecurityToken.class))).andThrow(new SecurityTokenException("blah"));
  replay(codec);
  registerGadgetsHandler(codec);
  JSONObject request=makeTokenRequest(GADGET1_URL,GADGET2_URL);
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject gadget1=response.getJSONObject(GADGET1_URL);
  assertEquals(TOKEN,gadget1.getString("token"));
  assertFalse(gadget1.has("error"));
  JSONObject gadget2=response.getJSONObject(GADGET2_URL);
  assertFalse(gadget2.has("token"));
  assertEquals(GadgetsHandler.FAILURE_TOKEN,gadget2.getJSONObject("error").getString("message"));
  assertEquals(500,gadget2.getJSONObject("error").getInt("code"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTokenOneGadgetFailure() throws Exception {
  SecurityTokenCodec codec=EasyMock.createMock(SecurityTokenCodec.class);
  EasyMock.expect(codec.encodeToken(EasyMock.isA(SecurityToken.class))).andThrow(new SecurityTokenException("blah"));
  replay(codec);
  registerGadgetsHandler(codec);
  JSONObject request=makeTokenRequest(GADGET1_URL);
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject gadget=response.getJSONObject(GADGET1_URL);
  assertFalse(gadget.has("token"));
  assertEquals(GadgetsHandler.FAILURE_TOKEN,gadget.getJSONObject("error").getString("message"));
  assertEquals(500,gadget.getJSONObject("error").getInt("code"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAllowedRpcSecurityIds() throws Exception {
  registerGadgetsHandler(null);
  setupGadgetAdminStore();
  setupMockRegistry(Lists.newArrayList("core"));
  JSONObject request=makeMetadataRequest(null,null,new String[]{"rpcServiceIds"},GADGET1_URL);
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject gadget=response.getJSONObject(GADGET1_URL);
  JSONArray rpcServiceIds=gadget.getJSONArray("rpcServiceIds");
  assertEquals(3,rpcServiceIds.length());
  boolean result=rpcServiceIds.get(0).equals(RPC_SERVICE_2) || rpcServiceIds.get(0).equals(RPC_SERVICE_1) || rpcServiceIds.get(0).equals(RPC_SERVICE_3);
  result&=rpcServiceIds.get(1).equals(RPC_SERVICE_2) || rpcServiceIds.get(1).equals(RPC_SERVICE_1) || rpcServiceIds.get(1).equals(RPC_SERVICE_3);
  result&=rpcServiceIds.get(2).equals(RPC_SERVICE_2) || rpcServiceIds.get(2).equals(RPC_SERVICE_1) || rpcServiceIds.get(2).equals(RPC_SERVICE_3);
  assertTrue(result);
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testJsFailure() throws Exception {
  registerGadgetsHandler(null);
  List<String> features=ImmutableList.of("rpc2");
  List<String> loadedFeatures=ImmutableList.of();
  Uri jsUri=Uri.parse("http://shindig.com/gadgets/js/rpc:io");
  String onload="do \"this\";";
  JSONObject request=makeComplexJsRequest(features,loadedFeatures,onload,null);
  Capture<JsUri> captureUri=new Capture<JsUri>();
  EasyMock.expect(jsUriManager.makeExternJsUri(EasyMock.capture(captureUri))).andReturn(jsUri);
  EasyMock.expect(jsPipeline.execute(EasyMock.isA(JsRequest.class))).andThrow(new JsException(404,"not found"));
  replay();
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject results=new JSONObject(converter.convertToString(responseObj));
  assertFalse(results.has("jsUrl"));
  assertEquals(HttpResponse.SC_NOT_FOUND,results.getJSONObject("error").getInt("code"));
  assertTrue(results.getJSONObject("error").getString("message").contains("not found"));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTokenOneGadget() throws Exception {
  SecurityTokenCodec codec=EasyMock.createMock(SecurityTokenCodec.class);
  Capture<SecurityToken> authContextCapture=new Capture<SecurityToken>();
  EasyMock.expect(codec.encodeToken(EasyMock.capture(authContextCapture))).andReturn(TOKEN).anyTimes();
  replay(codec);
  registerGadgetsHandler(codec);
  JSONObject request=makeTokenRequest(GADGET1_URL);
  RpcHandler operation=registry.getRpcHandler(request);
  Object responseObj=operation.execute(emptyFormItems,authContext,converter).get();
  JSONObject response=new JSONObject(converter.convertToString(responseObj));
  JSONObject gadget=response.getJSONObject(GADGET1_URL);
  assertEquals(TOKEN,gadget.getString("token"));
  assertFalse(gadget.has("error"));
  assertFalse(gadget.has("url"));
  assertEquals("container",authContextCapture.getValue().getContainer());
  assertEquals(GADGET1_URL,authContextCapture.getValue().getAppId());
  assertEquals(GADGET1_URL,authContextCapture.getValue().getAppUrl());
  assertSame(authContext.getOwnerId(),authContextCapture.getValue().getOwnerId());
  assertSame(authContext.getViewerId(),authContextCapture.getValue().getViewerId());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.HtmlAccelServletTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHtmlAccelHandlesPost() throws Exception {
  String url="http://example.org/data.html";
  String data="<html><body>This is error page</body></html>";
  ((FakeCaptureRewriter)rewriter).setContentToRewrite(data);
  Capture<HttpRequest> req=new Capture<HttpRequest>();
  HttpResponse resp=new HttpResponseBuilder().setResponse(data.getBytes()).setHeader("Content-Type","text/html").create();
  expect(pipeline.execute(capture(req))).andReturn(resp).once();
  expectPostRequest("",url,"hello=world");
  replay();
  servlet.doPost(request,recorder);
  verify();
  assertEquals(data,recorder.getResponseAsString());
  assertEquals(200,recorder.getHttpStatusCode());
  assertTrue(rewriter.responseWasRewritten());
  assertEquals("POST",req.getValue().getMethod());
  assertEquals("hello=world",req.getValue().getPostBodyAsString());
}

</code></pre>

<br>
<pre class="type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNoCacheControlHeaderSetIfAbsent() throws Exception {
  String url="http://example.org/data.html";
  String data="<html><body>Hello World</body></html>";
  ((FakeCaptureRewriter)rewriter).setContentToRewrite(REWRITE_CONTENT);
  HttpRequest req=new HttpRequest(Uri.parse(url));
  req.addHeader("Host",Uri.parse(url).getAuthority());
  HttpResponse resp=new HttpResponseBuilder().setResponse(data.getBytes()).setHeader("Content-Type","text/html").setHttpStatusCode(200).create();
  expect(pipeline.execute(req)).andReturn(resp).once();
  expectRequest("",url);
  replay();
  servlet.doGet(request,recorder);
  verify();
  assertNull(recorder.getHeader("Cache-Control"));
  assertEquals(REWRITE_CONTENT,recorder.getResponseAsString());
  assertEquals(200,recorder.getHttpStatusCode());
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHtmlAccelReturnsSameStatusCodeAndMessageWhenError() throws Exception {
  String url="http://example.org/data.html";
  String data="<html><body>This is error page</body></html>";
  ((FakeCaptureRewriter)rewriter).setContentToRewrite(data);
  HttpRequest req=new HttpRequest(Uri.parse(url));
  req.addHeader("Host",Uri.parse(url).getAuthority());
  HttpResponse resp=new HttpResponseBuilder().setResponse(data.getBytes()).setHeader("Content-Type","text/html").setHttpStatusCode(5001).create();
  expect(pipeline.execute(req)).andReturn(resp).once();
  expectRequest("",url);
  replay();
  servlet.doGet(request,recorder);
  verify();
  assertEquals(data,recorder.getResponseAsString());
  assertEquals(5001,recorder.getHttpStatusCode());
  assertFalse(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHtmlAccelRewriteSimple() throws Exception {
  String url="http://example.org/data.html";
  String data="<html><body>Hello World</body></html>";
  ((FakeCaptureRewriter)rewriter).setContentToRewrite(REWRITE_CONTENT);
  HttpRequest req=new HttpRequest(Uri.parse(url));
  req.addHeader("Host",Uri.parse(url).getAuthority());
  HttpResponse resp=new HttpResponseBuilder().setResponse(data.getBytes()).setHeader("Content-Type","text/html").setHttpStatusCode(200).create();
  expect(pipeline.execute(req)).andReturn(resp).once();
  expectRequest("",url);
  replay();
  servlet.doGet(request,recorder);
  verify();
  assertEquals(REWRITE_CONTENT,recorder.getResponseAsString());
  assertEquals(200,recorder.getHttpStatusCode());
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetCookieHeadersPassed() throws Exception {
  String url="http://example.org/data.html";
  String data="<html><body>Hello World</body></html>";
  ((FakeCaptureRewriter)rewriter).setContentToRewrite(REWRITE_CONTENT);
  HttpRequest req=new HttpRequest(Uri.parse(url));
  req.addHeader("Host",Uri.parse(url).getAuthority());
  HttpResponse resp=new HttpResponseBuilder().setResponse(data.getBytes()).setHeader("Content-Type","text/html").setHeader("Set-Cookie","name=value").setHeader("Set-Cookie2","name2=value2").setHttpStatusCode(200).create();
  expect(pipeline.execute(req)).andReturn(resp).once();
  expectRequest("",url);
  replay();
  servlet.doGet(request,recorder);
  verify();
  assertEquals(recorder.getHeader("Set-Cookie"),"name=value");
  assertEquals(recorder.getHeader("Set-Cookie2"),"name2=value2");
  assertEquals(REWRITE_CONTENT,recorder.getResponseAsString());
  assertEquals(200,recorder.getHttpStatusCode());
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHtmlAccelRewriteInternalError() throws Exception {
  String url="http://example.org/data.html";
  String data="<html><body>This is error page</body></html>";
  ((FakeCaptureRewriter)rewriter).setContentToRewrite(data);
  HttpRequest req=new HttpRequest(Uri.parse(url));
  req.addHeader("Host",Uri.parse(url).getAuthority());
  HttpResponse resp=new HttpResponseBuilder().setResponse(data.getBytes()).setHeader("Content-Type","text/html").setHttpStatusCode(500).create();
  expect(pipeline.execute(req)).andReturn(resp).once();
  expectRequest("",url);
  replay();
  servlet.doGet(request,recorder);
  verify();
  assertEquals(data,recorder.getResponseAsString());
  assertEquals(502,recorder.getHttpStatusCode());
  assertFalse(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHtmlAccelReturnsOriginal404MessageAndCode() throws Exception {
  String url="http://example.org/data.html";
  String data="<html><body>This is error page</body></html>";
  ((FakeCaptureRewriter)rewriter).setContentToRewrite(REWRITE_CONTENT);
  HttpRequest req=new HttpRequest(Uri.parse(url));
  req.addHeader("Host",Uri.parse(url).getAuthority());
  HttpResponse resp=new HttpResponseBuilder().setResponse(data.getBytes()).setHeader("Content-Type","text/html").setHttpStatusCode(404).create();
  expect(pipeline.execute(req)).andReturn(resp).once();
  expectRequest("",url);
  replay();
  servlet.doGet(request,recorder);
  verify();
  assertEquals(data,recorder.getResponseAsString());
  assertEquals(404,recorder.getHttpStatusCode());
  assertFalse(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCacheControlExpiresAndDateHeadersPassed() throws Exception {
  String url="http://example.org/data.html";
  String data="<html><body>Hello World</body></html>";
  ((FakeCaptureRewriter)rewriter).setContentToRewrite(REWRITE_CONTENT);
  HttpRequest req=new HttpRequest(Uri.parse(url));
  req.addHeader("Host",Uri.parse(url).getAuthority());
  Map<String,String> headersMap=Maps.newHashMap();
  headersMap.put("Set-Cookie","name=value");
  headersMap.put("Set-Cookie2","name2=value2");
  headersMap.put("Date","Mon, 01 Jan 1970 00:00:00 GMT");
  headersMap.put("Cache-Control","private,max-age=10,no-transform,proxy-revalidate");
  headersMap.put("Pragma","no-cache");
  headersMap.put("Expires","123");
  HttpResponse resp=new HttpResponseBuilder().setResponse(data.getBytes()).addHeaders(headersMap).setHeader("Content-Type","text/html").setHttpStatusCode(200).create();
  expect(pipeline.execute(req)).andReturn(resp).once();
  expectRequest("",url);
  replay();
  servlet.doGet(request,recorder);
  verify();
  for (  Map.Entry<String,String> header : headersMap.entrySet()) {
    assertEquals(recorder.getHeader(header.getKey()),header.getValue());
  }
  assertEquals(REWRITE_CONTENT,recorder.getResponseAsString());
  assertEquals(200,recorder.getHttpStatusCode());
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHtmlAccelRewriteDoesNotFollowRedirects() throws Exception {
  String url="http://example.org/data.html";
  String data="<html><body>Moved to new page</body></html>";
  String redirectLocation="http://example-redirected.org/data.html";
  ((FakeCaptureRewriter)rewriter).setContentToRewrite(data);
  HttpRequest req=new HttpRequest(Uri.parse(url));
  req.addHeader("Host",Uri.parse(url).getAuthority());
  HttpResponse resp=new HttpResponseBuilder().setResponse(data.getBytes()).setHeader("Content-Type","text/html").setHeader("Location",redirectLocation).setHttpStatusCode(302).create();
  expect(pipeline.execute(req)).andReturn(resp).once();
  expectRequest("",url);
  replay();
  servlet.doGet(request,recorder);
  verify();
  assertEquals(data,recorder.getResponseAsString());
  assertEquals(redirectLocation,recorder.getHeader("Location"));
  assertEquals(302,recorder.getHttpStatusCode());
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.HttpGadgetContextTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIgnoreCacheParam(){
  expect(request.getParameter("nocache")).andReturn(Integer.toString(Integer.MAX_VALUE));
  replay();
  GadgetContext context=new HttpGadgetContext(request);
  assertTrue(context.getIgnoreCache());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testDebug(){
  expect(request.getParameter("debug")).andReturn("1");
  replay();
  GadgetContext context=new HttpGadgetContext(request);
  assertTrue(context.getDebug());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.HttpRequestHandlerTest </h4><pre class="type-7 type-6 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSignedGetRequestNoSecurityToken() throws Exception {
  JSONObject request=new JSONObject("{method:http.get, id:req1, params : {" + "href:'http://www.example.org/somecontent'," + "authz : 'signed'}"+ "}}");
  HttpRequest httpRequest=new HttpRequest(Uri.parse("http://www.example.org/somecontent"));
  httpRequest.setMethod("GET");
  httpRequest.setAuthType(AuthType.SIGNED);
  expect(pipeline.execute(eqRequest(httpRequest))).andReturn(builder.create()).anyTimes();
  replay();
  RpcHandler operation=registry.getRpcHandler(request);
  try {
    operation.execute(emptyFormItems,null,converter).get();
    fail("Cannot execute a request without a security token");
  }
 catch (  ExecutionException ee) {
    assertTrue(ee.getCause() instanceof ProtocolException);
  }
  verify();
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSignedGetRequest() throws Exception {
  JSONObject request=new JSONObject("{method:http.get, id:req1, params : {" + "href:'http://www.example.org/somecontent'," + "authz : 'signed' }"+ "}}");
  HttpRequest httpRequest=new HttpRequest(Uri.parse("http://www.example.org/somecontent"));
  httpRequest.setMethod("GET");
  httpRequest.setAuthType(AuthType.SIGNED);
  httpRequest.setOAuthArguments(new OAuthArguments(AuthType.SIGNED,ImmutableMap.<String,String>of()));
  expect(pipeline.execute(eqRequest(httpRequest))).andReturn(builder.create()).anyTimes();
  replay();
  RpcHandler operation=registry.getRpcHandler(request);
  HttpRequestHandler.HttpApiResponse httpApiResponse=(HttpRequestHandler.HttpApiResponse)operation.execute(emptyFormItems,token,converter).get();
  verify();
  JsonAssert.assertJsonEquals("{ headers : {}, status : 200, content : 'CONTENT' }}",converter.convertToString(httpApiResponse));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFetchContentTypeFeed() throws Exception {
  JSONObject request=new JSONObject("{method:http.get, id:req1, params : {" + "href:'http://www.example.org/somecontent'," + "format : FEED"+ "}}");
  String entryTitle="Feed title";
  String entryLink="http://example.org/entry/0/1";
  String entrySummary="This is the summary";
  String rss="<?xml version=\"1.0\" encoding=\"utf-8\"?>" + "<rss version=\"2.0\"><channel>" + "<title>dummy</title>"+ "<link>http://example.org/</link>"+ "<item>"+ "<title>" + entryTitle + "</title>"+ "<link>"+ entryLink+ "</link>"+ "<description>"+ entrySummary+ "</description>"+ "</item>"+ "</channel></rss>";
  builder.setResponseString(rss);
  HttpRequest httpRequest=new HttpRequest(Uri.parse("http://www.example.org/somecontent"));
  httpRequest.setMethod("GET");
  expect(pipeline.execute(eqRequest(httpRequest))).andReturn(builder.create()).anyTimes();
  replay();
  RpcHandler operation=registry.getRpcHandler(request);
  HttpRequestHandler.HttpApiResponse httpApiResponse=(HttpRequestHandler.HttpApiResponse)operation.execute(emptyFormItems,token,converter).get();
  verify();
  JSONObject feed=(JSONObject)httpApiResponse.getContent();
  JSONObject entry=feed.getJSONArray("Entry").getJSONObject(0);
  assertEquals(entryTitle,entry.getString("Title"));
  assertEquals(entryLink,entry.getString("Link"));
  assertNull("getSummaries has the wrong default value (should be false).",entry.optString("Summary",null));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSignedPostAndUpdateSecurityToken() throws Exception {
  token.setUpdatedToken("updated");
  JSONObject request=new JSONObject("{method:http.post, id:req1, params : {" + "href:'http://www.example.org/somecontent'," + "body:'POSTBODY',"+ "authz: 'signed' }"+ "}}");
  HttpRequest httpRequest=new HttpRequest(Uri.parse("http://www.example.org/somecontent"));
  httpRequest.setMethod("POST");
  httpRequest.setAuthType(AuthType.SIGNED);
  httpRequest.setOAuthArguments(new OAuthArguments(AuthType.SIGNED,ImmutableMap.<String,String>of()));
  httpRequest.setPostBody("POSTBODY".getBytes());
  expect(pipeline.execute(eqRequest(httpRequest))).andReturn(builder.create()).anyTimes();
  replay();
  RpcHandler operation=registry.getRpcHandler(request);
  HttpRequestHandler.HttpApiResponse httpApiResponse=(HttpRequestHandler.HttpApiResponse)operation.execute(emptyFormItems,token,converter).get();
  verify();
  JsonAssert.assertJsonEquals("{ headers : {}, status : 200, content : 'CONTENT', token : updated }}",converter.convertToString(httpApiResponse));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFetchFeedWithParameters() throws Exception {
  JSONObject request=new JSONObject("{method:http.get, id:req1, params : {" + "href:'http://www.example.org/somecontent'," + "format : FEED,"+ "summarize : true,"+ "entryCount : 2"+ "}}");
  String entryTitle="Feed title";
  String entryLink="http://example.org/entry/0/1";
  String entrySummary="This is the summary";
  String rss="<?xml version=\"1.0\" encoding=\"utf-8\"?>" + "<rss version=\"2.0\"><channel>" + "<title>dummy</title>"+ "<link>http://example.org/</link>"+ "<item>"+ "<title>" + entryTitle + "</title>"+ "<link>"+ entryLink+ "</link>"+ "<description>"+ entrySummary+ "</description>"+ "</item>"+ "<item>"+ "<title>"+ entryTitle+ "</title>"+ "<link>"+ entryLink+ "</link>"+ "<description>"+ entrySummary+ "</description>"+ "</item>"+ "<item>"+ "<title>"+ entryTitle+ "</title>"+ "<link>"+ entryLink+ "</link>"+ "<description>"+ entrySummary+ "</description>"+ "</item>"+ "</channel></rss>";
  builder.setResponseString(rss);
  HttpRequest httpRequest=new HttpRequest(Uri.parse("http://www.example.org/somecontent"));
  httpRequest.setMethod("GET");
  expect(pipeline.execute(eqRequest(httpRequest))).andReturn(builder.create()).anyTimes();
  replay();
  RpcHandler operation=registry.getRpcHandler(request);
  HttpRequestHandler.HttpApiResponse httpApiResponse=(HttpRequestHandler.HttpApiResponse)operation.execute(emptyFormItems,token,converter).get();
  verify();
  JSONObject feed=(JSONObject)httpApiResponse.getContent();
  JSONArray feeds=feed.getJSONArray("Entry");
  assertEquals("numEntries not parsed correctly.",2,feeds.length());
  JSONObject entry=feeds.getJSONObject(1);
  assertEquals(entryTitle,entry.getString("Title"));
  assertEquals(entryLink,entry.getString("Link"));
  assertTrue("getSummaries not parsed correctly.",entry.has("Summary"));
  assertEquals(entrySummary,entry.getString("Summary"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-7 type-6 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFailGetWithBodyGet() throws Exception {
  JSONObject request=new JSONObject("{method:http.get, id:req1, params : {" + "href:'http://www.example.org/somecontent'," + "body:'POSTBODY'"+ "}}");
  HttpRequest httpRequest=new HttpRequest(Uri.parse("http://www.example.org/somecontent"));
  httpRequest.setMethod("GET");
  RpcHandler operation=registry.getRpcHandler(request);
  try {
    operation.execute(emptyFormItems,token,converter).get();
    fail("Body should not be allowed in GET request");
  }
 catch (  ExecutionException ee) {
    assertTrue(ee.getCause() instanceof ProtocolException);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.JsonRpcHandlerTest </h4><pre class="type-9 type-11 type-17 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultipleGadgets() throws Exception {
  JSONArray gadgets=new JSONArray().put(createGadget(FakeProcessor.SPEC_URL.toString(),0,null)).put(createGadget(FakeProcessor.SPEC_URL2.toString(),1,null));
  JSONObject input=new JSONObject().put("context",createContext("en","US")).put("gadgets",gadgets);
  JSONObject response=jsonRpcHandler.process(input);
  JSONArray outGadgets=response.getJSONArray("gadgets");
  boolean first=false;
  boolean second=false;
  for (int i=0, j=outGadgets.length(); i < j; ++i) {
    JSONObject gadget=outGadgets.getJSONObject(i);
    if (gadget.getString("url").equals(FakeProcessor.SPEC_URL.toString())) {
      assertEquals(FakeProcessor.SPEC_TITLE,gadget.getString("title"));
      assertEquals(0,gadget.getInt("moduleId"));
      first=true;
    }
 else {
      assertEquals(FakeProcessor.SPEC_TITLE2,gadget.getString("title"));
      assertEquals(1,gadget.getInt("moduleId"));
      second=true;
    }
  }
  assertTrue("First gadget not returned!",first);
  assertTrue("Second gadget not returned!",second);
}

</code></pre>

<br>
<pre class="type-9 type-11 type-17 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultipleGadgetsWithAnError() throws Exception {
  JSONArray gadgets=new JSONArray().put(createGadget(FakeProcessor.SPEC_URL.toString(),0,null)).put(createGadget(FakeProcessor.SPEC_URL2.toString(),1,null));
  JSONObject input=new JSONObject().put("context",createContext("en","US")).put("gadgets",gadgets);
  processor.exceptions.put(FakeProcessor.SPEC_URL2,new ProcessingException("broken",HttpServletResponse.SC_BAD_REQUEST));
  JSONObject response=jsonRpcHandler.process(input);
  JSONArray outGadgets=response.getJSONArray("gadgets");
  boolean first=false;
  boolean second=false;
  for (int i=0, j=outGadgets.length(); i < j; ++i) {
    JSONObject gadget=outGadgets.getJSONObject(i);
    if (gadget.getString("url").equals(FakeProcessor.SPEC_URL.toString())) {
      assertEquals(FakeProcessor.SPEC_TITLE,gadget.getString("title"));
      assertEquals(0,gadget.getInt("moduleId"));
      first=true;
    }
 else {
      JSONArray errors=gadget.getJSONArray("errors");
      assertEquals(1,errors.length());
      assertEquals("broken",errors.optString(0));
      second=true;
    }
  }
  assertTrue("First gadget not returned!",first);
  assertTrue("Second gadget not returned!",second);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.MakeRequestHandlerTest </h4><pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeleteRequest() throws Exception {
  expect(request.getParameter(MakeRequestHandler.METHOD_PARAM)).andReturn("DELETE");
  expectDeleteAndReturnBody("");
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  assertEquals(HttpResponse.SC_OK,results.getInt("rc"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBadHttpResponseIsPropagated() throws Exception {
  HttpRequest internalRequest=new HttpRequest(REQUEST_URL);
  expect(pipeline.execute(internalRequest)).andReturn(HttpResponse.error());
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  assertEquals(HttpResponse.SC_INTERNAL_SERVER_ERROR,results.getInt("rc"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPatchRequest() throws Exception {
  expect(request.getParameter(MakeRequestHandler.METHOD_PARAM)).andReturn("PATCH");
  expectPatchAndReturnBody("");
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  assertEquals(HttpResponse.SC_OK,results.getInt("rc"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPutRequest() throws Exception {
  expect(request.getParameter(MakeRequestHandler.METHOD_PARAM)).andReturn("PUT");
  expectPutAndReturnBody(REQUEST_BODY,RESPONSE_BODY);
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  assertEquals(HttpResponse.SC_OK,results.getInt("rc"));
  assertEquals(RESPONSE_BODY,results.get("body"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDoOAuthRequest() throws Exception {
  expectGetAndReturnBody(AuthType.OAUTH,RESPONSE_BODY);
  FakeGadgetToken authToken=new FakeGadgetToken().setUpdatedToken("updated").setAppUrl(DUMMY_TOKEN.getAppUrl()).setContainer(DUMMY_TOKEN.getContainer());
  expect(request.getAttribute(AuthInfoUtil.Attribute.SECURITY_TOKEN.getId())).andReturn(authToken).atLeastOnce();
  expect(request.getParameter(MakeRequestHandler.AUTHZ_PARAM)).andReturn(AuthType.OAUTH.toString()).atLeastOnce();
  expect(request.getParameterMap()).andStubReturn(Collections.emptyMap());
  expectParameters(request);
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  assertEquals(HttpResponse.SC_OK,results.getInt("rc"));
  assertEquals(RESPONSE_BODY,results.get("body"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetRequestWithUncommonStatusCode() throws Exception {
  HttpRequest req=new HttpRequest(REQUEST_URL);
  HttpResponse response=new HttpResponseBuilder().setHttpStatusCode(HttpResponse.SC_CREATED).setResponseString(RESPONSE_BODY).create();
  expect(pipeline.execute(req)).andReturn(response);
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  assertEquals(HttpResponse.SC_CREATED,results.getInt("rc"));
  assertEquals(RESPONSE_BODY,results.get("body"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHeadRequest() throws Exception {
  expect(request.getParameter(MakeRequestHandler.METHOD_PARAM)).andReturn("HEAD");
  expectHead();
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  assertEquals(HttpResponse.SC_OK,results.getInt("rc"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSignedGetRequest() throws Exception {
  expect(request.getAttribute(AuthInfoUtil.Attribute.SECURITY_TOKEN.getId())).andReturn(DUMMY_TOKEN).atLeastOnce();
  expect(request.getParameter(MakeRequestHandler.AUTHZ_PARAM)).andReturn(AuthType.SIGNED.toString()).atLeastOnce();
  HttpRequest expected=new HttpRequest(REQUEST_URL).setAuthType(AuthType.SIGNED);
  expect(pipeline.execute(expected)).andReturn(new HttpResponse(RESPONSE_BODY));
  expectParameters(request,MakeRequestHandler.AUTHZ_PARAM);
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  assertEquals(RESPONSE_BODY,results.get("body"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExplicitHeaders() throws Exception {
  String headerString="X-Foo=bar&X-Bar=baz%20foo";
  HttpRequest expected=new HttpRequest(REQUEST_URL).addHeader("X-Foo","bar").addHeader("X-Bar","baz foo");
  expect(pipeline.execute(expected)).andReturn(new HttpResponse(RESPONSE_BODY));
  expect(request.getParameter(MakeRequestHandler.HEADERS_PARAM)).andReturn(headerString);
  replay();
  handler.fetch(request,recorder);
  verify();
  JSONObject results=extractJsonFromResponse();
  assertEquals(HttpResponse.SC_OK,results.getInt("rc"));
  assertEquals(RESPONSE_BODY,results.get("body"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSignedPostRequest() throws Exception {
  expectPostAndReturnBody(AuthType.SIGNED,REQUEST_BODY,RESPONSE_BODY);
  expect(request.getAttribute(AuthInfoUtil.Attribute.SECURITY_TOKEN.getId())).andReturn(DUMMY_TOKEN).atLeastOnce();
  expect(request.getParameter(MakeRequestHandler.AUTHZ_PARAM)).andReturn(AuthType.SIGNED.toString()).atLeastOnce();
  expectParameters(request,MakeRequestHandler.METHOD_PARAM,MakeRequestHandler.POST_DATA_PARAM,MakeRequestHandler.AUTHZ_PARAM);
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  assertEquals(RESPONSE_BODY,results.get("body"));
  assertFalse("A security token was returned when it was not requested.",results.has("st"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUserAgent() throws Exception {
  HttpRequest expected=new HttpRequest(REQUEST_URL).addHeader("User-Agent","ua");
  expect(pipeline.execute(expected)).andReturn(new HttpResponse(RESPONSE_BODY));
  expect(request.getHeader("User-Agent")).andReturn("ua");
  replay();
  handler.fetch(request,recorder);
  verify();
  JSONObject results=extractJsonFromResponse();
  assertEquals(HttpResponse.SC_OK,results.getInt("rc"));
  assertEquals(RESPONSE_BODY,results.get("body"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFetchFeedWithParameters() throws Exception {
  String entryTitle="Feed title";
  String entryLink="http://example.org/entry/0/1";
  String entrySummary="This is the summary";
  String rss="<?xml version=\"1.0\" encoding=\"utf-8\"?>" + "<rss version=\"2.0\"><channel>" + "<title>dummy</title>"+ "<link>http://example.org/</link>"+ "<item>"+ "<title>" + entryTitle + "</title>"+ "<link>"+ entryLink+ "</link>"+ "<description>"+ entrySummary+ "</description>"+ "</item>"+ "<item>"+ "<title>"+ entryTitle+ "</title>"+ "<link>"+ entryLink+ "</link>"+ "<description>"+ entrySummary+ "</description>"+ "</item>"+ "<item>"+ "<title>"+ entryTitle+ "</title>"+ "<link>"+ entryLink+ "</link>"+ "<description>"+ entrySummary+ "</description>"+ "</item>"+ "</channel></rss>";
  expectGetAndReturnBody(rss);
  expect(request.getParameter(MakeRequestHandler.GET_SUMMARIES_PARAM)).andReturn("true");
  expect(request.getParameter(MakeRequestHandler.NUM_ENTRIES_PARAM)).andReturn("2");
  expect(request.getParameter(MakeRequestHandler.CONTENT_TYPE_PARAM)).andReturn("FEED");
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  JSONObject feed=new JSONObject(results.getString("body"));
  JSONArray feeds=feed.getJSONArray("Entry");
  assertEquals("numEntries not parsed correctly.",2,feeds.length());
  JSONObject entry=feeds.getJSONObject(1);
  assertEquals(entryTitle,entry.getString("Title"));
  assertEquals(entryLink,entry.getString("Link"));
  assertTrue("getSummaries not parsed correctly.",entry.has("Summary"));
  assertEquals(entrySummary,entry.getString("Summary"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void GetRequestWithNonWhitelistedGadget() throws Exception {
  reset(gadgetAdminStore);
  expect(gadgetAdminStore.isWhitelisted(isA(String.class),isA(String.class))).andReturn(false);
  replay();
  boolean exceptionThrown=false;
  try {
    handler.fetch(request,recorder);
  }
 catch (  GadgetException e) {
    exceptionThrown=true;
    assertEquals(403,e.getHttpStatusCode());
    assertEquals(GadgetException.Code.NON_WHITELISTED_GADGET,e.getCode());
  }
  assertTrue(exceptionThrown);
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetRequest() throws Exception {
  expectGetAndReturnBody(RESPONSE_BODY);
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  assertEquals(HttpResponse.SC_OK,results.getInt("rc"));
  assertEquals(RESPONSE_BODY,results.get("body"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMetadataCopied() throws Exception {
  HttpRequest internalRequest=new HttpRequest(REQUEST_URL);
  HttpResponse response=new HttpResponseBuilder().setResponse("foo".getBytes("UTF-8")).setMetadata("foo",RESPONSE_BODY).create();
  expect(pipeline.execute(internalRequest)).andReturn(response);
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  assertEquals(RESPONSE_BODY,results.getString("foo"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFetchEmptyDocument() throws Exception {
  expectGetAndReturnBody("");
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  assertEquals(HttpResponse.SC_OK,results.getInt("rc"));
  assertEquals("",results.get("body"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFetchContentTypeFeed() throws Exception {
  String entryTitle="Feed title";
  String entryLink="http://example.org/entry/0/1";
  String entrySummary="This is the summary";
  String rss="<?xml version=\"1.0\" encoding=\"utf-8\"?>" + "<rss version=\"2.0\"><channel>" + "<title>dummy</title>"+ "<link>http://example.org/</link>"+ "<item>"+ "<title>" + entryTitle + "</title>"+ "<link>"+ entryLink+ "</link>"+ "<description>"+ entrySummary+ "</description>"+ "</item>"+ "</channel></rss>";
  expectGetAndReturnBody(rss);
  expect(request.getParameter(MakeRequestHandler.CONTENT_TYPE_PARAM)).andReturn("FEED");
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  JSONObject feed=new JSONObject(results.getString("body"));
  JSONObject entry=feed.getJSONArray("Entry").getJSONObject(0);
  assertEquals(entryTitle,entry.getString("Title"));
  assertEquals(entryLink,entry.getString("Link"));
  assertNull("getSummaries has the wrong default value (should be false).",entry.optString("Summary",null));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testChangeSecurityToken() throws Exception {
  expectGetAndReturnBody(AuthType.SIGNED,RESPONSE_BODY);
  FakeGadgetToken authToken=new FakeGadgetToken().setUpdatedToken("updated").setAppUrl(DUMMY_TOKEN.getAppUrl()).setContainer(DUMMY_TOKEN.getContainer());
  expect(request.getAttribute(AuthInfoUtil.Attribute.SECURITY_TOKEN.getId())).andReturn(authToken).atLeastOnce();
  expect(request.getParameter(MakeRequestHandler.AUTHZ_PARAM)).andReturn(AuthType.SIGNED.toString()).atLeastOnce();
  expectParameters(request,MakeRequestHandler.AUTHZ_PARAM);
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  assertEquals(RESPONSE_BODY,results.get("body"));
  assertEquals("updated",results.getString("st"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPostRequest() throws Exception {
  expect(request.getParameter(MakeRequestHandler.METHOD_PARAM)).andReturn("POST");
  expectPostAndReturnBody(REQUEST_BODY,RESPONSE_BODY);
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  assertEquals(HttpResponse.SC_OK,results.getInt("rc"));
  assertEquals(RESPONSE_BODY,results.get("body"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvalidSigningTypeTreatedAsNone() throws Exception {
  expectGetAndReturnBody(RESPONSE_BODY);
  expect(request.getParameter(MakeRequestHandler.AUTHZ_PARAM)).andReturn("garbage");
  replay();
  handler.fetch(request,recorder);
  JSONObject results=extractJsonFromResponse();
  assertEquals(HttpResponse.SC_OK,results.getInt("rc"));
  assertEquals(RESPONSE_BODY,results.get("body"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.ProxyHandlerTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNonWhitelistedGadget() throws Exception {
  String url="http://example.org/mypage.html";
  String domain="example.org";
  setupProxyRequestMock(domain,url,true,-1,null,null);
  setupGadgetAdminMock(false);
  replay();
  boolean exceptionCaught=false;
  try {
    proxyHandler.fetch(request);
  }
 catch (  GadgetException e) {
    exceptionCaught=true;
    assertEquals(GadgetException.Code.NON_WHITELISTED_GADGET,e.getCode());
    assertEquals(HttpResponse.SC_FORBIDDEN,e.getHttpStatusCode());
  }
  assertTrue(exceptionCaught);
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOctetSetOnNullContentType() throws Exception {
  String url="http://example.org/file.evil";
  String domain="example.org";
  setupNoArgsProxyRequestMock(domain,url);
  setupGadgetAdminMock(true);
  expectGetAndReturnHeaders(url,Maps.<String,List<String>>newHashMap());
  replay();
  HttpResponse response=proxyHandler.fetch(request);
  verify();
  assertEquals("application/octet-stream",response.getHeader("Content-Type"));
  assertNotNull(response.getHeader("Content-Disposition"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHttpRequestFillsParentAndContainer() throws Exception {
  setupNoArgsProxyRequestMock("www.example.com",URL_ONE);
  setupGadgetAdminMock(true);
  HttpResponse resp=new HttpResponseBuilder().setResponse(DATA_ONE.getBytes()).create();
  Capture<HttpRequest> httpRequest=new Capture<HttpRequest>();
  expect(pipeline.execute(capture(httpRequest))).andReturn(resp);
  replay();
  HttpResponse response=proxyHandler.fetch(request);
  verify();
  assertEquals("default",httpRequest.getValue().getContainer());
  assertEquals(Uri.parse(URL_ONE),httpRequest.getValue().getUri());
  assertEquals(DATA_ONE,response.getResponseAsString());
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLockedDomainEmbed() throws Exception {
  setupNoArgsProxyRequestMock("www.example.com",URL_ONE);
  expectGetAndReturnData(URL_ONE,DATA_ONE.getBytes());
  setupGadgetAdminMock(true);
  replay();
  HttpResponse response=proxyHandler.fetch(request);
  verify();
  assertEquals(DATA_ONE,response.getResponseAsString());
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHeadersPreserved() throws Exception {
  String url="http://example.org/file.evil";
  String domain="example.org";
  String contentType="text/evil; charset=UTF-8";
  String magicGarbage="fadfdfdfd";
  Map<String,List<String>> headers=Maps.newHashMap();
  headers.put("Content-Type",Arrays.asList(contentType));
  headers.put("X-Magic-Garbage",Arrays.asList(magicGarbage));
  setupNoArgsProxyRequestMock(domain,url);
  setupGadgetAdminMock(true);
  expectGetAndReturnHeaders(url,headers);
  replay();
  HttpResponse response=proxyHandler.fetch(request);
  verify();
  assertEquals(contentType,response.getHeader("Content-Type"));
  assertEquals(magicGarbage,response.getHeader("X-Magic-Garbage"));
  assertTrue(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testThrowExceptionIfReturnOriginalContentOnErrorNotSet() throws Exception {
  String url="http://example.org/mypage.html";
  String domain="example.org";
  setupProxyRequestMock(domain,url,true,-1,null,null);
  setupGadgetAdminMock(true);
  String contentType="text/html; charset=UTF-8";
  HttpResponse resp=new HttpResponseBuilder().setResponseString("Hello").addHeader("Content-Type",contentType).create();
  expect(pipeline.execute((HttpRequest)EasyMock.anyObject())).andReturn(resp);
  replay();
  final StringBuilder stringBuilder=new StringBuilder("");
  ResponseRewriter rewriter=getResponseRewriterThatThrowsExceptions(stringBuilder);
  ResponseRewriterRegistry rewriterRegistry=new DefaultResponseRewriterRegistry(Arrays.<ResponseRewriter>asList(rewriter),null);
  ProxyHandler proxyHandler=new ProxyHandler(pipeline,rewriterRegistry,true,gadgetAdminStore,LONG_LIVED_REFRESH);
  boolean exceptionCaught=false;
  try {
    proxyHandler.fetch(request);
  }
 catch (  GadgetException e) {
    exceptionCaught=true;
    assertEquals(404,e.getHttpStatusCode());
  }
  assertTrue(exceptionCaught);
  assertEquals("exceptionThrown",stringBuilder.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.servlet.ProxyServletTest </h4><pre class="type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIfModifiedSinceAlwaysReturnsEarly() throws Exception {
  expect(request.getHeader("If-Modified-Since")).andReturn("Yes, this is an invalid header");
  replay();
  servlet.doGet(request,recorder);
  verify();
  assertEquals(HttpServletResponse.SC_NOT_MODIFIED,recorder.getHttpStatusCode());
  assertFalse(rewriter.responseWasRewritten());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.FeatureTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOptional() throws Exception {
  String xml="<Optional feature=\"foo\"/>";
  Feature feature=new Feature(XmlUtil.parse(xml));
  assertEquals("foo",feature.getName());
  assertFalse(feature.getRequired());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRequire() throws Exception {
  String xml="<Require feature=\"foo\"/>";
  Feature feature=new Feature(XmlUtil.parse(xml));
  assertEquals("foo",feature.getName());
  assertTrue(feature.getRequired());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultiParams() throws Exception {
  String key="bar";
  String key2="bar2";
  String value="Hello, World!";
  String value2="Goodbye, World!";
  String xml="<Require feature=\"foo\">" + "  <Param name=\"" + key + "\">"+ value+ "</Param>"+ "  <Param name=\""+ key+ "\">"+ value2+ "</Param>"+ "  <Param name=\""+ key2+ "\">"+ value2+ "</Param>"+ "  <Param name=\""+ key2+ "\">"+ value+ "</Param>"+ "</Require>";
  Feature feature=new Feature(XmlUtil.parse(xml));
  Multimap<String,String> params=feature.getParams();
  assertEquals(2,params.keySet().size());
  assertEquals(ImmutableList.of(value,value2),params.get(key));
  assertEquals(value,feature.getParam(key));
  assertEquals(ImmutableList.of(value2,value),params.get(key2));
  assertEquals(value2,feature.getParam(key2));
  assertTrue(params.get("foobar").isEmpty());
  assertNull(feature.getParam("foobar"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testViews() throws Exception {
  String xml="<Require feature=\"foo\" views=\"view1\">" + "</Require>";
  Feature feature=new Feature(XmlUtil.parse(xml));
  Set<String> views=feature.getViews();
  assertTrue(views.size() == 1);
  assertTrue(views.contains("view1"));
  xml="<Require feature=\"foo\" views=\"view1, view2\">" + "</Require>";
  feature=new Feature(XmlUtil.parse(xml));
  views=feature.getViews();
  assertTrue(views.size() == 2);
  assertTrue(views.contains("view1"));
  assertTrue(views.contains("view2"));
  xml="<Require feature=\"foo\">" + "</Require>";
  feature=new Feature(XmlUtil.parse(xml));
  views=feature.getViews();
  assertTrue(views != null);
  assertTrue(views.size() == 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.ModulePrefsTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void coreNotInjectedOnSplitCoreInclusion() throws Exception {
  String xml="<ModulePrefs title=''><Require feature='core.config'/></ModulePrefs>";
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(1,prefs.getFeatures().size());
  assertTrue(prefs.getFeatures().containsKey("core.config"));
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void needsUserPrefSubstInTitle() throws Exception {
  String xml="<ModulePrefs title='Title __UP_foo__'/>";
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(xml),SPEC_URL);
  assertTrue(prefs.needsUserPrefSubstitution());
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void needsUserPrefSubstInPreload() throws Exception {
  String xml="<ModulePrefs title='foo'>" + "  <Preload href='__UP_foo__' authz='signed'/></ModulePrefs>";
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(xml),SPEC_URL);
  assertTrue(prefs.needsUserPrefSubstitution());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void securityTokenNotInjectedByDefault() throws Exception {
  String xml="<ModulePrefs title=''>" + "</ModulePrefs>";
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(xml),SPEC_URL);
  Map<String,Feature> features=prefs.getFeatures();
  assertEquals(1,features.size());
  assertTrue(features.containsKey("core"));
  Map<String,Feature> viewFeatures=prefs.getViewFeatures("default");
  assertEquals(1,viewFeatures.size());
  assertTrue(viewFeatures.containsKey("core"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void securityTokenInjectedOnOAuthTag() throws Exception {
  String xml="<ModulePrefs title=''>" + "  <OAuth>" + "    <Service name='serviceOne'>"+ "      <Request url='http://www.example.com/request'"+ "          method='GET' param_location='auth-header' />"+ "      <Authorization url='http://www.example.com/authorize'/>"+ "      <Access url='http://www.example.com/access' method='GET'"+ "          param_location='auth-header' />"+ "    </Service>"+ "  </OAuth>"+ "</ModulePrefs>";
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(xml),SPEC_URL);
  Map<String,Feature> features=prefs.getFeatures();
  assertEquals(2,features.size());
  assertTrue(features.containsKey("core"));
  assertTrue(features.containsKey("security-token"));
  Map<String,Feature> viewFeatures=prefs.getViewFeatures("default");
  assertEquals(2,viewFeatures.size());
  assertTrue(viewFeatures.containsKey("core"));
  assertTrue(viewFeatures.containsKey("security-token"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void coreInjectedAutomatically() throws Exception {
  String xml="<ModulePrefs title=''><Require feature='foo'/></ModulePrefs>";
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(2,prefs.getFeatures().size());
  assertTrue(prefs.getFeatures().containsKey("foo"));
  assertTrue(prefs.getFeatures().containsKey("core"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getViewFeatures() throws Exception {
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(FULL_XML),SPEC_URL);
  Map<String,Feature> features=prefs.getViewFeatures("default");
  assertEquals(5,features.size());
  assertTrue(features.containsKey("requiredview1"));
  assertTrue(features.containsKey("require"));
  assertTrue(features.containsKey("optional"));
  assertTrue(features.containsKey("core"));
  assertTrue(features.containsKey("security-token"));
  assertTrue(!features.containsKey("requiredview2"));
  features=prefs.getViewFeatures("view2");
  assertEquals(5,features.size());
  assertTrue(features.containsKey("requiredview2"));
  assertTrue(features.containsKey("require"));
  assertTrue(features.containsKey("optional"));
  assertTrue(features.containsKey("core"));
  assertTrue(features.containsKey("security-token"));
  assertTrue(!features.containsKey("requiredview1"));
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void needsUserPrefSubstInTitleUrl() throws Exception {
  String xml="<ModulePrefs title='foo' title_url='http://__UP_url__'/>";
  ModulePrefs prefs=new ModulePrefs(XmlUtil.parse(xml),SPEC_URL);
  assertTrue(prefs.needsUserPrefSubstitution());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.PipelinedDataTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void httpRequestDefaultsSigned() throws Exception {
  String xml="<Content><HttpRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " href=\"/example.html\""+ " authz=\"signed\""+ " sign_owner=\"false\""+ "/></Content>";
  PipelinedData pipelinedData=new PipelinedData(XmlUtil.parse(xml),GADGET_URI);
  PipelinedData.Batch batch=pipelinedData.getBatch(expressions,elResolver);
  assertTrue(pipelinedData.needsViewer());
  assertFalse(pipelinedData.needsOwner());
  assertEquals(1,batch.getPreloads().size());
  BatchItem output=batch.getPreloads().get("key");
  assertEquals(BatchType.HTTP,output.getType());
  RequestAuthenticationInfo preload=(RequestAuthenticationInfo)output.getData();
  assertEquals(AuthType.SIGNED,preload.getAuthType());
  assertTrue(preload.isSignViewer());
  assertFalse(preload.isSignOwner());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIgnoreNoNamespace() throws Exception {
  String xml="<Content><PersonRequest" + " key=\"key\"" + " userId=\"@owner\""+ " fields=\"name,id\""+ "/></Content>";
  PipelinedData socialData=new PipelinedData(XmlUtil.parse(xml),null);
  assertFalse(socialData.needsOwner());
  PipelinedData.Batch batch=socialData.getBatch(expressions,elResolver);
  assertNull(batch);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testActivityStreamsRequest() throws Exception {
  String xml="<Content><ActivityStreamsRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " userId=\"@owner,@viewer\""+ " startIndex=\"10\""+ " count=\"20\""+ " fields=\"foo,bar\""+ "/></Content>";
  PipelinedData socialData=new PipelinedData(XmlUtil.parse(xml),null);
  assertTrue(socialData.needsOwner());
  assertTrue(socialData.needsViewer());
  JSONObject expected=new JSONObject("{method: 'activitystreams.get', id: 'key', params:" + "{userId: ['@owner','@viewer']," + "startIndex: 10,"+ "count: 20,"+ "fields: ['foo','bar']"+ "}}");
  PipelinedData.Batch batch=socialData.getBatch(expressions,elResolver);
  assertEquals(1,batch.getPreloads().size());
  PipelinedData.BatchItem batchItem=batch.getPreloads().get("key");
  assertEquals(PipelinedData.BatchType.SOCIAL,batchItem.getType());
  JsonAssert.assertObjectEquals(expected,batchItem.getData());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPersonAppData() throws Exception {
  String xml="<Content><PersonAppDataRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " userId=\"@viewer\""+ " fields=\"foo,bar\""+ "/></Content>";
  PipelinedData socialData=new PipelinedData(XmlUtil.parse(xml),null);
  assertFalse(socialData.needsOwner());
  assertTrue(socialData.needsViewer());
  JSONObject expected=new JSONObject("{method: 'appdata.get', id: 'key', params:" + "{userId: ['@viewer']," + "fields: ['foo','bar']"+ "}}");
  PipelinedData.Batch batch=socialData.getBatch(expressions,elResolver);
  assertEquals(1,batch.getPreloads().size());
  PipelinedData.BatchItem batchItem=batch.getPreloads().get("key");
  assertEquals(PipelinedData.BatchType.SOCIAL,batchItem.getType());
  JsonAssert.assertObjectEquals(expected,batchItem.getData());
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void badHrefTest() throws Exception {
  String xml="<Content><HttpRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " href=\"/example.html%\""+ "/></Content>";
  boolean foundException=false;
  try {
    PipelinedData pipelinedData=new PipelinedData(XmlUtil.parse(xml),GADGET_URI);
    PipelinedData.Batch batch=pipelinedData.getBatch(expressions,elResolver);
  }
 catch (  RuntimeException e) {
    foundException=true;
  }
  assertTrue("found RuntimeException (for now) see SHINDIG-1090",foundException);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testViewerRequest() throws Exception {
  String xml="<Content><ViewerRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " fields=\"name,id\""+ "/></Content>";
  PipelinedData socialData=new PipelinedData(XmlUtil.parse(xml),null);
  assertFalse(socialData.needsOwner());
  assertTrue(socialData.needsViewer());
  JSONObject expected=new JSONObject("{method: 'people.get', id: 'key', params:" + "{userId: ['@viewer']," + "fields: ['name','id']"+ "}}");
  PipelinedData.Batch batch=socialData.getBatch(expressions,elResolver);
  assertEquals(1,batch.getPreloads().size());
  PipelinedData.BatchItem batchItem=batch.getPreloads().get("key");
  assertEquals(PipelinedData.BatchType.SOCIAL,batchItem.getType());
  JsonAssert.assertObjectEquals(expected,batchItem.getData());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDataRequest() throws Exception {
  String xml="<Content><DataRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " method=\"people.get\""+ " groupId=\"${params.groupId}\""+ " userId=\"${userIds}\""+ " startIndex=\"${startIndex}\""+ " fields=\"${fields}\""+ "/></Content>";
  elValues.put("startIndex",10);
  elValues.put("params",ImmutableMap.of());
  elValues.put("userIds",Lists.newArrayList("first","second"));
  elValues.put("fields",new JSONArray("['name','id']"));
  PipelinedData socialData=new PipelinedData(XmlUtil.parse(xml),null);
  assertFalse(socialData.needsOwner());
  assertFalse(socialData.needsViewer());
  JSONObject expected=new JSONObject("{method: 'people.get', id: 'key', params:" + "{userId: ['first','second']," + "startIndex: 10,"+ "fields: ['name','id']"+ "}}");
  PipelinedData.Batch batch=socialData.getBatch(expressions,elResolver);
  assertEquals(1,batch.getPreloads().size());
  PipelinedData.BatchItem batchItem=batch.getPreloads().get("key");
  assertEquals(PipelinedData.BatchType.SOCIAL,batchItem.getType());
  JsonAssert.assertObjectEquals(expected,batchItem.getData());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBatching() throws Exception {
  String xml="<Content xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\">"+ "<PeopleRequest key=\"key\" userId=\"${userId}\"/>"+ "<HttpRequest key=\"key2\" href=\"${key}\"/>"+ "</Content>";
  PipelinedData socialData=new PipelinedData(XmlUtil.parse(xml),GADGET_URI);
  PipelinedData.Batch batch=socialData.getBatch(expressions,elResolver);
  assertTrue(batch.getPreloads().isEmpty());
  elValues.put("userId","foo");
  batch=batch.getNextBatch(elResolver);
  assertEquals(1,batch.getPreloads().size());
  assertTrue(batch.getPreloads().containsKey("key"));
  elValues.put("key","somedata");
  batch=batch.getNextBatch(elResolver);
  assertEquals(1,batch.getPreloads().size());
  assertTrue(batch.getPreloads().containsKey("key2"));
  assertNull(batch.getNextBatch(elResolver));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOwnerRequest() throws Exception {
  String xml="<Content><OwnerRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " fields=\"name,id\""+ "/></Content>";
  PipelinedData socialData=new PipelinedData(XmlUtil.parse(xml),null);
  assertTrue(socialData.needsOwner());
  assertFalse(socialData.needsViewer());
  JSONObject expected=new JSONObject("{method: 'people.get', id: 'key', params:" + "{userId: ['@owner']," + "fields: ['name','id']"+ "}}");
  PipelinedData.Batch batch=socialData.getBatch(expressions,elResolver);
  assertEquals(1,batch.getPreloads().size());
  PipelinedData.BatchItem batchItem=batch.getPreloads().get("key");
  assertEquals(PipelinedData.BatchType.SOCIAL,batchItem.getType());
  JsonAssert.assertObjectEquals(expected,batchItem.getData());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void httpRequestDefaults() throws Exception {
  String xml="<Content><HttpRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " href=\"/example.html\""+ "/></Content>";
  PipelinedData pipelinedData=new PipelinedData(XmlUtil.parse(xml),GADGET_URI);
  PipelinedData.Batch batch=pipelinedData.getBatch(expressions,elResolver);
  assertFalse(pipelinedData.needsViewer());
  assertFalse(pipelinedData.needsOwner());
  assertEquals(1,batch.getPreloads().size());
  BatchItem output=batch.getPreloads().get("key");
  assertEquals(BatchType.HTTP,output.getType());
  RequestAuthenticationInfo preload=(RequestAuthenticationInfo)output.getData();
  assertEquals(AuthType.NONE,preload.getAuthType());
  assertEquals(Uri.parse("http://example.org/example.html"),preload.getHref());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPeopleRequestWithExpressions() throws Exception {
  String xml="<Content><PeopleRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " groupId=\"group\""+ " userId=\"first,second\""+ " startIndex=\"20\""+ " count=\"${count}\""+ " fields=\"${fields}\""+ "/></Content>";
  elValues.put("count",10);
  elValues.put("fields","name,id");
  PipelinedData socialData=new PipelinedData(XmlUtil.parse(xml),null);
  assertFalse(socialData.needsOwner());
  assertFalse(socialData.needsViewer());
  JSONObject expected=new JSONObject("{method: 'people.get', id: 'key', params:" + "{groupId: 'group'," + "userId: ['first','second'],"+ "startIndex: 20,"+ "count: 10,"+ "fields: ['name','id']"+ "}}");
  PipelinedData.Batch batch=socialData.getBatch(expressions,elResolver);
  assertEquals(1,batch.getPreloads().size());
  PipelinedData.BatchItem batchItem=batch.getPreloads().get("key");
  assertEquals(PipelinedData.BatchType.SOCIAL,batchItem.getType());
  JsonAssert.assertObjectEquals(expected,batchItem.getData());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPeopleRequest() throws Exception {
  String xml="<Content><PeopleRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " groupId=\"group\""+ " userId=\"first,second\""+ " startIndex=\"20\""+ " count=\"10\""+ " fields=\"name,id\""+ "/></Content>";
  PipelinedData socialData=new PipelinedData(XmlUtil.parse(xml),null);
  assertFalse(socialData.needsOwner());
  assertFalse(socialData.needsViewer());
  JSONObject expected=new JSONObject("{method: 'people.get', id: 'key', params:" + "{groupId: 'group'," + "userId: ['first','second'],"+ "startIndex: 20,"+ "count: 10,"+ "fields: ['name','id']"+ "}}");
  PipelinedData.Batch batch=socialData.getBatch(expressions,elResolver);
  assertEquals(1,batch.getPreloads().size());
  PipelinedData.BatchItem batchItem=batch.getPreloads().get("key");
  assertEquals(PipelinedData.BatchType.SOCIAL,batchItem.getType());
  JsonAssert.assertObjectEquals(expected,batchItem.getData());
  assertNull(batch.getNextBatch(elResolver));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testActivitiesRequest() throws Exception {
  String xml="<Content><ActivitiesRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " userId=\"@owner,@viewer\""+ " startIndex=\"10\""+ " count=\"20\""+ " fields=\"foo,bar\""+ "/></Content>";
  PipelinedData socialData=new PipelinedData(XmlUtil.parse(xml),null);
  assertTrue(socialData.needsOwner());
  assertTrue(socialData.needsViewer());
  JSONObject expected=new JSONObject("{method: 'activities.get', id: 'key', params:" + "{userId: ['@owner','@viewer']," + "startIndex: 10,"+ "count: 20,"+ "fields: ['foo','bar']"+ "}}");
  PipelinedData.Batch batch=socialData.getBatch(expressions,elResolver);
  assertEquals(1,batch.getPreloads().size());
  PipelinedData.BatchItem batchItem=batch.getPreloads().get("key");
  assertEquals(PipelinedData.BatchType.SOCIAL,batchItem.getType());
  JsonAssert.assertObjectEquals(expected,batchItem.getData());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testVariable() throws Exception {
  String xml="<Content xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\">"+ "<osx:Variable xmlns:osx=\""+ PipelinedData.EXTENSION_NAMESPACE+ "\" "+ "key=\"key\" value=\"${1+1}\"/>"+ "</Content>";
  PipelinedData pipelinedData=new PipelinedData(XmlUtil.parse(xml),GADGET_URI);
  PipelinedData.Batch batch=pipelinedData.getBatch(expressions,elResolver);
  assertFalse(pipelinedData.needsViewer());
  assertFalse(pipelinedData.needsOwner());
  assertEquals(1,batch.getPreloads().size());
  BatchItem output=batch.getPreloads().get("key");
  assertEquals(BatchType.VARIABLE,output.getType());
  assertEquals(2L,output.getData());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.PreloadTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void basicPreload() throws Exception {
  String xml="<Preload href='" + HREF + "'/>";
  Preload preload=new Preload(XmlUtil.parse(xml),SPEC_URL);
  assertEquals(HREF,preload.getHref().toString());
  assertEquals(AuthType.NONE,preload.getAuthType());
  assertEquals(0,preload.getAttributes().size());
  assertTrue("Default value for sign_owner should be true.",preload.isSignOwner());
  assertTrue("Default value for sign_viewer should be true.",preload.isSignViewer());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.UserPrefTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasic() throws Exception {
  String xml="<UserPref" + " name=\"name\"" + " display_name=\"display_name\""+ " default_value=\"default_value\""+ " required=\"true\""+ " datatype=\"hidden\"/>";
  UserPref userPref=new UserPref(XmlUtil.parse(xml));
  assertEquals("name",userPref.getName());
  assertEquals("display_name",userPref.getDisplayName());
  assertEquals("default_value",userPref.getDefaultValue());
  assertTrue(userPref.getRequired());
  assertEquals(UserPref.DataType.HIDDEN,userPref.getDataType());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.spec.ViewTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleView() throws Exception {
  String viewName="VIEW NAME";
  String content="This is the content";
  String xml="<Content" + " type=\"html\"" + " view=\"" + viewName + '\"'+ " quirks=\"false\"><![CDATA["+ content+ "]]></Content>";
  View view=new View(viewName,Arrays.asList(XmlUtil.parse(xml)),SPEC_URL);
  assertEquals(viewName,view.getName());
  Assert.assertFalse(view.getQuirks());
  assertEquals(View.ContentType.HTML,view.getType());
  assertEquals("html",view.getRawType());
  assertEquals(content,view.getContent());
  assertTrue("Default value for sign_owner should be true.",view.isSignOwner());
  assertTrue("Default value for sign_viewer should be true.",view.isSignViewer());
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testQuirksCascade() throws Exception {
  String content1="<Content type=\"html\" quirks=\"true\"/>";
  String content2="<Content type=\"html\" quirks=\"false\"/>";
  View view=new View("test",Arrays.asList(XmlUtil.parse(content1),XmlUtil.parse(content2)),SPEC_URL);
  Assert.assertFalse(view.getQuirks());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void authAttributes() throws Exception {
  String xml="<Content type='html' sign_owner='false' sign_viewer='false' foo='bar' " + "yo='momma' sub='__MSG_view__'/>";
  View view=new View("test",Arrays.asList(XmlUtil.parse(xml)),SPEC_URL);
  Substitutions substituter=new Substitutions();
  substituter.addSubstitution(Substitutions.Type.MESSAGE,"view","stuff");
  View substituted=view.substitute(substituter);
  assertEquals("bar",substituted.getAttributes().get("foo"));
  assertEquals("momma",substituted.getAttributes().get("yo"));
  assertEquals("stuff",substituted.getAttributes().get("sub"));
  assertFalse("sign_owner parsed incorrectly.",view.isSignOwner());
  assertFalse("sign_viewer parsed incorrectly.",view.isSignViewer());
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testQuirksCascadeReverse() throws Exception {
  String content1="<Content type=\"html\" quirks=\"false\"/>";
  String content2="<Content type=\"html\" quirks=\"true\"/>";
  View view=new View("test",Arrays.asList(XmlUtil.parse(content1),XmlUtil.parse(content2)),SPEC_URL);
  Assert.assertTrue(view.getQuirks());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSocialPreload() throws Exception {
  String xml="<Content href=\"http://example.org/proxied.php\" " + "authz=\"SIGNED\">" + "<OwnerRequest xmlns=\"" + PipelinedData.OPENSOCIAL_NAMESPACE + "\" "+ " key=\"key\""+ " fields=\"name,id\""+ "/></Content>";
  View view=new View("test",Arrays.asList(XmlUtil.parse(xml)),SPEC_URL);
  PipelinedData.Batch batch=view.getPipelinedData().getBatch(Expressions.forTesting(),new RootELResolver());
  assertEquals(1,batch.getPreloads().size());
  assertTrue(batch.getPreloads().containsKey("key"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.templates.DefaultTemplateProcessorTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testTextNodeEscaping() throws Exception {
  String output=executeTemplate("${xss.script}");
  assertFalse("Escaping not performed: \"" + output + '\"',output.contains("<script>alert("));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testAttributeEscaping() throws Exception {
  String output=executeTemplate("<span title=\"${xss.quote}\">${user.name.first} baz</span>");
  assertFalse(output.contains("\"><script>alert("));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.templates.TemplateLibraryFactoryTest </h4><pre class="type-5 type-6 type-1 type-10 type-14 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTemplateRequestAnonymousSecurityToken() throws GadgetException {
  CapturingPipeline pipeline=new CapturingPipeline();
  TemplateLibraryFactory factory=new TemplateLibraryFactory(pipeline,null);
  GadgetContext context=new GadgetContext(){
    @Override public Uri getUrl(){
      return SPEC_URL;
    }
    @Override public String getContainer(){
      return "default";
    }
    @Override public boolean getDebug(){
      return false;
    }
    @Override public boolean getIgnoreCache(){
      return true;
    }
  }
;
  factory.loadTemplateLibrary(context,TEMPLATE_URL);
  assertNotNull(pipeline.request);
  SecurityToken st=pipeline.request.getSecurityToken();
  assertNotNull(st);
  assertTrue(st.isAnonymous());
  assertEquals(SPEC_URL.toString(),st.getAppUrl());
  assertTrue(pipeline.request.getIgnoreCache());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.templates.tags.FlashTagHandlerTest </h4><pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testConfigBindingFailure() throws Exception {
  Document document=parser.parseDom("<script type='text/os-template'>" + "<osx:flash swf='http://www.example.org/test.swf' play='junk'>" + "Click Me"+ "</osx:flash></script>");
  Element tag=DomUtil.getElementsByTagNameCaseInsensitive(document,ImmutableSet.of("osx:flash")).get(0);
  handler.process(result.getDocumentElement().getFirstChild().getNextSibling(),tag,processor);
  XPathWrapper wrapper=new XPathWrapper(result);
  assertTrue(wrapper.getValue("/html/body/span").startsWith("Failed to process os:Flash tag"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.uri.DefaultAccelUriManagerTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testContainersChange() throws Exception {
  String beforeUrl="//apache.org/gadgets/accel?container=accel" + "&gadget=http%3A%2F%2Fwww.example.org%2Findex.html" + "&debug=0&nocache=0&refresh=0&rooe=1&url=http%3A%2F%2Fwww.example.org%2Findex.html";
  String afterUrl="//apache.org/random/url?container=accel" + "&gadget=http%3A%2F%2Fwww.example.org%2Findex.html" + "&debug=0&nocache=0&refresh=0&rooe=1&url=http%3A%2F%2Fwww.example.org%2Findex.html";
  Uri uri=Uri.parse("http://www.example.org/index.html");
  HttpRequest req=new HttpRequest(uri);
  req.setContainer("accel");
  assertEquals(Uri.parse(beforeUrl),uriManager.parseAndNormalize(req));
  assertTrue(uriManager.looksLikeAccelUri(Uri.parse(beforeUrl)));
  assertFalse(uriManager.looksLikeAccelUri(Uri.parse(afterUrl)));
  config.newTransaction().addContainer(makeConfig("accel","/random/url")).commit();
  uri=Uri.parse("http://www.example.org/index.html");
  req=new HttpRequest(uri);
  req.setContainer("accel");
  assertEquals(Uri.parse(afterUrl),uriManager.parseAndNormalize(req));
  assertFalse(uriManager.looksLikeAccelUri(Uri.parse(beforeUrl)));
  assertTrue(uriManager.looksLikeAccelUri(Uri.parse(afterUrl)));
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testLooksLikeAccelUri() throws Exception {
  Uri uri=Uri.parse("http://apache.org/gadgets/accel?container=accel" + "&gadget=http%3A%2F%2Fwww.1.com%2Fa.html" + "&url=http%3A%2F%2Fwww.example.org%2Findex.html");
  assertTrue(uriManager.looksLikeAccelUri(uri));
  uri=Uri.parse("http://www.example.org/index.html");
  assertFalse(uriManager.looksLikeAccelUri(uri));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.uri.DefaultConcatUriManagerTest </h4><pre class="type-9 type-11 type-17 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void typeJsBatchSplitBatched() throws Exception {
  Gadget gadget=mockGadget(false,false);
  String host="host.com";
  String path="/concat/path";
  ConcatUriManager.Type type=ConcatUriManager.Type.JS;
  String splitParam="token";
  String[] versions=new String[]{"version1"};
  ConcatUriManager.Versioner versioner=makeVersioner(null,versions);
  DefaultConcatUriManager manager=makeManager(host,path,splitParam,versioner);
  List<List<Uri>> resourceUris=ImmutableList.of(RESOURCES_ONE,RESOURCES_TWO,RESOURCES_ONE);
  HashMap<String,String> jsonParams=new HashMap<String,String>();
  List<ConcatData> concatUris=manager.make(fromList(gadget,resourceUris,type),false);
  assertEquals(3,concatUris.size());
  for (int i=0; i < 3; ++i) {
    ConcatData uri=concatUris.get(i);
    assertEquals(1,uri.getUris().size());
    String json=uri.getUris().get(0).getQueryParameter((Param.JSON.toString().toLowerCase()));
    assertTrue(json.startsWith(splitParam));
    String currentUri=uri.getUris().get(0).toString();
    if (jsonParams.keySet().contains(currentUri)) {
      assertEquals(jsonParams.get(currentUri),json);
    }
 else {
      jsonParams.put(currentUri,json);
    }
    assertEquals(DefaultConcatUriManager.getJsSnippet(json,RESOURCE_1),uri.getSnippet(RESOURCE_1));
    assertEquals(DefaultConcatUriManager.getJsSnippet(json,RESOURCE_2),uri.getSnippet(RESOURCE_2));
    assertNull(uri.getSnippet(RESOURCE_3_NOSCHEMA));
    assertEquals(DefaultConcatUriManager.getJsSnippet(json,RESOURCE_3_HTTP),uri.getSnippet(RESOURCE_3_HTTP));
    checkBasicUriParameters(uri.getUris().get(0),host,path,10,type,"0","0",versions[0]);
    List<Uri> resList=(i % 2 == 0) ? RESOURCES_ONE : RESOURCES_TWO;
    assertEquals(resList.get(0).toString(),uri.getUris().get(0).getQueryParameter("1"));
    assertEquals(resList.get(1).toString(),uri.getUris().get(0).getQueryParameter("2"));
    assertEquals(resList.get(2).toString(),uri.getUris().get(0).getQueryParameter("3"));
  }
  assertEquals(2,jsonParams.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.uri.DefaultIframeUriManagerTest </h4><pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void typeUrlDefaultOptions() throws Exception {
  String gadgetSite="http://example.com/gadget";
  String prefKey="prefKey";
  String prefVal="prefVal";
  Map<String,String> prefs=Maps.newHashMap();
  prefs.put(prefKey,prefVal);
  List<String> features=Lists.newArrayList("rpc","setprefs");
  Gadget gadget=mockGadget(gadgetSite,true,true,true,true,false,prefs,prefs,false,features);
  TestDefaultIframeUriManager manager=makeManager(false,false);
  Uri result=manager.makeRenderingUri(gadget);
  assertNotNull(result);
  UriBuilder uri=new UriBuilder(result);
  assertEquals("http",uri.getScheme());
  assertEquals("example.com",uri.getAuthority());
  assertEquals("/gadget",uri.getPath());
  assertEquals(CONTAINER,uri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(VIEW,uri.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(LANG,uri.getQueryParameter(Param.LANG.getKey()));
  assertEquals(COUNTRY,uri.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals(JS_HOST + JS_PATH + "/rpc:setprefs"+ DefaultJsUriManager.JS_SUFFIX,uri.getQueryParameter(Param.LIBS.getKey()));
  assertEquals("1",uri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals("1",uri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("1",uri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals(prefVal,uri.getFragmentParameter("up_" + prefKey));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS,uri.getQueryParameters().size());
  assertEquals(1,uri.getFragmentParameters().size());
  assertFalse(manager.tokenForRenderingCalled());
  assertFalse(manager.schemeCalled());
  assertTrue(manager.addExtrasCalled());
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals("http",urlGadgetUri.getScheme());
  assertEquals("example.com",urlGadgetUri.getAuthority());
  assertEquals("/gadget",urlGadgetUri.getPath());
  assertEquals(CONTAINER,urlGadgetUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(VIEW,urlGadgetUri.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(LANG,urlGadgetUri.getQueryParameter(Param.LANG.getKey()));
  assertEquals(COUNTRY,urlGadgetUri.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals(JS_HOST + JS_PATH + "/rpc:setprefs"+ DefaultJsUriManager.JS_SUFFIX,urlGadgetUri.getQueryParameter(Param.LIBS.getKey()));
  assertEquals("1",urlGadgetUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals("1",urlGadgetUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("1",urlGadgetUri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals(prefVal,urlGadgetUri.getFragmentParameter("up_" + prefKey));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS,urlGadgetUri.getQueryParameters().size());
  assertEquals(1,urlGadgetUri.getFragmentParameters().size());
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals("",htmlGadgetUri.getScheme());
  assertEquals(UNLOCKED_DOMAIN,htmlGadgetUri.getAuthority());
  assertEquals(IFRAME_PATH,htmlGadgetUri.getPath());
  assertEquals(CONTAINER,htmlGadgetUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(ANOTHER_VIEW,htmlGadgetUri.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(LANG,htmlGadgetUri.getQueryParameter(Param.LANG.getKey()));
  assertEquals(COUNTRY,htmlGadgetUri.getQueryParameter(Param.COUNTRY.getKey()));
  assertNull(htmlGadgetUri.getQueryParameter(Param.LIBS.getKey()));
  assertEquals("1",htmlGadgetUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals("1",htmlGadgetUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("1",htmlGadgetUri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals(prefVal,htmlGadgetUri.getQueryParameter("up_" + prefKey));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS + 1,htmlGadgetUri.getQueryParameters().size());
  assertEquals(0,htmlGadgetUri.getFragmentParameters().size());
  assertFalse(manager.tokenForRenderingCalled());
  assertTrue(manager.schemeCalled());
  assertTrue(manager.addExtrasCalled());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void honorSchemeOverride() throws Exception {
  String scheme="file";
  Gadget gadget=mockGadget();
  TestDefaultIframeUriManager manager=makeManager(false,false);
  manager.setScheme(scheme);
  Uri result=manager.makeRenderingUri(gadget);
  assertNotNull(result);
  UriBuilder uri=new UriBuilder(result);
  assertEquals(scheme,uri.getScheme());
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  assertEquals(scheme,new UriBuilder(uris.get(VIEW)).getScheme());
  assertFalse(scheme.equalsIgnoreCase(new UriBuilder(uris.get(ANOTHER_VIEW)).getScheme()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void securityTokenAddedWhenGadgetNeedsItFragment() throws Exception {
  Gadget gadget=mockGadget(SECURITY_TOKEN_FEATURE_NAME);
  TestDefaultIframeUriManager manager=makeManager(false,false);
  manager.setTokenForRendering(false);
  Uri result=manager.makeRenderingUri(gadget);
  assertNotNull(result);
  UriBuilder uri=new UriBuilder(result);
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,uri.getQueryParameters().size());
  assertEquals(1,uri.getFragmentParameters().size());
  assertEquals(tplKey(Param.SECURITY_TOKEN.getKey()),uri.getFragmentParameter(Param.SECURITY_TOKEN.getKey()));
  assertTrue(manager.tokenForRenderingCalled());
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,htmlGadgetUri.getQueryParameters().size());
  assertEquals(1,htmlGadgetUri.getFragmentParameters().size());
  assertEquals(tplKey(Param.SECURITY_TOKEN.getKey()),htmlGadgetUri.getFragmentParameter(Param.SECURITY_TOKEN.getKey()));
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS,urlGadgetUri.getQueryParameters().size());
  assertEquals(1,urlGadgetUri.getFragmentParameters().size());
  assertEquals(tplKey(Param.SECURITY_TOKEN.getKey()),urlGadgetUri.getFragmentParameter(Param.SECURITY_TOKEN.getKey()));
  assertTrue(manager.tokenForRenderingCalled());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void securityTokenAddedWhenGadgetNeedsItQuery() throws Exception {
  Gadget gadget=mockGadget(SECURITY_TOKEN_FEATURE_NAME);
  TestDefaultIframeUriManager manager=makeManager(false,false);
  manager.setTokenForRendering(true);
  Uri result=manager.makeRenderingUri(gadget);
  assertNotNull(result);
  UriBuilder uri=new UriBuilder(result);
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS + 1,uri.getQueryParameters().size());
  assertEquals(0,uri.getFragmentParameters().size());
  assertEquals(tplKey(Param.SECURITY_TOKEN.getKey()),uri.getQueryParameter(Param.SECURITY_TOKEN.getKey()));
  assertTrue(manager.tokenForRenderingCalled());
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS + 1,htmlGadgetUri.getQueryParameters().size());
  assertEquals(0,htmlGadgetUri.getFragmentParameters().size());
  assertEquals(tplKey(Param.SECURITY_TOKEN.getKey()),htmlGadgetUri.getQueryParameter(Param.SECURITY_TOKEN.getKey()));
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS + 1,urlGadgetUri.getQueryParameters().size());
  assertEquals(0,urlGadgetUri.getFragmentParameters().size());
  assertEquals(tplKey(Param.SECURITY_TOKEN.getKey()),urlGadgetUri.getQueryParameter(Param.SECURITY_TOKEN.getKey()));
  assertTrue(manager.tokenForRenderingCalled());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void typeHtmlBasicOptions() throws Exception {
  String prefKey="prefKey";
  String prefVal="prefVal";
  Map<String,String> prefs=Maps.newHashMap();
  prefs.put(prefKey,prefVal);
  List<String> features=Lists.newArrayList();
  Gadget gadget=mockGadget(SPEC_URI.toString(),false,false,false,false,false,prefs,prefs,false,features);
  TestDefaultIframeUriManager manager=makeManager(false,false);
  Uri result=manager.makeRenderingUri(gadget);
  assertNotNull(result);
  UriBuilder uri=new UriBuilder(result);
  assertEquals("",uri.getScheme());
  assertEquals(UNLOCKED_DOMAIN,uri.getAuthority());
  assertEquals(IFRAME_PATH,uri.getPath());
  assertEquals(SPEC_URI.toString(),uri.getQueryParameter(Param.URL.getKey()));
  assertEquals(CONTAINER,uri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(VIEW,uri.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(LANG,uri.getQueryParameter(Param.LANG.getKey()));
  assertEquals(COUNTRY,uri.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals("0",uri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals("0",uri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("0",uri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals(prefVal,uri.getFragmentParameter("up_" + prefKey));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,uri.getQueryParameters().size());
  assertEquals(1,uri.getFragmentParameters().size());
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals("",htmlGadgetUri.getScheme());
  assertEquals(UNLOCKED_DOMAIN,htmlGadgetUri.getAuthority());
  assertEquals(IFRAME_PATH,htmlGadgetUri.getPath());
  assertEquals(SPEC_URI.toString(),htmlGadgetUri.getQueryParameter(Param.URL.getKey()));
  assertEquals(CONTAINER,htmlGadgetUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(VIEW,htmlGadgetUri.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(LANG,htmlGadgetUri.getQueryParameter(Param.LANG.getKey()));
  assertEquals(COUNTRY,htmlGadgetUri.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals("0",htmlGadgetUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals("0",htmlGadgetUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("0",htmlGadgetUri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals(prefVal,htmlGadgetUri.getFragmentParameter("up_" + prefKey));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,htmlGadgetUri.getQueryParameters().size());
  assertEquals(1,htmlGadgetUri.getFragmentParameters().size());
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals("http",urlGadgetUri.getScheme());
  assertEquals("example.com",urlGadgetUri.getAuthority());
  assertEquals("/gadget.xml",urlGadgetUri.getPath());
  assertNull(urlGadgetUri.getQueryParameter(Param.URL.getKey()));
  assertEquals(CONTAINER,urlGadgetUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(ANOTHER_VIEW,urlGadgetUri.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(LANG,urlGadgetUri.getQueryParameter(Param.LANG.getKey()));
  assertEquals(COUNTRY,urlGadgetUri.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals("0",urlGadgetUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals("0",urlGadgetUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("0",urlGadgetUri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals(prefVal,urlGadgetUri.getQueryParameter("up_" + prefKey));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS + 1,urlGadgetUri.getQueryParameters().size());
  assertEquals(0,urlGadgetUri.getFragmentParameters().size());
  assertFalse(manager.tokenForRenderingCalled());
  assertTrue(manager.schemeCalled());
  assertTrue(manager.addExtrasCalled());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void typeHtmlCajoled() throws Exception {
  String prefKey="prefKey";
  String prefVal="prefVal";
  Map<String,String> prefs=Maps.newHashMap();
  prefs.put(prefKey,prefVal);
  List<String> features=Lists.newArrayList();
  Gadget gadget=mockGadget(SPEC_URI.toString(),false,false,false,false,true,prefs,prefs,false,features);
  TestDefaultIframeUriManager manager=makeManager(false,false);
  Uri result=manager.makeRenderingUri(gadget);
  assertNotNull(result);
  UriBuilder uri=new UriBuilder(result);
  assertEquals("0",uri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals("1",uri.getQueryParameter(Param.CAJOLE.getKey()));
  assertEquals(prefVal,uri.getFragmentParameter("up_" + prefKey));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS + 1,uri.getQueryParameters().size());
  assertEquals(1,uri.getFragmentParameters().size());
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals("0",htmlGadgetUri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals("1",htmlGadgetUri.getQueryParameter(Param.CAJOLE.getKey()));
  assertEquals(prefVal,htmlGadgetUri.getFragmentParameter("up_" + prefKey));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS + 1,htmlGadgetUri.getQueryParameters().size());
  assertEquals(1,htmlGadgetUri.getFragmentParameters().size());
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals("0",urlGadgetUri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals("1",urlGadgetUri.getQueryParameter(Param.CAJOLE.getKey()));
  assertEquals(prefVal,urlGadgetUri.getQueryParameter("up_" + prefKey));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS + 2,urlGadgetUri.getQueryParameters().size());
  assertEquals(0,urlGadgetUri.getFragmentParameters().size());
  assertFalse(manager.tokenForRenderingCalled());
  assertTrue(manager.schemeCalled());
  assertTrue(manager.addExtrasCalled());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void typeUrlDefaultOptionsTpl() throws Exception {
  String gadgetSite="http://example.com/gadget";
  String prefKey="prefKey";
  String prefVal="prefVal";
  Map<String,String> prefs=Maps.newHashMap();
  prefs.put(prefKey,prefVal);
  List<String> features=Lists.newArrayList();
  Gadget gadget=mockGadget(gadgetSite,true,true,true,true,false,prefs,prefs,false,features);
  TestDefaultIframeUriManager managerTpl=makeManager(false,false);
  managerTpl.setTemplatingSignal(tplSignal(true));
  Uri resultTpl=managerTpl.makeRenderingUri(gadget);
  assertNotNull(resultTpl);
  UriBuilder uriTpl=new UriBuilder(resultTpl);
  assertEquals("http",uriTpl.getScheme());
  assertEquals("example.com",uriTpl.getAuthority());
  assertEquals("/gadget",uriTpl.getPath());
  assertEquals(CONTAINER,uriTpl.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals("",uriTpl.getQueryParameter(Param.LIBS.getKey()));
  assertEquals(tplKey(Param.VIEW.getKey()),uriTpl.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(tplKey(Param.LANG.getKey()),uriTpl.getQueryParameter(Param.LANG.getKey()));
  assertEquals(tplKey(Param.COUNTRY.getKey()),uriTpl.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals(tplKey(Param.DEBUG.getKey()),uriTpl.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(tplKey(Param.NO_CACHE.getKey()),uriTpl.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals(tplKey("up_" + prefKey),uriTpl.getFragmentParameter("up_" + prefKey));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS,uriTpl.getQueryParameters().size());
  assertEquals(1,uriTpl.getFragmentParameters().size());
  assertFalse(managerTpl.tokenForRenderingCalled());
  assertFalse(managerTpl.schemeCalled());
  assertTrue(managerTpl.addExtrasCalled());
  Map<String,Uri> uris=managerTpl.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals("http",urlGadgetUri.getScheme());
  assertEquals("example.com",urlGadgetUri.getAuthority());
  assertEquals("/gadget",urlGadgetUri.getPath());
  assertEquals(CONTAINER,urlGadgetUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals("",urlGadgetUri.getQueryParameter(Param.LIBS.getKey()));
  assertEquals(tplKey(Param.VIEW.getKey()),urlGadgetUri.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(tplKey(Param.LANG.getKey()),urlGadgetUri.getQueryParameter(Param.LANG.getKey()));
  assertEquals(tplKey(Param.COUNTRY.getKey()),urlGadgetUri.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals(tplKey(Param.DEBUG.getKey()),urlGadgetUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(tplKey(Param.NO_CACHE.getKey()),urlGadgetUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals(tplKey("up_" + prefKey),urlGadgetUri.getFragmentParameter("up_" + prefKey));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS,urlGadgetUri.getQueryParameters().size());
  assertEquals(1,urlGadgetUri.getFragmentParameters().size());
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals("",htmlGadgetUri.getScheme());
  assertEquals(UNLOCKED_DOMAIN,htmlGadgetUri.getAuthority());
  assertEquals(IFRAME_PATH,htmlGadgetUri.getPath());
  assertEquals(CONTAINER,htmlGadgetUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertNull(htmlGadgetUri.getQueryParameter(Param.LIBS.getKey()));
  assertEquals(tplKey(Param.VIEW.getKey()),htmlGadgetUri.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(tplKey(Param.LANG.getKey()),htmlGadgetUri.getQueryParameter(Param.LANG.getKey()));
  assertEquals(tplKey(Param.COUNTRY.getKey()),htmlGadgetUri.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals(tplKey(Param.DEBUG.getKey()),htmlGadgetUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(tplKey(Param.NO_CACHE.getKey()),htmlGadgetUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals(tplKey("up_" + prefKey),htmlGadgetUri.getQueryParameter("up_" + prefKey));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS + 1,htmlGadgetUri.getQueryParameters().size());
  assertEquals(0,htmlGadgetUri.getFragmentParameters().size());
  assertFalse(managerTpl.tokenForRenderingCalled());
  assertTrue(managerTpl.schemeCalled());
  assertTrue(managerTpl.addExtrasCalled());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void securityTokenAddedWhenForced() throws Exception {
  Gadget gadget=mockGadget("foo","bar");
  TestDefaultIframeUriManager manager=makeManager(true,false);
  manager.setTokenForRendering(false);
  Uri result=manager.makeRenderingUri(gadget);
  assertNotNull(result);
  UriBuilder uri=new UriBuilder(result);
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,uri.getQueryParameters().size());
  assertEquals(1,uri.getFragmentParameters().size());
  assertEquals(tplKey(Param.SECURITY_TOKEN.getKey()),uri.getFragmentParameter(Param.SECURITY_TOKEN.getKey()));
  assertTrue(manager.tokenForRenderingCalled());
  manager.setTokenForRendering(false);
  Map<String,Uri> uris=manager.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,htmlGadgetUri.getQueryParameters().size());
  assertEquals(1,htmlGadgetUri.getFragmentParameters().size());
  assertEquals(tplKey(Param.SECURITY_TOKEN.getKey()),htmlGadgetUri.getFragmentParameter(Param.SECURITY_TOKEN.getKey()));
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS,urlGadgetUri.getQueryParameters().size());
  assertEquals(1,urlGadgetUri.getFragmentParameters().size());
  assertEquals(tplKey(Param.SECURITY_TOKEN.getKey()),urlGadgetUri.getFragmentParameter(Param.SECURITY_TOKEN.getKey()));
  assertTrue(manager.tokenForRenderingCalled());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void typeHtmlBasicOptionsTpl() throws Exception {
  String prefKey="prefKey";
  String prefVal="prefVal";
  Map<String,String> prefs=Maps.newHashMap();
  prefs.put(prefKey,prefVal);
  List<String> features=Lists.newArrayList();
  Gadget gadget=mockGadget(SPEC_URI.toString(),false,false,false,false,false,prefs,prefs,false,features);
  TestDefaultIframeUriManager managerTpl=makeManager(false,false);
  managerTpl.setTemplatingSignal(tplSignal(true));
  Uri resultTpl=managerTpl.makeRenderingUri(gadget);
  assertNotNull(resultTpl);
  UriBuilder uriTpl=new UriBuilder(resultTpl);
  assertEquals("",uriTpl.getScheme());
  assertEquals(UNLOCKED_DOMAIN,uriTpl.getAuthority());
  assertEquals(IFRAME_PATH,uriTpl.getPath());
  assertEquals(SPEC_URI.toString(),uriTpl.getQueryParameter(Param.URL.getKey()));
  assertEquals(CONTAINER,uriTpl.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(tplKey(Param.VIEW.getKey()),uriTpl.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(tplKey(Param.LANG.getKey()),uriTpl.getQueryParameter(Param.LANG.getKey()));
  assertEquals(tplKey(Param.COUNTRY.getKey()),uriTpl.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals(tplKey(Param.DEBUG.getKey()),uriTpl.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(tplKey(Param.NO_CACHE.getKey()),uriTpl.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals(tplKey(Param.SANITIZE.getKey()),uriTpl.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals(tplKey("up_" + prefKey),uriTpl.getFragmentParameter("up_" + prefKey));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,uriTpl.getQueryParameters().size());
  assertEquals(1,uriTpl.getFragmentParameters().size());
  Map<String,Uri> uris=managerTpl.makeAllRenderingUris(gadget);
  assertNotNull(uris);
  UriBuilder htmlGadgetUri=new UriBuilder(uris.get(VIEW));
  assertEquals("",htmlGadgetUri.getScheme());
  assertEquals(UNLOCKED_DOMAIN,htmlGadgetUri.getAuthority());
  assertEquals(IFRAME_PATH,htmlGadgetUri.getPath());
  assertEquals(SPEC_URI.toString(),htmlGadgetUri.getQueryParameter(Param.URL.getKey()));
  assertEquals(CONTAINER,htmlGadgetUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(tplKey(Param.VIEW.getKey()),htmlGadgetUri.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(tplKey(Param.LANG.getKey()),htmlGadgetUri.getQueryParameter(Param.LANG.getKey()));
  assertEquals(tplKey(Param.COUNTRY.getKey()),htmlGadgetUri.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals(tplKey(Param.DEBUG.getKey()),htmlGadgetUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(tplKey(Param.NO_CACHE.getKey()),htmlGadgetUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals(tplKey(Param.SANITIZE.getKey()),htmlGadgetUri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals(tplKey("up_" + prefKey),htmlGadgetUri.getFragmentParameter("up_" + prefKey));
  assertEquals(TYPE_HTML_NUM_BASE_PARAMS,htmlGadgetUri.getQueryParameters().size());
  assertEquals(1,htmlGadgetUri.getFragmentParameters().size());
  UriBuilder urlGadgetUri=new UriBuilder(uris.get(ANOTHER_VIEW));
  assertEquals("http",urlGadgetUri.getScheme());
  assertEquals("example.com",urlGadgetUri.getAuthority());
  assertEquals("/gadget.xml",urlGadgetUri.getPath());
  assertNull(urlGadgetUri.getQueryParameter(Param.URL.getKey()));
  assertEquals(CONTAINER,urlGadgetUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(tplKey(Param.VIEW.getKey()),urlGadgetUri.getQueryParameter(Param.VIEW.getKey()));
  assertEquals(tplKey(Param.LANG.getKey()),urlGadgetUri.getQueryParameter(Param.LANG.getKey()));
  assertEquals(tplKey(Param.COUNTRY.getKey()),urlGadgetUri.getQueryParameter(Param.COUNTRY.getKey()));
  assertEquals(tplKey(Param.DEBUG.getKey()),urlGadgetUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(tplKey(Param.NO_CACHE.getKey()),urlGadgetUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals(tplKey(Param.SANITIZE.getKey()),urlGadgetUri.getQueryParameter(Param.SANITIZE.getKey()));
  assertEquals(tplKey("up_" + prefKey),urlGadgetUri.getQueryParameter("up_" + prefKey));
  assertEquals(TYPE_URL_NUM_BASE_PARAMS + 1,urlGadgetUri.getQueryParameters().size());
  assertEquals(0,urlGadgetUri.getFragmentParameters().size());
  assertFalse(managerTpl.tokenForRenderingCalled());
  assertTrue(managerTpl.schemeCalled());
  assertTrue(managerTpl.addExtrasCalled());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.uri.DefaultJsUriManagerTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void makeJsUriAddPathSlashVersioned(){
  ContainerConfig config=mockConfig("http://www.js.org","/gadgets/js");
  List<String> extern=Lists.newArrayList("feature");
  JsUri ctx=mockGadgetContext(false,false,extern);
  String version="verstring";
  Versioner versioner=this.mockVersioner(ctx,version,version);
  TestDefaultJsUriManager manager=makeManager(config,versioner);
  Uri jsUri=manager.makeExternJsUri(ctx);
  assertFalse(manager.hadError());
  assertEquals("http",jsUri.getScheme());
  assertEquals("www.js.org",jsUri.getAuthority());
  assertEquals("/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX,jsUri.getPath());
  assertEquals(CONTAINER,jsUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(version,jsUri.getQueryParameter(Param.VERSION.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(RenderingContext.GADGET.getParamValue(),jsUri.getQueryParameter(Param.CONTAINER_MODE.getKey()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processValidUnversionedNoVersioner() throws GadgetException {
  String targetHost="target-host.org";
  ContainerConfig config=mockConfig("http://" + targetHost,"/gadgets/js");
  List<String> extern=Lists.newArrayList("feature","another");
  String version="verstring";
  TestDefaultJsUriManager manager=makeManager(config,null);
  Uri testUri=Uri.parse("http://target-host.org/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX+ '?'+ Param.CONTAINER.getKey()+ '='+ CONTAINER+ '&'+ Param.VERSION.getKey()+ '='+ version);
  JsUri jsUri=manager.processExternJsUri(testUri);
  assertFalse(manager.hadError());
  assertEquals(jsUri.getStatus(),UriStatus.VALID_UNVERSIONED);
  assertCollectionEquals(jsUri.getLibs(),extern);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processValidVersioned() throws GadgetException {
  String targetHost="target-host.org";
  ContainerConfig config=mockConfig("http://" + targetHost,"/gadgets/js");
  List<String> extern=Lists.newArrayList("feature","another");
  String version="verstring";
  JsUri ctx=mockGadgetContext(false,false,extern);
  Versioner versioner=mockVersioner(ctx,version,version);
  TestDefaultJsUriManager manager=makeManager(config,versioner);
  Uri testUri=Uri.parse("http://target-host.org/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX+ '?'+ Param.CONTAINER.getKey()+ '='+ CONTAINER+ '&'+ Param.VERSION.getKey()+ '='+ version);
  JsUri jsUri=manager.processExternJsUri(testUri);
  assertFalse(manager.hadError());
  assertEquals(jsUri.getStatus(),UriStatus.VALID_VERSIONED);
  assertCollectionEquals(jsUri.getLibs(),extern);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processPathSuffixNoJs() throws GadgetException {
  String targetHost="target-host.org";
  ContainerConfig config=mockConfig("http://" + targetHost,"/gadgets/js");
  TestDefaultJsUriManager manager=makeManager(config,null);
  Uri testUri=Uri.parse("http://target-host.org/gadgets/js/feature:another?" + Param.CONTAINER.getKey() + '='+ CONTAINER);
  JsUri jsUri=manager.processExternJsUri(testUri);
  assertFalse(manager.hadError());
  assertEquals(jsUri.getStatus(),UriStatus.VALID_UNVERSIONED);
  List<String> extern=Lists.newArrayList("feature","another");
  assertCollectionEquals(jsUri.getLibs(),extern);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void makeJsUriWithVersionerNoVersionOnIgnoreCache(){
  ContainerConfig config=mockConfig("http://www.js.org","/gadgets/js");
  List<String> extern=Lists.newArrayList("feature");
  JsUri ctx=mockGadgetContext(true,false,extern);
  String version="verstring";
  Versioner versioner=this.mockVersioner(ctx,version,version);
  TestDefaultJsUriManager manager=makeManager(config,versioner);
  Uri jsUri=manager.makeExternJsUri(ctx);
  assertFalse(manager.hadError());
  assertEquals("http",jsUri.getScheme());
  assertEquals("www.js.org",jsUri.getAuthority());
  assertEquals("/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX,jsUri.getPath());
  assertEquals(CONTAINER,jsUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(null,jsUri.getQueryParameter(Param.VERSION.getKey()));
  assertEquals("1",jsUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(RenderingContext.GADGET.getParamValue(),jsUri.getQueryParameter(Param.CONTAINER_MODE.getKey()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processValidInvalidVersion() throws GadgetException {
  String targetHost="target-host.org";
  ContainerConfig config=mockConfig("http://" + targetHost,"/gadgets/js");
  List<String> extern=Lists.newArrayList("feature","another");
  String version="verstring";
  String badVersion=version + "-a";
  JsUri ctx=mockGadgetContext(false,false,extern);
  Versioner versioner=mockVersioner(ctx,version,badVersion);
  TestDefaultJsUriManager manager=makeManager(config,versioner);
  Uri testUri=Uri.parse("http://target-host.org/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX+ '?'+ Param.CONTAINER.getKey()+ '='+ CONTAINER+ '&'+ Param.VERSION.getKey()+ '='+ badVersion);
  JsUri jsUri=manager.processExternJsUri(testUri);
  assertFalse(manager.hadError());
  assertEquals(jsUri.getStatus(),UriStatus.INVALID_VERSION);
  assertCollectionEquals(jsUri.getLibs(),extern);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void makeJsUriWithContainerContext(){
  ContainerConfig config=mockConfig("http://www.js.org","/gadgets/js/");
  TestDefaultJsUriManager manager=makeManager(config,null);
  List<String> extern=Lists.newArrayList("feature","another");
  JsUri ctx=mockGadgetContext(false,false,extern,null,true,null,JsCompileMode.CONCAT_COMPILE_EXPORT_ALL,null);
  Uri jsUri=manager.makeExternJsUri(ctx);
  assertFalse(manager.hadError());
  assertEquals("http",jsUri.getScheme());
  assertEquals("www.js.org",jsUri.getAuthority());
  assertEquals("/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX,jsUri.getPath());
  assertEquals(CONTAINER,jsUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(JsCompileMode.CONCAT_COMPILE_EXPORT_ALL.getParamValue(),jsUri.getQueryParameter(Param.COMPILE_MODE.getKey()));
  assertEquals(RenderingContext.CONTAINER.getParamValue(),jsUri.getQueryParameter(Param.CONTAINER_MODE.getKey()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void makeJsUriWithLoadedLibraries() throws Exception {
  ContainerConfig config=mockConfig("http://www.js.org","/gadgets/js/");
  TestDefaultJsUriManager manager=makeManager(config,null);
  List<String> extern=Lists.newArrayList("feature","another");
  List<String> loaded=Lists.newArrayList("another","onemore");
  JsUri ctx=mockGadgetContext(false,false,extern,loaded);
  Uri jsUri=manager.makeExternJsUri(ctx);
  assertFalse(manager.hadError());
  assertEquals("http",jsUri.getScheme());
  assertEquals("www.js.org",jsUri.getAuthority());
  assertEquals("/gadgets/js/" + addJsLibs(extern) + "!"+ addJsLibs(loaded)+ JS_SUFFIX,jsUri.getPath());
  assertEquals(CONTAINER,jsUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(RenderingContext.GADGET.getParamValue(),jsUri.getQueryParameter(Param.CONTAINER_MODE.getKey()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void makeJsUriExtensionParams(){
  ContainerConfig config=mockConfig("http://www.js.org","/gadgets/js/");
  TestDefaultJsUriManager manager=makeManager(config,null);
  List<String> extern=Lists.newArrayList("feature");
  JsUri ctx=mockGadgetContext(false,false,extern,null,false,ImmutableMap.of("test","1"),null,"rep");
  Uri jsUri=manager.makeExternJsUri(ctx);
  assertFalse(manager.hadError());
  assertEquals("http",jsUri.getScheme());
  assertEquals("www.js.org",jsUri.getAuthority());
  assertEquals("/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX,jsUri.getPath());
  assertEquals(CONTAINER,jsUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals("1",jsUri.getQueryParameter("test"));
  assertEquals("rep",jsUri.getQueryParameter(Param.REPOSITORY_ID.getKey()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void processPathWithLoadedJs() throws GadgetException {
  ContainerConfig config=mockConfig("http://host","/gadgets/js");
  TestDefaultJsUriManager manager=makeManager(config,null);
  Uri testUri=Uri.parse("http://host/gadgets/js/feature:another!load1:load2.js?" + Param.LOADED.getKey() + "=load3:load4&"+ Param.CONTAINER.getKey()+ '='+ CONTAINER);
  JsUri jsUri=manager.processExternJsUri(testUri);
  assertFalse(manager.hadError());
  List<String> extern=Lists.newArrayList("feature","another");
  assertCollectionEquals(jsUri.getLibs(),extern);
  assertCollectionEquals(jsUri.getLoadedLibs(),Lists.newArrayList("load1","load2","load3","load4"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void makeAndProcessSymmetric() throws GadgetException {
  ContainerConfig config=mockConfig("http://www.js.org","/gadgets/js");
  List<String> extern=Lists.newArrayList("feature1","feature2","feature3");
  JsUri ctx=mockGadgetContext(false,false,extern);
  String version="verstring";
  Versioner versioner=mockVersioner(ctx,version,version);
  TestDefaultJsUriManager manager=makeManager(config,versioner);
  Uri jsUri=manager.makeExternJsUri(ctx);
  assertFalse(manager.hadError());
  assertEquals("http",jsUri.getScheme());
  assertEquals("www.js.org",jsUri.getAuthority());
  assertEquals("/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX,jsUri.getPath());
  assertEquals(CONTAINER,jsUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals(version,jsUri.getQueryParameter(Param.VERSION.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.DEBUG.getKey()));
  JsUri processed=manager.processExternJsUri(jsUri);
  assertEquals(UriStatus.VALID_VERSIONED,processed.getStatus());
  assertCollectionEquals(extern,processed.getLibs());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processPathWithEncodedSeparator() throws GadgetException {
  String targetHost="target-host.org";
  ContainerConfig config=mockConfig("http://" + targetHost,"/gadgets/js");
  TestDefaultJsUriManager manager=makeManager(config,null);
  Uri testUri=Uri.parse("http://target-host.org/gadgets/js/feature%3Aanother?" + Param.CONTAINER.getKey() + '='+ CONTAINER);
  JsUri jsUri=manager.processExternJsUri(testUri);
  assertFalse(manager.hadError());
  assertEquals(jsUri.getStatus(),UriStatus.VALID_UNVERSIONED);
  List<String> extern=Lists.newArrayList("feature","another");
  assertCollectionEquals(jsUri.getLibs(),extern);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processPathPrefixMismatch() throws GadgetException {
  String targetHost="target-host.org";
  ContainerConfig config=mockConfig("http://" + targetHost,"/gadgets/js");
  TestDefaultJsUriManager manager=makeManager(config,null);
  Uri testUri=Uri.parse("http://target-host.org/gadgets/other-js/feature" + JS_SUFFIX + '?'+ Param.CONTAINER.getKey()+ '='+ CONTAINER);
  JsUri jsUri=manager.processExternJsUri(testUri);
  assertFalse(manager.hadError());
  List<String> extern=Lists.newArrayList("feature");
  assertEquals(extern,jsUri.getLibs());
  List<String> loaded=Lists.newArrayList();
  assertEquals(loaded,jsUri.getLoadedLibs());
  assertEquals(CONTAINER,jsUri.getContainer());
  assertEquals(RenderingContext.GADGET,jsUri.getContext());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void processValidUnversionedNoParam() throws GadgetException {
  String targetHost="target-host.org";
  ContainerConfig config=mockConfig("http://" + targetHost,"/gadgets/js");
  List<String> extern=Lists.newArrayList("feature","another");
  String version="verstring";
  JsUri ctx=mockGadgetContext(false,false,extern);
  Versioner versioner=mockVersioner(ctx,version,version);
  TestDefaultJsUriManager manager=makeManager(config,versioner);
  Uri testUri=Uri.parse("http://target-host.org/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX+ '?'+ Param.CONTAINER.getKey()+ '='+ CONTAINER);
  JsUri jsUri=manager.processExternJsUri(testUri);
  assertFalse(manager.hadError());
  assertEquals(jsUri.getStatus(),UriStatus.VALID_UNVERSIONED);
  assertCollectionEquals(jsUri.getLibs(),extern);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void makeJsUriAddPathSlashNoVersion(){
  ContainerConfig config=mockConfig("http://www.js.org","/gadgets/js");
  TestDefaultJsUriManager manager=makeManager(config,null);
  List<String> extern=Lists.newArrayList("feature");
  JsUri ctx=mockGadgetContext(false,false,extern);
  Uri jsUri=manager.makeExternJsUri(ctx);
  assertFalse(manager.hadError());
  assertEquals("http",jsUri.getScheme());
  assertEquals("www.js.org",jsUri.getAuthority());
  assertEquals("/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX,jsUri.getPath());
  assertEquals(CONTAINER,jsUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.CONTAINER_MODE.getKey()));
  assertNull(jsUri.getQueryParameters(Param.REPOSITORY_ID.getKey()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void makeJsUriNoPathSlashNoVersion(){
  ContainerConfig config=mockConfig("http://www.js.org","/gadgets/js/");
  TestDefaultJsUriManager manager=makeManager(config,null);
  List<String> extern=Lists.newArrayList("feature");
  JsUri ctx=mockGadgetContext(false,false,extern);
  Uri jsUri=manager.makeExternJsUri(ctx);
  assertFalse(manager.hadError());
  assertEquals("http",jsUri.getScheme());
  assertEquals("www.js.org",jsUri.getAuthority());
  assertEquals("/gadgets/js/" + addJsLibs(extern) + JS_SUFFIX,jsUri.getPath());
  assertEquals(CONTAINER,jsUri.getQueryParameter(Param.CONTAINER.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.NO_CACHE.getKey()));
  assertEquals("0",jsUri.getQueryParameter(Param.DEBUG.getKey()));
  assertEquals(RenderingContext.GADGET.getParamValue(),jsUri.getQueryParameter(Param.CONTAINER_MODE.getKey()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.uri.DefaultJsVersionerTest </h4><pre class="type-9 type-5 type-6 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void versionDifferentForDifferentFeatures(){
  String feature1="feature1";
  String feature2="feature2";
  expectReq(feature1,"content1");
  expectReq(feature2,"content2");
  replay(registry);
  Collection<String> libs1=Lists.newArrayList(feature1);
  JsUri jsUri1=new JsUri(UriStatus.VALID_UNVERSIONED,null,libs1,null);
  String version1=versioner.version(jsUri1);
  Collection<String> libs2=Lists.newArrayList(feature2);
  JsUri jsUri2=new JsUri(UriStatus.VALID_UNVERSIONED,null,libs2,null);
  String version2=versioner.version(jsUri2);
  assertNotNull(version1);
  assertNotNull(version2);
  assertFalse(version1.equals(version2));
  verify(registry);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.gadgets.uri.JsUriManagerTest </h4><pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void newJsUriWithEmptyOriginalUri() throws Exception {
  JsUriManager.JsUri jsUri=new JsUriManager.JsUri(STATUS,null,Collections.<String>emptyList(),null);
  assertEquals(RenderingContext.GADGET,jsUri.getContext());
  assertEquals(ContainerConfig.DEFAULT_CONTAINER,jsUri.getContainer());
  assertEquals(JsCompileMode.COMPILE_CONCAT,jsUri.getCompileMode());
  assertFalse(jsUri.isJsload());
  assertFalse(jsUri.isNoCache());
  assertFalse(jsUri.isNohint());
  assertNull(jsUri.getOnload());
  assertTrue(jsUri.getLibs().isEmpty());
  assertTrue(jsUri.getLoadedLibs().isEmpty());
  assertNull(jsUri.getOrigUri());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void newJsUriWithConfiguredGadgetContext() throws Exception {
  Uri uri=newTestUriBuilder(RenderingContext.CONFIGURED_GADGET,JsCompileMode.CONCAT_COMPILE_EXPORT_ALL).toUri();
  JsUriManager.JsUri jsUri=new JsUriManager.JsUri(STATUS,uri,LIBS,HAVE);
  assertEquals(RenderingContext.CONFIGURED_GADGET,jsUri.getContext());
  assertEquals(JsCompileMode.CONCAT_COMPILE_EXPORT_ALL,jsUri.getCompileMode());
  assertEquals(CONTAINER_VALUE,jsUri.getContainer());
  assertTrue(jsUri.isJsload());
  assertTrue(jsUri.isNoCache());
  assertTrue(jsUri.isNohint());
  assertEquals(ONLOAD_VALUE,jsUri.getOnload());
  assertEquals(LIBS,Lists.newArrayList(jsUri.getLibs()));
  assertEquals(HAVE,Lists.newArrayList(jsUri.getLoadedLibs()));
  assertEquals(uri,jsUri.getOrigUri());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void newJsUriWithOriginalUri() throws Exception {
  Uri uri=newTestUriBuilder(RenderingContext.CONTAINER,JsCompileMode.CONCAT_COMPILE_EXPORT_ALL).toUri();
  JsUriManager.JsUri jsUri=new JsUriManager.JsUri(STATUS,uri,LIBS,HAVE);
  assertEquals(RenderingContext.CONTAINER,jsUri.getContext());
  assertEquals(JsCompileMode.CONCAT_COMPILE_EXPORT_ALL,jsUri.getCompileMode());
  assertEquals(CONTAINER_VALUE,jsUri.getContainer());
  assertTrue(jsUri.isJsload());
  assertTrue(jsUri.isNoCache());
  assertTrue(jsUri.isNohint());
  assertEquals(ONLOAD_VALUE,jsUri.getOnload());
  assertEquals(LIBS,Lists.newArrayList(jsUri.getLibs()));
  assertEquals(HAVE,Lists.newArrayList(jsUri.getLoadedLibs()));
  assertEquals(uri,jsUri.getOrigUri());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.protocol.BaseRequestItemTest </h4><pre class="type-7 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetParameters() throws Exception {
  request.setParameter("anykey","{name: 'Bob', id: '1234'}");
  Map<String,Object> params=request.getParameters();
  assertEquals(1,params.size());
  assertTrue(params.containsKey("anykey"));
  try {
    params.put("this","is bad");
    fail("Params should be immutable");
  }
 catch (  UnsupportedOperationException e) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.protocol.JsonRpcServletTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Test that "request" field undergoes contentType check, and error is thrown if wrong content
 * type is present.
 */
@Test public void testPostMultipartFormDataRequestFieldIsSubjectedToContentTypeCheck() throws Exception {
  reset(multipartFormParser);
  handler.setMock(new TestHandler(){
    @Override public Object get(    RequestItem req){
      FormDataItem item=req.getFormMimePart(IMAGE_FIELDNAME);
      return ImmutableMap.of("image-data",item.get(),"image-type",item.getContentType(),"image-ref",req.getParameter("image-ref"));
    }
  }
);
  expect(req.getMethod()).andStubReturn("POST");
  expect(req.getAttribute(isA(String.class))).andReturn(FAKE_GADGET_TOKEN);
  expect(req.getCharacterEncoding()).andStubReturn("UTF-8");
  expect(req.getContentType()).andStubReturn(ContentTypes.MULTIPART_FORM_CONTENT_TYPE);
  res.setCharacterEncoding("UTF-8");
  res.setContentType(ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  List<FormDataItem> formItems=Lists.newArrayList();
  String request="{method:'test.get',id:'id',params:" + "{userId:5,groupId:'@self',image-ref:'@" + IMAGE_FIELDNAME + "'}}";
  formItems.add(mockFormDataItem(IMAGE_FIELDNAME,IMAGE_TYPE,IMAGE_DATA_BYTES,false));
  formItems.add(mockFormDataItem("request","application/octet-stream",request.getBytes(),true));
  expect(multipartFormParser.isMultipartContent(req)).andReturn(true);
  expect(multipartFormParser.parse(req)).andReturn(formItems);
  expect(res.getWriter()).andReturn(writer);
  expectLastCall();
  mockControl.replay();
  servlet.service(req,res);
  mockControl.verify();
  String output=getOutput();
  assertTrue(output.contains("Unsupported Content-Type application/octet-stream"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.protocol.conversion.BeanFilterTest </h4><pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testProcessFields(){
  Set<String> srcFields=ImmutableSet.of("A","b","c.d.e.f","Case","cAse","CASE");
  Set<String> newFields=beanFilter.processBeanFields(srcFields);
  assertEquals(7,newFields.size());
  assertTrue(newFields.contains("a"));
  assertTrue(newFields.contains("b"));
  assertTrue(newFields.contains("c"));
  assertTrue(newFields.contains("c.d"));
  assertTrue(newFields.contains("c.d.e"));
  assertTrue(newFields.contains("c.d.e.f"));
  assertTrue(newFields.contains("case"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testListFields(){
  List<String> fields=beanFilter.getBeanFields(SimpleBeanInterface.class,3);
  assertTrue(fields.contains("Map"));
  assertTrue(fields.contains("I"));
  assertTrue(fields.contains("S"));
  assertTrue(fields.contains("Style"));
  assertTrue(fields.contains("List"));
  assertTrue(fields.contains("BeanList.List"));
  assertTrue(fields.contains("Map"));
  assertTrue(fields.contains("BeanMap.List"));
  assertTrue(fields.contains("BeanMap.BeanMap.BeanMap"));
  assertFalse(fields.contains("BeanMap.BeanMap.BeanMap.BeanMap"));
  assertEquals(77,fields.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.protocol.conversion.BeanJsonConverterTest </h4><pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testEmptyExtendableBean() throws Exception {
  String emptyMap="{}";
  ExtendableTestObject data=beanJsonConverter.convertToObject(emptyMap,ExtendableTestObject.class);
  assertTrue(data.isEmpty());
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testEmptyJsonMap() throws Exception {
  String emptyMap="{}";
  Map<String,String> data=beanJsonConverter.convertToObject(emptyMap,new TypeLiteral<Map<String,String>>(){
  }
.getType());
  assertTrue(data.isEmpty());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.protocol.multipart.DefaultMultipartFormParserTest </h4><pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSingleRequest() throws Exception {
  MultipartFormBuilder builder=new MultipartFormBuilder();
  builder.addFormField(REQUEST_FIELDNAME,REQUEST_DATA);
  setupRequest(builder.build(),builder.getContentType());
  List<FormDataItem> formItems=Lists.newArrayList(multipartFormParser.parse(request));
  assertEquals(1,formItems.size());
  FormDataItem formItem=formItems.get(0);
  assertTrue(formItem.isFormField());
  assertEquals(REQUEST_FIELDNAME,formItem.getFieldName());
  assertEquals(REQUEST_DATA,new String(formItem.get()));
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Test that requests must be both POST and have a multipart
 * content type.
 */
@Test public void testIsMultipartContent(){
  FakeHttpServletRequest request=new FakeHttpServletRequest();
  request.setMethod("GET");
  assertFalse(multipartFormParser.isMultipartContent(request));
  request.setMethod("POST");
  assertFalse(multipartFormParser.isMultipartContent(request));
  request.setContentType("multipart/form-data");
  assertTrue(multipartFormParser.isMultipartContent(request));
  request.setMethod("GET");
  assertFalse(multipartFormParser.isMultipartContent(request));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultipleFileItemAndRequest() throws Exception {
  MultipartFormBuilder builder=new MultipartFormBuilder();
  builder.addFileItem(ALBUM_IMAGE_FIELDNAME,ALBUM_IMAGE_FILENAME,ALBUM_IMAGE_DATA,ALBUM_IMAGE_TYPE);
  builder.addFormField(REQUEST_FIELDNAME,REQUEST_DATA);
  builder.addFileItem(PROFILE_IMAGE_FIELDNAME,PROFILE_IMAGE_FILENAME,PROFILE_IMAGE_DATA,PROFILE_IMAGE_TYPE);
  setupRequest(builder.build(),builder.getContentType());
  List<FormDataItem> formItems=Lists.newArrayList(multipartFormParser.parse(request));
  assertEquals(3,formItems.size());
  FormDataItem formItem=formItems.get(0);
  assertFalse(formItem.isFormField());
  assertEquals(ALBUM_IMAGE_FIELDNAME,formItem.getFieldName());
  assertEquals(ALBUM_IMAGE_FILENAME,formItem.getName());
  assertEquals(ALBUM_IMAGE_TYPE,formItem.getContentType());
  assertEquals(ALBUM_IMAGE_DATA,new String(formItem.get()));
  formItem=formItems.get(1);
  assertTrue(formItem.isFormField());
  assertEquals(REQUEST_FIELDNAME,formItem.getFieldName());
  assertEquals(REQUEST_DATA,new String(formItem.get()));
  formItem=formItems.get(2);
  assertFalse(formItem.isFormField());
  assertEquals(PROFILE_IMAGE_FIELDNAME,formItem.getFieldName());
  assertEquals(PROFILE_IMAGE_FILENAME,formItem.getName());
  assertEquals(PROFILE_IMAGE_TYPE,formItem.getContentType());
  assertEquals(PROFILE_IMAGE_DATA,new String(formItem.get()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSingleFileItem() throws Exception {
  MultipartFormBuilder builder=new MultipartFormBuilder();
  builder.addFileItem(ALBUM_IMAGE_FIELDNAME,ALBUM_IMAGE_FILENAME,ALBUM_IMAGE_DATA,ALBUM_IMAGE_TYPE);
  setupRequest(builder.build(),builder.getContentType());
  List<FormDataItem> formItems=Lists.newArrayList(multipartFormParser.parse(request));
  assertEquals(1,formItems.size());
  FormDataItem formItem=formItems.get(0);
  assertFalse(formItem.isFormField());
  assertEquals(ALBUM_IMAGE_FIELDNAME,formItem.getFieldName());
  assertEquals(ALBUM_IMAGE_FILENAME,formItem.getName());
  assertEquals(ALBUM_IMAGE_TYPE,formItem.getContentType());
  assertEquals(ALBUM_IMAGE_DATA,new String(formItem.get()));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSingleFileItemAndRequest() throws Exception {
  MultipartFormBuilder builder=new MultipartFormBuilder();
  builder.addFileItem(ALBUM_IMAGE_FIELDNAME,ALBUM_IMAGE_FILENAME,ALBUM_IMAGE_DATA,ALBUM_IMAGE_TYPE);
  builder.addFormField(REQUEST_FIELDNAME,REQUEST_DATA);
  setupRequest(builder.build(),builder.getContentType());
  List<FormDataItem> formItems=Lists.newArrayList(multipartFormParser.parse(request));
  assertEquals(2,formItems.size());
  FormDataItem formItem=formItems.get(0);
  assertFalse(formItem.isFormField());
  assertEquals(ALBUM_IMAGE_FIELDNAME,formItem.getFieldName());
  assertEquals(ALBUM_IMAGE_FILENAME,formItem.getName());
  assertEquals(ALBUM_IMAGE_TYPE,formItem.getContentType());
  assertEquals(ALBUM_IMAGE_DATA,new String(formItem.get()));
  formItem=formItems.get(1);
  assertTrue(formItem.isFormField());
  assertEquals(REQUEST_FIELDNAME,formItem.getFieldName());
  assertEquals(REQUEST_DATA,new String(formItem.get()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.server.endtoend.EndToEndTest </h4><pre class="type-9 type-11 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPipelining() throws Exception {
  HtmlPage page=executePageTest("pipeliningTest",null);
  String text=page.asText();
  String title=page.getTitleText();
  assertEquals("EndToEndTest",title);
  JSONArray array=new JSONArray(text.substring(title.length(),text.length()));
  assertEquals(3,array.length());
  Map<String,JSONObject> jsonObjects=Maps.newHashMap();
  for (int i=0; i < array.length(); i++) {
    JSONObject jsonObj=array.getJSONObject(i);
    assertTrue(jsonObj.has("id"));
    jsonObjects.put(jsonObj.getString("id"),jsonObj);
  }
  JSONObject me=jsonObjects.get("me").getJSONObject("result");
  assertEquals("Digg",me.getJSONObject("name").getString("familyName"));
  JSONObject json=jsonObjects.get("json").getJSONObject("result");
  JSONObject expected=new JSONObject("{content: {key: 'value'}, status: 200}");
  JsonAssert.assertJsonObjectEquals(expected,json);
  JsonAssert.assertObjectEquals("{id: 'var', result: 'value'}",jsonObjects.get("var"));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTemplateLibrary() throws Exception {
  HtmlPage page=executeAllPageTests("templateLibrary");
  String pageXml=page.asXml();
  assertTrue(pageXml.replaceAll("[\n\r ]","").contains("p{color:red}"));
  Node paragraph=page.getElementsByTagName("p").item(0);
  assertEquals("Hello world",paragraph.getTextContent().trim());
}

</code></pre>

<br>
<pre class="type-15 type-17 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verify that the Javascript completed running.  This ensures that
 * logic errors or exceptions don't get treated as success.
 */
@After public void verifyTestsFinished(){
  String testMethod=null;
  for (  String alert : alertHandler.getCollectedAlerts()) {
    if (testMethod == null) {
      assertFalse("Test method omitted - '" + alert + '"',"FINISHED".equals(alert));
      testMethod=alert;
    }
 else {
      assertEquals("test method " + testMethod + " did not finish","FINISHED",alert);
      testMethod=null;
    }
  }
  assertNull("test method " + testMethod + " did not finish",testMethod);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.core.oauth.OAuth2AuthCodeFlowTest </h4><pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Incorrect client ID used in Basic Authorization header
 * @throws Exception
 */
@Test public void testGetAccessTokenConfClientBasicAuthBadID() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","client_id=" + CONF_CLIENT_ID + "&grant_type=authorization_code&redirect_uri="+ URLEncoder.encode(REDIRECT_URI,"UTF-8")+ "&code="+ CONF_AUTH_CODE);
  req.setHeader("Authorization","Basic " + Base64.encodeBase64String(("BAD_ID:" + CONF_CLIENT_SECRET).getBytes("UTF-8")));
  req.setMethod("POST");
  req.setServletPath("/oauth2");
  req.setPathInfo("/access_token");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  resp.setStatus(HttpServletResponse.SC_FORBIDDEN);
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  String response=new String(outputStream.getBuffer(),"UTF-8");
  assertTrue(response == null || response.equals(""));
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Test retrieving an authorization code using a confidential client
 * Client authentication is not required for confidential clients accessing
 * the authorization endpoint
 * @throws Exception
 */
@Test public void testGetAuthorizationCodeConfidential() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","client_id=" + CONF_CLIENT_ID + "&response_type=code&client_secret="+ CONF_CLIENT_SECRET+ "redirect_uri="+ URLEncoder.encode(REDIRECT_URI,"UTF-8"));
  req.setMethod("GET");
  req.setServletPath("/oauth2");
  req.setPathInfo("/authorize");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  Capture<String> redirectURI=new Capture<String>();
  resp.setHeader(EasyMock.eq("Location"),EasyMock.capture(redirectURI));
  resp.setStatus(HttpServletResponse.SC_FOUND);
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  String response=new String(outputStream.getBuffer(),"UTF-8");
  assertTrue(response == null || response.equals(""));
  verify();
  assertTrue(redirectURI.getValue().startsWith(REDIRECT_URI + "?code="));
  String code=redirectURI.getValue().substring(redirectURI.getValue().indexOf("=") + 1);
  UUID id=UUID.fromString(code);
  assertTrue(id != null);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Test retrieving an authorization code using a confidential client without
 * setting redirect URI
 * The redirect URI is registered with this client, so omitting it should
 * still generate a response using the registered redirect URI.
 * @throws Exception
 */
@Test public void testGetAuthorizationCodeNoRedirect() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","client_id=" + CONF_CLIENT_ID + "&response_type=code");
  req.setMethod("GET");
  req.setServletPath("/oauth2");
  req.setPathInfo("/authorize");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  Capture<String> redirectURI=new Capture<String>();
  resp.setHeader(EasyMock.eq("Location"),EasyMock.capture(redirectURI));
  resp.setStatus(302);
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  String response=new String(outputStream.getBuffer(),"UTF-8");
  assertTrue(response == null || response.equals(""));
  verify();
  assertTrue(redirectURI.getValue().startsWith(REDIRECT_URI + "?code="));
  String code=redirectURI.getValue().substring(redirectURI.getValue().indexOf("=") + 1);
  UUID id=UUID.fromString(code);
  assertTrue(id != null);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test retrieving an auth code and using it to generate an access token
 * @throws Exception
 */
@Test public void testConfidentialAuthCodeFlow() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","client_id=" + CONF_CLIENT_ID + "&client_secret="+ CONF_CLIENT_SECRET+ "&response_type=code&redirect_uri="+ URLEncoder.encode(REDIRECT_URI,"UTF-8"));
  req.setMethod("GET");
  req.setServletPath("/oauth2");
  req.setPathInfo("/authorize");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  Capture<String> redirectURI=new Capture<String>();
  resp.setHeader(EasyMock.eq("Location"),EasyMock.capture(redirectURI));
  resp.setStatus(EasyMock.eq(HttpServletResponse.SC_FOUND));
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  String response=new String(outputStream.getBuffer(),"UTF-8");
  assertTrue(response == null || response.equals(""));
  verify();
  assertTrue(redirectURI.getValue().startsWith(REDIRECT_URI + "?code="));
  String code=redirectURI.getValue().substring(redirectURI.getValue().indexOf("=") + 1);
  UUID id=UUID.fromString(code);
  assertTrue(id != null);
  reset();
  req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","client_id=" + CONF_CLIENT_ID + "&grant_type=authorization_code&redirect_uri="+ URLEncoder.encode(REDIRECT_URI,"UTF-8")+ "&code="+ code+ "&client_secret="+ CONF_CLIENT_SECRET);
  req.setMethod("POST");
  req.setServletPath("/oauth2");
  req.setPathInfo("/access_token");
  resp=mock(HttpServletResponse.class);
  resp.setStatus(HttpServletResponse.SC_OK);
  outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  JSONObject tokenResponse=new JSONObject(new String(outputStream.getBuffer(),"UTF-8"));
  assertEquals("bearer",tokenResponse.getString("token_type"));
  assertNotNull(tokenResponse.getString("access_token"));
  assertTrue(tokenResponse.getLong("expires_in") > 0);
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test using URL parameter to pass client secret to authenticate client
 * @throws Exception
 */
@Test public void testGetAccessTokenConfidentialClientParams() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","client_id=" + CONF_CLIENT_ID + "&grant_type=authorization_code&redirect_uri="+ URLEncoder.encode(REDIRECT_URI,"UTF-8")+ "&code="+ CONF_AUTH_CODE+ "&client_secret="+ CONF_CLIENT_SECRET);
  req.setMethod("POST");
  req.setServletPath("/oauth2");
  req.setPathInfo("/access_token");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  resp.setStatus(HttpServletResponse.SC_OK);
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  JSONObject tokenResponse=new JSONObject(new String(outputStream.getBuffer(),"UTF-8"));
  assertEquals("bearer",tokenResponse.getString("token_type"));
  assertNotNull(tokenResponse.getString("access_token"));
  assertTrue(tokenResponse.getLong("expires_in") > 0);
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test using basic authentication scheme for client authentication
 * @throws Exception
 */
@Test public void testGetAccessTokenConfidentialClientBasicAuth() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","client_id=" + CONF_CLIENT_ID + "&grant_type=authorization_code&redirect_uri="+ URLEncoder.encode(REDIRECT_URI,"UTF-8")+ "&code="+ CONF_AUTH_CODE);
  req.setHeader("Authorization","Basic " + Base64.encodeBase64String((CONF_CLIENT_ID + ":" + CONF_CLIENT_SECRET).getBytes("UTF-8")));
  req.setMethod("POST");
  req.setServletPath("/oauth2");
  req.setPathInfo("/access_token");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  resp.setStatus(HttpServletResponse.SC_OK);
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  JSONObject tokenResponse=new JSONObject(new String(outputStream.getBuffer(),"UTF-8"));
  assertEquals("bearer",tokenResponse.getString("token_type"));
  assertNotNull(tokenResponse.getString("access_token"));
  assertTrue(tokenResponse.getLong("expires_in") > 0);
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Test retrieving an authorization code using a public client that preserves
 * state
 * @throws Exception
 */
@Test public void testGetAuthorizationCodePreserveState() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","client_id=" + PUBLIC_CLIENT_ID + "&response_type=code&state=PRESERVEME&redirect_uri="+ URLEncoder.encode(PUBLIC_REDIRECT_URI,"UTF-8"));
  req.setMethod("GET");
  req.setServletPath("/oauth2");
  req.setPathInfo("/authorize");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  Capture<String> redirectURI=new Capture<String>();
  resp.setHeader(EasyMock.eq("Location"),EasyMock.capture(redirectURI));
  resp.setStatus(EasyMock.eq(HttpServletResponse.SC_FOUND));
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  String response=new String(outputStream.getBuffer(),"UTF-8");
  assertTrue(response == null || response.equals(""));
  verify();
  assertTrue(redirectURI.getValue().startsWith(PUBLIC_REDIRECT_URI));
  URI uri=new URI(redirectURI.getValue());
  assertTrue(uri.getQuery().contains("state=PRESERVEME"));
  assertTrue(uri.getQuery().contains("code="));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Test retrieving an authorization code using a public client
 * @throws Exception
 */
@Test public void testGetAuthorizationCode() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080/oauth2");
  req.setContentType("application/x-www-form-urlencoded");
  req.setPostData("client_id=" + PUBLIC_CLIENT_ID + "&response_type=code&redirect_uri="+ URLEncoder.encode(PUBLIC_REDIRECT_URI,"UTF-8"),"UTF-8");
  req.setMethod("GET");
  req.setServletPath("/oauth2");
  req.setPathInfo("/authorize");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  Capture<String> redirectURI=new Capture<String>();
  resp.setHeader(EasyMock.eq("Location"),EasyMock.capture(redirectURI));
  resp.setStatus(EasyMock.eq(HttpServletResponse.SC_FOUND));
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  String response=new String(outputStream.getBuffer(),"UTF-8");
  assertTrue(response == null || response.equals(""));
  verify();
  assertTrue(redirectURI.getValue().startsWith(PUBLIC_REDIRECT_URI + "?code="));
  String code=redirectURI.getValue().substring(redirectURI.getValue().indexOf("=") + 1);
  UUID id=UUID.fromString(code);
  assertTrue(id != null);
}

</code></pre>

<br>
<pre class="type-9 type-7 type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test attempting to re-use an authorization code to get a new access token.
 */
@Test public void testReuseAuthorizationCode() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","client_id=" + CONF_CLIENT_ID + "&client_secret="+ CONF_CLIENT_SECRET+ "&response_type=code&redirect_uri="+ URLEncoder.encode(REDIRECT_URI,"UTF-8"));
  req.setMethod("GET");
  req.setServletPath("/oauth2");
  req.setPathInfo("/authorize");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  Capture<String> redirectURI=new Capture<String>();
  resp.setHeader(EasyMock.eq("Location"),EasyMock.capture(redirectURI));
  resp.setStatus(EasyMock.eq(HttpServletResponse.SC_FOUND));
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  String response=new String(outputStream.getBuffer(),"UTF-8");
  assertTrue(response == null || response.equals(""));
  verify();
  assertTrue(redirectURI.getValue().startsWith(REDIRECT_URI + "?code="));
  String code=redirectURI.getValue().substring(redirectURI.getValue().indexOf("=") + 1);
  UUID id=UUID.fromString(code);
  assertTrue(id != null);
  System.out.println("Retrieved authorization code: " + code);
  reset();
  req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","client_id=" + CONF_CLIENT_ID + "&grant_type=authorization_code&redirect_uri="+ URLEncoder.encode(REDIRECT_URI,"UTF-8")+ "&code="+ code+ "&client_secret="+ CONF_CLIENT_SECRET);
  req.setMethod("POST");
  req.setServletPath("/oauth2");
  req.setPathInfo("/access_token");
  resp=mock(HttpServletResponse.class);
  resp.setStatus(HttpServletResponse.SC_OK);
  outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  JSONObject tokenResponse=new JSONObject(new String(outputStream.getBuffer(),"UTF-8"));
  assertEquals("bearer",tokenResponse.getString("token_type"));
  assertNotNull(tokenResponse.getString("access_token"));
  assertTrue(tokenResponse.getLong("expires_in") > 0);
  verify();
  String accessToken=tokenResponse.getString("access_token");
  System.out.println("Retrieved access token: " + accessToken);
  reset();
  OAuth2AuthenticationHandler handler=injector.getInstance(OAuth2AuthenticationHandler.class);
  req=new FakeHttpServletRequest("http://localhost:8080","/social/rest/activitystreams/john.doe/@self/1/object1","access_token=" + accessToken);
  req.setMethod("GET");
  SecurityToken token=handler.getSecurityTokenFromRequest(req);
  assertNotNull(token);
  reset();
  req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","client_id=" + CONF_CLIENT_ID + "&grant_type=authorization_code&redirect_uri="+ URLEncoder.encode(REDIRECT_URI,"UTF-8")+ "&code="+ code+ "&client_secret="+ CONF_CLIENT_SECRET);
  req.setMethod("POST");
  req.setServletPath("/oauth2");
  req.setPathInfo("/access_token");
  resp=mock(HttpServletResponse.class);
  resp.setStatus(HttpServletResponse.SC_FORBIDDEN);
  outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  tokenResponse=new JSONObject(new String(outputStream.getBuffer(),"UTF-8"));
  System.out.println("Rejection response: " + tokenResponse.toString());
  assertEquals("invalid_grant",tokenResponse.getString("error"));
  verify();
  req=new FakeHttpServletRequest("http://localhost:8080","/social/rest/activitystreams/john.doe/@self/1/object1","access_token=" + accessToken);
  req.setMethod("GET");
  try {
    handler.getSecurityTokenFromRequest(req);
  }
 catch (  InvalidAuthenticationException ist) {
    return;
  }
  fail("Should have thrown InvalidAuthenticationException");
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test retrieving an access token using a public client
 * @throws Exception
 */
@Test public void testGetAccessToken() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080/oauth2");
  req.setContentType("application/x-www-form-urlencoded");
  req.setPostData("client_id=" + PUBLIC_CLIENT_ID + "&grant_type=authorization_code&redirect_uri="+ URLEncoder.encode(PUBLIC_REDIRECT_URI,"UTF-8")+ "&code="+ PUBLIC_AUTH_CODE,"UTF-8");
  req.setMethod("POST");
  req.setServletPath("/oauth2");
  req.setPathInfo("/access_token");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  resp.setStatus(HttpServletResponse.SC_OK);
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  JSONObject tokenResponse=new JSONObject(new String(outputStream.getBuffer(),"UTF-8"));
  assertEquals("bearer",tokenResponse.getString("token_type"));
  assertNotNull(tokenResponse.getString("access_token"));
  assertTrue(tokenResponse.getLong("expires_in") > 0);
  verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.core.oauth.OAuth2ClientCredentialFlowTest </h4><pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test using basic authentication scheme for client cred flow
 * @throws Exception
 */
@Test public void testClientCredFlowBasicAuth() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","grant_type=client_credentials");
  req.setHeader("Authorization","Basic " + Base64.encodeBase64String((CLIENT_CRED_CLIENT + ":" + CLIENT_CRED_SECRET).getBytes("UTF-8")));
  req.setMethod("POST");
  req.setServletPath("/oauth2");
  req.setPathInfo("/access_token");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  resp.setStatus(HttpServletResponse.SC_OK);
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  JSONObject tokenResponse=new JSONObject(new String(outputStream.getBuffer(),"UTF-8"));
  assertEquals("bearer",tokenResponse.getString("token_type"));
  assertNotNull(tokenResponse.getString("access_token"));
  assertTrue(tokenResponse.getLong("expires_in") > 0);
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test using URL parameter with client cred flow
 * @throws Exception
 */
@Test public void testClientCredFlowParams() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","client_id=" + CLIENT_CRED_CLIENT + "&grant_type=client_credentials&client_secret="+ CLIENT_CRED_SECRET);
  req.setMethod("POST");
  req.setServletPath("/oauth2");
  req.setPathInfo("/access_token");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  resp.setStatus(HttpServletResponse.SC_OK);
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  JSONObject tokenResponse=new JSONObject(new String(outputStream.getBuffer(),"UTF-8"));
  assertEquals("bearer",tokenResponse.getString("token_type"));
  assertNotNull(tokenResponse.getString("access_token"));
  assertTrue(tokenResponse.getLong("expires_in") > 0);
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Test using basic authentication scheme for client cred flow
 * @throws Exception
 */
@Test public void testClientCredFlowBadPass() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","grant_type=client_credentials");
  req.setHeader("Authorization","Basic " + Base64.encodeBase64String((CLIENT_CRED_CLIENT + ":badsecret").getBytes("UTF-8")));
  req.setMethod("POST");
  req.setServletPath("/oauth2");
  req.setPathInfo("/access_token");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  resp.setStatus(EasyMock.eq(HttpServletResponse.SC_BAD_REQUEST));
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  String response=new String(outputStream.getBuffer(),"UTF-8");
  JSONObject respObj=new JSONObject(response);
  assertTrue(respObj.has("error"));
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Test using basic authentication scheme for client cred flow
 * @throws Exception
 */
@Test public void testClientCredFlowBadHeader() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080","/oauth2","grant_type=client_credentials");
  req.setHeader("Authorization","Basic *^%#");
  req.setMethod("POST");
  req.setServletPath("/oauth2");
  req.setPathInfo("/access_token");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  resp.setStatus(EasyMock.eq(HttpServletResponse.SC_BAD_REQUEST));
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  String response=new String(outputStream.getBuffer(),"UTF-8");
  JSONObject respObj=new JSONObject(response);
  assertTrue(respObj.has("error"));
  verify();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.core.oauth.OAuth2ImplicitFlowTest </h4><pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Test retrieving an access token using a public client with redirect uri
 * @throws Exception
 */
@Test public void testGetAccessTokenNoRedirectParam() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080/oauth2");
  req.setContentType("application/x-www-form-urlencoded");
  req.setPostData("client_id=" + IMPLICIT_CLIENT_ID + "&response_type=token","UTF-8");
  req.setMethod("GET");
  req.setServletPath("/oauth2");
  req.setPathInfo("/authorize");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  Capture<String> redirectURI=new Capture<String>();
  resp.setHeader(EasyMock.eq("Location"),EasyMock.capture(redirectURI));
  resp.setStatus(HttpServletResponse.SC_FOUND);
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  String fragment=UriBuilder.parse(redirectURI.getValue()).getFragment();
  assertTrue(redirectURI.getValue().startsWith(REDIRECT_URI));
  assertTrue(fragment.contains("token_type=bearer"));
  assertTrue(fragment.contains("access_token="));
  assertTrue(fragment.contains("expires_in="));
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Test retrieving an access token using a public client with a redirect uri
 * @throws Exception
 */
@Test public void testGetAccessTokenWithRedirectParamAndState() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080/oauth2");
  req.setContentType("application/x-www-form-urlencoded");
  req.setPostData("client_id=" + IMPLICIT_CLIENT_ID + "&response_type=token&state=PRESERVEME&redirect_uri="+ URLEncoder.encode(REDIRECT_URI,"UTF-8"),"UTF-8");
  req.setMethod("GET");
  req.setServletPath("/oauth2");
  req.setPathInfo("/authorize");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  Capture<String> redirectURI=new Capture<String>();
  resp.setHeader(EasyMock.eq("Location"),EasyMock.capture(redirectURI));
  resp.setStatus(HttpServletResponse.SC_FOUND);
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  String fragment=UriBuilder.parse(redirectURI.getValue()).getFragment();
  assertTrue(redirectURI.getValue().startsWith(REDIRECT_URI));
  assertTrue(fragment.contains("token_type=bearer"));
  assertTrue(fragment.contains("access_token="));
  assertTrue(fragment.contains("expires_in="));
  assertTrue(fragment.contains("state=PRESERVEME"));
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Test attempting to retrieve an access token using a bad client id
 * @throws Exception
 */
@Test public void testGetAccessTokenWithBadClientID() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080/oauth2");
  req.setContentType("application/x-www-form-urlencoded");
  req.setPostData("client_id=BAD-ID&response_type=token&redirect_uri=" + URLEncoder.encode(REDIRECT_URI,"UTF-8"),"UTF-8");
  req.setMethod("GET");
  req.setServletPath("/oauth2");
  req.setPathInfo("/authorize");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  resp.setStatus(EasyMock.eq(HttpServletResponse.SC_FORBIDDEN));
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  verify();
  String response=new String(outputStream.getBuffer(),"UTF-8");
  JSONObject respObj=new JSONObject(response);
  assertTrue(respObj.has("error"));
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Test attempting to retrieve an access token using a bad redirect URI
 * @throws Exception
 */
@Test public void testGetAccessTokenWithBadRedirect() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest("http://localhost:8080/oauth2");
  req.setContentType("application/x-www-form-urlencoded");
  req.setPostData("client_id=" + IMPLICIT_CLIENT_ID + "&response_type=token&redirect_uri="+ URLEncoder.encode("BAD_REDIRECT","UTF-8"),"UTF-8");
  req.setMethod("GET");
  req.setServletPath("/oauth2");
  req.setPathInfo("/authorize");
  HttpServletResponse resp=mock(HttpServletResponse.class);
  resp.setStatus(EasyMock.eq(HttpServletResponse.SC_FORBIDDEN));
  MockServletOutputStream outputStream=new MockServletOutputStream();
  EasyMock.expect(resp.getOutputStream()).andReturn(outputStream).anyTimes();
  PrintWriter writer=new PrintWriter(outputStream);
  EasyMock.expect(resp.getWriter()).andReturn(writer).anyTimes();
  replay();
  servlet.service(req,resp);
  writer.flush();
  verify();
  String response=new String(outputStream.getBuffer(),"UTF-8");
  JSONObject respObj=new JSONObject(response);
  assertTrue(respObj.has("error"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.core.oauth.OAuthAuthenticationHanderTest </h4><pre class="type-5 type-6 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testVerifyConsumerRequest() throws Exception {
  expectConsumer();
  expectSecurityToken();
  replay();
  HttpServletRequest request=formEncodedPost.sign(null,FakeOAuthRequest.OAuthParamLocation.URI_QUERY,FakeOAuthRequest.BodySigning.NONE);
  SecurityToken token=reqHandler.getSecurityTokenFromRequest(request);
  assertNotNull(token);
  assertFalse(token instanceof OAuthSecurityToken);
  verify();
}

</code></pre>

<br>
<pre class="type-5 type-6 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testVerifyOAuthRequest() throws Exception {
  expectTokenEntry();
  expectConsumer();
  replay();
  HttpServletRequest request=formEncodedPost.sign(TOKEN,FakeOAuthRequest.OAuthParamLocation.URI_QUERY,FakeOAuthRequest.BodySigning.NONE);
  SecurityToken token=reqHandler.getSecurityTokenFromRequest(request);
  assertEquals(FakeOAuthRequest.REQUESTOR,token.getViewerId());
  assertEquals(APP_ID,token.getAppId());
  assertEquals(DOMAIN,token.getDomain());
  assertEquals(CONTAINER,token.getContainer());
  assertNotNull(token);
  assertTrue(token instanceof OAuthSecurityToken);
  verify();
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStashBody() throws Exception {
  FakeHttpServletRequest req=new FakeHttpServletRequest();
  String body="BODY";
  req.setPostData(CharsetUtil.getUtf8Bytes(body));
  byte[] bytes=OAuthAuthenticationHandler.readBody(req);
  assertTrue(Arrays.equals(bytes,CharsetUtil.getUtf8Bytes(body)));
  assertEquals(req.getAttribute(AuthenticationHandler.STASHED_BODY),bytes);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.dataservice.integration.RestfulAtomActivityEntryTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetActivityEntryAtomByIds() throws Exception {
  String resp=getResponse("/activitystreams/john.doe/@self/1/activity1,activity2","GET","atom",ContentTypes.OUTPUT_ATOM_CONTENT_TYPE);
  String expected=TestUtils.loadTestFixture(FIXTURE_LOC + "ActivityEntryAtomIds.xml");
  assertTrue(TestUtils.xmlsEqual(expected,resp));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetActivityEntryAtomById() throws Exception {
  String resp=getResponse("/activitystreams/john.doe/@self/1/activity2","GET","atom",ContentTypes.OUTPUT_ATOM_CONTENT_TYPE);
  String expected=TestUtils.loadTestFixture(FIXTURE_LOC + "ActivityEntryAtomId.xml");
  assertTrue(TestUtils.xmlsEqual(expected,resp));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.dataservice.integration.RestfulJsonActivityEntryTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testDeleteActivityEntryJson() throws Exception {
  getResponse("/activitystreams/john.doe/@self/1/activity1","DELETE",null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  String resp=getResponse("/activitystreams/john.doe/@self/1","GET",null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  String expected=TestUtils.loadTestFixture(FIXTURE_LOC + "ActivityEntryJsonDelete.json");
  assertTrue(TestUtils.jsonsEqual(expected,resp));
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testCreateActivityEntryJson() throws Exception {
  String expected=TestUtils.loadTestFixture(FIXTURE_LOC + "ActivityEntryJsonCreated.json");
  String postData="{id: 'activityCreated', title : 'Super Created Activity', actor: {id: 'john.doe'}, object : {id: 'objectCreated'}}";
  String postResp=getResponse("/activitystreams/john.doe/@self/1","POST",postData,null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  assertTrue(TestUtils.jsonsEqual(expected,postResp));
  String getResp=getResponse("/activitystreams/john.doe/@self/1/activityCreated","GET",null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  assertTrue(TestUtils.jsonsEqual(expected,getResp));
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testActivityEntryExtensionJson() throws Exception {
  String expected=TestUtils.loadTestFixture(FIXTURE_LOC + "ActivityEntryJsonExtension.json");
  String postData="{extension1: 'extension1Value', id: 'activityCreated', title : 'Super Created Activity', actor: {id: 'john.doe', extension2: 'extension2Value'}, object : {extension3: [{ext1: 'ext1Value'}], id: 'objectCreated'}}";
  String postResp=getResponse("/activitystreams/john.doe/@self/1","POST",postData,null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  assertTrue(TestUtils.jsonsEqual(expected,postResp));
  String getResp=getResponse("/activitystreams/john.doe/@self/1/activityCreated","GET",null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  assertTrue(TestUtils.jsonsEqual(expected,getResp));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetActivityEntryJsonById() throws Exception {
  String resp=getResponse("/activitystreams/john.doe/@self/1/activity1","GET",null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  String expected=TestUtils.loadTestFixture(FIXTURE_LOC + "ActivityEntryJsonId.json");
  assertTrue(TestUtils.jsonsEqual(expected,resp));
}

</code></pre>

<br>
<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testUpdateActivityEntryJson() throws Exception {
  String expected=TestUtils.loadTestFixture(FIXTURE_LOC + "ActivityEntryJsonUpdated.json");
  String postData="{id: 'activity2', title : 'Super Updated Activity', actor: {id: 'john.doe'}, object : {id: 'object2'}}";
  String putResp=getResponse("/activitystreams/john.doe/@self/1/activity2","PUT",postData,null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  assertTrue(TestUtils.jsonsEqual(expected,putResp));
  String getResp=getResponse("/activitystreams/john.doe/@self/1/activity2","GET",null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  assertTrue(TestUtils.jsonsEqual(expected,getResp));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetActivityEntryJsonByGroup() throws Exception {
  String expected=TestUtils.loadTestFixture(FIXTURE_LOC + "ActivityEntryJsonGroup.json");
  String resp=getResponse("/activitystreams/john.doe/@self/1","GET",null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  assertTrue(TestUtils.jsonsEqual(expected,resp));
  resp=getResponse("/activitystreams/jane.doe,canonical/@friends","GET",null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  assertTrue(TestUtils.jsonsEqual(expected,resp));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetActivityEntryJsonByIds() throws Exception {
  String resp=getResponse("/activitystreams/john.doe/@self/1/activity1,activity2","GET",null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  String expected=TestUtils.loadTestFixture(FIXTURE_LOC + "ActivityEntryJsonIds.json");
  assertTrue(TestUtils.jsonsEqual(expected,resp));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetActivityEntrySupportedFields() throws Exception {
  String resp=getResponse("/activitystreams/@supportedFields","GET",null,ContentTypes.OUTPUT_JSON_CONTENT_TYPE);
  String expected=TestUtils.loadTestFixture(FIXTURE_LOC + "ActivityStreamsSupportedFields.json");
  assertTrue(TestUtils.jsonsEqual(expected,resp));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.dataservice.integration.RestfulXmlActivityEntryTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetActivityEntryXmlByIds() throws Exception {
  String resp=getResponse("/activitystreams/john.doe/@self/1/activity1,activity2","GET","xml",ContentTypes.OUTPUT_XML_CONTENT_TYPE);
  String expected=TestUtils.loadTestFixture(FIXTURE_LOC + "ActivityEntryXmlIds.xml");
  assertTrue(TestUtils.xmlsEqual(expected,resp));
}

</code></pre>

<br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetActivityEntryXmlById() throws Exception {
  String resp=getResponse("/activitystreams/john.doe/@self/1/activity2","GET","xml",ContentTypes.OUTPUT_XML_CONTENT_TYPE);
  String expected=TestUtils.loadTestFixture(FIXTURE_LOC + "ActivityEntryXmlId.xml");
  assertTrue(TestUtils.xmlsEqual(expected,resp));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.dataservice.integration.RestfulXmlDataTest </h4><pre class="type-9 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Expected response for app data in json:
 * { "entry" : { "john.doe" : {"count" : "0"}, } }
 * @throws Exceptionif test encounters an error
 */
@Test public void testGetSelfAppDataJsonWithKey() throws Exception {
  Map<String,String> extraParams=Maps.newHashMap();
  extraParams.put("fields","count");
  String resp=getResponse("/appdata/john.doe/@self/app","GET",extraParams,"xml","application/xml");
  XSDValidator.validateOpenSocial(resp);
  NodeList result=xp.getMatchingNodes("/:appdata/:entry",XMLUnit.buildTestDocument(resp));
  Map<String,Map<String,List<String>>> v=childNodesToMapofMap(result);
  assertEquals(1,v.size());
  assertTrue(v.containsKey("john.doe"));
  assertEquals(1,v.get("john.doe").size());
  assertEquals("0",v.get("john.doe").get("count").get(0));
}

</code></pre>

<br>
<pre class="type-9 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Expected response for app data in json with non-existant key: TODO: Double
 * check this output with the spec
 * { "entry" : { "john.doe" : {}, } }
 * @throws Exceptionif test encounters an error
 */
@Test public void testGetSelfAppDataJsonWithInvalidKeys() throws Exception {
  Map<String,String> extraParams=Maps.newHashMap();
  extraParams.put("fields","peabody");
  String resp=getResponse("/appdata/john.doe/@self/app","GET",extraParams,"xml","application/xml");
  XSDValidator.validateOpenSocial(resp);
  NodeList result=xp.getMatchingNodes("/:appdata/:entry",XMLUnit.buildTestDocument(resp));
  Map<String,Map<String,List<String>>> v=childNodesToMapofMap(result);
  assertEquals(1,v.size());
  assertTrue(v.containsKey("john.doe"));
  assertEquals(0,v.get("john.doe").size());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Expected response for app data in json:
 * {
 * "entry" : {
 * "jane.doe" : {"count" : "7"},
 * "george.doe" : {"count" : "2"},
 * "maija.m" : {}, // TODO: Should this entry really be included if she
 * doesn't have any data? } }
 * s
 * @throws Exceptionif test encounters an error
 */
@Test public void testGetFriendsAppDataJson() throws Exception {
  Map<String,String> extraParams=ImmutableMap.of("fields","count");
  String resp=getResponse("/appdata/john.doe/@friends/app","GET",extraParams,"xml","application/xml");
  XSDValidator.validateOpenSocial(resp);
  NodeList result=xp.getMatchingNodes("/:appdata/:entry",XMLUnit.buildTestDocument(resp));
  assertEquals(3,result.getLength());
  Map<String,Map<String,List<String>>> v=childNodesToMapofMap(result);
  assertEquals(3,v.size());
  assertTrue(v.containsKey("jane.doe"));
  assertTrue(v.containsKey("george.doe"));
  assertTrue(v.containsKey("maija.m"));
  assertEquals(1,v.get("jane.doe").size());
  assertEquals(1,v.get("george.doe").size());
  assertEquals(0,v.get("maija.m").size());
  assertEquals("7",v.get("jane.doe").get("count").get(0));
  assertEquals("2",v.get("george.doe").get("count").get(0));
}

</code></pre>

<br>
<pre class="type-9 type-6 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Expected response for app data in json:
 * { "entry" : {
 * "john.doe" : {"count" : "0"}, } }
 * @throws Exceptionif test encounters an error
 */
@Test public void testGetSelfAppDataJson() throws Exception {
  Map<String,String> extraParams=Maps.newHashMap();
  extraParams.put("fields",null);
  String resp=getResponse("/appdata/john.doe/@self/app","GET",extraParams,"xml","application/xml");
  XSDValidator.validateOpenSocial(resp);
  NodeList result=xp.getMatchingNodes("/:appdata/:entry",XMLUnit.buildTestDocument(resp));
  Map<String,Map<String,List<String>>> v=childNodesToMapofMap(result);
  assertEquals(1,v.size());
  assertTrue(v.containsKey("john.doe"));
  assertEquals(1,v.get("john.doe").size());
  assertEquals("0",v.get("john.doe").get("count").get(0));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.opensocial.service.ResponseItemTest </h4><pre class="type-5 type-6 type-12 type-1 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEquals(){
  ResponseItem responseItem=new ResponseItem(HttpServletResponse.SC_BAD_REQUEST,"message1");
  ResponseItem responseItemSame=new ResponseItem(HttpServletResponse.SC_BAD_REQUEST,"message1");
  ResponseItem responseItemDifferent=new ResponseItem(HttpServletResponse.SC_FORBIDDEN,"message2");
  ResponseItem simpleResponse=new ResponseItem("simple");
  ResponseItem simpleResponseSame=new ResponseItem("simple");
  ResponseItem simpleResponseDifferent=new ResponseItem("simpleDiffernt");
  assertEquals(responseItem.hashCode(),responseItemSame.hashCode());
  assertEquals(responseItem,responseItem);
  assertEquals(responseItem,responseItemSame);
  assertNotEquals(responseItem.hashCode(),responseItemDifferent.hashCode());
  assertFalse(responseItem.equals(responseItemDifferent));
  assertNotNull(responseItem);
  assertNotEquals(responseItem,"A String");
  assertEquals(simpleResponse.hashCode(),simpleResponseSame.hashCode());
  assertEquals(simpleResponse,simpleResponse);
  assertEquals(simpleResponse,simpleResponseSame);
  assertNotSame(simpleResponse.hashCode(),simpleResponseDifferent.hashCode());
  assertFalse(simpleResponse.equals(simpleResponseDifferent));
  assertNotNull(simpleResponse);
  assertNotEquals(simpleResponse,"A String");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.opensocial.spi.DomainNameTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testDomainName() throws Exception {
  DomainName d1=new DomainName("");
  assertTrue(d1 instanceof DomainName);
  DomainName d2=new DomainName("localhost");
  assertTrue(d2 instanceof DomainName);
  DomainName d3=new DomainName("example.com");
  assertTrue(d3 instanceof DomainName);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.opensocial.spi.GlobalIdTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGlobalId() throws Exception {
  DomainName dn=new DomainName("example.com");
  LocalId lid=new LocalId("195mg90a39v");
  GlobalId g1=new GlobalId(dn,lid);
  assertTrue(g1 instanceof GlobalId);
  GlobalId g2=new GlobalId("example.com:195mg90a39v");
  assertTrue(g2 instanceof GlobalId);
  GlobalId g3=new GlobalId("example.com","195mg90a39v");
  assertTrue(g3 instanceof GlobalId);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.opensocial.spi.LocalIdTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testLocalId() throws Exception {
  LocalId l1=new LocalId("");
  assertTrue(l1 instanceof LocalId);
  LocalId l2=new LocalId("195mg90a39v");
  assertTrue(l2 instanceof LocalId);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.opensocial.spi.ObjectIdTest </h4><pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testObjectId() throws Exception {
  LocalId lid=new LocalId("195mg90a39v");
  GlobalId gid=new GlobalId("example.com:195mg90a39v");
  ObjectId o1=new ObjectId(lid);
  assertTrue(o1 instanceof ObjectId);
  ObjectId o2=new ObjectId(gid);
  assertTrue(o2 instanceof ObjectId);
  ObjectId o3=new ObjectId("195mg90a39v");
  assertTrue(o3 instanceof ObjectId);
  assertTrue(o3.getObjectId() instanceof LocalId);
  ObjectId o4=new ObjectId("example.com:195mg90a39v");
  assertTrue(o4 instanceof ObjectId);
  assertTrue(o4.getObjectId() instanceof GlobalId);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.shindig.social.sample.spi.JsonDbOpensocialServiceTest </h4><pre class="type-9 type-5 type-6 type-12 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetExpectedAppData() throws Exception {
  DataCollection responseItem=db.getPersonData(ImmutableSet.of(CANON_USER),SELF_GROUP,APP_ID,Collections.<String>emptySet(),new FakeGadgetToken()).get();
  assertFalse(responseItem.getEntry().isEmpty());
  assertFalse(responseItem.getEntry().get(CANONICAL_USER_ID).isEmpty());
  assertSame(2,responseItem.getEntry().get(CANONICAL_USER_ID).size());
  assertTrue(responseItem.getEntry().get(CANONICAL_USER_ID).containsKey("count"));
  assertTrue(responseItem.getEntry().get(CANONICAL_USER_ID).containsKey("size"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetExpectedAppDataForPlural() throws Exception {
  DataCollection responseItem=db.getPersonData(ImmutableSet.of(CANON_USER,JOHN_DOE),SELF_GROUP,APP_ID,Collections.<String>emptySet(),new FakeGadgetToken()).get();
  assertFalse(responseItem.getEntry().isEmpty());
  assertFalse(responseItem.getEntry().get(CANONICAL_USER_ID).isEmpty());
  assertSame(2,responseItem.getEntry().get(CANONICAL_USER_ID).size());
  assertTrue(responseItem.getEntry().get(CANONICAL_USER_ID).containsKey("count"));
  assertTrue(responseItem.getEntry().get(CANONICAL_USER_ID).containsKey("size"));
  assertFalse(responseItem.getEntry().get(JOHN_DOE.getUserId()).isEmpty());
  assertSame(1,responseItem.getEntry().get(JOHN_DOE.getUserId()).size());
  assertTrue(responseItem.getEntry().get(JOHN_DOE.getUserId()).containsKey("count"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeleteExpectedAppData() throws Exception {
  db.deletePersonData(CANON_USER,SELF_GROUP,APP_ID,ImmutableSet.of("count"),new FakeGadgetToken());
  DataCollection responseItem=db.getPersonData(ImmutableSet.of(CANON_USER),SELF_GROUP,APP_ID,Collections.<String>emptySet(),new FakeGadgetToken()).get();
  assertFalse(responseItem.getEntry().isEmpty());
  assertFalse(responseItem.getEntry().get(CANONICAL_USER_ID).isEmpty());
  assertSame(1,responseItem.getEntry().get(CANONICAL_USER_ID).size());
  assertFalse(responseItem.getEntry().get(CANONICAL_USER_ID).containsKey("count"));
  assertTrue(responseItem.getEntry().get(CANONICAL_USER_ID).containsKey("size"));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-6 type-12 type-1 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateExpectedAppData() throws Exception {
  db.updatePersonData(CANON_USER,SELF_GROUP,APP_ID,null,ImmutableMap.of("count",(Object)"10","newvalue",(Object)"20","isValid",new Boolean(true)),new FakeGadgetToken());
  DataCollection responseItem=db.getPersonData(ImmutableSet.of(CANON_USER),SELF_GROUP,APP_ID,Collections.<String>emptySet(),new FakeGadgetToken()).get();
  assertFalse(responseItem.getEntry().isEmpty());
  assertFalse(responseItem.getEntry().get(CANONICAL_USER_ID).isEmpty());
  assertSame(4,responseItem.getEntry().get(CANONICAL_USER_ID).size());
  assertTrue(responseItem.getEntry().get(CANONICAL_USER_ID).containsKey("count"));
  assertEquals("10",responseItem.getEntry().get(CANONICAL_USER_ID).get("count"));
  assertTrue(responseItem.getEntry().get(CANONICAL_USER_ID).containsKey("newvalue"));
  assertEquals("20",responseItem.getEntry().get(CANONICAL_USER_ID).get("newvalue"));
  assertTrue(responseItem.getEntry().get(CANONICAL_USER_ID).containsKey("isValid"));
  assertEquals(true,Boolean.valueOf(responseItem.getEntry().get(CANONICAL_USER_ID).get("isValid").toString()));
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
